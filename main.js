/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/ui/view/AnnotationModal.ts
var AnnotationModal_exports = {};
__export(AnnotationModal_exports, {
  AnnotationModal: () => AnnotationModal,
  FileAnnotationModal: () => FileAnnotationModal
});
var import_obsidian15, AnnotationModal, FileAnnotationModal;
var init_AnnotationModal = __esm({
  "src/ui/view/AnnotationModal.ts"() {
    import_obsidian15 = require("obsidian");
    AnnotationModal = class extends import_obsidian15.Modal {
      constructor(app, plugin, contentUnit, onSave) {
        super(app);
        this.plugin = plugin;
        this.annotationText = "";
        this.badgeText = "";
        this.badgeColor = "#5B9BD5";
        this.contentUnit = contentUnit;
        this.onSave = onSave;
        this.existingAnnotation = this.plugin.annotationManager.getContentAnnotation(
          contentUnit.id
        );
        if (this.existingAnnotation) {
          this.annotationText = this.existingAnnotation.content;
          if (this.existingAnnotation.badge) {
            this.badgeText = this.existingAnnotation.badge.text;
            this.badgeColor = this.existingAnnotation.badge.color;
          }
        }
      }
      onOpen() {
        const { contentEl } = this;
        contentEl.addClass("annotation-modal");
        contentEl.createEl("h2", {
          text: this.existingAnnotation ? "Edit Annotation" : "Add Annotation"
        });
        const contentPreview = contentEl.createDiv({ cls: "annotation-content-preview" });
        contentPreview.createEl("h3", { text: "Content:" });
        contentPreview.createEl("blockquote", { text: this.contentUnit.content });
        new import_obsidian15.Setting(contentEl).setName("Annotation").setDesc("Add your notes or comments about this content").addTextArea((text) => {
          text.setPlaceholder("Enter your annotation here...").setValue(this.annotationText).onChange((value) => {
            this.annotationText = value;
          });
          text.inputEl.rows = 6;
          text.inputEl.style.width = "100%";
        });
        contentEl.createEl("h3", { text: "Badge (Optional)" });
        new import_obsidian15.Setting(contentEl).setName("Badge text").setDesc('Short text to display as a badge (e.g., \u201CImportant\u201D, \u201CTo Review\u201D")').addText(
          (text) => text.setPlaceholder("Badge text").setValue(this.badgeText).onChange((value) => {
            this.badgeText = value;
            this.updateBadgePreview();
          })
        );
        new import_obsidian15.Setting(contentEl).setName("Badge color").setDesc("Choose a color for the badge").addDropdown((dropdown) => {
          dropdown.addOption("#5B9BD5", "\u{1F535} Blue").addOption("#70AD47", "\u{1F7E2} Green").addOption("#FFC000", "\u{1F7E1} Yellow").addOption("#FF6B6B", "\u{1F534} Red").addOption("#C78BFF", "\u{1F7E3} Purple").addOption("#FF9F43", "\u{1F7E0} Orange").setValue(this.badgeColor).onChange((value) => {
            this.badgeColor = value;
            this.updateBadgePreview();
          });
        });
        const badgePreview = contentEl.createDiv({ cls: "badge-preview-container" });
        badgePreview.createEl("span", { text: "Preview: ", cls: "preview-label" });
        const badgeEl = badgePreview.createEl("span", { cls: "badge-preview" });
        this.badgePreviewEl = badgeEl;
        this.updateBadgePreview();
        const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
        if (this.existingAnnotation) {
          const deleteBtn = buttonContainer.createEl("button", {
            text: "Delete",
            cls: "mod-warning"
          });
          deleteBtn.addEventListener("click", async () => {
            await this.deleteAnnotation();
          });
        }
        const cancelBtn = buttonContainer.createEl("button", { text: "Cancel" });
        cancelBtn.addEventListener("click", () => {
          this.close();
        });
        const saveBtn = buttonContainer.createEl("button", {
          text: "Save",
          cls: "mod-cta"
        });
        saveBtn.addEventListener("click", async () => {
          await this.saveAnnotation();
        });
        this.addStyles();
      }
      updateBadgePreview() {
        if (!this.badgePreviewEl)
          return;
        if (this.badgeText) {
          this.badgePreviewEl.textContent = this.badgeText;
          this.badgePreviewEl.style.backgroundColor = this.badgeColor;
          this.badgePreviewEl.style.display = "inline-block";
        } else {
          this.badgePreviewEl.textContent = "No badge";
          this.badgePreviewEl.style.backgroundColor = "transparent";
          this.badgePreviewEl.style.color = "var(--text-muted)";
        }
      }
      async saveAnnotation() {
        if (!this.annotationText.trim()) {
          new import_obsidian15.Notice("Please enter annotation text");
          return;
        }
        try {
          let annotation;
          if (this.existingAnnotation) {
            await this.plugin.annotationManager.updateAnnotation(
              this.existingAnnotation.id,
              {
                content: this.annotationText,
                badge: this.badgeText ? {
                  text: this.badgeText,
                  color: this.badgeColor
                } : void 0
              }
            );
            annotation = this.plugin.annotationManager.getAnnotation(
              this.existingAnnotation.id
            );
            new import_obsidian15.Notice("Annotation updated");
          } else {
            annotation = await this.plugin.annotationManager.addContentAnnotation(
              this.contentUnit.id,
              this.annotationText,
              this.badgeText ? {
                text: this.badgeText,
                color: this.badgeColor
              } : void 0
            );
            new import_obsidian15.Notice("Annotation added");
          }
          this.onSave(annotation);
          this.close();
        } catch (error) {
          console.error("Error saving annotation:", error);
          new import_obsidian15.Notice("Error saving annotation");
        }
      }
      async deleteAnnotation() {
        if (!this.existingAnnotation)
          return;
        try {
          await this.plugin.annotationManager.deleteAnnotation(
            this.existingAnnotation.id
          );
          new import_obsidian15.Notice("Annotation deleted");
          this.close();
          this.onSave(null);
        } catch (error) {
          console.error("Error deleting annotation:", error);
          new import_obsidian15.Notice("Error deleting annotation");
        }
      }
      addStyles() {
        const styleEl = document.createElement("style");
        styleEl.textContent = `
      .annotation-modal {
        padding: 20px;
      }

      .annotation-content-preview {
        margin: 20px 0;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 6px;
      }

      .annotation-content-preview h3 {
        margin-top: 0;
        margin-bottom: 10px;
        font-size: 0.9em;
        color: var(--text-muted);
      }

      .annotation-content-preview blockquote {
        margin: 0;
        padding: 10px;
        border-left: 3px solid var(--interactive-accent);
        background: var(--background-primary);
        border-radius: 4px;
      }

      .badge-preview-container {
        margin: 10px 0;
        padding: 10px;
        background: var(--background-secondary);
        border-radius: 4px;
      }

      .preview-label {
        color: var(--text-muted);
        margin-right: 10px;
      }

      .badge-preview {
        padding: 4px 10px;
        border-radius: 12px;
        color: white;
        font-size: 0.85em;
        font-weight: 500;
      }

      .modal-button-container {
        display: flex;
        gap: 10px;
        justify-content: flex-end;
        margin-top: 20px;
      }

      .modal-button-container button {
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
      }
    `;
        document.head.appendChild(styleEl);
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    };
    FileAnnotationModal = class extends import_obsidian15.Modal {
      constructor(app, plugin, filePath, onSave) {
        super(app);
        this.plugin = plugin;
        this.existingAnnotations = [];
        this.annotationText = "";
        this.filePath = filePath;
        this.onSave = onSave;
        this.existingAnnotations = this.plugin.annotationManager.getFileAnnotations(filePath);
      }
      onOpen() {
        var _a;
        const { contentEl } = this;
        contentEl.createEl("h2", { text: "File Annotations" });
        const fileName = ((_a = this.filePath.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || this.filePath;
        contentEl.createEl("p", {
          text: `File: ${fileName}`,
          cls: "file-name"
        });
        if (this.existingAnnotations.length > 0) {
          const existingSection = contentEl.createDiv({ cls: "existing-annotations" });
          existingSection.createEl("h3", { text: "Existing Annotations" });
          this.existingAnnotations.forEach((annotation) => {
            const annotationCard = existingSection.createDiv({ cls: "annotation-card" });
            annotationCard.createEl("p", { text: annotation.content });
            const date = new Date(annotation.metadata.createdAt).toLocaleDateString();
            annotationCard.createEl("small", {
              text: `Created: ${date}`,
              cls: "annotation-date"
            });
            const deleteBtn = annotationCard.createEl("button", {
              text: "\u{1F5D1} Delete",
              cls: "delete-annotation-btn"
            });
            deleteBtn.addEventListener("click", async () => {
              await this.deleteAnnotation(annotation.id);
              this.close();
              this.onSave();
            });
          });
        }
        contentEl.createEl("h3", { text: "Add New Annotation" });
        new import_obsidian15.Setting(contentEl).setName("Annotation").setDesc("Add notes about this file").addTextArea((text) => {
          text.setPlaceholder("Enter file annotation...").setValue(this.annotationText).onChange((value) => {
            this.annotationText = value;
          });
          text.inputEl.rows = 4;
          text.inputEl.style.width = "100%";
        });
        const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
        const cancelBtn = buttonContainer.createEl("button", { text: "Cancel" });
        cancelBtn.addEventListener("click", () => {
          this.close();
        });
        const saveBtn = buttonContainer.createEl("button", {
          text: "Save",
          cls: "mod-cta"
        });
        saveBtn.addEventListener("click", async () => {
          await this.saveAnnotation();
        });
      }
      async saveAnnotation() {
        if (!this.annotationText.trim()) {
          new import_obsidian15.Notice("Please enter annotation text");
          return;
        }
        try {
          await this.plugin.annotationManager.addFileAnnotation(
            this.filePath,
            this.annotationText
          );
          new import_obsidian15.Notice("File annotation added");
          this.close();
          this.onSave();
        } catch (error) {
          console.error("Error saving file annotation:", error);
          new import_obsidian15.Notice("Error saving file annotation");
        }
      }
      async deleteAnnotation(id) {
        try {
          await this.plugin.annotationManager.deleteAnnotation(id);
          new import_obsidian15.Notice("Annotation deleted");
        } catch (error) {
          console.error("Error deleting annotation:", error);
          new import_obsidian15.Notice("Error deleting annotation");
        }
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LearningSystemPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian16 = require("obsidian");

// src/ui/view/SettingsTab.ts
var import_obsidian = require("obsidian");
var SettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Learning System Settings" });
    new import_obsidian.Setting(containerEl).setName("Enable extraction").setDesc("Enable automatic content extraction").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.extractionEnabled).onChange(async (value) => {
        this.plugin.settings.extractionEnabled = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Auto scan").setDesc("Automatically scan files when they are opened").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoScan).onChange(async (value) => {
        this.plugin.settings.autoScan = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Default deck").setDesc("Default deck name for new flashcards").addText(
      (text) => text.setPlaceholder("Default").setValue(this.plugin.settings.defaultDeck).onChange(async (value) => {
        this.plugin.settings.defaultDeck = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Language / \u8BED\u8A00").setDesc("Select interface language / \u9009\u62E9\u754C\u9762\u8BED\u8A00").addDropdown(
      (dropdown) => dropdown.addOption("en", "English").addOption("zh-CN", "\u7B80\u4F53\u4E2D\u6587").setValue(this.plugin.settings.language || "en").onChange(async (value) => {
        this.plugin.settings.language = value;
        await this.plugin.saveSettings();
        this.plugin.refreshOverview();
        new import_obsidian.Notice("Language updated. Some changes require reload. ");
      })
    );
  }
};

// src/ui/style/sidebarStyle.ts
var StyleLoader = class {
  /**
   * 注入样式到页面
   */
  static inject() {
    if (this.isInjected || document.getElementById(this.styleId)) {
      return;
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.isInjected = true;
  }
  /**
   * 移除样式
   */
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
      this.isInjected = false;
    }
  }
  /**
   * 获取所有样式（从这里统一管理）
   */
  static getStyles() {
    return `
  /* ==================== CSS \u53D8\u91CF\u914D\u7F6E ==================== */
  .learning-overview-container {
    --overview-sidebar-width: 250px;
    --overview-card-gap: 8px;
    --overview-border-radius: 6px;
    --overview-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* ==================== \u5168\u5C40\u5BB9\u5668 ==================== */
  .learning-overview-container {
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: var(--background-primary);
  }
  
  /* ==================== \u4FA7\u8FB9\u680F\u6A21\u5F0F ==================== */
  .learning-overview-container[data-mode="sidebar"] {
    padding: 0;
  }
  
  .sidebar-toolbar {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
    flex-shrink: 0;
    position: relative;
    z-index: 10;
  }
  
  .sidebar-content-list {
    flex: 1;
    overflow-y: auto;
    padding: var(--overview-card-gap);
    position: relative;
    z-index: 1;
  }
  
  /* ==================== \u5DE5\u5177\u680F\u7EC4\u4EF6 ==================== */
  .search-container {
    margin-bottom: 10px;
      pointer-events: auto;
  }
  
  .search-input {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    font-size: 13px;
    background: var(--background-primary);
    color: var(--text-normal);
    transition: var(--overview-transition);
      pointer-events: auto;
  }
  
  .search-input:focus {
    outline: none;
    border-color: var(--interactive-accent);
  }
  
  .filter-chips {
    display: flex;
    gap: 6px;
    margin-bottom: 10px;
  }
  
  .filter-chip {
    flex: 1;
    text-align: center;
    padding: 6px 8px;
    font-size: 11px;
    border-radius: 12px;
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    border: 1px solid transparent;
  }
  
  .filter-chip:hover {
    background: var(--background-modifier-hover);
  }
  
  .filter-chip.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    font-weight: 600;
    border-color: var(--interactive-accent);
  }
  
  .group-switcher {
    display: flex;
    gap: 6px;
    margin-bottom: 10px;
  }
  
  .group-btn {
    flex: 1;
    text-align: center;
    padding: 6px;
    font-size: 16px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    border: 1px solid transparent;
  }
  
  .group-btn:hover {
    background: var(--background-modifier-hover);
  }
  
  .group-btn.active {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    transform: scale(1.05);
  }
  
  /* ==================== \u6279\u91CF\u64CD\u4F5C ==================== */
  .stats-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 3px;
  }
  
.stats-left {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.stats-center {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  justify-content: flex-start;
}

.stats-right {
  display: flex;
  align-items: center;
  gap: 1px;
  flex-shrink: 0;
  margin-left: auto; /* \u63A8\u5230\u6700\u53F3\u4FA7 */
}

.header-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

/* \u590D\u4E60\u68C0\u67E5\u6309\u94AE\u6837\u5F0F */
.review-check-btn-stats {
  width: 32px;
  height: 32px;
  padding: 0;
  cursor: pointer;
  font-size: 14px;
  transition: var(--overview-transition);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
   background-color: transparent;
   border:none;
}

.review-check-btn-stats:hover {
  background: var(--interactive-accent);
  color: white;
  border-color: var(--interactive-accent);
  transform: scale(1.1);
}

.review-check-btn-stats:active {
  transform: scale(0.95);
}

/* \u5982\u679C\u6709\u5F85\u590D\u4E60\u5361\u7247,\u6DFB\u52A0\u63D0\u793A\u52A8\u753B */
.review-check-btn-stats.has-due {
  animation: bellRing 2s ease-in-out infinite;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-color: #667eea;
}

@keyframes bellRing {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30% {
    transform: rotate(-10deg);
  }
  20%, 40% {
    transform: rotate(10deg);
  }
  50% {
    transform: rotate(0deg);
  }
}

  .batch-create-cards-btn-sidebar,
  .batch-delete-btn-sidebar,
  .cancel-selection-btn-sidebar {
    padding: 6px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 11px;
    font-weight: 500;
    white-space: nowrap;
  }
  
  .batch-create-cards-btn-sidebar:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }
  
  .batch-delete-btn-sidebar:hover {
    background: var(--color-red);
    color: white;
    border-color: var(--color-red);
  }
  
  .cancel-selection-btn-sidebar:hover {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
    border-color: var(--text-muted);
  }
  
  .batch-create-cards-btn-header,
  .batch-delete-btn-header,
  .cancel-selection-btn-header {
    padding: 8px 16px;
    font-size: 13px;
    border-radius: var(--overview-border-radius);
    border: 1px solid var(--background-modifier-border);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
    white-space: nowrap;
  }
  
  .batch-create-cards-btn-header:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }
  
  .batch-delete-btn-header:hover {
    background: var(--color-red);
    color: white;
    border-color: var(--color-red);
  }
  
  .cancel-selection-btn-header:hover {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
    border-color: var(--text-muted);
  }
  
  .select-all-btn-sidebar {
    padding: 6px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 11px;
    font-weight: 500;
    flex-shrink: 0;
  }
  
  .select-all-btn-sidebar:hover,
  .select-all-btn-sidebar.completed {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    color: white;
  }
  
  .select-all-btn-header {
    padding: 8px 16px;
    font-size: 13px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  }
  
  .select-all-btn-header:hover,
  .select-all-btn-header.completed {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    border-color: var(--interactive-accent);
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  }
  
  .stats-badge {
    text-align: center;
    font-size: 11px;
    color: var(--text-muted);
    padding: 4px;
    flex: 1;
  }
  
  .batch-actions {
    display: flex;
    gap: 6px;
    margin-top: 10px;
    flex-wrap: wrap;
    padding: 8px;
    background: var(--background-secondary-alt);
    border-radius: var(--overview-border-radius);
    animation: slideDown 0.2s ease;
  }
  
  /* ==================== \u5361\u7247\u6837\u5F0F ==================== */
  .compact-card {
    display: flex;
    gap: 8px;
    padding: 10px;
    margin: 4px 0;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    transition: var(--overview-transition);
  }
  
  .compact-card:hover {
    border-color: var(--interactive-accent);
    background: var(--background-primary-alt);
    transform: translateX(2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .card-indicator {
    width: 4px;
    border-radius: 2px;
    background: var(--background-modifier-border);
    flex-shrink: 0;
    transition: var(--overview-transition);
  }
  
  .card-indicator.type-qa {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #10b981 50%, #10b981 100%);
  }
  
  .card-indicator.type-cloze {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #FFF176 50%, #FFF176 100%);
  }
  
  .card-indicator.type-text {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #6b7280 50%, #6b7280 100%);
  }
  
  .card-indicator.type-qa.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #10b981 50%, #10b981 100%);
  }
  
  .card-indicator.type-cloze.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #FFF176 50%, #FFF176 100%);
  }
  
  .card-indicator.type-text.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #6b7280 50%, #6b7280 100%);
  }
  
  .type-indicator {
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
  }
  
  .type-indicator.type-qa {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
  }
  
  .type-indicator.type-cloze {
    background: rgba(255, 241, 118, 0.2);
    color: #FFF176;
  }
  
  .type-indicator.type-text {
    background: rgba(107, 114, 128, 0.2);
    color: #6b7280;
  }
  
  .card-content {
    flex: 1;
    min-width: 0;
  }
  
  .card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2px;
  }
  
  .card-tools {
    display: flex;
    gap: 4px;
  }
  
  .tool-btn {
    cursor: pointer;
    font-size: 14px;
    padding: 4px;
    border-radius: 4px;
    transition: var(--overview-transition);
  }
  
  .tool-btn:hover {
    background: var(--background-modifier-hover);
  }
  
  .annotation-btn {
    cursor: pointer;
    font-size: 13px;
  }
  

  
  .note-text {
    font-size: 12px;
    line-height: 1.6;
    color: var(--text-normal);
    cursor: pointer;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    overflow-wrap: break-word;
    margin-bottom: 6px;
  }
  
  .note-text:hover {
    color: var(--interactive-accent);
  }
  
  .qa-question {
    font-weight: 500;
    color: var(--text-normal);
  }
  
  .qa-separator {
    color: var(--text-muted);
    margin: 0 4px;
  }
  
  .qa-answer {
    color: var(--text-accent);
    font-style: italic;
  }
  
  .cloze-highlight {
    color: #f59e0b;
    font-weight: 500;
    padding: 1px 3px;
    border-radius: 3px;
  }
  
  .annotation-preview {
    font-size: 11px;
    line-height: 1.4;
    color: var(--text-muted);
    padding: 6px 8px;
    background: var(--background-secondary);
    border-radius: 4px;
    margin-top: 6px;
    border-left: 3px solid var(--interactive-accent);
    cursor: pointer;
    transition: var(--overview-transition);
  }
  
  .annotation-preview:hover {
    background: var(--background-modifier-hover);
  }
  
  .card-meta {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 8px;
  }
  
  .tag {
    padding: 2px 6px;
    background: var(--tag-background);
    color: var(--tag-color);
    border-radius: 4px;
    font-size: 10px;
    font-weight: 500;
  }
  
  .badge {
    padding: 2px 6px;
    background: var(--background-modifier-border);
    border-radius: 4px;
    font-size: 10px;
  }
  
  .group-header {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 8px;
    background: var(--background-secondary);
    border-radius: var(--overview-border-radius);
    margin-bottom: 6px;
    font-size: 12px;
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  
/* ==================== \u6279\u6CE8\u7F16\u8F91\u5668 ==================== */
.inline-annotation-editor {
  display: block !important;
  visibility: visible !important;
  margin-top: 8px;
  padding: 0;
  background: transparent;
}
  
  .inline-annotation-textarea {
    width: 100%;
    min-height: 80px;
    padding: 12px 14px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-primary-alt);
    color: var(--text-normal);
    font-family: var(--font-text);
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
    transition: var(--overview-transition);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .inline-annotation-textarea:focus {
    outline: none;
    border-color: var(--interactive-accent);
    background: var(--background-primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }
  
  .inline-annotation-textarea::placeholder {
    color: var(--text-faint);
    font-style: italic;
  }
  
  .inline-annotation-hint {
    margin-top: 6px;
    font-size: 11px;
    color: var(--text-faint);
    font-style: italic;
    text-align: left;
  }
  
  .grid-card .inline-annotation-editor {
    margin-top: 8px;
  }
  
  .grid-card .inline-annotation-textarea {
    min-height: 100px;
    font-size: 14px;
    padding: 8px 14px;
  }
  
  /* ==================== \u4E3B\u754C\u9762\u5E03\u5C40 ==================== */
  .main-layout {
    display: grid;
    grid-template-columns: var(--overview-sidebar-width) 1fr;
    gap: 1px;
    height: 100%;
    background: var(--background-modifier-border);
  }
  
  .left-panel {
    background: var(--background-primary);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
  }
  
  .right-panel {
    background: var(--background-primary);
    overflow-y: auto;
    padding: var(--overview-card-gap);
  }
  
  .fixed-entries {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  
  .entry-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: var(--overview-border-radius);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 13px;
    font-weight: 500;
    background: var(--background-secondary);
  }
  
  .entry-btn:hover {
    background: var(--background-modifier-hover);
    transform: translateX(2px);
  }
  
  .entry-btn.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  /* ==================== \u4E3B\u754C\u9762\u5DE5\u5177\u680F ==================== */
  .main-toolbar {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
  }
  
  .search-input-main {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    font-size: 13px;
    background: var(--background-primary);
    color: var(--text-normal);
    margin-bottom: 10px;
    transition: var(--overview-transition);
  }
  
  .search-input-main:focus {
    outline: none;
    border-color: var(--interactive-accent);
  }
  
  .group-switcher-main {
    display: flex;
    gap: 6px;
  }
  
  .group-btn-main {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    padding: 8px 10px;
    font-size: 12px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
  }
  
  .group-btn-main:hover {
    background: var(--background-modifier-hover);
    transform: translateY(-1px);
  }
  
  .group-btn-main.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  .batch-actions-main {
    display: flex;
    gap: 8px;
    margin-top: 10px;
    flex-wrap: wrap;
  }
  
  .batch-actions-main .batch-mode-btn,
  .batch-actions-main .select-all-btn,
  .batch-actions-main .batch-delete-btn,
  .batch-actions-main .batch-create-cards-btn {
    padding: 8px 16px;
    font-size: 12px;
  }
  
  .batch-actions-main .select-all-btn:hover {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    color: white;
  }
  
  .panel-title {
    font-size: 13px;
    font-weight: 600;
    padding: 12px;
    margin: 0;
    color: var(--text-muted);
  }
  
  .file-list {
    padding: 0 8px 8px 8px;
    flex: 1;
    overflow-y: auto;
  }
  
  .file-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 10px;
    border-radius: var(--overview-border-radius);
    cursor: pointer;
    transition: var(--overview-transition);
    margin-bottom: 4px;
  }
  
  .file-item:hover {
    background: var(--background-modifier-hover);
  }
  
  .file-item.selected {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  .file-icon {
    font-size: 14px;
  }
  
  .file-name {
    flex: 1;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  .file-count {
    font-size: 11px;
    padding: 2px 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  
  .file-item.selected .file-count {
    background: rgba(255, 255, 255, 0.2);
  }
  
  /* ==================== \u7F51\u683C\u5E03\u5C40 ==================== */
  .grid-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--background-modifier-border);
  }
  
  .grid-header h2 {
    font-size: 18px;
    font-weight: 600;
    margin: 0;
  }
  
  .content-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: var(--overview-card-gap);
  }
  
  .grid-card {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: var(--overview-card-gap);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .grid-card:hover {
    border-color: var(--interactive-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
  
  .grid-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--background-modifier-border);
  }
  
  .grid-card-tools {
    display: flex;
    gap: 4px;
  }
  
  .tool-btn-grid {
    cursor: pointer;
    font-size: 16px;
    padding: 4px 6px;
    border-radius: 4px;
    transition: var(--overview-transition);
  }
  
  .tool-btn-grid:hover {
    background: var(--background-modifier-hover);
    transform: scale(1.1);
  }
  
  .grid-note-text {
    font-size: 13px;
    line-height: 1.6;
    color: var(--text-normal);
    cursor: pointer;
    margin-bottom: 10px;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    overflow-wrap: break-word;
  }
  
  .grid-note-text:hover {
    color: var(--interactive-accent);
  }
  
  .grid-annotation {
    font-size: 12px;
    line-height: 1.5;
    color: var(--text-muted);
    padding: 10px;
    background: var(--background-secondary);
    border-radius: 4px;
    border-left: 3px solid var(--interactive-accent);
    margin-top: 10px;
    cursor: pointer;
    transition: var(--overview-transition);
  }
  
  .grid-annotation:hover {
    background: var(--background-modifier-hover);
  }
  
  .grid-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 10px;
  }
  
  .tag-grid {
    padding: 4px 8px;
    background: var(--tag-background);
    color: var(--tag-color);
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
  }
  
  .grid-card-meta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 10px;
    border-top: 1px solid var(--background-modifier-border);
    font-size: 11px;
  }
  
  .doc-name {
    font-size: 11px;
    color: var(--text-muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .line-info {
    color: var(--text-muted);
  }
  
  .badge-grid {
    padding: 3px 8px;
    background: var(--background-secondary);
    border-radius: 4px;
  }
  
  /* ==================== \u95EA\u5361\u6837\u5F0F ==================== */
  .flashcard-item {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 16px;
    transition: var(--overview-transition);
  }
  
  .flashcard-item:hover {
    border-color: var(--interactive-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .flashcard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }
  
  .flashcard-type {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
  }
  
  .flashcard-type.qa {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
  }
  
  .flashcard-type.cloze {
    background: rgba(255, 241, 118, 0.2);
    color: #FFF176;
  }
  
  .flashcard-body {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  
  .flashcard-question,
  .flashcard-answer {
    font-size: 13px;
    line-height: 1.5;
  }
  
  /* ==================== \u7A7A\u72B6\u6001 ==================== */
  .empty-state {
    text-align: center;
    padding: 40px 20px;
    color: var(--text-muted);
    font-size: 14px;
    position: relative;
    z-index: 1;
  }
  
  .empty-hint {
    text-align: center;
    padding: 20px;
    color: var(--text-muted);
    font-size: 13px;
  }
  
  .empty-right-panel {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: var(--text-muted);
  }
  
  .empty-icon {
    font-size: 48px;
    margin-bottom: 16px;
  }
  
  .empty-text {
    font-size: 14px;
  }
  
  /* ==================== \u52A8\u753B ==================== */
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* ==================== \u54CD\u5E94\u5F0F ==================== */
  @media (max-width: 768px) {
    .main-layout {
      grid-template-columns: 1fr;
    }
  
    .left-panel {
      display: none;
    }
  
    .content-grid {
      grid-template-columns: 1fr;
    }
    }


/* \u590D\u4E60\u56FE\u6807*/


.review-check-btn {
  width: 36px;
  height: 36px;
  padding: 0;
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--overview-border-radius);
  background: var(--background-secondary);
  cursor: pointer;
  font-size: 18px;
  transition: var(--overview-transition);
  flex-shrink: 0;
}

.review-check-btn:hover {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  transform: scale(1.05);
}
@keyframes pulse {
  0%, 100% {
    opacity: 0.85;
  }
  50% {
    opacity: 1;
  }
}

/* \u590D\u4E60\u63D0\u9192\u5177\u4F53\u6837\u5F0F */
.content-list-review-reminder {

}

.reminder-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.reminder-icon {
  font-size: 24px;
}

.reminder-text strong {
  font-size: 16px;
  font-weight: 600;
}

.reminder-progress {
  margin-bottom: 12px;
}



.progress-fill {
  height: 100%;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 4px;
  transition: width 0.3s ease;
}

.progress-text {
  font-size: 13px;
  opacity: 0.9;
}

.reminder-stats {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}



.streak-info {
  opacity: 0.95;
}

.reminder-actions {
  display: flex;
  justify-content: flex-end;
}

.reminder-btn.primary {

  font-weight: 500;
  cursor: pointer;
}

.reminder-btn.primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* \u5361\u7247\u4E2D\u8868\u683C\u7684\u5B8C\u5F62\u586B\u7A7A\u9AD8\u4EAE - \u6A59\u8272 */
.learning-system-table .card-cloze-highlight {
  background-color: rgba(255, 140, 0, 0.25);
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 500;
}
    
  /* ==================== \u7B49\u7EA7\u5FBD\u7AE0\u56FE\u6807 ==================== */
.level-badge-icon {
  padding: 4px 6px ;
  color: var(--text-muted);
  border-radius: 7px;
  font-size: 0.85em;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-right: 0px;
  user-select: none;
}

.level-badge-icon:hover {
  transform: translateY(-2px);
}

/* ==================== \u7B49\u7EA7\u4FE1\u606F\u6A21\u6001\u6846 ==================== */
.level-info-modal {
  padding: 20px;
  max-width: 600px;
}

.level-info-modal h2 {
  text-align: center;
  margin-bottom: 24px;
  font-size: 1.8em;
}

.level-info-modal h3 {
  margin-top: 20px;
  margin-bottom: 12px;
  color: var(--text-muted);
  font-size: 1.1em;
}

.progress-section,
.stats-section,
.milestones-section {
  margin-bottom: 24px;
}

.progress-box {
  padding: 16px;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 4px solid var(--interactive-accent);
  line-height: 1.8;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.stats-grid .stat-item {
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.stat-icon {
  font-size: 1.5em;
}

.stat-label {
  font-size: 0.85em;
  color: var(--text-muted);
}

.stat-value {
  font-size: 1.3em;
  font-weight: bold;
  color: var(--text-accent);
}

.milestones-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.milestone-item {
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 3px solid var(--interactive-accent);
}

.milestone-message {
  font-weight: 500;
  margin-bottom: 4px;
}

.milestone-date {
  font-size: 0.85em;
  color: var(--text-muted);
}

.modal-footer {
  margin-top: 24px;
  display: flex;
  justify-content: center;
}

.modal-footer button {
  padding: 8px 24px;
  background: var(--interactive-accent);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1em;
}

.modal-footer button:hover {
  background: var(--interactive-accent-hover);
}
  

/* \u5361\u7247\u7C7B\u578B\u6807\u8BC6 */
.card-type-badge {
  display: inline-flex;
  align-items: center;
  padding: 3px 8px;
  border-radius: 10px;
  font-size: 10px;
  font-weight: 600;
  margin-right: auto;
  text-transform: uppercase;
}

.card-type-badge.type-qa {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.card-type-badge.type-cloze {
  background: rgba(255, 241, 118, 0.2);
  color: #FFF176;
}

/* \u786E\u4FDD header \u4F7F\u7528 flex \u5E03\u5C40\u5E76\u5BF9\u9F50 */
.grid-card-header {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* \u95EA\u5361\u590D\u4E60\u65F6\u95F4\u6837\u5F0F */
.flashcard-review-info {
  margin-top: 8px;
  display: flex;
  justify-content: center;
}

.review-time {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 0.85em;
  font-weight: 500;
  background: var(--background-secondary);
  color: var(--text-muted);
}

.review-time.overdue {
  background: var(--background-modifier-error-hover);
  color: var(--text-error);
}

.review-time.upcoming {
  color: var(--text-on-accent);
}

.review-icon {
  font-size: 1em;
  line-height: 1;
}

.review-text {
  white-space: nowrap;
}

      `;
  }
};
StyleLoader.styleId = "learning-sideOverview-styles";
StyleLoader.isInjected = false;

// src/ui/style/reviewStyle.ts
var reviewStyle = class {
  /**
   * 注入样式到页面
   */
  static inject() {
    if (this.isInjected || document.getElementById(this.styleId)) {
      return;
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.isInjected = true;
  }
  /**
   * 移除样式
   */
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
      this.isInjected = false;
    }
  }
  /**
   * 获取所有样式（从这里统一管理）
   */
  static getStyles() {
    return `
       .review-container {
        padding: 16px;
        max-width: 800px;
        margin: 0 auto;
      }

      .empty-state {
        text-align: center;
        padding: 40px 20px;
      }

      .empty-state h2 {
        font-size: 1.8em;
        margin-bottom: 8px;
      }

      .stats-summary {
        margin: 20px 0;
        padding: 16px;
        background: var(--background-secondary);
        border-radius: 8px;
        text-align: left;
        max-width: 300px;
        margin-left: auto;
        margin-right: auto;
      }

 .review-container .progress-bar {
  margin-bottom: 20px;
  display: block !important;  /* \u8986\u76D6 app.css \u7684 flex */
  position: static !important;  /* \u8986\u76D6 app.css \u7684 relative */
  padding: 0 !important;
  width: 100% !important;
}

.review-container .progress-stats {
  display: flex;
  justify-content: center;
  margin-bottom: 8px;
}

.review-container .progress-text {
  font-weight: 300;
  font-size: 0.9em;
  justify-content: center;
}

.review-container .bar-container {
  height: 6px;
  background: var(--background-secondary);
  border-radius: 3px;
  overflow: hidden;
  width: 100%;
}

.review-container .bar {
  height: 40%;
  background: var(--interactive-accent);
  transition: width 0.3s ease;
  display: block;
}

      .card-area {
        background: var(--background-primary);
        border: 2px solid var(--background-modifier-border);
        border-radius: 10px;
        padding: 20px;
        min-height: 350px;
        position: relative;
      }

      .top-actions-bar {
        position: absolute;
        top: 16px;
        right: 16px;
        display: flex;
        gap: 6px;
        z-index: 10;
      }

      .top-action-btn {
        width: 32px;
        height: 32px;
        border: 1px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        color: var(--text-normal);
        padding: 0;
      }

      .top-action-btn:hover {
        background: var(--background-modifier-hover);
        border-color: var(--interactive-accent);
      }

      .more-dropdown {
        position: absolute;
        top: 38px;
        right: 0;
        background: var(--background-primary);
        border: 1px solid var(--background-modifier-border);
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        min-width: 150px;
        z-index: 100;
      }

      .dropdown-item {
        padding: 8px 14px;
        cursor: pointer;
        transition: background 0.2s;
        white-space: nowrap;
        font-size: 0.9em;
      }

      .dropdown-item:hover {
        background: var(--background-modifier-hover);
      }

      .delete-item:hover {
        background: var(--background-modifier-error-hover);
        color: var(--color-red);
      }

      .card-info {
        display: flex;
        gap: 10px;
        margin-bottom: 16px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--background-modifier-border);
        padding-right: 80px;
      }

      .card-type, .card-deck {
        padding: 3px 10px;
        background: var(--background-secondary);
        border-radius: 10px;
        font-size: 0.85em;
      }

      .question-area, .answer-area {
        margin: 16px 0;
      }

      .question-text {
        font-size: 1.2em;
        line-height: 1.5;
        padding: 14px;
        background: var(--background-secondary);
        border-radius: 6px;
      }

      .cloze-input-area, .qa-input-area {
        margin: 16px 0;
      }

      .cloze-input-area h4, .qa-input-area h4 {
        margin-bottom: 10px;
        color: var(--text-muted);
        font-size: 0.9em;
      }
        
.qa-answer-input {
  width: 100%;
  min-height: 120px;
  padding: 12px;
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.95em;
  font-family: inherit;
  resize: vertical;
  line-height: 1.5;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.qa-answer-input:focus {
  outline: none;
}

.qa-answer-input::placeholder {
  color: var(--text-faint);
  font-style: italic;
}
      .input-group {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
      }

      .cloze-input {
        flex: 1;
        padding: 8px 12px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        font-size: 0.95em;
      }

      .cloze-input:focus, .qa-input:focus {
        outline: none;
      }

      .qa-input {
        width: 100%;
        min-height: 100px;
        padding: 10px 12px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        font-size: 0.95em;
        font-family: inherit;
        resize: vertical;
        line-height: 1.5;
      }

      .question-review {
        margin-bottom: 12px;
        padding: 10px;
        background: var(--background-secondary-alt);
        border-radius: 6px;
      }

      .question-review h4 {
        margin: 0 0 6px 0;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .review-text {
        color: var(--text-muted);
        font-size: 0.95em;
      }

      .full-text {
        font-size: 1.1em;
        line-height: 1.5;
        padding: 12px;
        background: var(--background-secondary);
        border-radius: 6px;
        margin-bottom: 12px;
      }

      .answer-comparison {
      font-size:13px;
        padding: 10px;
        background: var(--background-secondary-alt);
        border-radius: 6px;
        margin-top: 12px;
      }

      .answer-comparison h4 {
        margin: 0 0 8px 0;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .comparison-item {
        background: var(--background-primary);
        border-radius: 4px;
      }

      .user-answer {
        font-weight: 500;
        padding: 2px 6px;
        border-radius: 3px;
      }

      .user-answer.correct {
       background-color: rgba(40, 167, 69, 0.1)  !important;
        color:  #2ea043;
      }

      .user-answer.partial {
         background-color: rgba(255, 193, 7, 0.15) !important;
        color: #ff9f0a;
      }

      .user-answer.wrong {
        background-color: rgba(220, 53, 69, 0.1) !important;
        color: #e5534b;
      }

      .correct-answer {
        color: var(--text-accent);
        font-weight: 500;
      }

      .similarity-info {
        color: var(--text-muted);
        font-style: italic;
        font-size: 0.85em;
      }

      .qa-columns-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-bottom: 12px;
      }

      .qa-column {
        display: flex;
        flex-direction: column;
      }

      .column-label {
        margin: 0 0 8px 0 !important;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .qa-user-answer, .qa-correct-answer {
        padding: 12px;
        border-radius: 6px;
        white-space: pre-wrap;
        word-break: break-word;
        font-size: 0.95em;
        line-height: 1.5;
        min-height: 60px;
      }

      .qa-correct-answer {
        background: var(--background-secondary);
      }

      .qa-user-answer.correct {
        background: #4caf50 !important;
        color: white !important;
      }

      .qa-user-answer.partial {
        background: #FFC000 !important;
        color: white !important;
      }

      .qa-user-answer.wrong {
        background: #f44336 !important;
        color: white !important;
      }

      .qa-user-answer.no-answer {
        background: var(--background-secondary);
        color: var(--text-muted);
        font-style: italic;
        border: 2px dashed var(--background-modifier-border);
      }

      .button-area {
        display: flex;
        gap: 12px;
        justify-content: center;
        margin-top: 20px;
      }

      /* ============================================================================
         Action Row - \u6309\u94AE\u5E03\u5C40
         ============================================================================ */
      .action-row {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
        padding: 0 20px;
        min-height: 60px;
      }

      /* \u4E2D\u95F4\u7684\u4E3B\u8981\u6309\u94AE(\u8BC4\u7EA7\u6216\u663E\u793A\u7B54\u6848) */
      .action-row .rating-buttons,
      .action-row .show-answer-btn {
        flex: 0 1 auto;
      }

      /* \u7FFB\u9875\u6309\u94AE\u5B9A\u4F4D\u5230\u5DE6\u4E0B\u89D2\u548C\u53F3\u4E0B\u89D2 */

      .show-answer-btn {
        padding: 10px 32px;
        font-size: 1em;
        border: 2px solid var(--interactive-accent);
        border-radius: 8px;
        background: var(--interactive-accent);
        color: var(--text-on-accent);
        cursor: pointer;
        transition: all 0.2s;
        font-weight: 500;
      }

      .show-answer-btn:hover {
        background: var(--interactive-accent-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
/* \u7FFB\u9875\u6309\u94AE - \u7EAF\u6587\u672C\u6837\u5F0F */
    button.nav-btn {
        padding: 8px 12px;
        background: transparent; !important
        border: none;!important
        cursor: pointer;
        font-size: 1.2em;
       color: var(--text-muted) !important;
        transition: all 0.2s;
        box-shadow: none;!important
      }

     button.nav-btn:hover {
        background: transparent;!important
        border: none !important
        color: var(--text-normal) !important;
        transform: scale(1.2);
        box-shadow: none;!important
      }

      .nav-btn:active {
        transform: scale(1.1);
      }

      /* action-row \u4E2D\u7684\u5B9A\u4F4D */
      .action-row .nav-btn {
        position: absolute;
      }

      .action-row .prev-btn {
        left: 0px;
      }

      .action-row .next-btn {
        right: 0px;
      }

      .prev-btn:hover {
        padding-left: 8px;
        transform: translateX(-3px) scale(1.2);
      }

      .next-btn:hover {
        padding-right: 8px;
        transform: translateX(3px) scale(1.2);
      }


      
      .show-answer-btn {
        padding: 10px 32px;
        font-size: 1em;
      }

      .rating-area {
        margin: 15px 0 10px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 40px; 
      }

      .rating-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
      }

      .rating-btn {
        flex: 1;
        max-width: 120px;
        padding: 14px 8px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 8px;
        background: var(--background-primary);
        cursor: pointer;
        transition: all 0.2s;
      }

      .rating-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .rating-red:hover { 
        border-color: var(--color-red);
        background: var(--background-modifier-error-hover);
      }

      .rating-orange:hover { 
        border-color: #FFC000;
        background: rgba(255, 192, 0, 0.1);
      }

      .rating-blue:hover { 
        border-color: var(--interactive-accent);
        background: var(--background-modifier-hover);
      }

      .rating-green:hover { 
        border-color: var(--color-green);
        background: var(--background-modifier-success-hover);
      }

      .rating-label {
        font-weight: 600;
        font-size: 1em;
        margin-bottom: 4px;
      }

      .rating-interval {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .rating-hotkey {
        font-size: 0.75em;
        color: var(--text-muted);
        margin-top: 4px;
        opacity: 0.7;
      }

      .rating-btn:hover .rating-hotkey {
        opacity: 1;
        color: var(--text-normal);
      }

   

      .cloze-blank {
        display: inline-block;
        min-width: 60px;
        padding: 2px 8px;
        color: var(--text-muted);
        font-family: monospace;
        font-size: 0.9em;
      }

          

      .table-answer, .table-question {
        padding: 0 !important;
      }

      .cloze-table-columns {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
        margin-bottom: 16px;
      }

      .user-answer-cell {
        display: inline;
        padding: 0px 4px;
        border-radius: 3px;
        font-weight: 600;
      }

      .user-answer-cell.correct {
         color: #2ea043;
      }

      .user-answer-cell.partial {
        color: #ff9f0a;

      }

      .user-answer-cell.wrong {
       color: #e5534b;

      }

      /* \u8868\u683C\u5355\u5143\u683C\u6B63\u786E\u6027\u989C\u8272 */
.learning-system-table.user-answer-table td.cell-correct,
.learning-system-table.user-answer-table th.cell-correct {
  background-color: rgba(40, 167, 69, 0.1);
}

.learning-system-table.user-answer-table td.cell-partial,
.learning-system-table.user-answer-table th.cell-partial {
  background-color: rgba(255, 193, 7, 0.15);
}

.learning-system-table.user-answer-table td.cell-wrong,
.learning-system-table.user-answer-table th.cell-wrong {
  background-color: rgba(220, 53, 69, 0.1);
}

.learning-system-table.user-answer-table .user-answer-cell {
  font-weight: 500;
}
// \u5728 reviewStyle.inject() \u4E2D\u6DFB\u52A0\u63D0\u793A\u6837\u5F0F

.cloze-input-hint {
  font-size: 0.85em;
  color: var(--text-muted);
  margin-bottom: 12px;
  padding: 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  border-left: 3px solid var(--interactive-accent);
}
// \u5728 reviewStyle.inject() \u65B9\u6CD5\u4E2D\u6DFB\u52A0:

/* \u5355\u4E2A\u8F93\u5165\u6846\u6837\u5F0F */
.single-input-group {
  margin-bottom: 16px;
}

.cloze-single-input {
  width: 100%;
  padding: 12px;
  font-size: 14px;
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  color: var(--text-normal);
  transition: border-color 0.2s;
}

.cloze-single-input:focus {
  outline: none;
}



.cloze-input-hint code {
  background: var(--background-modifier-border);
  padding: 2px 6px;
  border-radius: 3px;
  font-family: var(--font-monospace);
  font-size: 0.9em;
}

/* \u9884\u89C8\u533A\u57DF */
.answer-preview-area {
  margin-top: 16px;
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 6px;
}

.answer-preview-area h5 {
  margin: 0 0 8px 0;
  font-size: 0.9em;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.preview-list {
  margin: 0;
  padding-left: 24px;
  list-style: decimal;
}

.preview-item {
  padding: 6px 8px;
  margin-bottom: 4px;
  border-radius: 4px;
  font-family: var(--font-monospace);
  font-size: 0.9em;
}

.preview-item.filled {
  background: var(--background-primary);
  color: var(--text-normal);
  font-weight: 500;
}

.preview-item.empty {
  background: transparent;
  color: var(--text-faint);
  font-style: italic;
}


/* ============================================================================
   Table Styles
   ============================================================================ */
.learning-system-table {
  width: 100%;
  border-collapse: collapse;
  margin: 8px 0;
  font-size: 13px;
}

.learning-system-table th,
.learning-system-table td {
  line-height: 1.4;
  height: 22px;        
  padding: 2px 4px;
  text-align: left;
   vertical-align: middle;
  border: 1px solid var(--background-modifier-border);
}

.learning-system-table th {
  background: var(--background-secondary);
  font-weight: 400;
  color: var(--text-normal);
}

.learning-system-table td {
  color: var(--text-normal);
}

.learning-system-table tr:hover td {
  background: var(--background-modifier-hover);
}

/* \u2190 \u65B0\u589E:\u88AB\u6316\u7A7A\u7684\u5355\u5143\u683C\u80CC\u666F\u8272(\u663E\u793A\u7B54\u6848\u524D) */
.learning-system-table td:has(.cloze-blank),
.learning-system-table th:has(.cloze-blank) {
  background-color: rgba(80, 126, 91, 0.1);
}
.learning-system-table th.has-cloze {
  background-color: rgba(40, 167, 69, 0.15) !important;
  border-left: 2px solid rgba(40, 167, 69, 0.6);
}
/* \u2190 \u65B0\u589E:\u88AB\u6316\u7A7A\u7684\u5355\u5143\u683C\u80CC\u666F\u8272(\u663E\u793A\u7B54\u6848\u540E,\u5DF2\u63ED\u793A) */
.learning-system-table td:has(span.revealed),
.learning-system-table th:has(span.revealed)
{
  background-color: rgba(70, 113, 80, 0.15);
  border-left: 2px solid rgba(40, 167, 69, 0.5);
}

/* User Answer Table - Cell correctness background */
.user-answer-table td.cell-correct {
  background-color: rgba(76, 125, 85, 0.15);
}

/* \u9884\u89C8\u7B54\u6848\u7684\u6837\u5F0F */
.preview-answer {

  color: #4a9eff;
  padding: 2px 6px;
  border-radius: 3px;
  font-weight: 500;
}

.preview-table .cloze-blank {
  color: #666;
  padding: 2px 8px;
  border-radius: 3px;
}

/* \u5361\u7247\u4E2D\u8868\u683C\u7684\u5B8C\u5F62\u586B\u7A7A\u9AD8\u4EAE - \u6A59\u8272 */
.learning-system-table .card-cloze-highlight {
  background-color: rgba(255, 140, 0, 0.25);
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 500;
}
`;
  }
};
reviewStyle.styleId = "learning-review-styles";
reviewStyle.isInjected = false;

// src/i18n/translations.ts
var translations = {
  en: {
    // View titles
    "view.overview": "Learning Overview",
    "view.review": "Review",
    "view.stats": "Statistics",
    // Toolbar
    "toolbar.search": "Search...",
    "toolbar.filter.all": "All",
    "toolbar.filter.annotated": "Annotated",
    "toolbar.filter.flashcards": "Flashcards",
    "toolbar.group.file": "By File",
    "toolbar.group.annotation": "By Annotation",
    "toolbar.group.tag": "By Tag",
    "toolbar.group.date": "By Date",
    "toolbar.checkReview": "Check Review",
    // Batch actions
    "batch.selectAll": "Select All",
    "batch.create": "Create Flashcards",
    "batch.delete": "Delete",
    "batch.cancel": "Cancel",
    // Fixed entries
    "entry.allNotes": "All Notes",
    "entry.cardList": "Card List",
    // Level names
    "level.1": "Collector",
    "level.2": "Thinker",
    "level.3": "Memorizer",
    "level.4": "Trainer",
    "level.5": "Analyst",
    "level.current": "Current Level",
    "level.clickDetails": "Click for details",
    // Review reminder
    "review.today": "Today's Review",
    "review.start": "Start Review",
    "review.justDue": "\u23F0 Just due, review while hot",
    "review.delayed": "\u26A0\uFE0F Review delayed {hours} hours",
    "review.urgentHours": "\u26A0\uFE0F Review delayed {hours} hours, recommend priority",
    "review.urgentDays": "\u{1F6A8} Review delayed {days} days, clear ASAP!",
    "review.streak": "\u{1F525} Day {days} streak!",
    // Notices
    "notice.noSelection": "\u26A0\uFE0F No items selected",
    "notice.noDueCards": "No cards due for review!",
    "notice.deleted": "\u{1F5D1}\uFE0F Deleted",
    "notice.saved": "\u2705 Saved",
    // Commands
    "command.scanFile": "Scan current file for content",
    "command.scanVault": "Scan entire vault",
    "command.openOverview": "Open Learning Overview(Sidebar)",
    "command.openMainOverview": "Toggle Learning Overview (Main View)",
    "command.addAnnotation": "Add file annotation",
    "command.startReview": "Start flashcard review",
    "command.showStats": "Show flashcard statistics",
    // Ribbons
    "ribbon.overview": "Open Learning Overview(Sidebar)",
    "ribbon.review": "Start Review",
    // Context menu
    "menu.jumpToSource": "Jump to Source",
    "menu.toggleAnnotation": "Toggle Annotation",
    "menu.editFlashcard": "Edit Flashcard",
    "menu.quickGenerate": "Quick Generate",
    "menu.createQA": "Create Q&A",
    "menu.createCloze": "Create Cloze",
    "menu.viewStats": "View Stats",
    "menu.delete": "Delete",
    // Status bar
    "status.due": "{count} due",
    "status.tooltip": "{due} cards due for review\n{new} new cards",
    // Misc
    "empty.noContent": "No content yet",
    "empty.noDocuments": "No documents",
    "fileList.title": "\u{1F4C1} Documents",
    "notice.fileNotFound": "\u274C Source file not found",
    "notice.jumpedToSource": "\u2705 Jumped to source",
    "notice.jumpFailed": "\u274C Jump failed",
    "notice.flashcardNotFound": "\u26A0\uFE0F Flashcard not found",
    "notice.alreadyHasFlashcards": "\u26A0\uFE0F Selected notes already have flashcards",
    "notice.batchDeleted": "\u2705 Deleted {success} items",
    "confirm.deleteNote": "Delete this note?",
    "confirm.deleteFlashcard": "Delete this flashcard?",
    "confirm.batchDeleteNotes": "Delete {count} selected notes?",
    "confirm.batchDeleteFlashcards": "Delete {count} selected flashcards?",
    "toolbar.checkReview.tooltip": "Check if there are cards to review",
    "batch.deselectAll": "Deselect All",
    "batch.deselectAll.tooltip": "Deselect all items on current page",
    "batch.selectAll.tooltip": "Select all {count} items",
    "batch.noItems": "No items to select",
    "batch.selectAnnotationFirst": 'Please select "Annotated" or "Not Annotated" first',
    "batch.create.tooltip": "Batch create flashcards",
    "batch.delete.tooltip": "Batch delete",
    "batch.cancel.tooltip": "Exit batch mode and clear all selections",
    // review
    "confirm.resetCardStats": "Are you sure you want to reset this card's learning progress?",
    "confirm.resetDeckStats": 'Are you sure you want to reset all learning progress for deck "{deck}"?',
    "notice.deckStatsReset": '\u2705 Deck "{deck}" statistics reset',
    "notice.flashcardDeleted": "\u{1F5D1}\uFE0F Flashcard deleted",
    "notice.deleteFlashcardFailed": "\u274C Failed to delete flashcard",
    "notice.flashcardUpdated": "\u2705 Flashcard updated",
    "notice.updateFlashcardFailed": "\u274C Failed to update flashcard",
    "notice.cardStatsReset": "\u2705 Card statistics reset",
    "notice.resetStatsFailed": "\u274C Failed to reset statistics",
    // sidebar
    "review.todayProgress": "Today's Review: {reviewed} / {total}",
    "review.delayedHoursShort": "\u26A0\uFE0F Review delayed {hours} hours, good time to handle",
    "group.uncategorized": "Uncategorized",
    // component/modal/batch
    "batchCreate.title": "\u26A1 Batch Create Flashcards",
    "batchCreate.description": "Create flashcards for {count} notes without cards",
    "batchCreate.cardType": "Card Type",
    "batchCreate.smartType": "\u26A1 Smart Recognition",
    "batchCreate.smartType.desc": "Automatically choose the best type",
    "batchCreate.qaType": "\u{1F4DD} Q&A Card",
    "batchCreate.qaType.desc": "Question and answer format",
    "batchCreate.clozeType": "\u270F\uFE0F Cloze Card",
    "batchCreate.clozeType.desc": "Fill in the blank",
    "batchCreate.cancel": "Cancel",
    "batchCreate.createButton": "Create {count} cards",
    "batchCreate.successNotice": "\u2705 Created {success} flashcards! {failed} failed",
    // component/modal/EditFlashcardModal
    "editCard.title": "\u270F\uFE0F Edit Flashcard",
    "editCard.description.qa": "Edit Q&A card content",
    "editCard.description.cloze": "Edit Cloze card content",
    "editCard.info.file": "\u{1F4C1} File",
    "editCard.info.deck": "\u{1F4DA} Deck",
    "editCard.info.reviews": "\u{1F4CA} Reviews",
    "editCard.info.correct": "Correct",
    "editCard.front.qa": "Question (Front)",
    "editCard.front.cloze": "Full Text",
    "editCard.front.desc": "Content shown on card front",
    "editCard.back.qa": "Answer (Back)",
    "editCard.back.cloze": "Cloze Answers",
    "editCard.back.desc.qa": "Answer shown on card back",
    "editCard.back.desc.cloze": "Separate multiple answers with commas",
    "editCard.cancel": "Cancel",
    "editCard.save": "Save",
    "editCard.error.emptyFront": "\u26A0\uFE0F Question/Text cannot be empty",
    "editCard.error.emptyBack": "\u26A0\uFE0F Answer cannot be empty",
    "editCard.success": "\u2705 Flashcard updated",
    "editCard.saveFailed": "\u274C Save failed",
    // component/modal/FlashcardEditModal
    "flashcardEdit.title": "Edit Flashcard",
    "flashcardEdit.question": "Question",
    "flashcardEdit.answer": "Answer",
    "flashcardEdit.save": "Save",
    // component/modal/ManualFlashcardModal.ts
    "manualCard.title.qa": "\u270F\uFE0F Create Q&A Flashcard",
    "manualCard.title.cloze": "\u270F\uFE0F Create Cloze Flashcard",
    "manualCard.description.qa": "Create a Q&A card with custom question and answer",
    "manualCard.description.cloze": "Create a cloze card by marking content to be hidden in full text",
    "manualCard.front.qa": "Question (Front)",
    "manualCard.front.cloze": "Full Text",
    "manualCard.front.desc.qa": "Question displayed on card front",
    "manualCard.front.desc.cloze": "Complete sentence or paragraph containing the answer",
    "manualCard.front.placeholder.qa": "e.g., What is spaced repetition?",
    "manualCard.front.placeholder.cloze": "e.g., Spaced repetition is a learning technique",
    "manualCard.back.qa": "Answer (Back)",
    "manualCard.back.cloze": "Cloze Content",
    "manualCard.back.desc.qa": "Answer displayed on card back",
    "manualCard.back.desc.cloze": "Keyword or phrase to be hidden",
    "manualCard.back.placeholder.qa": "e.g., Spaced repetition is a learning technique...",
    "manualCard.back.placeholder.cloze": "e.g., spaced repetition",
    "manualCard.cancel": "Cancel",
    "manualCard.create": "Create Flashcard",
    "manualCard.error.emptyFront": "\u26A0\uFE0F Question/Text cannot be empty",
    "manualCard.error.emptyBack": "\u26A0\uFE0F Answer cannot be empty",
    "manualCard.success.qa": "\u2705 Q&A flashcard created",
    "manualCard.success.cloze": "\u2705 Cloze flashcard created",
    "manualCard.createFailed": "\u274C Failed to create flashcard",
    // src/ui/components/ContentList.ts 
    "contentList.group.annotated": "Annotated",
    "contentList.group.notAnnotated": "Not Annotated",
    "contentList.empty.noFlashcards": "\u{1F4ED} No flashcards in this group",
    "contentList.empty.noNotes": "No notes in current document",
    "contentList.empty.tryFilter": "Try switching filters to view",
    "contentList.empty.startHighlight": "Start highlighting text to create notes",
    "contentList.empty.noContent": "No content yet",
    // src/ui/components/ContextMenuBuilder.ts
    "contextMenu.jumpToSource": "\u{1F4D6} Jump to Source",
    "contextMenu.editAnnotation": "\u{1F4AC} Edit Annotation",
    "contextMenu.editFlashcard": "\u270F\uFE0F Edit Flashcard",
    "contextMenu.generateFlashcard": "\u26A1 Generate Flashcard",
    "contextMenu.createQA": "\u2795 Create Q&A Card",
    "contextMenu.createCloze": "\u2795 Create Cloze Card",
    "contextMenu.viewStats": "\u{1F4CA} View Stats",
    "contextMenu.deleteNote": "\u{1F5D1}\uFE0F Delete Note",
    "contextMenu.editCard": "\u270F\uFE0F Edit Card",
    "contextMenu.deleteCard": "\u{1F5D1}\uFE0F Delete Card",
    "stats.title": "\u{1F4CA} Flashcard Statistics",
    "stats.file": "\u{1F4C1} File",
    "stats.type": "\u{1F0CF} Type",
    "stats.type.qa": "Q&A",
    "stats.type.cloze": "Cloze",
    "stats.deck": "\u{1F4DA} Deck",
    "stats.tags": "\u{1F3F7}\uFE0F Tags",
    "stats.tags.none": "None",
    "stats.reviewCount": "\u{1F4C8} Review Count",
    "stats.correctCount": "\u2705 Correct Count",
    "stats.accuracy": "\u{1F4CA} Accuracy",
    "stats.averageTime": "\u23F1\uFE0F Average Time",
    "stats.difficulty": "\u{1F3AF} Difficulty",
    "stats.createdAt": "\u{1F4C5} Created",
    "stats.lastReview": "\u{1F504} Last Review",
    "stats.lastReview.never": "Never",
    "stats.nextReview": "\u23F0 Next Review",
    "stats.interval": "\u{1F4CF} Interval",
    "stats.ease": "\u{1F4AA} Ease",
    "stats.separator": "\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",
    "stats.times": "times",
    "stats.seconds": "s",
    "stats.days": "days",
    // src/ui/services/OverviewService.ts
    "service.fileNotExist": "\u26A0\uFE0F File does not exist",
    "service.annotationDeleted": "\u{1F5D1}\uFE0F Annotation deleted",
    "service.flashcardGenerated": "\u26A1 Flashcard generated",
    "service.generateFailed": "\u274C Failed to generate flashcard",
    "service.flashcardNotFound": "\u26A0\uFE0F Flashcard not found",
    "service.sourceFileOpened": "\u2705 Source file opened",
    "service.noteNotFound": "\u26A0\uFE0F Original note not found",
    // 最近删除
    "confirm.deleteWillRemove": "This will remove:",
    "confirm.note": "note",
    "confirm.notes": "notes",
    "confirm.flashcards": "flashcards",
    "confirm.annotation": "annotation",
    "confirm.cannotUndo": "\u26A0\uFE0F This action cannot be undone!",
    "notice.fileDeleted": '\u{1F4C4} File "{file}" has been deleted',
    "notice.autoCleanup": "Auto-cleaning associated content:",
    "recentDelete.title": "\u{1F5D1}\uFE0F Recently Deleted (Last 7 Days)",
    "recentDelete.empty": "No recently deleted items",
    "recentDelete.restore": "Restore",
    "recentDelete.deletePermanently": "Delete Permanently",
    "notice.movedToTrash": "\u{1F5D1}\uFE0F Moved to trash (recoverable within 7 days)",
    "notice.batchMovedToTrash": "\u2705 Moved {success} items to trash,{failed} failed",
    "notice.fileDeletedSimple": "\u{1F4C4} File deleted: {notes} notes and {cards} cards moved to trash",
    "notice.noteRestored": "\u2705 Note restored",
    "notice.cardRestored": "\u2705 Flashcard restored",
    "notice.cardsRestored": "\u2705 Restored {count} flashcards",
    "notice.restoreFailed": "\u274C Restore failed",
    "notice.permanentlyDeleted": "\u2705 Permanently deleted",
    "notice.deleteFailed": "\u274C Delete failed",
    "notice.allDeleted": "\u2705 Cleared {notes} notes and {cards} flashcards from trash",
    "recentDelete.clearAll": "\u{1F5D1}\uFE0F Clear All",
    "recentDelete.emptyHint": "Deleted items will be kept for 7 days",
    "confirm.clearAllDeleted": "Permanently delete all items in trash? This cannot be undone!",
    "confirm.restoreAssociatedCards": "Restore {count} associated flashcards?",
    "deleteReason.user": "Manual deletion",
    "deleteReason.note": "Note deleted",
    "deleteReason.file": "File deleted",
    "time.justNow": "Just now",
    "time.minutesAgo": "{minutes}m ago",
    "time.hoursAgo": "{hours}h ago",
    "time.daysAgo": "{days}d ago",
    // delete confirm
    "confirm.deleteItems": "Confirm deletion?",
    "confirm.notesCount": "{count} notes",
    "confirm.cardsCount": "{count} flashcards",
    // quick flashcard  creator
    "quickCard.created.qa": "\u2705 Flashcard created! (Q&A)",
    "quickCard.created.cloze": "\u2705 Flashcard created! (Cloze with {count} blanks)",
    "quickCard.createFailed": "\u274C Failed to create flashcard",
    "quickCard.noKeywords": "\u26A0\uFE0F No keywords found for cloze deletion",
    "quickCard.noDeletions": "\u26A0\uFE0F Could not create cloze deletions",
    "quickCard.question.default.heading": 'What is the key point about "{heading}"?',
    "quickCard.question.default.short": 'What does "{content}" mean?',
    "quickCard.question.default.medium": 'Explain: "{content}"',
    "quickCard.question.default.long": "What are the key points in this content?",
    // UnlockSystem - Level Names
    "unlock.level.1": "Collector",
    "unlock.level.2": "Thinker",
    "unlock.level.3": "Memorizer",
    "unlock.level.4": "Trainer",
    "unlock.level.5": "Analyst",
    // Level Up Messages
    "unlock.levelUp.1": "\u{1F389} level.1 Welcome, Collector!",
    "unlock.levelUp.2": "\u{1F393} level.2 Upgraded to Thinker!\nUnlocked: Annotations, Batch Operations",
    "unlock.levelUp.3": "\u{1F9E0} level.3 You are now a Memorizer!\nUnlocked: Scan Features, Review System",
    "unlock.levelUp.4": "\u{1F4AA} level.4 Promoted to Trainer!\nUnlocked: Statistics & Analysis",
    "unlock.levelUp.5": "\u{1F3C6} level.5 Achieved Analyst!\nAll features unlocked",
    // Next Steps
    "unlock.nextSteps.level1": "\u{1F4E6} Extract Notes:\n  \u2022 As Text: {text}/2\n  \u2022 As Q&A: {qa}/2\n  \u2022 As Cloze: {cloze}/2",
    "unlock.nextSteps.level2": "\u{1F4DD} Complete Annotations: {annotations}/3\n\u{1F4CB} Scan Notes: {scanned}/5",
    "unlock.nextSteps.level3": "\u{1F504} Review Cards: {reviewed}/30\n\u{1F4CB} Scan Highlighted Tables: {tables}/2",
    "unlock.nextSteps.level4": "\u{1F504} Review Cards: {reviewed}/70\n\u{1F4C5} Total Days: {total}/21\n\u{1F4CA} Visit Stats Page: {visited}",
    "unlock.nextSteps.level5": '\u{1F389} Congratulations! All features unlocked!\n\n\u{1F52E} Community feature coming soon\nWill be enabled when conditions are met\n\u{1F517} <a href="https://jz-quartz.pages.dev/6.about/%E6%99%BA%E5%9B%8A%E5%9B%A2" target="_blank">Learn More (Click to View)</a>',
    // Modal
    "unlock.modal.title": "\u{1F512} Feature Locked",
    "unlock.modal.requireLevel": '"{feature}" requires Lv{level} to unlock',
    "unlock.modal.currentProgress": "Current Progress:",
    // Level Info Modal
    "unlock.levelInfo.title": "\u{1F3C6} Lv{level} {name}",
    "unlock.levelInfo.cumulativeStats": "Cumulative Statistics",
    "unlock.levelInfo.milestones": "\u{1F3AF} Achievement Milestones",
    // Stats Labels
    "unlock.stat.cardsExtracted": "Cards Extracted",
    "unlock.stat.annotationsCompleted": "Annotations Added",
    "unlock.stat.cardsReviewed": "Cards Reviewed",
    "unlock.stat.tablesScanned": "Tables Scanned",
    "unlock.stat.consecutiveDays": "Consecutive Days",
    "unlock.stat.totalDays": "Total Days",
    // Progress Indicators
    "unlock.progress.cardsExtracted": "\u{1F4E6} Extract Cards",
    "unlock.progress.annotationsCompleted": "\u{1F4DD} Complete Annotations",
    "unlock.progress.cardsReviewed": "\u{1F504} Review Cards",
    "unlock.progress.tablesScanned": "\u{1F4CB} Scan Highlighted Tables",
    "unlock.progress.consecutiveDays": "\u{1F525} Consecutive Days",
    "unlock.progress.totalDays": "\u{1F4C8} Total Days",
    "unlock.progress.statsPageVisited": "\u{1F4CA} Visit Stats Page",
    "unlock.community.locked": "Community feature locked",
    "unlock.community.link": "Learn about Community",
    "filter.unannotated": "No Annotation",
    // unlock refactor
    "unlock.stat.notesExtractedAsText": "Notes as Text",
    "unlock.stat.notesExtractedAsQA": "Notes as Q&A",
    "unlock.stat.notesExtractedAsCloze": "Notes as Cloze",
    "unlock.stat.notesScanned": "Notes Scanned",
    // content card
    "card.question": "Question",
    "card.answer": "Answer",
    "card.justDue": "Just due",
    "card.delayedMinutes": "Delayed {minutes} minutes",
    "card.delayedHours": "Delayed {hours} hours",
    "card.delayedDays": "Delayed {days} days",
    "card.dueInMinutes": "Due in {minutes} minutes",
    "card.dueInHours": "Due in {hours} hours",
    "card.dueInDays": "Due in {days} days"
  },
  "zh-CN": {
    // View titles
    "view.overview": "\u5B66\u4E60\u6982\u89C8",
    "view.review": "\u590D\u4E60",
    "view.stats": "\u7EDF\u8BA1",
    // Toolbar
    "toolbar.search": "\u641C\u7D22...",
    "toolbar.filter.all": "\u5168\u90E8",
    "toolbar.filter.annotated": "\u6709\u6279\u6CE8",
    "toolbar.filter.flashcards": "\u6709\u95EA\u5361",
    "toolbar.group.file": "\u6309\u6587\u4EF6",
    "toolbar.group.annotation": "\u6309\u6279\u6CE8",
    "toolbar.group.tag": "\u6309\u6807\u7B7E",
    "toolbar.group.date": "\u6309\u65E5\u671F",
    "toolbar.checkReview": "\u68C0\u67E5\u590D\u4E60",
    // Batch actions
    "batch.selectAll": "\u5168\u9009",
    "batch.create": "\u521B\u5EFA\u95EA\u5361",
    "batch.delete": "\u5220\u9664",
    "batch.cancel": "\u53D6\u6D88",
    // Fixed entries
    "entry.allNotes": "\u5168\u90E8\u7B14\u8BB0",
    "entry.cardList": "\u95EA\u5361\u5217\u8868",
    // Level names
    "level.1": "\u91C7\u96C6\u8005",
    "level.2": "\u601D\u8003\u8005",
    "level.3": "\u8BB0\u5FC6\u5E08",
    "level.4": "\u8BAD\u7EC3\u8005",
    "level.5": "\u5206\u6790\u5E08",
    "level.current": "\u5F53\u524D\u7B49\u7EA7",
    "level.clickDetails": "\u70B9\u51FB\u67E5\u770B\u8BE6\u60C5",
    // Review reminder
    "review.today": "\u4ECA\u65E5\u590D\u4E60",
    "review.start": "\u5F00\u59CB\u590D\u4E60",
    "review.justDue": "\u23F0 \u521A\u521A\u5230\u671F,\u8D81\u70ED\u590D\u4E60",
    "review.delayed": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6",
    "review.urgentHours": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6,\u5EFA\u8BAE\u4F18\u5148\u5B8C\u6210",
    "review.urgentDays": "\u{1F6A8} \u590D\u4E60\u5DF2\u5EF6\u540E {days} \u5929,\u5EFA\u8BAE\u5C3D\u5FEB\u6E05\u7A7A!",
    "review.streak": "\u{1F525} \u8FDE\u7EED\u590D\u4E60\u7B2C {days} \u5929!",
    // Notices
    "notice.noSelection": "\u26A0\uFE0F \u8BF7\u5148\u9009\u62E9\u9879\u76EE",
    "notice.noDueCards": "\u6682\u65E0\u9700\u8981\u590D\u4E60\u7684\u5361\u7247!",
    "notice.deleted": "\u{1F5D1}\uFE0F \u5DF2\u5220\u9664",
    "notice.saved": "\u2705 \u5DF2\u4FDD\u5B58",
    // Commands
    "command.scanFile": "\u626B\u63CF\u5F53\u524D\u6587\u4EF6",
    "command.scanVault": "\u626B\u63CF\u6574\u4E2A\u4ED3\u5E93",
    "command.openOverview": "\u6253\u5F00\u5B66\u4E60\u6982\u89C8(\u4FA7\u8FB9\u680F)",
    "command.openMainOverview": "\u5207\u6362\u5B66\u4E60\u6982\u89C8(\u4E3B\u89C6\u56FE)",
    "command.addAnnotation": "\u6DFB\u52A0\u6587\u4EF6\u6279\u6CE8",
    "command.startReview": "\u5F00\u59CB\u95EA\u5361\u590D\u4E60",
    "command.showStats": "\u663E\u793A\u95EA\u5361\u7EDF\u8BA1",
    // Ribbons
    "ribbon.overview": "\u6253\u5F00\u5B66\u4E60\u6982\u89C8(\u4FA7\u8FB9\u680F)",
    "ribbon.review": "\u5F00\u59CB\u590D\u4E60",
    // Context menu
    "menu.jumpToSource": "\u8DF3\u8F6C\u5230\u6E90",
    "menu.toggleAnnotation": "\u5207\u6362\u6279\u6CE8",
    "menu.editFlashcard": "\u7F16\u8F91\u95EA\u5361",
    "menu.quickGenerate": "\u5FEB\u901F\u751F\u6210",
    "menu.createQA": "\u521B\u5EFA\u95EE\u7B54",
    "menu.createCloze": "\u521B\u5EFA\u586B\u7A7A",
    "menu.viewStats": "\u67E5\u770B\u7EDF\u8BA1",
    "menu.delete": "\u5220\u9664",
    // Status bar
    "status.due": "{count} \u5F20\u5F85\u590D\u4E60",
    "status.tooltip": "{due} \u5F20\u5361\u7247\u5F85\u590D\u4E60\n{new} \u5F20\u65B0\u5361\u7247",
    // Misc
    "empty.noContent": "\u6682\u65E0\u5185\u5BB9",
    "empty.noDocuments": "\u6682\u65E0\u6587\u6863",
    "fileList.title": "\u{1F4C1} \u6587\u6863\u5217\u8868",
    "notice.fileNotFound": "\u274C \u6E90\u6587\u4EF6\u4E0D\u5B58\u5728",
    "notice.jumpedToSource": "\u2705 \u5DF2\u8DF3\u8F6C\u5230\u6E90\u6587\u4EF6",
    "notice.jumpFailed": "\u274C \u8DF3\u8F6C\u5931\u8D25",
    "notice.flashcardNotFound": "\u26A0\uFE0F \u627E\u4E0D\u5230\u5BF9\u5E94\u7684\u95EA\u5361",
    "notice.alreadyHasFlashcards": "\u26A0\uFE0F \u9009\u4E2D\u7684\u7B14\u8BB0\u90FD\u5DF2\u521B\u5EFA\u8FC7\u95EA\u5361",
    "notice.batchDeleted": "\u2705 \u5DF2\u5220\u9664 {success} \u9879\uFF0C{failed} \u9879\u5931\u8D25",
    "confirm.deleteNote": "\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u7B14\u8BB0\u5417\uFF1F",
    "confirm.deleteFlashcard": "\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u5F20\u95EA\u5361\u5417\uFF1F",
    "confirm.batchDeleteNotes": "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 {count} \u6761\u7B14\u8BB0\u5417\uFF1F",
    "confirm.batchDeleteFlashcards": "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 {count} \u5F20\u95EA\u5361\u5417\uFF1F",
    "toolbar.checkReview.tooltip": "\u68C0\u67E5\u662F\u5426\u6709\u9700\u8981\u590D\u4E60\u7684\u5361\u7247",
    "batch.deselectAll": "\u53D6\u6D88\u5168\u9009",
    "batch.deselectAll.tooltip": "\u53D6\u6D88\u5F53\u524D\u9875\u9762\u7684\u5168\u9009",
    "batch.selectAll.tooltip": "\u5168\u9009\u5F53\u524D {count} \u9879",
    "batch.noItems": "\u6CA1\u6709\u53EF\u9009\u9879",
    "batch.selectAnnotationFirst": '\u8BF7\u5148\u9009\u62E9"\u6709\u6279\u6CE8"\u6216"\u65E0\u6279\u6CE8"',
    "batch.create.tooltip": "\u6279\u91CF\u5236\u5361",
    "batch.delete.tooltip": "\u6279\u91CF\u5220\u9664",
    "batch.cancel.tooltip": "\u9000\u51FA\u6279\u91CF\u6A21\u5F0F\u5E76\u6E05\u7A7A\u6240\u6709\u9009\u62E9",
    //review 
    "confirm.resetCardStats": "\u786E\u5B9A\u8981\u91CD\u7F6E\u8FD9\u5F20\u5361\u7247\u7684\u5B66\u4E60\u8FDB\u5EA6\u5417\uFF1F",
    "confirm.resetDeckStats": '\u786E\u5B9A\u8981\u91CD\u7F6E\u5361\u7EC4"{deck}"\u7684\u6240\u6709\u5B66\u4E60\u8FDB\u5EA6\u5417\uFF1F',
    "notice.deckStatsReset": '\u2705 \u5361\u7EC4"{deck}"\u7684\u7EDF\u8BA1\u5DF2\u91CD\u7F6E',
    "notice.flashcardDeleted": "\u{1F5D1}\uFE0F \u95EA\u5361\u5DF2\u5220\u9664",
    "notice.deleteFlashcardFailed": "\u274C \u5220\u9664\u95EA\u5361\u5931\u8D25",
    "notice.flashcardUpdated": "\u2705 \u95EA\u5361\u5DF2\u66F4\u65B0",
    "notice.updateFlashcardFailed": "\u274C \u66F4\u65B0\u95EA\u5361\u5931\u8D25",
    "notice.cardStatsReset": "\u2705 \u5361\u7247\u7EDF\u8BA1\u5DF2\u91CD\u7F6E",
    "notice.resetStatsFailed": "\u274C \u91CD\u7F6E\u7EDF\u8BA1\u5931\u8D25",
    // sidebar
    "review.todayProgress": "\u4ECA\u65E5\u590D\u4E60: {reviewed} / {total}",
    "review.delayedHoursShort": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6\uFF0C\u73B0\u5728\u5904\u7406\u521A\u597D",
    "group.uncategorized": "\u672A\u5206\u7C7B",
    // component/modal/batch
    "batchCreate.title": "\u26A1 \u6279\u91CF\u521B\u5EFA\u95EA\u5361",
    "batchCreate.description": "\u4E3A {count} \u6761\u672A\u521B\u5EFA\u95EA\u5361\u7684\u7B14\u8BB0\u521B\u5EFA\u95EA\u5361",
    "batchCreate.cardType": "\u5361\u7247\u7C7B\u578B",
    "batchCreate.smartType": "\u26A1 \u667A\u80FD\u8BC6\u522B",
    "batchCreate.smartType.desc": "\u81EA\u52A8\u9009\u62E9\u6700\u5408\u9002\u7684\u7C7B\u578B",
    "batchCreate.qaType": "\u{1F4DD} \u95EE\u7B54\u5361\u7247",
    "batchCreate.qaType.desc": "\u95EE\u9898\u548C\u7B54\u6848\u683C\u5F0F",
    "batchCreate.clozeType": "\u270F\uFE0F \u586B\u7A7A\u5361\u7247",
    "batchCreate.clozeType.desc": "\u6316\u7A7A\u586B\u7A7A",
    "batchCreate.cancel": "\u53D6\u6D88",
    "batchCreate.createButton": "\u521B\u5EFA {count} \u5F20\u5361\u7247",
    "batchCreate.successNotice": "\u2705 \u5DF2\u521B\u5EFA {success} \u5F20\u95EA\u5361\uFF01{failed} \u9879\u5931\u8D25",
    // component/modal/EditFlashcardModal
    "editCard.title": "\u270F\uFE0F \u7F16\u8F91\u95EA\u5361",
    "editCard.description.qa": "\u7F16\u8F91 Q&A \u5361\u7247\u5185\u5BB9",
    "editCard.description.cloze": "\u7F16\u8F91\u586B\u7A7A\u5361\u7247\u5185\u5BB9",
    "editCard.info.file": "\u{1F4C1} \u6587\u4EF6",
    "editCard.info.deck": "\u{1F4DA} \u5361\u7EC4",
    "editCard.info.reviews": "\u{1F4CA} \u590D\u4E60",
    "editCard.info.correct": "\u6B63\u786E",
    "editCard.front.qa": "\u95EE\u9898 (Front)",
    "editCard.front.cloze": "\u5B8C\u6574\u6587\u672C",
    "editCard.front.desc": "\u5361\u7247\u6B63\u9762\u663E\u793A\u7684\u5185\u5BB9",
    "editCard.back.qa": "\u7B54\u6848 (Back)",
    "editCard.back.cloze": "\u6316\u7A7A\u7B54\u6848",
    "editCard.back.desc.qa": "\u5361\u7247\u80CC\u9762\u663E\u793A\u7684\u7B54\u6848",
    "editCard.back.desc.cloze": "\u591A\u4E2A\u7B54\u6848\u7528\u9017\u53F7\u5206\u9694",
    "editCard.cancel": "\u53D6\u6D88",
    "editCard.save": "\u4FDD\u5B58",
    "editCard.error.emptyFront": "\u26A0\uFE0F \u95EE\u9898/\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A",
    "editCard.error.emptyBack": "\u26A0\uFE0F \u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A",
    "editCard.success": "\u2705 \u95EA\u5361\u5DF2\u66F4\u65B0",
    "editCard.saveFailed": "\u274C \u4FDD\u5B58\u5931\u8D25",
    // component/modal/FlashcardEditModal
    "flashcardEdit.title": "\u7F16\u8F91\u95EA\u5361",
    "flashcardEdit.question": "\u95EE\u9898",
    "flashcardEdit.answer": "\u7B54\u6848",
    "flashcardEdit.save": "\u4FDD\u5B58",
    // component/modal/ManualFlashcardModal.ts
    "manualCard.title.qa": "\u270F\uFE0F \u521B\u5EFA QA \u95EA\u5361",
    "manualCard.title.cloze": "\u270F\uFE0F \u521B\u5EFA\u586B\u7A7A\u95EA\u5361",
    "manualCard.description.qa": "\u521B\u5EFA\u4E00\u5F20\u95EE\u7B54\u5361\u7247\uFF0C\u53EF\u4EE5\u81EA\u5B9A\u4E49\u95EE\u9898\u548C\u7B54\u6848",
    "manualCard.description.cloze": "\u521B\u5EFA\u4E00\u5F20\u586B\u7A7A\u5361\u7247\uFF0C\u5728\u5B8C\u6574\u6587\u672C\u4E2D\u6807\u8BB0\u8981\u6316\u7A7A\u7684\u5185\u5BB9",
    "manualCard.front.qa": "\u95EE\u9898 (Front)",
    "manualCard.front.cloze": "\u5B8C\u6574\u6587\u672C",
    "manualCard.front.desc.qa": "\u5361\u7247\u6B63\u9762\u663E\u793A\u7684\u95EE\u9898",
    "manualCard.front.desc.cloze": "\u5305\u542B\u7B54\u6848\u7684\u5B8C\u6574\u53E5\u5B50\u6216\u6BB5\u843D",
    "manualCard.front.placeholder.qa": "\u4F8B\u5982: \u4EC0\u4E48\u662F\u95F4\u9694\u91CD\u590D?",
    "manualCard.front.placeholder.cloze": "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D\u662F\u4E00\u79CD\u5B66\u4E60\u6280\u672F",
    "manualCard.back.qa": "\u7B54\u6848 (Back)",
    "manualCard.back.cloze": "\u6316\u7A7A\u5185\u5BB9",
    "manualCard.back.desc.qa": "\u5361\u7247\u80CC\u9762\u663E\u793A\u7684\u7B54\u6848",
    "manualCard.back.desc.cloze": "\u8981\u88AB\u6316\u7A7A\u7684\u5173\u952E\u8BCD\u6216\u77ED\u8BED",
    "manualCard.back.placeholder.qa": "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D\u662F\u4E00\u79CD\u5B66\u4E60\u6280\u672F...",
    "manualCard.back.placeholder.cloze": "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D",
    "manualCard.cancel": "\u53D6\u6D88",
    "manualCard.create": "\u521B\u5EFA\u95EA\u5361",
    "manualCard.error.emptyFront": "\u26A0\uFE0F \u95EE\u9898/\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A",
    "manualCard.error.emptyBack": "\u26A0\uFE0F \u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A",
    "manualCard.success.qa": "\u2705 QA \u95EA\u5361\u5DF2\u521B\u5EFA",
    "manualCard.success.cloze": "\u2705 \u586B\u7A7A\u95EA\u5361\u5DF2\u521B\u5EFA",
    "manualCard.createFailed": "\u274C \u521B\u5EFA\u95EA\u5361\u5931\u8D25",
    // src/ui/components/ContentList.ts 
    "contentList.group.annotated": "\u6709\u6279\u6CE8",
    "contentList.group.notAnnotated": "\u65E0\u6279\u6CE8",
    "contentList.empty.noFlashcards": "\u{1F4ED} \u8BE5\u5206\u7EC4\u4E0B\u6682\u65E0\u95EA\u5361",
    "contentList.empty.noNotes": "\u5F53\u524D\u6587\u6863\u6682\u65E0\u7B14\u8BB0",
    "contentList.empty.tryFilter": "\u5C1D\u8BD5\u5207\u6362\u5176\u4ED6\u8FC7\u6EE4\u5668\u67E5\u770B",
    "contentList.empty.startHighlight": "\u5F00\u59CB\u9AD8\u4EAE\u6587\u672C\u6765\u521B\u5EFA\u7B14\u8BB0",
    "contentList.empty.noContent": "\u6682\u65E0\u5185\u5BB9",
    // src/ui/components/ContextMenuBuilder.ts
    "contextMenu.jumpToSource": "\u{1F4D6} \u8DF3\u8F6C\u5230\u539F\u6587",
    "contextMenu.editAnnotation": "\u{1F4AC} \u7F16\u8F91\u6279\u6CE8",
    "contextMenu.editFlashcard": "\u270F\uFE0F \u7F16\u8F91\u95EA\u5361",
    "contextMenu.generateFlashcard": "\u26A1 \u751F\u6210\u95EA\u5361",
    "contextMenu.createQA": "\u2795 \u521B\u5EFA QA \u95EA\u5361",
    "contextMenu.createCloze": "\u2795 \u521B\u5EFA\u586B\u7A7A\u95EA\u5361",
    "contextMenu.viewStats": "\u{1F4CA} \u67E5\u770B\u7EDF\u8BA1",
    "contextMenu.deleteNote": "\u{1F5D1}\uFE0F \u5220\u9664\u7B14\u8BB0",
    "contextMenu.editCard": "\u270F\uFE0F \u7F16\u8F91\u5361\u7247",
    "contextMenu.deleteCard": "\u{1F5D1}\uFE0F \u5220\u9664\u5361\u7247",
    "stats.title": "\u{1F4CA} \u95EA\u5361\u7EDF\u8BA1",
    "stats.file": "\u{1F4C1} \u6587\u4EF6",
    "stats.type": "\u{1F0CF} \u7C7B\u578B",
    "stats.type.qa": "Q&A",
    "stats.type.cloze": "\u586B\u7A7A",
    "stats.deck": "\u{1F4DA} \u5361\u7EC4",
    "stats.tags": "\u{1F3F7}\uFE0F \u6807\u7B7E",
    "stats.tags.none": "\u65E0",
    "stats.reviewCount": "\u{1F4C8} \u590D\u4E60\u6B21\u6570",
    "stats.correctCount": "\u2705 \u6B63\u786E\u6B21\u6570",
    "stats.accuracy": "\u{1F4CA} \u6B63\u786E\u7387",
    "stats.averageTime": "\u23F1\uFE0F \u5E73\u5747\u7528\u65F6",
    "stats.difficulty": "\u{1F3AF} \u96BE\u5EA6",
    "stats.createdAt": "\u{1F4C5} \u521B\u5EFA\u65F6\u95F4",
    "stats.lastReview": "\u{1F504} \u4E0A\u6B21\u590D\u4E60",
    "stats.lastReview.never": "\u672A\u590D\u4E60",
    "stats.nextReview": "\u23F0 \u4E0B\u6B21\u590D\u4E60",
    "stats.interval": "\u{1F4CF} \u95F4\u9694",
    "stats.ease": "\u{1F4AA} \u719F\u7EC3\u5EA6",
    "stats.separator": "\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",
    "stats.times": "\u6B21",
    "stats.seconds": "\u79D2",
    "stats.days": "\u5929",
    // src/ui/services/OverviewService.ts
    "service.fileNotExist": "\u26A0\uFE0F \u6587\u4EF6\u4E0D\u5B58\u5728",
    "service.annotationDeleted": "\u{1F5D1}\uFE0F \u6279\u6CE8\u5DF2\u5220\u9664",
    "service.flashcardGenerated": "\u26A1 \u95EA\u5361\u5DF2\u751F\u6210",
    "service.generateFailed": "\u274C \u751F\u6210\u95EA\u5361\u5931\u8D25",
    "service.flashcardNotFound": "\u26A0\uFE0F \u627E\u4E0D\u5230\u95EA\u5361",
    "service.sourceFileOpened": "\u2705 \u5DF2\u6253\u5F00\u6E90\u6587\u4EF6",
    "service.noteNotFound": "\u26A0\uFE0F \u627E\u4E0D\u5230\u539F\u59CB\u7B14\u8BB0",
    // 最近删除
    "confirm.deleteWillRemove": "\u6B64\u64CD\u4F5C\u5C06\u5220\u9664\uFF1A",
    "confirm.note": "\u6761\u7B14\u8BB0",
    "confirm.notes": "\u6761\u7B14\u8BB0",
    "confirm.flashcards": "\u5F20\u95EA\u5361",
    "confirm.annotation": "\u6761\u6279\u6CE8",
    "confirm.cannotUndo": "\u26A0\uFE0F \u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\uFF01",
    "notice.fileDeleted": '\u{1F4C4} \u6587\u4EF6 "{file}" \u5DF2\u88AB\u5220\u9664',
    "notice.autoCleanup": "\u81EA\u52A8\u6E05\u7406\u5173\u8054\u5185\u5BB9\uFF1A",
    "recentDelete.title": "\u{1F5D1}\uFE0F \u6700\u8FD1\u5220\u9664 (\u6700\u8FD17\u5929)",
    "recentDelete.empty": "\u6682\u65E0\u6700\u8FD1\u5220\u9664\u7684\u9879\u76EE",
    "recentDelete.restore": "\u6062\u590D",
    "recentDelete.deletePermanently": "\u6C38\u4E45\u5220\u9664",
    "notice.movedToTrash": "\u{1F5D1}\uFE0F \u5DF2\u79FB\u81F3\u56DE\u6536\u7AD9 (7\u5929\u5185\u53EF\u6062\u590D)",
    "notice.batchMovedToTrash": "\u2705 \u5DF2\u5C06 {success} \u9879\u79FB\u81F3\u56DE\u6536\u7AD9",
    "notice.fileDeletedSimple": "\u{1F4C4} \u6587\u4EF6\u5DF2\u5220\u9664\uFF1A{notes} \u6761\u7B14\u8BB0\u548C {cards} \u5F20\u95EA\u5361\u5DF2\u79FB\u81F3\u56DE\u6536\u7AD9",
    "notice.noteRestored": "\u2705 \u7B14\u8BB0\u5DF2\u6062\u590D",
    "notice.cardRestored": "\u2705 \u95EA\u5361\u5DF2\u6062\u590D",
    "notice.cardsRestored": "\u2705 \u5DF2\u6062\u590D {count} \u5F20\u95EA\u5361",
    "notice.restoreFailed": "\u274C \u6062\u590D\u5931\u8D25",
    "notice.permanentlyDeleted": "\u2705 \u5DF2\u6C38\u4E45\u5220\u9664",
    "notice.deleteFailed": "\u274C \u5220\u9664\u5931\u8D25",
    "notice.allDeleted": "\u2705 \u5DF2\u6E05\u7A7A {notes} \u6761\u7B14\u8BB0\u548C {cards} \u5F20\u95EA\u5361",
    "recentDelete.clearAll": "\u{1F5D1}\uFE0F \u4E00\u952E\u6E05\u7A7A",
    "recentDelete.emptyHint": "\u5220\u9664\u7684\u5185\u5BB9\u5C06\u4FDD\u75597\u5929",
    "confirm.clearAllDeleted": "\u786E\u5B9A\u8981\u6C38\u4E45\u5220\u9664\u56DE\u6536\u7AD9\u4E2D\u7684\u6240\u6709\u9879\u76EE\u5417\uFF1F\u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\uFF01",
    "confirm.restoreAssociatedCards": "\u662F\u5426\u6062\u590D {count} \u5F20\u5173\u8054\u7684\u95EA\u5361\uFF1F",
    "deleteReason.user": "\u624B\u52A8\u5220\u9664",
    "deleteReason.note": "\u7B14\u8BB0\u5220\u9664",
    "deleteReason.file": "\u6587\u4EF6\u5220\u9664",
    "time.justNow": "\u521A\u521A",
    "time.minutesAgo": "{minutes}\u5206\u949F\u524D",
    "time.hoursAgo": "{hours}\u5C0F\u65F6\u524D",
    "time.daysAgo": "{days}\u5929\u524D",
    // delete confirm
    "confirm.deleteItems": "\u786E\u8BA4\u5220\u9664\uFF1F",
    "confirm.notesCount": "{count} \u6761\u7B14\u8BB0",
    "confirm.cardsCount": "{count} \u5F20\u95EA\u5361",
    // quick flashcard  creator
    "quickCard.created.qa": "\u2705 \u95EA\u5361\u5DF2\u521B\u5EFA\uFF01(\u95EE\u7B54\u5361)",
    "quickCard.created.cloze": "\u2705 \u95EA\u5361\u5DF2\u521B\u5EFA\uFF01(\u586B\u7A7A\u5361\uFF0C{count} \u4E2A\u7A7A)",
    "quickCard.createFailed": "\u274C \u521B\u5EFA\u95EA\u5361\u5931\u8D25",
    "quickCard.noKeywords": "\u26A0\uFE0F \u672A\u627E\u5230\u53EF\u7528\u4E8E\u6316\u7A7A\u7684\u5173\u952E\u8BCD",
    "quickCard.noDeletions": "\u26A0\uFE0F \u65E0\u6CD5\u521B\u5EFA\u6316\u7A7A",
    "quickCard.question.default.heading": '\u5173\u4E8E"{heading}"\u7684\u8981\u70B9\u662F\u4EC0\u4E48\uFF1F',
    "quickCard.question.default.short": '"{content}"\u662F\u4EC0\u4E48\u610F\u601D\uFF1F',
    "quickCard.question.default.medium": '\u89E3\u91CA\uFF1A"{content}"',
    "quickCard.question.default.long": "\u8FD9\u6BB5\u5185\u5BB9\u7684\u8981\u70B9\u662F\u4EC0\u4E48\uFF1F",
    // UnlockSystem - 等级名称
    "unlock.level.1": "\u91C7\u96C6\u8005",
    "unlock.level.2": "\u601D\u8003\u8005",
    "unlock.level.3": "\u8BB0\u5FC6\u5E08",
    "unlock.level.4": "\u8BAD\u7EC3\u8005",
    "unlock.level.5": "\u5206\u6790\u5E08",
    // 升级消息
    "unlock.levelUp.1": "\u{1F389} level.1 \u6B22\u8FCE\u6210\u4E3A\u91C7\u96C6\u8005!",
    "unlock.levelUp.2": "\u{1F393} level.2 \u5347\u7EA7\u4E3A\u601D\u8003\u8005!\n\u89E3\u9501: \u6279\u6CE8\u529F\u80FD\u3001\u6279\u91CF\u64CD\u4F5C",
    "unlock.levelUp.3": "\u{1F9E0} level.3 \u6210\u4E3A\u8BB0\u5FC6\u5E08!\n\u89E3\u9501: \u626B\u63CF\u529F\u80FD\u3001\u590D\u4E60\u7CFB\u7EDF",
    "unlock.levelUp.4": "\u{1F4AA} level.4 \u664B\u5347\u8BAD\u7EC3\u8005!\n\u89E3\u9501: \u7EDF\u8BA1\u5206\u6790",
    "unlock.levelUp.5": "\u{1F3C6} level.5 \u8FBE\u6210\u5206\u6790\u5E08!\n\u6240\u6709\u529F\u80FD\u5DF2\u89E3\u9501",
    // 下一步提示
    "unlock.nextSteps.level1": "\u{1F4E6} \u53F3\u952E\u63D0\u53D6\u7B14\u8BB0:\n  \u2022 \u63D0\u53D6\u4E3A\u6587\u672C: {text}/2\n  \u2022 \u63D0\u53D6\u4E3A\u95EE\u7B54: {qa}/2\n  \u2022 \u63D0\u53D6\u4E3A\u586B\u7A7A: {cloze}/2",
    "unlock.nextSteps.level2": "\u{1F4DD} \u5B8C\u6210\u6279\u6CE8: {annotations}/3\n\u{1F4CB} \u626B\u63CF\u63D0\u53D6\u7B14\u8BB0: {scanned}/5",
    "unlock.nextSteps.level3": "\u{1F504} \u590D\u4E60\u5361\u7247: {reviewed}/30\n\u{1F4CB} \u626B\u63CF\u5E26\u9AD8\u4EAE\u7684\u8868\u683C: {tables}/2",
    "unlock.nextSteps.level4": "\u{1F504} \u590D\u4E60\u5361\u7247: {reviewed}/70\n\u{1F4C5} \u603B\u4F7F\u7528\u5929\u6570: {total}/21\n\u{1F4CA} \u8BBF\u95EE\u7EDF\u8BA1\u9875: {visited}",
    "unlock.nextSteps.level5": '\u{1F389} \u606D\u559C\u89E3\u9501\u6240\u6709\u529F\u80FD!\n\n\u{1F52E} \u667A\u56CA\u56E2\u529F\u80FD\u5C1A\u672A\u5F00\u653E\n\u8FBE\u5230\u4EBA\u6570\u4E0E\u6BB5\u4F4D\u6761\u4EF6\u540E\u5F00\u542F\n\u{1F517} <a href="https://jz-quartz.pages.dev/6.about/%E6%99%BA%E5%9B%8A%E5%9B%A2" target="_blank">\u4E86\u89E3\u667A\u56CA\u56E2(\u70B9\u51FB\u67E5\u770B)</a>',
    // 弹窗
    "unlock.modal.title": "\u{1F512} \u529F\u80FD\u672A\u89E3\u9501",
    "unlock.modal.requireLevel": '"{feature}" \u9700\u8981 Lv{level} \u89E3\u9501',
    "unlock.modal.currentProgress": "\u5F53\u524D\u8FDB\u5EA6:",
    // 等级信息弹窗
    "unlock.levelInfo.title": "\u{1F3C6} Lv{level} {name}",
    "unlock.levelInfo.cumulativeStats": "\u7D2F\u8BA1\u7EDF\u8BA1",
    "unlock.levelInfo.milestones": "\u{1F3AF} \u6210\u5C31\u91CC\u7A0B\u7891",
    // 统计标签
    "unlock.stat.cardsExtracted": "\u63D0\u53D6\u5361\u7247",
    "unlock.stat.annotationsCompleted": "\u5B8C\u6210\u6279\u6CE8",
    "unlock.stat.cardsReviewed": "\u590D\u4E60\u5361\u7247",
    "unlock.stat.tablesScanned": "\u626B\u63CF\u8868\u683C",
    "unlock.stat.consecutiveDays": "\u8FDE\u7EED\u5929\u6570",
    "unlock.stat.totalDays": "\u603B\u4F7F\u7528\u5929\u6570",
    // 进度指标
    "unlock.progress.cardsExtracted": "\u{1F4E6} \u63D0\u53D6\u5361\u7247",
    "unlock.progress.annotationsCompleted": "\u{1F4DD} \u5B8C\u6210\u6279\u6CE8",
    "unlock.progress.cardsReviewed": "\u{1F504} \u590D\u4E60\u5361\u7247",
    "unlock.progress.tablesScanned": "\u{1F4CB} \u626B\u63CF\u5E26\u9AD8\u4EAE\u7684\u8868\u683C",
    "unlock.progress.consecutiveDays": "\u{1F525} \u8FDE\u7EED\u4F7F\u7528\u5929\u6570",
    "unlock.progress.totalDays": "\u{1F4C8} \u603B\u4F7F\u7528\u5929\u6570",
    "unlock.progress.statsPageVisited": "\u{1F4CA} \u8BBF\u95EE\u7EDF\u8BA1\u9875",
    "unlock.community.locked": "\u667A\u56CA\u56E2\u529F\u80FD\u5DF2\u9501\u5B9A",
    "unlock.community.link": "\u4E86\u89E3\u667A\u56CA\u56E2",
    "filter.unannotated": "\u65E0\u6279\u6CE8",
    // unlock refactor
    "unlock.stat.notesExtractedAsText": "\u63D0\u53D6\u4E3A\u6587\u672C",
    "unlock.stat.notesExtractedAsQA": "\u63D0\u53D6\u4E3A\u95EE\u7B54",
    "unlock.stat.notesExtractedAsCloze": "\u63D0\u53D6\u4E3A\u586B\u7A7A",
    "unlock.stat.notesScanned": "\u626B\u63CF\u7B14\u8BB0",
    // content card
    "card.question": "\u95EE\u9898",
    "card.answer": "\u7B54\u6848",
    "card.justDue": "\u521A\u521A\u5230\u671F",
    "card.delayedMinutes": "\u5EF6\u540E {minutes} \u5206\u949F",
    "card.delayedHours": "\u5EF6\u540E {hours} \u5C0F\u65F6",
    "card.delayedDays": "\u5EF6\u540E {days} \u5929",
    "card.dueInMinutes": "{minutes} \u5206\u949F\u540E",
    "card.dueInHours": "{hours} \u5C0F\u65F6\u540E",
    "card.dueInDays": "{days} \u5929\u540E"
  }
};
function t(key, language = "en", params) {
  let text = translations[language][key] || translations["en"][key] || key;
  if (params) {
    Object.entries(params).forEach(([paramKey, value]) => {
      text = text.replace(`{${paramKey}}`, String(value));
    });
  }
  return text;
}

// src/core/QuickFlashcardCreator.ts
var import_obsidian2 = require("obsidian");
var QuickFlashcardCreator = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  get language() {
    return this.plugin.settings.language || "en";
  }
  /**
   * 从提取内容一键创建问答卡
   * 如果有批注，使用批注作为答案
   */
  async createQuickQACard(contentUnit) {
    try {
      const annotation = this.plugin.annotationManager.getContentAnnotation(contentUnit.id);
      let question;
      let answer;
      if (annotation && annotation.content) {
        if (this.isQuestion(annotation.content)) {
          question = this.generateDefaultQuestion(contentUnit);
          answer = annotation.content;
        } else {
          question = this.generateDefaultQuestion(contentUnit);
          answer = annotation.content;
        }
      } else {
        question = this.generateDefaultQuestion(contentUnit);
        answer = contentUnit.content;
      }
      const card = await this.plugin.flashcardManager.createQACard(
        contentUnit.id,
        question,
        answer
      );
      new import_obsidian2.Notice(`\u2705 Flashcard created! (Q&A)`);
    } catch (error) {
      console.error("Error creating quick flashcard:", error);
      new import_obsidian2.Notice("\u274C Failed to create flashcard");
    }
  }
  /**
   * 从提取内容一键创建完形填空卡
   * 自动识别关键词
   */
  async createQuickClozeCard(contentUnit) {
    try {
      const keywords = this.extractKeywords(contentUnit.content);
      if (keywords.length === 0) {
        new import_obsidian2.Notice("\u26A0\uFE0F No keywords found for cloze deletion");
        return;
      }
      const deletions = keywords.map((keyword) => {
        const index = contentUnit.content.indexOf(keyword.word);
        return {
          index,
          answer: keyword.word
        };
      }).filter((d) => d.index !== -1);
      if (deletions.length === 0) {
        new import_obsidian2.Notice("\u26A0\uFE0F Could not create cloze deletions");
        return;
      }
      const card = await this.plugin.flashcardManager.createClozeCard(
        contentUnit.id,
        contentUnit.content,
        deletions
      );
      new import_obsidian2.Notice(`\u2705 Flashcard created! (Cloze with ${deletions.length} blanks)`);
    } catch (error) {
      console.error("Error creating quick cloze card:", error);
      new import_obsidian2.Notice("\u274C Failed to create flashcard");
    }
  }
  /**
   * 智能创建闪卡（自动判断类型）
   */
  async createSmartCard(contentUnit) {
    const annotation = this.plugin.annotationManager.getContentAnnotation(contentUnit.id);
    if (annotation && this.isQuestion(annotation.content)) {
      await this.createQuickQACard(contentUnit);
      return;
    }
    if (contentUnit.content.length < 200) {
      await this.createQuickQACard(contentUnit);
      return;
    }
    await this.createQuickClozeCard(contentUnit);
  }
  /**
   * 批量创建闪卡
   */
  async createBatchCards(contentUnits, type = "smart") {
    let success = 0;
    let failed = 0;
    for (const unit of contentUnits) {
      try {
        switch (type) {
          case "qa":
            await this.createQuickQACard(unit);
            break;
          case "cloze":
            await this.createQuickClozeCard(unit);
            break;
          case "smart":
            await this.createSmartCard(unit);
            break;
        }
        success++;
      } catch (error) {
        console.error("Error creating card:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 判断文本是否是问题
   */
  isQuestion(text) {
    const lowerText = text.toLowerCase().trim();
    if (lowerText.endsWith("?") || text.endsWith("?") || text.endsWith("\uFF1F")) {
      return true;
    }
    const enQuestionWords = ["what", "why", "how", "when", "where", "who", "which"];
    for (const word of enQuestionWords) {
      if (lowerText.startsWith(word + " "))
        return true;
    }
    const cnQuestionWords = ["\u4EC0\u4E48", "\u4E3A\u4EC0\u4E48", "\u600E\u4E48", "\u5982\u4F55", "\u54EA", "\u8C01", "\u4F55\u65F6", "\u4E3A\u4F55"];
    for (const word of cnQuestionWords) {
      if (text.includes(word))
        return true;
    }
    if (text.endsWith("\u5417\uFF1F") || text.endsWith("\u5462\uFF1F") || text.endsWith("\u5417") || text.endsWith("\u5462")) {
      return true;
    }
    return false;
  }
  /**
   * 生成默认问题
   */
  generateDefaultQuestion(contentUnit) {
    if (contentUnit.source.heading) {
      const heading = contentUnit.source.heading.replace(/^#+\s*/, "");
      return t("quickCard.question.default.heading", this.language, { heading });
    }
    if (contentUnit.content.length < 50) {
      return t("quickCard.question.default.short", this.language, {
        content: contentUnit.content
      });
    } else if (contentUnit.content.length < 150) {
      const firstWords = contentUnit.content.substring(0, 30) + "...";
      return t("quickCard.question.default.medium", this.language, {
        content: firstWords
      });
    } else {
      return t("quickCard.question.default.long", this.language);
    }
  }
  /**
   * 提取关键词（用于完形填空）
   */
  extractKeywords(text) {
    const words = text.match(/\b[A-Za-z]{3,}\b/g) || [];
    const stopWords = /* @__PURE__ */ new Set([
      "the",
      "is",
      "at",
      "which",
      "on",
      "a",
      "an",
      "and",
      "or",
      "but",
      "in",
      "with",
      "to",
      "for",
      "of",
      "as",
      "by",
      "this",
      "that",
      "from",
      "they",
      "we",
      "say",
      "her",
      "she",
      "he",
      "will",
      "my",
      "one",
      "all",
      "would",
      "there",
      "their",
      "what",
      "so",
      "up",
      "out",
      "if",
      "about",
      "who",
      "get",
      "which",
      "go",
      "me",
      "when",
      "make",
      "can",
      "like",
      "time",
      "no",
      "just",
      "him",
      "know",
      "take",
      "people",
      "into",
      "year",
      "your",
      "good",
      "some",
      "could",
      "them",
      "see",
      "other"
    ]);
    const wordFreq = /* @__PURE__ */ new Map();
    words.forEach((word) => {
      const lower = word.toLowerCase();
      if (!stopWords.has(lower) && word.length > 3) {
        wordFreq.set(word, (wordFreq.get(word) || 0) + 1);
      }
    });
    const scored = Array.from(wordFreq.entries()).map(([word, freq]) => {
      let score = freq;
      if (word.length > 8)
        score += 2;
      else if (word.length > 6)
        score += 1;
      if (word[0] === word[0].toUpperCase())
        score += 1;
      return { word, score };
    });
    return scored.sort((a, b) => b.score - a.score).slice(0, 3);
  }
};

// src/ui/view/SidebarOverviewView.ts
var import_obsidian9 = require("obsidian");

// src/ui/stats/ViewState.ts
var ViewState = class {
  constructor(forceMainMode = false) {
    // 显示状态
    this.forceMainMode = false;
    this.displayMode = "sidebar";
    this.viewType = "notes";
    // 过滤和分组
    this.searchQuery = "";
    this.filterMode = "all";
    this.groupMode = "file";
    this.selectedFile = null;
    // 批量操作
    this.batchMode = false;
    this.selectedUnitIds = /* @__PURE__ */ new Set();
    this.selectedCardIds = /* @__PURE__ */ new Set();
    // UI状态
    this.activeMenuId = null;
    this.savedScrollPosition = 0;
    this.shouldRestoreScroll = false;
    // 性能优化
    this.searchDebounceTimer = null;
    this.isRendering = false;
    // 添加缓存
    this.dueFlashcardsCount = 0;
    this.forceMainMode = forceMainMode;
    this.displayMode = forceMainMode ? "main" : "sidebar";
  }
  // 状态重置方法
  clearSelection() {
    this.selectedUnitIds.clear();
    this.selectedCardIds.clear();
    this.batchMode = false;
  }
  // 切换批量模式
  toggleBatchMode() {
    this.batchMode = !this.batchMode;
    if (!this.batchMode) {
      this.clearSelection();
    }
  }
  // 搜索相关
  setSearchQuery(query) {
    this.searchQuery = query;
  }
  // 过滤器切换
  setFilterMode(mode) {
    if (this.filterMode !== mode) {
      this.filterMode = mode;
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 分组模式切换
  setGroupMode(mode) {
    if (this.groupMode !== mode) {
      this.groupMode = mode;
      if (this.displayMode !== "sidebar") {
        this.selectedFile = null;
      }
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 视图类型切换
  setViewType(type) {
    if (this.viewType !== type) {
      this.viewType = type;
      this.selectedFile = null;
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 批量选择
  toggleUnitSelection(unitId) {
    if (this.selectedUnitIds.has(unitId)) {
      this.selectedUnitIds.delete(unitId);
    } else {
      this.selectedUnitIds.add(unitId);
    }
  }
  toggleCardSelection(cardId) {
    if (this.selectedCardIds.has(cardId)) {
      this.selectedCardIds.delete(cardId);
    } else {
      this.selectedCardIds.add(cardId);
    }
  }
  // 全选逻辑
  selectAllUnits(units) {
    units.forEach((unit) => this.selectedUnitIds.add(unit.id));
    this.batchMode = true;
  }
  selectAllCards(cards) {
    cards.forEach((card) => this.selectedCardIds.add(card.id));
    this.batchMode = true;
  }
  // 取消全选
  deselectAllUnits(units) {
    units.forEach((unit) => this.selectedUnitIds.delete(unit.id));
  }
  deselectAllCards(cards) {
    cards.forEach((card) => this.selectedCardIds.delete(card.id));
  }
  // 判断是否全选
  isAllSelected(items) {
    if (items.length === 0)
      return false;
    if (this.viewType === "cards") {
      return items.every(
        (card) => this.selectedCardIds.has(card.id)
      );
    } else {
      return items.every(
        (unit) => this.selectedUnitIds.has(unit.id)
      );
    }
  }
  // 获取选中数量
  getSelectedCount() {
    return this.viewType === "cards" ? this.selectedCardIds.size : this.selectedUnitIds.size;
  }
  // 复习提醒
  updateDueCount(flashcardManager) {
    this.dueFlashcardsCount = flashcardManager.getDueCards().length;
  }
  // 获取待删除的统计信息
  getDeleteStats(plugin) {
    let totalCards = 0;
    if (this.viewType === "cards") {
      totalCards = this.selectedCardIds.size;
      return { notes: 0, cards: totalCards };
    } else {
      const notes = this.selectedUnitIds.size;
      this.selectedUnitIds.forEach((unitId) => {
        const unit = plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          totalCards += unit.flashcardIds.length;
        }
      });
      return { notes, cards: totalCards };
    }
  }
  // 获取文件删除的统计信息
  static getFileDeleteStats(filePath, plugin) {
    const units = plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === filePath);
    const notes = units.length;
    let cards = 0;
    units.forEach((unit) => {
      cards += unit.flashcardIds.length;
    });
    return { notes, cards };
  }
};

// src/ui/components/Toolbar.ts
var Toolbar = class {
  constructor(state, callbacks, language = "en") {
    this.state = state;
    this.onSearchChange = callbacks.onSearchChange;
    this.onFilterChange = callbacks.onFilterChange;
    this.onGroupChange = callbacks.onGroupChange;
    this.onCheckReview = callbacks.onCheckReview;
    this.checkFilterHasNotes = callbacks.checkFilterHasNotes;
    this.checkGroupHasNotes = callbacks.checkGroupHasNotes;
    this.language = language;
  }
  t(key, params) {
    return t(key, this.language, params);
  }
  /**
   * 渲染侧边栏工具栏
   */
  renderSidebarToolbar(container) {
    const toolbar = container.createDiv({ cls: "sidebar-toolbar" });
    this.renderSearchBox(toolbar);
    this.renderFilterChips(toolbar);
    this.renderGroupSwitcher(toolbar);
    this.renderStatsRow(toolbar);
    return toolbar;
  }
  /**
   * 渲染主界面工具栏
   */
  renderMainToolbar(container) {
    const toolbar = container.createDiv({ cls: "main-toolbar" });
    this.renderSearchBox(toolbar, true);
    this.renderGroupSwitcher(toolbar, true);
    return toolbar;
  }
  renderSearchBox(container, isMain = false) {
    const searchContainer = container.createDiv({ cls: "search-container" });
    const searchInput = searchContainer.createEl("input", {
      type: "text",
      placeholder: this.t("toolbar.search"),
      cls: isMain ? "search-input-main" : "search-input"
    });
    searchInput.value = this.state.searchQuery;
    searchContainer.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
    }, true);
    searchContainer.addEventListener("mouseup", (e) => {
      e.stopPropagation();
      e.preventDefault();
      searchInput.focus();
    });
    searchContainer.addEventListener("click", (e) => {
      e.stopPropagation();
      e.preventDefault();
    });
    searchInput.addEventListener("input", (e) => {
      e.stopPropagation();
      const value = e.target.value;
      this.onSearchChange(value);
    });
    searchInput.addEventListener("dblclick", (e) => {
      e.stopPropagation();
      e.preventDefault();
      searchInput.select();
    });
    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        e.stopPropagation();
        searchInput.value = "";
        this.onSearchChange("");
      }
    });
  }
  renderFilterChips(container) {
    const filters = container.createDiv({ cls: "filter-chips" });
    const filterOptions = [
      { mode: "all", icon: "\u{1F4DD}", label: "notes", tooltip: "allNotes" },
      { mode: "annotated", icon: "\u{1F4AC}", label: "annotated", tooltip: "annotated" },
      { mode: "flashcards", icon: "\u{1F0CF}", label: "flashcards", tooltip: "flashcards" }
    ];
    filterOptions.forEach(({ mode, icon, label, tooltip }) => {
      const hasNotes = this.checkFilterHasNotes ? this.checkFilterHasNotes(mode) : true;
      const isActive = this.state.filterMode === mode;
      const chip = filters.createDiv({
        cls: `filter-chip ${isActive ? "active" : ""} ${!hasNotes ? "disabled" : ""}`,
        text: `${icon}`
      });
      if (!hasNotes) {
        chip.setAttribute("title", "No notes of this type in the current file");
        chip.style.opacity = "0.4";
        chip.style.cursor = "not-allowed";
      } else {
        chip.setAttribute("title", tooltip);
      }
      chip.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.onFilterChange(mode);
      });
    });
  }
  renderGroupSwitcher(container, isMain = false) {
    const groupSwitcher = container.createDiv({
      cls: isMain ? "group-switcher-main" : "group-switcher"
    });
    const groupOptions = isMain ? [
      { mode: "file", icon: "\u{1F4C1}", label: "file", tooltip: "by file" },
      { mode: "annotation", icon: "\u{1F4AC}", label: "annotattion", tooltip: "by annotation" },
      { mode: "tag", icon: "\u{1F3F7}\uFE0F", label: "tag", tooltip: "by tag" },
      { mode: "date", icon: "\u{1F4C5}", label: "date", tooltip: "by date" }
    ] : [
      { mode: "file", icon: "\u{1F4C1}", tooltip: "by file" },
      { mode: "tag", icon: "\u{1F3F7}\uFE0F", tooltip: "by tag" },
      { mode: "date", icon: "\u{1F4C5}", tooltip: "by date" }
    ];
    groupOptions.forEach(({ mode, icon, label, tooltip }) => {
      const hasNotes = this.state.displayMode === "sidebar" && this.checkGroupHasNotes ? this.checkGroupHasNotes(mode) : true;
      const isActive = this.state.groupMode === mode;
      const btn = groupSwitcher.createDiv({
        cls: `${isMain ? "group-btn-main" : "group-btn"} ${isActive ? "active" : ""} ${!hasNotes ? "disabled" : ""}`
      });
      btn.innerHTML = isMain ? `${icon} ` : icon;
      if (!hasNotes) {
        btn.setAttribute("title", "Notes in the current file cannot be grouped this way");
        btn.style.opacity = "0.4";
        btn.style.cursor = "not-allowed";
      } else {
        btn.setAttribute("title", tooltip);
      }
      btn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.onGroupChange(mode);
      });
    });
  }
  renderStatsRow(container) {
    const statsRow = container.createDiv({ cls: "stats-row" });
    statsRow.setAttribute("data-stats-container", "true");
  }
  // 新增:渲染复习检查按钮的方法
  renderReviewCheckButton(container) {
    if (!this.onCheckReview)
      return null;
    const reviewBtn = container.createEl("button", {
      cls: "review-check-btn-stats",
      attr: {
        "aria-label": "Check for Cards to Review"
      }
    });
    reviewBtn.innerHTML = "\u{1F514}";
    reviewBtn.addEventListener("mousedown", (e) => {
      var _a;
      e.stopPropagation();
      e.preventDefault();
      (_a = this.onCheckReview) == null ? void 0 : _a.call(this);
    });
    return reviewBtn;
  }
  hasNotesForFilter(mode) {
    return true;
  }
  hasNotesForGroup(mode) {
    return true;
  }
};

// src/ui/components/BatchActions.ts
var BatchActions = class {
  constructor(state, callbacks, toolbar, language = "en") {
    this.state = state;
    this.callbacks = callbacks;
    this.toolbar = toolbar;
    this.language = language;
  }
  t(key, params) {
    return t(key, this.language, params);
  }
  /**
   * 渲染全选按钮
   */
  renderSelectAllButton(container, visibleItems, styleClass) {
    const btnClass = styleClass === "sidebar" ? "select-all-btn-sidebar" : "select-all-btn-header";
    const isAllChecked = this.state.isAllSelected(visibleItems);
    const itemCount = visibleItems.length;
    const selectAllBtn = container.createEl("button", {
      text: isAllChecked ? `\u2713 ${this.t("batch.deselectAll")}` : `\u2610 ${this.t("batch.selectAll")}`,
      cls: `${btnClass} ${isAllChecked ? "completed" : ""}`,
      title: isAllChecked ? this.t("batch.deselectAll.tooltip") : this.t("batch.selectAll.tooltip", { count: itemCount })
    });
    const shouldDisable = itemCount === 0 || this.state.groupMode === "annotation" && this.state.displayMode === "main" && !this.state.selectedFile;
    if (shouldDisable) {
      selectAllBtn.disabled = true;
      selectAllBtn.style.opacity = "0.5";
      selectAllBtn.style.cursor = "not-allowed";
      selectAllBtn.title = itemCount === 0 ? this.t("batch.noItems") : this.t("batch.selectAnnotationFirst");
    }
    selectAllBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (isAllChecked) {
        this.callbacks.onDeselectAll();
      } else {
        this.callbacks.onSelectAll();
      }
    });
    return selectAllBtn;
  }
  // 新增:渲染复习检查按钮(独立方法)
  renderReviewCheckButton(container, mode) {
    if (mode === "sidebar" && this.toolbar) {
      this.toolbar.renderReviewCheckButton(container);
    }
  }
  /**
   * 渲染批量操作按钮组
   */
  renderActionButtons(container, styleClass) {
    if (!this.state.batchMode)
      return;
    const btnPrefix = styleClass === "sidebar" ? "sidebar" : "header";
    if (this.state.viewType === "notes") {
      const count2 = this.state.selectedUnitIds.size;
      const createBtn = this.createButton(
        container,
        styleClass === "sidebar" ? `\u26A1(${count2})` : `\u26A1 ${this.t("batch.create")} (${count2})`,
        `batch-create-cards-btn-${btnPrefix}`,
        this.t("batch.create.tooltip"),
        () => {
          if (this.state.selectedUnitIds.size === 0) {
            this.callbacks.onBatchCreate();
          } else {
            this.callbacks.onBatchCreate();
          }
        }
      );
      createBtn.addEventListener("mouseenter", (e) => {
        e.stopPropagation();
        e.preventDefault();
        createBtn.style.background = "var(--interactive-accent)";
        createBtn.style.color = "white";
      });
      createBtn.addEventListener("mouseleave", (e) => {
        e.stopPropagation();
        e.preventDefault();
        createBtn.style.background = "var(--background-secondary)";
        createBtn.style.color = "";
      });
    }
    const count = this.state.getSelectedCount();
    const deleteBtn = this.createButton(
      container,
      styleClass === "sidebar" ? `\u{1F5D1}\uFE0F(${count})` : `\u{1F5D1}\uFE0F ${this.t("batch.delete")} (${count})`,
      `batch-delete-btn-${btnPrefix}`,
      this.t("batch.delete.tooltip"),
      () => this.callbacks.onBatchDelete()
    );
    deleteBtn.addEventListener("mouseenter", (e) => {
      e.stopPropagation();
      e.preventDefault();
      deleteBtn.style.background = "var(--color-red)";
      deleteBtn.style.color = "white";
    });
    deleteBtn.addEventListener("mouseleave", (e) => {
      e.stopPropagation();
      e.preventDefault();
      deleteBtn.style.background = "var(--background-secondary)";
      deleteBtn.style.color = "";
    });
    const cancelBtn = this.createButton(
      container,
      styleClass === "sidebar" ? "\u2715" : `\u2715 ${this.t("batch.cancel")}`,
      `cancel-selection-btn-${btnPrefix}`,
      this.t("batch.cancel.tooltip"),
      () => this.callbacks.onCancel()
    );
  }
  createButton(container, text, className, title, onClick) {
    const btn = container.createEl("button", {
      text,
      cls: className,
      title
    });
    btn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      onClick();
    });
    return btn;
  }
  /**
   * 渲染批量选择 Checkbox
   */
  renderCheckbox(container, itemId, isSelected, onChange) {
    const checkbox = container.createEl("input", {
      type: "checkbox",
      cls: "batch-checkbox"
    });
    checkbox.setAttribute("data-item-id", itemId);
    checkbox.checked = isSelected;
    checkbox.addEventListener("change", (e) => {
      e.stopPropagation();
      e.preventDefault();
      onChange(e.target.checked);
    });
    return checkbox;
  }
};

// src/ui/components/ContentCard.ts
var ContentCard = class {
  constructor(state, callbacks) {
    this.state = state;
    this.callbacks = callbacks;
  }
  getLanguage() {
    var _a;
    const lang = ((_a = window.moment) == null ? void 0 : _a.locale()) || "en";
    return lang.startsWith("zh") ? "zh-CN" : "en";
  }
  /**
   * 渲染紧凑卡片（侧边栏模式）
   */
  renderCompact(container, unit) {
    const card = container.createDiv({ cls: "compact-card" });
    card.setAttribute("data-unit-id", unit.id);
    const existingCard = container.querySelector(`[data-unit-id="${unit.id}"]`);
    if ((existingCard == null ? void 0 : existingCard.getAttribute("data-editing")) === "true") {
      return;
    }
    card.addEventListener("mousedown", (e) => {
      if (e.button !== 0) {
        return;
      }
      const target = e.target;
      if (target.closest(".card-tools") || target.closest(".batch-checkbox") || target.closest(".annotation-btn")) {
        return;
      }
      if (target.closest(".inline-annotation-editor")) {
        return;
      }
      if (target.closest(".note-text") || target.closest(".annotation-preview")) {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    }, false);
    if (this.state.batchMode) {
      this.renderCheckbox(card, unit.id, this.state.selectedUnitIds.has(unit.id));
    }
    this.renderIndicator(card, unit);
    const content = card.createDiv({ cls: "card-content" });
    this.renderCardHeader(content, card, unit);
    this.renderCardContent(content, unit);
    this.renderAnnotationPreview(content, card, unit);
    this.renderCardMeta(content, unit);
  }
  /**
   * 渲染网格卡片（主界面模式）
   */
  renderGrid(container, unit) {
    const card = container.createDiv({ cls: "grid-card" });
    card.setAttribute("data-unit-id", unit.id);
    card.addEventListener("click", (e) => {
      const target = e.target;
      if (target.closest(".grid-card-tools") || target.closest(".batch-checkbox") || target.closest(".grid-card-header") || target.closest(".doc-name")) {
        return;
      }
      if (target.closest(".grid-card-content")) {
        e.stopPropagation();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    });
    card.style.cursor = "default";
    if (this.state.batchMode) {
      this.renderCheckbox(card, unit.id, this.state.selectedUnitIds.has(unit.id));
    }
    const header = card.createDiv({ cls: "grid-card-header" });
    this.renderTypeIndicator(header, unit);
    const fileName = this.renderFileName(header, unit);
    fileName.onclick = (e) => {
      e.stopPropagation();
      this.callbacks.onJumpToSource(unit);
    };
    fileName.style.cursor = "pointer";
    this.renderGridTools(header, unit);
    const content = card.createDiv({ cls: "grid-card-content" });
    content.style.cursor = "pointer";
    this.renderGridContent(content, card, unit);
    this.renderGridAnnotation(content, card, unit);
    this.renderGridTags(content, unit);
    const meta = card.createDiv({ cls: "grid-card-meta" });
    this.renderGridMeta(meta, unit);
  }
  /**
   * 渲染闪卡网格
   */
  renderFlashcardGrid(container, card) {
    const cardEl = container.createDiv({ cls: "grid-card flashcard-grid-card" });
    if (this.state.batchMode) {
      this.renderCheckbox(cardEl, card.id, this.state.selectedCardIds.has(card.id));
    }
    const header = cardEl.createDiv({ cls: "grid-card-header" });
    const cardType = header.createDiv({ cls: "card-type-badge" });
    cardType.textContent = card.type === "qa" ? "Q&A" : "Cloze";
    cardType.addClass(`type-${card.type}`);
    header.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (!e.target.closest(".batch-checkbox")) {
        if (this.callbacks.onJumpToFlashcard) {
          this.callbacks.onJumpToFlashcard(card);
        }
      }
    });
    const tools = header.createDiv({ cls: "grid-card-tools" });
    const moreBtn = tools.createDiv({ cls: "tool-btn-grid" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.callbacks.onFlashcardContextMenu) {
        this.callbacks.onFlashcardContextMenu(e, card);
      }
    });
    const content = cardEl.createDiv({ cls: "grid-card-content" });
    this.renderFlashcardContent(content, card);
    const meta = cardEl.createDiv({ cls: "grid-card-meta" });
    this.renderFlashcardMeta(meta, card);
  }
  // ========== 私有渲染方法 ==========
  renderCheckbox(card, itemId, isChecked) {
    const checkbox = card.createEl("input", {
      type: "checkbox",
      cls: "batch-checkbox"
    });
    checkbox.setAttribute("data-item-id", itemId);
    checkbox.checked = isChecked;
    checkbox.addEventListener("change", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (e.target.checked) {
        if (this.state.viewType === "cards") {
          this.state.selectedCardIds.add(itemId);
        } else {
          this.state.selectedUnitIds.add(itemId);
        }
      } else {
        if (this.state.viewType === "cards") {
          this.state.selectedCardIds.delete(itemId);
        } else {
          this.state.selectedUnitIds.delete(itemId);
        }
      }
    });
  }
  renderIndicator(card, unit) {
    const indicator = card.createDiv({ cls: "card-indicator" });
    if (unit.type === "QA") {
      indicator.addClass("type-qa");
    } else if (unit.type === "cloze") {
      indicator.addClass("type-cloze");
    } else if (unit.type === "text") {
      indicator.addClass("type-text");
    }
    if (unit.annotationId)
      indicator.addClass("has-annotation");
    if (unit.flashcardIds.length > 0)
      indicator.addClass("has-flashcard");
  }
  renderCardHeader(content, card, unit) {
    const header = content.createDiv({ cls: "card-header" });
    const annotationBtn = header.createDiv({ cls: "annotation-btn" });
    this.renderSideLine(annotationBtn, unit);
    annotationBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      this.callbacks.onJumpToSource(unit);
    });
    annotationBtn.style.cursor = "pointer";
    const tools = header.createDiv({ cls: "card-tools" });
    tools.addEventListener("mousedown", (e) => {
      e.stopPropagation();
    });
    if (!this.state.batchMode) {
      const flashcardBtn = tools.createDiv({ cls: "tool-btn flashcard-btn" });
      flashcardBtn.innerHTML = "\u26A1";
      flashcardBtn.setAttribute("aria-label", "Generate Flashcards");
      flashcardBtn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        this.callbacks.onQuickFlashcard(unit);
      });
    }
    const moreBtn = tools.createDiv({ cls: "tool-btn more-btn" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      this.callbacks.onShowContextMenu(e, unit);
    });
  }
  renderCardContent(content, unit) {
    const noteText = content.createDiv({ cls: "note-text" });
    if (this.isTableContent(unit.fullContext || unit.content)) {
      this.renderMarkdownContent(noteText, unit);
    } else {
      let displayHTML = this.formatContent(unit);
      noteText.innerHTML = displayHTML;
    }
    noteText.style.cursor = "pointer";
  }
  formatContent(unit) {
    if (unit.type === "QA" && unit.answer) {
      return `<span class="qa-question">${unit.content}</span> <span class="qa-separator">::</span> <span class="qa-answer">${unit.answer}</span>`;
    } else if (unit.type === "cloze" && unit.fullContext) {
      let context = unit.fullContext.replace(/==/g, "");
      const answer = unit.content;
      return context.replace(
        answer,
        `<span class="cloze-highlight">${answer}</span>`
      );
    } else {
      return unit.content;
    }
  }
  renderSideLine(meta, unit) {
    meta.createSpan({ text: `L${unit.source.position.line}`, cls: "line-info" });
  }
  renderAnnotationPreview(content, card, unit) {
    if (!this.callbacks.getAnnotationContent)
      return;
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (!annotationContent)
      return;
    const existingPreview = content.querySelector(".annotation-preview");
    if (existingPreview) {
      return;
    }
    const existingEditor = content.querySelector(".inline-annotation-editor");
    if (existingEditor) {
      return;
    }
    const annEl = content.createDiv({ cls: "annotation-preview" });
    const displayText = annotationContent.length > 60 ? annotationContent.substring(0, 60) + "..." : annotationContent;
    annEl.textContent = `\u{1F4AC} ${displayText}`;
    annEl.addEventListener("click", (e) => {
      e.stopPropagation();
      this.callbacks.onToggleAnnotation(card, unit);
    });
    annEl.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        e.stopPropagation();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    });
    const noteText = content.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", annEl);
    } else {
      content.appendChild(annEl);
    }
    annEl.setAttribute("tabindex", "0");
  }
  renderCardMeta(content, unit) {
    const meta = content.createDiv({ cls: "card-meta" });
    if (unit.flashcardIds.length > 0) {
      meta.createSpan({
        text: `\u{1F0CF} ${unit.flashcardIds.length}`,
        cls: "badge"
      });
    }
    if (unit.metadata.tags.length > 0) {
      unit.metadata.tags.slice(0, 2).forEach((tag) => {
        meta.createSpan({ text: `${tag}`, cls: "tag" });
      });
      if (unit.metadata.tags.length > 2) {
        meta.createSpan({
          text: `+${unit.metadata.tags.length - 2}`,
          cls: "tag-more"
        });
      }
    }
  }
  renderTypeIndicator(header, unit) {
    const typeIndicator = header.createDiv({ cls: "type-indicator" });
    if (unit.type === "QA") {
      typeIndicator.addClass("type-qa");
      typeIndicator.textContent = "Q&A";
    } else if (unit.type === "cloze") {
      typeIndicator.addClass("type-cloze");
      typeIndicator.textContent = "Cloze";
    } else {
      typeIndicator.addClass("type-text");
      typeIndicator.textContent = "Text";
    }
  }
  renderFileName(header, unit) {
    var _a;
    const fileName = ((_a = unit.source.file.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || "";
    const fileNameSpan = header.createSpan({ text: fileName, cls: "doc-name" });
    return fileNameSpan;
  }
  renderGridTools(header, unit) {
    const tools = header.createDiv({ cls: "grid-card-tools" });
    if (!this.state.batchMode) {
      const flashcardBtn = tools.createDiv({ cls: "tool-btn-grid" });
      flashcardBtn.innerHTML = "\u26A1";
      flashcardBtn.setAttribute("aria-label", "Generate Flashcards");
      flashcardBtn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onQuickFlashcard(unit);
      });
    }
    const moreBtn = tools.createDiv({ cls: "tool-btn-grid" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      this.callbacks.onShowContextMenu(e, unit);
    });
  }
  renderGridContent(content, card, unit) {
    const noteText = content.createDiv({ cls: "grid-note-text" });
    if (this.isTableContent(unit.fullContext || unit.content)) {
      this.renderMarkdownContent(noteText, unit);
    } else {
      noteText.innerHTML = this.formatContent(unit);
    }
    noteText.addEventListener("click", (e) => {
      e.stopPropagation();
      this.callbacks.onToggleAnnotation(card, unit);
    });
    noteText.style.cursor = "pointer";
  }
  renderGridAnnotation(content, card, unit) {
    if (!this.callbacks.getAnnotationContent)
      return;
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (annotationContent) {
      const annEl = content.createDiv({ cls: "grid-annotation" });
      annEl.innerHTML = `\u{1F4AC} ${annotationContent}`;
      annEl.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
      });
      annEl.addEventListener("click", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onToggleAnnotation(card, unit);
      });
    }
  }
  renderGridTags(content, unit) {
    if (unit.metadata.tags.length > 0) {
      const tags = content.createDiv({ cls: "grid-tags" });
      unit.metadata.tags.forEach((tag) => {
        tags.createSpan({ text: `${tag}`, cls: "tag-grid" });
      });
    }
  }
  renderGridMeta(meta, unit) {
    meta.createSpan({ text: `L${unit.source.position.line}`, cls: "line-info" });
    if (unit.flashcardIds.length > 0) {
      meta.createSpan({
        text: `\u{1F0CF} ${unit.flashcardIds.length}`,
        cls: "badge-grid"
      });
    }
  }
  renderFlashcardContent(content, card) {
    const lang = this.getLanguage();
    const question = content.createDiv({ cls: "flashcard-question" });
    question.innerHTML = `<strong>${t("card.question", lang)}\uFF1A</strong>${card.front}`;
    const answer = content.createDiv({ cls: "flashcard-answer" });
    const answerText = Array.isArray(card.back) ? card.back.join(", ") : card.back;
    answer.innerHTML = `<strong>${t("card.answer", lang)}\uFF1A</strong>${answerText}`;
  }
  renderFlashcardMeta(meta, card) {
    meta.createSpan({
      text: this.formatDate(new Date(card.metadata.createdAt)),
      cls: "flashcard-date"
    });
    const reviewInfo = meta.createDiv({ cls: "flashcard-review-info" });
    const dueDate = new Date(card.scheduling.due);
    const now = new Date();
    const isOverdue = dueDate < now;
    const timeText = this.formatReviewTime(dueDate, now, isOverdue);
    reviewInfo.innerHTML = `
      <span class="review-time ${isOverdue ? "overdue" : "upcoming"}">
        <span class="review-text">${timeText}</span>
      </span>
    `;
  }
  formatDate(date) {
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
  formatReviewTime(dueDate, now, isOverdue) {
    const lang = this.getLanguage();
    const diff = Math.abs(dueDate.getTime() - now.getTime());
    const minutes = Math.floor(diff / (1e3 * 60));
    const hours = Math.floor(diff / (1e3 * 60 * 60));
    const days = Math.floor(hours / 24);
    if (isOverdue) {
      if (hours < 1) {
        return minutes < 1 ? t("card.justDue", lang) : t("card.delayedMinutes", lang, { minutes: String(minutes) });
      } else if (hours < 24) {
        return t("card.delayedHours", lang, { hours: String(hours) });
      } else {
        return t("card.delayedDays", lang, { days: String(days) });
      }
    } else {
      if (hours < 1) {
        return t("card.dueInMinutes", lang, { minutes: String(minutes) });
      } else if (hours < 24) {
        return t("card.dueInHours", lang, { hours: String(hours) });
      } else {
        return t("card.dueInDays", lang, { days: String(days) });
      }
    }
  }
  // 🆕 添加表格检测方法
  isTableContent(content) {
    var _a;
    if (!content)
      return false;
    const lines = content.trim().split("\n");
    return lines.length >= 2 && lines.every((line) => line.includes("|")) && !!((_a = lines[1]) == null ? void 0 : _a.match(/^\s*\|[\s:-]+\|/));
  }
  // 🆕 添加 Markdown 渲染方法
  renderMarkdownContent(container, unit) {
    container.empty();
    let content = unit.fullContext || unit.content;
    if (this.isTableContent(content)) {
      this.renderTableWithHighlights(container, content);
    } else {
      const { MarkdownRenderer } = require("obsidian");
      content = content.replace(/==([^=]+)==/g, '<span class="highlight">$1</span>');
      MarkdownRenderer.renderMarkdown(content, container, unit.source.file, null);
    }
  }
  // 🆕 添加手动表格渲染方法
  renderTableWithHighlights(container, markdown) {
    const lines = markdown.trim().split("\n");
    const table = container.createEl("table", { cls: "learning-system-table" });
    const headerCells = lines[0].split("|").map((c) => c.trim()).filter((c) => c);
    const thead = table.createEl("thead");
    const headerRow = thead.createEl("tr");
    headerCells.forEach((cell, index) => {
      const th = headerRow.createEl("th");
      if (cell.includes("==")) {
        const processed = cell.replace(
          /==([^=]+)==/g,
          '<span style="background-color: rgba(255, 140, 0, 0.25); padding: 2px 4px; border-radius: 3px; font-weight: 500;">$1</span>'
        );
        th.innerHTML = processed;
      } else {
        th.textContent = cell;
      }
    });
    const tbody = table.createEl("tbody");
    for (let i = 2; i < lines.length; i++) {
      const cells = lines[i].split("|").map((c) => c.trim()).filter((c) => c);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell, index) => {
        const td = row.createEl("td");
        if (cell.includes("==")) {
          const processed = cell.replace(
            /==([^=]+)==/g,
            '<span style="background-color: rgba(255, 140, 0, 0.25); padding: 2px 4px; border-radius: 3px; font-weight: 500;">$1</span>'
          );
          td.innerHTML = processed;
        } else {
          td.textContent = cell;
        }
      });
    }
  }
};

// src/ui/components/ContentList.ts
var ContentList = class {
  constructor(state, cardCallbacks, language = "en") {
    this.state = state;
    this.cardRenderer = new ContentCard(state, cardCallbacks);
    this.language = language;
  }
  setLanguage(language) {
    this.language = language;
  }
  /**
   * 渲染紧凑列表（侧边栏模式）
   */
  renderCompactList(container, units) {
    const editingUnitIds = /* @__PURE__ */ new Set();
    container.querySelectorAll('.compact-card[data-editing="true"]').forEach((card) => {
      const unitId = card.getAttribute("data-unit-id");
      if (unitId) {
        editingUnitIds.add(unitId);
      }
    });
    const editingCardsMap = /* @__PURE__ */ new Map();
    editingUnitIds.forEach((unitId) => {
      const card = container.querySelector(`[data-unit-id="${unitId}"]`);
      if (card) {
        editingCardsMap.set(unitId, card);
      }
    });
    const allElements = Array.from(container.children);
    allElements.forEach((el) => {
      const unitId = el.getAttribute("data-unit-id");
      if (!unitId || !editingUnitIds.has(unitId)) {
        el.remove();
      }
    });
    if (units.length === 0 && editingUnitIds.size === 0) {
      this.renderEmptyState(container);
      return;
    }
    const grouped = this.groupUnits(units);
    grouped.forEach(({ groupKey, units: groupUnits }) => {
      const groupEl = container.createDiv({ cls: "content-group" });
      this.renderGroupHeader(groupEl, groupKey, groupUnits.length);
      groupUnits.forEach((unit) => {
        const existingCard = editingCardsMap.get(unit.id);
        if (existingCard) {
          groupEl.appendChild(existingCard);
        } else {
          this.cardRenderer.renderCompact(groupEl, unit);
        }
      });
    });
  }
  /**
  * 渲染紧凑列表（侧边栏模式 - 不分组）
  */
  renderCompactListWithoutGrouping(container, units) {
    const existingCards = container.querySelectorAll(".compact-card, .group-section, .empty-state");
    existingCards.forEach((el) => el.remove());
    if (units.length === 0) {
      this.renderEmptyState(container);
      return;
    }
    units.forEach((unit) => {
      this.cardRenderer.renderCompact(container, unit);
    });
  }
  /**
   * 渲染内容网格（主界面模式）
   */
  renderContentGrid(container, units) {
    container.empty();
    if (units.length === 0) {
      this.renderEmptyState(container);
      return;
    }
    units.forEach((unit) => {
      this.cardRenderer.renderGrid(container, unit);
    });
  }
  /**
   * 渲染闪卡网格
   */
  renderFlashcardsGrid(container, cards) {
    container.empty();
    if (cards.length === 0) {
      container.createDiv({
        text: t("contentList.empty.noFlashcards", this.language),
        cls: "empty-state"
      });
      return;
    }
    cards.forEach((card) => {
      this.cardRenderer.renderFlashcardGrid(container, card);
    });
  }
  /**
   * 分组笔记单元
   */
  groupUnits(units) {
    const grouped = /* @__PURE__ */ new Map();
    units.forEach((unit) => {
      const keys = this.getGroupKeys(unit);
      keys.forEach((key) => {
        if (!grouped.has(key)) {
          grouped.set(key, []);
        }
        grouped.get(key).push(unit);
      });
    });
    return this.sortGroups(grouped);
  }
  /**
   * 分组闪卡
   */
  groupFlashcards(cards, getUnit) {
    const grouped = /* @__PURE__ */ new Map();
    const annotatedKey = t("contentList.group.annotated", this.language);
    cards.forEach((card) => {
      const unit = getUnit(card.sourceContentId);
      const keys = this.getFlashcardGroupKeys(card, unit);
      keys.forEach((key) => {
        if (!grouped.has(key)) {
          grouped.set(key, []);
        }
        grouped.get(key).push(card);
      });
    });
    return Array.from(grouped.entries()).map(([groupKey, cards2]) => ({ groupKey, cards: cards2 })).sort((a, b) => {
      if (this.state.groupMode === "annotation") {
        if (a.groupKey === annotatedKey)
          return -1;
        if (b.groupKey === annotatedKey)
          return 1;
        return 0;
      }
      if (this.state.groupMode === "date") {
        return b.groupKey.localeCompare(a.groupKey);
      }
      return b.cards.length - a.cards.length;
    });
  }
  /**
   * 获取单元的分组键
   */
  getGroupKeys(unit) {
    switch (this.state.groupMode) {
      case "file":
        return [unit.source.file];
      case "annotation":
        return [
          unit.annotationId ? t("contentList.group.annotated", this.language) : t("contentList.group.notAnnotated", this.language)
        ];
      case "tag":
        return unit.metadata.tags.length > 0 ? unit.metadata.tags : [t("group.uncategorized", this.language)];
      case "date":
        return [this.formatDate(new Date(unit.metadata.createdAt))];
      default:
        return [t("group.uncategorized", this.language)];
    }
  }
  /**
   * 获取闪卡的分组键
   */
  getFlashcardGroupKeys(card, unit) {
    switch (this.state.groupMode) {
      case "file":
        return [card.sourceFile];
      case "annotation":
        if (unit && unit.annotationId) {
          return [t("contentList.group.annotated", this.language)];
        } else {
          return [t("contentList.group.notAnnotated", this.language)];
        }
      case "tag":
        if (unit && unit.metadata.tags.length > 0) {
          return unit.metadata.tags;
        } else if (card.tags && card.tags.length > 0) {
          return card.tags;
        } else if (card.deck) {
          return [card.deck];
        } else {
          return [t("group.uncategorized", this.language)];
        }
      case "date":
        return [this.formatDate(new Date(card.metadata.createdAt))];
      default:
        return [t("group.uncategorized", this.language)];
    }
  }
  /**
   * 排序分组
   */
  sortGroups(grouped) {
    const annotatedKey = t("contentList.group.annotated", this.language);
    return Array.from(grouped.entries()).map(([groupKey, units]) => ({ groupKey, units })).sort((a, b) => {
      if (this.state.groupMode === "annotation") {
        if (a.groupKey === annotatedKey)
          return -1;
        if (b.groupKey === annotatedKey)
          return 1;
        return 0;
      }
      if (this.state.groupMode === "date") {
        return b.groupKey.localeCompare(a.groupKey);
      }
      return b.units.length - a.units.length;
    });
  }
  /**
   * 渲染分组头部
   */
  renderGroupHeader(container, groupKey, count) {
    const header = container.createDiv({ cls: "group-header" });
    header.createSpan({
      text: this.getGroupIcon(this.state.groupMode),
      cls: "group-icon"
    });
    header.createSpan({ text: groupKey, cls: "group-title" });
    header.createSpan({ text: `${count}`, cls: "group-count" });
  }
  /**
   * 渲染空状态
   */
  renderEmptyState(container) {
    const emptyDiv = container.createDiv({ cls: "empty-state" });
    if (this.state.selectedFile && this.state.displayMode === "sidebar") {
      emptyDiv.innerHTML = `
        <div style="padding: 20px; text-align: center;">
          <div style="font-size: 32px; margin-bottom: 10px;">\u{1F4ED}</div>
          <div style="color: var(--text-muted);">${t("contentList.empty.noNotes", this.language)}</div>
          <div style="font-size: 12px; color: var(--text-faint); margin-top: 8px;">
            ${this.state.filterMode !== "all" ? t("contentList.empty.tryFilter", this.language) : t("contentList.empty.startHighlight", this.language)}
          </div>
        </div>
      `;
    } else {
      emptyDiv.textContent = t("contentList.empty.noContent", this.language);
    }
  }
  /**
   * 获取分组图标
   */
  getGroupIcon(mode) {
    switch (mode) {
      case "file":
        return "\u{1F4C4}";
      case "annotation":
        return "\u{1F4AC}";
      case "tag":
        return "\u{1F3F7}\uFE0F";
      case "date":
        return "\u{1F4C5}";
      default:
        return "\u{1F4C1}";
    }
  }
  /**
   * 格式化日期
   */
  formatDate(date) {
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
};

// src/ui/components/AnnotationEditor.ts
var AnnotationEditor = class {
  constructor(callbacks) {
    this.activeEditors = /* @__PURE__ */ new Map();
    this.toggleLock = /* @__PURE__ */ new Map();
    this.isOpening = false;
    this.callbacks = callbacks;
  }
  /**
   * 切换内联批注编辑器
   */
  toggle(cardEl, unit) {
    if (this.isOpening) {
      return;
    }
    const now = Date.now();
    const lastToggle = this.toggleLock.get(unit.id) || 0;
    if (now - lastToggle < 200) {
      return;
    }
    this.toggleLock.set(unit.id, now);
    const existingEditor = cardEl.querySelector(".inline-annotation-editor");
    const isCurrentEditing = !!existingEditor;
    if (isCurrentEditing) {
      this.close(cardEl, unit);
      return;
    }
    const content = cardEl.querySelector(".card-content, .grid-card-content");
    const oldPreviews = content == null ? void 0 : content.querySelectorAll(".annotation-preview, .grid-annotation");
    if (oldPreviews && oldPreviews.length > 0) {
      oldPreviews.forEach((el) => el.remove());
    }
    this.closeAllOthers(unit.id);
    requestAnimationFrame(() => {
      this.open(cardEl, unit);
    });
  }
  /**
   * 关闭除指定 unitId 外的所有编辑器
   */
  closeAllOthers(currentUnitId) {
    const allEditingCards = document.querySelectorAll('[data-editing="true"]');
    if (allEditingCards.length > 0) {
      allEditingCards.forEach((card) => {
        const unitId = card.getAttribute("data-unit-id");
        if (unitId && unitId !== currentUnitId) {
          const unit = { id: unitId };
          this.close(card, unit);
        }
      });
    }
  }
  /**
   * 打开编辑器
   */
  open(cardEl, unit) {
    this.isOpening = true;
    cardEl.setAttribute("data-editing", "true");
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    const content = cardEl.querySelector(".card-content, .grid-card-content");
    const existingPreviews = content == null ? void 0 : content.querySelectorAll(".annotation-preview, .grid-annotation");
    existingPreviews == null ? void 0 : existingPreviews.forEach((el) => el.remove());
    const existingEditors = content == null ? void 0 : content.querySelectorAll(".inline-annotation-editor");
    existingEditors == null ? void 0 : existingEditors.forEach((el) => el.remove());
    const editor = this.createEditor(unit.id, annotationContent || "");
    const noteText = content == null ? void 0 : content.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", editor);
    } else {
      content == null ? void 0 : content.appendChild(editor);
    }
    const textarea = editor.querySelector("textarea");
    requestAnimationFrame(() => {
      requestAnimationFrame(() => {
        textarea.focus();
        textarea.setSelectionRange(textarea.value.length, textarea.value.length);
      });
    });
    this.activeEditors.set(unit.id, editor);
    setTimeout(() => {
      this.isOpening = false;
    }, 200);
  }
  /**
   * 关闭编辑器
   */
  close(cardEl, unit) {
    const editor = cardEl.querySelector(".inline-annotation-editor");
    if (!editor) {
      cardEl.removeAttribute("data-editing");
      this.activeEditors.delete(unit.id);
      return;
    }
    editor.remove();
    this.activeEditors.delete(unit.id);
    cardEl.removeAttribute("data-editing");
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (annotationContent) {
      const content = cardEl.querySelector(".card-content, .grid-card-content");
      const oldPreview = content == null ? void 0 : content.querySelector(".annotation-preview, .grid-annotation");
      if (oldPreview) {
        oldPreview.remove();
      }
      if (content) {
        this.recreatePreview(content, cardEl, unit, annotationContent);
      }
    }
  }
  /**
   * 创建编辑器元素
   */
  createEditor(unitId, defaultValue) {
    const editor = document.createElement("div");
    editor.className = "inline-annotation-editor";
    const textarea = document.createElement("textarea");
    textarea.className = "inline-annotation-textarea";
    textarea.placeholder = "Add comment...";
    textarea.value = defaultValue;
    textarea.setAttribute("data-unit-id", unitId);
    const hint = document.createElement("div");
    hint.className = "inline-annotation-hint";
    hint.textContent = "Shift + Enter to insert a new line";
    editor.appendChild(textarea);
    editor.appendChild(hint);
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.type === "attributes" && mutation.attributeName === "style") {
          console.error("\u{1F6A8} [Editor] Style was modified!", {
            oldValue: mutation.oldValue,
            newValue: editor.getAttribute("style"),
            stack: new Error().stack
          });
        }
      });
    });
    observer.observe(editor, {
      attributes: true,
      attributeOldValue: true,
      attributeFilter: ["style"]
    });
    this.bindEditorEvents(textarea, unitId);
    return editor;
  }
  /**
   * 绑定编辑器事件
   */
  bindEditorEvents(textarea, unitId) {
    const blurHandler = async (e) => {
      const relatedTarget = e.relatedTarget;
      const editor = textarea.closest(".inline-annotation-editor");
      const card = editor == null ? void 0 : editor.closest(".compact-card, .grid-card");
      if (!relatedTarget || !(editor == null ? void 0 : editor.contains(relatedTarget))) {
        setTimeout(async () => {
          if ((editor == null ? void 0 : editor.parentElement) && card) {
            const trimmedText = textarea.value.trim();
            const originalContent = this.callbacks.getAnnotationContent(unitId) || "";
            if (trimmedText !== originalContent) {
              await this.callbacks.onSave(unitId, trimmedText);
            }
            const unit = { id: unitId };
            this.close(card, unit);
          }
        }, 150);
      }
    };
    textarea.addEventListener("blur", blurHandler);
    textarea.addEventListener("keydown", async (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        e.stopPropagation();
        textarea._tabPressed = true;
        const editor = textarea.closest(".inline-annotation-editor");
        const card = editor == null ? void 0 : editor.closest(".compact-card, .grid-card");
        if (editor && card) {
          textarea.removeEventListener("blur", blurHandler);
          const trimmedText = textarea.value.trim();
          const originalContent = this.callbacks.getAnnotationContent(unitId) || "";
          editor.remove();
          this.activeEditors.delete(unitId);
          card.removeAttribute("data-editing");
          if (trimmedText !== originalContent) {
            await this.callbacks.onSave(unitId, trimmedText);
          }
          if (trimmedText) {
            const content = card.querySelector(".card-content, .grid-card-content");
            if (content) {
              const latestContent = this.callbacks.getAnnotationContent(unitId);
              if (latestContent) {
                this.recreatePreview(content, card, { id: unitId }, latestContent);
              }
              const indicator = card.querySelector(".card-indicator");
              if (indicator && !indicator.classList.contains("has-annotation")) {
                indicator.classList.add("has-annotation");
              }
            }
          } else {
            const indicator = card.querySelector(".card-indicator");
            if (indicator && indicator.classList.contains("has-annotation")) {
              indicator.classList.remove("has-annotation");
            }
          }
        }
      }
    });
    textarea.addEventListener("mousedown", (e) => {
      e.stopPropagation();
    });
    textarea.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  }
  /**
   * 保存批注
   */
  // private async save(editorEl: HTMLElement, unitId: string, text: string): Promise<void> {
  //   const trimmedText = text.trim();
  //   const originalContent = this.callbacks.getAnnotationContent(unitId) || '';
  //   const hasChanged = trimmedText !== originalContent;
  //   if (hasChanged) {
  //     await this.callbacks.onSave(unitId, trimmedText);
  //   }
  //   const card = editorEl.closest('.compact-card, .grid-card') as HTMLElement;
  //   editorEl.remove();
  //   this.activeEditors.delete(unitId);
  //   if (trimmedText && card) {
  //     const content = card.querySelector('.card-content, .grid-card-content') as HTMLElement;
  //     if (content) {
  //       // 通过回调获取最新的批注内容
  //       const latestContent = this.callbacks.getAnnotationContent(unitId);
  //       if (latestContent) {
  //         // 需要传入完整的 ContentUnit，这里简化处理
  //         this.recreatePreview(content, card, { id: unitId } as ContentUnit, latestContent);
  //       }
  //       // 更新 indicator
  //       const indicator = card.querySelector('.card-indicator') as HTMLElement;
  //       if (indicator && !indicator.classList.contains('has-annotation')) {
  //         indicator.classList.add('has-annotation');
  //       }
  //     }
  //   } else if (!trimmedText && card) {
  //     const indicator = card.querySelector('.card-indicator') as HTMLElement;
  //     if (indicator && indicator.classList.contains('has-annotation')) {
  //       indicator.classList.remove('has-annotation');
  //     }
  //   }
  // }
  /**
   * 重新创建批注预览
   */
  recreatePreview(contentEl, cardEl, unit, annotationText) {
    const existingPreview = contentEl.querySelector(".annotation-preview, .grid-annotation");
    if (existingPreview) {
      existingPreview.remove();
    }
    const isGridCard = cardEl.classList.contains("grid-card");
    const annEl = document.createElement("div");
    annEl.className = isGridCard ? "grid-annotation" : "annotation-preview";
    if (isGridCard) {
      annEl.innerHTML = `\u{1F4AC} ${annotationText}`;
    } else {
      const displayText = annotationText.length > 60 ? annotationText.substring(0, 60) + "..." : annotationText;
      annEl.textContent = `\u{1F4AC} ${displayText}`;
    }
    annEl.addEventListener("click", (e) => {
      e.stopPropagation();
      this.toggle(cardEl, unit);
    });
    annEl.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        e.stopPropagation();
        this.toggle(cardEl, unit);
      }
    });
    const noteText = contentEl.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", annEl);
    } else {
      contentEl.appendChild(annEl);
    }
    annEl.setAttribute("tabindex", "0");
    annEl.focus();
  }
  /**
   * 关闭所有活动的编辑器
   */
  closeAll() {
    this.activeEditors.forEach((editor) => {
      editor.remove();
    });
    this.activeEditors.clear();
  }
};

// src/ui/service/sideOverviewService.ts
var import_obsidian3 = require("obsidian");
var sideOverviewService = class {
  constructor(plugin, state) {
    this.plugin = plugin;
    this.state = state;
  }
  /**
   * 跳转到笔记的源文件位置
   */
  async jumpToSource(unit, app) {
    const lang = this.plugin.settings.language;
    const file = app.vault.getAbstractFileByPath(unit.source.file);
    if (!(file instanceof import_obsidian3.TFile)) {
      new import_obsidian3.Notice(t("service.fileNotExist", lang));
      return;
    }
    this.state.shouldRestoreScroll = true;
    const leaf = app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = app.workspace.getActiveViewOfType(import_obsidian3.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          const line = unit.source.position.line;
          const lineCount = editor.lineCount();
          const validLine = Math.min(line, lineCount - 1);
          editor.setCursor({ line: validLine, ch: 0 });
          editor.scrollIntoView(
            { from: { line: validLine, ch: 0 }, to: { line: validLine, ch: 0 } },
            true
          );
          setTimeout(() => {
            var _a;
            try {
              const lineLength = ((_a = editor.getLine(validLine)) == null ? void 0 : _a.length) || 0;
              editor.setSelection(
                { line: validLine, ch: 0 },
                { line: validLine, ch: lineLength }
              );
            } catch (e) {
              console.error("Selection error:", e);
            }
          }, 100);
        }
      }
    }, 200);
  }
  /**
   * 保存或删除批注
   */
  async saveAnnotation(unitId, content) {
    const lang = this.plugin.settings.language;
    const trimmedText = content.trim();
    const annotation = this.plugin.annotationManager.getContentAnnotation(unitId);
    if (trimmedText) {
      if (annotation) {
        await this.plugin.annotationManager.updateAnnotation(annotation.id, {
          content: trimmedText
        });
      } else {
        await this.plugin.annotationManager.addContentAnnotation(unitId, trimmedText);
      }
    } else if (annotation) {
      await this.plugin.annotationManager.deleteAnnotation(annotation.id);
      new import_obsidian3.Notice(t("service.annotationDeleted", lang));
    }
  }
  /**
   * AI 快速生成闪卡
   */
  async quickGenerateFlashcard(unit) {
    const lang = this.plugin.settings.language;
    try {
      const creator = new QuickFlashcardCreator(this.plugin);
      await creator.createSmartCard(unit);
      await new Promise((resolve) => setTimeout(resolve, 150));
      new import_obsidian3.Notice(t("service.flashcardGenerated", lang));
    } catch (error) {
      new import_obsidian3.Notice(t("service.generateFailed", lang));
      console.error(error);
    }
  }
  /**
   * 批量删除笔记
   */
  async batchDeleteNotes(unitIds) {
    let success = 0;
    let failed = 0;
    for (const unitId of unitIds) {
      try {
        const unit = this.plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          if (unit.flashcardIds.length > 0) {
            for (const cardId of unit.flashcardIds) {
              await this.plugin.flashcardManager.deleteCard(cardId);
            }
          }
        }
        await this.plugin.dataManager.deleteContentUnit(unitId);
        success++;
      } catch (error) {
        console.error("Error deleting note:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 批量删除闪卡
   */
  async batchDeleteFlashcards(cardIds) {
    let success = 0;
    let failed = 0;
    for (const cardId of cardIds) {
      try {
        await this.plugin.flashcardManager.deleteCard(cardId);
        success++;
      } catch (error) {
        console.error("Error deleting flashcard:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 获取批注内容
   */
  getAnnotationContent(unitId) {
    const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
    return ann == null ? void 0 : ann.content;
  }
  /**
   * 跳转到闪卡的源文件
   */
  async jumpToFlashcardSource(cardId, app) {
    const lang = this.plugin.settings.language;
    const card = this.plugin.flashcardManager.getFlashcard(cardId);
    if (!card) {
      new import_obsidian3.Notice(t("service.flashcardNotFound", lang));
      return;
    }
    const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
    if (unit) {
      await this.jumpToSource(unit, app);
    } else {
      const file = app.vault.getAbstractFileByPath(card.sourceFile);
      if (file instanceof import_obsidian3.TFile) {
        await app.workspace.getLeaf(false).openFile(file);
        new import_obsidian3.Notice(t("service.sourceFileOpened", lang));
      } else {
        new import_obsidian3.Notice(t("service.noteNotFound", lang));
      }
    }
  }
  /**
   * 激活统计视图
   */
  activateStatsView() {
    this.plugin.activateStats();
  }
};

// src/ui/components/modals/ManualFlashcardModal.ts
var import_obsidian4 = require("obsidian");
var ManualFlashcardModal = class extends import_obsidian4.Modal {
  constructor(app, plugin, unit, type) {
    super(app);
    this.question = "";
    this.answer = "";
    this.plugin = plugin;
    this.unit = unit;
    this.type = type;
    if (type === "qa") {
      this.question = unit.type === "QA" ? unit.content : unit.content;
      this.answer = unit.type === "QA" && unit.answer ? unit.answer : "";
    } else {
      this.question = unit.fullContext || unit.content;
      this.answer = unit.content;
    }
  }
  onOpen() {
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.empty();
    contentEl.addClass("manual-flashcard-modal");
    contentEl.createEl("h2", {
      text: t(this.type === "qa" ? "manualCard.title.qa" : "manualCard.title.cloze", lang)
    });
    contentEl.createEl("p", {
      text: t(this.type === "qa" ? "manualCard.description.qa" : "manualCard.description.cloze", lang),
      cls: "modal-description"
    });
    new import_obsidian4.Setting(contentEl).setName(t(this.type === "qa" ? "manualCard.front.qa" : "manualCard.front.cloze", lang)).setDesc(t(this.type === "qa" ? "manualCard.front.desc.qa" : "manualCard.front.desc.cloze", lang)).addTextArea((text) => {
      text.setValue(this.question).setPlaceholder(t(this.type === "qa" ? "manualCard.front.placeholder.qa" : "manualCard.front.placeholder.cloze", lang)).onChange((value) => this.question = value);
      text.inputEl.rows = 4;
      text.inputEl.style.width = "100%";
    });
    new import_obsidian4.Setting(contentEl).setName(t(this.type === "qa" ? "manualCard.back.qa" : "manualCard.back.cloze", lang)).setDesc(t(this.type === "qa" ? "manualCard.back.desc.qa" : "manualCard.back.desc.cloze", lang)).addTextArea((text) => {
      text.setValue(this.answer).setPlaceholder(t(this.type === "qa" ? "manualCard.back.placeholder.qa" : "manualCard.back.placeholder.cloze", lang)).onChange((value) => this.answer = value);
      text.inputEl.rows = 3;
      text.inputEl.style.width = "100%";
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    new import_obsidian4.Setting(buttonContainer).addButton(
      (btn) => btn.setButtonText(t("manualCard.cancel", lang)).onClick(() => this.close())
    ).addButton(
      (btn) => btn.setButtonText(t("manualCard.create", lang)).setCta().onClick(async () => await this.createFlashcard())
    );
  }
  async createFlashcard() {
    const lang = this.plugin.settings.language;
    if (!this.question.trim()) {
      new import_obsidian4.Notice(t("manualCard.error.emptyFront", lang));
      return;
    }
    if (!this.answer.trim()) {
      new import_obsidian4.Notice(t("manualCard.error.emptyBack", lang));
      return;
    }
    try {
      await this.plugin.flashcardManager.createFlashcardFromUnit(
        this.unit,
        {
          customQuestion: this.question.trim(),
          customAnswer: this.answer.trim(),
          cardType: this.type
        }
      );
      new import_obsidian4.Notice(t(this.type === "qa" ? "manualCard.success.qa" : "manualCard.success.cloze", lang));
      this.close();
      this.refreshOverviewView();
    } catch (error) {
      new import_obsidian4.Notice(t("manualCard.createFailed", lang));
      console.error("Error creating flashcard:", error);
    }
  }
  refreshOverviewView() {
    var _a, _b;
    const view = ((_a = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW)[0]) == null ? void 0 : _a.view) || ((_b = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0]) == null ? void 0 : _b.view);
    if (view && "refresh" in view) {
      view.refresh();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/modals/EditFlashcardModal.ts
var import_obsidian5 = require("obsidian");
var EditFlashcardModal = class extends import_obsidian5.Modal {
  constructor(app, plugin, card) {
    super(app);
    this.plugin = plugin;
    this.card = card;
    this.front = card.front;
    this.back = Array.isArray(card.back) ? card.back.join(", ") : card.back;
  }
  onOpen() {
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.empty();
    contentEl.addClass("edit-flashcard-modal");
    contentEl.createEl("h2", {
      text: t("editCard.title", lang)
    });
    contentEl.createEl("p", {
      text: t(this.card.type === "qa" ? "editCard.description.qa" : "editCard.description.cloze", lang),
      cls: "modal-description"
    });
    const infoDiv = contentEl.createDiv({ cls: "card-info" });
    infoDiv.innerHTML = `
      <div style="background: var(--background-secondary); padding: 10px; border-radius: 6px; margin-bottom: 15px;">
        <div style="font-size: 0.9em; color: var(--text-muted);">
          ${t("editCard.info.file", lang)}: ${this.card.sourceFile.split("/").pop()}<br>
          ${t("editCard.info.deck", lang)}: ${this.card.deck}<br>
          ${t("editCard.info.reviews", lang)}: ${this.card.stats.totalReviews}${t("editCard.info.correct", lang)}: ${this.card.stats.correctCount}\u6B21
        </div>
      </div>
    `;
    new import_obsidian5.Setting(contentEl).setName(t(this.card.type === "qa" ? "editCard.front.qa" : "editCard.front.cloze", lang)).setDesc(t("editCard.front.desc", lang)).addTextArea((text) => {
      text.setValue(this.front).onChange((value) => this.front = value);
      text.inputEl.rows = 4;
      text.inputEl.style.width = "100%";
    });
    new import_obsidian5.Setting(contentEl).setName(t(this.card.type === "qa" ? "editCard.back.qa" : "editCard.back.cloze", lang)).setDesc(t(this.card.type === "qa" ? "editCard.back.desc.qa" : "editCard.back.desc.cloze", lang)).addTextArea((text) => {
      text.setValue(this.back).onChange((value) => this.back = value);
      text.inputEl.rows = 3;
      text.inputEl.style.width = "100%";
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    new import_obsidian5.Setting(buttonContainer).addButton(
      (btn) => btn.setButtonText(t("editCard.cancel", lang)).onClick(() => this.close())
    ).addButton(
      (btn) => btn.setButtonText(t("editCard.save", lang)).setCta().onClick(async () => await this.saveFlashcard())
    );
  }
  async saveFlashcard() {
    const lang = this.plugin.settings.language;
    if (!this.front.trim()) {
      new import_obsidian5.Notice(t("editCard.error.emptyFront", lang));
      return;
    }
    if (!this.back.trim()) {
      new import_obsidian5.Notice(t("editCard.error.emptyBack", lang));
      return;
    }
    try {
      this.card.front = this.front.trim();
      if (this.card.type === "cloze") {
        this.card.back = this.back.split(",").map((s) => s.trim()).filter((s) => s);
      } else {
        this.card.back = this.back.trim();
      }
      this.card.metadata.updatedAt = Date.now();
      await this.plugin.flashcardManager.updateCard(this.card);
      new import_obsidian5.Notice(t("editCard.success", lang));
      this.close();
      this.refreshOverviewView();
    } catch (error) {
      new import_obsidian5.Notice(t("editCard.saveFailed", lang));
      console.error("Error updating flashcard:", error);
    }
  }
  refreshOverviewView() {
    var _a, _b;
    const view = ((_a = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW)[0]) == null ? void 0 : _a.view) || ((_b = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0]) == null ? void 0 : _b.view);
    if (view && "refresh" in view) {
      view.refresh();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/ContextMenuBuilder.ts
var import_obsidian6 = require("obsidian");
var ContextMenuBuilder = class {
  /**
   * 构建内容单元的右键菜单
   */
  static buildContentUnitMenu(unit, callbacks, language = "en") {
    const menu = new import_obsidian6.Menu();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.jumpToSource", language)).setIcon("arrow-up-right").onClick(() => callbacks.onJumpToSource(unit))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.editAnnotation", language)).setIcon("message-square").onClick(() => callbacks.onToggleAnnotation(unit))
    );
    menu.addSeparator();
    if (unit.flashcardIds.length > 0) {
      menu.addItem(
        (item) => item.setTitle(t("contextMenu.editFlashcard", language)).setIcon("pencil").onClick(() => callbacks.onEditFlashcard(unit))
      );
    }
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.generateFlashcard", language)).setIcon("zap").onClick(() => callbacks.onQuickGenerate(unit))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.createQA", language)).setIcon("plus").onClick(() => callbacks.onCreateQA(unit))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.createCloze", language)).setIcon("plus").onClick(() => callbacks.onCreateCloze(unit))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.viewStats", language)).setIcon("bar-chart").onClick(() => callbacks.onViewStats())
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.deleteNote", language)).setIcon("trash").onClick(() => callbacks.onDelete(unit))
    );
    return menu;
  }
  /**
   * 构建闪卡的右键菜单
   */
  static buildFlashcardMenu(card, callbacks, language = "en") {
    const menu = new import_obsidian6.Menu();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.jumpToSource", language)).setIcon("arrow-up-right").onClick(() => callbacks.onJumpToSource(card))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.editCard", language)).setIcon("pencil").onClick(() => callbacks.onEdit(card))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.viewStats", language)).setIcon("bar-chart").onClick(() => callbacks.onViewStats(card))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.deleteCard", language)).setIcon("trash").onClick(() => callbacks.onDelete(card))
    );
    return menu;
  }
  /**
   * 格式化闪卡统计信息
   */
  static formatFlashcardStats(card, language = "en") {
    var _a;
    const locale = language === "zh-CN" ? "zh-CN" : "en-US";
    const createdDate = new Date(card.metadata.createdAt).toLocaleString(locale);
    const lastReview = card.stats.lastReview ? new Date(card.stats.lastReview).toLocaleString(locale) : t("stats.lastReview.never", language);
    const nextReview = new Date(card.scheduling.due).toLocaleString(locale);
    const accuracy = card.stats.totalReviews > 0 ? (card.stats.correctCount / card.stats.totalReviews * 100).toFixed(1) : "0";
    const separator = t("stats.separator", language);
    return `${t("stats.title", language)}
${separator}
${t("stats.file", language)}: ${card.sourceFile.split("/").pop()}
${t("stats.type", language)}: ${t(card.type === "qa" ? "stats.type.qa" : "stats.type.cloze", language)}
${t("stats.deck", language)}: ${card.deck}
${t("stats.tags", language)}: ${((_a = card.tags) == null ? void 0 : _a.length) > 0 ? card.tags.join(", ") : t("stats.tags.none", language)}
${separator}
${t("stats.reviewCount", language)}: ${card.stats.totalReviews} ${t("stats.times", language)}
${t("stats.correctCount", language)}: ${card.stats.correctCount} ${t("stats.times", language)}
${t("stats.accuracy", language)}: ${accuracy}%
${t("stats.averageTime", language)}: ${card.stats.averageTime.toFixed(1)}${t("stats.seconds", language)}
${t("stats.difficulty", language)}: ${(card.stats.difficulty * 100).toFixed(0)}%
${separator}
${t("stats.createdAt", language)}: ${createdDate}
${t("stats.lastReview", language)}: ${lastReview}
${t("stats.nextReview", language)}: ${nextReview}
${t("stats.interval", language)}: ${card.scheduling.interval}${t("stats.days", language)}
${t("stats.ease", language)}: ${card.scheduling.ease.toFixed(2)}`;
  }
};

// src/ui/components/modals/BatchCreateModal.ts
var import_obsidian7 = require("obsidian");
var BatchCreateModal = class extends import_obsidian7.Modal {
  constructor(app, plugin, quickCreator, units, onComplete) {
    super(app);
    this.plugin = plugin;
    this.quickCreator = quickCreator;
    this.units = units;
    this.onComplete = onComplete;
  }
  onOpen() {
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.createEl("h2", { text: t("batchCreate.title", lang) });
    contentEl.createEl("p", {
      text: t("batchCreate.description", lang, { count: this.units.length })
    });
    const typeContainer = contentEl.createDiv({ cls: "type-select-container" });
    typeContainer.createEl("h3", { text: t("batchCreate.cardType", lang) });
    let selectedType = "smart";
    const types = [
      {
        value: "smart",
        label: t("batchCreate.smartType", lang),
        desc: t("batchCreate.smartType.desc", lang)
      },
      {
        value: "qa",
        label: t("batchCreate.qaType", lang),
        desc: t("batchCreate.qaType.desc", lang)
      },
      {
        value: "cloze",
        label: t("batchCreate.clozeType", lang),
        desc: t("batchCreate.clozeType.desc", lang)
      }
    ];
    types.forEach((type) => {
      const option = typeContainer.createDiv({ cls: "type-option" });
      const radio = option.createEl("input", {
        type: "radio",
        value: type.value,
        attr: { name: "card-type" }
      });
      if (type.value === "smart")
        radio.checked = true;
      const label = option.createDiv({ cls: "type-label" });
      label.createEl("strong", { text: type.label });
      label.createEl("div", { text: type.desc, cls: "type-desc" });
      option.addEventListener("click", () => {
        radio.checked = true;
        selectedType = type.value;
      });
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    const cancelBtn = buttonContainer.createEl("button", {
      text: t("batchCreate.cancel", lang)
    });
    cancelBtn.addEventListener("click", () => this.close());
    const createBtn = buttonContainer.createEl("button", {
      text: t("batchCreate.createButton", lang, { count: this.units.length }),
      cls: "mod-cta"
    });
    createBtn.addEventListener("click", async () => {
      await this.batchCreate(selectedType);
    });
    this.addStyles();
  }
  async batchCreate(type) {
    const { success, failed } = await this.quickCreator.createBatchCards(this.units, type);
    const lang = this.plugin.settings.language;
    new import_obsidian7.Notice(t("batchCreate.successNotice", lang, { success, failed }));
    this.close();
    this.onComplete();
  }
  addStyles() {
    const styleEl = document.createElement("style");
    styleEl.textContent = `
      .type-select-container {
        margin: 20px 0;
      }

      .type-option {
        padding: 15px;
        margin: 10px 0;
        background: var(--background-secondary);
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .type-option:hover {
        border-color: var(--interactive-accent);
        background: var(--background-modifier-hover);
      }

      .type-option input[type="radio"] {
        margin-right: 10px;
      }

      .type-label {
        display: inline-block;
        vertical-align: top;
      }

      .type-desc {
        font-size: 0.9em;
        color: var(--text-muted);
        margin-top: 4px;
      }
    `;
    document.head.appendChild(styleEl);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/core/UnlockSystem.ts
var import_obsidian8 = require("obsidian");
var UnlockSystem = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.dataPath = `${this.app.vault.configDir}/plugins/learning-system/data/unlock-progress.json`;
  }
  get language() {
    return this.plugin.settings.language || "en";
  }
  async initialize() {
    await this.loadProgress();
    this.updateDailyStreak();
  }
  // ==================== 核心检查点 ====================
  /**
   * 🎯 卡片提取完成时调用
   */
  async onCardExtracted() {
    this.progress.stats.cardsExtracted++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 提取为text时调用
   */
  async onNoteExtractedAsText() {
    this.progress.stats.notesExtractedAsText++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 提取为QA时调用
   */
  async onNoteExtractedAsQA() {
    this.progress.stats.notesExtractedAsQA++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 提取为cloze时调用
   */
  async onNoteExtractedAsCloze() {
    this.progress.stats.notesExtractedAsCloze++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 scan提取笔记时调用
   */
  async onNoteScanned() {
    this.progress.stats.notesScanned++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 批注完成时调用
   */
  async onAnnotationCompleted() {
    const before = this.progress.stats.annotationsCompleted;
    this.progress.stats.annotationsCompleted++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 卡片复习完成时调用
   */
  async onCardReviewed() {
    this.progress.stats.cardsReviewed++;
    this.updateDailyStreak();
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 扫描表格时调用
   */
  async onTableScanned() {
    this.progress.stats.tablesScanned++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 访问统计页面时调用
   */
  async onStatsPageVisited() {
    if (!this.progress.stats.statsPageVisited) {
      this.progress.stats.statsPageVisited = true;
      await this.checkLevelUp();
      await this.saveProgress();
    }
  }
  // ==================== 功能权限检查 ====================
  /**
   * 检查功能是否解锁
   */
  isFeatureUnlocked(feature) {
    const level = this.progress.currentLevel;
    const featureMap = {
      // Lv1
      "extract-single": 1,
      "sidebar-basic": 1,
      // Lv2
      "extract-batch": 2,
      "annotation": 2,
      "filter-by-type": 2,
      "scan-file": 2,
      // Lv3
      "scan-vault": 3,
      "review-page": 3,
      "review-reminder": 3,
      "extract-table": 3,
      // Lv4
      "stats-page": 4,
      // Lv5
      "advanced-analytics": 5,
      "community": 5
    };
    const requiredLevel = featureMap[feature] || 1;
    return level >= requiredLevel;
  }
  /**
   * 尝试使用功能(如果未解锁则提示)
   */
  tryUseFeature(feature, featureName) {
    if (this.isFeatureUnlocked(feature)) {
      return true;
    }
    const requiredLevel = this.getFeatureRequiredLevel(feature);
    const nextSteps = this.getNextStepsForLevel(this.progress.currentLevel);
    new UnlockNoticeModal(
      this.app,
      featureName,
      requiredLevel,
      nextSteps,
      this.language
    ).open();
    return false;
  }
  // ==================== 等级检查和升级 ====================
  async checkLevelUp() {
    const oldLevel = this.progress.currentLevel;
    let newLevel = oldLevel;
    if (oldLevel === 1 && this.canUpgradeToLevel2()) {
      newLevel = 2;
    } else if (oldLevel === 2 && this.canUpgradeToLevel3()) {
      newLevel = 3;
    } else if (oldLevel === 3 && this.canUpgradeToLevel4()) {
      newLevel = 4;
    } else if (oldLevel === 4 && this.canUpgradeToLevel5()) {
      newLevel = 5;
    }
    if (newLevel > oldLevel) {
      await this.levelUp(newLevel);
    }
  }
  canUpgradeToLevel2() {
    const { notesExtractedAsText, notesExtractedAsQA, notesExtractedAsCloze } = this.progress.stats;
    return notesExtractedAsText >= 2 && notesExtractedAsQA >= 2 && notesExtractedAsCloze >= 2;
  }
  canUpgradeToLevel3() {
    return this.progress.stats.annotationsCompleted >= 3 && this.progress.stats.notesScanned >= 5;
  }
  canUpgradeToLevel4() {
    return this.progress.stats.cardsReviewed >= 30 && this.progress.stats.tablesScanned >= 2;
  }
  canUpgradeToLevel5() {
    return this.progress.stats.cardsReviewed >= 70 && this.progress.stats.totalDays >= 21 && this.progress.stats.statsPageVisited;
  }
  async levelUp(newLevel) {
    this.progress.currentLevel = newLevel;
    this.progress.levelUnlockedAt[newLevel] = Date.now();
    const message = t(`unlock.levelUp.${newLevel}`, this.language);
    const milestone = {
      level: newLevel,
      unlockedAt: Date.now()
    };
    this.progress.milestones.push(milestone);
    new import_obsidian8.Notice(message, 1e4);
    await this.saveProgress();
  }
  // ==================== 日常连续天数 ====================
  updateDailyStreak() {
    const today = new Date().toISOString().split("T")[0];
    const lastActive = this.progress.stats.lastActiveDate;
    if (lastActive !== today) {
      const yesterday = new Date();
      yesterday.setDate(yesterday.getDate() - 1);
      const yesterdayStr = yesterday.toISOString().split("T")[0];
      if (lastActive === yesterdayStr) {
        this.progress.stats.consecutiveDays++;
      } else if (!lastActive) {
        this.progress.stats.consecutiveDays = 1;
      } else {
        this.progress.stats.consecutiveDays = 1;
      }
      this.progress.stats.totalDays++;
      this.progress.stats.lastActiveDate = today;
    }
  }
  // ==================== 辅助方法 ====================
  getCurrentLevel() {
    return this.progress.currentLevel;
  }
  getProgress() {
    return this.progress;
  }
  getNextStepsForLevel(level) {
    const stats = this.progress.stats;
    const lang = this.language;
    switch (level) {
      case 1:
        return t("unlock.nextSteps.level1", lang, {
          text: stats.notesExtractedAsText,
          qa: stats.notesExtractedAsQA,
          cloze: stats.notesExtractedAsCloze
        });
      case 2:
        return t("unlock.nextSteps.level2", lang, {
          annotations: stats.annotationsCompleted,
          scanned: stats.notesScanned
        });
      case 3:
        return t("unlock.nextSteps.level3", lang, {
          reviewed: stats.cardsReviewed,
          tables: stats.tablesScanned
        });
      case 4:
        return t("unlock.nextSteps.level4", lang, {
          reviewed: stats.cardsReviewed,
          total: stats.totalDays,
          visited: stats.statsPageVisited ? "\u2713" : "\u2717"
        });
      case 5:
        return t("unlock.nextSteps.level5", lang);
      default:
        return "";
    }
  }
  getFeatureRequiredLevel(feature) {
    if (["extract-single", "sidebar-basic"].includes(feature))
      return 1;
    if (["extract-batch", "annotation", "filter-by-type"].includes(feature))
      return 2;
    if (["scan-vault", "scan-file", "review-page", "review-reminder", "extract-table"].includes(feature))
      return 3;
    if (feature === "stats-page")
      return 4;
    return 5;
  }
  // ==================== 数据持久化 ====================
  async loadProgress() {
    try {
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(this.dataPath)) {
        const data = await adapter.read(this.dataPath);
        const saved = JSON.parse(data);
        saved.unlockedFeatures = new Set(saved.unlockedFeatures || []);
        this.progress = saved;
      } else {
        this.progress = this.createDefaultProgress();
      }
    } catch (error) {
      console.error("Error loading unlock progress:", error);
      this.progress = this.createDefaultProgress();
    }
  }
  async saveProgress() {
    try {
      const adapter = this.app.vault.adapter;
      const toSave = {
        ...this.progress,
        unlockedFeatures: Array.from(this.progress.unlockedFeatures)
      };
      const data = JSON.stringify(toSave, null, 2);
      await adapter.write(this.dataPath, data);
    } catch (error) {
      console.error("Error saving unlock progress:", error);
    }
  }
  createDefaultProgress() {
    return {
      currentLevel: 1,
      stats: {
        cardsExtracted: 0,
        notesExtractedAsText: 0,
        notesExtractedAsQA: 0,
        notesExtractedAsCloze: 0,
        annotationsCompleted: 0,
        notesScanned: 0,
        cardsReviewed: 0,
        tablesScanned: 0,
        consecutiveDays: 0,
        totalDays: 0,
        statsPageVisited: false,
        lastActiveDate: ""
      },
      unlockedFeatures: /* @__PURE__ */ new Set(["extract-single", "sidebar-basic"]),
      levelUnlockedAt: { 1: Date.now() },
      milestones: [{
        level: 1,
        unlockedAt: Date.now()
      }]
    };
  }
};
var UnlockNoticeModal = class extends import_obsidian8.Modal {
  constructor(app, featureName, requiredLevel, nextSteps, language = "en") {
    super(app);
    this.featureName = featureName;
    this.requiredLevel = requiredLevel;
    this.nextSteps = nextSteps;
    this.language = language;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: t("unlock.modal.title", this.language) });
    contentEl.createEl("p", {
      text: t("unlock.modal.requireLevel", this.language, {
        feature: this.featureName,
        level: this.requiredLevel
      })
    });
    contentEl.createEl("h3", { text: t("unlock.modal.currentProgress", this.language) });
    const container = contentEl.createDiv();
    container.style.padding = "10px";
    container.style.backgroundColor = "var(--background-secondary)";
    container.style.borderRadius = "5px";
    container.style.lineHeight = "1.8";
    container.innerHTML = this.nextSteps.replace(/\n/g, "<br>");
    const divider = contentEl.createEl("div");
    divider.style.width = "100%";
    divider.style.height = "2px";
    divider.style.backgroundColor = "#666";
    divider.style.margin = "20px 0";
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var LevelInfoModal = class extends import_obsidian8.Modal {
  constructor(app, progress, unlockSystem, language = "en") {
    super(app);
    this.progress = progress;
    this.unlockSystem = unlockSystem;
    this.language = language;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("level-info-modal");
    const level = this.progress.currentLevel;
    const levelName = t(`unlock.level.${level}`, this.language);
    contentEl.createEl("h2", {
      text: t("unlock.levelInfo.title", this.language, {
        level,
        name: levelName
      })
    });
    const progressSection = contentEl.createDiv({ cls: "progress-section" });
    const progressBox = progressSection.createDiv({ cls: "progress-box" });
    const progressText = this.unlockSystem.getNextStepsForLevel(this.progress.currentLevel);
    progressBox.innerHTML = progressText.replace(/\n/g, "<br>");
    const statsSection = contentEl.createDiv({ cls: "stats-section" });
    statsSection.createEl("h4", { text: t("unlock.levelInfo.cumulativeStats", this.language) });
    const statsGrid = statsSection.createDiv({ cls: "stats-grid" });
    const stats = [
      {
        icon: "\u{1F4E6}",
        label: t("unlock.stat.cardsExtracted", this.language),
        value: this.progress.stats.cardsExtracted
      },
      {
        icon: "\u{1F4DD}",
        label: t("unlock.stat.annotationsCompleted", this.language),
        value: this.progress.stats.annotationsCompleted
      },
      {
        icon: "\u{1F504}",
        label: t("unlock.stat.cardsReviewed", this.language),
        value: this.progress.stats.cardsReviewed
      },
      {
        icon: "\u{1F4CB}",
        label: t("unlock.stat.tablesScanned", this.language),
        value: this.progress.stats.tablesScanned
      },
      {
        icon: "\u{1F525}",
        label: t("unlock.stat.consecutiveDays", this.language),
        value: this.progress.stats.consecutiveDays
      },
      {
        icon: "\u{1F4C5}",
        label: t("unlock.stat.totalDays", this.language),
        value: this.progress.stats.totalDays
      }
    ];
    stats.forEach((stat) => {
      const item = statsGrid.createDiv({ cls: "stat-item" });
      item.innerHTML = `
        <span class="stat-icon">${stat.icon}</span>
        <span class="stat-label">${stat.label}</span>
        <span class="stat-value">${stat.value}</span>
      `;
    });
    if (this.progress.milestones.length > 0) {
      const milestonesSection = contentEl.createDiv({ cls: "milestones-section" });
      milestonesSection.createEl("h4", {
        text: t("unlock.levelInfo.milestones", this.language)
      });
      const milestonesList = milestonesSection.createDiv({ cls: "milestones-list" });
      this.progress.milestones.slice().reverse().forEach((milestone) => {
        const item = milestonesList.createDiv({ cls: "milestone-item" });
        const date = new Date(milestone.unlockedAt).toLocaleDateString(
          this.language === "zh-CN" ? "zh-CN" : "en-US"
        );
        const message = t(`unlock.levelUp.${milestone.level}`, this.language);
        item.innerHTML = `
            <div class="milestone-message">${date} ${message}</div>
          `;
      });
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/view/SidebarOverviewView.ts
var VIEW_TYPE_SIDEBAR_OVERVIEW = "learning-system-sidebar-overview";
var VIEW_TYPE_MAIN_OVERVIEW = "learning-system-main-overview";
var SidebarOverviewView = class extends import_obsidian9.ItemView {
  constructor(leaf, plugin, forceMainMode = false) {
    super(leaf);
    this.isOpeningEditor = false;
    this.savingAnnotations = /* @__PURE__ */ new Set();
    this.plugin = plugin;
    this._forceMainMode = forceMainMode;
    this.state = new ViewState(forceMainMode);
    this.initializeComponents();
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      this.state.selectedFile = activeFile.path;
    }
    this.setupResizeListener();
  }
  // ==================== 生命周期方法 ====================
  getViewType() {
    const forceMainMode = this._forceMainMode || false;
    return forceMainMode ? VIEW_TYPE_MAIN_OVERVIEW : VIEW_TYPE_SIDEBAR_OVERVIEW;
  }
  getDisplayText() {
    return "Learning Overview";
  }
  getIcon() {
    return "book-marked";
  }
  async onOpen() {
    this.detectDisplayMode();
    const editor = document.querySelector(".cm-editor");
    if (editor) {
      const stopEditorCapture = (e) => {
        const target = e.target;
        if (target.closest(".learning-overview-container")) {
          e.stopPropagation();
          e.stopImmediatePropagation();
        }
      };
      editor.addEventListener("mousedown", stopEditorCapture, true);
      editor.addEventListener("click", stopEditorCapture, true);
    }
    const editorContainer = document.querySelector(".cm-content");
    if (editorContainer) {
      editorContainer.style.pointerEvents = "auto";
      editorContainer.addEventListener("mousedown", (e) => {
        const searchBox = document.querySelector(".search-container");
        if (searchBox && searchBox.contains(e.target)) {
          e.stopPropagation();
          e.preventDefault();
        }
      }, true);
    }
    if (this.state.displayMode === "sidebar") {
      const activeFile = this.app.workspace.getActiveFile();
      if (activeFile) {
        this.state.selectedFile = activeFile.path;
      }
    }
    if (!this.state.forceMainMode) {
      this.registerActiveLeafChange();
    }
    this.state.updateDueCount(this.plugin.flashcardManager);
    this.render();
    StyleLoader.inject();
    reviewStyle.inject();
    await new Promise((resolve) => setTimeout(resolve, 100));
  }
  async onClose() {
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
    }
    this.annotationEditor.closeAll();
  }
  // ==================== 初始化方法 ====================
  initializeComponents() {
    this.overviewService = new sideOverviewService(this.plugin, this.state);
    this.toolbar = new Toolbar(this.state, {
      onSearchChange: (query) => this.handleSearchChange(query),
      onFilterChange: (mode) => this.handleFilterChange(mode),
      onGroupChange: (mode) => this.handleGroupChange(mode),
      onCheckReview: () => this.checkReviewReminder(),
      checkFilterHasNotes: (mode) => this.checkFilterHasNotes(mode),
      checkGroupHasNotes: (mode) => this.checkGroupHasNotes(mode)
    }, this.plugin.settings.language);
    const batchCallbacks = {
      onSelectAll: () => this.handleSelectAll(),
      onDeselectAll: () => this.handleDeselectAll(),
      onBatchCreate: () => this.handleBatchCreate(),
      onBatchDelete: () => this.handleBatchDelete(),
      onCancel: () => this.handleBatchCancel()
    };
    this.batchActions = new BatchActions(this.state, batchCallbacks, this.toolbar, this.plugin.settings.language);
    const cardCallbacks = {
      onJumpToSource: (unit) => this.jumpToSource(unit),
      onJumpToFlashcard: (card) => this.jumpToFlashcardSource(card),
      onToggleAnnotation: (card, unit) => {
        if (!this.plugin.unlockSystem.tryUseFeature("annotation", "Annotation")) {
          return;
        }
        this.isOpeningEditor = true;
        this.annotationEditor.toggle(card, unit);
        setTimeout(() => {
          this.isOpeningEditor = false;
        }, 500);
      },
      onQuickFlashcard: (unit) => this.quickGenerateFlashcard(unit),
      onShowContextMenu: (event, unit) => this.showContextMenu(event, unit),
      onFlashcardContextMenu: (event, card) => this.showFlashcardContextMenu(event, card),
      getAnnotationContent: (unitId) => {
        const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
        return ann == null ? void 0 : ann.content;
      },
      getContentUnit: (unitId) => {
        const allUnits = this.plugin.dataManager.getAllContentUnits();
        const unit = this.plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          return unit;
        } else {
          return void 0;
        }
      }
    };
    this.contentList = new ContentList(this.state, cardCallbacks);
    const annotationCallbacks = {
      onSave: async (unitId, content) => {
        if (this.savingAnnotations.has(unitId)) {
          return;
        }
        this.savingAnnotations.add(unitId);
        try {
          await this.saveAnnotation(unitId, content);
          requestAnimationFrame(() => {
            this.refresh();
          });
        } finally {
          setTimeout(() => {
            this.savingAnnotations.delete(unitId);
          }, 100);
        }
      },
      onCancel: (unitId) => {
        this.savingAnnotations.delete(unitId);
      },
      getAnnotationContent: (unitId) => {
        const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
        return ann == null ? void 0 : ann.content;
      }
    };
    this.annotationEditor = new AnnotationEditor(annotationCallbacks);
  }
  setupResizeListener() {
    let resizeTimer;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimer);
      resizeTimer = window.setTimeout(() => {
        this.detectDisplayMode();
        this.render();
      }, 150);
    });
  }
  registerActiveLeafChange() {
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", () => {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile && this.state.displayMode === "sidebar") {
          this.state.selectedFile = activeFile.path;
          this.refresh();
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("file-open", (file) => {
        if (file && this.state.displayMode === "sidebar") {
          this.state.selectedFile = file.path;
          this.refresh();
        }
      })
    );
  }
  // ==================== 显示模式检测 ====================
  detectDisplayMode() {
    if (this.state.forceMainMode) {
      this.state.displayMode = "main";
      return;
    }
    const parentSplit = this.leaf.parentSplit;
    const isLeftSidebar = (parentSplit == null ? void 0 : parentSplit.type) === "split" && this.app.workspace.leftSplit === parentSplit;
    const isRightSidebar = (parentSplit == null ? void 0 : parentSplit.type) === "split" && this.app.workspace.rightSplit === parentSplit;
    const width = this.containerEl.clientWidth;
    const isNarrow = width < 500;
    const isSidebar = isLeftSidebar || isRightSidebar || isNarrow;
    this.state.displayMode = isSidebar ? "sidebar" : "main";
  }
  // ==================== 渲染方法 ====================
  refresh() {
    const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
    if (hasActiveEditors || this.isOpeningEditor) {
      return;
    }
    if (this.state.isRendering) {
      requestAnimationFrame(() => this.refresh());
      return;
    }
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
      this.state.searchDebounceTimer = null;
    }
    this.state.shouldRestoreScroll = true;
    this.render();
  }
  render() {
    if (this.state.isRendering)
      return;
    this.state.isRendering = true;
    const container = this.containerEl.children[1];
    if (this.state.displayMode === "sidebar") {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        this.state.savedScrollPosition = contentList.scrollTop;
      }
    }
    container.empty();
    container.addClass("learning-overview-container");
    container.setAttribute("data-mode", this.state.displayMode);
    if (this.state.displayMode === "sidebar") {
      this.renderSidebarMode(container);
    } else {
      this.renderMainMode(container);
    }
    if (this.state.displayMode === "sidebar" && this.state.shouldRestoreScroll) {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        requestAnimationFrame(() => {
          contentList.scrollTop = this.state.savedScrollPosition;
        });
      }
    }
    this.state.isRendering = false;
  }
  // src/ui/SidebarOverviewView.ts
  renderSidebarMode(container) {
    const toolbarEl = this.toolbar.renderSidebarToolbar(container);
    let statsRow = toolbarEl.querySelector(".stats-row");
    if (!statsRow) {
      statsRow = toolbarEl.createDiv({ cls: "stats-row" });
      statsRow.setAttribute("data-stats-container", "true");
    }
    const currentFileUnits = this.getFilteredUnits();
    const items = this.state.viewType === "cards" ? this.getFilteredCardsForCurrentFile() : currentFileUnits;
    const leftActions = statsRow.createDiv({ cls: "stats-left" });
    this.batchActions.renderSelectAllButton(leftActions, items, "sidebar");
    const centerActions = statsRow.createDiv({ cls: "stats-center" });
    this.batchActions.renderActionButtons(centerActions, "sidebar");
    const progress = this.plugin.unlockSystem.getProgress();
    const shouldShowFullBadge = this.shouldShowFullLevelBadge(progress);
    if (shouldShowFullBadge) {
      const levelBadge = container.createDiv({ cls: "level-badge" });
      const levelName = this.t(`level.${progress.currentLevel}`);
      levelBadge.textContent = `Lv${progress.currentLevel}:  ${levelName}`;
      levelBadge.style.fontSize = "1em";
      const progressText = container.createDiv({ cls: "progress-text" });
      progressText.innerHTML = this.plugin.unlockSystem.getNextStepsForLevel(progress.currentLevel).replace(/\n/g, "<br>");
      progressText.style.fontSize = "0.93em";
      const divider = container.createDiv({ cls: "level-divider" });
      divider.style.width = "calc(100% - 24px)";
      divider.style.height = "1px";
      divider.style.backgroundColor = "var(--background-modifier-border)";
      divider.style.margin = "12px auto";
    }
    const rightActions = statsRow.createDiv({ cls: "stats-right" });
    if (!shouldShowFullBadge && progress.currentLevel === 5) {
      this.renderLevelBadge(rightActions, progress);
    }
    this.batchActions.renderReviewCheckButton(rightActions, "sidebar");
    const contentListEl = container.createDiv({ cls: "sidebar-content-list" });
    this.contentList.renderCompactList(contentListEl, currentFileUnits);
    this.insertReviewReminderAtTop(contentListEl);
  }
  renderMainMode(container) {
    const layout = container.createDiv({ cls: "main-layout" });
    const leftPanel = layout.createDiv({ cls: "left-panel" });
    this.renderLeftPanel(leftPanel);
    const rightPanel = layout.createDiv({ cls: "right-panel" });
    this.renderRightPanel(rightPanel);
  }
  renderLeftPanel(container) {
    this.toolbar.renderMainToolbar(container);
    this.renderFixedEntries(container);
    this.renderFileList(container);
  }
  renderRightPanel(container) {
    if (this.state.viewType === "cards") {
      this.renderFlashcardsView(container);
      return;
    }
    if (!this.state.selectedFile) {
      const units = this.getFilteredUnits();
      const grouped = this.contentList.groupUnits(units);
      if (grouped.length > 0) {
        this.state.selectedFile = grouped[0].groupKey;
      }
    }
    if (!this.state.selectedFile) {
      this.renderEmptyRightPanel(container);
      return;
    }
    const header = container.createDiv({ cls: "grid-header" });
    header.createEl("h2", { text: this.state.selectedFile || "\u5185\u5BB9" });
    const headerActions = header.createDiv({ cls: "header-actions" });
    const visibleItems = this.getVisibleItems();
    const items = visibleItems.units || [];
    this.batchActions.renderActionButtons(headerActions, "header");
    this.batchActions.renderSelectAllButton(headerActions, items, "header");
    const gridContainer = container.createDiv({ cls: "content-grid" });
    const filteredUnits = this.getFilteredUnitsForSelectedGroup();
    this.contentList.renderContentGrid(gridContainer, filteredUnits);
  }
  renderFlashcardsView(container) {
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    if (!this.state.selectedFile) {
      const grouped = this.contentList.groupFlashcards(
        flashcards,
        (id) => this.plugin.dataManager.getContentUnit(id)
      );
      if (grouped.length > 0) {
        this.state.selectedFile = grouped[0].groupKey;
      }
    }
    if (!this.state.selectedFile) {
      this.renderEmptyRightPanel(container);
      return;
    }
    const header = container.createDiv({ cls: "grid-header" });
    header.createEl("h2", { text: this.state.selectedFile || "\u95EA\u5361" });
    const headerActions = header.createDiv({ cls: "header-actions" });
    const visibleItems = this.getVisibleItems();
    const items = visibleItems.cards || [];
    this.batchActions.renderActionButtons(headerActions, "header");
    this.batchActions.renderSelectAllButton(headerActions, items, "header");
    const gridContainer = container.createDiv({ cls: "content-grid" });
    const filteredCards = this.getFilteredCardsForSelectedGroup();
    this.contentList.renderFlashcardsGrid(gridContainer, filteredCards);
  }
  renderFixedEntries(container) {
    const entries = container.createDiv({ cls: "fixed-entries" });
    const allNotesBtn = entries.createDiv({
      cls: `entry-btn ${this.state.viewType === "notes" ? "active" : ""}`
    });
    allNotesBtn.innerHTML = "\u{1F4DD} <span>All Notes</span>";
    allNotesBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.state.setViewType("notes")) {
        this.render();
      }
    });
    const cardListBtn = entries.createDiv({
      cls: `entry-btn ${this.state.viewType === "cards" ? "active" : ""}`
    });
    cardListBtn.innerHTML = "\u{1F0CF} <span>Card List</span>";
    cardListBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.state.setViewType("cards")) {
        this.render();
      }
    });
  }
  renderFileList(container) {
    container.createEl("h3", { text: this.t("fileList.title"), cls: "panel-title" });
    const fileListContainer = container.createDiv({ cls: "file-list" });
    this.renderFileListContent(fileListContainer);
  }
  renderFileListContent(container) {
    container.empty();
    let grouped;
    if (this.state.viewType === "cards") {
      const flashcards = this.plugin.flashcardManager.getAllFlashcards();
      if (this.state.groupMode === "annotation") {
        const annotatedCards = [];
        const unannotatedCards = [];
        flashcards.forEach((card) => {
          const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
          if (unit && unit.annotationId) {
            annotatedCards.push(card);
          } else {
            unannotatedCards.push(card);
          }
        });
        const fileGroups = /* @__PURE__ */ new Map();
        annotatedCards.forEach((card) => {
          const fileName = card.sourceFile;
          if (!fileGroups.has(fileName)) {
            fileGroups.set(fileName, []);
          }
          fileGroups.get(fileName).push(card);
        });
        grouped = [];
        fileGroups.forEach((cards, fileName) => {
          grouped.push({
            groupKey: fileName,
            count: cards.length
          });
        });
        if (unannotatedCards.length > 0) {
          grouped.push({
            groupKey: "filter.unannotated",
            count: unannotatedCards.length
          });
        }
      } else {
        const cardGroups = this.contentList.groupFlashcards(
          flashcards,
          (id) => this.plugin.dataManager.getContentUnit(id)
        );
        grouped = cardGroups.map((g) => ({
          groupKey: g.groupKey,
          count: g.cards.length
        }));
      }
    } else {
      const units = this.getFilteredUnits();
      if (this.state.groupMode === "annotation") {
        const annotatedUnits = units.filter((u) => u.annotationId);
        const unannotatedUnits = units.filter((u) => !u.annotationId);
        const fileGroups = /* @__PURE__ */ new Map();
        annotatedUnits.forEach((unit) => {
          const fileName = unit.source.file;
          if (!fileGroups.has(fileName)) {
            fileGroups.set(fileName, []);
          }
          fileGroups.get(fileName).push(unit);
        });
        grouped = [];
        fileGroups.forEach((units2, fileName) => {
          grouped.push({
            groupKey: fileName,
            count: units2.length
          });
        });
        if (unannotatedUnits.length > 0) {
          grouped.push({
            groupKey: "filter.unannotated",
            count: unannotatedUnits.length
          });
        }
      } else {
        const unitGroups = this.contentList.groupUnits(units);
        grouped = unitGroups.map((g) => ({
          groupKey: g.groupKey,
          count: g.units.length
        }));
      }
    }
    if (grouped.length === 0) {
      container.createDiv({ text: this.t("empty.noDocuments"), cls: "empty-hint" });
      return;
    }
    if (!this.state.selectedFile && grouped.length > 0) {
      this.state.selectedFile = grouped[0].groupKey;
    }
    grouped.forEach(({ groupKey, count }) => {
      const fileItem = container.createDiv({
        cls: `file-item ${this.state.selectedFile === groupKey ? "selected" : ""}`
      });
      const displayName = groupKey === "filter.unannotated" ? this.t("filter.unannotated") : groupKey;
      fileItem.innerHTML = `
        <span class="file-icon">${this.getGroupIcon()}</span>
        <span class="file-name">${displayName}</span>
        <span class="file-count">${count}</span>
      `;
      fileItem.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        if (this.state.selectedFile !== groupKey) {
          this.annotationEditor.closeAll();
          this.state.selectedFile = groupKey;
          const allItems = container.querySelectorAll(".file-item");
          allItems.forEach((item) => item.removeClass("selected"));
          fileItem.addClass("selected");
          this.refreshRightPanel();
        }
      });
    });
  }
  renderEmptyRightPanel(container) {
    const empty = container.createDiv({ cls: "empty-right-panel" });
    empty.innerHTML = `
      <div class="empty-icon">\u{1F4ED}</div>
      <div class="empty-text">${this.t("empty.noContent")}</div>
    `;
  }
  // ==================== 事件处理方法 ====================
  handleSearchChange(query) {
    this.state.setSearchQuery(query);
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
    }
    this.state.searchDebounceTimer = window.setTimeout(() => {
      const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
      if (hasActiveEditors) {
        return;
      }
      this.state.clearSelection();
      this.refreshContentOnly();
    }, 300);
  }
  // 添加新方法:只刷新内容列表
  refreshContentOnly() {
    if (this.isOpeningEditor) {
      return;
    }
    const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
    if (hasActiveEditors) {
      return;
    }
    const container = this.containerEl.children[1];
    if (this.state.displayMode === "sidebar") {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        const scrollPos = contentList.scrollTop;
        const editingCards = /* @__PURE__ */ new Map();
        contentList.querySelectorAll(".inline-annotation-editor").forEach((editor) => {
          const card = editor.closest("[data-unit-id]");
          if (card) {
            const unitId = card.getAttribute("data-unit-id");
            if (unitId) {
              editingCards.set(unitId, editor.cloneNode(true));
            }
          }
        });
        contentList.empty();
        const currentFileUnits = this.getFilteredUnits();
        this.contentList.renderCompactList(contentList, currentFileUnits);
        this.insertReviewReminderAtTop(contentList);
        if (editingCards.size > 0) {
          requestAnimationFrame(() => {
            editingCards.forEach((editor, unitId) => {
              const card = contentList.querySelector(`[data-unit-id="${unitId}"]`);
              if (card) {
                card.setAttribute("data-editing", "true");
                const preview = card.querySelector(".annotation-preview");
                if (preview) {
                  preview.replaceWith(editor);
                  const textarea = editor.querySelector("textarea");
                  if (textarea) {
                    this.annotationEditor["bindEditorEvents"](textarea, unitId);
                    requestAnimationFrame(() => {
                      textarea.focus();
                    });
                  }
                }
              }
            });
          });
        }
        contentList.scrollTop = scrollPos;
      }
    } else {
      this.refreshRightPanel();
      const fileListContainer = container.querySelector(".file-list");
      if (fileListContainer) {
        this.renderFileListContent(fileListContainer);
      }
    }
  }
  handleFilterChange(mode) {
    if (this.state.setFilterMode(mode)) {
      this.state.shouldRestoreScroll = false;
      this.render();
    }
  }
  handleGroupChange(mode) {
    if (this.state.setGroupMode(mode)) {
      this.render();
    }
  }
  handleSelectAll() {
    const visible = this.getVisibleItems();
    if (this.state.viewType === "cards") {
      const cards = visible.cards || [];
      if (cards.length === 0) {
        new import_obsidian9.Notice(this.t("notice.noSelection"));
        return;
      }
      this.state.selectAllCards(cards);
    } else {
      const units = visible.units || [];
      if (units.length === 0) {
        new import_obsidian9.Notice(this.t("notice.noSelection"));
        return;
      }
      this.state.selectAllUnits(units);
    }
    this.render();
  }
  handleDeselectAll() {
    const visible = this.getVisibleItems();
    if (this.state.viewType === "cards") {
      this.state.deselectAllCards(visible.cards || []);
    } else {
      this.state.deselectAllUnits(visible.units || []);
    }
    this.render();
  }
  handleBatchCreate() {
    if (this.state.selectedUnitIds.size === 0) {
      new import_obsidian9.Notice(this.t("notice.noSelection"));
      return;
    }
    this.batchCreateFlashcards();
  }
  handleBatchDelete() {
    if (this.state.getSelectedCount() === 0) {
      new import_obsidian9.Notice(this.t("notice.noSelection"));
      return;
    }
    if (this.state.viewType === "cards") {
      this.batchDeleteFlashcards();
    } else {
      this.batchDeleteNotes();
    }
  }
  handleBatchCancel() {
    this.state.clearSelection();
    this.render();
  }
  // ==================== 数据获取方法 ====================
  getFilteredUnits() {
    let units = this.plugin.dataManager.getAllContentUnits();
    if (this.state.displayMode === "sidebar" && this.state.selectedFile) {
      units = units.filter((unit) => unit.source.file === this.state.selectedFile);
    }
    if (this.state.searchQuery) {
      const query = this.state.searchQuery.toLowerCase();
      units = units.filter(
        (unit) => unit.content.toLowerCase().includes(query) || unit.source.file.toLowerCase().includes(query) || unit.metadata.tags.some((tag) => tag.toLowerCase().includes(query))
      );
    }
    if (this.state.filterMode === "annotated") {
      units = units.filter((u) => u.annotationId);
    } else if (this.state.filterMode === "flashcards") {
      units = units.filter((u) => u.flashcardIds.length > 0);
    }
    return units;
  }
  getFilteredUnitsForSelectedGroup() {
    const units = this.getFilteredUnits();
    const selected = this.state.selectedFile;
    if (!selected)
      return [];
    return units.filter((unit) => {
      if (this.state.groupMode === "file") {
        return unit.source.file === selected;
      } else if (this.state.groupMode === "annotation") {
        if (selected === "filter.unannotated") {
          return !unit.annotationId;
        } else {
          return unit.source.file === selected && !!unit.annotationId;
        }
      } else if (this.state.groupMode === "tag") {
        return unit.metadata.tags.includes(selected);
      } else if (this.state.groupMode === "date") {
        return this.formatDate(new Date(unit.metadata.createdAt)) === selected;
      }
      return false;
    });
  }
  getFilteredCardsForSelectedGroup() {
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    const selected = this.state.selectedFile;
    if (!selected)
      return [];
    return flashcards.filter((card) => {
      if (this.state.groupMode === "file") {
        return card.sourceFile === this.state.selectedFile;
      } else if (this.state.groupMode === "annotation") {
        const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
        if (selected === "filter.unannotated") {
          return !unit || !unit.annotationId;
        } else {
          return card.sourceFile === selected && unit && !!unit.annotationId;
        }
      } else if (this.state.groupMode === "tag") {
        const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
        return unit && unit.metadata.tags.includes(selected) || card.tags && card.tags.includes(selected) || card.deck === this.state.selectedFile || this.state.selectedFile === "group.uncategorized" && (!card.tags || card.tags.length === 0) && !card.deck && (!unit || !unit.metadata.tags || unit.metadata.tags.length === 0);
      } else if (this.state.groupMode === "date") {
        return this.formatDate(new Date(card.metadata.createdAt)) === this.state.selectedFile;
      }
      return false;
    });
  }
  getVisibleItems() {
    if (this.state.viewType === "cards") {
      const cards = this.getFilteredCardsForSelectedGroup();
      return { cards };
    } else {
      const units = this.state.displayMode === "sidebar" ? this.getFilteredUnits() : this.getFilteredUnitsForSelectedGroup();
      return { units };
    }
  }
  // ==================== 业务逻辑方法 ====================
  async jumpToSource(unit) {
    await this.overviewService.jumpToSource(unit, this.app);
  }
  async jumpToFlashcardSource(card) {
    try {
      const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
      if (unit) {
        await this.jumpToSource(unit);
        return;
      }
      const file = this.app.vault.getAbstractFileByPath(card.sourceFile);
      if (!(file instanceof import_obsidian9.TFile)) {
        new import_obsidian9.Notice(this.t("notice.fileNotFound"));
        return;
      }
      const leaf = this.app.workspace.getLeaf(false);
      await leaf.openFile(file);
      if (card.anchorLink) {
        const blockIdMatch = card.anchorLink.match(/\^\S+/);
        if (blockIdMatch) {
          const blockId = blockIdMatch[0].substring(1);
          await new Promise((resolve) => setTimeout(resolve, 100));
          const view = this.app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView);
          if (view && view.editor) {
            const editor = view.editor;
            const content = editor.getValue();
            const lines = content.split("\n");
            for (let i = 0; i < lines.length; i++) {
              if (lines[i].includes(`^${blockId}`)) {
                editor.setCursor({ line: i, ch: 0 });
                editor.scrollIntoView({ from: { line: i, ch: 0 }, to: { line: i, ch: 0 } }, true);
                break;
              }
            }
          }
        }
      }
      new import_obsidian9.Notice(this.t("notice.jumpedToSource"));
    } catch (error) {
      console.error("Error jumping to flashcard source:", error);
      new import_obsidian9.Notice(this.t("notice.jumpFailed"));
    }
  }
  async saveAnnotation(unitId, content) {
    await this.overviewService.saveAnnotation(unitId, content);
  }
  async quickGenerateFlashcard(unit) {
    await this.overviewService.quickGenerateFlashcard(unit);
    requestAnimationFrame(() => {
      this.refresh();
    });
  }
  // ==================== 右键菜单 ====================
  showContextMenu(event, unit) {
    const callbacks = {
      onJumpToSource: (unit2) => this.jumpToSource(unit2),
      onToggleAnnotation: (unit2) => {
        if (!this.plugin.unlockSystem.tryUseFeature("annotation", "Annotation")) {
          return;
        }
        const card = event.target;
        const cardEl = card.closest(".compact-card, .grid-card");
        if (cardEl) {
          this.annotationEditor.toggle(cardEl, unit2);
        }
      },
      onEditFlashcard: (unit2) => {
        const cardId = unit2.flashcardIds[0];
        const card = this.plugin.flashcardManager.getFlashcard(cardId);
        if (card) {
          new EditFlashcardModal(this.app, this.plugin, card).open();
        } else {
          new import_obsidian9.Notice(this.t("notice.flashcardNotFound"));
        }
      },
      onQuickGenerate: (unit2) => this.quickGenerateFlashcard(unit2),
      onCreateQA: (unit2) => {
        new ManualFlashcardModal(this.app, this.plugin, unit2, "qa").open();
      },
      onCreateCloze: (unit2) => {
        new ManualFlashcardModal(this.app, this.plugin, unit2, "cloze").open();
      },
      onViewStats: () => {
        this.plugin.activateStats();
      },
      onDelete: async (unit2) => {
        await this.plugin.dataManager.deleteContentUnit(unit2.id, "user-deleted");
        new import_obsidian9.Notice(this.t("notice.movedToTrash"));
        this.refresh();
      }
    };
    const menu = ContextMenuBuilder.buildContentUnitMenu(unit, callbacks, this.plugin.settings.language);
    menu.showAtMouseEvent(event);
  }
  openManualFlashcardModal(unit, type) {
    new ManualFlashcardModal(this.app, this.plugin, unit, type).open();
  }
  showFlashcardContextMenu(event, card) {
    const callbacks = {
      onJumpToSource: async (card2) => {
        await this.overviewService.jumpToFlashcardSource(card2.id, this.app);
      },
      onEdit: (card2) => {
        new EditFlashcardModal(this.app, this.plugin, card2).open();
      },
      onViewStats: (card2) => {
        const statsText = ContextMenuBuilder.formatFlashcardStats(card2);
        new import_obsidian9.Notice(statsText, 1e4);
      },
      onDelete: async (card2) => {
        await this.plugin.flashcardManager.deleteCard(card2.id, "user-deleted");
        new import_obsidian9.Notice(this.t("notice.movedToTrash"));
        this.refresh();
      }
    };
    const menu = ContextMenuBuilder.buildFlashcardMenu(card, callbacks, this.plugin.settings.language);
    menu.showAtMouseEvent(event);
  }
  openEditFlashcardModal(card) {
    new EditFlashcardModal(this.app, this.plugin, card).open();
  }
  // ==================== 批量操作 ====================
  async batchCreateFlashcards() {
    const units = Array.from(this.state.selectedUnitIds).map((id) => this.plugin.dataManager.getContentUnit(id)).filter((u) => u !== void 0 && u.flashcardIds.length === 0);
    if (units.length === 0) {
      new import_obsidian9.Notice(this.t("notice.alreadyHasFlashcards"));
      return;
    }
    const quickCreator = new QuickFlashcardCreator(this.plugin);
    const modal = new BatchCreateModal(
      this.app,
      this.plugin,
      quickCreator,
      units,
      () => {
        this.state.clearSelection();
        this.refresh();
      }
    );
    modal.open();
  }
  async batchDeleteNotes() {
    const stats = this.state.getDeleteStats(this.plugin);
    let confirmMsg = this.t("confirm.deleteItems");
    const details = [];
    if (stats.notes > 0) {
      details.push(this.t("confirm.notesCount", { count: stats.notes }));
    }
    if (stats.cards > 0) {
      details.push(this.t("confirm.cardsCount", { count: stats.cards }));
    }
    if (details.length > 0) {
      confirmMsg += "\n\n" + details.join("\n");
    }
    if (!confirm(confirmMsg)) {
      return;
    }
    const { success, failed } = await this.overviewService.batchDeleteNotes(
      this.state.selectedUnitIds
    );
    this.state.clearSelection();
    new import_obsidian9.Notice(this.t("notice.batchDeleted", { success, failed: failed > 0 ? failed : 0 }));
    this.refresh();
  }
  async batchDeleteFlashcards() {
    const stats = this.state.getDeleteStats(this.plugin);
    const confirmMsg = this.t("confirm.deleteFlashcards", { count: stats.cards });
    if (!confirm(confirmMsg)) {
      return;
    }
    let success = 0;
    let failed = 0;
    for (const cardId of this.state.selectedCardIds) {
      try {
        await this.plugin.flashcardManager.deleteCard(cardId);
        success++;
      } catch (error) {
        console.error("Error deleting flashcard:", error);
        failed++;
      }
    }
    this.state.clearSelection();
    new import_obsidian9.Notice(this.t("notice.batchDeleted", { success, failed: failed > 0 ? failed : 0 }));
    this.refresh();
  }
  // ==================== 工具方法 ====================
  refreshRightPanel() {
    const container = this.containerEl.children[1];
    const rightPanel = container.querySelector(".right-panel");
    if (rightPanel) {
      rightPanel.empty();
      this.renderRightPanel(rightPanel);
    }
  }
  getFilteredCardsForCurrentFile() {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return [];
    }
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    return flashcards.filter((card) => card.sourceFile === this.state.selectedFile);
  }
  checkFilterHasNotes(mode) {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return true;
    }
    const units = this.plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === this.state.selectedFile);
    if (mode === "all") {
      return units.length > 0;
    } else if (mode === "annotated") {
      return units.some((u) => u.annotationId);
    } else if (mode === "flashcards") {
      return units.some((u) => u.flashcardIds.length > 0);
    }
    return true;
  }
  checkGroupHasNotes(mode) {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return true;
    }
    const units = this.plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === this.state.selectedFile);
    if (units.length === 0)
      return false;
    if (mode === "file") {
      return true;
    } else if (mode === "tag") {
      return units.some((u) => u.metadata.tags.length > 0);
    } else if (mode === "date") {
      return true;
    } else if (mode === "annotation") {
      return units.some((u) => u.annotationId);
    }
    return true;
  }
  getGroupIcon() {
    switch (this.state.groupMode) {
      case "file":
        return "\u{1F4C4}";
      case "annotation":
        return "\u{1F4AC}";
      case "tag":
        return "\u{1F3F7}\uFE0F";
      case "date":
        return "\u{1F4C5}";
      default:
        return "\u{1F4C1}";
    }
  }
  formatDate(date) {
    if (!date)
      return "";
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
  // ==================== 等级徽章显示 ====================
  /**
   * 判断是否显示完整的等级徽章
   * Lv1-4: 始终显示
   * Lv5: 达成后30分钟内显示，之后隐藏
   */
  shouldShowFullLevelBadge(progress) {
    if (progress.currentLevel < 5) {
      return true;
    }
    const lv5UnlockedTime = progress.levelUnlockedAt[5];
    if (!lv5UnlockedTime) {
      return false;
    }
    const now = Date.now();
    const thirtyMinutes = 30 * 60 * 1e3;
    return now - lv5UnlockedTime < thirtyMinutes;
  }
  /**
   * 渲染小型等级徽章（Lv5专用）
   */
  renderLevelBadge(container, progress) {
    const levelBadge = container.createDiv({ cls: "level-badge-icon" });
    const levelName = this.t(`level.${progress.currentLevel}`);
    levelBadge.textContent = `Lv${progress.currentLevel}`;
    levelBadge.title = `${this.t("level.current")}: ${levelName} - ${this.t("level.clickDetails")}`;
    levelBadge.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      new LevelInfoModal(this.app, progress, this.plugin.unlockSystem).open();
    });
  }
  // ==================== 复习检查 ====================
  // 每日提醒复习
  // 手动触发复习提醒检查
  checkReviewReminder() {
    const isDismissed = this.isReminderDismissedToday();
    if (isDismissed) {
      localStorage.removeItem("learning-system-reminder-dismissed");
    } else {
      this.markReminderDismissed();
    }
    this.refresh();
  }
  startReview() {
    this.plugin.activateReview();
  }
  markReminderDismissed() {
    const today = new Date().toDateString();
    localStorage.setItem("learning-system-reminder-dismissed", today);
  }
  isReminderDismissedToday() {
    const today = new Date().toDateString();
    const dismissed = localStorage.getItem("learning-system-reminder-dismissed");
    return dismissed === today;
  }
  insertReviewReminderAtTop(container) {
    if (this.isReminderDismissedToday())
      return;
    const dueCount = this.plugin.flashcardManager.getDueCards().length;
    if (dueCount === 0)
      return;
    const banner = this.createReviewBanner(dueCount);
    container.insertBefore(banner, container.firstChild);
    const divider2 = document.createElement("div");
    divider2.className = "review-divider";
    divider2.style.width = "100%";
    divider2.style.height = "1px";
    divider2.style.backgroundColor = "var(--background-modifier-border)";
    divider2.style.margin = "12px 0";
    if (banner.nextSibling) {
      container.insertBefore(divider2, banner.nextSibling);
    } else {
      container.appendChild(divider2);
    }
  }
  createReviewBanner(count) {
    const banner = document.createElement("div");
    banner.className = "content-list-review-reminder";
    const dueCards = this.plugin.flashcardManager.getDueCards();
    const actualDueCount = dueCards.length;
    const allCards = this.plugin.flashcardManager.getAllFlashcards();
    const today = new Date().setHours(0, 0, 0, 0);
    const todayDueCardIds = new Set(
      allCards.filter((card) => {
        const dueDate = new Date(card.scheduling.due).setHours(0, 0, 0, 0);
        return dueDate <= today;
      }).map((card) => card.id)
    );
    const reviewedToday = allCards.filter((card) => {
      if (!card.stats.lastReview)
        return false;
      const lastReviewDate = new Date(card.stats.lastReview).setHours(0, 0, 0, 0);
      return lastReviewDate === today && todayDueCardIds.has(card.id);
    }).length;
    const totalToday = reviewedToday + actualDueCount;
    const progressPercent = totalToday > 0 ? Math.round(reviewedToday / totalToday * 100) : 0;
    const mostUrgent = dueCards.length > 0 ? dueCards.reduce(
      (earliest, card) => card.scheduling.due < earliest ? card.scheduling.due : earliest,
      Date.now()
    ) : Date.now();
    const hoursSinceDue = Math.floor((Date.now() - mostUrgent) / (1e3 * 60 * 60));
    const delayText = this.getDelayText(hoursSinceDue);
    const streakDays = this.getReviewStreak();
    banner.innerHTML = `
  <div class="reminder-header">
    <div class="reminder-text">
 <strong>${this.t("review.todayProgress", { reviewed: reviewedToday, total: totalToday })}</strong>  
    </div>
  </div>
  
  <div class="reminder-stats">
    <div class="stat-item delay-warning">
      ${delayText}
    </div>
    ${streakDays > 0 ? `
      <div class="stat-item streak-info">
         ${this.t("review.streak", { days: streakDays })}
      </div>
    ` : ""}
  </div>
  
  <div class="reminder-actions">
    <button class="reminder-btn primary">${this.t("review.start")}</button>
  </div>
`;
    banner.style.fontSize = "0.85em";
    const actions = banner.querySelector(".reminder-actions");
    if (actions) {
      actions.style.display = "flex";
      actions.style.justifyContent = "center";
    }
    banner.querySelector(".primary").addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      this.startReview();
      banner.remove();
      this.markReminderDismissed();
    });
    return banner;
  }
  // 新增辅助方法 1: 获取延后提示文本
  getDelayText(hoursSinceDue) {
    if (hoursSinceDue < 1) {
      return this.t("review.justDue");
    } else if (hoursSinceDue < 6) {
      return this.t("review.delayedHoursShort", { hours: hoursSinceDue });
    } else if (hoursSinceDue < 24) {
      return this.t("review.urgentHours", { hours: hoursSinceDue });
    } else {
      const days = Math.floor(hoursSinceDue / 24);
      return this.t("review.urgentDays", { days });
    }
  }
  // 新增辅助方法 2: 获取连续复习天数
  getReviewStreak() {
    const allCards = this.plugin.flashcardManager.getAllFlashcards();
    const reviewDates = /* @__PURE__ */ new Set();
    allCards.forEach((card) => {
      if (card.stats.lastReview) {
        const dateStr = new Date(card.stats.lastReview).toLocaleDateString("zh-CN");
        reviewDates.add(dateStr);
      }
    });
    let streak = 0;
    let checkDate = new Date();
    while (streak < 365) {
      const dateStr = checkDate.toLocaleDateString("zh-CN");
      if (reviewDates.has(dateStr)) {
        streak++;
        checkDate.setDate(checkDate.getDate() - 1);
      } else {
        break;
      }
    }
    return streak;
  }
  t(key, params) {
    return t(key, this.plugin.settings.language, params);
  }
};

// src/ui/view/ReviewView.ts
var import_obsidian11 = require("obsidian");

// src/core/CardScheduler.ts
var CardScheduler = class {
  /**
   * 计算下次复习时间（基于 SM-2 算法）
   */
  schedule(card, ease, timeSpent, userAnswer) {
    const oldScheduling = { ...card.scheduling };
    const newScheduling = { ...card.scheduling };
    const now = Date.now();
    card.stats.totalReviews++;
    card.stats.lastReview = now;
    const totalTime = card.stats.averageTime * (card.stats.totalReviews - 1) + timeSpent;
    card.stats.averageTime = totalTime / card.stats.totalReviews;
    switch (ease) {
      case "again":
        this.scheduleAgain(newScheduling, card.stats);
        break;
      case "hard":
        this.scheduleHard(newScheduling, card.stats);
        break;
      case "good":
        this.scheduleGood(newScheduling, card.stats);
        break;
      case "easy":
        this.scheduleEasy(newScheduling, card.stats);
        break;
    }
    card.scheduling = newScheduling;
    card.metadata.updatedAt = now;
    const reviewLog = {
      flashcardId: card.id,
      timestamp: now,
      response: {
        userAnswer,
        timeSpent,
        ease
      },
      schedulingChange: {
        oldInterval: oldScheduling.interval,
        newInterval: newScheduling.interval,
        oldEase: oldScheduling.ease,
        newEase: newScheduling.ease
      }
    };
    return { updatedCard: card, reviewLog };
  }
  /**
   * Again - 完全忘记
   */
  scheduleAgain(scheduling, stats) {
    scheduling.interval = 1;
    scheduling.ease = Math.max(1.3, scheduling.ease - 0.2);
    scheduling.due = Date.now() + scheduling.interval * 60 * 1e3;
    scheduling.lapses++;
    scheduling.reps++;
    if (scheduling.state === "new") {
      scheduling.state = "learning";
    } else {
      scheduling.state = "relearning";
    }
    stats.difficulty = Math.min(1, stats.difficulty + 0.1);
  }
  /**
   * Hard - 困难
   */
  scheduleHard(scheduling, stats) {
    scheduling.reps++;
    if (scheduling.state === "new" || scheduling.state === "learning") {
      scheduling.interval = 10;
      scheduling.due = Date.now() + 10 * 60 * 1e3;
      scheduling.state = "learning";
    } else {
      scheduling.interval = Math.max(1, scheduling.interval * 1.2);
      scheduling.ease = Math.max(1.3, scheduling.ease - 0.15);
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    }
    stats.difficulty = Math.min(1, stats.difficulty + 0.05);
    stats.correctCount += 0.5;
  }
  /**
   * Good - 正确
   */
  scheduleGood(scheduling, stats) {
    scheduling.reps++;
    stats.correctCount++;
    if (scheduling.state === "new") {
      scheduling.interval = 1;
      scheduling.due = Date.now() + 1 * 24 * 60 * 60 * 1e3;
      scheduling.state = "learning";
    } else if (scheduling.state === "learning") {
      if (scheduling.interval < 1) {
        scheduling.interval = 1;
      } else {
        scheduling.interval = 3;
      }
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else {
      scheduling.interval = scheduling.interval * scheduling.ease;
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.ease = scheduling.ease + 0.1;
      scheduling.state = "review";
    }
    stats.difficulty = Math.max(0, stats.difficulty - 0.05);
  }
  /**
   * Easy - 非常简单
   */
  scheduleEasy(scheduling, stats) {
    scheduling.reps++;
    stats.correctCount++;
    if (scheduling.state === "new") {
      scheduling.interval = 4;
      scheduling.due = Date.now() + 4 * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else if (scheduling.state === "learning") {
      scheduling.interval = 7;
      scheduling.due = Date.now() + 7 * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else {
      scheduling.interval = scheduling.interval * (scheduling.ease + 0.3);
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.ease = scheduling.ease + 0.15;
      scheduling.state = "review";
    }
    stats.difficulty = Math.max(0, stats.difficulty - 0.1);
  }
  /**
   * 评估用户答案（用于输入答案模式）
   */
  /**
   * 评估用户答案(用于输入答案模式)
   */
  evaluateAnswer(correctAnswer, userAnswer) {
    if (Array.isArray(correctAnswer) && Array.isArray(userAnswer)) {
      let correctCount = 0;
      const total = correctAnswer.length;
      for (let i = 0; i < total; i++) {
        const evaluation = this.evaluateSingleAnswer(
          correctAnswer[i],
          userAnswer[i] || ""
        );
        if (evaluation.similarity >= 0.9)
          correctCount++;
        else if (evaluation.similarity >= 0.6)
          correctCount += 0.5;
      }
      const overallSimilarity = correctCount / total;
      if (overallSimilarity >= 0.9) {
        return { correctness: "correct", similarity: overallSimilarity };
      } else if (overallSimilarity >= 0.6) {
        return { correctness: "partial", similarity: overallSimilarity };
      } else {
        return { correctness: "wrong", similarity: overallSimilarity };
      }
    }
    return this.evaluateSingleAnswer(
      correctAnswer,
      userAnswer
    );
  }
  /**
   * 🆕 评估单个答案(支持 "/" 分隔的多个正确答案)
   */
  evaluateSingleAnswer(correctAnswer, userAnswer) {
    const correct = this.normalize(correctAnswer);
    const user = this.normalize(userAnswer);
    if (user.length === 0) {
      return { correctness: "wrong", similarity: 0 };
    }
    if (correctAnswer.includes("/") || correctAnswer.includes("|")) {
      const alternatives = correctAnswer.split(/[\/|]/).map((alt) => this.normalize(alt.trim())).filter((alt) => alt.length > 0);
      let maxSimilarity = 0;
      for (const alternative of alternatives) {
        if (user === alternative) {
          return { correctness: "correct", similarity: 1 };
        }
        const similarity2 = this.calculateSimilarity(alternative, user);
        maxSimilarity = Math.max(maxSimilarity, similarity2);
      }
      if (maxSimilarity >= 0.9) {
        return { correctness: "correct", similarity: maxSimilarity };
      } else if (maxSimilarity >= 0.7) {
        return { correctness: "partial", similarity: maxSimilarity };
      } else {
        return { correctness: "wrong", similarity: maxSimilarity };
      }
    }
    const lengthRatio = Math.min(user.length, correct.length) / Math.max(user.length, correct.length);
    if (lengthRatio < 0.3 && user.length < 6) {
      return { correctness: "wrong", similarity: 0 };
    }
    const similarity = this.calculateSimilarity(correct, user);
    const coverage = this.calculateTokenCoverage(correct, user);
    if (similarity >= 0.9) {
      return { correctness: "correct", similarity };
    }
    if (similarity < 0.7 && coverage >= 0.6) {
      return { correctness: "partial", similarity };
    }
    if (similarity >= 0.7) {
      return { correctness: "partial", similarity };
    }
    return { correctness: "wrong", similarity };
  }
  /**
   * 标准化文本
   */
  normalize(text) {
    return text.toLowerCase().trim().replace(/\s+/g, " ").replace(/\n+/g, " ").replace(/[，。！？、；：""''（）《》【】\.,!?;:"'()\[\]{}]/g, "");
  }
  /**
   * 计算相似度（Levenshtein 距离）
   */
  calculateSimilarity(str1, str2) {
    if (str1 === str2)
      return 1;
    if (str1.length === 0 || str2.length === 0)
      return 0;
    const matrix = [];
    for (let i = 0; i <= str2.length; i++) {
      matrix[i] = [i];
    }
    for (let j = 0; j <= str1.length; j++) {
      matrix[0][j] = j;
    }
    for (let i = 1; i <= str2.length; i++) {
      for (let j = 1; j <= str1.length; j++) {
        if (str2.charAt(i - 1) === str1.charAt(j - 1)) {
          matrix[i][j] = matrix[i - 1][j - 1];
        } else {
          matrix[i][j] = Math.min(
            matrix[i - 1][j - 1] + 1,
            // 替换
            matrix[i][j - 1] + 1,
            // 插入
            matrix[i - 1][j] + 1
            // 删除
          );
        }
      }
    }
    const distance = matrix[str2.length][str1.length];
    const maxLength = Math.max(str1.length, str2.length);
    return 1 - distance / maxLength;
  }
  /**
   * 计算关键词覆盖率
   * 用户答案中命中了多少标准答案的词
   */
  calculateTokenCoverage(correct, user) {
    const correctTokens = correct.split(" ").filter((t2) => t2.length > 1);
    const userTokens = new Set(user.split(" "));
    if (correctTokens.length === 0)
      return 0;
    let hit = 0;
    for (const token of correctTokens) {
      if (userTokens.has(token))
        hit++;
    }
    return hit / correctTokens.length;
  }
  /**
   * 根据相似度建议难度
   */
  suggestEase(similarity) {
    if (similarity >= 0.8)
      return "easy";
    if (similarity >= 0.7)
      return "good";
    if (similarity >= 0.5)
      return "hard";
    return "again";
  }
};

// src/ui/components/modals/FlashcardEditModal.ts
var import_obsidian10 = require("obsidian");
var FlashcardEditModal = class extends import_obsidian10.Modal {
  constructor(app, plugin, card, onSubmit) {
    super(app);
    this.plugin = plugin;
    this.card = card;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    var _a, _b;
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.empty();
    contentEl.createEl("h3", { text: t("flashcardEdit.title", lang) });
    contentEl.createEl("label", { text: t("flashcardEdit.question", lang) });
    const questionInput = contentEl.createEl("textarea");
    questionInput.value = this.card.front;
    contentEl.createEl("label", { text: t("flashcardEdit.answer", lang) });
    const answerInput = contentEl.createEl("textarea");
    answerInput.value = this.card.type === "cloze" ? (_b = (_a = this.card.back) == null ? void 0 : _a[0]) != null ? _b : "" : this.card.back;
    const saveBtn = contentEl.createEl("button", { text: t("flashcardEdit.save", lang) });
    saveBtn.onclick = () => {
      this.onSubmit(
        questionInput.value.trim(),
        answerInput.value.trim()
      );
      this.close();
    };
  }
  onClose() {
    this.contentEl.empty();
  }
};

// src/ui/stats/reviewStateManager.ts
var ReviewStateManager = class {
  // ✅ 新增缓存
  constructor() {
    this.answerCache = /* @__PURE__ */ new Map();
    this.state = this.createInitialState();
  }
  createInitialState() {
    return {
      showAnswer: false,
      startTime: 0,
      userAnswers: [],
      userAnswer: ""
    };
  }
  getState() {
    return this.state;
  }
  reset() {
    this.state = this.createInitialState();
  }
  // ✅ 保存当前卡片的答案到缓存
  saveAnswerToCache(cardId) {
    this.answerCache.set(cardId, {
      userAnswer: this.state.userAnswer,
      userAnswers: [...this.state.userAnswers]
    });
  }
  // ✅ 从缓存恢复答案
  restoreAnswerFromCache(cardId) {
    const cached = this.answerCache.get(cardId);
    if (cached) {
      this.state.userAnswer = cached.userAnswer;
      this.state.userAnswers = [...cached.userAnswers];
    } else {
    }
  }
  // ✅ 清除指定卡片的缓存
  clearCache(cardId) {
    this.answerCache.delete(cardId);
  }
  updateForNewCard(newCard, isSameCard, direction) {
    if (!isSameCard) {
      if (direction === "prev") {
        this.restoreAnswerFromCache(newCard.id);
      } else {
        this.state.showAnswer = false;
        this.state.userAnswer = "";
        if (newCard.type === "cloze" && newCard.cloze) {
          this.state.userAnswers = new Array(
            newCard.cloze.deletions.length
          ).fill("");
        } else {
          this.state.userAnswers = [];
        }
      }
    }
    this.state.startTime = Date.now();
  }
  setShowAnswer(show) {
    this.state.showAnswer = show;
  }
  setUserAnswer(answer) {
    this.state.userAnswer = answer;
  }
  setUserAnswers(answers) {
    this.state.userAnswers = answers;
  }
  updateUserAnswerAtIndex(index, value) {
    this.state.userAnswers[index] = value;
  }
  ensureUserAnswersLength(length) {
    if (this.state.userAnswers.length < length) {
      this.state.userAnswers = new Array(length).fill("");
    }
  }
  getTimeSpent() {
    return (Date.now() - this.state.startTime) / 1e3;
  }
};

// src/ui/components/TableRenderer.ts
var TableRenderer = class {
  // 检测是否为表格格式
  static isTableFormat(text) {
    const lines = text.trim().split("\n");
    if (lines.length < 2)
      return false;
    const hasSeparator = lines.some((line) => /^\|?[\s-:|]+\|?$/.test(line.trim()));
    const pipeLines = lines.filter((line) => line.includes("|")).length;
    return hasSeparator || pipeLines >= lines.length * 0.7;
  }
  // 渲染表格
  static renderTable(markdown, showAnswer = false) {
    const container = document.createElement("div");
    if (!(markdown == null ? void 0 : markdown.trim())) {
      container.textContent = "(empty table)";
      return container;
    }
    const lines = markdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = markdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table"
    });
    const separatorIndex = this.findSeparatorIndex(lines);
    if (separatorIndex > 0) {
      this.renderTableWithHeader(table, lines, separatorIndex, showAnswer);
    } else {
      this.renderTableWithoutHeader(table, lines, showAnswer);
    }
    return container;
  }
  // 查找分隔符位置
  static findSeparatorIndex(lines) {
    return lines.findIndex((line) => {
      const cleaned = line.replace(/[\s|]/g, "");
      return cleaned.length >= 3 && /^[-:]+$/.test(cleaned);
    });
  }
  // 渲染带表头的表格
  static renderTableWithHeader(table, lines, separatorIndex, showAnswer) {
    const headerCells = this.parseCells(lines[separatorIndex - 1]);
    const thead = table.createEl("thead");
    const headerRow = thead.createEl("tr");
    headerCells.forEach((cell) => {
      const th = headerRow.createEl("th");
      th.innerHTML = this.processCellContent(cell, showAnswer);
    });
    const tbody = table.createEl("tbody");
    for (let i = separatorIndex + 1; i < lines.length; i++) {
      this.renderTableRow(tbody, lines[i], showAnswer);
    }
  }
  // 渲染无表头的表格
  static renderTableWithoutHeader(table, lines, showAnswer) {
    const tbody = table.createEl("tbody");
    lines.forEach((line) => this.renderTableRow(tbody, line, showAnswer));
  }
  // 渲染单行
  static renderTableRow(tbody, line, showAnswer) {
    if (!line.trim())
      return;
    const cells = this.parseCells(line);
    if (cells.length === 0)
      return;
    const row = tbody.createEl("tr");
    cells.forEach((cell) => {
      const td = row.createEl("td");
      td.innerHTML = this.processCellContent(cell, showAnswer);
    });
  }
  // 解析单元格
  static parseCells(line) {
    let trimmed = line.trim();
    if (trimmed.startsWith("|"))
      trimmed = trimmed.slice(1);
    if (trimmed.endsWith("|"))
      trimmed = trimmed.slice(0, -1);
    const cells = trimmed.split("|").map((c) => c.trim()).filter((c) => c.length > 0);
    return cells;
  }
  // 处理单元格内容
  static processCellContent(cell, showAnswer) {
    if (!cell.includes("==")) {
      return cell;
    }
    if (showAnswer) {
      const result = cell.replace(/==([^=]+)==/g, '<span class="revealed">$1</span>');
      return result;
    } else {
      const result = cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>');
      return result;
    }
  }
  // 渲染带用户答案的表格（完形填空用）
  static renderTableWithUserAnswers(originalMarkdown, deletions, userAnswers, scheduler) {
    const container = document.createElement("div");
    const lines = originalMarkdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = originalMarkdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table user-answer-table"
    });
    const separatorIndex = this.findSeparatorIndex(lines);
    let deletionIndex = 0;
    if (separatorIndex > 0) {
      const headerCells = this.parseCells(lines[separatorIndex - 1]);
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      let headerIndex = 0;
      headerCells.forEach((cell) => {
        const th = headerRow.createEl("th");
        const result = this.processCellWithUserAnswerAndClass(
          cell,
          deletions,
          userAnswers,
          deletionIndex,
          scheduler
        );
        th.innerHTML = result.html;
        if (result.correctnessClass) {
          th.classList.add(result.correctnessClass);
        }
        if (cell.includes("==")) {
          deletionIndex++;
        }
      });
    }
    const tbody = table.createEl("tbody");
    const startRow = separatorIndex > 0 ? separatorIndex + 1 : 0;
    for (let i = startRow; i < lines.length; i++) {
      const line = lines[i];
      if (!line.trim())
        continue;
      const cells = this.parseCells(line);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell) => {
        const td = row.createEl("td");
        const result = this.processCellWithUserAnswerAndClass(
          cell,
          deletions,
          userAnswers,
          deletionIndex,
          scheduler
        );
        td.innerHTML = result.html;
        if (result.correctnessClass) {
          td.classList.add(result.correctnessClass);
        }
        if (cell.includes("==")) {
          deletionIndex++;
        }
      });
    }
    return container;
  }
  // 处理带用户答案的单元格
  static processCellWithUserAnswer(cell, deletions, userAnswers, deletionIndex, scheduler) {
    if (!cell.includes("=="))
      return cell;
    const match = cell.match(/==([^=]+)==/);
    if (!match || deletionIndex >= deletions.length) {
      return cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>');
    }
    const correctAnswer = deletions[deletionIndex].answer;
    const userAnswer = userAnswers[deletionIndex] || "";
    const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
    const displayText = userAnswer || "(empty)";
    const correctnessClass = evaluation.correctness;
    return cell.replace(
      /==([^=]+)==/g,
      `<span class="user-answer-cell ${correctnessClass}">${displayText}</span>`
    );
  }
  // 处理带用户答案的单元格(返回 HTML 和正确性类)
  static processCellWithUserAnswerAndClass(cell, deletions, userAnswers, deletionIndex, scheduler) {
    const match = cell.match(/==([^=]+)==/);
    if (!match) {
      return { html: cell, correctnessClass: null };
    }
    if (!match || deletionIndex >= deletions.length) {
      return {
        html: cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>'),
        correctnessClass: null
      };
    }
    const correctAnswer = deletions[deletionIndex].answer;
    const userAnswer = userAnswers[deletionIndex] || "";
    const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
    const displayText = userAnswer || "(empty)";
    const correctnessClass = evaluation.correctness;
    const html = cell.replace(
      /==([^=]+)==/g,
      `<span class="user-answer-cell ${correctnessClass}">${displayText}</span>`
    );
    return { html, correctnessClass: `cell-${correctnessClass}` };
  }
};

// src/ui/components/reviewCardRender.ts
var ClozeCardRenderer = class {
  renderQuestion(container, card, state, updateState) {
    var _a;
    const questionText = container.createDiv({ cls: "question-text" });
    const isTable = TableRenderer.isTableFormat(card.front);
    if (isTable) {
      const tableEl = this.renderTableWithInputPreview(
        card.front,
        ((_a = card.cloze) == null ? void 0 : _a.deletions) || [],
        state
      );
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    } else {
      const tableEl = TableRenderer.renderTable(card.front, false);
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    }
    if (card.cloze) {
      const actualBlankCount = (card.cloze.original.match(/==[^=]+==/g) || []).length;
      const blankCount = Math.max(actualBlankCount, card.cloze.deletions.length);
      if (state.userAnswers.length !== blankCount) {
        state.userAnswers = new Array(blankCount).fill("");
      }
      const inputArea = container.createDiv({ cls: "cloze-input-area" });
      inputArea.createEl("h4", { text: `Fill in the blanks (${blankCount} total):` });
      const hint = inputArea.createEl("div", { cls: "cloze-input-hint" });
      const singleInputGroup = inputArea.createDiv({ cls: "single-input-group" });
      const initialValue = state.userAnswers.filter((a) => a).join(" | ");
      const input = singleInputGroup.createEl("input", {
        type: "text",
        placeholder: `Enter all ${blankCount} answers separated by |, comma, or spaces...`,
        cls: "cloze-single-input",
        value: initialValue
      });
      const updatePreview = (inputValue) => {
        var _a2;
        const parts = this.parseMultipleAnswers(inputValue, blankCount);
        updateState.setUserAnswers(parts);
        if (isTable) {
          questionText.empty();
          const updatedTableEl = this.renderTableWithInputPreview(
            card.front,
            ((_a2 = card.cloze) == null ? void 0 : _a2.deletions) || [],
            state
          );
          questionText.appendChild(updatedTableEl);
        }
      };
      input.addEventListener("input", (e) => {
        const inputValue = e.target.value;
        updatePreview(inputValue);
      });
      updatePreview(initialValue);
      setTimeout(() => input.focus(), 50);
    }
  }
  // ← 添加新方法:渲染带输入预览的表格
  renderTableWithInputPreview(markdown, deletions, state) {
    const container = document.createElement("div");
    if (!(markdown == null ? void 0 : markdown.trim())) {
      container.textContent = "(empty table)";
      return container;
    }
    const lines = markdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = markdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table preview-table"
    });
    const separatorIndex = lines.findIndex((line) => {
      const cleaned = line.replace(/[\s|]/g, "");
      return cleaned.length >= 3 && /^[-:]+$/.test(cleaned);
    });
    let deletionIndex = 0;
    if (separatorIndex > 0) {
      const headerCells = this.parseCells(lines[separatorIndex - 1]);
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      headerCells.forEach((cell) => {
        const th = headerRow.createEl("th");
        const rendered = this.renderCellWithPreview(cell, state.userAnswers, deletionIndex);
        th.innerHTML = rendered.html;
        if (rendered.hasBlank)
          deletionIndex++;
      });
    }
    const tbody = table.createEl("tbody");
    const startRow = separatorIndex > 0 ? separatorIndex + 1 : 0;
    for (let i = startRow; i < lines.length; i++) {
      const line = lines[i];
      if (!line.trim())
        continue;
      const cells = this.parseCells(line);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell) => {
        const td = row.createEl("td");
        const rendered = this.renderCellWithPreview(cell, state.userAnswers, deletionIndex);
        td.innerHTML = rendered.html;
        if (rendered.hasBlank)
          deletionIndex++;
      });
    }
    return container;
  }
  // ← 添加辅助方法:解析单元格
  parseCells(line) {
    let trimmed = line.trim();
    if (trimmed.startsWith("|"))
      trimmed = trimmed.slice(1);
    if (trimmed.endsWith("|"))
      trimmed = trimmed.slice(0, -1);
    return trimmed.split("|").map((c) => c.trim()).filter((c) => c.length > 0);
  }
  // ← 添加辅助方法:渲染带预览的单元格
  renderCellWithPreview(cell, userAnswers, deletionIndex) {
    const match = cell.match(/==([^=]+)==/);
    if (!match) {
      return { html: cell, hasBlank: false };
    }
    const userAnswer = userAnswers[deletionIndex] || "";
    const displayText = userAnswer ? `<span class="preview-answer">${userAnswer}</span>` : '<span class="cloze-blank"></span>';
    const html = cell.replace(/==([^=]+)==/g, displayText);
    return { html, hasBlank: true };
  }
  // ← 添加新的辅助方法:解析多答案输入
  parseMultipleAnswers(input, expectedCount) {
    if (!input.trim()) {
      return new Array(expectedCount).fill("");
    }
    let normalized = input.replace(/,/g, "|").replace(/,/g, "|").replace(/\s{2,}/g, "|");
    const parts = normalized.split("|").map((s) => s.trim());
    const result = new Array(expectedCount).fill("");
    for (let i = 0; i < Math.min(parts.length, expectedCount); i++) {
      result[i] = parts[i];
    }
    return result;
  }
  renderAnswer(container, card, state, scheduler) {
    if (!card.cloze)
      return;
    const answerArea = container.createDiv({ cls: "answer-area" });
    const isOriginalTable = TableRenderer.isTableFormat(card.cloze.original);
    if (isOriginalTable) {
      this.renderTableAnswer(answerArea, card, state, scheduler);
    } else {
      this.renderTextAnswer(answerArea, card, state, scheduler);
    }
  }
  renderTableAnswer(answerArea, card, state, scheduler) {
    const columnsContainer = answerArea.createDiv({ cls: "cloze-table-columns" });
    const correctColumn = columnsContainer.createDiv({ cls: "qa-column" });
    correctColumn.createEl("h4", { text: "Correct Answer:", cls: "column-label" });
    const correctDiv = correctColumn.createDiv({ cls: "comparison-item" });
    const tableEl = TableRenderer.renderTable(card.cloze.original, true);
    correctDiv.appendChild(tableEl);
    correctDiv.classList.add("table-answer");
    const userColumn = columnsContainer.createDiv({ cls: "qa-column" });
    userColumn.createEl("h4", { text: "Your Answer:", cls: "column-label" });
    const userDiv = userColumn.createDiv({ cls: "comparison-item" });
    const actualAnswers = this.extractClozeAnswers(card.cloze.original);
    const constructedDeletions = actualAnswers.map((answer) => ({ answer }));
    const normalizedAnswers = new Array(actualAnswers.length).fill("");
    for (let i = 0; i < Math.min(state.userAnswers.length, normalizedAnswers.length); i++) {
      normalizedAnswers[i] = state.userAnswers[i] || "";
    }
    const userTableEl = TableRenderer.renderTableWithUserAnswers(
      card.cloze.original,
      constructedDeletions,
      // ← 使用构建的 deletions
      normalizedAnswers,
      scheduler
    );
    userDiv.appendChild(userTableEl);
    userDiv.classList.add("table-answer");
    this.renderDetailedComparison(answerArea, card, state, scheduler);
  }
  renderTextAnswer(answerArea, card, state, scheduler) {
    const fullText = answerArea.createDiv({ cls: "full-text" });
    fullText.textContent = card.cloze.original;
    this.renderDetailedComparison(answerArea, card, state, scheduler);
  }
  renderDetailedComparison(answerArea, card, state, scheduler) {
    if (state.userAnswers.length === 0)
      return;
    const comparison = answerArea.createDiv({ cls: "answer-comparison" });
    comparison.createEl("h4", { text: "Answer Details:" });
    const actualAnswers = this.extractClozeAnswers(card.cloze.original);
    const maxCount = Math.max(actualAnswers.length, state.userAnswers.length);
    for (let index = 0; index < maxCount; index++) {
      const item = comparison.createDiv({ cls: "comparison-item" });
      item.createSpan({ text: `${index + 1}. ` });
      const userAnswer = state.userAnswers[index] || "";
      const correctAnswer = actualAnswers[index] || "";
      if (!correctAnswer) {
        item.createEl("span", {
          text: userAnswer || "(empty)",
          cls: "user-answer  ${evaluation.correctness}"
        });
        item.createSpan({ text: " \u2192 " });
        item.createEl("span", {
          text: "(no blank here)",
          cls: "correct-answer"
        });
        continue;
      }
      const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
      item.createEl("span", {
        text: userAnswer || "(empty)",
        cls: `user-answer ${evaluation.correctness}`
      });
      item.createSpan({ text: " \u2192 " });
      item.createEl("span", {
        text: correctAnswer,
        cls: "correct-answer"
      });
      if (evaluation.correctness === "partial") {
        item.createEl("small", {
          text: ` (${Math.round(evaluation.similarity * 100)}% match)`,
          cls: "similarity-info"
        });
      }
    }
  }
  // ← 添加新方法:从原始文本提取所有挖空答案
  extractClozeAnswers(originalText) {
    const matches = originalText.match(/==([^=]+)==/g);
    if (!matches)
      return [];
    return matches.map((match) => {
      return match.replace(/==/g, "").trim();
    });
  }
};
var QACardRenderer = class {
  renderQuestion(container, card, state, updateState) {
    const questionText = container.createDiv({ cls: "question-text" });
    const isTable = TableRenderer.isTableFormat(card.front);
    if (isTable) {
      const tableEl = TableRenderer.renderTable(card.front, false);
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    } else {
      questionText.textContent = card.front;
    }
    const inputArea = container.createDiv({ cls: "qa-input-area" });
    inputArea.createEl("h4", { text: "Your Answer:" });
    const textarea = inputArea.createEl("textarea", {
      placeholder: "Type your answer here...",
      cls: "qa-input",
      value: state.userAnswer
    });
    textarea.addEventListener("input", (e) => {
      updateState.setUserAnswer(e.target.value);
    });
    setTimeout(() => textarea.focus(), 50);
  }
  renderAnswer(container, card, state, scheduler) {
    const answerArea = container.createDiv({ cls: "answer-area" });
    const correctAnswer = Array.isArray(card.back) ? card.back[0] || card.back.join("\n") : card.back;
    const isTable = TableRenderer.isTableFormat(correctAnswer);
    const evaluation = state.userAnswer.trim() ? scheduler.evaluateAnswer(correctAnswer, state.userAnswer) : null;
    const comparison = answerArea.createDiv({
      cls: "answer-comparison qa-comparison"
    });
    const columnsContainer = comparison.createDiv({ cls: "qa-columns-container" });
    this.renderCorrectAnswerColumn(columnsContainer, correctAnswer, isTable);
    this.renderUserAnswerColumn(
      columnsContainer,
      state.userAnswer,
      isTable,
      evaluation
    );
    if ((evaluation == null ? void 0 : evaluation.correctness) === "partial") {
      const similarityInfo = comparison.createEl("div", {
        cls: "similarity-info qa-similarity"
      });
      similarityInfo.textContent = `Similarity: ${Math.round(evaluation.similarity * 100)}%`;
    }
  }
  renderCorrectAnswerColumn(container, correctAnswer, isTable) {
    const correctColumn = container.createDiv({ cls: "qa-column" });
    correctColumn.createEl("h4", { text: "Correct Answer:", cls: "column-label" });
    const correctAnswerDiv = correctColumn.createDiv({ cls: "comparison-item" });
    if (isTable) {
      const tableEl = TableRenderer.renderTable(correctAnswer, true);
      correctAnswerDiv.appendChild(tableEl);
      correctAnswerDiv.classList.add("table-answer");
    } else {
      correctAnswerDiv.createEl("div", {
        text: correctAnswer,
        cls: "correct-answer qa-correct-answer"
      });
    }
  }
  renderUserAnswerColumn(container, userAnswer, isTable, evaluation) {
    const userColumn = container.createDiv({ cls: "qa-column" });
    userColumn.createEl("h4", { text: "Your Answer:", cls: "column-label" });
    const userAnswerDiv = userColumn.createDiv({ cls: "comparison-item" });
    const isUserAnswerTable = TableRenderer.isTableFormat(userAnswer.trim());
    const shouldRenderAsTable = isUserAnswerTable || isTable && userAnswer.trim();
    if (shouldRenderAsTable && userAnswer.trim()) {
      try {
        const userTableEl = TableRenderer.renderTable(userAnswer, true);
        userAnswerDiv.appendChild(userTableEl);
        userAnswerDiv.classList.add("table-answer");
        if (evaluation) {
          userAnswerDiv.classList.add("user-answer", evaluation.correctness);
        }
      } catch (error) {
        this.renderTextUserAnswer(userAnswerDiv, userAnswer, evaluation);
      }
    } else {
      this.renderTextUserAnswer(userAnswerDiv, userAnswer, evaluation);
    }
  }
  renderTextUserAnswer(container, userAnswer, evaluation) {
    const userAnswerElement = container.createEl("div", {
      text: userAnswer.trim() || "(no answer provided)",
      cls: "qa-user-answer"
    });
    if (evaluation) {
      userAnswerElement.classList.add("user-answer", evaluation.correctness);
    } else {
      userAnswerElement.classList.add("no-answer");
    }
  }
};
var CardRendererFactory = class {
  static getRenderer(cardType) {
    const renderer = this.renderers.get(cardType);
    if (!renderer) {
      throw new Error(`Unknown card type: ${cardType}`);
    }
    return renderer;
  }
};
CardRendererFactory.renderers = /* @__PURE__ */ new Map([
  ["cloze", new ClozeCardRenderer()],
  ["qa", new QACardRenderer()]
]);

// src/ui/view/ReviewView.ts
var VIEW_TYPE_REVIEW = "learning-system-review";
var ReviewView = class extends import_obsidian11.ItemView {
  // 跟踪已复习的卡片
  constructor(leaf, plugin) {
    super(leaf);
    this.dueCards = [];
    this.currentCardIndex = 0;
    this.currentCard = null;
    this.stateManager = new ReviewStateManager();
    this.reviewedCardIds = /* @__PURE__ */ new Set();
    // ============================================================================
    // 键盘处理
    // ============================================================================
    this.keyboardHandler = (e) => {
      const target = e.target;
      const isInInput = target.tagName === "INPUT" || target.tagName === "TEXTAREA";
      if (e.key === "Tab") {
        e.preventDefault();
        if (e.shiftKey) {
          this.go("prev");
        } else {
          this.go("next");
        }
        return;
      }
      if (this.stateManager.getState().showAnswer && !isInInput) {
        const ratingMap = {
          "1": "again",
          "2": "hard",
          "3": "good",
          "4": "easy"
        };
        if (ratingMap[e.key]) {
          e.preventDefault();
          this.submitReview(ratingMap[e.key]);
        }
      }
    };
    this.plugin = plugin;
    this.language = this.plugin.settings.language || "en";
    this.scheduler = new CardScheduler();
  }
  getViewType() {
    return VIEW_TYPE_REVIEW;
  }
  getDisplayText() {
    return "Flashcard Review";
  }
  getIcon() {
    return "layers";
  }
  async onOpen() {
    await this.loadDueCards();
    reviewStyle.inject();
    this.render();
    this.registerKeyboardHandlers();
  }
  async onClose() {
    document.removeEventListener("keydown", this.keyboardHandler);
  }
  // ============================================================================
  // 状态管理
  // ============================================================================
  resetReviewState() {
    this.stateManager.reset();
  }
  updateCurrentCard(direction = "next") {
    var _a;
    const newCard = this.dueCards[this.currentCardIndex];
    const isSameCard = ((_a = this.currentCard) == null ? void 0 : _a.id) === (newCard == null ? void 0 : newCard.id);
    this.stateManager.updateForNewCard(newCard, isSameCard, direction);
    this.currentCard = newCard;
  }
  // ============================================================================
  // 数据加载
  // ============================================================================
  async loadDueCards() {
    this.dueCards = this.plugin.flashcardManager.getDueCards();
    this.currentCardIndex = 0;
    this.resetReviewState();
    this.stateManager.reset();
    this.reviewedCardIds.clear();
    this.updateCurrentCard("next");
  }
  // ============================================================================
  // 渲染逻辑
  // ============================================================================
  render() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("review-container");
    if (this.dueCards.length === 0) {
      this.renderNoDueCards(container);
      return;
    }
    this.renderProgress(container);
    const cardArea = container.createDiv({ cls: "card-area" });
    this.renderTopActions(cardArea);
    if (this.stateManager.getState().showAnswer) {
      this.renderAnswerView(cardArea);
    } else {
      this.renderQuestionView(cardArea);
    }
  }
  renderNoDueCards(container) {
    const emptyState = container.createDiv({ cls: "empty-state" });
    emptyState.createEl("h2", { text: "\u{1F389} All Done!" });
    emptyState.createEl("p", { text: "No cards due for review right now." });
    const stats = this.plugin.flashcardManager.getStats();
    const statsDiv = emptyState.createDiv({ cls: "stats-summary" });
    statsDiv.createEl("p", { text: `Total cards: ${stats.total}` });
    statsDiv.createEl("p", { text: `New cards: ${stats.new}` });
    statsDiv.createEl("p", { text: `Reviewed today: ${stats.reviewedToday}` });
    const closeBtn = emptyState.createEl("button", {
      text: "Close Review",
      cls: "mod-cta"
    });
    closeBtn.onclick = async () => {
      var _a;
      await this.cleanupReviewedCards();
      (_a = this.leaf) == null ? void 0 : _a.detach();
    };
  }
  renderProgress(container) {
    const progressBar = container.createDiv({ cls: "progress-bar" });
    const stats = progressBar.createDiv({ cls: "progress-stats" });
    const reviewed = this.reviewedCardIds.size;
    const total = this.dueCards.length;
    stats.createSpan({
      text: `${reviewed} / ${total} reviewed`,
      cls: "progress-text"
    });
    const barContainer = progressBar.createDiv({ cls: "bar-container" });
    const bar = barContainer.createDiv({ cls: "bar" });
    const progress = reviewed / total * 100;
    bar.style.width = `${progress}%`;
  }
  renderTopActions(container) {
    const actionsBar = container.createDiv({ cls: "top-actions-bar" });
    const jumpBtn = actionsBar.createEl("button", {
      cls: "top-action-btn jump-icon-btn",
      attr: { "aria-label": "Jump to Source" }
    });
    jumpBtn.innerHTML = "\u2197";
    jumpBtn.addEventListener("click", () => this.jumpToSource());
    this.renderMoreMenu(actionsBar);
  }
  renderMoreMenu(actionsBar) {
    const moreBtn = actionsBar.createEl("button", {
      cls: "top-action-btn more-btn",
      attr: { "aria-label": "More actions" }
    });
    moreBtn.innerHTML = "\u22EF";
    const dropdown = actionsBar.createDiv({ cls: "more-dropdown" });
    dropdown.style.display = "none";
    const menuItems = [
      {
        label: "\u270F\uFE0F Edit Card",
        onClick: () => this.editCurrentFlashcard()
      },
      {
        label: "\u{1F504} Reset Card Stats",
        onClick: async () => {
          if (this.currentCard && confirm(t("confirm.resetCardStats", this.language))) {
            await this.resetCardStats(this.currentCard.id);
          }
        }
      },
      {
        label: "\u{1F4DA} Reset Deck Stats",
        onClick: async () => {
          if (this.currentCard) {
            const deckName = this.currentCard.deck;
            if (confirm(t("confirm.resetDeckStats", this.language, { deck: deckName }))) {
              await this.plugin.analyticsEngine.clearDeckStats(deckName);
              new import_obsidian11.Notice(t("notice.deckStatsReset", this.language, { deck: deckName }));
              await this.loadDueCards();
              this.render();
            }
          }
        }
      },
      {
        label: "\u{1F5D1}\uFE0F Delete Card",
        onClick: async () => {
          if (this.currentCard && confirm(t("confirm.deleteFlashcard", this.language))) {
            await this.deleteFlashcard(this.currentCard.id);
          }
        },
        className: "delete-item"
      }
    ];
    menuItems.forEach((item) => {
      const menuItem = dropdown.createEl("div", {
        cls: `dropdown-item ${item.className || ""}`
      });
      menuItem.innerHTML = item.label;
      menuItem.addEventListener("click", () => {
        item.onClick();
        dropdown.style.display = "none";
      });
    });
    moreBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      dropdown.style.display = dropdown.style.display === "none" ? "block" : "none";
    });
    document.addEventListener("click", () => {
      dropdown.style.display = "none";
    });
    dropdown.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  }
  renderQuestionView(container) {
    if (!this.currentCard)
      return;
    this.renderCardInfo(container);
    const questionArea = container.createDiv({ cls: "question-area" });
    questionArea.createEl("h3", { text: "Question" });
    const renderer = CardRendererFactory.getRenderer(this.currentCard.type);
    renderer.renderQuestion(
      questionArea,
      this.currentCard,
      this.stateManager.getState(),
      {
        setUserAnswer: (answer) => {
          this.stateManager.setUserAnswer(answer);
        },
        setUserAnswers: (answers) => {
          this.stateManager.setUserAnswers(answers);
        }
      }
    );
    const actionRow = container.createDiv({ cls: "action-row" });
    this.renderNavigationButton(actionRow, "prev");
    this.renderShowAnswerButton(actionRow);
    this.renderNavigationButton(actionRow, "next");
  }
  renderAnswerView(container) {
    var _a;
    if (!this.currentCard)
      return;
    this.renderCardInfo(container);
    const isQuestionTable = TableRenderer.isTableFormat(this.currentCard.front);
    const isAnswerTable = this.currentCard.type === "cloze" ? TableRenderer.isTableFormat(((_a = this.currentCard.cloze) == null ? void 0 : _a.original) || "") : TableRenderer.isTableFormat(
      Array.isArray(this.currentCard.back) ? this.currentCard.back[0] || "" : this.currentCard.back
    );
    if (!isQuestionTable && !isAnswerTable) {
      this.renderQuestionReview(container);
    }
    const renderer = CardRendererFactory.getRenderer(this.currentCard.type);
    renderer.renderAnswer(container, this.currentCard, this.stateManager.getState(), this.scheduler);
    const actionRow = container.createDiv({ cls: "action-row" });
    this.renderNavigationButton(actionRow, "prev");
    this.renderRatingButtons(actionRow);
    this.renderNavigationButton(actionRow, "next");
  }
  renderCardInfo(container) {
    if (!this.currentCard)
      return;
    const cardInfo = container.createDiv({ cls: "card-info" });
    cardInfo.createSpan({
      text: this.currentCard.type === "qa" ? "\u{1F4DD} Q&A" : "\u270F\uFE0F Cloze",
      cls: "card-type"
    });
    cardInfo.createSpan({
      text: `Deck: ${this.currentCard.deck}`,
      cls: "card-deck"
    });
  }
  renderQuestionReview(container) {
    if (!this.currentCard)
      return;
    const questionReview = container.createDiv({ cls: "question-review" });
    questionReview.createEl("h4", { text: "Question:" });
    const reviewTextDiv = questionReview.createDiv({ cls: "review-text" });
    const isQuestionTable = TableRenderer.isTableFormat(this.currentCard.front);
    if (isQuestionTable) {
      const tableEl = TableRenderer.renderTable(this.currentCard.front, false);
      reviewTextDiv.appendChild(tableEl);
      reviewTextDiv.classList.add("table-question");
    } else {
      reviewTextDiv.textContent = this.currentCard.front;
    }
  }
  renderShowAnswerButton(container) {
    const showAnswerBtn = container.createEl("button", {
      text: "Show Answer",
      cls: "mod-cta show-answer-btn",
      attr: { title: "Press Enter or Tab" }
    });
    showAnswerBtn.addEventListener("click", () => {
      this.stateManager.setShowAnswer(true);
      this.render();
    });
  }
  renderRatingButtons(container) {
    const buttonGroup = container.createDiv({ cls: "rating-buttons" });
    const ratings = [
      { ease: "again", label: "Again\n < 1 min", color: "red", key: "1" },
      { ease: "hard", label: "Hard\n < 10 min", color: "orange", key: "2" },
      { ease: "good", label: "Good\n 1 day", color: "blue", key: "3" },
      { ease: "easy", label: "Easy\n 4 days", color: "green", key: "4" }
    ];
    ratings.forEach(({ ease, label, color, key }) => {
      const btn = buttonGroup.createEl("button", {
        cls: `rating-btn rating-${color}`,
        attr: { title: `Press ${key}` }
      });
      const lines = label.split("\n");
      btn.createEl("div", { text: lines[0], cls: "rating-label" });
      btn.createEl("div", { text: lines[1], cls: "rating-interval" });
      btn.createEl("div", { text: `(${key})`, cls: "rating-hotkey" });
      btn.addEventListener("click", () => this.submitReview(ease));
    });
  }
  renderNavigationButton(container, type) {
    const btn = container.createEl("button", {
      cls: `nav-btn ${type}-btn`,
      text: type === "prev" ? "\u2190" : "\u2192"
    });
    btn.addEventListener("click", () => {
      this.go(type);
    });
  }
  go(direction) {
    var _a;
    const state = this.stateManager.getState();
    if (direction === "next") {
      if (!state.showAnswer) {
        const hasCurrentInput = ((_a = this.currentCard) == null ? void 0 : _a.type) === "cloze" ? state.userAnswers.some((ans) => ans && ans.trim() !== "") : state.userAnswer.trim() !== "";
        if (!hasCurrentInput) {
          this.stateManager.reset();
        }
        this.stateManager.setShowAnswer(true);
      } else {
        if (this.currentCardIndex < this.dueCards.length - 1) {
          if (this.currentCard) {
            this.stateManager.saveAnswerToCache(this.currentCard.id);
          }
          this.currentCardIndex++;
          this.currentCard = this.dueCards[this.currentCardIndex];
          this.resetReviewState();
          this.updateCurrentCard("next");
        } else {
          new import_obsidian11.Notice("Already at last card");
        }
      }
    }
    if (direction === "prev") {
      if (state.showAnswer) {
        this.stateManager.setShowAnswer(false);
        this.stateManager.reset();
        this.stateManager.setShowAnswer(false);
      } else {
        if (this.currentCardIndex > 0) {
          if (this.currentCard) {
            this.stateManager.saveAnswerToCache(this.currentCard.id);
          }
          this.currentCardIndex--;
          this.stateManager.reset();
          this.updateCurrentCard("prev");
          this.stateManager.setShowAnswer(true);
        } else {
          new import_obsidian11.Notice("Already at first card");
        }
      }
    }
    this.render();
  }
  // ============================================================================
  // 交互处理
  // ============================================================================
  async submitReview(ease) {
    if (!this.currentCard)
      return;
    const timeSpent = (Date.now() - this.stateManager.getState().startTime) / 1e3;
    const userAnswer = this.currentCard.type === "cloze" ? this.stateManager.getState().userAnswers : this.currentCard.type === "qa" ? this.stateManager.getState().userAnswer : void 0;
    const { updatedCard, reviewLog } = this.scheduler.schedule(
      this.currentCard,
      ease,
      timeSpent,
      userAnswer
    );
    await this.plugin.flashcardManager.updateCard(updatedCard);
    await this.plugin.flashcardManager.logReview({
      id: `log-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
      // 更唯一的ID
      cycle: this.plugin.analyticsEngine.getCurrentCycleNumber(),
      // 👈 添加周期号
      ...reviewLog
    });
    await this.plugin.unlockSystem.onCardReviewed();
    this.reviewedCardIds.add(this.currentCard.id);
    this.stateManager.clearCache(this.currentCard.id);
    this.resetReviewState();
    const nextUnreviewedIndex = this.findNextUnreviewedCard(this.currentCardIndex + 1);
    if (nextUnreviewedIndex === -1) {
      new import_obsidian11.Notice(`\u2705 Review session complete!`);
      this.currentCard = null;
      this.dueCards = [];
      this.render();
    } else {
      this.currentCardIndex = nextUnreviewedIndex;
      this.updateCurrentCard("next");
      this.render();
    }
  }
  findNextUnreviewedCard(startIndex) {
    for (let i = startIndex; i < this.dueCards.length; i++) {
      if (!this.reviewedCardIds.has(this.dueCards[i].id)) {
        return i;
      }
    }
    return -1;
  }
  async jumpToSource() {
    if (!this.currentCard)
      return;
    const file = this.app.vault.getAbstractFileByPath(this.currentCard.sourceFile);
    if (!(file instanceof import_obsidian11.TFile)) {
      new import_obsidian11.Notice("Source file not found");
      return;
    }
    const contentUnit = this.plugin.dataManager.getContentUnit(
      this.currentCard.sourceContentId
    );
    if (!contentUnit) {
      new import_obsidian11.Notice("Source content not found");
      return;
    }
    const leaf = this.app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian11.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          editor.setCursor({ line: contentUnit.source.position.line, ch: 0 });
          editor.scrollIntoView({
            from: { line: contentUnit.source.position.line, ch: 0 },
            to: { line: contentUnit.source.position.line, ch: 0 }
          }, true);
        }
      }
    }, 100);
  }
  async deleteFlashcard(cardId) {
    var _a;
    try {
      await this.plugin.flashcardManager.deleteCard(cardId);
      new import_obsidian11.Notice(t("notice.flashcardDeleted", this.language));
      this.dueCards = this.dueCards.filter((card) => card.id !== cardId);
      if (((_a = this.currentCard) == null ? void 0 : _a.id) === cardId) {
        if (this.currentCardIndex >= this.dueCards.length) {
          this.currentCardIndex = Math.max(0, this.dueCards.length - 1);
        }
        this.currentCard = null;
      }
      await this.loadDueCards();
      this.render();
    } catch (error) {
      console.error("Error deleting flashcard:", error);
      new import_obsidian11.Notice(t("notice.deleteFlashcardFailed", this.language));
    }
  }
  editCurrentFlashcard() {
    if (!this.currentCard)
      return;
    const modal = new FlashcardEditModal(
      this.app,
      this.plugin,
      this.currentCard,
      async (question, answer) => {
        try {
          const updatedCard = {
            ...this.currentCard,
            front: question,
            back: this.currentCard.type === "cloze" ? [answer] : answer,
            metadata: {
              ...this.currentCard.metadata,
              updatedAt: Date.now()
            }
          };
          await this.plugin.flashcardManager.updateCard(updatedCard);
          new import_obsidian11.Notice(t("notice.flashcardUpdated", this.language));
          this.currentCard = updatedCard;
          this.render();
        } catch (error) {
          console.error("Error updating flashcard:", error);
          new import_obsidian11.Notice(t("notice.updateFlashcardFailed", this.language));
        }
      }
    );
    modal.open();
  }
  async resetCardStats(cardId) {
    try {
      const card = this.plugin.flashcardManager.getFlashcard(cardId);
      if (!card)
        return;
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
      const logs = this.plugin.flashcardManager["reviewLogs"] || [];
      this.plugin.flashcardManager["reviewLogs"] = logs.filter(
        (log) => log.flashcardId !== cardId
      );
      await this.plugin.dataManager.save();
      new import_obsidian11.Notice(t("notice.cardStatsReset", this.language));
      this.currentCard = card;
      this.render();
    } catch (error) {
      console.error("Error resetting card stats:", error);
      new import_obsidian11.Notice(t("notice.resetStatsFailed", this.language));
    }
  }
  registerKeyboardHandlers() {
    document.addEventListener("keydown", this.keyboardHandler);
  }
  async cleanupReviewedCards() {
    this.reviewedCardIds.clear();
  }
  // ============================================================================
  // 样式
  // ============================================================================
};

// src/ui/view/StatsView.ts
var import_obsidian12 = require("obsidian");

// src/core/AnalyticsEngine.ts
var AnalyticsEngine = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  /**
   * 获取或初始化周期信息
   */
  getCycleData() {
    const data = this.plugin.settings.cycleData;
    if (!data) {
      const initData = {
        currentCycle: 1,
        cycleStartDate: new Date().toISOString(),
        cycles: [{
          cycleNumber: 1,
          startDate: new Date().toISOString(),
          totalReviews: 0,
          totalCards: 0,
          correctRate: 0
        }]
      };
      this.plugin.settings.cycleData = initData;
      this.plugin.saveSettings();
      return initData;
    }
    return data;
  }
  /**
   * 获取当前周期信息（供 UI 使用）
   */
  getCurrentCycleInfo() {
    const data = this.getCycleData();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const cycleReviews = logs.filter(
      (log) => (log.cycle || 1) === data.currentCycle
    ).length;
    return {
      currentCycle: data.currentCycle,
      startDate: data.cycleStartDate,
      reviewsThisCycle: cycleReviews
    };
  }
  /**
   * 获取当前周期号
   */
  getCurrentCycleNumber() {
    return this.getCycleData().currentCycle;
  }
  /**
   * 开启新周期
   */
  async startNewCycle() {
    const data = this.getCycleData();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const cycleReviews = logs.filter(
      (log) => (log.cycle || 1) === data.currentCycle
    );
    const totalCorrect = cycleReviews.filter(
      (log) => log.response.ease === "good" || log.response.ease === "easy"
    ).length;
    const correctRate = cycleReviews.length > 0 ? totalCorrect / cycleReviews.length : 0;
    const currentCycleIndex = data.cycles.findIndex(
      (c) => c.cycleNumber === data.currentCycle
    );
    if (currentCycleIndex !== -1) {
      data.cycles[currentCycleIndex].endDate = new Date().toISOString();
      data.cycles[currentCycleIndex].totalReviews = cycleReviews.length;
      data.cycles[currentCycleIndex].totalCards = cards.length;
      data.cycles[currentCycleIndex].correctRate = correctRate;
    }
    const newCycleNumber = data.currentCycle + 1;
    const newStartDate = new Date().toISOString();
    data.cycles.push({
      cycleNumber: newCycleNumber,
      startDate: newStartDate,
      totalReviews: 0,
      totalCards: cards.length,
      correctRate: 0
    });
    data.currentCycle = newCycleNumber;
    data.cycleStartDate = newStartDate;
    await this.plugin.saveSettings();
  }
  /**
   * 获取所有历史周期(用于UI显示)
   */
  getArchivedCycles() {
    const data = this.getCycleData();
    return data.cycles.filter((c) => !!c.endDate).sort((a, b) => b.cycleNumber - a.cycleNumber);
  }
  /**
   * 获取指定周期的详细统计
   */
  getCycleDetails(cycleNumber) {
    const data = this.getCycleData();
    const cycle = data.cycles.find((c) => c.cycleNumber === cycleNumber);
    if (!cycle)
      return null;
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const cycleLogs = logs.filter((log) => (log.cycle || 1) === cycleNumber);
    const dailyStats = this.buildCycleDailyStats(cycleNumber, cycle.startDate, cycle.endDate);
    const deckStats = this.buildCycleDeckStats(cycleNumber);
    return {
      cycle,
      dailyStats,
      deckStats,
      weeklyStats: this.getWeeklyStats(true)
      // 这里可以改进,获取指定周期的周统计
    };
  }
  /**
   * 构建指定周期的每日统计
   */
  buildCycleDailyStats(cycleNumber, startDate, endDate) {
    const logs = (this.plugin.flashcardManager["reviewLogs"] || []).filter((log) => (log.cycle || 1) === cycleNumber);
    const start = new Date(startDate);
    const end = endDate ? new Date(endDate) : new Date();
    const days = Math.ceil((end.getTime() - start.getTime()) / (1e3 * 60 * 60 * 24));
    const stats = /* @__PURE__ */ new Map();
    for (let i = 0; i < days; i++) {
      const date = new Date(start);
      date.setDate(date.getDate() + i);
      const dateKey = date.toISOString().split("T")[0];
      stats.set(dateKey, {
        date: dateKey,
        reviewed: 0,
        correctCount: 0,
        correctRate: 0,
        timeSpent: 0,
        newCards: 0
      });
    }
    logs.forEach((log) => {
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      const stat = stats.get(date);
      if (!stat)
        return;
      stat.reviewed++;
      stat.timeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        stat.correctCount++;
      } else if (log.response.ease === "hard") {
        stat.correctCount += 0.5;
      }
      const card = this.plugin.flashcardManager.getFlashcard(log.flashcardId);
      if (card && card.stats.totalReviews === 1) {
        stat.newCards++;
      }
    });
    stats.forEach((stat) => {
      if (stat.reviewed > 0) {
        stat.correctRate = stat.correctCount / stat.reviewed;
      }
    });
    return Array.from(stats.values()).sort((a, b) => a.date.localeCompare(b.date));
  }
  /**
   * 构建指定周期的卡组统计
   */
  buildCycleDeckStats(cycleNumber) {
    const logs = (this.plugin.flashcardManager["reviewLogs"] || []).filter((log) => (log.cycle || 1) === cycleNumber);
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const deckMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      if (!deckMap.has(card.deck)) {
        deckMap.set(card.deck, { cards: [], logs: [] });
      }
      deckMap.get(card.deck).cards.push(card);
    });
    logs.forEach((log) => {
      const card = cards.find((c) => c.id === log.flashcardId);
      if (card && deckMap.has(card.deck)) {
        deckMap.get(card.deck).logs.push(log);
      }
    });
    const stats = [];
    deckMap.forEach((data, deckName) => {
      const deckLogs = data.logs;
      const correctLogs = deckLogs.filter(
        (log) => log.response.ease === "good" || log.response.ease === "easy"
      );
      stats.push({
        deckName,
        totalCards: data.cards.length,
        dueCards: data.cards.filter((c) => c.scheduling.due <= Date.now()).length,
        newCards: data.cards.filter((c) => c.scheduling.state === "new").length,
        correctRate: deckLogs.length > 0 ? correctLogs.length / deckLogs.length : 0,
        averageInterval: data.cards.reduce((sum, c) => sum + c.scheduling.interval, 0) / (data.cards.length || 1)
      });
    });
    return stats.sort((a, b) => b.totalCards - a.totalCards);
  }
  /**
   * 清除统计但保留卡片进度
   */
  async clearStatsOnly() {
    this.plugin.flashcardManager["reviewLogs"] = [];
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: card.stats.difficulty
        // 保留难度
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    await this.plugin.dataManager.save();
  }
  /**
   * 获取每日统计
   */
  getDailyStats(days = 30, currentCycleOnly = false) {
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const stats = /* @__PURE__ */ new Map();
    const currentCycle = currentCycleOnly ? this.getCurrentCycleNumber() : null;
    for (let i = 0; i < days; i++) {
      const date = new Date();
      date.setDate(date.getDate() - i);
      const dateKey = date.toISOString().split("T")[0];
      stats.set(dateKey, {
        date: dateKey,
        reviewed: 0,
        correctCount: 0,
        correctRate: 0,
        timeSpent: 0,
        newCards: 0
      });
    }
    logs.forEach((log) => {
      const logCycle = log.cycle || 1;
      if (currentCycle !== null && logCycle !== currentCycle) {
        return;
      }
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      const stat = stats.get(date);
      if (!stat)
        return;
      stat.reviewed++;
      stat.timeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        stat.correctCount++;
      } else if (log.response.ease === "hard") {
        stat.correctCount += 0.5;
      }
      const card = this.plugin.flashcardManager.getFlashcard(log.flashcardId);
      if (card && card.stats.totalReviews === 1) {
        stat.newCards++;
      }
    });
    stats.forEach((stat) => {
      if (stat.reviewed > 0) {
        stat.correctRate = stat.correctCount / stat.reviewed;
      }
    });
    return Array.from(stats.values()).sort(
      (a, b) => a.date.localeCompare(b.date)
    );
  }
  /**
   * 获取周统计
   */
  getWeeklyStats(currentCycleOnly = false) {
    const now = new Date();
    const currentCycle = currentCycleOnly ? this.getCurrentCycleNumber() : null;
    const thisWeekStart = new Date(now);
    thisWeekStart.setDate(now.getDate() - now.getDay());
    thisWeekStart.setHours(0, 0, 0, 0);
    const lastWeekStart = new Date(thisWeekStart);
    lastWeekStart.setDate(lastWeekStart.getDate() - 7);
    const thisWeek = this.calculateWeekStats(thisWeekStart, currentCycle);
    const lastWeek = this.calculateWeekStats(lastWeekStart, currentCycle);
    return { thisWeek, lastWeek };
  }
  calculateWeekStats(startDate, cycleFilter = null) {
    const endDate = new Date(startDate);
    endDate.setDate(endDate.getDate() + 7);
    let logs = (this.plugin.flashcardManager["reviewLogs"] || []).filter(
      (log) => log.timestamp >= startDate.getTime() && log.timestamp < endDate.getTime()
    );
    if (cycleFilter !== null) {
      logs = logs.filter((log) => (log.cycle || 1) === cycleFilter);
    }
    let totalCorrect = 0;
    let totalTimeSpent = 0;
    logs.forEach((log) => {
      totalTimeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        totalCorrect++;
      } else if (log.response.ease === "hard") {
        totalCorrect += 0.5;
      }
    });
    const averageCorrectRate = logs.length > 0 ? totalCorrect / logs.length : 0;
    const streak = this.calculateStreak();
    return {
      startDate: startDate.toISOString().split("T")[0],
      endDate: endDate.toISOString().split("T")[0],
      totalReviews: logs.length,
      averageCorrectRate,
      totalTimeSpent,
      streak
    };
  }
  /**
   * 计算连续学习天数
   */
  calculateStreak() {
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    if (logs.length === 0)
      return 0;
    const dates = /* @__PURE__ */ new Set();
    logs.forEach((log) => {
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      dates.add(date);
    });
    const sortedDates = Array.from(dates).sort().reverse();
    let streak = 0;
    const today = new Date().toISOString().split("T")[0];
    for (let i = 0; i < sortedDates.length; i++) {
      const expectedDate = new Date();
      expectedDate.setDate(expectedDate.getDate() - i);
      const expected = expectedDate.toISOString().split("T")[0];
      if (sortedDates[i] === expected) {
        streak++;
      } else {
        break;
      }
    }
    return streak;
  }
  /**
   * 获取卡组统计
   */
  getDeckStats() {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const deckMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      if (!deckMap.has(card.deck)) {
        deckMap.set(card.deck, []);
      }
      deckMap.get(card.deck).push(card);
    });
    const stats = [];
    const now = Date.now();
    deckMap.forEach((deckCards, deckName) => {
      const dueCards = deckCards.filter((c) => c.scheduling.due <= now).length;
      const newCards = deckCards.filter((c) => c.scheduling.state === "new").length;
      const totalCorrect = deckCards.reduce(
        (sum, c) => sum + c.stats.correctCount,
        0
      );
      const totalReviews = deckCards.reduce(
        (sum, c) => sum + c.stats.totalReviews,
        0
      );
      const correctRate = totalReviews > 0 ? totalCorrect / totalReviews : 0;
      const totalInterval = deckCards.reduce(
        (sum, c) => sum + c.scheduling.interval,
        0
      );
      const averageInterval = deckCards.length > 0 ? totalInterval / deckCards.length : 0;
      stats.push({
        deckName,
        totalCards: deckCards.length,
        dueCards,
        newCards,
        correctRate,
        averageInterval
      });
    });
    return stats.sort((a, b) => b.totalCards - a.totalCards);
  }
  /**
   * 获取难点卡片
   */
  getDifficultCards(limit = 10) {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const difficultCards = [];
    cards.forEach((card) => {
      const cardLogs = logs.filter((log) => log.flashcardId === card.id);
      const errorCount = cardLogs.filter(
        (log) => log.response.ease === "again"
      ).length;
      if (errorCount === 0 && card.stats.difficulty < 0.7)
        return;
      const errorLogs = cardLogs.filter((log) => log.response.ease === "again");
      const lastError = errorLogs.length > 0 ? errorLogs[errorLogs.length - 1].timestamp : 0;
      const pattern = this.detectErrorPattern(card, cardLogs);
      difficultCards.push({
        card,
        errorCount,
        lastError,
        averageTime: card.stats.averageTime,
        pattern
      });
    });
    return difficultCards.sort((a, b) => {
      if (a.errorCount !== b.errorCount) {
        return b.errorCount - a.errorCount;
      }
      if (a.card.stats.difficulty !== b.card.stats.difficulty) {
        return b.card.stats.difficulty - a.card.stats.difficulty;
      }
      return b.lastError - a.lastError;
    }).slice(0, limit);
  }
  detectErrorPattern(card, logs) {
    if (logs.length < 3)
      return "unknown";
    if (card.stats.averageTime > 60) {
      return "calculation";
    }
    if (card.scheduling.interval < 3 && card.scheduling.lapses > 2) {
      return "memory";
    }
    const recentLogs = logs.slice(-5);
    const recentFailures = recentLogs.filter(
      (log) => log.response.ease === "again"
    ).length;
    if (recentFailures >= 3) {
      return "concept";
    }
    return "unknown";
  }
  /**
   * 获取标签统计
   */
  getTagStats() {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const tagMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      card.tags.forEach((tag) => {
        if (!tagMap.has(tag)) {
          tagMap.set(tag, { total: 0, correct: 0, reviews: 0 });
        }
        const stat = tagMap.get(tag);
        stat.total++;
        stat.correct += card.stats.correctCount;
        stat.reviews += card.stats.totalReviews;
      });
    });
    const stats = Array.from(tagMap.entries()).map(([tag, data]) => ({
      tag,
      count: data.total,
      correctRate: data.reviews > 0 ? data.correct / data.reviews : 0
    }));
    return stats.sort((a, b) => b.count - a.count);
  }
  /**
   * 生成学习报告
   */
  generateReport(days = 7) {
    const dailyStats = this.getDailyStats(days);
    const { thisWeek, lastWeek } = this.getWeeklyStats();
    const difficultCards = this.getDifficultCards(5);
    const deckStats = this.getDeckStats();
    const totalReviewed = dailyStats.reduce((sum, s) => sum + s.reviewed, 0);
    const totalCorrect = dailyStats.reduce((sum, s) => sum + s.correctCount, 0);
    const averageCorrectRate = totalReviewed > 0 ? totalCorrect / totalReviewed : 0;
    const totalTime = dailyStats.reduce((sum, s) => sum + s.timeSpent, 0);
    const recentDays = dailyStats.slice(-7);
    const olderDays = dailyStats.slice(-14, -7);
    const recentRate = this.calculateAverageRate(recentDays);
    const olderRate = this.calculateAverageRate(olderDays);
    const trend = recentRate > olderRate ? "\u{1F4C8} improving" : recentRate < olderRate ? "\u{1F4C9} declining" : "\u27A1\uFE0F stable";
    let report = `# \u{1F4CA} Learning Report

`;
    report += `**Period:** Last ${days} days
`;
    report += `**Generated:** ${new Date().toLocaleString()}

`;
    report += `## \u{1F3AF} Overall Performance

`;
    report += `- **Cards Reviewed:** ${totalReviewed}
`;
    report += `- **Correct Rate:** ${(averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- **Study Time:** ${this.formatTime(totalTime)}
`;
    report += `- **Current Streak:** ${thisWeek.streak} days \u{1F525}
`;
    report += `- **Trend:** ${trend}

`;
    report += `## \u{1F4C8} Week Comparison

`;
    report += `### This Week
`;
    report += `- Reviews: ${thisWeek.totalReviews}
`;
    report += `- Correct Rate: ${(thisWeek.averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- Time: ${this.formatTime(thisWeek.totalTimeSpent)}

`;
    report += `### Last Week
`;
    report += `- Reviews: ${lastWeek.totalReviews}
`;
    report += `- Correct Rate: ${(lastWeek.averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- Time: ${this.formatTime(lastWeek.totalTimeSpent)}

`;
    const reviewChange = thisWeek.totalReviews - lastWeek.totalReviews;
    const rateChange = (thisWeek.averageCorrectRate - lastWeek.averageCorrectRate) * 100;
    if (reviewChange > 0) {
      report += `\u{1F4AA} You reviewed **${reviewChange} more cards** this week!
`;
    }
    if (rateChange > 5) {
      report += `\u{1F389} Your accuracy improved by **${rateChange.toFixed(1)}%**!
`;
    }
    report += `
`;
    if (difficultCards.length > 0) {
      report += `## \u26A0\uFE0F Cards Needing Attention

`;
      difficultCards.forEach((dc, i) => {
        const patternEmoji = {
          "concept": "\u{1F9E0}",
          "memory": "\u{1F4AD}",
          "calculation": "\u{1F522}",
          "unknown": "\u2753"
        };
        report += `${i + 1}. **${dc.card.front.substring(0, 50)}${dc.card.front.length > 50 ? "..." : ""}**
`;
        report += `   - Errors: ${dc.errorCount} | Pattern: ${patternEmoji[dc.pattern]} ${dc.pattern}
`;
        report += `   - Avg Time: ${dc.averageTime.toFixed(1)}s | Difficulty: ${(dc.card.stats.difficulty * 100).toFixed(0)}%

`;
      });
    }
    report += `## \u{1F4DA} Deck Overview

`;
    deckStats.forEach((deck) => {
      report += `### ${deck.deckName}
`;
      report += `- Total: ${deck.totalCards} | Due: ${deck.dueCards} | New: ${deck.newCards}
`;
      report += `- Correct Rate: ${(deck.correctRate * 100).toFixed(1)}%
`;
      report += `- Avg Interval: ${deck.averageInterval.toFixed(1)} days

`;
    });
    report += `## \u{1F4A1} Recommendations

`;
    if (averageCorrectRate < 0.7) {
      report += `- \u26A1 Your correct rate is below 70%. Consider reviewing difficult cards more frequently.
`;
    }
    if (difficultCards.length > 5) {
      report += `- \u{1F4D6} You have many difficult cards. Try breaking complex concepts into smaller flashcards.
`;
    }
    if (thisWeek.streak > 7) {
      report += `- \u{1F389} Amazing streak! Keep up the consistency!
`;
    }
    if (totalTime / totalReviewed > 30) {
      report += `- \u23F1\uFE0F Average review time is high. Consider simplifying card content.
`;
    }
    if (deckStats.some((d) => d.dueCards > d.totalCards * 0.5)) {
      report += `- \u{1F4C5} Some decks have many overdue cards. Focus on catching up with these.
`;
    }
    return report;
  }
  calculateAverageRate(stats) {
    const total = stats.reduce((sum, s) => sum + s.reviewed, 0);
    const correct = stats.reduce((sum, s) => sum + s.correctCount, 0);
    return total > 0 ? correct / total : 0;
  }
  formatTime(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor(seconds % 3600 / 60);
    if (hours > 0) {
      return `${hours}h ${minutes}m`;
    }
    return `${minutes}m`;
  }
  /**
   * 获取热力图数据（用于日历视图）
   */
  getHeatmapData(days = 90) {
    const dailyStats = this.getDailyStats(days);
    const maxReviews = Math.max(...dailyStats.map((s) => s.reviewed));
    return dailyStats.map((stat) => ({
      date: stat.date,
      count: stat.reviewed,
      intensity: maxReviews > 0 ? stat.reviewed / maxReviews : 0
    }));
  }
  /**
  * 清除所有统计数据
  */
  async clearAllStats() {
    this.plugin.flashcardManager["reviewLogs"] = [];
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        // 使用 ease 而不是 easeFactor
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    await this.plugin.dataManager.save();
  }
  /**
   * 清除指定天数之前的统计数据
   */
  async clearStatsBeforeDate(daysAgo) {
    const cutoffDate = new Date();
    cutoffDate.setDate(cutoffDate.getDate() - daysAgo);
    const cutoffTimestamp = cutoffDate.getTime();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    this.plugin.flashcardManager["reviewLogs"] = logs.filter(
      (log) => log.timestamp >= cutoffTimestamp
    );
    await this.plugin.dataManager.save();
  }
  /**
   * 清除特定卡组的统计数据
   */
  async clearDeckStats(deckName) {
    const cards = this.plugin.flashcardManager.getAllFlashcards().filter((card) => card.deck === deckName);
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        // 使用 ease
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    const cardIds = new Set(cards.map((c) => c.id));
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    this.plugin.flashcardManager["reviewLogs"] = logs.filter(
      (log) => !cardIds.has(log.flashcardId)
    );
    await this.plugin.dataManager.save();
  }
};

// src/ui/view/StatsView.ts
var VIEW_TYPE_STATS = "learning-system-stats";
var StatsView = class extends import_obsidian12.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.currentTab = "overview";
    this.plugin = plugin;
    this.language = this.plugin.settings.language || "en";
    this.analytics = new AnalyticsEngine(plugin);
  }
  getViewType() {
    return VIEW_TYPE_STATS;
  }
  getDisplayText() {
    return "Learning Statistics";
  }
  getIcon() {
    return "bar-chart";
  }
  async onOpen() {
    await this.plugin.unlockSystem.onStatsPageVisited();
    this.render();
    this.addStyles();
  }
  async onClose() {
  }
  render() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("stats-container");
    const header = container.createDiv({ cls: "stats-header" });
    header.createEl("h2", { text: "Learning Statistics" });
    const refreshBtn = header.createEl("button", {
      text: "\u27F3",
      cls: "refresh-btn"
    });
    refreshBtn.addEventListener("click", () => this.render());
    this.renderTabs(container);
    const content = container.createDiv({ cls: "stats-content" });
    switch (this.currentTab) {
      case "overview":
        this.renderOverview(content);
        break;
      case "trends":
        this.renderTrends(content);
        break;
      case "decks":
        this.renderDecks(content);
        break;
      case "difficult":
        this.renderDifficult(content);
        break;
      case "history":
        this.renderCycleHistory(content);
        break;
    }
  }
  renderTabs(container) {
    const tabs = container.createDiv({ cls: "stats-tabs" });
    const tabConfigs = [
      { id: "overview", label: "\u{1F4CA} Overview" },
      { id: "trends", label: "\u{1F4C8} Trends" },
      { id: "decks", label: "\u{1F4DA} Decks" },
      { id: "difficult", label: "\u26A0\uFE0F Difficult" },
      { id: "history", label: "\u{1F4DC} Cycle History" }
    ];
    tabConfigs.forEach((config) => {
      const tab = tabs.createDiv({
        cls: `tab ${this.currentTab === config.id ? "active" : ""}`
      });
      tab.textContent = config.label;
      tab.addEventListener("click", () => {
        this.currentTab = config.id;
        this.render();
      });
    });
  }
  renderOverview(container) {
    const stats = this.plugin.flashcardManager.getStats();
    const { thisWeek, lastWeek } = this.analytics.getWeeklyStats();
    const dailyStats = this.analytics.getDailyStats(7);
    this.renderCycleBanner(container);
    const metricsGrid = container.createDiv({ cls: "metrics-grid" });
    this.createMetricCard(metricsGrid, {
      title: "Total Cards",
      value: stats.total.toString(),
      icon: "\u{1F0CF}"
    });
    this.createMetricCard(metricsGrid, {
      title: "Due Today",
      value: stats.due.toString(),
      icon: "\u{1F4C5}"
    });
    this.createMetricCard(metricsGrid, {
      title: "Reviewed Today",
      value: stats.reviewedToday.toString(),
      icon: "\u2705"
    });
    const streak = this.analytics.calculateStreak();
    this.createMetricCard(metricsGrid, {
      title: "Current Streak",
      value: `${streak} days`,
      icon: "\u{1F525}"
    });
    const weekComparison = container.createDiv({ cls: "week-comparison" });
    weekComparison.createEl("h3", { text: "This Week vs Last Week" });
    const comparisonGrid = weekComparison.createDiv({ cls: "comparison-grid" });
    const reviewChange = thisWeek.totalReviews - lastWeek.totalReviews;
    const reviewChangePercent = lastWeek.totalReviews > 0 ? (reviewChange / lastWeek.totalReviews * 100).toFixed(1) : "0";
    this.createComparisonItem(comparisonGrid, {
      label: "Reviews",
      thisWeek: thisWeek.totalReviews,
      lastWeek: lastWeek.totalReviews,
      change: reviewChange,
      changePercent: reviewChangePercent
    });
    const rateChange = (thisWeek.averageCorrectRate - lastWeek.averageCorrectRate) * 100;
    this.createComparisonItem(comparisonGrid, {
      label: "Correct Rate",
      thisWeek: `${(thisWeek.averageCorrectRate * 100).toFixed(1)}%`,
      lastWeek: `${(lastWeek.averageCorrectRate * 100).toFixed(1)}%`,
      change: rateChange,
      changePercent: rateChange.toFixed(1)
    });
    const recentActivity = container.createDiv({ cls: "recent-activity" });
    recentActivity.createEl("h3", { text: "Last 7 Days Activity" });
    const activityChart = recentActivity.createDiv({ cls: "activity-chart" });
    this.renderSimpleBarChart(activityChart, dailyStats);
    const reportSection = container.createDiv({ cls: "report-section" });
    const reportBtn = reportSection.createEl("button", {
      text: "\u{1F4C4} Generate Full Report",
      cls: "mod-cta"
    });
    reportBtn.addEventListener("click", () => this.generateAndShowReport());
    const clearBtn = reportSection.createEl("button", {
      text: "\u{1F5D1}\uFE0F Clear Statistics",
      cls: "mod-warning"
    });
    clearBtn.style.marginLeft = "10px";
    clearBtn.addEventListener("click", () => this.showClearStatsModal());
  }
  renderTrends(container) {
    container.createEl("h3", { text: "Performance Trends" });
    const dailyStats = this.analytics.getDailyStats(30);
    const correctRateSection = container.createDiv({ cls: "chart-section" });
    correctRateSection.createEl("h4", { text: "Correct Rate (Last 30 Days)" });
    const correctRateChart = correctRateSection.createDiv({ cls: "line-chart" });
    this.renderLineChart(correctRateChart, dailyStats, "correctRate");
    const reviewsSection = container.createDiv({ cls: "chart-section" });
    reviewsSection.createEl("h4", { text: "Daily Reviews" });
    const reviewsChart = reviewsSection.createDiv({ cls: "bar-chart" });
    this.renderBarChart(reviewsChart, dailyStats);
    const heatmapSection = container.createDiv({ cls: "chart-section" });
    heatmapSection.createEl("h4", { text: "Study Activity Calendar" });
    const heatmap = heatmapSection.createDiv({ cls: "heatmap" });
    this.renderHeatmap(heatmap);
  }
  renderDecks(container) {
    container.createEl("h3", { text: "Deck Statistics" });
    const deckStats = this.analytics.getDeckStats();
    if (deckStats.length === 0) {
      container.createDiv({
        text: "No decks yet. Create some flashcards to see deck statistics!",
        cls: "empty-message"
      });
      return;
    }
    const decksGrid = container.createDiv({ cls: "decks-grid" });
    deckStats.forEach((deck) => {
      const deckCard = decksGrid.createDiv({ cls: "deck-card" });
      const header = deckCard.createDiv({ cls: "deck-card-header" });
      header.createEl("h4", { text: deck.deckName });
      header.createSpan({
        text: `${deck.totalCards} cards`,
        cls: "deck-badge"
      });
      const stats = deckCard.createDiv({ cls: "deck-card-stats" });
      this.createStatRow(stats, "Due", deck.dueCards.toString(), "\u{1F4C5}");
      this.createStatRow(stats, "New", deck.newCards.toString(), "\u{1F195}");
      this.createStatRow(
        stats,
        "Correct Rate",
        `${(deck.correctRate * 100).toFixed(1)}%`,
        "\u2705"
      );
      this.createStatRow(
        stats,
        "Avg Interval",
        `${deck.averageInterval.toFixed(1)} days`,
        "\u{1F4CA}"
      );
      const progress = deckCard.createDiv({ cls: "deck-progress" });
      const masteredCount = deck.totalCards - deck.dueCards - deck.newCards;
      const masteredPercent = masteredCount / deck.totalCards * 100;
      const progressBar = progress.createDiv({ cls: "progress-bar-container" });
      const bar = progressBar.createDiv({ cls: "progress-bar-fill" });
      bar.style.width = `${masteredPercent}%`;
      progress.createDiv({
        text: `${masteredPercent.toFixed(0)}% mastered`,
        cls: "progress-label"
      });
    });
  }
  renderDifficult(container) {
    container.createEl("h3", { text: "Cards Needing Attention" });
    const difficultCards = this.analytics.getDifficultCards(10);
    if (difficultCards.length === 0) {
      container.createDiv({
        text: "\u{1F389} No difficult cards! Great job!",
        cls: "empty-message"
      });
      return;
    }
    const cardsList = container.createDiv({ cls: "difficult-cards-list" });
    difficultCards.forEach((dc, index) => {
      const cardItem = cardsList.createDiv({ cls: "difficult-card-item" });
      const rank = cardItem.createDiv({ cls: "card-rank" });
      rank.textContent = `${index + 1}`;
      const content = cardItem.createDiv({ cls: "card-content" });
      const question = content.createDiv({ cls: "card-question" });
      question.textContent = dc.card.front.substring(0, 80) + (dc.card.front.length > 80 ? "..." : "");
      const meta = content.createDiv({ cls: "card-meta" });
      const patternEmoji = {
        "concept": "\u{1F9E0}",
        "memory": "\u{1F4AD}",
        "calculation": "\u{1F522}",
        "unknown": "\u2753"
      };
      meta.createSpan({
        text: `${patternEmoji[dc.pattern]} ${dc.pattern}`,
        cls: "pattern-badge"
      });
      meta.createSpan({
        text: `${dc.errorCount} errors`,
        cls: "error-count"
      });
      meta.createSpan({
        text: `${dc.averageTime.toFixed(1)}s avg`,
        cls: "avg-time"
      });
      const difficultyBar = content.createDiv({ cls: "difficulty-bar-container" });
      const diffBar = difficultyBar.createDiv({ cls: "difficulty-bar" });
      diffBar.style.width = `${dc.card.stats.difficulty * 100}%`;
      const actions = cardItem.createDiv({ cls: "card-actions" });
      const jumpBtn = actions.createEl("button", {
        text: "\u2197",
        cls: "action-btn-small"
      });
      jumpBtn.addEventListener("click", () => this.jumpToCard(dc.card));
      const reviewBtn = actions.createEl("button", {
        text: "\u{1F504}",
        cls: "action-btn-small"
      });
      reviewBtn.addEventListener("click", () => {
        this.plugin.activateReview();
      });
      const deleteBtn = actions.createEl("button", {
        text: "\u{1F5D1}\uFE0F",
        cls: "action-btn-small delete-btn"
      });
      deleteBtn.addEventListener("click", async () => {
        if (confirm(t("notice.flashcardDeleted", this.language))) {
          await this.deleteFlashcard(dc.card.id);
        }
      });
    });
  }
  createMetricCard(container, config) {
    const card = container.createDiv({ cls: "metric-card" });
    card.createDiv({ text: config.icon, cls: "metric-icon" });
    const content = card.createDiv({ cls: "metric-content" });
    content.createDiv({ text: config.title, cls: "metric-title" });
    content.createDiv({ text: config.value, cls: "metric-value" });
  }
  createComparisonItem(container, config) {
    const item = container.createDiv({ cls: "comparison-item" });
    item.createDiv({ text: config.label, cls: "comparison-label" });
    const values = item.createDiv({ cls: "comparison-values" });
    values.createSpan({
      text: `${config.thisWeek}`,
      cls: "this-week"
    });
    values.createSpan({ text: " vs ", cls: "vs" });
    values.createSpan({
      text: `${config.lastWeek}`,
      cls: "last-week"
    });
    const changeClass = config.change > 0 ? "positive" : config.change < 0 ? "negative" : "neutral";
    const changeIcon = config.change > 0 ? "\u2197" : config.change < 0 ? "\u2198" : "\u2192";
    item.createDiv({
      text: `${changeIcon} ${config.changePercent}%`,
      cls: `change ${changeClass}`
    });
  }
  createStatRow(container, label, value, icon) {
    const row = container.createDiv({ cls: "stat-row" });
    row.createSpan({ text: icon, cls: "stat-icon" });
    row.createSpan({ text: label, cls: "stat-label" });
    row.createSpan({ text: value, cls: "stat-value" });
  }
  renderSimpleBarChart(container, data) {
    const maxValue = Math.max(...data.map((d) => d.reviewed));
    data.forEach((stat) => {
      const bar = container.createDiv({ cls: "simple-bar" });
      const date = new Date(stat.date);
      const dayName = date.toLocaleDateString("en-US", { weekday: "short" });
      bar.createDiv({ text: dayName, cls: "bar-label" });
      const barContainer = bar.createDiv({ cls: "bar-container" });
      const barFill = barContainer.createDiv({ cls: "bar-fill" });
      const height = maxValue > 0 ? stat.reviewed / maxValue * 100 : 0;
      barFill.style.height = `${height}%`;
      bar.createDiv({ text: stat.reviewed.toString(), cls: "bar-value" });
    });
  }
  renderBarChart(container, data) {
    const chart = container.createDiv({ cls: "chart-canvas" });
    const maxValue = Math.max(...data.map((d) => d.reviewed));
    data.forEach((stat) => {
      const barGroup = chart.createDiv({ cls: "bar-group" });
      const barContainer = barGroup.createDiv({ cls: "bar" });
      const height = maxValue > 0 ? stat.reviewed / maxValue * 100 : 0;
      barContainer.style.height = `${height}%`;
      barContainer.title = `${stat.reviewed} reviews`;
      const barLabel = barGroup.createDiv({ cls: "bar-label" });
      const date = new Date(stat.date);
      barLabel.textContent = date.getDate().toString();
    });
  }
  renderLineChart(container, data, key) {
    const chart = container.createDiv({ cls: "line-chart-canvas" });
    const points = data.map((stat, i) => {
      const x = i / (data.length - 1) * 100;
      const y = 100 - stat[key] * 100;
      return { x, y, value: stat[key] };
    });
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", "0 0 100 100");
    svg.setAttribute("preserveAspectRatio", "none");
    svg.style.width = "100%";
    svg.style.height = "200px";
    const pathData = points.map(
      (p, i) => `${i === 0 ? "M" : "L"} ${p.x} ${p.y}`
    ).join(" ");
    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
    path.setAttribute("d", pathData);
    path.setAttribute("fill", "none");
    path.setAttribute("stroke", "var(--interactive-accent)");
    path.setAttribute("stroke-width", "2");
    svg.appendChild(path);
    chart.appendChild(svg);
    const labelsContainer = container.createDiv({ cls: "chart-labels" });
    data.forEach((stat, i) => {
      if (i % Math.ceil(data.length / 7) === 0) {
        const chartLabel = labelsContainer.createDiv({ cls: "chart-label" });
        const date = new Date(stat.date);
        chartLabel.textContent = `${date.getMonth() + 1}/${date.getDate()}`;
      }
    });
  }
  renderHeatmap(container) {
    const heatmapData = this.analytics.getHeatmapData(90);
    const weeks = [];
    let currentWeek = [];
    heatmapData.forEach((day, i) => {
      currentWeek.push(day);
      if (currentWeek.length === 7 || i === heatmapData.length - 1) {
        weeks.push(currentWeek);
        currentWeek = [];
      }
    });
    weeks.forEach((week) => {
      const weekRow = container.createDiv({ cls: "heatmap-week" });
      week.forEach((day) => {
        const cell = weekRow.createDiv({ cls: "heatmap-cell" });
        const level = Math.ceil(day.intensity * 4);
        cell.addClass(`level-${level}`);
        cell.title = `${day.date}: ${day.count} reviews`;
      });
    });
  }
  async jumpToCard(card) {
    const file = this.app.vault.getAbstractFileByPath(card.sourceFile);
    if (!(file instanceof import_obsidian12.TFile))
      return;
    const contentUnit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
    if (!contentUnit)
      return;
    const leaf = this.app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian12.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          editor.setCursor({ line: contentUnit.source.position.line, ch: 0 });
          editor.scrollIntoView({
            from: { line: contentUnit.source.position.line, ch: 0 },
            to: { line: contentUnit.source.position.line, ch: 0 }
          }, true);
        }
      }
    }, 100);
  }
  async deleteFlashcard(cardId) {
    try {
      await this.plugin.flashcardManager.deleteCard(cardId);
      new import_obsidian12.Notice(t("notice.flashcardDeleted", this.language));
      this.render();
    } catch (error) {
      console.error("Error deleting flashcard:", error);
      new import_obsidian12.Notice(t("notice.deleteFlashcardFailed", this.language));
    }
  }
  showClearStatsModal() {
    var _a, _b, _c, _d, _e;
    const modal = document.createElement("div");
    modal.className = "modal-container";
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">Clear Statistics</div>
        <div class="modal-content">
          <p>Choose what statistics to clear:</p>
          <div class="clear-options">
            <button class="clear-option-btn" data-action="all">
              \u{1F5D1}\uFE0F Clear All Statistics
              <span class="option-desc">Reset all cards and review logs</span>
            </button>
            <button class="clear-option-btn" data-action="old">
              \u{1F4C5} Clear Old Data (30+ days)
              <span class="option-desc">Keep recent 30 days only</span>
            </button>
            <button class="clear-option-btn" data-action="deck">
              \u{1F4DA} Clear Specific Deck
              <span class="option-desc">Choose a deck to reset</span>
            </button>
          </div>
        </div>
        <div class="modal-button-container">
          <button class="mod-cta cancel-btn">Cancel</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => {
      modal.remove();
    });
    (_b = modal.querySelector('[data-action="all"]')) == null ? void 0 : _b.addEventListener("click", async () => {
      if (confirm("\u26A0\uFE0F This will reset ALL statistics and card progress. Are you sure?")) {
        await this.analytics.clearAllStats();
        new import_obsidian12.Notice("\u2705 All statistics cleared");
        modal.remove();
        this.render();
      }
    });
    (_c = modal.querySelector('[data-action="old"]')) == null ? void 0 : _c.addEventListener("click", async () => {
      if (confirm("Clear statistics older than 30 days?")) {
        await this.analytics.clearStatsBeforeDate(30);
        new import_obsidian12.Notice("\u2705 Old statistics cleared");
        modal.remove();
        this.render();
      }
    });
    (_d = modal.querySelector('[data-action="deck"]')) == null ? void 0 : _d.addEventListener("click", () => {
      modal.remove();
      this.showDeckSelectionModal();
    });
    (_e = modal.querySelector(".modal-bg")) == null ? void 0 : _e.addEventListener("click", () => {
      modal.remove();
    });
  }
  showDeckSelectionModal() {
    var _a, _b;
    const deckStats = this.analytics.getDeckStats();
    if (deckStats.length === 0) {
      new import_obsidian12.Notice("No decks available");
      return;
    }
    const modal = document.createElement("div");
    modal.className = "modal-container";
    let optionsHtml = "";
    deckStats.forEach((deck) => {
      optionsHtml += `
        <button class="clear-option-btn deck-option" data-deck="${deck.deckName}">
          \u{1F4DA} ${deck.deckName}
          <span class="option-desc">${deck.totalCards} cards</span>
        </button>
      `;
    });
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">Select Deck to Clear</div>
        <div class="modal-content">
          <div class="clear-options">
            ${optionsHtml}
          </div>
        </div>
        <div class="modal-button-container">
          <button class="mod-cta cancel-btn">Cancel</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => {
      modal.remove();
    });
    modal.querySelectorAll(".deck-option").forEach((btn) => {
      btn.addEventListener("click", async () => {
        const deckName = btn.dataset.deck;
        if (deckName && confirm(`Clear statistics for deck "${deckName}"?`)) {
          await this.analytics.clearDeckStats(deckName);
          new import_obsidian12.Notice(`\u2705 Statistics cleared for ${deckName}`);
          modal.remove();
          this.render();
        }
      });
    });
    (_b = modal.querySelector(".modal-bg")) == null ? void 0 : _b.addEventListener("click", () => {
      modal.remove();
    });
  }
  async generateAndShowReport() {
    const report = this.analytics.generateReport(30);
    const fileName = `Learning Report ${new Date().toISOString().split("T")[0]}.md`;
    try {
      let file = this.app.vault.getAbstractFileByPath(fileName);
      if (file instanceof import_obsidian12.TFile) {
        if (!confirm(`Report "${fileName}" already exists. Overwrite?`)) {
          return;
        }
        await this.app.vault.modify(file, report);
      } else {
        file = await this.app.vault.create(fileName, report);
      }
      const leaf = this.app.workspace.getLeaf(false);
      await leaf.openFile(file);
      new import_obsidian12.Notice("\u{1F4CA} Report generated!");
    } catch (error) {
      console.error("Error generating report:", error);
      new import_obsidian12.Notice("\u274C Failed to generate report");
    }
  }
  renderCycleBanner(container) {
    const cycleInfo = this.analytics.getCurrentCycleInfo();
    const banner = container.createDiv({ cls: "cycle-info-banner" });
    const badge = banner.createDiv({ cls: "cycle-badge" });
    badge.textContent = `Cycle ${cycleInfo.currentCycle}`;
    const stats = banner.createDiv({ cls: "cycle-stats" });
    const daysSince = Math.floor(
      (Date.now() - new Date(cycleInfo.startDate).getTime()) / (1e3 * 60 * 60 * 24)
    );
    stats.textContent = `Day ${daysSince} \xB7 ${cycleInfo.reviewsThisCycle} reviews`;
    const btn = banner.createEl("button", {
      text: "Start New Cycle",
      cls: "start-new-cycle-btn"
    });
    btn.addEventListener("click", () => this.confirmStartNewCycle());
  }
  confirmStartNewCycle() {
    var _a, _b, _c;
    const modal = document.createElement("div");
    modal.className = "modal-container";
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">\u{1F504} Start New Learning Cycle</div>
        <div class="modal-content">
          <p>This will:</p>
          <ul>
            <li>\u2705 Archive current cycle data (read-only)</li>
            <li>\u2705 Reset current stats to zero</li>
            <li>\u2705 Keep all flashcard progress</li>
            <li>\u26A0\uFE0F Cannot be undone</li>
          </ul>
          <p>Start fresh with Cycle ${this.analytics.getCurrentCycleNumber() + 1}?</p>
        </div>
        <div class="modal-button-container">
          <button class="mod-warning cancel-btn">Cancel</button>
          <button class="mod-cta confirm-btn">Start New Cycle</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => modal.remove());
    (_b = modal.querySelector(".confirm-btn")) == null ? void 0 : _b.addEventListener("click", async () => {
      await this.analytics.startNewCycle();
      new import_obsidian12.Notice("\u2728 New learning cycle started!");
      modal.remove();
      this.render();
    });
    (_c = modal.querySelector(".modal-bg")) == null ? void 0 : _c.addEventListener("click", () => modal.remove());
  }
  renderCycleHistory(container) {
    container.createEl("h3", { text: "\u{1F4DC} Learning Cycle History" });
    const cycles = this.analytics.getArchivedCycles();
    if (cycles.length === 0) {
      container.createDiv({
        text: "\u{1F4DD} No archived cycles yet. Complete your first cycle to see history!",
        cls: "empty-message"
      });
      return;
    }
    const cyclesList = container.createDiv({ cls: "cycles-list" });
    cycles.forEach((cycle) => {
      const cycleCard = cyclesList.createDiv({ cls: "cycle-card" });
      const header = cycleCard.createDiv({ cls: "cycle-card-header" });
      header.createEl("h4", { text: `Cycle ${cycle.cycleNumber}` });
      const duration = this.formatDateRange(cycle.startDate, cycle.endDate);
      const badge = header.createSpan({ cls: "cycle-duration" });
      badge.textContent = duration;
      const stats = cycleCard.createDiv({ cls: "cycle-card-stats" });
      this.createStatRow(stats, "Reviews", cycle.totalReviews.toString(), "\u{1F4DD}");
      this.createStatRow(stats, "Cards", cycle.totalCards.toString(), "\u{1F0CF}");
      this.createStatRow(
        stats,
        "Correct Rate",
        `${(cycle.correctRate * 100).toFixed(1)}%`,
        "\u2705"
      );
      const actions = cycleCard.createDiv({ cls: "cycle-card-actions" });
      const detailBtn = actions.createEl("button", {
        text: "\u{1F4CA} View Details",
        cls: "mod-cta"
      });
      detailBtn.addEventListener("click", () => this.showCycleDetails(cycle.cycleNumber));
    });
  }
  formatDateRange(start, end) {
    const startDate = new Date(start);
    const endDate = new Date(end);
    const days = Math.floor((endDate.getTime() - startDate.getTime()) / (1e3 * 60 * 60 * 24));
    const formatOpts = { month: "short", day: "numeric" };
    return `${startDate.toLocaleDateString("en-US", formatOpts)} - ${endDate.toLocaleDateString("en-US", formatOpts)} (${days}d)`;
  }
  showCycleDetails(cycleNumber) {
    var _a, _b;
    const details = this.analytics.getCycleDetails(cycleNumber);
    if (!details) {
      new import_obsidian12.Notice("Cycle data not found");
      return;
    }
    const { cycle, dailyStats, deckStats } = details;
    const modal = document.createElement("div");
    modal.className = "modal-container cycle-details-modal";
    const avgCorrectRate = dailyStats.length > 0 ? dailyStats.reduce((sum, d) => sum + d.correctRate, 0) / dailyStats.length : 0;
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal modal-large">
        <div class="modal-title">\u{1F4CA} Cycle ${cycleNumber} Details</div>
        <div class="modal-content">
          
          <div class="cycle-detail-section">
            <h4>\u{1F4C5} Duration</h4>
            <p>${this.formatDateRange(cycle.startDate, cycle.endDate)}</p>
          </div>
  
          <div class="cycle-detail-section">
            <h4>\u{1F4C8} Key Metrics</h4>
            <div class="metrics-grid-small">
              <div class="metric-small">
                <span class="metric-label">Total Reviews</span>
                <span class="metric-value">${cycle.totalReviews}</span>
              </div>
              <div class="metric-small">
                <span class="metric-label">Avg Correct Rate</span>
                <span class="metric-value">${(avgCorrectRate * 100).toFixed(1)}%</span>
              </div>
              <div class="metric-small">
                <span class="metric-label">Total Cards</span>
                <span class="metric-value">${cycle.totalCards}</span>
              </div>
            </div>
          </div>
          
          <div class="cycle-detail-section">
            <h4>\u{1F4CA} Daily Activity</h4>
            <div id="cycle-daily-chart"></div>
          </div>
          
          <div class="cycle-detail-section">
            <h4>\u{1F4DA} Deck Breakdown</h4>
            <div id="cycle-deck-stats"></div>
          </div>
  
        </div>
        <div class="modal-button-container">
          <button class="mod-cta close-btn">Close</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    const dailyChart = modal.querySelector("#cycle-daily-chart");
    if (dailyChart) {
      this.renderSimpleBarChart(dailyChart, dailyStats.slice(-14));
    }
    const deckStatsEl = modal.querySelector("#cycle-deck-stats");
    if (deckStatsEl) {
      if (deckStats.length === 0) {
        deckStatsEl.textContent = "No deck data available";
      } else {
        deckStats.forEach((deck) => {
          const row = deckStatsEl.createDiv({ cls: "deck-stat-row" });
          row.createSpan({ text: deck.deckName, cls: "deck-name" });
          const info = row.createDiv({ cls: "deck-info" });
          info.createSpan({ text: `${deck.totalCards} cards`, cls: "deck-detail" });
          info.createSpan({
            text: `${(deck.correctRate * 100).toFixed(1)}% correct`,
            cls: "deck-detail"
          });
        });
      }
    }
    (_a = modal.querySelector(".close-btn")) == null ? void 0 : _a.addEventListener("click", () => modal.remove());
    (_b = modal.querySelector(".modal-bg")) == null ? void 0 : _b.addEventListener("click", () => modal.remove());
  }
  addStyles() {
    const styleEl = document.createElement("style");
    styleEl.textContent = `
      .stats-container {
        padding: 20px;
        overflow-y: auto;
      }

      .stats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .stats-header h2 {
        margin: 0;
      }

      .stats-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 20px;
        border-bottom: 2px solid var(--background-modifier-border);
      }

      .tab {
        padding: 10px 20px;
        cursor: pointer;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
        user-select: none;
      }

      .tab:hover {
        background: var(--background-modifier-hover);
      }

      .tab.active {
        border-bottom-color: var(--interactive-accent);
        color: var(--interactive-accent);
        font-weight: 600;
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
      }

      .metric-card {
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
        display: flex;
        gap: 15px;
        align-items: center;
      }

      .metric-icon {
        font-size: 32px;
      }

      .metric-content {
        flex: 1;
      }

      .metric-title {
        font-size: 0.9em;
        color: var(--text-muted);
        margin-bottom: 5px;
      }

      .metric-value {
        font-size: 1.8em;
        font-weight: 600;
      }

      .week-comparison {
        margin-bottom: 30px;
      }

      .comparison-grid {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 15px;
      }

      .comparison-item {
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 6px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .comparison-label {
        font-weight: 500;
      }

      .comparison-values {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .this-week {
        font-weight: 600;
        font-size: 1.1em;
      }

      .last-week {
        color: var(--text-muted);
      }

      .change {
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.9em;
        font-weight: 500;
      }

      .change.positive {
        background: var(--background-modifier-success);
        color: var(--text-on-accent);
      }

      .change.negative {
        background: var(--background-modifier-error);
        color: white;
      }

      .chart-section {
        margin-bottom: 30px;
      }

      .recent-activity .activity-chart {
        display: flex;
        justify-content: space-around;
        align-items: flex-end;
        height: 150px;
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
      }

      .simple-bar {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        flex: 1;
      }

      .simple-bar .bar-container {
        width: 100%;
        height: 100px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
      }

      .simple-bar .bar-fill {
        width: 60%;
        background: var(--interactive-accent);
        border-radius: 4px 4px 0 0;
        transition: height 0.3s;
      }

      .bar-label, .bar-value {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .heatmap {
        display: flex;
        flex-direction: column;
        gap: 4px;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 8px;
      }

      .heatmap-week {
        display: flex;
        gap: 4px;
      }

      .heatmap-cell {
        width: 12px;
        height: 12px;
        background: var(--background-primary);
        border-radius: 2px;
        cursor: pointer;
      }

      .heatmap-cell.level-1 { background: rgba(94, 156, 235, 0.3); }
      .heatmap-cell.level-2 { background: rgba(94, 156, 235, 0.5); }
      .heatmap-cell.level-3 { background: rgba(94, 156, 235, 0.7); }
      .heatmap-cell.level-4 { background: rgba(94, 156, 235, 1); }

      .decks-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 15px;
      }

      .deck-card {
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
        border: 1px solid var(--background-modifier-border);
      }

      .deck-card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--background-modifier-border);
      }

      .deck-card-header h4 {
        margin: 0;
      }

      .deck-badge {
        padding: 4px 10px;
        background: var(--interactive-accent);
        color: white;
        border-radius: 12px;
        font-size: 0.85em;
      }

      .deck-card-stats {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 15px;
      }

      .stat-row {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .stat-icon {
        width: 20px;
      }

      .stat-label {
        flex: 1;
        color: var(--text-muted);
      }

      .stat-value {
        font-weight: 500;
      }

      .deck-progress {
        margin-top: 15px;
      }

      .progress-bar-container {
        height: 8px;
        background: var(--background-primary);
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 5px;
      }


      .progress-label {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .difficult-cards-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .difficult-card-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 8px;
        border: 1px solid var(--background-modifier-border);
      }

      .card-rank {
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--interactive-accent);
        color: white;
        border-radius: 50%;
        font-weight: 600;
        flex-shrink: 0;
      }

      .card-content {
        flex: 1;
      }

      .card-question {
        font-weight: 500;
        margin-bottom: 8px;
      }

      .card-meta {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom:8px;
      } 

.pattern-badge, .error-count, .avg-time {
    padding: 3px 10px;
    background: var(--background-primary);
    border-radius: 12px;
    font-size: 0.85em;
  }

  .difficulty-bar-container {
    height: 6px;
    background: var(--background-primary);
    border-radius: 3px;
    overflow: hidden;
  }

  .difficulty-bar {
    height: 100%;
    background: linear-gradient(to right, var(--color-green), var(--color-yellow), var(--color-red));
    transition: width 0.3s;
  }

  .card-actions {
    display: flex;
    gap: 8px;
  }

  .action-btn-small {
    padding: 6px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn-small:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }

  .action-btn-small.delete-btn:hover {
    background: var(--color-red);
    border-color: var(--color-red);
    color: white;
  }

  .empty-message {
    text-align: center;
    padding: 40px;
    color: var(--text-muted);
    font-size: 1.1em;
  }

  .report-section {
    text-align: center;
    margin-top: 30px;
    padding: 20px;
  }

  .chart-canvas {
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    height: 200px;
    padding: 20px;
    background: var(--background-secondary);
    border-radius: 8px;
    margin-bottom: 10px;
  }

  .bar-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    height: 100%;
  }

  .bar-group .bar {
    width: 80%;
    background: var(--interactive-accent);
    border-radius: 4px 4px 0 0;
    transition: height 0.3s;
    margin-top: auto;
  }

  .line-chart-canvas {
    background: var(--background-secondary);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 10px;
  }

  .chart-labels {
    display: flex;
    justify-content: space-around;
    padding: 10px 20px;
    background: var(--background-secondary);
    border-radius: 8px;
  }

  .chart-label {
    font-size: 0.85em;
    color: var(--text-muted);
  }
    .modal-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-bg {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
}

.modal {
  position: relative;
  background: var(--background-primary);
  border-radius: 8px;
  padding: 20px;
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.modal-title {
  font-size: 1.5em;
  font-weight: 600;
  margin-bottom: 15px;
}

.modal-content {
  margin-bottom: 20px;
}

.clear-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 15px;
}

.clear-option-btn {
  padding: 15px;
  background: var(--background-secondary);
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  cursor: pointer;
  text-align: left;
  transition: all 0.2s;
  display: flex;
  gap: 5px;
}

.clear-option-btn:hover {
  border-color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

.option-desc {
  font-size: 0.85em;
  color: var(--text-muted);
}

.modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}


/* \u91CD\u7F6E\u590D\u4E60\u5468\u671F */           
.cycle-info-banner {
  display: flex;
  flex-direction: row;  /* \u{1F448} \u660E\u786E\u6307\u5B9A\u6A2A\u5411\u6392\u5217 */
  align-items: center;
  justify-content: space-between; /* \u{1F448} \u4E24\u7AEF\u5BF9\u9F50 */
  gap: 15px;
  padding: 15px 20px;
  border-radius: 8px;
  margin-bottom: 20px;
  color: white;
  flex-wrap: nowrap; /* \u{1F448} \u7981\u6B62\u6362\u884C */
}

.cycle-badge {
  font-size: 1.2em;
  font-weight: 600;
  padding: 5px 15px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 20px;
}

.cycle-stats {
  flex: 1;
  font-size: 0.95em;
  opacity: 0.9;
}

.start-new-cycle-btn {
  padding: 8px 16px;
  background: white;
  color: var(--interactive-accent);
  border: none;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.start-new-cycle-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}
  /* \u5468\u671F\u5386\u53F2\u5361\u7247 */
.cycles-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.cycle-card {
  padding: 20px;
  background: var(--background-secondary);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
}

.cycle-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.cycle-card-header h4 {
  margin: 0;
  font-size: 1.2em;
}

.cycle-duration {
  font-size: 0.85em;
  color: var(--text-muted);
  padding: 4px 10px;
  background: var(--background-primary);
  border-radius: 12px;
}

.cycle-card-actions {
  margin-top: 15px;
  text-align: right;
}

/* \u5468\u671F\u8BE6\u60C5\u5F39\u7A97 */
.cycle-details-modal .modal-large {
  max-width: 800px;
}

.cycle-detail-section {
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.cycle-detail-section:last-child {
  border-bottom: none;
}

.cycle-detail-section h4 {
  margin: 0 0 15px 0;
  font-size: 1.1em;
}

.metrics-grid-small {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.metric-small {
  display: flex;
  flex-direction: column;
  gap: 5px;
  padding: 15px;
  background: var(--background-primary);
  border-radius: 6px;
}

.metric-small .metric-label {
  font-size: 0.85em;
  color: var(--text-muted);
}

.metric-small .metric-value {
  font-size: 1.5em;
  font-weight: 600;
}

.deck-stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--background-modifier-border);
}

.deck-stat-row:last-child {
  border-bottom: none;
}

.deck-name {
  font-weight: 500;
}

.deck-info {
  display: flex;
  gap: 15px;
}

.deck-detail {
  font-size: 0.9em;
  color: var(--text-muted);
}
`;
    document.head.appendChild(styleEl);
  }
};

// src/core/DataManager.ts
var DataManager = class {
  // 5分钟
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.contentUnits = /* @__PURE__ */ new Map();
    this.fileIndex = /* @__PURE__ */ new Map();
    this.CACHE_TTL = 5 * 60 * 1e3;
    // 最近删除
    this.deletedUnits = [];
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.ensureDataFolder();
    await this.loadData();
    await this.loadDeleteHistory();
  }
  async ensureDataFolder() {
    const adapter = this.app.vault.adapter;
    if (!await adapter.exists(this.dataFolder)) {
      await adapter.mkdir(this.dataFolder);
    }
    const subfolders = ["indexes", "config", "cache"];
    for (const folder of subfolders) {
      const path = `${this.dataFolder}/${folder}`;
      if (!await adapter.exists(path)) {
        await adapter.mkdir(path);
      }
    }
  }
  async loadData() {
    try {
      const contentPath = `${this.dataFolder}/content-units.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(contentPath)) {
        const data = await adapter.read(contentPath);
        const units = JSON.parse(data);
        for (const unit of units) {
          this.contentUnits.set(unit.id, unit);
          if (!this.fileIndex.has(unit.source.file)) {
            this.fileIndex.set(unit.source.file, []);
          }
          this.fileIndex.get(unit.source.file).push(unit.id);
        }
      }
    } catch (error) {
      console.error("Error loading data:", error);
    }
  }
  async saveContentUnit(unit) {
    this.contentUnits.set(unit.id, unit);
    if (!this.fileIndex.has(unit.source.file)) {
      this.fileIndex.set(unit.source.file, []);
    }
    if (!this.fileIndex.get(unit.source.file).includes(unit.id)) {
      this.fileIndex.get(unit.source.file).push(unit.id);
    }
    await this.persist();
  }
  async saveContentUnits(units) {
    for (const unit of units) {
      this.contentUnits.set(unit.id, unit);
      if (!this.fileIndex.has(unit.source.file)) {
        this.fileIndex.set(unit.source.file, []);
      }
      if (!this.fileIndex.get(unit.source.file).includes(unit.id)) {
        this.fileIndex.get(unit.source.file).push(unit.id);
      }
    }
    await this.persist();
  }
  getContentUnit(id) {
    return this.contentUnits.get(id);
  }
  getContentUnitsByFile(filePath) {
    const ids = this.fileIndex.get(filePath) || [];
    return ids.map((id) => this.contentUnits.get(id)).filter(Boolean);
  }
  getContentUnitsByType(type) {
    return Array.from(this.contentUnits.values()).filter((unit) => unit.type === type);
  }
  getAllContentUnits(page, size) {
    const all = Array.from(this.contentUnits.values());
    if (!page || !size)
      return all;
    return all.slice(page * size, (page + 1) * size);
  }
  async deleteContentUnit(id, reason = "user-deleted") {
    const unit = this.contentUnits.get(id);
    if (unit) {
      const allCards = this.plugin.flashcardManager.getAllFlashcards();
      const associatedCardIds = allCards.filter((card) => {
        const match = card.sourceContentId === id;
        if (match) {
          console.log(`Found associated flashcard: ${card.id} for unit ${id}`);
        }
        return match;
      }).map((card) => card.id);
      console.log(`Deleting unit ${id} with ${associatedCardIds.length} associated flashcards`);
      for (const cardId of associatedCardIds) {
        try {
          await this.plugin.flashcardManager.deleteCard(cardId, reason);
          console.log(`Successfully deleted flashcard ${cardId}`);
        } catch (error) {
          console.error(`Failed to delete flashcard ${cardId}:`, error);
        }
      }
      if (unit.annotationId) {
        try {
          await this.plugin.annotationManager.deleteAnnotation(unit.annotationId);
          console.log(`Deleted annotation ${unit.annotationId}`);
        } catch (error) {
          console.error(`Failed to delete annotation ${unit.annotationId}:`, error);
        }
      }
      this.deletedUnits.push({
        type: "note",
        id: unit.id,
        unit: { ...unit },
        deletedAt: Date.now(),
        deletedBy: reason,
        associatedCardIds
      });
      const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
      this.deletedUnits = this.deletedUnits.filter((d) => d.deletedAt > sevenDaysAgo);
      this.contentUnits.delete(id);
      const fileUnits = this.fileIndex.get(unit.source.file);
      if (fileUnits) {
        const index = fileUnits.indexOf(id);
        if (index > -1) {
          fileUnits.splice(index, 1);
        }
      }
      await this.persist();
      await this.persistDeleteHistory();
      console.log(`Unit ${id} and all dependencies deleted successfully`);
    }
  }
  // 新增：获取最近删除的笔记
  getRecentlyDeletedUnits(days = 7) {
    const cutoff = Date.now() - days * 24 * 60 * 60 * 1e3;
    return this.deletedUnits.filter((d) => d.deletedAt > cutoff).sort((a, b) => b.deletedAt - a.deletedAt);
  }
  // 新增：恢复笔记
  async restoreContentUnit(deletedItem) {
    try {
      if (this.contentUnits.has(deletedItem.unit.id)) {
        return false;
      }
      this.contentUnits.set(deletedItem.unit.id, deletedItem.unit);
      if (!this.fileIndex.has(deletedItem.unit.source.file)) {
        this.fileIndex.set(deletedItem.unit.source.file, []);
      }
      this.fileIndex.get(deletedItem.unit.source.file).push(deletedItem.unit.id);
      await this.persist();
      this.deletedUnits = this.deletedUnits.filter((item) => item.id !== deletedItem.id);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error restoring content unit:", error);
      return false;
    }
  }
  // 新增：永久删除笔记（从历史中移除）
  async permanentlyDeleteContentUnit(deletedItemId) {
    try {
      this.deletedUnits = this.deletedUnits.filter((item) => item.id !== deletedItemId);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error permanently deleting content unit:", error);
      return false;
    }
  }
  // 新增：一键清空笔记删除历史
  async clearDeleteHistory() {
    const count = this.deletedUnits.length;
    this.deletedUnits = [];
    await this.persistDeleteHistory();
    return count;
  }
  async persistDeleteHistory() {
    try {
      const path = `${this.dataFolder}/deleted-units.json`;
      const data = JSON.stringify(this.deletedUnits, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting delete history:", error);
    }
  }
  async loadDeleteHistory() {
    try {
      const path = `${this.dataFolder}/deleted-units.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        this.deletedUnits = JSON.parse(data);
        const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
        this.deletedUnits = this.deletedUnits.filter((d) => d.deletedAt > sevenDaysAgo);
        await this.persistDeleteHistory();
      }
    } catch (error) {
      console.error("Error loading delete history:", error);
    }
  }
  /** 对外统一保存入口 */
  async save() {
    await this.persist();
  }
  async persist() {
    try {
      const contentPath = `${this.dataFolder}/content-units.json`;
      const units = Array.from(this.contentUnits.values());
      const data = JSON.stringify(units, null, 2);
      await this.app.vault.adapter.write(contentPath, data);
      const indexPath = `${this.dataFolder}/indexes/file-index.json`;
      const indexData = JSON.stringify(
        Object.fromEntries(this.fileIndex),
        null,
        2
      );
      await this.app.vault.adapter.write(indexPath, indexData);
    } catch (error) {
      console.error("Error persisting data:", error);
    }
  }
  // 🔧 优化 : 批量操作使用事务
  async transaction(operations) {
    try {
      await operations();
      await this.persist();
    } catch (error) {
      await this.loadData();
      throw error;
    }
  }
};

// src/core/ExtractionEngine.ts
var import_obsidian13 = require("obsidian");
var ExtractionEngine = class {
  constructor(app, dataManager, flashcardManager, plugin) {
    this.app = app;
    this.dataManager = dataManager;
    this.flashcardManager = flashcardManager;
    this.plugin = plugin;
  }
  /**
   * 注册右键菜单
   */
  registerContextMenu(menu, editor, file) {
    const selection = editor.getSelection();
    if (!selection)
      return;
    menu.addItem((item) => {
      item.setTitle("\u{1F4DD} Extract as text only").setIcon("file-text").onClick(async () => {
        await this.extractSelectedText(editor, file, "text");
      });
    });
    menu.addItem((item) => {
      item.setTitle("\u2753 Extract as QA card").setIcon("help-circle").onClick(async () => {
        await this.extractSelectedText(editor, file, "QA");
      });
    });
    menu.addItem((item) => {
      item.setTitle("\u270F\uFE0F Extract as Cloze card").setIcon("highlighter").onClick(async () => {
        await this.extractSelectedText(editor, file, "cloze");
      });
    });
  }
  /**
   * 提取选中的文本
   */
  async extractSelectedText(editor, file, extractType) {
    var _a, _b;
    const selection = editor.getSelection();
    if (!selection) {
      new import_obsidian13.Notice("No text selected");
      return;
    }
    const cursor = editor.getCursor("from");
    const content = await this.app.vault.read(file);
    const offset = this.getOffsetFromCursor(content, cursor.line, cursor.ch);
    try {
      let unit;
      switch (extractType) {
        case "text":
          unit = this.createTextUnit(file, selection, offset, content);
          break;
        case "QA":
          unit = this.createQAUnit(file, selection, offset, content);
          break;
        case "cloze":
          unit = this.createClozeUnit(file, selection, offset, content);
          break;
      }
      const existingUnit = await this.findDuplicateUnit(unit);
      if (existingUnit) {
        new import_obsidian13.Notice(`\u26A0\uFE0F This content was already extracted`);
        return;
      }
      await this.dataManager.saveContentUnits([unit]);
      if (extractType === "QA" || extractType === "cloze") {
        try {
          const cardType = extractType === "QA" ? "qa" : "cloze";
          const flashcard = await this.flashcardManager.createFlashcardFromUnit(unit, {
            cardType
          });
          if ((_a = this.plugin) == null ? void 0 : _a.unlockSystem) {
            if (extractType === "QA") {
              await this.plugin.unlockSystem.onNoteExtractedAsQA();
            } else {
              await this.plugin.unlockSystem.onNoteExtractedAsCloze();
            }
          }
          await this.dataManager.saveContentUnits([unit]);
        } catch (error) {
          console.error("[extractSelectedText] Failed to create flashcard:", error);
        }
      } else if (extractType === "text") {
        if ((_b = this.plugin) == null ? void 0 : _b.unlockSystem) {
          await this.plugin.unlockSystem.onNoteExtractedAsText();
        }
      }
      const typeNames = {
        text: "text",
        QA: "QA card",
        cloze: "cloze card"
      };
      new import_obsidian13.Notice(`\u2705 Extracted as ${typeNames[extractType]}`);
      this.refreshAllViews();
    } catch (error) {
      console.error("Error extracting selection:", error);
      new import_obsidian13.Notice(`\u274C Error: ${error.message}`);
    }
  }
  /**
   * 🆕 查找重复的 ContentUnit
   * 根据文件路径和位置判断是否已存在
   */
  async findDuplicateUnit(unit) {
    const allUnits = await this.dataManager.getAllContentUnits();
    const duplicate = allUnits.find(
      (existing) => existing.source.file === unit.source.file && existing.source.position.start === unit.source.position.start && existing.source.position.end === unit.source.position.end && existing.type === unit.type
    );
    return duplicate || null;
  }
  /**
   * 🆕 检查内容是否重复（基于内容相似度）
   */
  isContentDuplicate(content1, content2) {
    const normalized1 = content1.trim().toLowerCase();
    const normalized2 = content2.trim().toLowerCase();
    return normalized1 === normalized2;
  }
  /**
   * 创建纯文本单元
   */
  createTextUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    return {
      id: this.generateId(),
      type: "text",
      content: selection.trim(),
      fullContext: selection.trim(),
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "text-manual",
        ruleName: "Manual Text Extract",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 创建 QA 卡片单元
   */
  createQAUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    let question, answer;
    if (selection.includes("::")) {
      const parts = selection.split("::");
      question = parts[0].trim();
      answer = parts.slice(1).join("::").trim();
    } else {
      question = selection.trim();
      answer = "[Answer needed]";
    }
    return {
      id: this.generateId(),
      type: "QA",
      content: question,
      answer,
      fullContext: selection.trim(),
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "QA-manual",
        ruleName: "Manual QA Card",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 创建完形填空卡片单元
   */
  createClozeUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    const fullSentence = this.extractFullSentence(fileContent, offset, selection.length);
    return {
      id: this.generateId(),
      type: "cloze",
      content: selection.trim(),
      fullContext: fullSentence,
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "cloze-manual",
        ruleName: "Manual Cloze Card",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 从光标位置计算文件偏移量
   */
  getOffsetFromCursor(content, line, ch) {
    const lines = content.split("\n");
    let offset = 0;
    for (let i = 0; i < line; i++) {
      offset += lines[i].length + 1;
    }
    offset += ch;
    return offset;
  }
  /**
   * 扫描单个文件
   */
  async scanFile(file) {
    try {
      const content = await this.app.vault.read(file);
      const units = await this.extractContent(file, content);
      if (units.length > 0) {
        await this.dataManager.saveContentUnits(units);
        const qaCount = units.filter((u) => u.type === "QA").length;
        const clozeCount = units.filter((u) => u.type === "cloze").length;
        new import_obsidian13.Notice(`Extracted ${qaCount} QA cards and ${clozeCount} cloze cards from ${file.name}`);
        setTimeout(() => {
          this.refreshAllViews();
        }, 100);
      }
      return units.length;
    } catch (error) {
      console.error("[scanFile] Error:", error);
      new import_obsidian13.Notice(`Error scanning file: ${error.message}`);
      return 0;
    }
  }
  /**
   * 刷新所有相关视图
   */
  refreshAllViews() {
    this.app.workspace.iterateAllLeaves((leaf) => {
      const viewType = leaf.view.getViewType();
      if (viewType === "learning-system-sidebar-overview" || viewType === "learning-system-main-overview") {
        const view = leaf.view;
        if (view && typeof view.refresh === "function") {
          view.refresh();
        }
      }
    });
  }
  /**
   * 扫描整个 Vault
   */
  async scanVault() {
    const files = this.app.vault.getMarkdownFiles();
    let scanned = 0;
    let extracted = 0;
    new import_obsidian13.Notice(`Scanning ${files.length} files...`);
    for (const file of files) {
      const count = await this.scanFile(file);
      scanned++;
      extracted += count;
    }
    new import_obsidian13.Notice(`Scan complete! Extracted ${extracted} items from ${scanned} files.`);
    return { scanned, extracted };
  }
  /**
   * 🔧 修改: 先保存 units，再创建闪卡，同时过滤重复项
   */
  async extractContent(file, content) {
    var _a;
    const units = [];
    const qaUnits = this.extractQACards(file, content);
    const clozeUnits = await this.extractClozeCards(file, content);
    const allExtractedUnits = [...qaUnits, ...clozeUnits];
    const existingUnits = await this.dataManager.getAllContentUnits();
    const newUnits = await this.filterDuplicateUnits(allExtractedUnits, existingUnits);
    if (newUnits.length === 0) {
      new import_obsidian13.Notice(` ${file.name}: No new content to extract`);
      return [];
    }
    if (newUnits.length < allExtractedUnits.length) {
      const skipped = allExtractedUnits.length - newUnits.length;
      new import_obsidian13.Notice(` ${file.name}:Skipped ${skipped} duplicate items`);
    }
    units.push(...newUnits);
    if (units.length > 0) {
      await this.dataManager.saveContentUnits(units);
    }
    for (const unit of units) {
      try {
        const cardType = unit.type === "QA" ? "qa" : "cloze";
        const flashcard = await this.flashcardManager.createFlashcardFromUnit(unit, {
          cardType
        });
      } catch (error) {
        console.error("[extractContent]  Failed to create flashcard:", error);
      }
    }
    if (((_a = this.plugin) == null ? void 0 : _a.unlockSystem) && units.length > 0) {
      for (let i = 0; i < units.length; i++) {
        await this.plugin.unlockSystem.onNoteScanned();
      }
    }
    return units;
  }
  /**
   * 🆕 过滤重复的 units
   * 根据文件路径、位置和内容判断是否重复
   */
  async filterDuplicateUnits(newUnits, existingUnits) {
    const filtered = [];
    for (const newUnit of newUnits) {
      const isDuplicate = existingUnits.some((existing) => {
        const sameLocation = existing.source.file === newUnit.source.file && existing.source.position.start === newUnit.source.position.start && existing.source.position.end === newUnit.source.position.end && existing.type === newUnit.type;
        const sameContent = existing.source.file === newUnit.source.file && existing.type === newUnit.type && this.isContentDuplicate(existing.content, newUnit.content) && this.isContentDuplicate(existing.fullContext || "", newUnit.fullContext || "");
        const sameQA = existing.type === "QA" && newUnit.type === "QA" && existing.source.file === newUnit.source.file && this.isContentDuplicate(existing.content, newUnit.content) && this.isContentDuplicate(existing.answer || "", newUnit.answer || "");
        return sameLocation || sameContent || sameQA;
      });
      if (!isDuplicate) {
        filtered.push(newUnit);
      }
    }
    return filtered;
  }
  /**
   * ✅ 检查是否为任务完成标记
   * 排除: [completion:: date], [due:: date] 等任务相关的 :: 格式
   */
  isTaskCompletion(line) {
    const taskPattern = /^[\s]*-\s*\[[x\s]\].*::/i;
    return taskPattern.test(line);
  }
  /**
   * ✅ 检查是否为日期/时间字段
   * 排除: date1:: 2021-02-26T15:15, date2:: 2021-04-17 18:00 等格式
   */
  isDateTimeField(question, answer) {
    const dateFieldPattern = /\b(date\d*|time\d*|created|updated|modified|scheduled|due|completion)\b/i;
    const dateTimePattern = /^\s*\d{4}-\d{2}-\d{2}(T|\s)\d{2}:\d{2}|\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}/;
    const dateOnlyPattern = /^\s*\d{4}-\d{2}-\d{2}\s*$/;
    return dateFieldPattern.test(question) && (dateTimePattern.test(answer) || dateOnlyPattern.test(answer));
  }
  /**
   * ✅ 检查是否为 Excalidraw 高亮
   * 排除: ==switch to excalidraw view...== 这类特定高亮
   */
  isExcalidrawHighlight(matchText, line) {
    const excalidrawKeywords = /excalidraw|drawing|sketch/i;
    return excalidrawKeywords.test(matchText) || excalidrawKeywords.test(line);
  }
  /**
   * ✅ 提取 QA 卡片 (格式: Question :: Answer)
   * 新增: 过滤任务完成标记和日期时间字段
   */
  extractQACards(file, content) {
    const units = [];
    const qaRegex = /^(.+?)\s*::\s*(.+?)$/gm;
    let match;
    while ((match = qaRegex.exec(content)) !== null) {
      const fullMatch = match[0];
      const question = match[1].trim();
      const answer = match[2].trim();
      if (this.isTaskCompletion(fullMatch)) {
        continue;
      }
      if (this.isDateTimeField(question, answer)) {
        continue;
      }
      const position = this.calculatePosition(content, match.index);
      const unit = {
        id: this.generateId(),
        type: "QA",
        content: question,
        answer,
        fullContext: fullMatch,
        source: {
          file: file.path,
          position: {
            start: match.index,
            end: match.index + fullMatch.length,
            line: position.line
          },
          heading: this.findHeading(content, match.index),
          anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
        },
        extractRule: {
          ruleId: "QA",
          ruleName: "QA Card",
          extractedBy: "auto"
        },
        metadata: {
          createdAt: Date.now(),
          updatedAt: Date.now(),
          tags: this.extractTags(content, match.index)
        },
        flashcardIds: []
      };
      units.push(unit);
    }
    return units;
  }
  /**
   * 提取包含高亮的完整句子
   */
  extractFullSentence(content, highlightStart, highlightLength) {
    const sentenceEnds = /[.!?。！?\n]/;
    let start = highlightStart;
    while (start > 0) {
      const char = content[start - 1];
      if (sentenceEnds.test(char)) {
        break;
      }
      start--;
    }
    let end = highlightStart + highlightLength;
    while (end < content.length) {
      const char = content[end];
      if (sentenceEnds.test(char)) {
        end++;
        break;
      }
      end++;
    }
    return content.substring(start, end).trim();
  }
  /**
   * 计算文本位置
   */
  calculatePosition(content, offset) {
    const lines = content.substring(0, offset).split("\n");
    return {
      line: lines.length,
      column: lines[lines.length - 1].length
    };
  }
  /**
   * 查找所在标题
   */
  findHeading(content, position) {
    const beforeContent = content.substring(0, position);
    const headings = beforeContent.match(/^#{1,6} .+$/gm);
    return headings ? headings[headings.length - 1] : void 0;
  }
  /**
   * 提取附近的标签
   */
  extractTags(content, position) {
    const tags = /* @__PURE__ */ new Set();
    const yamlMatch = content.match(/^---\n([\s\S]*?)\n---/);
    if (yamlMatch) {
      const yamlContent = yamlMatch[1];
      const tagsMatch = yamlContent.match(/^tags:\s*(.+)$/m);
      if (tagsMatch) {
        const tagContent = tagsMatch[1].trim();
        if (tagContent.startsWith("[")) {
          const arrayTags = tagContent.match(/[\w/-]+/g);
          arrayTags == null ? void 0 : arrayTags.forEach((tag) => tags.add(`#${tag}`));
        } else {
          tagContent.split(",").forEach((tag) => {
            const cleaned = tag.trim();
            if (cleaned)
              tags.add(`#${cleaned}`);
          });
        }
      }
    }
    const lines = content.substring(0, position).split("\n");
    const currentLine = lines.length - 1;
    const lineContent = content.split("\n")[currentLine] || "";
    const inlineTagRegex = /#[\w/-]+/g;
    const inlineTags = lineContent.match(inlineTagRegex);
    inlineTags == null ? void 0 : inlineTags.forEach((tag) => tags.add(tag));
    return Array.from(tags);
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
  /**
   * 生成 Block ID
   */
  generateBlockId() {
    return `extract-${Date.now()}-${Math.random().toString(36).substr(2, 6)}`;
  }
  // 表格提取方法
  /**
   * 🆕 检测高亮是否在表格中
   */
  isInTable(content, position) {
    var _a, _b, _c;
    const lines = content.split("\n");
    const { line } = this.calculatePosition(content, position);
    const lineIndex = line - 1;
    if (!((_a = lines[lineIndex]) == null ? void 0 : _a.includes("|"))) {
      return false;
    }
    const hasPrevTableLine = line > 0 && ((_b = lines[line - 1]) == null ? void 0 : _b.includes("|"));
    const hasNextTableLine = line < lines.length - 1 && ((_c = lines[line + 1]) == null ? void 0 : _c.includes("|"));
    return hasPrevTableLine || hasNextTableLine;
  }
  /**
   * 🆕 提取表格及其高亮信息
   */
  extractTableWithHighlights(content, highlightPosition) {
    var _a, _b;
    const lines = content.split("\n");
    const { line: currentLine } = this.calculatePosition(content, highlightPosition);
    let tableStart = currentLine;
    let tableEnd = currentLine;
    while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
      tableStart--;
    }
    while (tableEnd < lines.length - 1 && ((_b = lines[tableEnd + 1]) == null ? void 0 : _b.includes("|"))) {
      tableEnd++;
    }
    const tableLines = lines.slice(tableStart, tableEnd + 1);
    const tableContent = tableLines.join("\n");
    const separatorIndex = tableLines.findIndex((line, idx) => {
      if (idx === 0)
        return false;
      const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
      return cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell));
    });
    const highlightRegex = /==(.+?)==/g;
    const highlightRows = /* @__PURE__ */ new Set();
    const highlightColumns = /* @__PURE__ */ new Set();
    let highlightCount = 0;
    tableLines.forEach((line, rowIndex) => {
      if (rowIndex === separatorIndex) {
        return;
      }
      const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
      cells.forEach((cell, colIndex) => {
        if (highlightRegex.test(cell)) {
          highlightRows.add(rowIndex);
          highlightColumns.add(colIndex);
          highlightCount++;
        }
      });
    });
    return {
      tableContent,
      highlightCount,
      highlightRows,
      highlightColumns
    };
  }
  /**
   * 🆕 根据高亮位置提取表格的特定部分
   */
  extractTablePortion(tableLines, highlightRows, highlightColumns, highlightCount) {
    const totalRows = tableLines.length;
    const separatorIndex = tableLines.findIndex((line, idx) => {
      if (idx === 0)
        return false;
      const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
      return cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell));
    });
    const actualSeparatorIndex = separatorIndex !== -1 ? separatorIndex : 1;
    const firstDataRowIndex = actualSeparatorIndex + 1;
    if (firstDataRowIndex < tableLines.length) {
      const firstDataRow = tableLines[firstDataRowIndex];
      const columnCount = firstDataRow.split("|").filter((c) => c.trim()).length;
      if (highlightColumns.size === columnCount || highlightCount >= totalRows - 2) {
        return tableLines.join("\n");
      }
    }
    if (highlightRows.size === 1) {
      const highlightRow = Array.from(highlightRows)[0];
      const result2 = [
        tableLines[0],
        tableLines[actualSeparatorIndex],
        tableLines[highlightRow]
      ];
      return result2.join("\n");
    }
    const result = [tableLines[0], tableLines[actualSeparatorIndex]];
    highlightRows.forEach((rowIndex) => {
      if (rowIndex !== 0 && rowIndex !== actualSeparatorIndex) {
        result.push(tableLines[rowIndex]);
      }
    });
    return result.join("\n");
  }
  async extractClozeCards(file, content) {
    var _a, _b;
    const units = [];
    const highlightRegex = /==(.+?)==/g;
    const processedTables = /* @__PURE__ */ new Set();
    const processedHighlights = /* @__PURE__ */ new Set();
    let match;
    while ((match = highlightRegex.exec(content)) !== null) {
      const extractedText = match[1];
      const fullMatch = match[0];
      const position = this.calculatePosition(content, match.index);
      if (processedHighlights.has(match.index)) {
        continue;
      }
      const lineStart = content.lastIndexOf("\n", match.index) + 1;
      const lineEnd = content.indexOf("\n", match.index);
      const currentLine = content.substring(lineStart, lineEnd === -1 ? content.length : lineEnd);
      if (this.isExcalidrawHighlight(extractedText, currentLine)) {
        continue;
      }
      const inTable = this.isInTable(content, match.index);
      if (inTable) {
        const tableInfo = this.extractTableWithHighlights(content, match.index);
      }
      if (this.isInTable(content, match.index)) {
        const tableInfo = this.extractTableWithHighlights(content, match.index);
        if (tableInfo) {
          const tableKey = `${file.path}-${tableInfo.tableContent.substring(0, 50)}`;
          if (processedTables.has(tableKey)) {
            continue;
          }
          processedTables.add(tableKey);
          const tableHighlights = this.findAllHighlightsInTable(content, tableInfo.tableContent, match.index);
          tableHighlights.forEach((pos) => processedHighlights.add(pos));
          const lines = content.split("\n");
          const { line: currentLineIndex } = this.calculatePosition(content, match.index);
          let tableStart = currentLineIndex;
          while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
            tableStart--;
          }
          const tableLines = tableInfo.tableContent.split("\n");
          const extractedTable = this.extractTablePortion(
            tableLines,
            tableInfo.highlightRows,
            tableInfo.highlightColumns,
            tableInfo.highlightCount
          );
          const extractedLines = extractedTable.split("\n");
          const hasSeparator = extractedLines.some((line) => {
            const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
            return cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell));
          });
          if (!hasSeparator && extractedLines.length >= 2) {
            const headerCells = extractedLines[0].split("|").map((c) => c.trim()).filter((c) => c);
            const separator = "| " + headerCells.map(() => "---").join(" | ") + " |";
            extractedLines.splice(1, 0, separator);
            const extractedTable2 = extractedLines.join("\n");
          }
          let tableStartOffset = 0;
          for (let i = 0; i < tableStart; i++) {
            tableStartOffset += lines[i].length + 1;
          }
          const allHighlights = this.extractAllHighlightsFromTable(tableInfo.tableContent);
          const unit2 = {
            id: this.generateId(),
            type: "cloze",
            content: allHighlights.join(", "),
            // 🆕 包含所有高亮
            fullContext: extractedTable,
            // 显示提取的表格部分
            source: {
              file: file.path,
              position: {
                start: tableStartOffset,
                end: tableStartOffset + tableInfo.tableContent.length,
                line: tableStart
              },
              heading: this.findHeading(content, match.index),
              anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
            },
            extractRule: {
              ruleId: "cloze-table",
              ruleName: "Table Cloze Deletion",
              extractedBy: "auto"
            },
            metadata: {
              createdAt: Date.now(),
              updatedAt: Date.now(),
              tags: [...this.extractTags(content, match.index), "#table"],
              customData: {
                tableType: "partial",
                highlightCount: tableInfo.highlightCount,
                rowCount: tableInfo.highlightRows.size,
                columnCount: tableInfo.highlightColumns.size,
                allHighlights
                // 🆕 保存所有高亮
              }
            },
            flashcardIds: []
          };
          units.push(unit2);
          if ((_b = this.plugin) == null ? void 0 : _b.unlockSystem) {
            await this.plugin.unlockSystem.onTableScanned();
          }
          continue;
        }
      }
      const fullSentence = this.extractFullSentence(content, match.index, fullMatch.length);
      const unit = {
        id: this.generateId(),
        type: "cloze",
        content: extractedText.trim(),
        fullContext: fullSentence,
        source: {
          file: file.path,
          position: {
            start: match.index,
            end: match.index + fullMatch.length,
            line: position.line
          },
          heading: this.findHeading(content, match.index),
          anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
        },
        extractRule: {
          ruleId: "cloze",
          ruleName: "Cloze Deletion",
          extractedBy: "auto"
        },
        metadata: {
          createdAt: Date.now(),
          updatedAt: Date.now(),
          tags: this.extractTags(content, match.index)
        },
        flashcardIds: []
      };
      units.push(unit);
    }
    return units;
  }
  // 🆕 添加辅助方法:找到表格内所有高亮的位置
  findAllHighlightsInTable(content, tableContent, currentHighlightPos) {
    var _a, _b;
    const positions = [];
    const lines = content.split("\n");
    const { line: currentLine } = this.calculatePosition(content, currentHighlightPos);
    let tableStart = currentLine;
    let tableEnd = currentLine;
    while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
      tableStart--;
    }
    while (tableEnd < lines.length - 1 && ((_b = lines[tableEnd + 1]) == null ? void 0 : _b.includes("|"))) {
      tableEnd++;
    }
    let offset = 0;
    for (let i = 0; i < tableStart; i++) {
      offset += lines[i].length + 1;
    }
    const highlightRegex = /==(.+?)==/g;
    let match;
    const tableEndOffset = offset + tableContent.length;
    while ((match = highlightRegex.exec(content)) !== null) {
      if (match.index >= offset && match.index < tableEndOffset) {
        positions.push(match.index);
      }
    }
    return positions;
  }
  // 🆕 添加辅助方法:提取表格中所有高亮内容
  extractAllHighlightsFromTable(tableContent) {
    const highlights = [];
    const highlightRegex = /==(.+?)==/g;
    let match;
    while ((match = highlightRegex.exec(tableContent)) !== null) {
      highlights.push(match[1].trim());
    }
    return highlights;
  }
};

// src/core/AnnotationManager.ts
var AnnotationManager = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.annotations = /* @__PURE__ */ new Map();
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.loadAnnotations();
  }
  /**
   * 加载所有批注
   */
  async loadAnnotations() {
    try {
      const path = `${this.dataFolder}/annotations.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        const annotations = JSON.parse(data);
        for (const annotation of annotations) {
          this.annotations.set(annotation.id, annotation);
        }
      }
    } catch (error) {
      console.error("Error loading annotations:", error);
    }
  }
  /**
   * 添加内容批注
   */
  async addContentAnnotation(contentUnitId, content, badge) {
    const annotation = {
      id: this.generateId(),
      targetType: "content",
      targetId: contentUnitId,
      content,
      badge,
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.annotations.set(annotation.id, annotation);
    await this.persist();
    await this.plugin.unlockSystem.onAnnotationCompleted();
    const contentUnit = this.plugin.dataManager.getContentUnit(contentUnitId);
    if (contentUnit) {
      contentUnit.annotationId = annotation.id;
      contentUnit.metadata.updatedAt = Date.now();
      await this.plugin.dataManager.saveContentUnit(contentUnit);
    }
    return annotation;
  }
  /**
   * 添加文件批注
   */
  async addFileAnnotation(filePath, content) {
    const annotation = {
      id: this.generateId(),
      targetType: "file",
      targetId: filePath,
      content,
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.annotations.set(annotation.id, annotation);
    await this.persist();
    await this.plugin.unlockSystem.onAnnotationCompleted();
    return annotation;
  }
  /**
   * 获取批注
   */
  getAnnotation(id) {
    return this.annotations.get(id);
  }
  /**
   * 获取内容的批注
   */
  getContentAnnotation(contentUnitId) {
    const contentUnit = this.plugin.dataManager.getContentUnit(contentUnitId);
    if (!(contentUnit == null ? void 0 : contentUnit.annotationId))
      return void 0;
    return this.annotations.get(contentUnit.annotationId);
  }
  /**
   * 获取文件的所有批注
   */
  getFileAnnotations(filePath) {
    return Array.from(this.annotations.values()).filter(
      (ann) => ann.targetType === "file" && ann.targetId === filePath
    );
  }
  /**
   * 更新批注
   */
  async updateAnnotation(id, updates) {
    const annotation = this.annotations.get(id);
    if (!annotation)
      return;
    Object.assign(annotation, updates, {
      metadata: {
        ...annotation.metadata,
        updatedAt: Date.now()
      }
    });
    await this.persist();
  }
  /**
   * 删除批注
   */
  async deleteAnnotation(id) {
    const annotation = this.annotations.get(id);
    if (!annotation)
      return;
    if (annotation.targetType === "content") {
      const contentUnit = this.plugin.dataManager.getContentUnit(annotation.targetId);
      if (contentUnit) {
        contentUnit.annotationId = void 0;
        await this.plugin.dataManager.saveContentUnit(contentUnit);
      }
    }
    this.annotations.delete(id);
    await this.persist();
  }
  /**
   * 获取所有批注
   */
  getAllAnnotations() {
    return Array.from(this.annotations.values());
  }
  /**
   * 持久化
   */
  async persist() {
    try {
      const path = `${this.dataFolder}/annotations.json`;
      const annotations = Array.from(this.annotations.values());
      const data = JSON.stringify(annotations, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting annotations:", error);
    }
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `ann-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
};

// src/core/FlashcardManager.ts
var FlashcardManager = class {
  constructor(app, dataManager, plugin) {
    this.app = app;
    this.dataManager = dataManager;
    this.plugin = plugin;
    this.flashcards = /* @__PURE__ */ new Map();
    this.reviewLogs = [];
    this.deletedItems = [];
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.loadFlashcards();
    await this.loadReviewLogs();
    await this.loadDeleteHistory();
    await this.loadDeleteHistory();
  }
  // ==================== 统一创建入口 ====================
  /**
   * 🆕 统一入口: 从 ContentUnit 创建闪卡
   * 适配所有场景: 右键提取、Scan、批量创建、快速生成
   */
  async createFlashcardFromUnit(unit, options) {
    const cardType = (options == null ? void 0 : options.cardType) || (unit.type === "QA" ? "qa" : "cloze");
    let flashcard;
    if (cardType === "qa" || unit.type === "QA") {
      const question = (options == null ? void 0 : options.customQuestion) || unit.content;
      const answer = (options == null ? void 0 : options.customAnswer) || unit.answer || unit.content;
      flashcard = await this.createQACard(unit.id, question, answer);
    } else {
      const text = unit.fullContext || unit.content;
      const answer = (options == null ? void 0 : options.customAnswer) || unit.content;
      const deletions = [{
        index: text.indexOf(answer),
        answer
      }];
      flashcard = await this.createClozeCard(unit.id, text, deletions);
    }
    await this.plugin.unlockSystem.onCardExtracted();
    return flashcard;
  }
  // ==================== 核心创建方法 ====================
  /**
   * 创建问答卡（唯一版本，合并了所有功能）
   */
  async createQACard(contentUnitId, question, answer, deck) {
    const contentUnit = this.dataManager.getContentUnit(contentUnitId);
    if (!contentUnit)
      throw new Error("Content unit not found");
    const card = {
      id: this.generateId(),
      type: "qa",
      sourceContentId: contentUnitId,
      sourceFile: contentUnit.source.file,
      anchorLink: contentUnit.source.anchorLink,
      front: question,
      back: answer,
      deck: deck || this.inferDeck(contentUnit.source.file),
      tags: contentUnit.metadata.tags,
      scheduling: this.initializeScheduling(),
      stats: {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        difficulty: 0.5
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.flashcards.set(card.id, card);
    contentUnit.flashcardIds.push(card.id);
    await this.dataManager.saveContentUnits([contentUnit]);
    await this.persistFlashcards();
    return card;
  }
  /**
   * 创建完形填空卡（唯一版本，合并了所有功能）
   */
  async createClozeCard(contentUnitId, original, deletions) {
    const contentUnit = this.dataManager.getContentUnit(contentUnitId);
    if (!contentUnit)
      throw new Error("Content unit not found");
    const isTable = this.isTableFormat(original);
    const front = isTable ? original : this.generateClozeText(original, deletions);
    const back = deletions.map((d) => d.answer);
    const card = {
      id: this.generateId(),
      type: "cloze",
      sourceContentId: contentUnitId,
      sourceFile: contentUnit.source.file,
      anchorLink: contentUnit.source.anchorLink,
      front,
      back,
      cloze: {
        original,
        deletions
      },
      deck: this.inferDeck(contentUnit.source.file),
      tags: contentUnit.metadata.tags,
      scheduling: this.initializeScheduling(),
      stats: {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        difficulty: 0.5
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.flashcards.set(card.id, card);
    contentUnit.flashcardIds.push(card.id);
    await this.dataManager.saveContentUnits([contentUnit]);
    await this.persistFlashcards();
    return card;
  }
  // ← 添加辅助方法
  isTableFormat(text) {
    if (!text || !text.trim())
      return false;
    const lines = text.trim().split("\n");
    if (lines.length < 2)
      return false;
    const hasSeparator = lines.some((line) => /^\|?[\s-:|]+\|?$/.test(line.trim()));
    const pipeLines = lines.filter((line) => line.includes("|")).length;
    return hasSeparator || pipeLines >= lines.length * 0.7;
  }
  // ==================== 查询方法 ====================
  /**
   * 获取闪卡
   */
  getFlashcard(id) {
    return this.flashcards.get(id);
  }
  /**
   * 获取所有闪卡
   */
  getAllFlashcards() {
    const cards = Array.from(this.flashcards.values());
    return cards;
  }
  /**
   * 获取今日待复习的卡片
   */
  getDueCards() {
    const now = Date.now();
    return Array.from(this.flashcards.values()).filter((card) => card.scheduling.due <= now).sort((a, b) => {
      const aPriority = this.getCardPriority(a);
      const bPriority = this.getCardPriority(b);
      return bPriority - aPriority;
    });
  }
  /**
   * 获取新卡片
   */
  getNewCards() {
    return Array.from(this.flashcards.values()).filter((card) => card.scheduling.state === "new");
  }
  // ==================== 更新和删除 ====================
  /**
   * 更新卡片（复习后）
   */
  async updateCard(card) {
    this.flashcards.set(card.id, card);
    await this.persistFlashcards();
  }
  /**
   * 删除卡片
   */
  async deleteCard(id, reason = "user-deleted") {
    const card = this.flashcards.get(id);
    if (!card)
      return;
    const contentUnit = this.dataManager.getContentUnit(card.sourceContentId);
    if (contentUnit) {
      const index = contentUnit.flashcardIds.indexOf(id);
      if (index > -1) {
        contentUnit.flashcardIds.splice(index, 1);
        await this.dataManager.saveContentUnits([contentUnit]);
      }
    }
    await this.addToDeleteHistory({
      type: "flashcard",
      id: card.id,
      content: {
        front: card.front,
        back: typeof card.back === "string" ? card.back : card.back.join(", "),
        sourceFile: card.sourceFile,
        sourceContentId: card.sourceContentId,
        cardType: card.type,
        fullCard: { ...card }
        // 保存完整卡片数据以便恢复
      },
      deletedAt: Date.now(),
      deletedBy: reason,
      metadata: {
        deck: card.deck,
        stats: card.stats
      }
    });
    this.reviewLogs = this.reviewLogs.filter((log) => log.flashcardId !== id);
    await this.persistReviewLogs();
    this.flashcards.delete(id);
    await this.persistFlashcards();
  }
  // 新增：添加到删除历史
  async addToDeleteHistory(item) {
    this.deletedItems.push(item);
    const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
    this.deletedItems = this.deletedItems.filter((item2) => item2.deletedAt > sevenDaysAgo);
    await this.persistDeleteHistory();
  }
  // 新增：获取最近删除
  getRecentlyDeleted(days = 7) {
    const cutoff = Date.now() - days * 24 * 60 * 60 * 1e3;
    return this.deletedItems.filter((item) => item.deletedAt > cutoff).sort((a, b) => b.deletedAt - a.deletedAt);
  }
  // 新增：恢复闪卡
  async restoreFlashcard(deletedItem) {
    try {
      if (deletedItem.type !== "flashcard")
        return false;
      const card = deletedItem.content.fullCard;
      if (this.flashcards.has(card.id)) {
        return false;
      }
      this.flashcards.set(card.id, card);
      const contentUnit = this.dataManager.getContentUnit(card.sourceContentId);
      if (contentUnit && !contentUnit.flashcardIds.includes(card.id)) {
        contentUnit.flashcardIds.push(card.id);
        await this.dataManager.saveContentUnits([contentUnit]);
      }
      await this.persistFlashcards();
      this.deletedItems = this.deletedItems.filter((item) => item.id !== deletedItem.id);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error restoring flashcard:", error);
      return false;
    }
  }
  // 新增：永久删除闪卡（从历史中移除）
  async permanentlyDeleteFlashcard(deletedItemId) {
    try {
      this.deletedItems = this.deletedItems.filter((item) => item.id !== deletedItemId);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error permanently deleting flashcard:", error);
      return false;
    }
  }
  // 新增：一键清空删除历史
  async clearDeleteHistory() {
    const count = this.deletedItems.filter((item) => item.type === "flashcard").length;
    this.deletedItems = this.deletedItems.filter((item) => item.type !== "flashcard");
    await this.persistDeleteHistory();
    return count;
  }
  // 新增：持久化删除历史
  async persistDeleteHistory() {
    try {
      const path = `${this.dataFolder}/delete-history.json`;
      const data = JSON.stringify(this.deletedItems, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting delete history:", error);
    }
  }
  async loadDeleteHistory() {
    try {
      const path = `${this.dataFolder}/delete-history.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        this.deletedItems = JSON.parse(data);
        const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
        this.deletedItems = this.deletedItems.filter((item) => item.deletedAt > sevenDaysAgo);
        await this.persistDeleteHistory();
      }
    } catch (error) {
      console.error("Error loading delete history:", error);
    }
  }
  // ==================== 复习日志 ====================
  /**
   * 记录复习日志
   */
  async logReview(log) {
    var _a;
    if (!log.cycle) {
      log.cycle = ((_a = this.plugin.analyticsEngine) == null ? void 0 : _a.getCurrentCycleNumber()) || 1;
    }
    this.reviewLogs.push(log);
    if (this.reviewLogs.length > 1e3) {
      this.reviewLogs = this.reviewLogs.slice(-1e3);
    }
    await this.persistReviewLogs();
  }
  /**
   * 获取卡片的复习历史
   */
  getCardReviewHistory(cardId) {
    return this.reviewLogs.filter((log) => log.flashcardId === cardId);
  }
  // ==================== 统计 ====================
  /**
   * 获取统计数据
   */
  getStats() {
    const all = this.getAllFlashcards();
    const due = this.getDueCards();
    const newCards = this.getNewCards();
    const today = new Date().setHours(0, 0, 0, 0);
    const reviewedToday = this.reviewLogs.filter(
      (log) => log.timestamp >= today
    ).length;
    return {
      total: all.length,
      new: newCards.length,
      due: due.length,
      reviewedToday,
      totalReviews: this.reviewLogs.length
    };
  }
  // ==================== 私有工具方法 ====================
  /**
   * 加载闪卡
   */
  async loadFlashcards() {
    try {
      const path = `${this.dataFolder}/flashcards.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        const flashcards = JSON.parse(data);
        for (const card of flashcards) {
          this.flashcards.set(card.id, card);
        }
      }
    } catch (error) {
      console.error("Error loading flashcards:", error);
    }
  }
  /**
   * 加载复习日志
   */
  async loadReviewLogs() {
    try {
      const path = `${this.dataFolder}/review-logs.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        this.reviewLogs = JSON.parse(data);
      }
    } catch (error) {
      console.error("Error loading review logs:", error);
    }
  }
  /**
   * 初始化调度参数
   */
  initializeScheduling() {
    return {
      interval: 0,
      ease: 2.5,
      due: Date.now(),
      lapses: 0,
      reps: 0,
      state: "new"
    };
  }
  /**
   * 生成完形填空文本
   */
  generateClozeText(original, deletions) {
    let result = original;
    const sorted = [...deletions].sort((a, b) => b.index - a.index);
    for (const deletion of sorted) {
      const before = result.substring(0, deletion.index);
      const after = result.substring(deletion.index + deletion.answer.length);
      result = `${before}[...]${after}`;
    }
    return result;
  }
  /**
   * 推断卡组名称
   */
  inferDeck(filePath) {
    const parts = filePath.split("/");
    return parts.length > 1 ? parts[parts.length - 2] : "Default";
  }
  /**
   * 获取卡片优先级
   */
  getCardPriority(card) {
    const now = Date.now();
    const overdue = Math.max(0, now - card.scheduling.due);
    const daysOverdue = overdue / (24 * 60 * 60 * 1e3);
    if (card.scheduling.state === "new")
      return 100 + daysOverdue;
    if (card.scheduling.state === "relearning")
      return 200 + daysOverdue;
    return daysOverdue;
  }
  /**
   * 持久化闪卡
   */
  async persistFlashcards() {
    try {
      const path = `${this.dataFolder}/flashcards.json`;
      const flashcards = Array.from(this.flashcards.values());
      const data = JSON.stringify(flashcards, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("\u274C Error persisting flashcards:", error);
    }
  }
  /**
   * 持久化复习日志
   */
  async persistReviewLogs() {
    try {
      const path = `${this.dataFolder}/review-logs.json`;
      const data = JSON.stringify(this.reviewLogs, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting review logs:", error);
    }
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `card-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
};

// src/ui/view/RecentlyDeletedView.ts
var import_obsidian14 = require("obsidian");

// src/ui/style/recentlyDeletedStyle.ts
var RecentlyDeletedStyle = class {
  static inject() {
    if (this.injected)
      return;
    const existing = document.getElementById(this.styleId);
    if (existing) {
      existing.remove();
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.injected = true;
  }
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
    }
    this.injected = false;
  }
  static getStyles() {
    return `
          /* \u5F39\u7A97\u57FA\u7840\u6837\u5F0F */
    .recently-deleted-modal {
      padding: 0;
    }

    .recently-deleted-modal .modal-content {
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
    }

    .recently-deleted-modal .modal-title {
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--background-modifier-border);
    }

    .recently-deleted-modal .modal-title h2 {
      margin: 0;
      font-size: 1.3em;
      font-weight: 600;
    }

    
        .recently-deleted-container {
          padding: 20px;
          height: 100%;
          overflow-y: auto;
        }
  
        .recently-deleted-toolbar {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px;
          background: var(--background-secondary);
          border-radius: 8px;
          margin-bottom: 20px;
        }
  
        .deleted-stats {
          font-size: 0.9em;
          color: var(--text-muted);
        }
  
        .deleted-actions {
          display: flex;
          gap: 8px;
        }
  
        .deleted-section {
          margin-bottom: 32px;
        }
  
        .section-header {
          margin-bottom: 16px;
        }
  
        .section-header h3 {
          margin: 0;
          font-size: 1.1em;
          font-weight: 600;
        }
  
        .deleted-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
  
        .deleted-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding: 16px;
          background: var(--background-primary);
          border: 1px solid var(--background-modifier-border);
          border-radius: 8px;
          transition: all 0.2s ease;
        }
  
        .deleted-item:hover {
          border-color: var(--interactive-accent);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
  
        .deleted-item-info {
          flex: 1;
          min-width: 0;
          margin-right: 16px;
        }
  
        .deleted-item-content {
          margin-bottom: 8px;
          color: var(--text-normal);
          line-height: 1.5;
          word-break: break-word;
        }
  
        .card-front, 
        .card-back {
          margin: 4px 0;
          font-size: 0.95em;
        }
  
        .card-front strong,
        .card-back strong {
          color: var(--text-accent);
        }
  
        .deleted-item-meta {
          display: flex;
          flex-wrap: wrap;
          gap: 12px;
          font-size: 0.85em;
          color: var(--text-muted);
        }
  
        .deleted-item-meta span {
          display: inline-flex;
          align-items: center;
          gap: 4px;
        }
  
        .deleted-time {
          color: var(--text-accent);
        }
  
        .deleted-reason {
          padding: 2px 8px;
          background: var(--background-secondary);
          border-radius: 4px;
          font-size: 0.9em;
        }
  
        .deleted-item-actions {
          display: flex;
          gap: 8px;
          align-items: flex-start;
          flex-shrink: 0;
        }
  
        .empty-deleted {
          text-align: center;
          padding: 60px 20px;
        }
  
        .empty-icon {
          font-size: 4em;
          margin-bottom: 16px;
          opacity: 0.5;
        }
  
        .empty-text {
          font-size: 1.2em;
          margin-bottom: 8px;
          color: var(--text-normal);
          font-weight: 500;
        }
  
        .empty-hint {
          color: var(--text-muted);
          font-size: 0.9em;
        }
  
        /* \u54CD\u5E94\u5F0F\u8BBE\u8BA1 */
        @media (max-width: 768px) {
          .recently-deleted-container {
            padding: 12px;
          }
  
          .deleted-item {
            flex-direction: column;
            gap: 12px;
          }
  
          .deleted-item-info {
            margin-right: 0;
          }
  
          .deleted-item-actions {
            width: 100%;
            justify-content: flex-end;
          }
        }
      `;
  }
};
RecentlyDeletedStyle.styleId = "recently-deleted-styles";
RecentlyDeletedStyle.injected = false;

// src/ui/view/RecentlyDeletedView.ts
var RecentlyDeletedModal = class extends import_obsidian14.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.plugin = plugin;
  }
  onOpen() {
    RecentlyDeletedStyle.inject();
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("recently-deleted-modal");
    this.render();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
  render() {
    const { contentEl } = this;
    contentEl.empty();
    const header = contentEl.createDiv({ cls: "modal-title" });
    header.createEl("h2", { text: t("recentDelete.title", this.plugin.settings.language) });
    const toolbar = contentEl.createDiv({ cls: "recently-deleted-toolbar" });
    const stats = this.getStats();
    const statsText = toolbar.createDiv({ cls: "deleted-stats" });
    statsText.innerHTML = `
      \u{1F4DD} ${stats.notes} ${t("confirm.notes", this.plugin.settings.language)} \u2022 
      \u{1F0CF} ${stats.cards} ${t("confirm.flashcards", this.plugin.settings.language)}
    `;
    const actions = toolbar.createDiv({ cls: "deleted-actions" });
    new import_obsidian14.ButtonComponent(actions).setButtonText(t("recentDelete.clearAll", this.plugin.settings.language)).setWarning().onClick(async () => {
      if (confirm(t("confirm.clearAllDeleted", this.plugin.settings.language))) {
        await this.clearAll();
      }
    });
    const content = contentEl.createDiv({ cls: "recently-deleted-content" });
    const deletedNotes = this.plugin.dataManager.getRecentlyDeletedUnits();
    const deletedCards = this.plugin.flashcardManager.getRecentlyDeleted();
    if (deletedNotes.length === 0 && deletedCards.length === 0) {
      this.renderEmpty(content);
      return;
    }
    if (deletedNotes.length > 0) {
      this.renderDeletedNotes(content, deletedNotes);
    }
    if (deletedCards.length > 0) {
      this.renderDeletedCards(content, deletedCards);
    }
  }
  renderEmpty(container) {
    const empty = container.createDiv({ cls: "empty-deleted" });
    empty.innerHTML = `
      <div class="empty-icon">\u{1F389}</div>
      <div class="empty-text">${t("recentDelete.empty", this.plugin.settings.language)}</div>
      <div class="empty-hint">${t("recentDelete.emptyHint", this.plugin.settings.language)}</div>
    `;
  }
  renderDeletedNotes(container, items) {
    const section = container.createDiv({ cls: "deleted-section" });
    const header = section.createDiv({ cls: "section-header" });
    header.innerHTML = `
      <h3>\u{1F4DD} ${t("confirm.notes", this.plugin.settings.language)} (${items.length})</h3>
    `;
    const list = section.createDiv({ cls: "deleted-list" });
    items.forEach((item) => {
      const itemEl = list.createDiv({ cls: "deleted-item" });
      const info = itemEl.createDiv({ cls: "deleted-item-info" });
      const content = info.createDiv({ cls: "deleted-item-content" });
      content.textContent = item.unit.content.substring(0, 150) + (item.unit.content.length > 150 ? "..." : "");
      const meta = info.createDiv({ cls: "deleted-item-meta" });
      meta.innerHTML = `
        <span class="deleted-time">${this.formatTime(item.deletedAt)}</span>
        <span class="deleted-source">\u{1F4C4} ${item.unit.source.file}</span>
        ${item.associatedCardIds.length > 0 ? `<span class="deleted-cards">\u{1F0CF} ${item.associatedCardIds.length} ${t("confirm.flashcards", this.plugin.settings.language)}</span>` : ""}
        <span class="deleted-reason">${this.getDeleteReason(item.deletedBy)}</span>
      `;
      const actions = itemEl.createDiv({ cls: "deleted-item-actions" });
      new import_obsidian14.ButtonComponent(actions).setButtonText(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreNote(item);
      });
      new import_obsidian14.ButtonComponent(actions).setIcon("more-vertical").onClick((e) => {
        this.showNoteMenu(e, item);
      });
    });
  }
  renderDeletedCards(container, items) {
    const section = container.createDiv({ cls: "deleted-section" });
    const header = section.createDiv({ cls: "section-header" });
    header.innerHTML = `
      <h3>\u{1F0CF} ${t("confirm.flashcards", this.plugin.settings.language)} (${items.length})</h3>
    `;
    const list = section.createDiv({ cls: "deleted-list" });
    items.forEach((item) => {
      const itemEl = list.createDiv({ cls: "deleted-item" });
      const info = itemEl.createDiv({ cls: "deleted-item-info" });
      const content = info.createDiv({ cls: "deleted-item-content" });
      content.innerHTML = `
        <div class="card-front"><strong>Q:</strong> ${item.content.front.substring(0, 100)}</div>
        <div class="card-back"><strong>A:</strong> ${typeof item.content.back === "string" ? item.content.back.substring(0, 100) : item.content.back}</div>
      `;
      const meta = info.createDiv({ cls: "deleted-item-meta" });
      meta.innerHTML = `
        <span class="deleted-time">${this.formatTime(item.deletedAt)}</span>
        <span class="deleted-source">\u{1F4C4} ${item.content.sourceFile}</span>
        <span class="deleted-type">${item.content.cardType === "qa" ? "Q&A" : t("stats.type.cloze", this.plugin.settings.language)}</span>
        <span class="deleted-reason">${this.getDeleteReason(item.deletedBy)}</span>
      `;
      const actions = itemEl.createDiv({ cls: "deleted-item-actions" });
      new import_obsidian14.ButtonComponent(actions).setButtonText(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreCard(item);
      });
      new import_obsidian14.ButtonComponent(actions).setIcon("more-vertical").onClick((e) => {
        this.showCardMenu(e, item);
      });
    });
  }
  showNoteMenu(event, item) {
    const menu = new import_obsidian14.Menu();
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreNote(item);
      })
    );
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.deletePermanently", this.plugin.settings.language)).setIcon("trash").setWarning(true).onClick(async () => {
        await this.permanentlyDeleteNote(item);
      })
    );
    menu.showAtMouseEvent(event);
  }
  showCardMenu(event, item) {
    const menu = new import_obsidian14.Menu();
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreCard(item);
      })
    );
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.deletePermanently", this.plugin.settings.language)).setIcon("trash").setWarning(true).onClick(async () => {
        await this.permanentlyDeleteCard(item);
      })
    );
    menu.showAtMouseEvent(event);
  }
  async restoreNote(item) {
    const success = await this.plugin.dataManager.restoreContentUnit(item);
    if (success) {
      if (item.associatedCardIds && item.associatedCardIds.length > 0) {
        const restored = await this.restoreAssociatedCards(item.associatedCardIds);
        if (restored > 0) {
          new import_obsidian14.Notice(t("notice.noteRestored", this.plugin.settings.language) + ` (${restored} ${t("confirm.flashcards", this.plugin.settings.language)} ${t("notice.cardRestored", this.plugin.settings.language)})`);
        } else {
          new import_obsidian14.Notice(t("notice.noteRestored", this.plugin.settings.language));
        }
      } else {
        new import_obsidian14.Notice(t("notice.noteRestored", this.plugin.settings.language));
      }
      this.render();
      this.plugin.refreshOverview();
    } else {
      new import_obsidian14.Notice(t("notice.restoreFailed", this.plugin.settings.language));
    }
  }
  async restoreCard(item) {
    const success = await this.plugin.flashcardManager.restoreFlashcard(item);
    if (success) {
      new import_obsidian14.Notice(t("notice.cardRestored", this.plugin.settings.language));
      this.render();
      this.plugin.refreshOverview();
    } else {
      new import_obsidian14.Notice(t("notice.restoreFailed", this.plugin.settings.language));
    }
  }
  async permanentlyDeleteNote(item) {
    const success = await this.plugin.dataManager.permanentlyDeleteContentUnit(item.id);
    if (success) {
      new import_obsidian14.Notice(t("notice.permanentlyDeleted", this.plugin.settings.language));
      this.render();
    } else {
      new import_obsidian14.Notice(t("notice.deleteFailed", this.plugin.settings.language));
    }
  }
  async permanentlyDeleteCard(item) {
    const success = await this.plugin.flashcardManager.permanentlyDeleteFlashcard(item.id);
    if (success) {
      new import_obsidian14.Notice(t("notice.permanentlyDeleted", this.plugin.settings.language));
      this.render();
    } else {
      new import_obsidian14.Notice(t("notice.deleteFailed", this.plugin.settings.language));
    }
  }
  async restoreAssociatedCards(cardIds) {
    const deletedCards = this.plugin.flashcardManager.getRecentlyDeleted();
    let restored = 0;
    for (const cardId of cardIds) {
      const deletedCard = deletedCards.find((item) => item.id === cardId);
      if (deletedCard) {
        const success = await this.plugin.flashcardManager.restoreFlashcard(deletedCard);
        if (success)
          restored++;
      } else {
      }
    }
    return restored;
  }
  async clearAll() {
    const notesCount = await this.plugin.dataManager.clearDeleteHistory();
    const cardsCount = await this.plugin.flashcardManager.clearDeleteHistory();
    new import_obsidian14.Notice(t("notice.allDeleted", this.plugin.settings.language, {
      notes: notesCount,
      cards: cardsCount
    }));
    this.render();
  }
  getStats() {
    const deletedNotes = this.plugin.dataManager.getRecentlyDeletedUnits();
    const deletedCards = this.plugin.flashcardManager.getRecentlyDeleted();
    return {
      notes: deletedNotes.length,
      cards: deletedCards.length
    };
  }
  formatTime(timestamp) {
    const now = Date.now();
    const diff = now - timestamp;
    const minutes = Math.floor(diff / 6e4);
    const hours = Math.floor(diff / 36e5);
    const days = Math.floor(diff / 864e5);
    if (minutes < 1)
      return t("time.justNow", this.plugin.settings.language);
    if (minutes < 60)
      return t("time.minutesAgo", this.plugin.settings.language, { minutes });
    if (hours < 24)
      return t("time.hoursAgo", this.plugin.settings.language, { hours });
    return t("time.daysAgo", this.plugin.settings.language, { days });
  }
  getDeleteReason(reason) {
    const reasons = {
      "user-deleted": t("deleteReason.user", this.plugin.settings.language),
      "note-deleted": t("deleteReason.note", this.plugin.settings.language),
      "file-deleted": t("deleteReason.file", this.plugin.settings.language)
    };
    return reasons[reason] || reason;
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  extractionEnabled: true,
  autoScan: false,
  defaultDeck: "Default",
  cycleData: void 0
  // language: 'en'
};
var LearningSystemPlugin = class extends import_obsidian16.Plugin {
  async onload() {
    console.log("Loading Learning System Plugin");
    await this.loadSettings();
    this.detectAndSetLanguage();
    this.unlockSystem = new UnlockSystem(this.app, this);
    await this.unlockSystem.initialize();
    this.dataManager = new DataManager(this.app, this);
    await this.dataManager.initialize();
    this.annotationManager = new AnnotationManager(this.app, this);
    await this.annotationManager.initialize();
    this.flashcardManager = new FlashcardManager(
      this.app,
      this.dataManager,
      this
    );
    await this.flashcardManager.initialize();
    this.extractionEngine = new ExtractionEngine(
      this.app,
      this.dataManager,
      this.flashcardManager,
      this
    );
    this.registerView(
      VIEW_TYPE_SIDEBAR_OVERVIEW,
      (leaf) => new SidebarOverviewView(leaf, this, false)
    );
    this.registerView(
      VIEW_TYPE_MAIN_OVERVIEW,
      (leaf) => new SidebarOverviewView(leaf, this, true)
    );
    this.registerView(
      VIEW_TYPE_REVIEW,
      (leaf) => new ReviewView(leaf, this)
    );
    this.registerView(
      VIEW_TYPE_STATS,
      (leaf) => new StatsView(leaf, this)
    );
    this.registerEvent(
      this.app.vault.on("delete", async (file) => {
        if (file instanceof import_obsidian16.TFile && file.extension === "md") {
          const stats = ViewState.getFileDeleteStats(file.path, this);
          if (stats.notes > 0 || stats.cards > 0) {
            const units = this.dataManager.getAllContentUnits().filter((u) => u.source.file === file.path);
            for (const unit of units) {
              for (const cardId of unit.flashcardIds) {
                await this.flashcardManager.deleteCard(cardId, "file-deleted");
              }
              await this.dataManager.deleteContentUnit(unit.id, "file-deleted");
            }
            new import_obsidian16.Notice(t("notice.fileDeletedSimple", this.settings.language, {
              notes: stats.notes,
              cards: stats.cards
            }), 3e3);
          }
        }
      })
    );
    this.addSettingTab(new SettingsTab(this.app, this));
    this.addCommands();
    this.registerEvent(
      this.app.workspace.on("editor-menu", (menu, editor, view) => {
        if (view instanceof import_obsidian16.MarkdownView && view.file) {
          this.extractionEngine.registerContextMenu(menu, editor, view.file);
        }
      })
    );
    this.addRibbonIcon("layout-list", "Open Learning Overview(Sidebar)", () => {
      this.activateSidebarOverview();
    });
    this.addRibbonIcon("layers", "Start Review", () => {
      if (!this.unlockSystem.tryUseFeature("review-page", "Start Review")) {
        return;
      }
      this.activateReview();
    });
    this.setupStatusBar();
    this.analyticsEngine = new AnalyticsEngine(this);
    console.log("Learning System Plugin loaded");
  }
  onunload() {
    console.log("Unloading Learning System Plugin");
    const styleEl = document.getElementById("learning-overview-styles");
    if (styleEl) {
      styleEl.remove();
    }
  }
  async loadSettings() {
    const data = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, data);
    this.detectAndSetLanguage();
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  addCommands() {
    this.addCommand({
      id: "scan-current-file",
      name: "Scan current file for content",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("scan-file", "Scan Current File")) {
          return;
        }
        const activeFile = this.app.workspace.getActiveFile();
        if (!activeFile)
          return;
        await this.extractionEngine.scanFile(activeFile);
        this.refreshOverview();
      }
    });
    this.addCommand({
      id: "scan-vault",
      name: "Scan entire vault",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("scan-vault", "Scan Entire Vault")) {
          return;
        }
        await this.extractionEngine.scanVault();
        this.refreshOverview();
      }
    });
    this.addCommand({
      id: "open-overview",
      name: "Open Learning Overview(Sidebar)",
      callback: () => {
        this.activateSidebarOverview();
      }
    });
    this.addCommand({
      id: "open-main-overview",
      name: "Toggle Learning Overview (Main View)",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("open-main- overview", "Toggle Learning Overview (Main View)")) {
          return;
        }
        await this.toggleMainView();
      }
    });
    this.addCommand({
      id: "add-file-annotation",
      name: "Add file annotation",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("annotation", "File Annotation")) {
          return;
        }
        const activeFile = this.app.workspace.getActiveFile();
        if (!activeFile)
          return;
        const { FileAnnotationModal: FileAnnotationModal2 } = await Promise.resolve().then(() => (init_AnnotationModal(), AnnotationModal_exports));
        const modal = new FileAnnotationModal2(
          this.app,
          this,
          activeFile.path,
          () => this.refreshOverview()
        );
        modal.open();
      }
    });
    this.addCommand({
      id: "start-review",
      name: "Start flashcard review",
      callback: () => {
        if (!this.unlockSystem.tryUseFeature("review-page", "Flashcard Review")) {
          return;
        }
        this.activateReview();
      }
    });
    this.addCommand({
      id: "show-stats",
      name: "Show flashcard statistics",
      callback: () => {
        if (!this.unlockSystem.tryUseFeature("stats-page", "Statistics")) {
          return;
        }
        this.activateStats();
      }
    });
    this.addCommand({
      id: "show-recently-deleted",
      name: "Show recently deleted items",
      callback: async () => {
        this.openRecentlyDeletedModal();
      }
    });
  }
  async openRecentlyDeletedModal() {
    const modal = new RecentlyDeletedModal(this);
    modal.open();
  }
  async activateMainView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0];
    if (!leaf) {
      leaf = workspace.getLeaf("tab");
      await leaf.setViewState({
        type: VIEW_TYPE_MAIN_OVERVIEW,
        active: true
      });
    }
    workspace.revealLeaf(leaf);
  }
  async toggleMainView() {
    const { workspace } = this.app;
    const existingLeaves = workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW);
    const activeLeaf = workspace.activeLeaf;
    const isMainOverviewActive = activeLeaf && activeLeaf.view.getViewType() === VIEW_TYPE_MAIN_OVERVIEW;
    if (existingLeaves.length > 0 && isMainOverviewActive) {
      existingLeaves.forEach((leaf) => {
        leaf.detach();
      });
    } else if (existingLeaves.length > 0 && !isMainOverviewActive) {
      workspace.revealLeaf(existingLeaves[0]);
    } else {
      const leaf = workspace.getLeaf("tab");
      await leaf.setViewState({
        type: VIEW_TYPE_MAIN_OVERVIEW,
        active: true
      });
      workspace.revealLeaf(leaf);
    }
  }
  async activateSidebarOverview() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_SIDEBAR_OVERVIEW,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async activateReview() {
    const stats = this.flashcardManager.getStats();
    if (stats.due === 0) {
      new import_obsidian16.Notice("No cards due for review!");
      return;
    }
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_REVIEW);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getLeaf(true);
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_REVIEW,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async activateStats() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_STATS);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getLeaf("tab");
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_STATS,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  refreshOverview() {
    const sidebarLeaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW);
    sidebarLeaves.forEach((leaf) => {
      const view = leaf.view;
      if (view && typeof view.refresh === "function") {
        view.refresh();
      }
    });
    const mainLeaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW);
    mainLeaves.forEach((leaf) => {
      const view = leaf.view;
      if (view && typeof view.refresh === "function") {
        view.refresh();
      }
    });
  }
  setupStatusBar() {
    const statusBarItem = this.addStatusBarItem();
    statusBarItem.addClass("learning-system-status");
    const updateStatus = () => {
      const stats = this.flashcardManager.getStats();
      statusBarItem.setText(`\u{1F0CF} ${stats.due} due`);
      statusBarItem.title = `${stats.due} cards due for review
${stats.new} new cards`;
    };
    updateStatus();
    this.registerInterval(
      window.setInterval(updateStatus, 6e4)
    );
    statusBarItem.addEventListener("click", () => {
      this.activateReview();
    });
  }
  // 辅助方法：检查视图是否激活
  isSidebarOverviewActive() {
    return this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW).length > 0;
  }
  isMainOverviewActive() {
    return this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW).length > 0;
  }
  detectAndSetLanguage() {
    const obsidianLang = this.app.vault.getConfig("language") || localStorage.getItem("language") || "en";
    const detectedLang = obsidianLang.startsWith("zh") ? "zh-CN" : "en";
    if (!this.settings.language || this.settings.language !== detectedLang) {
      this.settings.language = detectedLang;
      this.saveSettings();
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3VpL3ZpZXcvQW5ub3RhdGlvbk1vZGFsLnRzIiwgInNyYy9tYWluLnRzIiwgInNyYy91aS92aWV3L1NldHRpbmdzVGFiLnRzIiwgInNyYy91aS9zdHlsZS9zaWRlYmFyU3R5bGUudHMiLCAic3JjL3VpL3N0eWxlL3Jldmlld1N0eWxlLnRzIiwgInNyYy9pMThuL3RyYW5zbGF0aW9ucy50cyIsICJzcmMvY29yZS9RdWlja0ZsYXNoY2FyZENyZWF0b3IudHMiLCAic3JjL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldy50cyIsICJzcmMvdWkvc3RhdHMvVmlld1N0YXRlLnRzIiwgInNyYy91aS9jb21wb25lbnRzL1Rvb2xiYXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvQmF0Y2hBY3Rpb25zLnRzIiwgInNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRDYXJkLnRzIiwgInNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzIiwgInNyYy91aS9jb21wb25lbnRzL0Fubm90YXRpb25FZGl0b3IudHMiLCAic3JjL3VpL3NlcnZpY2Uvc2lkZU92ZXJ2aWV3U2VydmljZS50cyIsICJzcmMvdWkvY29tcG9uZW50cy9tb2RhbHMvTWFudWFsRmxhc2hjYXJkTW9kYWwudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvbW9kYWxzL0VkaXRGbGFzaGNhcmRNb2RhbC50cyIsICJzcmMvdWkvY29tcG9uZW50cy9Db250ZXh0TWVudUJ1aWxkZXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvbW9kYWxzL0JhdGNoQ3JlYXRlTW9kYWwudHMiLCAic3JjL2NvcmUvVW5sb2NrU3lzdGVtLnRzIiwgInNyYy91aS92aWV3L1Jldmlld1ZpZXcudHMiLCAic3JjL2NvcmUvQ2FyZFNjaGVkdWxlci50cyIsICJzcmMvdWkvY29tcG9uZW50cy9tb2RhbHMvRmxhc2hjYXJkRWRpdE1vZGFsLnRzIiwgInNyYy91aS9zdGF0cy9yZXZpZXdTdGF0ZU1hbmFnZXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvVGFibGVSZW5kZXJlci50cyIsICJzcmMvdWkvY29tcG9uZW50cy9yZXZpZXdDYXJkUmVuZGVyLnRzIiwgInNyYy91aS92aWV3L1N0YXRzVmlldy50cyIsICJzcmMvY29yZS9BbmFseXRpY3NFbmdpbmUudHMiLCAic3JjL2NvcmUvRGF0YU1hbmFnZXIudHMiLCAic3JjL2NvcmUvRXh0cmFjdGlvbkVuZ2luZS50cyIsICJzcmMvY29yZS9Bbm5vdGF0aW9uTWFuYWdlci50cyIsICJzcmMvY29yZS9GbGFzaGNhcmRNYW5hZ2VyLnRzIiwgInNyYy91aS92aWV3L1JlY2VudGx5RGVsZXRlZFZpZXcudHMiLCAic3JjL3VpL3N0eWxlL3JlY2VudGx5RGVsZXRlZFN0eWxlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBhbm5vdGF0aW9uTW9kYWwudHNcbmltcG9ydCB7IEFwcCwgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvQW5ub3RhdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBjb250ZW50VW5pdDogQ29udGVudFVuaXQ7XG4gIHByaXZhdGUgZXhpc3RpbmdBbm5vdGF0aW9uPzogQW5ub3RhdGlvbjtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uVGV4dDogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgYmFkZ2VUZXh0OiBzdHJpbmcgPSAnJztcbiAgcHJpdmF0ZSBiYWRnZUNvbG9yOiBzdHJpbmcgPSAnIzVCOUJENSc7XG4gIHByaXZhdGUgb25TYXZlOiAoYW5ub3RhdGlvbjogQW5ub3RhdGlvbikgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sXG4gICAgY29udGVudFVuaXQ6IENvbnRlbnRVbml0LFxuICAgIG9uU2F2ZTogKGFubm90YXRpb246IEFubm90YXRpb24pID0+IHZvaWRcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLmNvbnRlbnRVbml0ID0gY29udGVudFVuaXQ7XG4gICAgdGhpcy5vblNhdmUgPSBvblNhdmU7XG5cbiAgICAvLyBcdTUyQTBcdThGN0RcdTczQjBcdTY3MDlcdTYyNzlcdTZDRThcbiAgICB0aGlzLmV4aXN0aW5nQW5ub3RhdGlvbiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKFxuICAgICAgY29udGVudFVuaXQuaWRcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uKSB7XG4gICAgICB0aGlzLmFubm90YXRpb25UZXh0ID0gdGhpcy5leGlzdGluZ0Fubm90YXRpb24uY29udGVudDtcbiAgICAgIGlmICh0aGlzLmV4aXN0aW5nQW5ub3RhdGlvbi5iYWRnZSkge1xuICAgICAgICB0aGlzLmJhZGdlVGV4dCA9IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmJhZGdlLnRleHQ7XG4gICAgICAgIHRoaXMuYmFkZ2VDb2xvciA9IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmJhZGdlLmNvbG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2Fubm90YXRpb24tbW9kYWwnKTtcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyBcbiAgICAgIHRleHQ6IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uID8gJ0VkaXQgQW5ub3RhdGlvbicgOiAnQWRkIEFubm90YXRpb24nIFxuICAgIH0pO1xuXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU1MzlGXHU2NTg3XHU1MTg1XHU1QkI5XG4gICAgY29uc3QgY29udGVudFByZXZpZXcgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYW5ub3RhdGlvbi1jb250ZW50LXByZXZpZXcnIH0pO1xuICAgIGNvbnRlbnRQcmV2aWV3LmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NvbnRlbnQ6JyB9KTtcbiAgICBjb250ZW50UHJldmlldy5jcmVhdGVFbCgnYmxvY2txdW90ZScsIHsgdGV4dDogdGhpcy5jb250ZW50VW5pdC5jb250ZW50IH0pO1xuXG4gICAgLy8gXHU2Mjc5XHU2Q0U4XHU2NTg3XHU2NzJDXHU1MzNBXHU1N0RGXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoJ0Fubm90YXRpb24nKVxuICAgICAgLnNldERlc2MoJ0FkZCB5b3VyIG5vdGVzIG9yIGNvbW1lbnRzIGFib3V0IHRoaXMgY29udGVudCcpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHlvdXIgYW5ub3RhdGlvbiBoZXJlLi4uJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5hbm5vdGF0aW9uVGV4dClcbiAgICAgICAgICAub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9uVGV4dCA9IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSA2O1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcblxuICAgIC8vIFx1ODlEMlx1NjgwN1x1OEJCRVx1N0Y2RVxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdCYWRnZSAoT3B0aW9uYWwpJyB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgIC5zZXROYW1lKCdCYWRnZSB0ZXh0JylcbiAgICAgIC5zZXREZXNjKCdTaG9ydCB0ZXh0IHRvIGRpc3BsYXkgYXMgYSBiYWRnZSAoZS5nLiwgXHUyMDFDSW1wb3J0YW50XHUyMDFELCBcdTIwMUNUbyBSZXZpZXdcdTIwMURcIiknKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdCYWRnZSB0ZXh0JylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5iYWRnZVRleHQpXG4gICAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmFkZ2VUZXh0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhZGdlUHJldmlldygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoJ0JhZGdlIGNvbG9yJylcbiAgICAgIC5zZXREZXNjKCdDaG9vc2UgYSBjb2xvciBmb3IgdGhlIGJhZGdlJylcbiAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG4gICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgLmFkZE9wdGlvbignIzVCOUJENScsICdcdUQ4M0RcdUREMzUgQmx1ZScpXG4gICAgICAgICAgLmFkZE9wdGlvbignIzcwQUQ0NycsICdcdUQ4M0RcdURGRTIgR3JlZW4nKVxuICAgICAgICAgIC5hZGRPcHRpb24oJyNGRkMwMDAnLCAnXHVEODNEXHVERkUxIFllbGxvdycpXG4gICAgICAgICAgLmFkZE9wdGlvbignI0ZGNkI2QicsICdcdUQ4M0RcdUREMzQgUmVkJylcbiAgICAgICAgICAuYWRkT3B0aW9uKCcjQzc4QkZGJywgJ1x1RDgzRFx1REZFMyBQdXJwbGUnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJyNGRjlGNDMnLCAnXHVEODNEXHVERkUwIE9yYW5nZScpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuYmFkZ2VDb2xvcilcbiAgICAgICAgICAub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5iYWRnZUNvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhZGdlUHJldmlldygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAvLyBcdTg5RDJcdTY4MDdcdTk4ODRcdTg5QzhcbiAgICBjb25zdCBiYWRnZVByZXZpZXcgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYmFkZ2UtcHJldmlldy1jb250YWluZXInIH0pO1xuICAgIGJhZGdlUHJldmlldy5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogJ1ByZXZpZXc6ICcsIGNsczogJ3ByZXZpZXctbGFiZWwnIH0pO1xuICAgIGNvbnN0IGJhZGdlRWwgPSBiYWRnZVByZXZpZXcuY3JlYXRlRWwoJ3NwYW4nLCB7IGNsczogJ2JhZGdlLXByZXZpZXcnIH0pO1xuICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwgPSBiYWRnZUVsO1xuICAgIHRoaXMudXBkYXRlQmFkZ2VQcmV2aWV3KCk7XG5cbiAgICAvLyBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cbiAgICAvLyBcdTUyMjBcdTk2NjRcdTYzMDlcdTk0QUVcdUZGMDhcdTU5ODJcdTY3OUNcdTY2MkZcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICBpZiAodGhpcy5leGlzdGluZ0Fubm90YXRpb24pIHtcbiAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgICAgdGV4dDogJ0RlbGV0ZScsXG4gICAgICAgIGNsczogJ21vZC13YXJuaW5nJ1xuICAgICAgfSk7XG4gICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlQW5ub3RhdGlvbigpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnIH0pO1xuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNhdmVCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAnU2F2ZScsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnNhdmVBbm5vdGF0aW9uKCk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTY4MzdcdTVGMEZcbiAgICB0aGlzLmFkZFN0eWxlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBiYWRnZVByZXZpZXdFbDogSFRNTEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB1cGRhdGVCYWRnZVByZXZpZXcoKSB7XG4gICAgaWYgKCF0aGlzLmJhZGdlUHJldmlld0VsKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5iYWRnZVRleHQpIHtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwudGV4dENvbnRlbnQgPSB0aGlzLmJhZGdlVGV4dDtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWRnZUNvbG9yO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwudGV4dENvbnRlbnQgPSAnTm8gYmFkZ2UnO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzYXZlQW5ub3RhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuYW5ub3RhdGlvblRleHQudHJpbSgpKSB7XG4gICAgICBuZXcgTm90aWNlKCdQbGVhc2UgZW50ZXIgYW5ub3RhdGlvbiB0ZXh0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBhbm5vdGF0aW9uOiBBbm5vdGF0aW9uO1xuXG4gICAgICBpZiAodGhpcy5leGlzdGluZ0Fubm90YXRpb24pIHtcbiAgICAgICAgLy8gXHU2NkY0XHU2NUIwXHU3M0IwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLnVwZGF0ZUFubm90YXRpb24oXG4gICAgICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb24uaWQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29udGVudDogdGhpcy5hbm5vdGF0aW9uVGV4dCxcbiAgICAgICAgICAgIGJhZGdlOiB0aGlzLmJhZGdlVGV4dCA/IHtcbiAgICAgICAgICAgICAgdGV4dDogdGhpcy5iYWRnZVRleHQsXG4gICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmJhZGdlQ29sb3JcbiAgICAgICAgICAgIH0gOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRBbm5vdGF0aW9uKFxuICAgICAgICAgIHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmlkXG4gICAgICAgICkhO1xuICAgICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIHVwZGF0ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NjI3OVx1NkNFOFxuICAgICAgICBhbm5vdGF0aW9uID0gYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuYWRkQ29udGVudEFubm90YXRpb24oXG4gICAgICAgICAgdGhpcy5jb250ZW50VW5pdC5pZCxcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25UZXh0LFxuICAgICAgICAgIHRoaXMuYmFkZ2VUZXh0ID8ge1xuICAgICAgICAgICAgdGV4dDogdGhpcy5iYWRnZVRleHQsXG4gICAgICAgICAgICBjb2xvcjogdGhpcy5iYWRnZUNvbG9yXG4gICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICApO1xuICAgICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGFkZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub25TYXZlKGFubm90YXRpb24pO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBzYXZpbmcgYW5ub3RhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlQW5ub3RhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbihcbiAgICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb24uaWRcbiAgICAgICk7XG4gICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGRlbGV0ZWQnKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMub25TYXZlKG51bGwgYXMgYW55KTsgLy8gXHU5MDFBXHU3N0U1XHU1MjIwXHU5NjY0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGFubm90YXRpb246JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnRXJyb3IgZGVsZXRpbmcgYW5ub3RhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBgXG4gICAgICAuYW5ub3RhdGlvbi1tb2RhbCB7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbm5vdGF0aW9uLWNvbnRlbnQtcHJldmlldyB7XG4gICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIH1cblxuICAgICAgLmFubm90YXRpb24tY29udGVudC1wcmV2aWV3IGgzIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICAuYW5ub3RhdGlvbi1jb250ZW50LXByZXZpZXcgYmxvY2txdW90ZSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC5iYWRnZS1wcmV2aWV3LWNvbnRhaW5lciB7XG4gICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIH1cblxuICAgICAgLnByZXZpZXctbGFiZWwge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgIH1cblxuICAgICAgLmJhZGdlLXByZXZpZXcge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLm1vZGFsLWJ1dHRvbi1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5tb2RhbC1idXR0b24tY29udGFpbmVyIGJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICBgO1xuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBcdTY1ODdcdTRFRjZcdTYyNzlcdTZDRThcdTZBMjFcdTYwMDFcdTY4NDZcbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVBbm5vdGF0aW9uTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgZmlsZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBleGlzdGluZ0Fubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uVGV4dDogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgb25TYXZlOiAoKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbixcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIG9uU2F2ZTogKCkgPT4gdm9pZFxuICApIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMuZmlsZVBhdGggPSBmaWxlUGF0aDtcbiAgICB0aGlzLm9uU2F2ZSA9IG9uU2F2ZTtcblxuICAgIC8vIFx1NTJBMFx1OEY3RFx1NzNCMFx1NjcwOVx1NjI3OVx1NkNFOFxuICAgIHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9ucyA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldEZpbGVBbm5vdGF0aW9ucyhmaWxlUGF0aCk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0ZpbGUgQW5ub3RhdGlvbnMnIH0pO1xuXG4gICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLmZpbGVQYXRoLnNwbGl0KCcvJykucG9wKCk/LnJlcGxhY2UoJy5tZCcsICcnKSB8fCB0aGlzLmZpbGVQYXRoO1xuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiBgRmlsZTogJHtmaWxlTmFtZX1gLFxuICAgICAgY2xzOiAnZmlsZS1uYW1lJ1xuICAgIH0pO1xuXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU3M0IwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAgaWYgKHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBleGlzdGluZ1NlY3Rpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZXhpc3RpbmctYW5ub3RhdGlvbnMnIH0pO1xuICAgICAgZXhpc3RpbmdTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0V4aXN0aW5nIEFubm90YXRpb25zJyB9KTtcblxuICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb25zLmZvckVhY2goYW5ub3RhdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25DYXJkID0gZXhpc3RpbmdTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2Fubm90YXRpb24tY2FyZCcgfSk7XG4gICAgICAgIGFubm90YXRpb25DYXJkLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBhbm5vdGF0aW9uLmNvbnRlbnQgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYW5ub3RhdGlvbi5tZXRhZGF0YS5jcmVhdGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgICAgICBhbm5vdGF0aW9uQ2FyZC5jcmVhdGVFbCgnc21hbGwnLCB7IFxuICAgICAgICAgIHRleHQ6IGBDcmVhdGVkOiAke2RhdGV9YCxcbiAgICAgICAgICBjbHM6ICdhbm5vdGF0aW9uLWRhdGUnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGFubm90YXRpb25DYXJkLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgdGV4dDogJ1x1RDgzRFx1REREMSBEZWxldGUnLFxuICAgICAgICAgIGNsczogJ2RlbGV0ZS1hbm5vdGF0aW9uLWJ0bidcbiAgICAgICAgfSk7XG4gICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUFubm90YXRpb24oYW5ub3RhdGlvbi5pZCk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIHRoaXMub25TYXZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gXHU2NUIwXHU2Mjc5XHU2Q0U4XHU4RjkzXHU1MTY1XG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0FkZCBOZXcgQW5ub3RhdGlvbicgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSgnQW5ub3RhdGlvbicpXG4gICAgICAuc2V0RGVzYygnQWRkIG5vdGVzIGFib3V0IHRoaXMgZmlsZScpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGZpbGUgYW5ub3RhdGlvbi4uLicpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuYW5ub3RhdGlvblRleHQpXG4gICAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYW5ub3RhdGlvblRleHQgPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRleHQuaW5wdXRFbC5yb3dzID0gNDtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgfSk7XG5cbiAgICAvLyBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cbiAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc2F2ZUJ0biA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgIHRleHQ6ICdTYXZlJyxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZUFubm90YXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2F2ZUFubm90YXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLmFubm90YXRpb25UZXh0LnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIGVudGVyIGFubm90YXRpb24gdGV4dCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5hZGRGaWxlQW5ub3RhdGlvbihcbiAgICAgICAgdGhpcy5maWxlUGF0aCxcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uVGV4dFxuICAgICAgKTtcbiAgICAgIG5ldyBOb3RpY2UoJ0ZpbGUgYW5ub3RhdGlvbiBhZGRlZCcpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy5vblNhdmUoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGZpbGUgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBzYXZpbmcgZmlsZSBhbm5vdGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVBbm5vdGF0aW9uKGlkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbihpZCk7XG4gICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGRlbGV0ZWQnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBkZWxldGluZyBhbm5vdGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBtYWluLnRzXG5pbXBvcnQgeyBQbHVnaW4sIFRGaWxlLCBXb3Jrc3BhY2VMZWFmLCBOb3RpY2UsIE1hcmtkb3duVmlldyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFNldHRpbmdzVGFiIH0gZnJvbSAnLi91aS92aWV3L1NldHRpbmdzVGFiJztcbmltcG9ydCB7IFNpZGViYXJPdmVydmlld1ZpZXcsIFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXLCBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyAgfSBmcm9tICcuL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldyc7XG5pbXBvcnQgeyBSZXZpZXdWaWV3LCBWSUVXX1RZUEVfUkVWSUVXIH0gZnJvbSAnLi91aS92aWV3L1Jldmlld1ZpZXcnO1xuaW1wb3J0IHsgU3RhdHNWaWV3LCBWSUVXX1RZUEVfU1RBVFMgfSBmcm9tICcuL3VpL3ZpZXcvU3RhdHNWaWV3JztcbmltcG9ydCB7IERhdGFNYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEV4dHJhY3Rpb25FbmdpbmUgfSBmcm9tICcuL2NvcmUvRXh0cmFjdGlvbkVuZ2luZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uTWFuYWdlciB9IGZyb20gJy4vY29yZS9Bbm5vdGF0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmRNYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgQW5hbHl0aWNzRW5naW5lLEN5Y2xlSW5mbyB9IGZyb20gJy4vY29yZS9BbmFseXRpY3NFbmdpbmUnO1xuaW1wb3J0IHsgVW5sb2NrU3lzdGVtIH0gZnJvbSAnLi9jb3JlL1VubG9ja1N5c3RlbSc7XG5pbXBvcnQgeyBWaWV3U3RhdGUgfSBmcm9tICcuL3VpL3N0YXRzL1ZpZXdTdGF0ZSc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi9pMThuL3RyYW5zbGF0aW9ucydcbmltcG9ydCB7IFJlY2VudGx5RGVsZXRlZE1vZGFsIH0gZnJvbSAnLi91aS92aWV3L1JlY2VudGx5RGVsZXRlZFZpZXcnO1xuXG5cbmludGVyZmFjZSBMZWFybmluZ1N5c3RlbVNldHRpbmdzIHtcbiAgZXh0cmFjdGlvbkVuYWJsZWQ6IGJvb2xlYW47XG4gIGF1dG9TY2FuOiBib29sZWFuO1xuICBkZWZhdWx0RGVjazogc3RyaW5nO1xuICBjeWNsZURhdGE/OiBDeWNsZUluZm87XG4gIGxhbmd1YWdlPzogJ2VuJyB8ICd6aC1DTic7IFxufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBMZWFybmluZ1N5c3RlbVNldHRpbmdzID0ge1xuICBleHRyYWN0aW9uRW5hYmxlZDogdHJ1ZSxcbiAgYXV0b1NjYW46IGZhbHNlLFxuICBkZWZhdWx0RGVjazogJ0RlZmF1bHQnLFxuICBjeWNsZURhdGE6IHVuZGVmaW5lZFxuICAgIC8vIGxhbmd1YWdlOiAnZW4nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZWFybmluZ1N5c3RlbVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBMZWFybmluZ1N5c3RlbVNldHRpbmdzO1xuICBkYXRhTWFuYWdlcjogRGF0YU1hbmFnZXI7XG4gIGV4dHJhY3Rpb25FbmdpbmU6IEV4dHJhY3Rpb25FbmdpbmU7XG4gIGFubm90YXRpb25NYW5hZ2VyOiBBbm5vdGF0aW9uTWFuYWdlcjtcbiAgZmxhc2hjYXJkTWFuYWdlcjogRmxhc2hjYXJkTWFuYWdlcjtcbiAgYW5hbHl0aWNzRW5naW5lOiBBbmFseXRpY3NFbmdpbmU7XG4gIHVubG9ja1N5c3RlbTogVW5sb2NrU3lzdGVtO1xuXG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIExlYXJuaW5nIFN5c3RlbSBQbHVnaW4nKTtcbiAgXG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICB0aGlzLmRldGVjdEFuZFNldExhbmd1YWdlKCk7XG4gIFxuICAgIC8vIFx1RDgzRFx1REQyNSAxLiBcdTY3MDBcdTRGMThcdTUxNDg6XHU1MjFEXHU1OUNCXHU1MzE2XHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXG4gICAgdGhpcy51bmxvY2tTeXN0ZW0gPSBuZXcgVW5sb2NrU3lzdGVtKHRoaXMuYXBwLCB0aGlzKTtcbiAgICBhd2FpdCB0aGlzLnVubG9ja1N5c3RlbS5pbml0aWFsaXplKCk7XG4gIFxuICAgIC8vIDIuIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjgzOFx1NUZDM1x1NkEyMVx1NTc1N1xuICAgIHRoaXMuZGF0YU1hbmFnZXIgPSBuZXcgRGF0YU1hbmFnZXIodGhpcy5hcHAsIHRoaXMpO1xuICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICBcbiAgICB0aGlzLmFubm90YXRpb25NYW5hZ2VyID0gbmV3IEFubm90YXRpb25NYW5hZ2VyKHRoaXMuYXBwLCB0aGlzKTtcbiAgICBhd2FpdCB0aGlzLmFubm90YXRpb25NYW5hZ2VyLmluaXRpYWxpemUoKTtcbiAgXG4gICAgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyID0gbmV3IEZsYXNoY2FyZE1hbmFnZXIoXG4gICAgICB0aGlzLmFwcCxcbiAgICAgIHRoaXMuZGF0YU1hbmFnZXIsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLmZsYXNoY2FyZE1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICBcbiAgICB0aGlzLmV4dHJhY3Rpb25FbmdpbmUgPSBuZXcgRXh0cmFjdGlvbkVuZ2luZShcbiAgICAgIHRoaXMuYXBwLFxuICAgICAgdGhpcy5kYXRhTWFuYWdlcixcbiAgICAgIHRoaXMuZmxhc2hjYXJkTWFuYWdlcixcbiAgICAgIHRoaXNcbiAgICApO1xuICBcbiAgICAvLyAzLiBcdTZDRThcdTUxOENcdTg5QzZcdTU2RkVcbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhcbiAgICAgIFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXLFxuICAgICAgKGxlYWYpID0+IG5ldyBTaWRlYmFyT3ZlcnZpZXdWaWV3KGxlYWYsIHRoaXMsIGZhbHNlKVxuICAgICk7XG4gICAgXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgIChsZWFmKSA9PiBuZXcgU2lkZWJhck92ZXJ2aWV3VmlldyhsZWFmLCB0aGlzLCB0cnVlKVxuICAgICk7XG4gIFxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxuICAgICAgVklFV19UWVBFX1JFVklFVyxcbiAgICAgIChsZWFmKSA9PiBuZXcgUmV2aWV3VmlldyhsZWFmLCB0aGlzKVxuICAgICk7XG4gIFxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxuICAgICAgVklFV19UWVBFX1NUQVRTLFxuICAgICAgKGxlYWYpID0+IG5ldyBTdGF0c1ZpZXcobGVhZiwgdGhpcylcbiAgICApO1xuXG5cbnRoaXMucmVnaXN0ZXJFdmVudChcbiAgdGhpcy5hcHAudmF1bHQub24oJ2RlbGV0ZScsIGFzeW5jIChmaWxlKSA9PiB7XG4gICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLmV4dGVuc2lvbiA9PT0gJ21kJykge1xuICAgICAgY29uc3Qgc3RhdHMgPSBWaWV3U3RhdGUuZ2V0RmlsZURlbGV0ZVN0YXRzKGZpbGUucGF0aCwgdGhpcyk7XG4gICAgICBcbiAgICAgIGlmIChzdGF0cy5ub3RlcyA+IDAgfHwgc3RhdHMuY2FyZHMgPiAwKSB7XG4gICAgICAgIC8vIFx1MjcwNSBcdTc2RjRcdTYzQTVcdTUyMjBcdTk2NjRcdUZGMENcdTRFMERcdTVGMzlcdTdBOTdcbiAgICAgICAgY29uc3QgdW5pdHMgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpXG4gICAgICAgICAgLmZpbHRlcih1ID0+IHUuc291cmNlLmZpbGUgPT09IGZpbGUucGF0aCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IHVuaXQgb2YgdW5pdHMpIHtcbiAgICAgICAgICAvLyBcdTUyMjBcdTk2NjRcdTUxNzNcdTgwNTRcdTc2ODRcdTk1RUFcdTUzNjFcbiAgICAgICAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiB1bml0LmZsYXNoY2FyZElkcykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZElkLCAnZmlsZS1kZWxldGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFx1NTIyMFx1OTY2NFx1N0IxNFx1OEJCMFxuICAgICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuZGVsZXRlQ29udGVudFVuaXQodW5pdC5pZCwgJ2ZpbGUtZGVsZXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdTdCODBcdTc3RURcdTYzRDBcdTc5M0FcbiAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZmlsZURlbGV0ZWRTaW1wbGUnLCB0aGlzLnNldHRpbmdzLmxhbmd1YWdlLCB7XG4gICAgICAgICAgbm90ZXM6IHN0YXRzLm5vdGVzLFxuICAgICAgICAgIGNhcmRzOiBzdGF0cy5jYXJkc1xuICAgICAgICB9KSwgMzAwMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH0pXG4pO1xuICBcbiAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG4gICAgXG4gICAgLy8gXHVEODNEXHVERDI1IDQuIFx1NzNCMFx1NTcyOFx1NjI0RFx1NkNFOFx1NTE4Q1x1NTQ3RFx1NEVFNChcdTc4NkVcdTRGREQgdW5sb2NrU3lzdGVtIFx1NURGMlx1NUMzMVx1N0VFQSlcbiAgICB0aGlzLmFkZENvbW1hbmRzKCk7XG4gIC8vIFx1RDgzQ1x1REQ5NSA0LjUgXHU2Q0U4XHU1MThDXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XG50aGlzLnJlZ2lzdGVyRXZlbnQoXG4gIHRoaXMuYXBwLndvcmtzcGFjZS5vbignZWRpdG9yLW1lbnUnLCAobWVudSwgZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgdmlldy5maWxlKSB7XG4gICAgICB0aGlzLmV4dHJhY3Rpb25FbmdpbmUucmVnaXN0ZXJDb250ZXh0TWVudShtZW51LCBlZGl0b3IsIHZpZXcuZmlsZSk7XG4gICAgfVxuICB9KVxuKTtcbiAgICAvLyA1LiBSaWJib24gXHU1NkZFXHU2ODA3KFx1NUUyNlx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNSlcbiAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2xheW91dC1saXN0JywgJ09wZW4gTGVhcm5pbmcgT3ZlcnZpZXcoU2lkZWJhciknLCAoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRlU2lkZWJhck92ZXJ2aWV3KCk7XG4gICAgfSk7XG4gIFxuICAgIHRoaXMuYWRkUmliYm9uSWNvbignbGF5ZXJzJywgJ1N0YXJ0IFJldmlldycsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgncmV2aWV3LXBhZ2UnLCAnU3RhcnQgUmV2aWV3JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5hY3RpdmF0ZVJldmlldygpO1xuICAgIH0pO1xuICBcbiAgICAvLyA2LiBcdTcyQjZcdTYwMDFcdTY4MEZcbiAgICB0aGlzLnNldHVwU3RhdHVzQmFyKCk7XG4gICAgXG4gICAgdGhpcy5hbmFseXRpY3NFbmdpbmUgPSBuZXcgQW5hbHl0aWNzRW5naW5lKHRoaXMpO1xuICBcbiAgICBjb25zb2xlLmxvZygnTGVhcm5pbmcgU3lzdGVtIFBsdWdpbiBsb2FkZWQnKTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdVbmxvYWRpbmcgTGVhcm5pbmcgU3lzdGVtIFBsdWdpbicpO1xuICAgIFxuICAgIC8vIFx1NTNFQVx1NTcyOFx1NjNEMlx1NEVGNlx1NUI4Q1x1NTE2OFx1NTM3OFx1OEY3RFx1NjVGNlx1NjI0RFx1NkUwNVx1NzQwNlx1NjI0MFx1NjcwOVx1ODlDNlx1NTZGRVxuICAgIC8vIFx1NkNFOFx1NjEwRlx1RkYxQVx1OEZEOVx1OTFDQ1x1NEUwRFx1ODk4MVx1NTIyMFx1OTY2NFx1NzI3OVx1NUI5QVx1ODlDNlx1NTZGRVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1OEJBOSBPYnNpZGlhbiBcdTgxRUFcdTVERjFcdTdCQTFcdTc0MDZcbiAgICAvLyBcdTUzRUFcdTZFMDVcdTc0MDZcdTYzRDJcdTRFRjZcdTdFQTdcdTUyMkJcdTc2ODRcdThENDRcdTZFOTBcbiAgICBcbiAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXJuaW5nLW92ZXJ2aWV3LXN0eWxlcycpO1xuICAgIGlmIChzdHlsZUVsKSB7XG4gICAgICBzdHlsZUVsLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkYXRhKTtcbiAgICBcbiAgICB0aGlzLmRldGVjdEFuZFNldExhbmd1YWdlKCk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQ29tbWFuZHMoKSB7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnc2Nhbi1jdXJyZW50LWZpbGUnLFxuICAgICAgbmFtZTogJ1NjYW4gY3VycmVudCBmaWxlIGZvciBjb250ZW50JyxcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBcdUQ4M0NcdURGQUYgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gICAgaWYgKCF0aGlzLnVubG9ja1N5c3RlbS50cnlVc2VGZWF0dXJlKCdzY2FuLWZpbGUnLCAnU2NhbiBDdXJyZW50IEZpbGUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmICghYWN0aXZlRmlsZSkgcmV0dXJuO1xuICAgICAgICBhd2FpdCB0aGlzLmV4dHJhY3Rpb25FbmdpbmUuc2NhbkZpbGUoYWN0aXZlRmlsZSk7XG4gICAgICAgIHRoaXMucmVmcmVzaE92ZXJ2aWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdzY2FuLXZhdWx0JyxcbiAgICAgIG5hbWU6ICdTY2FuIGVudGlyZSB2YXVsdCcsXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnc2Nhbi12YXVsdCcsICdTY2FuIEVudGlyZSBWYXVsdCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmV4dHJhY3Rpb25FbmdpbmUuc2NhblZhdWx0KCk7XG4gICAgICAgIHRoaXMucmVmcmVzaE92ZXJ2aWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdvcGVuLW92ZXJ2aWV3JyxcbiAgICAgIG5hbWU6ICdPcGVuIExlYXJuaW5nIE92ZXJ2aWV3KFNpZGViYXIpJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVTaWRlYmFyT3ZlcnZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ29wZW4tbWFpbi1vdmVydmlldycsXG4gICAgICBuYW1lOiAnVG9nZ2xlIExlYXJuaW5nIE92ZXJ2aWV3IChNYWluIFZpZXcpJyxcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBcdTY3NDNcdTk2NTBcdTY4QzBcdTY3RTVcbiAgICBpZiAoIXRoaXMudW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ29wZW4tbWFpbi0gb3ZlcnZpZXcnLCAnVG9nZ2xlIExlYXJuaW5nIE92ZXJ2aWV3IChNYWluIFZpZXcpJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMudG9nZ2xlTWFpblZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2FkZC1maWxlLWFubm90YXRpb24nLFxuICAgICAgbmFtZTogJ0FkZCBmaWxlIGFubm90YXRpb24nLFxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnYW5ub3RhdGlvbicsICdGaWxlIEFubm90YXRpb24nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmICghYWN0aXZlRmlsZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHsgRmlsZUFubm90YXRpb25Nb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuL3VpL3ZpZXcvQW5ub3RhdGlvbk1vZGFsJyk7XG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IEZpbGVBbm5vdGF0aW9uTW9kYWwoXG4gICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBhY3RpdmVGaWxlLnBhdGgsXG4gICAgICAgICAgKCkgPT4gdGhpcy5yZWZyZXNoT3ZlcnZpZXcoKVxuICAgICAgICApO1xuICAgICAgICBtb2RhbC5vcGVuKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdzdGFydC1yZXZpZXcnLFxuICAgICAgbmFtZTogJ1N0YXJ0IGZsYXNoY2FyZCByZXZpZXcnLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBcdTY3NDNcdTk2NTBcdTY4QzBcdTY3RTVcbiAgICBpZiAoIXRoaXMudW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ3Jldmlldy1wYWdlJywgJ0ZsYXNoY2FyZCBSZXZpZXcnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmF0ZVJldmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnc2hvdy1zdGF0cycsXG4gICAgICBuYW1lOiAnU2hvdyBmbGFzaGNhcmQgc3RhdGlzdGljcycsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnc3RhdHMtcGFnZScsICdTdGF0aXN0aWNzJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZVN0YXRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnc2hvdy1yZWNlbnRseS1kZWxldGVkJyxcbiAgICAgIG5hbWU6ICdTaG93IHJlY2VudGx5IGRlbGV0ZWQgaXRlbXMnLFxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHsgXG4gICAgICAgIHRoaXMub3BlblJlY2VudGx5RGVsZXRlZE1vZGFsKCk7ICBcbiAgICAgIH1cbiAgICBcbiAgICB9KTtcbiAgICBcbiAgfVxuICBhc3luYyBvcGVuUmVjZW50bHlEZWxldGVkTW9kYWwoKSB7XG4gICAgY29uc3QgbW9kYWwgPSBuZXcgUmVjZW50bHlEZWxldGVkTW9kYWwodGhpcyk7XG4gICAgbW9kYWwub3BlbigpO1xuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVNYWluVmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVERjJcdTdFQ0ZcdTY3MDlcdTRFM0JcdTc1NENcdTk3NjJcdTg5QzZcdTU2RkVcdTYyNTNcdTVGMDBcbiAgICBsZXQgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpWzBdO1xuICAgIFxuICAgIGlmICghbGVhZikge1xuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU2ODA3XHU3QjdFXHU5ODc1XG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuICAgICAgYXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gIH1cblxuICBhc3luYyB0b2dnbGVNYWluVmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgY29uc3QgZXhpc3RpbmdMZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXKTtcbiAgICBcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTc2ODRcdTk4NzVcdTk3NjJcdTY2MkZcdTU0MjZcdTY2MkZcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcbiAgICBjb25zdCBhY3RpdmVMZWFmID0gd29ya3NwYWNlLmFjdGl2ZUxlYWY7XG4gICAgY29uc3QgaXNNYWluT3ZlcnZpZXdBY3RpdmUgPSBhY3RpdmVMZWFmICYmIFxuICAgICAgYWN0aXZlTGVhZi52aWV3LmdldFZpZXdUeXBlKCkgPT09IFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXO1xuICAgIFxuICAgIGlmIChleGlzdGluZ0xlYXZlcy5sZW5ndGggPiAwICYmIGlzTWFpbk92ZXJ2aWV3QWN0aXZlKSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcdTZCNjNcdTU3MjhcdTY2M0VcdTc5M0FcdTRFMTRcdTY2MkZcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTk4NzVcdTk3NjJcdUZGMENcdTUyMTlcdTUxNzNcdTk1RURcdTVCODNcbiAgICAgIGV4aXN0aW5nTGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICAgIGxlYWYuZGV0YWNoKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV4aXN0aW5nTGVhdmVzLmxlbmd0aCA+IDAgJiYgIWlzTWFpbk92ZXJ2aWV3QWN0aXZlKSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcdTVCNThcdTU3MjhcdTRGNDZcdTRFMERcdTY2MkZcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTk4NzVcdTk3NjJcdUZGMENcdTUyMTlcdTZGQzBcdTZEM0JcdTVCODNcbiAgICAgIHdvcmtzcGFjZS5yZXZlYWxMZWFmKGV4aXN0aW5nTGVhdmVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1OTgyXHU2NzlDXHU0RTNCXHU3NTRDXHU5NzYyXHU2QTIxXHU1RjBGXHU0RTBEXHU1QjU4XHU1NzI4XHVGRjBDXHU1MjE5XHU1MjFCXHU1RUZBXHU1RTc2XHU2NjNFXHU3OTNBXG4gICAgICBjb25zdCBsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuICAgICAgYXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVNpZGViYXJPdmVydmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgXG4gICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXKTtcblxuICAgIGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1NzI4XHU1M0YzXHU0RkE3XHU4RkI5XHU2ODBGXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU4OUM2XHU1NkZFXG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICBhd2FpdCBsZWFmPy5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGVhZikge1xuICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVSZXZpZXcoKSB7XG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLmZsYXNoY2FyZE1hbmFnZXIuZ2V0U3RhdHMoKTtcbiAgICBcbiAgICBpZiAoc3RhdHMuZHVlID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKCdObyBjYXJkcyBkdWUgZm9yIHJldmlldyEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9SRVZJRVcpO1xuXG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICBsZWFmID0gbGVhdmVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG4gICAgICBhd2FpdCBsZWFmPy5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfUkVWSUVXLFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChsZWFmKSB7XG4gICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVN0YXRzKCkge1xuICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcbiAgICBsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NUQVRTKTtcblxuICAgIGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcbiAgICAgIGF3YWl0IGxlYWY/LnNldFZpZXdTdGF0ZSh7XG4gICAgICAgIHR5cGU6IFZJRVdfVFlQRV9TVEFUUyxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGVhZikge1xuICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaE92ZXJ2aWV3KCkge1xuICAgIC8vIFx1NTIzN1x1NjVCMFx1NEZBN1x1OEZCOVx1NjgwRlx1ODlDNlx1NTZGRVxuICAgIGNvbnN0IHNpZGViYXJMZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXKTtcbiAgICBzaWRlYmFyTGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICBjb25zdCB2aWV3ID0gbGVhZi52aWV3IGFzIFNpZGViYXJPdmVydmlld1ZpZXc7XG4gICAgICBpZiAodmlldyAmJiB0eXBlb2Ygdmlldy5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZpZXcucmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTUyMzdcdTY1QjBcdTRFM0JcdTc1NENcdTk3NjJcdTg5QzZcdTU2RkVcbiAgICBjb25zdCBtYWluTGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyk7XG4gICAgbWFpbkxlYXZlcy5mb3JFYWNoKGxlYWYgPT4ge1xuICAgICAgY29uc3QgdmlldyA9IGxlYWYudmlldyBhcyBTaWRlYmFyT3ZlcnZpZXdWaWV3O1xuICAgICAgaWYgKHZpZXcgJiYgdHlwZW9mIHZpZXcucmVmcmVzaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2aWV3LnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBTdGF0dXNCYXIoKSB7XG4gICAgY29uc3Qgc3RhdHVzQmFySXRlbSA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuICAgIHN0YXR1c0Jhckl0ZW0uYWRkQ2xhc3MoJ2xlYXJuaW5nLXN5c3RlbS1zdGF0dXMnKTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVTdGF0dXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0cyA9IHRoaXMuZmxhc2hjYXJkTWFuYWdlci5nZXRTdGF0cygpO1xuICAgICAgc3RhdHVzQmFySXRlbS5zZXRUZXh0KGBcdUQ4M0NcdURDQ0YgJHtzdGF0cy5kdWV9IGR1ZWApO1xuICAgICAgc3RhdHVzQmFySXRlbS50aXRsZSA9IGAke3N0YXRzLmR1ZX0gY2FyZHMgZHVlIGZvciByZXZpZXdcXG4ke3N0YXRzLm5ld30gbmV3IGNhcmRzYDtcbiAgICB9O1xuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU2NkY0XHU2NUIwXG4gICAgdXBkYXRlU3RhdHVzKCk7XG5cbiAgICAvLyBcdTZCQ0ZcdTUyMDZcdTk0OUZcdTY2RjRcdTY1QjBcdTRFMDBcdTZCMjFcbiAgICB0aGlzLnJlZ2lzdGVySW50ZXJ2YWwoXG4gICAgICB3aW5kb3cuc2V0SW50ZXJ2YWwodXBkYXRlU3RhdHVzLCA2MDAwMClcbiAgICApO1xuXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU2MjUzXHU1RjAwXHU1OTBEXHU0RTYwXG4gICAgc3RhdHVzQmFySXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuYWN0aXZhdGVSZXZpZXcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENVx1RkYxQVx1NjhDMFx1NjdFNVx1ODlDNlx1NTZGRVx1NjYyRlx1NTQyNlx1NkZDMFx1NkQzQlxuICBwdWJsaWMgaXNTaWRlYmFyT3ZlcnZpZXdBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBwdWJsaWMgaXNNYWluT3ZlcnZpZXdBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpLmxlbmd0aCA+IDA7XG4gIH1cbiAgcHJpdmF0ZSBkZXRlY3RBbmRTZXRMYW5ndWFnZSgpIHtcbiAgICAvLyBcdTU5ODJcdTY3OUNcdTVERjJcdTdFQ0ZcdTY3MDlcdThCRURcdThBMDBcdThCQkVcdTdGNkUsXHU1MTQ4XHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU5NzAwXHU4OTgxXHU2NkY0XHU2NUIwXG4gICAgY29uc3Qgb2JzaWRpYW5MYW5nID0gKHRoaXMuYXBwIGFzIGFueSkudmF1bHQuZ2V0Q29uZmlnKCdsYW5ndWFnZScpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYW5ndWFnZScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgJ2VuJztcbiAgICBcbiAgICAvLyBcdTY2MjBcdTVDMDRcdTUyMzBcdTY1MkZcdTYzMDFcdTc2ODRcdThCRURcdThBMDBcbiAgICBjb25zdCBkZXRlY3RlZExhbmc6ICdlbicgfCAnemgtQ04nID0gb2JzaWRpYW5MYW5nLnN0YXJ0c1dpdGgoJ3poJykgPyAnemgtQ04nIDogJ2VuJztcbiAgICBcbiAgICAvLyBcdThCQkVcdTdGNkVcdThCRURcdThBMDAoXHU1OTgyXHU2NzlDXHU2NzJBXHU4QkJFXHU3RjZFXHU2MjE2XHU5NzAwXHU4OTgxXHU2NkY0XHU2NUIwKVxuICAgIGlmICghdGhpcy5zZXR0aW5ncy5sYW5ndWFnZSB8fCB0aGlzLnNldHRpbmdzLmxhbmd1YWdlICE9PSBkZXRlY3RlZExhbmcpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3MubGFuZ3VhZ2UgPSBkZXRlY3RlZExhbmc7XG4gICAgICB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgIH1cbiAgfVxufSIsICIvLyBTZXR0aW5nc1RhYi50c1xuaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0xlYXJuaW5nIFN5c3RlbSBTZXR0aW5ncycgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdFbmFibGUgZXh0cmFjdGlvbicpXG4gICAgICAuc2V0RGVzYygnRW5hYmxlIGF1dG9tYXRpYyBjb250ZW50IGV4dHJhY3Rpb24nKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4dHJhY3Rpb25FbmFibGVkKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHRyYWN0aW9uRW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdBdXRvIHNjYW4nKVxuICAgICAgLnNldERlc2MoJ0F1dG9tYXRpY2FsbHkgc2NhbiBmaWxlcyB3aGVuIHRoZXkgYXJlIG9wZW5lZCcpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b1NjYW4pXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TY2FuID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ0RlZmF1bHQgZGVjaycpXG4gICAgICAuc2V0RGVzYygnRGVmYXVsdCBkZWNrIG5hbWUgZm9yIG5ldyBmbGFzaGNhcmRzJylcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdCcpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHREZWNrKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0RGVjayA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICAvLyBcdTU3MjggZGlzcGxheSgpIFx1NjVCOVx1NkNENVx1NEUyRFx1NkRGQlx1NTJBMFxubmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4uc2V0TmFtZSgnTGFuZ3VhZ2UgLyBcdThCRURcdThBMDAnKVxuLnNldERlc2MoJ1NlbGVjdCBpbnRlcmZhY2UgbGFuZ3VhZ2UgLyBcdTkwMDlcdTYyRTlcdTc1NENcdTk3NjJcdThCRURcdThBMDAnKVxuLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG4gIC5hZGRPcHRpb24oJ2VuJywgJ0VuZ2xpc2gnKVxuICAuYWRkT3B0aW9uKCd6aC1DTicsICdcdTdCODBcdTRGNTNcdTRFMkRcdTY1ODcnKVxuICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgfHwgJ2VuJylcbiAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlID0gdmFsdWUgYXMgJ2VuJyB8ICd6aC1DTic7XG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgXG4gICAgLy8gXHU1MjM3XHU2NUIwXHU2MjQwXHU2NzA5XHU4OUM2XHU1NkZFXG4gICAgdGhpcy5wbHVnaW4ucmVmcmVzaE92ZXJ2aWV3KCk7XG4gICAgbmV3IE5vdGljZSgnTGFuZ3VhZ2UgdXBkYXRlZC4gU29tZSBjaGFuZ2VzIHJlcXVpcmUgcmVsb2FkLiAnKTtcbiAgfSlcbik7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL3N0eWxlcy9TdHlsZUxvYWRlci50c1xuXG4vKipcbiAqIFx1NjgzN1x1NUYwRlx1NTJBMFx1OEY3RFx1NTY2OCAtIFx1OEQxRlx1OEQyM1x1NkNFOFx1NTE2NVx1NTQ4Q1x1N0JBMVx1NzQwNiBDU1NcbiAqL1xuZXhwb3J0IGNsYXNzIFN0eWxlTG9hZGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBzdHlsZUlkID0gJ2xlYXJuaW5nLXNpZGVPdmVydmlldy1zdHlsZXMnO1xuICAgIHByaXZhdGUgc3RhdGljIGlzSW5qZWN0ZWQgPSBmYWxzZTtcbiAgXG4gICAgLyoqXG4gICAgICogXHU2Q0U4XHU1MTY1XHU2ODM3XHU1RjBGXHU1MjMwXHU5ODc1XHU5NzYyXG4gICAgICovXG4gICAgc3RhdGljIGluamVjdCgpOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLmlzSW5qZWN0ZWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHlsZUlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gIFxuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsLmlkID0gdGhpcy5zdHlsZUlkO1xuICAgICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuZ2V0U3R5bGVzKCk7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICAgICAgXG4gICAgICB0aGlzLmlzSW5qZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgXG4gICAgLyoqXG4gICAgICogXHU3OUZCXHU5NjY0XHU2ODM3XHU1RjBGXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZSgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0eWxlSWQpO1xuICAgICAgaWYgKHN0eWxlRWwpIHtcbiAgICAgICAgc3R5bGVFbC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5pc0luamVjdGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICBcbiAgICAvKipcbiAgICAgKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTY4MzdcdTVGMEZcdUZGMDhcdTRFQ0VcdThGRDlcdTkxQ0NcdTdFREZcdTRFMDBcdTdCQTFcdTc0MDZcdUZGMDlcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRTdHlsZXMoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IENTUyBcdTUzRDhcdTkxQ0ZcdTkxNERcdTdGNkUgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLmxlYXJuaW5nLW92ZXJ2aWV3LWNvbnRhaW5lciB7XG4gICAgLS1vdmVydmlldy1zaWRlYmFyLXdpZHRoOiAyNTBweDtcbiAgICAtLW92ZXJ2aWV3LWNhcmQtZ2FwOiA4cHg7XG4gICAgLS1vdmVydmlldy1ib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgLS1vdmVydmlldy10cmFuc2l0aW9uOiBhbGwgMC4ycyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTUxNjhcdTVDNDBcdTVCQjlcdTU2NjggPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLmxlYXJuaW5nLW92ZXJ2aWV3LWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NEZBN1x1OEZCOVx1NjgwRlx1NkEyMVx1NUYwRiA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAubGVhcm5pbmctb3ZlcnZpZXctY29udGFpbmVyW2RhdGEtbW9kZT1cInNpZGViYXJcIl0ge1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cbiAgXG4gIC5zaWRlYmFyLXRvb2xiYXIge1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAxMDtcbiAgfVxuICBcbiAgLnNpZGViYXItY29udGVudC1saXN0IHtcbiAgICBmbGV4OiAxO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgcGFkZGluZzogdmFyKC0tb3ZlcnZpZXctY2FyZC1nYXApO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAxO1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTVERTVcdTUxNzdcdTY4MEZcdTdFQzRcdTRFRjYgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLnNlYXJjaC1jb250YWluZXIge1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgfVxuICBcbiAgLnNlYXJjaC1pbnB1dCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgfVxuICBcbiAgLnNlYXJjaC1pbnB1dDpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5maWx0ZXItY2hpcHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA2cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfVxuICBcbiAgLmZpbHRlci1jaGlwIHtcbiAgICBmbGV4OiAxO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA2cHggOHB4O1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIH1cbiAgXG4gIC5maWx0ZXItY2hpcDpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gIH1cbiAgXG4gIC5maWx0ZXItY2hpcC5hY3RpdmUge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuICBcbiAgLmdyb3VwLXN3aXRjaGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogNnB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cbiAgXG4gIC5ncm91cC1idG4ge1xuICAgIGZsZXg6IDE7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDZweDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgfVxuICBcbiAgLmdyb3VwLWJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gIH1cbiAgXG4gIC5ncm91cC1idG4uYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUMgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLnN0YXRzLXJvdyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBnYXA6IDNweDtcbiAgfVxuICBcbi5zdGF0cy1sZWZ0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA2cHg7XG4gIGZsZXgtc2hyaW5rOiAwO1xufVxuXG4uc3RhdHMtY2VudGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA2cHg7XG4gIGZsZXg6IDE7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbn1cblxuLnN0YXRzLXJpZ2h0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxcHg7XG4gIGZsZXgtc2hyaW5rOiAwO1xuICBtYXJnaW4tbGVmdDogYXV0bzsgLyogXHU2M0E4XHU1MjMwXHU2NzAwXHU1M0YzXHU0RkE3ICovXG59XG5cbi5oZWFkZXItYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogOHB4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4vKiBcdTU5MERcdTRFNjBcdTY4QzBcdTY3RTVcdTYzMDlcdTk0QUVcdTY4MzdcdTVGMEYgKi9cbi5yZXZpZXctY2hlY2stYnRuLXN0YXRzIHtcbiAgd2lkdGg6IDMycHg7XG4gIGhlaWdodDogMzJweDtcbiAgcGFkZGluZzogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXNpemU6IDE0cHg7XG4gIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICBmbGV4LXNocmluazogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGxpbmUtaGVpZ2h0OiAxO1xuICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICBib3JkZXI6bm9uZTtcbn1cblxuLnJldmlldy1jaGVjay1idG4tc3RhdHM6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xufVxuXG4ucmV2aWV3LWNoZWNrLWJ0bi1zdGF0czphY3RpdmUge1xuICB0cmFuc2Zvcm06IHNjYWxlKDAuOTUpO1xufVxuXG4vKiBcdTU5ODJcdTY3OUNcdTY3MDlcdTVGODVcdTU5MERcdTRFNjBcdTUzNjFcdTcyNDcsXHU2REZCXHU1MkEwXHU2M0QwXHU3OTNBXHU1MkE4XHU3NTNCICovXG4ucmV2aWV3LWNoZWNrLWJ0bi1zdGF0cy5oYXMtZHVlIHtcbiAgYW5pbWF0aW9uOiBiZWxsUmluZyAycyBlYXNlLWluLW91dCBpbmZpbml0ZTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXItY29sb3I6ICM2NjdlZWE7XG59XG5cbkBrZXlmcmFtZXMgYmVsbFJpbmcge1xuICAwJSwgMTAwJSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cbiAgMTAlLCAzMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKC0xMGRlZyk7XG4gIH1cbiAgMjAlLCA0MCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDEwZGVnKTtcbiAgfVxuICA1MCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG59XG5cbiAgLmJhdGNoLWNyZWF0ZS1jYXJkcy1idG4tc2lkZWJhcixcbiAgLmJhdGNoLWRlbGV0ZS1idG4tc2lkZWJhcixcbiAgLmNhbmNlbC1zZWxlY3Rpb24tYnRuLXNpZGViYXIge1xuICAgIHBhZGRpbmc6IDZweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB9XG4gIFxuICAuYmF0Y2gtY3JlYXRlLWNhcmRzLWJ0bi1zaWRlYmFyOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5iYXRjaC1kZWxldGUtYnRuLXNpZGViYXI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3ItcmVkKTtcbiAgfVxuICBcbiAgLmNhbmNlbC1zZWxlY3Rpb24tYnRuLXNpZGViYXI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgfVxuICBcbiAgLmJhdGNoLWNyZWF0ZS1jYXJkcy1idG4taGVhZGVyLFxuICAuYmF0Y2gtZGVsZXRlLWJ0bi1oZWFkZXIsXG4gIC5jYW5jZWwtc2VsZWN0aW9uLWJ0bi1oZWFkZXIge1xuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbiAgXG4gIC5iYXRjaC1jcmVhdGUtY2FyZHMtYnRuLWhlYWRlcjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG4gIFxuICAuYmF0Y2gtZGVsZXRlLWJ0bi1oZWFkZXI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3ItcmVkKTtcbiAgfVxuICBcbiAgLmNhbmNlbC1zZWxlY3Rpb24tYnRuLWhlYWRlcjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG4gIFxuICAuc2VsZWN0LWFsbC1idG4tc2lkZWJhciB7XG4gICAgcGFkZGluZzogNnB4IDEycHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gIH1cbiAgXG4gIC5zZWxlY3QtYWxsLWJ0bi1zaWRlYmFyOmhvdmVyLFxuICAuc2VsZWN0LWFsbC1idG4tc2lkZWJhci5jb21wbGV0ZWQge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuICBcbiAgLnNlbGVjdC1hbGwtYnRuLWhlYWRlciB7XG4gICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjA4KTtcbiAgfVxuICBcbiAgLnNlbGVjdC1hbGwtYnRuLWhlYWRlcjpob3ZlcixcbiAgLnNlbGVjdC1hbGwtYnRuLWhlYWRlci5jb21wbGV0ZWQge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICB9XG4gIFxuICAuc3RhdHMtYmFkZ2Uge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIHBhZGRpbmc6IDRweDtcbiAgICBmbGV4OiAxO1xuICB9XG4gIFxuICAuYmF0Y2gtYWN0aW9ucyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDZweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBwYWRkaW5nOiA4cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBhbmltYXRpb246IHNsaWRlRG93biAwLjJzIGVhc2U7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NTM2MVx1NzI0N1x1NjgzN1x1NUYwRiA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAuY29tcGFjdC1jYXJkIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogOHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luOiA0cHggMDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLmNvbXBhY3QtY2FyZDpob3ZlciB7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeS1hbHQpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgycHgpO1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbiAgXG4gIC5jYXJkLWluZGljYXRvciB7XG4gICAgd2lkdGg6IDRweDtcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAuY2FyZC1pbmRpY2F0b3IudHlwZS1xYSB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdHJhbnNwYXJlbnQgMCUsIHRyYW5zcGFyZW50IDUwJSwgIzEwYjk4MSA1MCUsICMxMGI5ODEgMTAwJSk7XG4gIH1cbiAgXG4gIC5jYXJkLWluZGljYXRvci50eXBlLWNsb3plIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB0cmFuc3BhcmVudCAwJSwgdHJhbnNwYXJlbnQgNTAlLCAjRkZGMTc2IDUwJSwgI0ZGRjE3NiAxMDAlKTtcbiAgfVxuICBcbiAgLmNhcmQtaW5kaWNhdG9yLnR5cGUtdGV4dCB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdHJhbnNwYXJlbnQgMCUsIHRyYW5zcGFyZW50IDUwJSwgIzZiNzI4MCA1MCUsICM2YjcyODAgMTAwJSk7XG4gIH1cbiAgXG4gIC5jYXJkLWluZGljYXRvci50eXBlLXFhLmhhcy1hbm5vdGF0aW9uIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjM2I4MmY2IDAlLCAjM2I4MmY2IDUwJSwgIzEwYjk4MSA1MCUsICMxMGI5ODEgMTAwJSk7XG4gIH1cbiAgXG4gIC5jYXJkLWluZGljYXRvci50eXBlLWNsb3plLmhhcy1hbm5vdGF0aW9uIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjM2I4MmY2IDAlLCAjM2I4MmY2IDUwJSwgI0ZGRjE3NiA1MCUsICNGRkYxNzYgMTAwJSk7XG4gIH1cbiAgXG4gIC5jYXJkLWluZGljYXRvci50eXBlLXRleHQuaGFzLWFubm90YXRpb24ge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICMzYjgyZjYgMCUsICMzYjgyZjYgNTAlLCAjNmI3MjgwIDUwJSwgIzZiNzI4MCAxMDAlKTtcbiAgfVxuICBcbiAgLnR5cGUtaW5kaWNhdG9yIHtcbiAgICBwYWRkaW5nOiAycHggOHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgZm9udC1zaXplOiAxMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgfVxuICBcbiAgLnR5cGUtaW5kaWNhdG9yLnR5cGUtcWEge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMTYsIDE4NSwgMTI5LCAwLjIpO1xuICAgIGNvbG9yOiAjMTBiOTgxO1xuICB9XG4gIFxuICAudHlwZS1pbmRpY2F0b3IudHlwZS1jbG96ZSB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI0MSwgMTE4LCAwLjIpO1xuICAgIGNvbG9yOiAjRkZGMTc2O1xuICB9XG4gIFxuICAudHlwZS1pbmRpY2F0b3IudHlwZS10ZXh0IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDEwNywgMTE0LCAxMjgsIDAuMik7XG4gICAgY29sb3I6ICM2YjcyODA7XG4gIH1cbiAgXG4gIC5jYXJkLWNvbnRlbnQge1xuICAgIGZsZXg6IDE7XG4gICAgbWluLXdpZHRoOiAwO1xuICB9XG4gIFxuICAuY2FyZC1oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgbWFyZ2luLWJvdHRvbTogMnB4O1xuICB9XG4gIFxuICAuY2FyZC10b29scyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDRweDtcbiAgfVxuICBcbiAgLnRvb2wtYnRuIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHBhZGRpbmc6IDRweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC50b29sLWJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gIH1cbiAgXG4gIC5hbm5vdGF0aW9uLWJ0biB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgfVxuICBcblxuICBcbiAgLm5vdGUtdGV4dCB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjY7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgfVxuICBcbiAgLm5vdGUtdGV4dDpob3ZlciB7XG4gICAgY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5xYS1xdWVzdGlvbiB7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICB9XG4gIFxuICAucWEtc2VwYXJhdG9yIHtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgbWFyZ2luOiAwIDRweDtcbiAgfVxuICBcbiAgLnFhLWFuc3dlciB7XG4gICAgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIH1cbiAgXG4gIC5jbG96ZS1oaWdobGlnaHQge1xuICAgIGNvbG9yOiAjZjU5ZTBiO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgcGFkZGluZzogMXB4IDNweDtcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIH1cbiAgXG4gIC5hbm5vdGF0aW9uLXByZXZpZXcge1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBsaW5lLWhlaWdodDogMS40O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBwYWRkaW5nOiA2cHggOHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgbWFyZ2luLXRvcDogNnB4O1xuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC5hbm5vdGF0aW9uLXByZXZpZXc6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICB9XG4gIFxuICAuY2FyZC1tZXRhIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGdhcDogNnB4O1xuICAgIG1hcmdpbi10b3A6IDhweDtcbiAgfVxuICBcbiAgLnRhZyB7XG4gICAgcGFkZGluZzogMnB4IDZweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWctYmFja2dyb3VuZCk7XG4gICAgY29sb3I6IHZhcigtLXRhZy1jb2xvcik7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gIFxuICAuYmFkZ2Uge1xuICAgIHBhZGRpbmc6IDJweCA2cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBmb250LXNpemU6IDEwcHg7XG4gIH1cbiAgXG4gIC5ncm91cC1oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDZweDtcbiAgICBwYWRkaW5nOiA2cHggOHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBtYXJnaW4tYm90dG9tOiA2cHg7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgcG9zaXRpb246IHN0aWNreTtcbiAgICB0b3A6IDA7XG4gICAgei1pbmRleDogMTA7XG4gIH1cbiAgXG4vKiA9PT09PT09PT09PT09PT09PT09PSBcdTYyNzlcdTZDRThcdTdGMTZcdThGOTFcdTU2NjggPT09PT09PT09PT09PT09PT09PT0gKi9cbi5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3Ige1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICB2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgcGFkZGluZzogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4gIFxuICAuaW5saW5lLWFubm90YXRpb24tdGV4dGFyZWEge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1pbi1oZWlnaHQ6IDgwcHg7XG4gICAgcGFkZGluZzogMTJweCAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnktYWx0KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXRleHQpO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBsaW5lLWhlaWdodDogMS41O1xuICAgIHJlc2l6ZTogdmVydGljYWw7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuICBcbiAgLmlubGluZS1hbm5vdGF0aW9uLXRleHRhcmVhOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICB9XG4gIFxuICAuaW5saW5lLWFubm90YXRpb24tdGV4dGFyZWE6OnBsYWNlaG9sZGVyIHtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1mYWludCk7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICB9XG4gIFxuICAuaW5saW5lLWFubm90YXRpb24taGludCB7XG4gICAgbWFyZ2luLXRvcDogNnB4O1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1mYWludCk7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gIH1cbiAgXG4gIC5ncmlkLWNhcmQgLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvciB7XG4gICAgbWFyZ2luLXRvcDogOHB4O1xuICB9XG4gIFxuICAuZ3JpZC1jYXJkIC5pbmxpbmUtYW5ub3RhdGlvbi10ZXh0YXJlYSB7XG4gICAgbWluLWhlaWdodDogMTAwcHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHBhZGRpbmc6IDhweCAxNHB4O1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTRFM0JcdTc1NENcdTk3NjJcdTVFMDNcdTVDNDAgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLm1haW4tbGF5b3V0IHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogdmFyKC0tb3ZlcnZpZXctc2lkZWJhci13aWR0aCkgMWZyO1xuICAgIGdhcDogMXB4O1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIH1cbiAgXG4gIC5sZWZ0LXBhbmVsIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG4gIFxuICAucmlnaHQtcGFuZWwge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBwYWRkaW5nOiB2YXIoLS1vdmVydmlldy1jYXJkLWdhcCk7XG4gIH1cbiAgXG4gIC5maXhlZC1lbnRyaWVzIHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogNnB4O1xuICB9XG4gIFxuICAuZW50cnktYnRuIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiA4cHg7XG4gICAgcGFkZGluZzogMTBweCAxMnB4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIH1cbiAgXG4gIC5lbnRyeS1idG46aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgycHgpO1xuICB9XG4gIFxuICAuZW50cnktYnRuLmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTRFM0JcdTc1NENcdTk3NjJcdTVERTVcdTUxNzdcdTY4MEYgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLm1haW4tdG9vbGJhciB7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIH1cbiAgXG4gIC5zZWFyY2gtaW5wdXQtbWFpbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLnNlYXJjaC1pbnB1dC1tYWluOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuICBcbiAgLmdyb3VwLXN3aXRjaGVyLW1haW4ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA2cHg7XG4gIH1cbiAgXG4gIC5ncm91cC1idG4tbWFpbiB7XG4gICAgZmxleDogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZ2FwOiA0cHg7XG4gICAgcGFkZGluZzogOHB4IDEwcHg7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuICBcbiAgLmdyb3VwLWJ0bi1tYWluOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XG4gIH1cbiAgXG4gIC5ncm91cC1idG4tbWFpbi5hY3RpdmUge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgfVxuICBcbiAgLmJhdGNoLWFjdGlvbnMtbWFpbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDhweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgfVxuICBcbiAgLmJhdGNoLWFjdGlvbnMtbWFpbiAuYmF0Y2gtbW9kZS1idG4sXG4gIC5iYXRjaC1hY3Rpb25zLW1haW4gLnNlbGVjdC1hbGwtYnRuLFxuICAuYmF0Y2gtYWN0aW9ucy1tYWluIC5iYXRjaC1kZWxldGUtYnRuLFxuICAuYmF0Y2gtYWN0aW9ucy1tYWluIC5iYXRjaC1jcmVhdGUtY2FyZHMtYnRuIHtcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gIH1cbiAgXG4gIC5iYXRjaC1hY3Rpb25zLW1haW4gLnNlbGVjdC1hbGwtYnRuOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cbiAgXG4gIC5wYW5lbC10aXRsZSB7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICBtYXJnaW46IDA7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG4gIFxuICAuZmlsZS1saXN0IHtcbiAgICBwYWRkaW5nOiAwIDhweCA4cHggOHB4O1xuICAgIGZsZXg6IDE7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgfVxuICBcbiAgLmZpbGUtaXRlbSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogOHB4O1xuICAgIHBhZGRpbmc6IDhweCAxMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gIH1cbiAgXG4gIC5maWxlLWl0ZW06aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICB9XG4gIFxuICAuZmlsZS1pdGVtLnNlbGVjdGVkIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5maWxlLWljb24ge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgfVxuICBcbiAgLmZpbGUtbmFtZSB7XG4gICAgZmxleDogMTtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB9XG4gIFxuICAuZmlsZS1jb3VudCB7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIHBhZGRpbmc6IDJweCA2cHg7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIH1cbiAgXG4gIC5maWxlLWl0ZW0uc2VsZWN0ZWQgLmZpbGUtY291bnQge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU3RjUxXHU2ODNDXHU1RTAzXHU1QzQwID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5ncmlkLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMnB4O1xuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIH1cbiAgXG4gIC5ncmlkLWhlYWRlciBoMiB7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgbWFyZ2luOiAwO1xuICB9XG4gIFxuICAuY29udGVudC1ncmlkIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI0MHB4LCAxZnIpKTtcbiAgICBnYXA6IHZhcigtLW92ZXJ2aWV3LWNhcmQtZ2FwKTtcbiAgfVxuICBcbiAgLmdyaWQtY2FyZCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHBhZGRpbmc6IHZhcigtLW92ZXJ2aWV3LWNhcmQtZ2FwKTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbiAgXG4gIC5ncmlkLWNhcmQ6aG92ZXIge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICB9XG4gIFxuICAuZ3JpZC1jYXJkLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgfVxuICBcbiAgLmdyaWQtY2FyZC10b29scyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDRweDtcbiAgfVxuICBcbiAgLnRvb2wtYnRuLWdyaWQge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgcGFkZGluZzogNHB4IDZweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC50b29sLWJ0bi1ncmlkOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG4gIH1cbiAgXG4gIC5ncmlkLW5vdGUtdGV4dCB7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjY7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gIH1cbiAgXG4gIC5ncmlkLW5vdGUtdGV4dDpob3ZlciB7XG4gICAgY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5ncmlkLWFubm90YXRpb24ge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBsaW5lLWhlaWdodDogMS41O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAuZ3JpZC1hbm5vdGF0aW9uOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgfVxuICBcbiAgLmdyaWQtdGFncyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgZ2FwOiA2cHg7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgfVxuICBcbiAgLnRhZy1ncmlkIHtcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXRhZy1iYWNrZ3JvdW5kKTtcbiAgICBjb2xvcjogdmFyKC0tdGFnLWNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cbiAgXG4gIC5ncmlkLWNhcmQtbWV0YSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgfVxuICBcbiAgLmRvYy1uYW1lIHtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gIH1cbiAgXG4gIC5saW5lLWluZm8ge1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgfVxuICBcbiAgLmJhZGdlLWdyaWQge1xuICAgIHBhZGRpbmc6IDNweCA4cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU5NUVBXHU1MzYxXHU2ODM3XHU1RjBGID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5mbGFzaGNhcmQtaXRlbSB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC5mbGFzaGNhcmQtaXRlbTpob3ZlciB7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB9XG4gIFxuICAuZmxhc2hjYXJkLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICB9XG4gIFxuICAuZmxhc2hjYXJkLXR5cGUge1xuICAgIHBhZGRpbmc6IDRweCAxMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIH1cbiAgXG4gIC5mbGFzaGNhcmQtdHlwZS5xYSB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgxNiwgMTg1LCAxMjksIDAuMik7XG4gICAgY29sb3I6ICMxMGI5ODE7XG4gIH1cbiAgXG4gIC5mbGFzaGNhcmQtdHlwZS5jbG96ZSB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI0MSwgMTE4LCAwLjIpO1xuICAgIGNvbG9yOiAjRkZGMTc2O1xuICB9XG4gIFxuICAuZmxhc2hjYXJkLWJvZHkge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBnYXA6IDEwcHg7XG4gIH1cbiAgXG4gIC5mbGFzaGNhcmQtcXVlc3Rpb24sXG4gIC5mbGFzaGNhcmQtYW5zd2VyIHtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU3QTdBXHU3MkI2XHU2MDAxID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5lbXB0eS1zdGF0ZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDQwcHggMjBweDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAxO1xuICB9XG4gIFxuICAuZW1wdHktaGludCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgfVxuICBcbiAgLmVtcHR5LXJpZ2h0LXBhbmVsIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG4gIFxuICAuZW1wdHktaWNvbiB7XG4gICAgZm9udC1zaXplOiA0OHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gIH1cbiAgXG4gIC5lbXB0eS10ZXh0IHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NTJBOFx1NzUzQiA9PT09PT09PT09PT09PT09PT09PSAqL1xuICBAa2V5ZnJhbWVzIHNsaWRlRG93biB7XG4gICAgZnJvbSB7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NTRDRFx1NUU5NFx1NUYwRiA9PT09PT09PT09PT09PT09PT09PSAqL1xuICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAubWFpbi1sYXlvdXQge1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgfVxuICBcbiAgICAubGVmdC1wYW5lbCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgXG4gICAgLmNvbnRlbnQtZ3JpZCB7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICB9XG4gICAgfVxuXG5cbi8qIFx1NTkwRFx1NEU2MFx1NTZGRVx1NjgwNyovXG5cblxuLnJldmlldy1jaGVjay1idG4ge1xuICB3aWR0aDogMzZweDtcbiAgaGVpZ2h0OiAzNnB4O1xuICBwYWRkaW5nOiAwO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxOHB4O1xuICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgZmxleC1zaHJpbms6IDA7XG59XG5cbi5yZXZpZXctY2hlY2stYnRuOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xufVxuQGtleWZyYW1lcyBwdWxzZSB7XG4gIDAlLCAxMDAlIHtcbiAgICBvcGFjaXR5OiAwLjg1O1xuICB9XG4gIDUwJSB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxufVxuXG4vKiBcdTU5MERcdTRFNjBcdTYzRDBcdTkxOTJcdTUxNzdcdTRGNTNcdTY4MzdcdTVGMEYgKi9cbi5jb250ZW50LWxpc3QtcmV2aWV3LXJlbWluZGVyIHtcblxufVxuXG4ucmVtaW5kZXItaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA4cHg7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG5cbi5yZW1pbmRlci1pY29uIHtcbiAgZm9udC1zaXplOiAyNHB4O1xufVxuXG4ucmVtaW5kZXItdGV4dCBzdHJvbmcge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5yZW1pbmRlci1wcm9ncmVzcyB7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG5cblxuXG4ucHJvZ3Jlc3MtZmlsbCB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcbn1cblxuLnByb2dyZXNzLXRleHQge1xuICBmb250LXNpemU6IDEzcHg7XG4gIG9wYWNpdHk6IDAuOTtcbn1cblxuLnJlbWluZGVyLXN0YXRzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiA2cHg7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG5cblxuXG4uc3RyZWFrLWluZm8ge1xuICBvcGFjaXR5OiAwLjk1O1xufVxuXG4ucmVtaW5kZXItYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG5cbi5yZW1pbmRlci1idG4ucHJpbWFyeSB7XG5cbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ucmVtaW5kZXItYnRuLnByaW1hcnk6aG92ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7XG59XG5cbi8qIFx1NTM2MVx1NzI0N1x1NEUyRFx1ODg2OFx1NjgzQ1x1NzY4NFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1OUFEOFx1NEVBRSAtIFx1NkE1OVx1ODI3MiAqL1xuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSAuY2FyZC1jbG96ZS1oaWdobGlnaHQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTQwLCAwLCAwLjI1KTtcbiAgcGFkZGluZzogMnB4IDRweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBmb250LXdlaWdodDogNTAwO1xufVxuICAgIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTdCNDlcdTdFQTdcdTVGQkRcdTdBRTBcdTU2RkVcdTY4MDcgPT09PT09PT09PT09PT09PT09PT0gKi9cbi5sZXZlbC1iYWRnZS1pY29uIHtcbiAgcGFkZGluZzogNHB4IDZweCA7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBmb250LXNpemU6IDAuODVlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG5cbi5sZXZlbC1iYWRnZS1pY29uOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PSBcdTdCNDlcdTdFQTdcdTRGRTFcdTYwNkZcdTZBMjFcdTYwMDFcdTY4NDYgPT09PT09PT09PT09PT09PT09PT0gKi9cbi5sZXZlbC1pbmZvLW1vZGFsIHtcbiAgcGFkZGluZzogMjBweDtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbn1cblxuLmxldmVsLWluZm8tbW9kYWwgaDIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gIGZvbnQtc2l6ZTogMS44ZW07XG59XG5cbi5sZXZlbC1pbmZvLW1vZGFsIGgzIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICBmb250LXNpemU6IDEuMWVtO1xufVxuXG4ucHJvZ3Jlc3Mtc2VjdGlvbixcbi5zdGF0cy1zZWN0aW9uLFxuLm1pbGVzdG9uZXMtc2VjdGlvbiB7XG4gIG1hcmdpbi1ib3R0b206IDI0cHg7XG59XG5cbi5wcm9ncmVzcy1ib3gge1xuICBwYWRkaW5nOiAxNnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBsaW5lLWhlaWdodDogMS44O1xufVxuXG4uc3RhdHMtZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpO1xuICBnYXA6IDEycHg7XG59XG5cbi5zdGF0cy1ncmlkIC5zdGF0LWl0ZW0ge1xuICBwYWRkaW5nOiAxMnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA0cHg7XG59XG5cbi5zdGF0LWljb24ge1xuICBmb250LXNpemU6IDEuNWVtO1xufVxuXG4uc3RhdC1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG59XG5cbi5zdGF0LXZhbHVlIHtcbiAgZm9udC1zaXplOiAxLjNlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG59XG5cbi5taWxlc3RvbmVzLWxpc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEycHg7XG59XG5cbi5taWxlc3RvbmUtaXRlbSB7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG59XG5cbi5taWxlc3RvbmUtbWVzc2FnZSB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbn1cblxuLm1pbGVzdG9uZS1kYXRlIHtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbn1cblxuLm1vZGFsLWZvb3RlciB7XG4gIG1hcmdpbi10b3A6IDI0cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4ubW9kYWwtZm9vdGVyIGJ1dHRvbiB7XG4gIHBhZGRpbmc6IDhweCAyNHB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMWVtO1xufVxuXG4ubW9kYWwtZm9vdGVyIGJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG59XG4gIFxuXG4vKiBcdTUzNjFcdTcyNDdcdTdDN0JcdTU3OEJcdTY4MDdcdThCQzYgKi9cbi5jYXJkLXR5cGUtYmFkZ2Uge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogM3B4IDhweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgZm9udC1zaXplOiAxMHB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5cbi5jYXJkLXR5cGUtYmFkZ2UudHlwZS1xYSB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTYsIDE4NSwgMTI5LCAwLjIpO1xuICBjb2xvcjogIzEwYjk4MTtcbn1cblxuLmNhcmQtdHlwZS1iYWRnZS50eXBlLWNsb3plIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI0MSwgMTE4LCAwLjIpO1xuICBjb2xvcjogI0ZGRjE3Njtcbn1cblxuLyogXHU3ODZFXHU0RkREIGhlYWRlciBcdTRGN0ZcdTc1MjggZmxleCBcdTVFMDNcdTVDNDBcdTVFNzZcdTVCRjlcdTlGNTAgKi9cbi5ncmlkLWNhcmQtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA4cHg7XG59XG5cbi8qIFx1OTVFQVx1NTM2MVx1NTkwRFx1NEU2MFx1NjVGNlx1OTVGNFx1NjgzN1x1NUYwRiAqL1xuLmZsYXNoY2FyZC1yZXZpZXctaW5mbyB7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5yZXZpZXctdGltZSB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDRweDtcbiAgcGFkZGluZzogNHB4IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBmb250LXdlaWdodDogNTAwO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbn1cblxuLnJldmlldy10aW1lLm92ZXJkdWUge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yLWhvdmVyKTtcbiAgY29sb3I6IHZhcigtLXRleHQtZXJyb3IpO1xufVxuXG4ucmV2aWV3LXRpbWUudXBjb21pbmcge1xuICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xufVxuXG4ucmV2aWV3LWljb24ge1xuICBmb250LXNpemU6IDFlbTtcbiAgbGluZS1oZWlnaHQ6IDE7XG59XG5cbi5yZXZpZXctdGV4dCB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbiAgICAgIGA7XG4gICAgfVxuICB9IiwgIi8qKlxuICogXHU2ODM3XHU1RjBGXHU1MkEwXHU4RjdEXHU1NjY4IC0gXHU4RDFGXHU4RDIzXHU2Q0U4XHU1MTY1XHU1NDhDXHU3QkExXHU3NDA2IENTU1xuICovXG5leHBvcnQgY2xhc3MgcmV2aWV3U3R5bGUge1xuICAgIHByaXZhdGUgc3RhdGljIHN0eWxlSWQgPSAnbGVhcm5pbmctcmV2aWV3LXN0eWxlcyc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNJbmplY3RlZCA9IGZhbHNlO1xuICBcbiAgICAvKipcbiAgICAgKiBcdTZDRThcdTUxNjVcdTY4MzdcdTVGMEZcdTUyMzBcdTk4NzVcdTk3NjJcbiAgICAgKi9cbiAgICBzdGF0aWMgaW5qZWN0KCk6IHZvaWQge1xuICAgICAgaWYgKHRoaXMuaXNJbmplY3RlZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0eWxlSWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlRWwuaWQgPSB0aGlzLnN0eWxlSWQ7XG4gICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gdGhpcy5nZXRTdHlsZXMoKTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG4gICAgICBcbiAgICAgIHRoaXMuaXNJbmplY3RlZCA9IHRydWU7XG4gICAgfVxuICBcbiAgICAvKipcbiAgICAgKiBcdTc5RkJcdTk2NjRcdTY4MzdcdTVGMEZcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlKCk6IHZvaWQge1xuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3R5bGVJZCk7XG4gICAgICBpZiAoc3R5bGVFbCkge1xuICAgICAgICBzdHlsZUVsLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmlzSW5qZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIFx1ODNCN1x1NTNENlx1NjI0MFx1NjcwOVx1NjgzN1x1NUYwRlx1RkYwOFx1NEVDRVx1OEZEOVx1OTFDQ1x1N0VERlx1NEUwMFx1N0JBMVx1NzQwNlx1RkYwOVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldFN0eWxlcygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIGBcbiAgICAgICAucmV2aWV3LWNvbnRhaW5lciB7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgfVxuXG4gICAgICAuZW1wdHktc3RhdGUge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDQwcHggMjBweDtcbiAgICAgIH1cblxuICAgICAgLmVtcHR5LXN0YXRlIGgyIHtcbiAgICAgICAgZm9udC1zaXplOiAxLjhlbTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtc3VtbWFyeSB7XG4gICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgbWF4LXdpZHRoOiAzMDBweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgIH1cblxuIC5yZXZpZXctY29udGFpbmVyIC5wcm9ncmVzcy1iYXIge1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OyAgLyogXHU4OTg2XHU3NkQ2IGFwcC5jc3MgXHU3Njg0IGZsZXggKi9cbiAgcG9zaXRpb246IHN0YXRpYyAhaW1wb3J0YW50OyAgLyogXHU4OTg2XHU3NkQ2IGFwcC5jc3MgXHU3Njg0IHJlbGF0aXZlICovXG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuLnJldmlldy1jb250YWluZXIgLnByb2dyZXNzLXN0YXRzIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcbn1cblxuLnJldmlldy1jb250YWluZXIgLnByb2dyZXNzLXRleHQge1xuICBmb250LXdlaWdodDogMzAwO1xuICBmb250LXNpemU6IDAuOWVtO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLnJldmlldy1jb250YWluZXIgLmJhci1jb250YWluZXIge1xuICBoZWlnaHQ6IDZweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ucmV2aWV3LWNvbnRhaW5lciAuYmFyIHtcbiAgaGVpZ2h0OiA0MCU7XG4gIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbiAgICAgIC5jYXJkLWFyZWEge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDM1MHB4O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG5cbiAgICAgIC50b3AtYWN0aW9ucy1iYXIge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMTZweDtcbiAgICAgICAgcmlnaHQ6IDE2cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogNnB4O1xuICAgICAgICB6LWluZGV4OiAxMDtcbiAgICAgIH1cblxuICAgICAgLnRvcC1hY3Rpb24tYnRuIHtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICB9XG5cbiAgICAgIC50b3AtYWN0aW9uLWJ0bjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICB9XG5cbiAgICAgIC5tb3JlLWRyb3Bkb3duIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDM4cHg7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgICAgICBtaW4td2lkdGg6IDE1MHB4O1xuICAgICAgICB6LWluZGV4OiAxMDA7XG4gICAgICB9XG5cbiAgICAgIC5kcm9wZG93bi1pdGVtIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDE0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgfVxuXG4gICAgICAuZHJvcGRvd24taXRlbTpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAuZGVsZXRlLWl0ZW06aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yLWhvdmVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgICB9XG5cbiAgICAgIC5jYXJkLWluZm8ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAxMnB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiA4MHB4O1xuICAgICAgfVxuXG4gICAgICAuY2FyZC10eXBlLCAuY2FyZC1kZWNrIHtcbiAgICAgICAgcGFkZGluZzogM3B4IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICB9XG5cbiAgICAgIC5xdWVzdGlvbi1hcmVhLCAuYW5zd2VyLWFyZWEge1xuICAgICAgICBtYXJnaW46IDE2cHggMDtcbiAgICAgIH1cblxuICAgICAgLnF1ZXN0aW9uLXRleHQge1xuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgICAgICBwYWRkaW5nOiAxNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIH1cblxuICAgICAgLmNsb3plLWlucHV0LWFyZWEsIC5xYS1pbnB1dC1hcmVhIHtcbiAgICAgICAgbWFyZ2luOiAxNnB4IDA7XG4gICAgICB9XG5cbiAgICAgIC5jbG96ZS1pbnB1dC1hcmVhIGg0LCAucWEtaW5wdXQtYXJlYSBoNCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgIH1cbiAgICAgICAgXG4ucWEtYW5zd2VyLWlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDEyMHB4O1xuICBwYWRkaW5nOiAxMnB4O1xuICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgZm9udC1zaXplOiAwLjk1ZW07XG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICByZXNpemU6IHZlcnRpY2FsO1xuICBsaW5lLWhlaWdodDogMS41O1xuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycywgYm94LXNoYWRvdyAwLjJzO1xufVxuXG4ucWEtYW5zd2VyLWlucHV0OmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuLnFhLWFuc3dlci1pbnB1dDo6cGxhY2Vob2xkZXIge1xuICBjb2xvcjogdmFyKC0tdGV4dC1mYWludCk7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cbiAgICAgIC5pbnB1dC1ncm91cCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5jbG96ZS1pbnB1dCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgICB9XG5cbiAgICAgIC5jbG96ZS1pbnB1dDpmb2N1cywgLnFhLWlucHV0OmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLnFhLWlucHV0IHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDEwMHB4O1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDEycHg7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgIHJlc2l6ZTogdmVydGljYWw7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICB9XG5cbiAgICAgIC5xdWVzdGlvbi1yZXZpZXcge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICB9XG5cbiAgICAgIC5xdWVzdGlvbi1yZXZpZXcgaDQge1xuICAgICAgICBtYXJnaW46IDAgMCA2cHggMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgIH1cblxuICAgICAgLnJldmlldy10ZXh0IHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICAgIH1cblxuICAgICAgLmZ1bGwtdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4xZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgfVxuXG4gICAgICAuYW5zd2VyLWNvbXBhcmlzb24ge1xuICAgICAgZm9udC1zaXplOjEzcHg7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICAgIH1cblxuICAgICAgLmFuc3dlci1jb21wYXJpc29uIGg0IHtcbiAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICB9XG5cbiAgICAgIC5jb21wYXJpc29uLWl0ZW0ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlciB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIHBhZGRpbmc6IDJweCA2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyLmNvcnJlY3Qge1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDAsIDE2NywgNjksIDAuMSkgICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiAgIzJlYTA0MztcbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyLnBhcnRpYWwge1xuICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE5MywgNywgMC4xNSkgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6ICNmZjlmMGE7XG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlci53cm9uZyB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjIwLCA1MywgNjksIDAuMSkgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6ICNlNTUzNGI7XG4gICAgICB9XG5cbiAgICAgIC5jb3JyZWN0LWFuc3dlciB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5zaW1pbGFyaXR5LWluZm8ge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICB9XG5cbiAgICAgIC5xYS1jb2x1bW5zLWNvbnRhaW5lciB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgfVxuXG4gICAgICAucWEtY29sdW1uIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIH1cblxuICAgICAgLmNvbHVtbi1sYWJlbCB7XG4gICAgICAgIG1hcmdpbjogMCAwIDhweCAwICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICB9XG5cbiAgICAgIC5xYS11c2VyLWFuc3dlciwgLnFhLWNvcnJlY3QtYW5zd2VyIHtcbiAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgICAgICBtaW4taGVpZ2h0OiA2MHB4O1xuICAgICAgfVxuXG4gICAgICAucWEtY29ycmVjdC1hbnN3ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5xYS11c2VyLWFuc3dlci5jb3JyZWN0IHtcbiAgICAgICAgYmFja2dyb3VuZDogIzRjYWY1MCAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLnFhLXVzZXItYW5zd2VyLnBhcnRpYWwge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjRkZDMDAwICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICAucWEtdXNlci1hbnN3ZXIud3Jvbmcge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZjQ0MzM2ICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICAucWEtdXNlci1hbnN3ZXIubm8tYW5zd2VyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICAgICAgYm9yZGVyOiAycHggZGFzaGVkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgIH1cblxuICAgICAgLmJ1dHRvbi1hcmVhIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgQWN0aW9uIFJvdyAtIFx1NjMwOVx1OTRBRVx1NUUwM1x1NUM0MFxuICAgICAgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgICAgLmFjdGlvbi1yb3cge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICBwYWRkaW5nOiAwIDIwcHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG4gICAgICB9XG5cbiAgICAgIC8qIFx1NEUyRFx1OTVGNFx1NzY4NFx1NEUzQlx1ODk4MVx1NjMwOVx1OTRBRShcdThCQzRcdTdFQTdcdTYyMTZcdTY2M0VcdTc5M0FcdTdCNTRcdTY4NDgpICovXG4gICAgICAuYWN0aW9uLXJvdyAucmF0aW5nLWJ1dHRvbnMsXG4gICAgICAuYWN0aW9uLXJvdyAuc2hvdy1hbnN3ZXItYnRuIHtcbiAgICAgICAgZmxleDogMCAxIGF1dG87XG4gICAgICB9XG5cbiAgICAgIC8qIFx1N0ZGQlx1OTg3NVx1NjMwOVx1OTRBRVx1NUI5QVx1NEY0RFx1NTIzMFx1NURFNlx1NEUwQlx1ODlEMlx1NTQ4Q1x1NTNGM1x1NEUwQlx1ODlEMiAqL1xuXG4gICAgICAuc2hvdy1hbnN3ZXItYnRuIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAzMnB4O1xuICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuXG4gICAgICAuc2hvdy1hbnN3ZXItYnRuOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICB9XG4vKiBcdTdGRkJcdTk4NzVcdTYzMDlcdTk0QUUgLSBcdTdFQUZcdTY1ODdcdTY3MkNcdTY4MzdcdTVGMEYgKi9cbiAgICBidXR0b24ubmF2LWJ0biB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgIWltcG9ydGFudFxuICAgICAgICBib3JkZXI6IG5vbmU7IWltcG9ydGFudFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpICFpbXBvcnRhbnQ7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgICBib3gtc2hhZG93OiBub25lOyFpbXBvcnRhbnRcbiAgICAgIH1cblxuICAgICBidXR0b24ubmF2LWJ0bjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyFpbXBvcnRhbnRcbiAgICAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnRcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKSAhaW1wb3J0YW50O1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7IWltcG9ydGFudFxuICAgICAgfVxuXG4gICAgICAubmF2LWJ0bjphY3RpdmUge1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG4gICAgICB9XG5cbiAgICAgIC8qIGFjdGlvbi1yb3cgXHU0RTJEXHU3Njg0XHU1QjlBXHU0RjREICovXG4gICAgICAuYWN0aW9uLXJvdyAubmF2LWJ0biB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIH1cblxuICAgICAgLmFjdGlvbi1yb3cgLnByZXYtYnRuIHtcbiAgICAgICAgbGVmdDogMHB4O1xuICAgICAgfVxuXG4gICAgICAuYWN0aW9uLXJvdyAubmV4dC1idG4ge1xuICAgICAgICByaWdodDogMHB4O1xuICAgICAgfVxuXG4gICAgICAucHJldi1idG46aG92ZXIge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDhweDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zcHgpIHNjYWxlKDEuMik7XG4gICAgICB9XG5cbiAgICAgIC5uZXh0LWJ0bjpob3ZlciB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDhweDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDNweCkgc2NhbGUoMS4yKTtcbiAgICAgIH1cblxuXG4gICAgICBcbiAgICAgIC5zaG93LWFuc3dlci1idG4ge1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDMycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWFyZWEge1xuICAgICAgICBtYXJnaW46IDE1cHggMCAxMHB4IDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBnYXA6IDQwcHg7IFxuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWJ1dHRvbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDIwcHg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWJ0biB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIG1heC13aWR0aDogMTIwcHg7XG4gICAgICAgIHBhZGRpbmc6IDE0cHggOHB4O1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1idG46aG92ZXIge1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLXJlZDpob3ZlciB7IFxuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3ItaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLW9yYW5nZTpob3ZlciB7IFxuICAgICAgICBib3JkZXItY29sb3I6ICNGRkMwMDA7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAxOTIsIDAsIDAuMSk7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctYmx1ZTpob3ZlciB7IFxuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWdyZWVuOmhvdmVyIHsgXG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3ItZ3JlZW4pO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MtaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWxhYmVsIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgZm9udC1zaXplOiAxZW07XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1pbnRlcnZhbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctaG90a2V5IHtcbiAgICAgICAgZm9udC1zaXplOiAwLjc1ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgbWFyZ2luLXRvcDogNHB4O1xuICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctYnRuOmhvdmVyIC5yYXRpbmctaG90a2V5IHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgIH1cblxuICAgXG5cbiAgICAgIC5jbG96ZS1ibGFuayB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbWluLXdpZHRoOiA2MHB4O1xuICAgICAgICBwYWRkaW5nOiAycHggOHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICB9XG5cbiAgICAgICAgICBcblxuICAgICAgLnRhYmxlLWFuc3dlciwgLnRhYmxlLXF1ZXN0aW9uIHtcbiAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICAuY2xvemUtdGFibGUtY29sdW1ucyB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlci1jZWxsIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICBwYWRkaW5nOiAwcHggNHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlci1jZWxsLmNvcnJlY3Qge1xuICAgICAgICAgY29sb3I6ICMyZWEwNDM7XG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlci1jZWxsLnBhcnRpYWwge1xuICAgICAgICBjb2xvcjogI2ZmOWYwYTtcblxuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXItY2VsbC53cm9uZyB7XG4gICAgICAgY29sb3I6ICNlNTUzNGI7XG5cbiAgICAgIH1cblxuICAgICAgLyogXHU4ODY4XHU2ODNDXHU1MzU1XHU1MTQzXHU2ODNDXHU2QjYzXHU3ODZFXHU2MDI3XHU5ODlDXHU4MjcyICovXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlLnVzZXItYW5zd2VyLXRhYmxlIHRkLmNlbGwtY29ycmVjdCxcbi5sZWFybmluZy1zeXN0ZW0tdGFibGUudXNlci1hbnN3ZXItdGFibGUgdGguY2VsbC1jb3JyZWN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg0MCwgMTY3LCA2OSwgMC4xKTtcbn1cblxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZS51c2VyLWFuc3dlci10YWJsZSB0ZC5jZWxsLXBhcnRpYWwsXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlLnVzZXItYW5zd2VyLXRhYmxlIHRoLmNlbGwtcGFydGlhbCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxOTMsIDcsIDAuMTUpO1xufVxuXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlLnVzZXItYW5zd2VyLXRhYmxlIHRkLmNlbGwtd3JvbmcsXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlLnVzZXItYW5zd2VyLXRhYmxlIHRoLmNlbGwtd3Jvbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjEpO1xufVxuXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlLnVzZXItYW5zd2VyLXRhYmxlIC51c2VyLWFuc3dlci1jZWxsIHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbi8vIFx1NTcyOCByZXZpZXdTdHlsZS5pbmplY3QoKSBcdTRFMkRcdTZERkJcdTUyQTBcdTYzRDBcdTc5M0FcdTY4MzdcdTVGMEZcblxuLmNsb3plLWlucHV0LWhpbnQge1xuICBmb250LXNpemU6IDAuODVlbTtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICBwYWRkaW5nOiA4cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG59XG4vLyBcdTU3MjggcmV2aWV3U3R5bGUuaW5qZWN0KCkgXHU2NUI5XHU2Q0Q1XHU0RTJEXHU2REZCXHU1MkEwOlxuXG4vKiBcdTUzNTVcdTRFMkFcdThGOTNcdTUxNjVcdTY4NDZcdTY4MzdcdTVGMEYgKi9cbi5zaW5nbGUtaW5wdXQtZ3JvdXAge1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xufVxuXG4uY2xvemUtc2luZ2xlLWlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzO1xufVxuXG4uY2xvemUtc2luZ2xlLWlucHV0OmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuXG5cbi5jbG96ZS1pbnB1dC1oaW50IGNvZGUge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIHBhZGRpbmc6IDJweCA2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcbiAgZm9udC1zaXplOiAwLjllbTtcbn1cblxuLyogXHU5ODg0XHU4OUM4XHU1MzNBXHU1N0RGICovXG4uYW5zd2VyLXByZXZpZXctYXJlYSB7XG4gIG1hcmdpbi10b3A6IDE2cHg7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xufVxuXG4uYW5zd2VyLXByZXZpZXctYXJlYSBoNSB7XG4gIG1hcmdpbjogMCAwIDhweCAwO1xuICBmb250LXNpemU6IDAuOWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGxldHRlci1zcGFjaW5nOiAwLjVweDtcbn1cblxuLnByZXZpZXctbGlzdCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZy1sZWZ0OiAyNHB4O1xuICBsaXN0LXN0eWxlOiBkZWNpbWFsO1xufVxuXG4ucHJldmlldy1pdGVtIHtcbiAgcGFkZGluZzogNnB4IDhweDtcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG59XG5cbi5wcmV2aWV3LWl0ZW0uZmlsbGVkIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLnByZXZpZXctaXRlbS5lbXB0eSB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogdmFyKC0tdGV4dC1mYWludCk7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICBUYWJsZSBTdHlsZXNcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUge1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgbWFyZ2luOiA4cHggMDtcbiAgZm9udC1zaXplOiAxM3B4O1xufVxuXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRoLFxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0ZCB7XG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gIGhlaWdodDogMjJweDsgICAgICAgIFxuICBwYWRkaW5nOiAycHggNHB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xufVxuXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRoIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBmb250LXdlaWdodDogNDAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xufVxuXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRkIHtcbiAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbn1cblxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0cjpob3ZlciB0ZCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xufVxuXG4vKiBcdTIxOTAgXHU2NUIwXHU1ODlFOlx1ODhBQlx1NjMxNlx1N0E3QVx1NzY4NFx1NTM1NVx1NTE0M1x1NjgzQ1x1ODBDQ1x1NjY2Rlx1ODI3MihcdTY2M0VcdTc5M0FcdTdCNTRcdTY4NDhcdTUyNEQpICovXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRkOmhhcyguY2xvemUtYmxhbmspLFxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0aDpoYXMoLmNsb3plLWJsYW5rKSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoODAsIDEyNiwgOTEsIDAuMSk7XG59XG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRoLmhhcy1jbG96ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDAsIDE2NywgNjksIDAuMTUpICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgcmdiYSg0MCwgMTY3LCA2OSwgMC42KTtcbn1cbi8qIFx1MjE5MCBcdTY1QjBcdTU4OUU6XHU4OEFCXHU2MzE2XHU3QTdBXHU3Njg0XHU1MzU1XHU1MTQzXHU2ODNDXHU4MENDXHU2NjZGXHU4MjcyKFx1NjYzRVx1NzkzQVx1N0I1NFx1Njg0OFx1NTQwRSxcdTVERjJcdTYzRURcdTc5M0EpICovXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRkOmhhcyhzcGFuLnJldmVhbGVkKSxcbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGg6aGFzKHNwYW4ucmV2ZWFsZWQpXG57XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzAsIDExMywgODAsIDAuMTUpO1xuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHJnYmEoNDAsIDE2NywgNjksIDAuNSk7XG59XG5cbi8qIFVzZXIgQW5zd2VyIFRhYmxlIC0gQ2VsbCBjb3JyZWN0bmVzcyBiYWNrZ3JvdW5kICovXG4udXNlci1hbnN3ZXItdGFibGUgdGQuY2VsbC1jb3JyZWN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg3NiwgMTI1LCA4NSwgMC4xNSk7XG59XG5cbi8qIFx1OTg4NFx1ODlDOFx1N0I1NFx1Njg0OFx1NzY4NFx1NjgzN1x1NUYwRiAqL1xuLnByZXZpZXctYW5zd2VyIHtcblxuICBjb2xvcjogIzRhOWVmZjtcbiAgcGFkZGluZzogMnB4IDZweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4ucHJldmlldy10YWJsZSAuY2xvemUtYmxhbmsge1xuICBjb2xvcjogIzY2NjtcbiAgcGFkZGluZzogMnB4IDhweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xufVxuXG4vKiBcdTUzNjFcdTcyNDdcdTRFMkRcdTg4NjhcdTY4M0NcdTc2ODRcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTlBRDhcdTRFQUUgLSBcdTZBNTlcdTgyNzIgKi9cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgLmNhcmQtY2xvemUtaGlnaGxpZ2h0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE0MCwgMCwgMC4yNSk7XG4gIHBhZGRpbmc6IDJweCA0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbmBcbiAgICAgIDtcbn1cbiAgfSIsICIvLyBzcmMvaTE4bi90cmFuc2xhdGlvbnMudHNcbmV4cG9ydCB0eXBlIExhbmd1YWdlID0gJ2VuJyB8ICd6aC1DTic7XG5cbi8vIFx1NUI5QVx1NEU0OVx1N0ZGQlx1OEJEMVx1OTUyRVx1N0M3Qlx1NTc4QlxudHlwZSBUcmFuc2xhdGlvbktleSA9IFxuICB8ICd2aWV3Lm92ZXJ2aWV3J1xuICB8ICd2aWV3LnJldmlldydcbiAgfCAndmlldy5zdGF0cydcbiAgfCAndG9vbGJhci5zZWFyY2gnXG4gIHwgJ3Rvb2xiYXIuZmlsdGVyLmFsbCdcbiAgfCAndG9vbGJhci5maWx0ZXIuYW5ub3RhdGVkJ1xuICB8ICd0b29sYmFyLmZpbHRlci5mbGFzaGNhcmRzJ1xuICB8ICd0b29sYmFyLmdyb3VwLmZpbGUnXG4gIHwgJ3Rvb2xiYXIuZ3JvdXAuYW5ub3RhdGlvbidcbiAgfCAndG9vbGJhci5ncm91cC50YWcnXG4gIHwgJ3Rvb2xiYXIuZ3JvdXAuZGF0ZSdcbiAgfCAndG9vbGJhci5jaGVja1JldmlldydcbiAgfCAnYmF0Y2guc2VsZWN0QWxsJ1xuICB8ICdiYXRjaC5jcmVhdGUnXG4gIHwgJ2JhdGNoLmRlbGV0ZSdcbiAgfCAnYmF0Y2guY2FuY2VsJ1xuICB8ICdlbnRyeS5hbGxOb3RlcydcbiAgfCAnZW50cnkuY2FyZExpc3QnXG4gIHwgJ2xldmVsLjEnXG4gIHwgJ2xldmVsLjInXG4gIHwgJ2xldmVsLjMnXG4gIHwgJ2xldmVsLjQnXG4gIHwgJ2xldmVsLjUnXG4gIHwgJ2xldmVsLmN1cnJlbnQnXG4gIHwgJ2xldmVsLmNsaWNrRGV0YWlscydcbiAgfCAncmV2aWV3LnRvZGF5J1xuICB8ICdyZXZpZXcuc3RhcnQnXG4gIHwgJ3Jldmlldy5qdXN0RHVlJ1xuICB8ICdyZXZpZXcuZGVsYXllZCdcbiAgfCAncmV2aWV3LnVyZ2VudEhvdXJzJ1xuICB8ICdyZXZpZXcudXJnZW50RGF5cydcbiAgfCAncmV2aWV3LnN0cmVhaydcbiAgfCAnbm90aWNlLm5vU2VsZWN0aW9uJ1xuICB8ICdub3RpY2Uubm9EdWVDYXJkcydcbiAgfCAnbm90aWNlLmRlbGV0ZWQnXG4gIHwgJ25vdGljZS5zYXZlZCdcbiAgfCAnY29tbWFuZC5zY2FuRmlsZSdcbiAgfCAnY29tbWFuZC5zY2FuVmF1bHQnXG4gIHwgJ2NvbW1hbmQub3Blbk92ZXJ2aWV3J1xuICB8ICdjb21tYW5kLm9wZW5NYWluT3ZlcnZpZXcnXG4gIHwgJ2NvbW1hbmQuYWRkQW5ub3RhdGlvbidcbiAgfCAnY29tbWFuZC5zdGFydFJldmlldydcbiAgfCAnY29tbWFuZC5zaG93U3RhdHMnXG4gIHwgJ3JpYmJvbi5vdmVydmlldydcbiAgfCAncmliYm9uLnJldmlldydcbiAgfCAnbWVudS5qdW1wVG9Tb3VyY2UnXG4gIHwgJ21lbnUudG9nZ2xlQW5ub3RhdGlvbidcbiAgfCAnbWVudS5lZGl0Rmxhc2hjYXJkJ1xuICB8ICdtZW51LnF1aWNrR2VuZXJhdGUnXG4gIHwgJ21lbnUuY3JlYXRlUUEnXG4gIHwgJ21lbnUuY3JlYXRlQ2xvemUnXG4gIHwgJ21lbnUudmlld1N0YXRzJ1xuICB8ICdtZW51LmRlbGV0ZSdcbiAgfCAnc3RhdHVzLmR1ZSdcbiAgfCAnc3RhdHVzLnRvb2x0aXAnXG4gIHwgJ2VtcHR5Lm5vQ29udGVudCdcbiAgfCAnZW1wdHkubm9Eb2N1bWVudHMnXG4gIHwgJ2ZpbGVMaXN0LnRpdGxlJ1xuXG4gIHwgJ25vdGljZS5maWxlTm90Rm91bmQnXG58ICdub3RpY2UuanVtcGVkVG9Tb3VyY2UnXG58ICdub3RpY2UuanVtcEZhaWxlZCdcbnwgJ25vdGljZS5mbGFzaGNhcmROb3RGb3VuZCdcbnwgJ25vdGljZS5hbHJlYWR5SGFzRmxhc2hjYXJkcydcbnwgJ25vdGljZS5iYXRjaERlbGV0ZWQnXG58ICdjb25maXJtLmRlbGV0ZU5vdGUnXG58ICdjb25maXJtLmRlbGV0ZUZsYXNoY2FyZCdcbnwgJ2NvbmZpcm0uYmF0Y2hEZWxldGVOb3RlcydcbnwgJ2NvbmZpcm0uYmF0Y2hEZWxldGVGbGFzaGNhcmRzJ1xuICBcbnwgJ3Rvb2xiYXIuY2hlY2tSZXZpZXcudG9vbHRpcCdcblxufCAnYmF0Y2guZGVzZWxlY3RBbGwnXG58ICdiYXRjaC5kZXNlbGVjdEFsbC50b29sdGlwJ1xufCAnYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnXG58ICdiYXRjaC5ub0l0ZW1zJ1xufCAnYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0J1xufCAnYmF0Y2guY3JlYXRlLnRvb2x0aXAnXG58ICdiYXRjaC5kZWxldGUudG9vbHRpcCdcbnwgJ2JhdGNoLmNhbmNlbC50b29sdGlwJ1xuLy8gcmV2aWV3XG58ICdjb25maXJtLnJlc2V0Q2FyZFN0YXRzJ1xufCAnY29uZmlybS5yZXNldERlY2tTdGF0cydcbnwgJ25vdGljZS5kZWNrU3RhdHNSZXNldCdcbnwgJ25vdGljZS5mbGFzaGNhcmREZWxldGVkJ1xufCAnbm90aWNlLmRlbGV0ZUZsYXNoY2FyZEZhaWxlZCdcbnwgJ25vdGljZS5mbGFzaGNhcmRVcGRhdGVkJ1xufCAnbm90aWNlLnVwZGF0ZUZsYXNoY2FyZEZhaWxlZCdcbnwgJ25vdGljZS5jYXJkU3RhdHNSZXNldCdcbnwgJ25vdGljZS5yZXNldFN0YXRzRmFpbGVkJ1xuLy8gc2lkZWJhclxufCAncmV2aWV3LnRvZGF5UHJvZ3Jlc3MnXG58ICdyZXZpZXcuZGVsYXllZEhvdXJzU2hvcnQnXG58ICdncm91cC51bmNhdGVnb3JpemVkJ1xuLy8gY29tcG9uZW50L21vZGFsL2JhdGNoXG58ICdiYXRjaENyZWF0ZS50aXRsZSdcbnwgJ2JhdGNoQ3JlYXRlLmRlc2NyaXB0aW9uJ1xufCAnYmF0Y2hDcmVhdGUuY2FyZFR5cGUnXG58ICdiYXRjaENyZWF0ZS5zbWFydFR5cGUnXG58ICdiYXRjaENyZWF0ZS5zbWFydFR5cGUuZGVzYydcbnwgJ2JhdGNoQ3JlYXRlLnFhVHlwZSdcbnwgJ2JhdGNoQ3JlYXRlLnFhVHlwZS5kZXNjJ1xufCAnYmF0Y2hDcmVhdGUuY2xvemVUeXBlJ1xufCAnYmF0Y2hDcmVhdGUuY2xvemVUeXBlLmRlc2MnXG58ICdiYXRjaENyZWF0ZS5jYW5jZWwnXG58ICdiYXRjaENyZWF0ZS5jcmVhdGVCdXR0b24nXG58ICdiYXRjaENyZWF0ZS5zdWNjZXNzTm90aWNlJ1xuLy8gY29tcG9uZW50L21vZGFsL0VkaXRGbGFzaGNhcmRNb2RhbFxufCAnZWRpdENhcmQudGl0bGUnXG58ICdlZGl0Q2FyZC5kZXNjcmlwdGlvbi5xYSdcbnwgJ2VkaXRDYXJkLmRlc2NyaXB0aW9uLmNsb3plJ1xufCAnZWRpdENhcmQuaW5mby5maWxlJ1xufCAnZWRpdENhcmQuaW5mby5kZWNrJ1xufCAnZWRpdENhcmQuaW5mby5yZXZpZXdzJ1xufCAnZWRpdENhcmQuaW5mby5jb3JyZWN0J1xufCAnZWRpdENhcmQuZnJvbnQucWEnXG58ICdlZGl0Q2FyZC5mcm9udC5jbG96ZSdcbnwgJ2VkaXRDYXJkLmZyb250LmRlc2MnXG58ICdlZGl0Q2FyZC5iYWNrLnFhJ1xufCAnZWRpdENhcmQuYmFjay5jbG96ZSdcbnwgJ2VkaXRDYXJkLmJhY2suZGVzYy5xYSdcbnwgJ2VkaXRDYXJkLmJhY2suZGVzYy5jbG96ZSdcbnwgJ2VkaXRDYXJkLmNhbmNlbCdcbnwgJ2VkaXRDYXJkLnNhdmUnXG58ICdlZGl0Q2FyZC5lcnJvci5lbXB0eUZyb250J1xufCAnZWRpdENhcmQuZXJyb3IuZW1wdHlCYWNrJ1xufCAnZWRpdENhcmQuc3VjY2VzcydcbnwgJ2VkaXRDYXJkLnNhdmVGYWlsZWQnXG4vLyBjb21wb25lbnQvbW9kYWwvRmxhc2hjYXJkRWRpdE1vZGFsXG58ICdmbGFzaGNhcmRFZGl0LnRpdGxlJ1xufCAnZmxhc2hjYXJkRWRpdC5xdWVzdGlvbidcbnwgJ2ZsYXNoY2FyZEVkaXQuYW5zd2VyJ1xufCAnZmxhc2hjYXJkRWRpdC5zYXZlJ1xuLy8gY29tcG9uZW50L21vZGFsL01hbnVhbEZsYXNoY2FyZE1vZGFsLnRzXG58ICdtYW51YWxDYXJkLnRpdGxlLnFhJ1xufCAnbWFudWFsQ2FyZC50aXRsZS5jbG96ZSdcbnwgJ21hbnVhbENhcmQuZGVzY3JpcHRpb24ucWEnXG58ICdtYW51YWxDYXJkLmRlc2NyaXB0aW9uLmNsb3plJ1xufCAnbWFudWFsQ2FyZC5mcm9udC5xYSdcbnwgJ21hbnVhbENhcmQuZnJvbnQuY2xvemUnXG58ICdtYW51YWxDYXJkLmZyb250LmRlc2MucWEnXG58ICdtYW51YWxDYXJkLmZyb250LmRlc2MuY2xvemUnXG58ICdtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLnFhJ1xufCAnbWFudWFsQ2FyZC5mcm9udC5wbGFjZWhvbGRlci5jbG96ZSdcbnwgJ21hbnVhbENhcmQuYmFjay5xYSdcbnwgJ21hbnVhbENhcmQuYmFjay5jbG96ZSdcbnwgJ21hbnVhbENhcmQuYmFjay5kZXNjLnFhJ1xufCAnbWFudWFsQ2FyZC5iYWNrLmRlc2MuY2xvemUnXG58ICdtYW51YWxDYXJkLmJhY2sucGxhY2Vob2xkZXIucWEnXG58ICdtYW51YWxDYXJkLmJhY2sucGxhY2Vob2xkZXIuY2xvemUnXG58ICdtYW51YWxDYXJkLmNhbmNlbCdcbnwgJ21hbnVhbENhcmQuY3JlYXRlJ1xufCAnbWFudWFsQ2FyZC5lcnJvci5lbXB0eUZyb250J1xufCAnbWFudWFsQ2FyZC5lcnJvci5lbXB0eUJhY2snXG58ICdtYW51YWxDYXJkLnN1Y2Nlc3MucWEnXG58ICdtYW51YWxDYXJkLnN1Y2Nlc3MuY2xvemUnXG58ICdtYW51YWxDYXJkLmNyZWF0ZUZhaWxlZCdcbi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzIFxufCAnY29udGVudExpc3QuZ3JvdXAuYW5ub3RhdGVkJ1xufCAnY29udGVudExpc3QuZ3JvdXAubm90QW5ub3RhdGVkJ1xufCAnY29udGVudExpc3QuZW1wdHkubm9GbGFzaGNhcmRzJ1xufCAnY29udGVudExpc3QuZW1wdHkubm9Ob3RlcydcbnwgJ2NvbnRlbnRMaXN0LmVtcHR5LnRyeUZpbHRlcidcbnwgJ2NvbnRlbnRMaXN0LmVtcHR5LnN0YXJ0SGlnaGxpZ2h0J1xufCAnY29udGVudExpc3QuZW1wdHkubm9Db250ZW50J1xuLy8gc3JjL3VpL2NvbXBvbmVudHMvQ29udGV4dE1lbnVCdWlsZGVyLnRzXG58ICdjb250ZXh0TWVudS5qdW1wVG9Tb3VyY2UnXG58ICdjb250ZXh0TWVudS5lZGl0QW5ub3RhdGlvbidcbnwgJ2NvbnRleHRNZW51LmVkaXRGbGFzaGNhcmQnXG58ICdjb250ZXh0TWVudS5nZW5lcmF0ZUZsYXNoY2FyZCdcbnwgJ2NvbnRleHRNZW51LmNyZWF0ZVFBJ1xufCAnY29udGV4dE1lbnUuY3JlYXRlQ2xvemUnXG58ICdjb250ZXh0TWVudS52aWV3U3RhdHMnXG58ICdjb250ZXh0TWVudS5kZWxldGVOb3RlJ1xufCAnY29udGV4dE1lbnUuZWRpdENhcmQnXG58ICdjb250ZXh0TWVudS5kZWxldGVDYXJkJ1xufCAnc3RhdHMudGl0bGUnXG58ICdzdGF0cy5maWxlJ1xufCAnc3RhdHMudHlwZSdcbnwgJ3N0YXRzLnR5cGUucWEnXG58ICdzdGF0cy50eXBlLmNsb3plJ1xufCAnc3RhdHMuZGVjaydcbnwgJ3N0YXRzLnRhZ3MnXG58ICdzdGF0cy50YWdzLm5vbmUnXG58ICdzdGF0cy5yZXZpZXdDb3VudCdcbnwgJ3N0YXRzLmNvcnJlY3RDb3VudCdcbnwgJ3N0YXRzLmFjY3VyYWN5J1xufCAnc3RhdHMuYXZlcmFnZVRpbWUnXG58ICdzdGF0cy5kaWZmaWN1bHR5J1xufCAnc3RhdHMuY3JlYXRlZEF0J1xufCAnc3RhdHMubGFzdFJldmlldydcbnwgJ3N0YXRzLmxhc3RSZXZpZXcubmV2ZXInXG58ICdzdGF0cy5uZXh0UmV2aWV3J1xufCAnc3RhdHMuaW50ZXJ2YWwnXG58ICdzdGF0cy5lYXNlJ1xufCAnc3RhdHMuc2VwYXJhdG9yJ1xufCAnc3RhdHMudGltZXMnXG58ICdzdGF0cy5zZWNvbmRzJ1xufCAnc3RhdHMuZGF5cydcbi8vIHNyYy91aS9zZXJ2aWNlcy9PdmVydmlld1NlcnZpY2UudHNcbnwgJ3NlcnZpY2UuZmlsZU5vdEV4aXN0J1xufCAnc2VydmljZS5hbm5vdGF0aW9uRGVsZXRlZCdcbnwgJ3NlcnZpY2UuZmxhc2hjYXJkR2VuZXJhdGVkJ1xufCAnc2VydmljZS5nZW5lcmF0ZUZhaWxlZCdcbnwgJ3NlcnZpY2UuZmxhc2hjYXJkTm90Rm91bmQnXG58ICdzZXJ2aWNlLnNvdXJjZUZpbGVPcGVuZWQnXG58ICdzZXJ2aWNlLm5vdGVOb3RGb3VuZCdcbi8vIFx1NjcwMFx1OEZEMVx1NTIyMFx1OTY2NFxufCAnY29uZmlybS5kZWxldGVXaWxsUmVtb3ZlJ1xufCAnY29uZmlybS5ub3RlJ1xufCAnY29uZmlybS5ub3RlcydcbnwgJ2NvbmZpcm0uZmxhc2hjYXJkcydcbnwgJ2NvbmZpcm0uYW5ub3RhdGlvbidcbnwgJ2NvbmZpcm0uY2Fubm90VW5kbydcbnwgJ25vdGljZS5maWxlRGVsZXRlZCdcbnwgJ25vdGljZS5hdXRvQ2xlYW51cCdcbnwgJ3JlY2VudERlbGV0ZS50aXRsZSdcbnwgJ3JlY2VudERlbGV0ZS5lbXB0eSdcbnwgJ3JlY2VudERlbGV0ZS5yZXN0b3JlJ1xufCAncmVjZW50RGVsZXRlLmRlbGV0ZVBlcm1hbmVudGx5J1xuXG58ICdub3RpY2UubW92ZWRUb1RyYXNoJ1xufCAnbm90aWNlLmJhdGNoTW92ZWRUb1RyYXNoJ1xufCAnbm90aWNlLmZpbGVEZWxldGVkU2ltcGxlJ1xufCAnbm90aWNlLm5vdGVSZXN0b3JlZCdcbnwgJ25vdGljZS5jYXJkUmVzdG9yZWQnXG58ICdub3RpY2UuY2FyZHNSZXN0b3JlZCdcbnwgJ25vdGljZS5yZXN0b3JlRmFpbGVkJ1xufCAnbm90aWNlLnBlcm1hbmVudGx5RGVsZXRlZCdcbnwgJ25vdGljZS5kZWxldGVGYWlsZWQnXG58ICdub3RpY2UuYWxsRGVsZXRlZCdcbnwgJ3JlY2VudERlbGV0ZS5jbGVhckFsbCdcbnwgJ3JlY2VudERlbGV0ZS5lbXB0eUhpbnQnXG58ICdjb25maXJtLmNsZWFyQWxsRGVsZXRlZCdcbnwgJ2NvbmZpcm0ucmVzdG9yZUFzc29jaWF0ZWRDYXJkcydcbnwgJ2RlbGV0ZVJlYXNvbi51c2VyJ1xufCAnZGVsZXRlUmVhc29uLm5vdGUnXG58ICdkZWxldGVSZWFzb24uZmlsZSdcbnwgJ3RpbWUuanVzdE5vdydcbnwgJ3RpbWUubWludXRlc0FnbydcbnwgJ3RpbWUuaG91cnNBZ28nXG58ICd0aW1lLmRheXNBZ28nXG4vLyBkZWxldGUgY29uZmlybVxufCAnY29uZmlybS5kZWxldGVJdGVtcydcbnwgJ2NvbmZpcm0ubm90ZXNDb3VudCdcbnwgJ2NvbmZpcm0uY2FyZHNDb3VudCdcbi8vIHF1aWNrIGZsYXNoY2FyZCAgY3JlYXRvclxufCAncXVpY2tDYXJkLmNyZWF0ZWQucWEnXG58ICdxdWlja0NhcmQuY3JlYXRlZC5jbG96ZSdcbnwgJ3F1aWNrQ2FyZC5jcmVhdGVGYWlsZWQnXG58ICdxdWlja0NhcmQubm9LZXl3b3JkcydcbnwgJ3F1aWNrQ2FyZC5ub0RlbGV0aW9ucydcbnwgJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LmhlYWRpbmcnXG58ICdxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5zaG9ydCdcbnwgJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0Lm1lZGl1bSdcbnwgJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LmxvbmcnXG4vLyBVbmxvY2tTeXN0ZW1cbnwgJ3VubG9jay5sZXZlbC4xJ1xufCAndW5sb2NrLmxldmVsLjInXG58ICd1bmxvY2subGV2ZWwuMydcbnwgJ3VubG9jay5sZXZlbC40J1xufCAndW5sb2NrLmxldmVsLjUnXG58ICd1bmxvY2subGV2ZWxVcC4xJ1xufCAndW5sb2NrLmxldmVsVXAuMidcbnwgJ3VubG9jay5sZXZlbFVwLjMnXG58ICd1bmxvY2subGV2ZWxVcC40J1xufCAndW5sb2NrLmxldmVsVXAuNSdcbnwgJ3VubG9jay5wcm9ncmVzcy5jYXJkc0V4dHJhY3RlZCdcbnwgJ3VubG9jay5wcm9ncmVzcy5hbm5vdGF0aW9uc0NvbXBsZXRlZCdcbnwgJ3VubG9jay5wcm9ncmVzcy5jYXJkc1Jldmlld2VkJ1xufCAndW5sb2NrLnByb2dyZXNzLnRhYmxlc1NjYW5uZWQnXG58ICd1bmxvY2sucHJvZ3Jlc3MuY29uc2VjdXRpdmVEYXlzJ1xufCAndW5sb2NrLnByb2dyZXNzLnRvdGFsRGF5cydcbnwgJ3VubG9jay5wcm9ncmVzcy5zdGF0c1BhZ2VWaXNpdGVkJ1xufCAndW5sb2NrLm5leHRTdGVwcy5sZXZlbDEnXG58ICd1bmxvY2submV4dFN0ZXBzLmxldmVsMidcbnwgJ3VubG9jay5uZXh0U3RlcHMubGV2ZWwzJ1xufCAndW5sb2NrLm5leHRTdGVwcy5sZXZlbDQnXG58ICd1bmxvY2submV4dFN0ZXBzLmxldmVsNSdcbnwgJ3VubG9jay5tb2RhbC50aXRsZSdcbnwgJ3VubG9jay5tb2RhbC5yZXF1aXJlTGV2ZWwnXG58ICd1bmxvY2subW9kYWwuY3VycmVudFByb2dyZXNzJ1xufCAndW5sb2NrLmxldmVsSW5mby50aXRsZSdcbnwgJ3VubG9jay5sZXZlbEluZm8uY3VtdWxhdGl2ZVN0YXRzJ1xufCAndW5sb2NrLmxldmVsSW5mby5taWxlc3RvbmVzJ1xufCAndW5sb2NrLnN0YXQuY2FyZHNFeHRyYWN0ZWQnXG58ICd1bmxvY2suc3RhdC5hbm5vdGF0aW9uc0NvbXBsZXRlZCdcbnwgJ3VubG9jay5zdGF0LmNhcmRzUmV2aWV3ZWQnXG58ICd1bmxvY2suc3RhdC50YWJsZXNTY2FubmVkJ1xufCAndW5sb2NrLnN0YXQuY29uc2VjdXRpdmVEYXlzJ1xufCAndW5sb2NrLnN0YXQudG90YWxEYXlzJ1xufCAndW5sb2NrLmNvbW11bml0eS5sb2NrZWQnXG58ICd1bmxvY2suY29tbXVuaXR5LmxpbmsnXG5cblxufCAnZmlsdGVyLnVuYW5ub3RhdGVkJ1xuLy8gdW5sb2NrIHJlZmFjdG9yXG58ICd1bmxvY2suc3RhdC5ub3Rlc0V4dHJhY3RlZEFzVGV4dCdcbnwgJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNRQSdcbnwgJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNDbG96ZSdcbnwgJ3VubG9jay5zdGF0Lm5vdGVzU2Nhbm5lZCdcbi8vIGNvbnRlbnQgY2FyZFxufCAnY2FyZC5xdWVzdGlvbidcbnwgJ2NhcmQuYW5zd2VyJ1xufCAnY2FyZC5qdXN0RHVlJ1xufCAnY2FyZC5kZWxheWVkTWludXRlcydcbnwgJ2NhcmQuZGVsYXllZEhvdXJzJ1xufCAnY2FyZC5kZWxheWVkRGF5cydcbnwgJ2NhcmQuZHVlSW5NaW51dGVzJ1xufCAnY2FyZC5kdWVJbkhvdXJzJ1xufCAnY2FyZC5kdWVJbkRheXMnXG5cbi8vIFx1NUI5QVx1NEU0OVx1N0ZGQlx1OEJEMVx1NUI1N1x1NTE3OFx1N0M3Qlx1NTc4QlxudHlwZSBUcmFuc2xhdGlvbkRpY3QgPSBSZWNvcmQ8VHJhbnNsYXRpb25LZXksIHN0cmluZz4gJiB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZzsgLy8gXHU2REZCXHU1MkEwXHU3RDIyXHU1RjE1XHU3QjdFXHU1NDBEXHU0RUU1XHU2NTJGXHU2MzAxXHU1MkE4XHU2MDAxXHU5NTJFXG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRpb25zOiBSZWNvcmQ8TGFuZ3VhZ2UsIFRyYW5zbGF0aW9uRGljdD4gPSB7XG4gIGVuOiB7XG4gICAgLy8gVmlldyB0aXRsZXNcbiAgICAndmlldy5vdmVydmlldyc6ICdMZWFybmluZyBPdmVydmlldycsXG4gICAgJ3ZpZXcucmV2aWV3JzogJ1JldmlldycsXG4gICAgJ3ZpZXcuc3RhdHMnOiAnU3RhdGlzdGljcycsXG4gICAgXG4gICAgLy8gVG9vbGJhclxuICAgICd0b29sYmFyLnNlYXJjaCc6ICdTZWFyY2guLi4nLFxuICAgICd0b29sYmFyLmZpbHRlci5hbGwnOiAnQWxsJyxcbiAgICAndG9vbGJhci5maWx0ZXIuYW5ub3RhdGVkJzogJ0Fubm90YXRlZCcsXG4gICAgJ3Rvb2xiYXIuZmlsdGVyLmZsYXNoY2FyZHMnOiAnRmxhc2hjYXJkcycsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAuZmlsZSc6ICdCeSBGaWxlJyxcbiAgICAndG9vbGJhci5ncm91cC5hbm5vdGF0aW9uJzogJ0J5IEFubm90YXRpb24nLFxuICAgICd0b29sYmFyLmdyb3VwLnRhZyc6ICdCeSBUYWcnLFxuICAgICd0b29sYmFyLmdyb3VwLmRhdGUnOiAnQnkgRGF0ZScsXG4gICAgJ3Rvb2xiYXIuY2hlY2tSZXZpZXcnOiAnQ2hlY2sgUmV2aWV3JyxcbiAgICBcbiAgICAvLyBCYXRjaCBhY3Rpb25zXG4gICAgJ2JhdGNoLnNlbGVjdEFsbCc6ICdTZWxlY3QgQWxsJyxcbiAgICAnYmF0Y2guY3JlYXRlJzogJ0NyZWF0ZSBGbGFzaGNhcmRzJyxcbiAgICAnYmF0Y2guZGVsZXRlJzogJ0RlbGV0ZScsXG4gICAgJ2JhdGNoLmNhbmNlbCc6ICdDYW5jZWwnLFxuICAgIFxuICAgIC8vIEZpeGVkIGVudHJpZXNcbiAgICAnZW50cnkuYWxsTm90ZXMnOiAnQWxsIE5vdGVzJyxcbiAgICAnZW50cnkuY2FyZExpc3QnOiAnQ2FyZCBMaXN0JyxcbiAgICBcbiAgICAvLyBMZXZlbCBuYW1lc1xuICAgICdsZXZlbC4xJzogJ0NvbGxlY3RvcicsXG4gICAgJ2xldmVsLjInOiAnVGhpbmtlcicsXG4gICAgJ2xldmVsLjMnOiAnTWVtb3JpemVyJyxcbiAgICAnbGV2ZWwuNCc6ICdUcmFpbmVyJyxcbiAgICAnbGV2ZWwuNSc6ICdBbmFseXN0JyxcbiAgICAnbGV2ZWwuY3VycmVudCc6ICdDdXJyZW50IExldmVsJyxcbiAgICAnbGV2ZWwuY2xpY2tEZXRhaWxzJzogJ0NsaWNrIGZvciBkZXRhaWxzJyxcbiAgICBcbiAgICAvLyBSZXZpZXcgcmVtaW5kZXJcbiAgICAncmV2aWV3LnRvZGF5JzogJ1RvZGF5XFwncyBSZXZpZXcnLFxuICAgICdyZXZpZXcuc3RhcnQnOiAnU3RhcnQgUmV2aWV3JyxcbiAgICAncmV2aWV3Lmp1c3REdWUnOiAnXHUyM0YwIEp1c3QgZHVlLCByZXZpZXcgd2hpbGUgaG90JyxcbiAgICAncmV2aWV3LmRlbGF5ZWQnOiAnXHUyNkEwXHVGRTBGIFJldmlldyBkZWxheWVkIHtob3Vyc30gaG91cnMnLFxuICAgICdyZXZpZXcudXJnZW50SG91cnMnOiAnXHUyNkEwXHVGRTBGIFJldmlldyBkZWxheWVkIHtob3Vyc30gaG91cnMsIHJlY29tbWVuZCBwcmlvcml0eScsXG4gICAgJ3Jldmlldy51cmdlbnREYXlzJzogJ1x1RDgzRFx1REVBOCBSZXZpZXcgZGVsYXllZCB7ZGF5c30gZGF5cywgY2xlYXIgQVNBUCEnLFxuICAgICdyZXZpZXcuc3RyZWFrJzogJ1x1RDgzRFx1REQyNSBEYXkge2RheXN9IHN0cmVhayEnLFxuICAgIFxuICAgIC8vIE5vdGljZXNcbiAgICAnbm90aWNlLm5vU2VsZWN0aW9uJzogJ1x1MjZBMFx1RkUwRiBObyBpdGVtcyBzZWxlY3RlZCcsXG4gICAgJ25vdGljZS5ub0R1ZUNhcmRzJzogJ05vIGNhcmRzIGR1ZSBmb3IgcmV2aWV3IScsXG4gICAgJ25vdGljZS5kZWxldGVkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBEZWxldGVkJyxcbiAgICAnbm90aWNlLnNhdmVkJzogJ1x1MjcwNSBTYXZlZCcsXG4gICAgXG4gICAgLy8gQ29tbWFuZHNcbiAgICAnY29tbWFuZC5zY2FuRmlsZSc6ICdTY2FuIGN1cnJlbnQgZmlsZSBmb3IgY29udGVudCcsXG4gICAgJ2NvbW1hbmQuc2NhblZhdWx0JzogJ1NjYW4gZW50aXJlIHZhdWx0JyxcbiAgICAnY29tbWFuZC5vcGVuT3ZlcnZpZXcnOiAnT3BlbiBMZWFybmluZyBPdmVydmlldyhTaWRlYmFyKScsXG4gICAgJ2NvbW1hbmQub3Blbk1haW5PdmVydmlldyc6ICdUb2dnbGUgTGVhcm5pbmcgT3ZlcnZpZXcgKE1haW4gVmlldyknLFxuICAgICdjb21tYW5kLmFkZEFubm90YXRpb24nOiAnQWRkIGZpbGUgYW5ub3RhdGlvbicsXG4gICAgJ2NvbW1hbmQuc3RhcnRSZXZpZXcnOiAnU3RhcnQgZmxhc2hjYXJkIHJldmlldycsXG4gICAgJ2NvbW1hbmQuc2hvd1N0YXRzJzogJ1Nob3cgZmxhc2hjYXJkIHN0YXRpc3RpY3MnLFxuICAgIFxuICAgIC8vIFJpYmJvbnNcbiAgICAncmliYm9uLm92ZXJ2aWV3JzogJ09wZW4gTGVhcm5pbmcgT3ZlcnZpZXcoU2lkZWJhciknLFxuICAgICdyaWJib24ucmV2aWV3JzogJ1N0YXJ0IFJldmlldycsXG4gICAgXG4gICAgLy8gQ29udGV4dCBtZW51XG4gICAgJ21lbnUuanVtcFRvU291cmNlJzogJ0p1bXAgdG8gU291cmNlJyxcbiAgICAnbWVudS50b2dnbGVBbm5vdGF0aW9uJzogJ1RvZ2dsZSBBbm5vdGF0aW9uJyxcbiAgICAnbWVudS5lZGl0Rmxhc2hjYXJkJzogJ0VkaXQgRmxhc2hjYXJkJyxcbiAgICAnbWVudS5xdWlja0dlbmVyYXRlJzogJ1F1aWNrIEdlbmVyYXRlJyxcbiAgICAnbWVudS5jcmVhdGVRQSc6ICdDcmVhdGUgUSZBJyxcbiAgICAnbWVudS5jcmVhdGVDbG96ZSc6ICdDcmVhdGUgQ2xvemUnLFxuICAgICdtZW51LnZpZXdTdGF0cyc6ICdWaWV3IFN0YXRzJyxcbiAgICAnbWVudS5kZWxldGUnOiAnRGVsZXRlJyxcbiAgICBcbiAgICAvLyBTdGF0dXMgYmFyXG4gICAgJ3N0YXR1cy5kdWUnOiAne2NvdW50fSBkdWUnLFxuICAgICdzdGF0dXMudG9vbHRpcCc6ICd7ZHVlfSBjYXJkcyBkdWUgZm9yIHJldmlld1xcbntuZXd9IG5ldyBjYXJkcycsXG4gICAgXG4gICAgLy8gTWlzY1xuICAgICdlbXB0eS5ub0NvbnRlbnQnOiAnTm8gY29udGVudCB5ZXQnLFxuICAgICdlbXB0eS5ub0RvY3VtZW50cyc6ICdObyBkb2N1bWVudHMnLFxuICAgICdmaWxlTGlzdC50aXRsZSc6ICdcdUQ4M0RcdURDQzEgRG9jdW1lbnRzJyxcblxuICAgICdub3RpY2UuZmlsZU5vdEZvdW5kJzogJ1x1Mjc0QyBTb3VyY2UgZmlsZSBub3QgZm91bmQnLFxuJ25vdGljZS5qdW1wZWRUb1NvdXJjZSc6ICdcdTI3MDUgSnVtcGVkIHRvIHNvdXJjZScsXG4nbm90aWNlLmp1bXBGYWlsZWQnOiAnXHUyNzRDIEp1bXAgZmFpbGVkJyxcbidub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIEZsYXNoY2FyZCBub3QgZm91bmQnLFxuJ25vdGljZS5hbHJlYWR5SGFzRmxhc2hjYXJkcyc6ICdcdTI2QTBcdUZFMEYgU2VsZWN0ZWQgbm90ZXMgYWxyZWFkeSBoYXZlIGZsYXNoY2FyZHMnLFxuJ25vdGljZS5iYXRjaERlbGV0ZWQnOiAnXHUyNzA1IERlbGV0ZWQge3N1Y2Nlc3N9IGl0ZW1zJyxcbidjb25maXJtLmRlbGV0ZU5vdGUnOiAnRGVsZXRlIHRoaXMgbm90ZT8nLFxuJ2NvbmZpcm0uZGVsZXRlRmxhc2hjYXJkJzogJ0RlbGV0ZSB0aGlzIGZsYXNoY2FyZD8nLFxuJ2NvbmZpcm0uYmF0Y2hEZWxldGVOb3Rlcyc6ICdEZWxldGUge2NvdW50fSBzZWxlY3RlZCBub3Rlcz8nLFxuJ2NvbmZpcm0uYmF0Y2hEZWxldGVGbGFzaGNhcmRzJzogJ0RlbGV0ZSB7Y291bnR9IHNlbGVjdGVkIGZsYXNoY2FyZHM/JyxcbiBcbid0b29sYmFyLmNoZWNrUmV2aWV3LnRvb2x0aXAnOiAnQ2hlY2sgaWYgdGhlcmUgYXJlIGNhcmRzIHRvIHJldmlldycsXG5cbidiYXRjaC5kZXNlbGVjdEFsbCc6ICdEZXNlbGVjdCBBbGwnLFxuJ2JhdGNoLmRlc2VsZWN0QWxsLnRvb2x0aXAnOiAnRGVzZWxlY3QgYWxsIGl0ZW1zIG9uIGN1cnJlbnQgcGFnZScsXG4nYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnOiAnU2VsZWN0IGFsbCB7Y291bnR9IGl0ZW1zJyxcbidiYXRjaC5ub0l0ZW1zJzogJ05vIGl0ZW1zIHRvIHNlbGVjdCcsXG4nYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0JzogJ1BsZWFzZSBzZWxlY3QgXCJBbm5vdGF0ZWRcIiBvciBcIk5vdCBBbm5vdGF0ZWRcIiBmaXJzdCcsXG4nYmF0Y2guY3JlYXRlLnRvb2x0aXAnOiAnQmF0Y2ggY3JlYXRlIGZsYXNoY2FyZHMnLFxuJ2JhdGNoLmRlbGV0ZS50b29sdGlwJzogJ0JhdGNoIGRlbGV0ZScsXG4nYmF0Y2guY2FuY2VsLnRvb2x0aXAnOiAnRXhpdCBiYXRjaCBtb2RlIGFuZCBjbGVhciBhbGwgc2VsZWN0aW9ucycsXG5cbi8vIHJldmlld1xuJ2NvbmZpcm0ucmVzZXRDYXJkU3RhdHMnOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0IHRoaXMgY2FyZFxcJ3MgbGVhcm5pbmcgcHJvZ3Jlc3M/Jyxcbidjb25maXJtLnJlc2V0RGVja1N0YXRzJzogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCBhbGwgbGVhcm5pbmcgcHJvZ3Jlc3MgZm9yIGRlY2sgXCJ7ZGVja31cIj8nLFxuJ25vdGljZS5kZWNrU3RhdHNSZXNldCc6ICdcdTI3MDUgRGVjayBcIntkZWNrfVwiIHN0YXRpc3RpY3MgcmVzZXQnLFxuJ25vdGljZS5mbGFzaGNhcmREZWxldGVkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBGbGFzaGNhcmQgZGVsZXRlZCcsXG4nbm90aWNlLmRlbGV0ZUZsYXNoY2FyZEZhaWxlZCc6ICdcdTI3NEMgRmFpbGVkIHRvIGRlbGV0ZSBmbGFzaGNhcmQnLFxuJ25vdGljZS5mbGFzaGNhcmRVcGRhdGVkJzogJ1x1MjcwNSBGbGFzaGNhcmQgdXBkYXRlZCcsXG4nbm90aWNlLnVwZGF0ZUZsYXNoY2FyZEZhaWxlZCc6ICdcdTI3NEMgRmFpbGVkIHRvIHVwZGF0ZSBmbGFzaGNhcmQnLFxuJ25vdGljZS5jYXJkU3RhdHNSZXNldCc6ICdcdTI3MDUgQ2FyZCBzdGF0aXN0aWNzIHJlc2V0Jyxcbidub3RpY2UucmVzZXRTdGF0c0ZhaWxlZCc6ICdcdTI3NEMgRmFpbGVkIHRvIHJlc2V0IHN0YXRpc3RpY3MnLFxuLy8gc2lkZWJhclxuJ3Jldmlldy50b2RheVByb2dyZXNzJzogJ1RvZGF5XFwncyBSZXZpZXc6IHtyZXZpZXdlZH0gLyB7dG90YWx9JyxcbidyZXZpZXcuZGVsYXllZEhvdXJzU2hvcnQnOiAnXHUyNkEwXHVGRTBGIFJldmlldyBkZWxheWVkIHtob3Vyc30gaG91cnMsIGdvb2QgdGltZSB0byBoYW5kbGUnLFxuJ2dyb3VwLnVuY2F0ZWdvcml6ZWQnOiAnVW5jYXRlZ29yaXplZCcsXG5cblxuLy8gY29tcG9uZW50L21vZGFsL2JhdGNoXG5cbidiYXRjaENyZWF0ZS50aXRsZSc6ICdcdTI2QTEgQmF0Y2ggQ3JlYXRlIEZsYXNoY2FyZHMnLFxuICAnYmF0Y2hDcmVhdGUuZGVzY3JpcHRpb24nOiAnQ3JlYXRlIGZsYXNoY2FyZHMgZm9yIHtjb3VudH0gbm90ZXMgd2l0aG91dCBjYXJkcycsXG4gICdiYXRjaENyZWF0ZS5jYXJkVHlwZSc6ICdDYXJkIFR5cGUnLFxuICAnYmF0Y2hDcmVhdGUuc21hcnRUeXBlJzogJ1x1MjZBMSBTbWFydCBSZWNvZ25pdGlvbicsXG4gICdiYXRjaENyZWF0ZS5zbWFydFR5cGUuZGVzYyc6ICdBdXRvbWF0aWNhbGx5IGNob29zZSB0aGUgYmVzdCB0eXBlJyxcbiAgJ2JhdGNoQ3JlYXRlLnFhVHlwZSc6ICdcdUQ4M0RcdURDREQgUSZBIENhcmQnLFxuICAnYmF0Y2hDcmVhdGUucWFUeXBlLmRlc2MnOiAnUXVlc3Rpb24gYW5kIGFuc3dlciBmb3JtYXQnLFxuICAnYmF0Y2hDcmVhdGUuY2xvemVUeXBlJzogJ1x1MjcwRlx1RkUwRiBDbG96ZSBDYXJkJyxcbiAgJ2JhdGNoQ3JlYXRlLmNsb3plVHlwZS5kZXNjJzogJ0ZpbGwgaW4gdGhlIGJsYW5rJyxcbiAgJ2JhdGNoQ3JlYXRlLmNhbmNlbCc6ICdDYW5jZWwnLFxuICAnYmF0Y2hDcmVhdGUuY3JlYXRlQnV0dG9uJzogJ0NyZWF0ZSB7Y291bnR9IGNhcmRzJyxcbiAgJ2JhdGNoQ3JlYXRlLnN1Y2Nlc3NOb3RpY2UnOiAnXHUyNzA1IENyZWF0ZWQge3N1Y2Nlc3N9IGZsYXNoY2FyZHMhIHtmYWlsZWR9IGZhaWxlZCcsXG4vLyBjb21wb25lbnQvbW9kYWwvRWRpdEZsYXNoY2FyZE1vZGFsXG4nZWRpdENhcmQudGl0bGUnOiAnXHUyNzBGXHVGRTBGIEVkaXQgRmxhc2hjYXJkJyxcbidlZGl0Q2FyZC5kZXNjcmlwdGlvbi5xYSc6ICdFZGl0IFEmQSBjYXJkIGNvbnRlbnQnLFxuJ2VkaXRDYXJkLmRlc2NyaXB0aW9uLmNsb3plJzogJ0VkaXQgQ2xvemUgY2FyZCBjb250ZW50JyxcbidlZGl0Q2FyZC5pbmZvLmZpbGUnOiAnXHVEODNEXHVEQ0MxIEZpbGUnLFxuJ2VkaXRDYXJkLmluZm8uZGVjayc6ICdcdUQ4M0RcdURDREEgRGVjaycsXG4nZWRpdENhcmQuaW5mby5yZXZpZXdzJzogJ1x1RDgzRFx1RENDQSBSZXZpZXdzJyxcbidlZGl0Q2FyZC5pbmZvLmNvcnJlY3QnOiAnQ29ycmVjdCcsXG4nZWRpdENhcmQuZnJvbnQucWEnOiAnUXVlc3Rpb24gKEZyb250KScsXG4nZWRpdENhcmQuZnJvbnQuY2xvemUnOiAnRnVsbCBUZXh0JyxcbidlZGl0Q2FyZC5mcm9udC5kZXNjJzogJ0NvbnRlbnQgc2hvd24gb24gY2FyZCBmcm9udCcsXG4nZWRpdENhcmQuYmFjay5xYSc6ICdBbnN3ZXIgKEJhY2spJyxcbidlZGl0Q2FyZC5iYWNrLmNsb3plJzogJ0Nsb3plIEFuc3dlcnMnLFxuJ2VkaXRDYXJkLmJhY2suZGVzYy5xYSc6ICdBbnN3ZXIgc2hvd24gb24gY2FyZCBiYWNrJyxcbidlZGl0Q2FyZC5iYWNrLmRlc2MuY2xvemUnOiAnU2VwYXJhdGUgbXVsdGlwbGUgYW5zd2VycyB3aXRoIGNvbW1hcycsXG4nZWRpdENhcmQuY2FuY2VsJzogJ0NhbmNlbCcsXG4nZWRpdENhcmQuc2F2ZSc6ICdTYXZlJyxcbidlZGl0Q2FyZC5lcnJvci5lbXB0eUZyb250JzogJ1x1MjZBMFx1RkUwRiBRdWVzdGlvbi9UZXh0IGNhbm5vdCBiZSBlbXB0eScsXG4nZWRpdENhcmQuZXJyb3IuZW1wdHlCYWNrJzogJ1x1MjZBMFx1RkUwRiBBbnN3ZXIgY2Fubm90IGJlIGVtcHR5JyxcbidlZGl0Q2FyZC5zdWNjZXNzJzogJ1x1MjcwNSBGbGFzaGNhcmQgdXBkYXRlZCcsXG4nZWRpdENhcmQuc2F2ZUZhaWxlZCc6ICdcdTI3NEMgU2F2ZSBmYWlsZWQnLFxuLy8gY29tcG9uZW50L21vZGFsL0ZsYXNoY2FyZEVkaXRNb2RhbFxuJ2ZsYXNoY2FyZEVkaXQudGl0bGUnOiAnRWRpdCBGbGFzaGNhcmQnLFxuJ2ZsYXNoY2FyZEVkaXQucXVlc3Rpb24nOiAnUXVlc3Rpb24nLFxuJ2ZsYXNoY2FyZEVkaXQuYW5zd2VyJzogJ0Fuc3dlcicsXG4nZmxhc2hjYXJkRWRpdC5zYXZlJzogJ1NhdmUnLFxuLy8gY29tcG9uZW50L21vZGFsL01hbnVhbEZsYXNoY2FyZE1vZGFsLnRzXG4nbWFudWFsQ2FyZC50aXRsZS5xYSc6ICdcdTI3MEZcdUZFMEYgQ3JlYXRlIFEmQSBGbGFzaGNhcmQnLFxuJ21hbnVhbENhcmQudGl0bGUuY2xvemUnOiAnXHUyNzBGXHVGRTBGIENyZWF0ZSBDbG96ZSBGbGFzaGNhcmQnLFxuJ21hbnVhbENhcmQuZGVzY3JpcHRpb24ucWEnOiAnQ3JlYXRlIGEgUSZBIGNhcmQgd2l0aCBjdXN0b20gcXVlc3Rpb24gYW5kIGFuc3dlcicsXG4nbWFudWFsQ2FyZC5kZXNjcmlwdGlvbi5jbG96ZSc6ICdDcmVhdGUgYSBjbG96ZSBjYXJkIGJ5IG1hcmtpbmcgY29udGVudCB0byBiZSBoaWRkZW4gaW4gZnVsbCB0ZXh0JyxcbidtYW51YWxDYXJkLmZyb250LnFhJzogJ1F1ZXN0aW9uIChGcm9udCknLFxuJ21hbnVhbENhcmQuZnJvbnQuY2xvemUnOiAnRnVsbCBUZXh0JyxcbidtYW51YWxDYXJkLmZyb250LmRlc2MucWEnOiAnUXVlc3Rpb24gZGlzcGxheWVkIG9uIGNhcmQgZnJvbnQnLFxuJ21hbnVhbENhcmQuZnJvbnQuZGVzYy5jbG96ZSc6ICdDb21wbGV0ZSBzZW50ZW5jZSBvciBwYXJhZ3JhcGggY29udGFpbmluZyB0aGUgYW5zd2VyJyxcbidtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLnFhJzogJ2UuZy4sIFdoYXQgaXMgc3BhY2VkIHJlcGV0aXRpb24/JyxcbidtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLmNsb3plJzogJ2UuZy4sIFNwYWNlZCByZXBldGl0aW9uIGlzIGEgbGVhcm5pbmcgdGVjaG5pcXVlJyxcbidtYW51YWxDYXJkLmJhY2sucWEnOiAnQW5zd2VyIChCYWNrKScsXG4nbWFudWFsQ2FyZC5iYWNrLmNsb3plJzogJ0Nsb3plIENvbnRlbnQnLFxuJ21hbnVhbENhcmQuYmFjay5kZXNjLnFhJzogJ0Fuc3dlciBkaXNwbGF5ZWQgb24gY2FyZCBiYWNrJyxcbidtYW51YWxDYXJkLmJhY2suZGVzYy5jbG96ZSc6ICdLZXl3b3JkIG9yIHBocmFzZSB0byBiZSBoaWRkZW4nLFxuJ21hbnVhbENhcmQuYmFjay5wbGFjZWhvbGRlci5xYSc6ICdlLmcuLCBTcGFjZWQgcmVwZXRpdGlvbiBpcyBhIGxlYXJuaW5nIHRlY2huaXF1ZS4uLicsXG4nbWFudWFsQ2FyZC5iYWNrLnBsYWNlaG9sZGVyLmNsb3plJzogJ2UuZy4sIHNwYWNlZCByZXBldGl0aW9uJyxcbidtYW51YWxDYXJkLmNhbmNlbCc6ICdDYW5jZWwnLFxuJ21hbnVhbENhcmQuY3JlYXRlJzogJ0NyZWF0ZSBGbGFzaGNhcmQnLFxuJ21hbnVhbENhcmQuZXJyb3IuZW1wdHlGcm9udCc6ICdcdTI2QTBcdUZFMEYgUXVlc3Rpb24vVGV4dCBjYW5ub3QgYmUgZW1wdHknLFxuJ21hbnVhbENhcmQuZXJyb3IuZW1wdHlCYWNrJzogJ1x1MjZBMFx1RkUwRiBBbnN3ZXIgY2Fubm90IGJlIGVtcHR5JyxcbidtYW51YWxDYXJkLnN1Y2Nlc3MucWEnOiAnXHUyNzA1IFEmQSBmbGFzaGNhcmQgY3JlYXRlZCcsXG4nbWFudWFsQ2FyZC5zdWNjZXNzLmNsb3plJzogJ1x1MjcwNSBDbG96ZSBmbGFzaGNhcmQgY3JlYXRlZCcsXG4nbWFudWFsQ2FyZC5jcmVhdGVGYWlsZWQnOiAnXHUyNzRDIEZhaWxlZCB0byBjcmVhdGUgZmxhc2hjYXJkJyxcbi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzIFxuJ2NvbnRlbnRMaXN0Lmdyb3VwLmFubm90YXRlZCc6ICdBbm5vdGF0ZWQnLFxuJ2NvbnRlbnRMaXN0Lmdyb3VwLm5vdEFubm90YXRlZCc6ICdOb3QgQW5ub3RhdGVkJyxcbidjb250ZW50TGlzdC5lbXB0eS5ub0ZsYXNoY2FyZHMnOiAnXHVEODNEXHVEQ0VEIE5vIGZsYXNoY2FyZHMgaW4gdGhpcyBncm91cCcsXG4nY29udGVudExpc3QuZW1wdHkubm9Ob3Rlcyc6ICdObyBub3RlcyBpbiBjdXJyZW50IGRvY3VtZW50Jyxcbidjb250ZW50TGlzdC5lbXB0eS50cnlGaWx0ZXInOiAnVHJ5IHN3aXRjaGluZyBmaWx0ZXJzIHRvIHZpZXcnLFxuJ2NvbnRlbnRMaXN0LmVtcHR5LnN0YXJ0SGlnaGxpZ2h0JzogJ1N0YXJ0IGhpZ2hsaWdodGluZyB0ZXh0IHRvIGNyZWF0ZSBub3RlcycsXG4nY29udGVudExpc3QuZW1wdHkubm9Db250ZW50JzogJ05vIGNvbnRlbnQgeWV0Jyxcbi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRleHRNZW51QnVpbGRlci50c1xuJ2NvbnRleHRNZW51Lmp1bXBUb1NvdXJjZSc6ICdcdUQ4M0RcdURDRDYgSnVtcCB0byBTb3VyY2UnLFxuJ2NvbnRleHRNZW51LmVkaXRBbm5vdGF0aW9uJzogJ1x1RDgzRFx1RENBQyBFZGl0IEFubm90YXRpb24nLFxuJ2NvbnRleHRNZW51LmVkaXRGbGFzaGNhcmQnOiAnXHUyNzBGXHVGRTBGIEVkaXQgRmxhc2hjYXJkJyxcbidjb250ZXh0TWVudS5nZW5lcmF0ZUZsYXNoY2FyZCc6ICdcdTI2QTEgR2VuZXJhdGUgRmxhc2hjYXJkJyxcbidjb250ZXh0TWVudS5jcmVhdGVRQSc6ICdcdTI3OTUgQ3JlYXRlIFEmQSBDYXJkJyxcbidjb250ZXh0TWVudS5jcmVhdGVDbG96ZSc6ICdcdTI3OTUgQ3JlYXRlIENsb3plIENhcmQnLFxuJ2NvbnRleHRNZW51LnZpZXdTdGF0cyc6ICdcdUQ4M0RcdURDQ0EgVmlldyBTdGF0cycsXG4nY29udGV4dE1lbnUuZGVsZXRlTm90ZSc6ICdcdUQ4M0RcdURERDFcdUZFMEYgRGVsZXRlIE5vdGUnLFxuJ2NvbnRleHRNZW51LmVkaXRDYXJkJzogJ1x1MjcwRlx1RkUwRiBFZGl0IENhcmQnLFxuJ2NvbnRleHRNZW51LmRlbGV0ZUNhcmQnOiAnXHVEODNEXHVEREQxXHVGRTBGIERlbGV0ZSBDYXJkJyxcbidzdGF0cy50aXRsZSc6ICdcdUQ4M0RcdURDQ0EgRmxhc2hjYXJkIFN0YXRpc3RpY3MnLFxuJ3N0YXRzLmZpbGUnOiAnXHVEODNEXHVEQ0MxIEZpbGUnLFxuJ3N0YXRzLnR5cGUnOiAnXHVEODNDXHVEQ0NGIFR5cGUnLFxuJ3N0YXRzLnR5cGUucWEnOiAnUSZBJyxcbidzdGF0cy50eXBlLmNsb3plJzogJ0Nsb3plJyxcbidzdGF0cy5kZWNrJzogJ1x1RDgzRFx1RENEQSBEZWNrJyxcbidzdGF0cy50YWdzJzogJ1x1RDgzQ1x1REZGN1x1RkUwRiBUYWdzJyxcbidzdGF0cy50YWdzLm5vbmUnOiAnTm9uZScsXG4nc3RhdHMucmV2aWV3Q291bnQnOiAnXHVEODNEXHVEQ0M4IFJldmlldyBDb3VudCcsXG4nc3RhdHMuY29ycmVjdENvdW50JzogJ1x1MjcwNSBDb3JyZWN0IENvdW50JyxcbidzdGF0cy5hY2N1cmFjeSc6ICdcdUQ4M0RcdURDQ0EgQWNjdXJhY3knLFxuJ3N0YXRzLmF2ZXJhZ2VUaW1lJzogJ1x1MjNGMVx1RkUwRiBBdmVyYWdlIFRpbWUnLFxuJ3N0YXRzLmRpZmZpY3VsdHknOiAnXHVEODNDXHVERkFGIERpZmZpY3VsdHknLFxuJ3N0YXRzLmNyZWF0ZWRBdCc6ICdcdUQ4M0RcdURDQzUgQ3JlYXRlZCcsXG4nc3RhdHMubGFzdFJldmlldyc6ICdcdUQ4M0RcdUREMDQgTGFzdCBSZXZpZXcnLFxuJ3N0YXRzLmxhc3RSZXZpZXcubmV2ZXInOiAnTmV2ZXInLFxuJ3N0YXRzLm5leHRSZXZpZXcnOiAnXHUyM0YwIE5leHQgUmV2aWV3JyxcbidzdGF0cy5pbnRlcnZhbCc6ICdcdUQ4M0RcdURDQ0YgSW50ZXJ2YWwnLFxuJ3N0YXRzLmVhc2UnOiAnXHVEODNEXHVEQ0FBIEVhc2UnLFxuJ3N0YXRzLnNlcGFyYXRvcic6ICdcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDEnLFxuJ3N0YXRzLnRpbWVzJzogJ3RpbWVzJyxcbidzdGF0cy5zZWNvbmRzJzogJ3MnLFxuJ3N0YXRzLmRheXMnOiAnZGF5cycsXG4vLyBzcmMvdWkvc2VydmljZXMvT3ZlcnZpZXdTZXJ2aWNlLnRzXG4nc2VydmljZS5maWxlTm90RXhpc3QnOiAnXHUyNkEwXHVGRTBGIEZpbGUgZG9lcyBub3QgZXhpc3QnLFxuJ3NlcnZpY2UuYW5ub3RhdGlvbkRlbGV0ZWQnOiAnXHVEODNEXHVEREQxXHVGRTBGIEFubm90YXRpb24gZGVsZXRlZCcsXG4nc2VydmljZS5mbGFzaGNhcmRHZW5lcmF0ZWQnOiAnXHUyNkExIEZsYXNoY2FyZCBnZW5lcmF0ZWQnLFxuJ3NlcnZpY2UuZ2VuZXJhdGVGYWlsZWQnOiAnXHUyNzRDIEZhaWxlZCB0byBnZW5lcmF0ZSBmbGFzaGNhcmQnLFxuJ3NlcnZpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIEZsYXNoY2FyZCBub3QgZm91bmQnLFxuJ3NlcnZpY2Uuc291cmNlRmlsZU9wZW5lZCc6ICdcdTI3MDUgU291cmNlIGZpbGUgb3BlbmVkJyxcbidzZXJ2aWNlLm5vdGVOb3RGb3VuZCc6ICdcdTI2QTBcdUZFMEYgT3JpZ2luYWwgbm90ZSBub3QgZm91bmQnLFxuLy8gXHU2NzAwXHU4RkQxXHU1MjIwXHU5NjY0XG4nY29uZmlybS5kZWxldGVXaWxsUmVtb3ZlJzogJ1RoaXMgd2lsbCByZW1vdmU6Jyxcbidjb25maXJtLm5vdGUnOiAnbm90ZScsXG4nY29uZmlybS5ub3Rlcyc6ICdub3RlcycsXG4nY29uZmlybS5mbGFzaGNhcmRzJzogJ2ZsYXNoY2FyZHMnLFxuJ2NvbmZpcm0uYW5ub3RhdGlvbic6ICdhbm5vdGF0aW9uJyxcbidjb25maXJtLmNhbm5vdFVuZG8nOiAnXHUyNkEwXHVGRTBGIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUhJyxcbidub3RpY2UuZmlsZURlbGV0ZWQnOiAnXHVEODNEXHVEQ0M0IEZpbGUgXCJ7ZmlsZX1cIiBoYXMgYmVlbiBkZWxldGVkJyxcbidub3RpY2UuYXV0b0NsZWFudXAnOiAnQXV0by1jbGVhbmluZyBhc3NvY2lhdGVkIGNvbnRlbnQ6JyxcbidyZWNlbnREZWxldGUudGl0bGUnOiAnXHVEODNEXHVEREQxXHVGRTBGIFJlY2VudGx5IERlbGV0ZWQgKExhc3QgNyBEYXlzKScsXG4ncmVjZW50RGVsZXRlLmVtcHR5JzogJ05vIHJlY2VudGx5IGRlbGV0ZWQgaXRlbXMnLFxuJ3JlY2VudERlbGV0ZS5yZXN0b3JlJzogJ1Jlc3RvcmUnLFxuJ3JlY2VudERlbGV0ZS5kZWxldGVQZXJtYW5lbnRseSc6ICdEZWxldGUgUGVybWFuZW50bHknLFxuXG4nbm90aWNlLm1vdmVkVG9UcmFzaCc6ICdcdUQ4M0RcdURERDFcdUZFMEYgTW92ZWQgdG8gdHJhc2ggKHJlY292ZXJhYmxlIHdpdGhpbiA3IGRheXMpJyxcbidub3RpY2UuYmF0Y2hNb3ZlZFRvVHJhc2gnOiAnXHUyNzA1IE1vdmVkIHtzdWNjZXNzfSBpdGVtcyB0byB0cmFzaCx7ZmFpbGVkfSBmYWlsZWQnLFxuJ25vdGljZS5maWxlRGVsZXRlZFNpbXBsZSc6ICdcdUQ4M0RcdURDQzQgRmlsZSBkZWxldGVkOiB7bm90ZXN9IG5vdGVzIGFuZCB7Y2FyZHN9IGNhcmRzIG1vdmVkIHRvIHRyYXNoJyxcbidub3RpY2Uubm90ZVJlc3RvcmVkJzogJ1x1MjcwNSBOb3RlIHJlc3RvcmVkJyxcbidub3RpY2UuY2FyZFJlc3RvcmVkJzogJ1x1MjcwNSBGbGFzaGNhcmQgcmVzdG9yZWQnLFxuJ25vdGljZS5jYXJkc1Jlc3RvcmVkJzogJ1x1MjcwNSBSZXN0b3JlZCB7Y291bnR9IGZsYXNoY2FyZHMnLFxuJ25vdGljZS5yZXN0b3JlRmFpbGVkJzogJ1x1Mjc0QyBSZXN0b3JlIGZhaWxlZCcsXG4nbm90aWNlLnBlcm1hbmVudGx5RGVsZXRlZCc6ICdcdTI3MDUgUGVybWFuZW50bHkgZGVsZXRlZCcsXG4nbm90aWNlLmRlbGV0ZUZhaWxlZCc6ICdcdTI3NEMgRGVsZXRlIGZhaWxlZCcsXG4nbm90aWNlLmFsbERlbGV0ZWQnOiAnXHUyNzA1IENsZWFyZWQge25vdGVzfSBub3RlcyBhbmQge2NhcmRzfSBmbGFzaGNhcmRzIGZyb20gdHJhc2gnLFxuJ3JlY2VudERlbGV0ZS5jbGVhckFsbCc6ICdcdUQ4M0RcdURERDFcdUZFMEYgQ2xlYXIgQWxsJyxcbidyZWNlbnREZWxldGUuZW1wdHlIaW50JzogJ0RlbGV0ZWQgaXRlbXMgd2lsbCBiZSBrZXB0IGZvciA3IGRheXMnLFxuJ2NvbmZpcm0uY2xlYXJBbGxEZWxldGVkJzogJ1Blcm1hbmVudGx5IGRlbGV0ZSBhbGwgaXRlbXMgaW4gdHJhc2g/IFRoaXMgY2Fubm90IGJlIHVuZG9uZSEnLFxuJ2NvbmZpcm0ucmVzdG9yZUFzc29jaWF0ZWRDYXJkcyc6ICdSZXN0b3JlIHtjb3VudH0gYXNzb2NpYXRlZCBmbGFzaGNhcmRzPycsXG4nZGVsZXRlUmVhc29uLnVzZXInOiAnTWFudWFsIGRlbGV0aW9uJyxcbidkZWxldGVSZWFzb24ubm90ZSc6ICdOb3RlIGRlbGV0ZWQnLFxuJ2RlbGV0ZVJlYXNvbi5maWxlJzogJ0ZpbGUgZGVsZXRlZCcsXG4ndGltZS5qdXN0Tm93JzogJ0p1c3Qgbm93Jyxcbid0aW1lLm1pbnV0ZXNBZ28nOiAne21pbnV0ZXN9bSBhZ28nLFxuJ3RpbWUuaG91cnNBZ28nOiAne2hvdXJzfWggYWdvJyxcbid0aW1lLmRheXNBZ28nOiAne2RheXN9ZCBhZ28nLFxuLy8gZGVsZXRlIGNvbmZpcm1cbidjb25maXJtLmRlbGV0ZUl0ZW1zJzogJ0NvbmZpcm0gZGVsZXRpb24/Jyxcbidjb25maXJtLm5vdGVzQ291bnQnOiAne2NvdW50fSBub3RlcycsXG4nY29uZmlybS5jYXJkc0NvdW50JzogJ3tjb3VudH0gZmxhc2hjYXJkcycsXG4vLyBxdWljayBmbGFzaGNhcmQgIGNyZWF0b3JcbidxdWlja0NhcmQuY3JlYXRlZC5xYSc6ICdcdTI3MDUgRmxhc2hjYXJkIGNyZWF0ZWQhIChRJkEpJyxcbidxdWlja0NhcmQuY3JlYXRlZC5jbG96ZSc6ICdcdTI3MDUgRmxhc2hjYXJkIGNyZWF0ZWQhIChDbG96ZSB3aXRoIHtjb3VudH0gYmxhbmtzKScsXG4ncXVpY2tDYXJkLmNyZWF0ZUZhaWxlZCc6ICdcdTI3NEMgRmFpbGVkIHRvIGNyZWF0ZSBmbGFzaGNhcmQnLFxuJ3F1aWNrQ2FyZC5ub0tleXdvcmRzJzogJ1x1MjZBMFx1RkUwRiBObyBrZXl3b3JkcyBmb3VuZCBmb3IgY2xvemUgZGVsZXRpb24nLFxuJ3F1aWNrQ2FyZC5ub0RlbGV0aW9ucyc6ICdcdTI2QTBcdUZFMEYgQ291bGQgbm90IGNyZWF0ZSBjbG96ZSBkZWxldGlvbnMnLFxuJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LmhlYWRpbmcnOiAnV2hhdCBpcyB0aGUga2V5IHBvaW50IGFib3V0IFwie2hlYWRpbmd9XCI/JyxcbidxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5zaG9ydCc6ICdXaGF0IGRvZXMgXCJ7Y29udGVudH1cIiBtZWFuPycsXG4ncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQubWVkaXVtJzogJ0V4cGxhaW46IFwie2NvbnRlbnR9XCInLFxuJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LmxvbmcnOiAnV2hhdCBhcmUgdGhlIGtleSBwb2ludHMgaW4gdGhpcyBjb250ZW50PycsXG4gIC8vIFVubG9ja1N5c3RlbSAtIExldmVsIE5hbWVzXG4gICd1bmxvY2subGV2ZWwuMSc6ICdDb2xsZWN0b3InLFxuICAndW5sb2NrLmxldmVsLjInOiAnVGhpbmtlcicsXG4gICd1bmxvY2subGV2ZWwuMyc6ICdNZW1vcml6ZXInLFxuICAndW5sb2NrLmxldmVsLjQnOiAnVHJhaW5lcicsXG4gICd1bmxvY2subGV2ZWwuNSc6ICdBbmFseXN0JyxcbiAgXG4gIC8vIExldmVsIFVwIE1lc3NhZ2VzXG4gICd1bmxvY2subGV2ZWxVcC4xJzogJ1x1RDgzQ1x1REY4OSBsZXZlbC4xIFdlbGNvbWUsIENvbGxlY3RvciEnLFxuICAndW5sb2NrLmxldmVsVXAuMic6ICdcdUQ4M0NcdURGOTMgbGV2ZWwuMiBVcGdyYWRlZCB0byBUaGlua2VyIVxcblVubG9ja2VkOiBBbm5vdGF0aW9ucywgQmF0Y2ggT3BlcmF0aW9ucycsXG4gICd1bmxvY2subGV2ZWxVcC4zJzogJ1x1RDgzRVx1RERFMCBsZXZlbC4zIFlvdSBhcmUgbm93IGEgTWVtb3JpemVyIVxcblVubG9ja2VkOiBTY2FuIEZlYXR1cmVzLCBSZXZpZXcgU3lzdGVtJyxcbiAgJ3VubG9jay5sZXZlbFVwLjQnOiAnXHVEODNEXHVEQ0FBIGxldmVsLjQgUHJvbW90ZWQgdG8gVHJhaW5lciFcXG5VbmxvY2tlZDogU3RhdGlzdGljcyAmIEFuYWx5c2lzJyxcbiAgJ3VubG9jay5sZXZlbFVwLjUnOiAnXHVEODNDXHVERkM2IGxldmVsLjUgQWNoaWV2ZWQgQW5hbHlzdCFcXG5BbGwgZmVhdHVyZXMgdW5sb2NrZWQnLFxuICBcbi8vIE5leHQgU3RlcHNcbid1bmxvY2submV4dFN0ZXBzLmxldmVsMSc6ICdcdUQ4M0RcdURDRTYgRXh0cmFjdCBOb3RlczpcXG4gIFx1MjAyMiBBcyBUZXh0OiB7dGV4dH0vMlxcbiAgXHUyMDIyIEFzIFEmQToge3FhfS8yXFxuICBcdTIwMjIgQXMgQ2xvemU6IHtjbG96ZX0vMicsXG4ndW5sb2NrLm5leHRTdGVwcy5sZXZlbDInOiAnXHVEODNEXHVEQ0REIENvbXBsZXRlIEFubm90YXRpb25zOiB7YW5ub3RhdGlvbnN9LzNcXG5cdUQ4M0RcdURDQ0IgU2NhbiBOb3Rlczoge3NjYW5uZWR9LzUnLFxuJ3VubG9jay5uZXh0U3RlcHMubGV2ZWwzJzogJ1x1RDgzRFx1REQwNCBSZXZpZXcgQ2FyZHM6IHtyZXZpZXdlZH0vMzBcXG5cdUQ4M0RcdURDQ0IgU2NhbiBIaWdobGlnaHRlZCBUYWJsZXM6IHt0YWJsZXN9LzInLFxuJ3VubG9jay5uZXh0U3RlcHMubGV2ZWw0JzogJ1x1RDgzRFx1REQwNCBSZXZpZXcgQ2FyZHM6IHtyZXZpZXdlZH0vNzBcXG5cdUQ4M0RcdURDQzUgVG90YWwgRGF5czoge3RvdGFsfS8yMVxcblx1RDgzRFx1RENDQSBWaXNpdCBTdGF0cyBQYWdlOiB7dmlzaXRlZH0nLFxuJ3VubG9jay5uZXh0U3RlcHMubGV2ZWw1JzogJ1x1RDgzQ1x1REY4OSBDb25ncmF0dWxhdGlvbnMhIEFsbCBmZWF0dXJlcyB1bmxvY2tlZCFcXG5cXG5cdUQ4M0RcdUREMkUgQ29tbXVuaXR5IGZlYXR1cmUgY29taW5nIHNvb25cXG5XaWxsIGJlIGVuYWJsZWQgd2hlbiBjb25kaXRpb25zIGFyZSBtZXRcXG5cdUQ4M0RcdUREMTcgPGEgaHJlZj1cImh0dHBzOi8vanotcXVhcnR6LnBhZ2VzLmRldi82LmFib3V0LyVFNiU5OSVCQSVFNSU5QiU4QSVFNSU5QiVBMlwiIHRhcmdldD1cIl9ibGFua1wiPkxlYXJuIE1vcmUgKENsaWNrIHRvIFZpZXcpPC9hPicsXG4gXG4vLyBNb2RhbFxuICAndW5sb2NrLm1vZGFsLnRpdGxlJzogJ1x1RDgzRFx1REQxMiBGZWF0dXJlIExvY2tlZCcsXG4gICd1bmxvY2subW9kYWwucmVxdWlyZUxldmVsJzogJ1wie2ZlYXR1cmV9XCIgcmVxdWlyZXMgTHZ7bGV2ZWx9IHRvIHVubG9jaycsXG4gICd1bmxvY2subW9kYWwuY3VycmVudFByb2dyZXNzJzogJ0N1cnJlbnQgUHJvZ3Jlc3M6JyxcbiAgXG4gIC8vIExldmVsIEluZm8gTW9kYWxcbiAgJ3VubG9jay5sZXZlbEluZm8udGl0bGUnOiAnXHVEODNDXHVERkM2IEx2e2xldmVsfSB7bmFtZX0nLFxuICAndW5sb2NrLmxldmVsSW5mby5jdW11bGF0aXZlU3RhdHMnOiAnQ3VtdWxhdGl2ZSBTdGF0aXN0aWNzJyxcbiAgJ3VubG9jay5sZXZlbEluZm8ubWlsZXN0b25lcyc6ICdcdUQ4M0NcdURGQUYgQWNoaWV2ZW1lbnQgTWlsZXN0b25lcycsXG4gIFxuICAvLyBTdGF0cyBMYWJlbHNcbiAgJ3VubG9jay5zdGF0LmNhcmRzRXh0cmFjdGVkJzogJ0NhcmRzIEV4dHJhY3RlZCcsXG4gICd1bmxvY2suc3RhdC5hbm5vdGF0aW9uc0NvbXBsZXRlZCc6ICdBbm5vdGF0aW9ucyBBZGRlZCcsXG4gICd1bmxvY2suc3RhdC5jYXJkc1Jldmlld2VkJzogJ0NhcmRzIFJldmlld2VkJyxcbiAgJ3VubG9jay5zdGF0LnRhYmxlc1NjYW5uZWQnOiAnVGFibGVzIFNjYW5uZWQnLFxuICAndW5sb2NrLnN0YXQuY29uc2VjdXRpdmVEYXlzJzogJ0NvbnNlY3V0aXZlIERheXMnLFxuICAndW5sb2NrLnN0YXQudG90YWxEYXlzJzogJ1RvdGFsIERheXMnLFxuICBcbiAgLy8gUHJvZ3Jlc3MgSW5kaWNhdG9yc1xuICAndW5sb2NrLnByb2dyZXNzLmNhcmRzRXh0cmFjdGVkJzogJ1x1RDgzRFx1RENFNiBFeHRyYWN0IENhcmRzJyxcbiAgJ3VubG9jay5wcm9ncmVzcy5hbm5vdGF0aW9uc0NvbXBsZXRlZCc6ICdcdUQ4M0RcdURDREQgQ29tcGxldGUgQW5ub3RhdGlvbnMnLFxuICAndW5sb2NrLnByb2dyZXNzLmNhcmRzUmV2aWV3ZWQnOiAnXHVEODNEXHVERDA0IFJldmlldyBDYXJkcycsXG4gICd1bmxvY2sucHJvZ3Jlc3MudGFibGVzU2Nhbm5lZCc6ICdcdUQ4M0RcdURDQ0IgU2NhbiBIaWdobGlnaHRlZCBUYWJsZXMnLFxuICAndW5sb2NrLnByb2dyZXNzLmNvbnNlY3V0aXZlRGF5cyc6ICdcdUQ4M0RcdUREMjUgQ29uc2VjdXRpdmUgRGF5cycsXG4gICd1bmxvY2sucHJvZ3Jlc3MudG90YWxEYXlzJzogJ1x1RDgzRFx1RENDOCBUb3RhbCBEYXlzJyxcbiAgJ3VubG9jay5wcm9ncmVzcy5zdGF0c1BhZ2VWaXNpdGVkJzogJ1x1RDgzRFx1RENDQSBWaXNpdCBTdGF0cyBQYWdlJyxcbiAgJ3VubG9jay5jb21tdW5pdHkubG9ja2VkJzogJ0NvbW11bml0eSBmZWF0dXJlIGxvY2tlZCcsXG4ndW5sb2NrLmNvbW11bml0eS5saW5rJzogJ0xlYXJuIGFib3V0IENvbW11bml0eScsXG5cbidmaWx0ZXIudW5hbm5vdGF0ZWQnOiAnTm8gQW5ub3RhdGlvbicsXG5cbi8vIHVubG9jayByZWZhY3RvclxuJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNUZXh0JzogJ05vdGVzIGFzIFRleHQnLFxuJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNRQSc6ICdOb3RlcyBhcyBRJkEnLFxuJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNDbG96ZSc6ICdOb3RlcyBhcyBDbG96ZScsXG4ndW5sb2NrLnN0YXQubm90ZXNTY2FubmVkJzogJ05vdGVzIFNjYW5uZWQnLFxuLy8gY29udGVudCBjYXJkXG4nY2FyZC5xdWVzdGlvbic6ICdRdWVzdGlvbicsXG4nY2FyZC5hbnN3ZXInOiAnQW5zd2VyJyxcbidjYXJkLmp1c3REdWUnOiAnSnVzdCBkdWUnLFxuJ2NhcmQuZGVsYXllZE1pbnV0ZXMnOiAnRGVsYXllZCB7bWludXRlc30gbWludXRlcycsXG4nY2FyZC5kZWxheWVkSG91cnMnOiAnRGVsYXllZCB7aG91cnN9IGhvdXJzJyxcbidjYXJkLmRlbGF5ZWREYXlzJzogJ0RlbGF5ZWQge2RheXN9IGRheXMnLFxuJ2NhcmQuZHVlSW5NaW51dGVzJzogJ0R1ZSBpbiB7bWludXRlc30gbWludXRlcycsXG4nY2FyZC5kdWVJbkhvdXJzJzogJ0R1ZSBpbiB7aG91cnN9IGhvdXJzJyxcbidjYXJkLmR1ZUluRGF5cyc6ICdEdWUgaW4ge2RheXN9IGRheXMnLFxuXG5cbn0sXG5cbiAgXG4gICd6aC1DTic6IHtcbiAgICAvLyBWaWV3IHRpdGxlc1xuICAgICd2aWV3Lm92ZXJ2aWV3JzogJ1x1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOCcsXG4gICAgJ3ZpZXcucmV2aWV3JzogJ1x1NTkwRFx1NEU2MCcsXG4gICAgJ3ZpZXcuc3RhdHMnOiAnXHU3RURGXHU4QkExJyxcbiAgICBcbiAgICAvLyBUb29sYmFyXG4gICAgJ3Rvb2xiYXIuc2VhcmNoJzogJ1x1NjQxQ1x1N0QyMi4uLicsXG4gICAgJ3Rvb2xiYXIuZmlsdGVyLmFsbCc6ICdcdTUxNjhcdTkwRTgnLFxuICAgICd0b29sYmFyLmZpbHRlci5hbm5vdGF0ZWQnOiAnXHU2NzA5XHU2Mjc5XHU2Q0U4JyxcbiAgICAndG9vbGJhci5maWx0ZXIuZmxhc2hjYXJkcyc6ICdcdTY3MDlcdTk1RUFcdTUzNjEnLFxuICAgICd0b29sYmFyLmdyb3VwLmZpbGUnOiAnXHU2MzA5XHU2NTg3XHU0RUY2JyxcbiAgICAndG9vbGJhci5ncm91cC5hbm5vdGF0aW9uJzogJ1x1NjMwOVx1NjI3OVx1NkNFOCcsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAudGFnJzogJ1x1NjMwOVx1NjgwN1x1N0I3RScsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAuZGF0ZSc6ICdcdTYzMDlcdTY1RTVcdTY3MUYnLFxuICAgICd0b29sYmFyLmNoZWNrUmV2aWV3JzogJ1x1NjhDMFx1NjdFNVx1NTkwRFx1NEU2MCcsXG4gICAgXG4gICAgLy8gQmF0Y2ggYWN0aW9uc1xuICAgICdiYXRjaC5zZWxlY3RBbGwnOiAnXHU1MTY4XHU5MDA5JyxcbiAgICAnYmF0Y2guY3JlYXRlJzogJ1x1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MScsXG4gICAgJ2JhdGNoLmRlbGV0ZSc6ICdcdTUyMjBcdTk2NjQnLFxuICAgICdiYXRjaC5jYW5jZWwnOiAnXHU1M0Q2XHU2RDg4JyxcbiAgICBcbiAgICAvLyBGaXhlZCBlbnRyaWVzXG4gICAgJ2VudHJ5LmFsbE5vdGVzJzogJ1x1NTE2OFx1OTBFOFx1N0IxNFx1OEJCMCcsXG4gICAgJ2VudHJ5LmNhcmRMaXN0JzogJ1x1OTVFQVx1NTM2MVx1NTIxN1x1ODg2OCcsXG4gICAgXG4gICAgLy8gTGV2ZWwgbmFtZXNcbiAgICAnbGV2ZWwuMSc6ICdcdTkxQzdcdTk2QzZcdTgwMDUnLFxuICAgICdsZXZlbC4yJzogJ1x1NjAxRFx1ODAwM1x1ODAwNScsXG4gICAgJ2xldmVsLjMnOiAnXHU4QkIwXHU1RkM2XHU1RTA4JyxcbiAgICAnbGV2ZWwuNCc6ICdcdThCQURcdTdFQzNcdTgwMDUnLFxuICAgICdsZXZlbC41JzogJ1x1NTIwNlx1Njc5MFx1NUUwOCcsXG4gICAgJ2xldmVsLmN1cnJlbnQnOiAnXHU1RjUzXHU1MjREXHU3QjQ5XHU3RUE3JyxcbiAgICAnbGV2ZWwuY2xpY2tEZXRhaWxzJzogJ1x1NzBCOVx1NTFGQlx1NjdFNVx1NzcwQlx1OEJFNlx1NjBDNScsXG4gICAgXG4gICAgLy8gUmV2aWV3IHJlbWluZGVyXG4gICAgJ3Jldmlldy50b2RheSc6ICdcdTRFQ0FcdTY1RTVcdTU5MERcdTRFNjAnLFxuICAgICdyZXZpZXcuc3RhcnQnOiAnXHU1RjAwXHU1OUNCXHU1OTBEXHU0RTYwJyxcbiAgICAncmV2aWV3Lmp1c3REdWUnOiAnXHUyM0YwIFx1NTIxQVx1NTIxQVx1NTIzMFx1NjcxRixcdThEODFcdTcwRURcdTU5MERcdTRFNjAnLFxuICAgICdyZXZpZXcuZGVsYXllZCc6ICdcdTI2QTBcdUZFMEYgXHU1OTBEXHU0RTYwXHU1REYyXHU1RUY2XHU1NDBFIHtob3Vyc30gXHU1QzBGXHU2NUY2JyxcbiAgICAncmV2aWV3LnVyZ2VudEhvdXJzJzogJ1x1MjZBMFx1RkUwRiBcdTU5MERcdTRFNjBcdTVERjJcdTVFRjZcdTU0MEUge2hvdXJzfSBcdTVDMEZcdTY1RjYsXHU1RUZBXHU4QkFFXHU0RjE4XHU1MTQ4XHU1QjhDXHU2MjEwJyxcbiAgICAncmV2aWV3LnVyZ2VudERheXMnOiAnXHVEODNEXHVERUE4IFx1NTkwRFx1NEU2MFx1NURGMlx1NUVGNlx1NTQwRSB7ZGF5c30gXHU1OTI5LFx1NUVGQVx1OEJBRVx1NUMzRFx1NUZFQlx1NkUwNVx1N0E3QSEnLFxuICAgICdyZXZpZXcuc3RyZWFrJzogJ1x1RDgzRFx1REQyNSBcdThGREVcdTdFRURcdTU5MERcdTRFNjBcdTdCMkMge2RheXN9IFx1NTkyOSEnLFxuICAgIFxuICAgIC8vIE5vdGljZXNcbiAgICAnbm90aWNlLm5vU2VsZWN0aW9uJzogJ1x1MjZBMFx1RkUwRiBcdThCRjdcdTUxNDhcdTkwMDlcdTYyRTlcdTk4NzlcdTc2RUUnLFxuICAgICdub3RpY2Uubm9EdWVDYXJkcyc6ICdcdTY2ODJcdTY1RTBcdTk3MDBcdTg5ODFcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDchJyxcbiAgICAnbm90aWNlLmRlbGV0ZWQnOiAnXHVEODNEXHVEREQxXHVGRTBGIFx1NURGMlx1NTIyMFx1OTY2NCcsXG4gICAgJ25vdGljZS5zYXZlZCc6ICdcdTI3MDUgXHU1REYyXHU0RkREXHU1QjU4JyxcbiAgICBcbiAgICAvLyBDb21tYW5kc1xuICAgICdjb21tYW5kLnNjYW5GaWxlJzogJ1x1NjI2Qlx1NjNDRlx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNicsXG4gICAgJ2NvbW1hbmQuc2NhblZhdWx0JzogJ1x1NjI2Qlx1NjNDRlx1NjU3NFx1NEUyQVx1NEVEM1x1NUU5MycsXG4gICAgJ2NvbW1hbmQub3Blbk92ZXJ2aWV3JzogJ1x1NjI1M1x1NUYwMFx1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOChcdTRGQTdcdThGQjlcdTY4MEYpJyxcbiAgICAnY29tbWFuZC5vcGVuTWFpbk92ZXJ2aWV3JzogJ1x1NTIwN1x1NjM2Mlx1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOChcdTRFM0JcdTg5QzZcdTU2RkUpJyxcbiAgICAnY29tbWFuZC5hZGRBbm5vdGF0aW9uJzogJ1x1NkRGQlx1NTJBMFx1NjU4N1x1NEVGNlx1NjI3OVx1NkNFOCcsXG4gICAgJ2NvbW1hbmQuc3RhcnRSZXZpZXcnOiAnXHU1RjAwXHU1OUNCXHU5NUVBXHU1MzYxXHU1OTBEXHU0RTYwJyxcbiAgICAnY29tbWFuZC5zaG93U3RhdHMnOiAnXHU2NjNFXHU3OTNBXHU5NUVBXHU1MzYxXHU3RURGXHU4QkExJyxcbiAgICBcbiAgICAvLyBSaWJib25zXG4gICAgJ3JpYmJvbi5vdmVydmlldyc6ICdcdTYyNTNcdTVGMDBcdTVCNjZcdTRFNjBcdTY5ODJcdTg5QzgoXHU0RkE3XHU4RkI5XHU2ODBGKScsXG4gICAgJ3JpYmJvbi5yZXZpZXcnOiAnXHU1RjAwXHU1OUNCXHU1OTBEXHU0RTYwJyxcbiAgICBcbiAgICAvLyBDb250ZXh0IG1lbnVcbiAgICAnbWVudS5qdW1wVG9Tb3VyY2UnOiAnXHU4REYzXHU4RjZDXHU1MjMwXHU2RTkwJyxcbiAgICAnbWVudS50b2dnbGVBbm5vdGF0aW9uJzogJ1x1NTIwN1x1NjM2Mlx1NjI3OVx1NkNFOCcsXG4gICAgJ21lbnUuZWRpdEZsYXNoY2FyZCc6ICdcdTdGMTZcdThGOTFcdTk1RUFcdTUzNjEnLFxuICAgICdtZW51LnF1aWNrR2VuZXJhdGUnOiAnXHU1RkVCXHU5MDFGXHU3NTFGXHU2MjEwJyxcbiAgICAnbWVudS5jcmVhdGVRQSc6ICdcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTQnLFxuICAgICdtZW51LmNyZWF0ZUNsb3plJzogJ1x1NTIxQlx1NUVGQVx1NTg2Qlx1N0E3QScsXG4gICAgJ21lbnUudmlld1N0YXRzJzogJ1x1NjdFNVx1NzcwQlx1N0VERlx1OEJBMScsXG4gICAgJ21lbnUuZGVsZXRlJzogJ1x1NTIyMFx1OTY2NCcsXG4gICAgXG4gICAgLy8gU3RhdHVzIGJhclxuICAgICdzdGF0dXMuZHVlJzogJ3tjb3VudH0gXHU1RjIwXHU1Rjg1XHU1OTBEXHU0RTYwJyxcbiAgICAnc3RhdHVzLnRvb2x0aXAnOiAne2R1ZX0gXHU1RjIwXHU1MzYxXHU3MjQ3XHU1Rjg1XHU1OTBEXHU0RTYwXFxue25ld30gXHU1RjIwXHU2NUIwXHU1MzYxXHU3MjQ3JyxcbiAgICBcbiAgICAvLyBNaXNjXG4gICAgJ2VtcHR5Lm5vQ29udGVudCc6ICdcdTY2ODJcdTY1RTBcdTUxODVcdTVCQjknLFxuICAgICdlbXB0eS5ub0RvY3VtZW50cyc6ICdcdTY2ODJcdTY1RTBcdTY1ODdcdTY4NjMnLFxuICAgICdmaWxlTGlzdC50aXRsZSc6ICdcdUQ4M0RcdURDQzEgXHU2NTg3XHU2ODYzXHU1MjE3XHU4ODY4JyxcblxuICAgICdub3RpY2UuZmlsZU5vdEZvdW5kJzogJ1x1Mjc0QyBcdTZFOTBcdTY1ODdcdTRFRjZcdTRFMERcdTVCNThcdTU3MjgnLFxuJ25vdGljZS5qdW1wZWRUb1NvdXJjZSc6ICdcdTI3MDUgXHU1REYyXHU4REYzXHU4RjZDXHU1MjMwXHU2RTkwXHU2NTg3XHU0RUY2Jyxcbidub3RpY2UuanVtcEZhaWxlZCc6ICdcdTI3NEMgXHU4REYzXHU4RjZDXHU1OTMxXHU4RDI1Jyxcbidub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIFx1NjI3RVx1NEUwRFx1NTIzMFx1NUJGOVx1NUU5NFx1NzY4NFx1OTVFQVx1NTM2MScsXG4nbm90aWNlLmFscmVhZHlIYXNGbGFzaGNhcmRzJzogJ1x1MjZBMFx1RkUwRiBcdTkwMDlcdTRFMkRcdTc2ODRcdTdCMTRcdThCQjBcdTkwRkRcdTVERjJcdTUyMUJcdTVFRkFcdThGQzdcdTk1RUFcdTUzNjEnLFxuJ25vdGljZS5iYXRjaERlbGV0ZWQnOiAnXHUyNzA1IFx1NURGMlx1NTIyMFx1OTY2NCB7c3VjY2Vzc30gXHU5ODc5XHVGRjBDe2ZhaWxlZH0gXHU5ODc5XHU1OTMxXHU4RDI1Jyxcbidjb25maXJtLmRlbGV0ZU5vdGUnOiAnXHU3ODZFXHU1QjlBXHU4OTgxXHU1MjIwXHU5NjY0XHU4RkQ5XHU2NzYxXHU3QjE0XHU4QkIwXHU1NDE3XHVGRjFGJyxcbidjb25maXJtLmRlbGV0ZUZsYXNoY2FyZCc6ICdcdTc4NkVcdTVCOUFcdTg5ODFcdTUyMjBcdTk2NjRcdThGRDlcdTVGMjBcdTk1RUFcdTUzNjFcdTU0MTdcdUZGMUYnLFxuJ2NvbmZpcm0uYmF0Y2hEZWxldGVOb3Rlcyc6ICdcdTc4NkVcdTVCOUFcdTg5ODFcdTUyMjBcdTk2NjRcdTkwMDlcdTRFMkRcdTc2ODQge2NvdW50fSBcdTY3NjFcdTdCMTRcdThCQjBcdTU0MTdcdUZGMUYnLFxuJ2NvbmZpcm0uYmF0Y2hEZWxldGVGbGFzaGNhcmRzJzogJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NFx1OTAwOVx1NEUyRFx1NzY4NCB7Y291bnR9IFx1NUYyMFx1OTVFQVx1NTM2MVx1NTQxN1x1RkYxRicsXG5cbid0b29sYmFyLmNoZWNrUmV2aWV3LnRvb2x0aXAnOiAnXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU5NzAwXHU4OTgxXHU1OTBEXHU0RTYwXHU3Njg0XHU1MzYxXHU3MjQ3JyxcblxuJ2JhdGNoLmRlc2VsZWN0QWxsJzogJ1x1NTNENlx1NkQ4OFx1NTE2OFx1OTAwOScsXG4nYmF0Y2guZGVzZWxlY3RBbGwudG9vbHRpcCc6ICdcdTUzRDZcdTZEODhcdTVGNTNcdTUyNERcdTk4NzVcdTk3NjJcdTc2ODRcdTUxNjhcdTkwMDknLFxuJ2JhdGNoLnNlbGVjdEFsbC50b29sdGlwJzogJ1x1NTE2OFx1OTAwOVx1NUY1M1x1NTI0RCB7Y291bnR9IFx1OTg3OScsXG4nYmF0Y2gubm9JdGVtcyc6ICdcdTZDQTFcdTY3MDlcdTUzRUZcdTkwMDlcdTk4NzknLFxuJ2JhdGNoLnNlbGVjdEFubm90YXRpb25GaXJzdCc6ICdcdThCRjdcdTUxNDhcdTkwMDlcdTYyRTlcIlx1NjcwOVx1NjI3OVx1NkNFOFwiXHU2MjE2XCJcdTY1RTBcdTYyNzlcdTZDRThcIicsXG4nYmF0Y2guY3JlYXRlLnRvb2x0aXAnOiAnXHU2Mjc5XHU5MUNGXHU1MjM2XHU1MzYxJyxcbidiYXRjaC5kZWxldGUudG9vbHRpcCc6ICdcdTYyNzlcdTkxQ0ZcdTUyMjBcdTk2NjQnLFxuJ2JhdGNoLmNhbmNlbC50b29sdGlwJzogJ1x1OTAwMFx1NTFGQVx1NjI3OVx1OTFDRlx1NkEyMVx1NUYwRlx1NUU3Nlx1NkUwNVx1N0E3QVx1NjI0MFx1NjcwOVx1OTAwOVx1NjJFOScsXG5cbi8vcmV2aWV3IFxuJ2NvbmZpcm0ucmVzZXRDYXJkU3RhdHMnOiAnXHU3ODZFXHU1QjlBXHU4OTgxXHU5MUNEXHU3RjZFXHU4RkQ5XHU1RjIwXHU1MzYxXHU3MjQ3XHU3Njg0XHU1QjY2XHU0RTYwXHU4RkRCXHU1RUE2XHU1NDE3XHVGRjFGJyxcbidjb25maXJtLnJlc2V0RGVja1N0YXRzJzogJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1OTFDRFx1N0Y2RVx1NTM2MVx1N0VDNFwie2RlY2t9XCJcdTc2ODRcdTYyNDBcdTY3MDlcdTVCNjZcdTRFNjBcdThGREJcdTVFQTZcdTU0MTdcdUZGMUYnLFxuJ25vdGljZS5kZWNrU3RhdHNSZXNldCc6ICdcdTI3MDUgXHU1MzYxXHU3RUM0XCJ7ZGVja31cIlx1NzY4NFx1N0VERlx1OEJBMVx1NURGMlx1OTFDRFx1N0Y2RScsXG4nbm90aWNlLmZsYXNoY2FyZERlbGV0ZWQnOiAnXHVEODNEXHVEREQxXHVGRTBGIFx1OTVFQVx1NTM2MVx1NURGMlx1NTIyMFx1OTY2NCcsXG4nbm90aWNlLmRlbGV0ZUZsYXNoY2FyZEZhaWxlZCc6ICdcdTI3NEMgXHU1MjIwXHU5NjY0XHU5NUVBXHU1MzYxXHU1OTMxXHU4RDI1Jyxcbidub3RpY2UuZmxhc2hjYXJkVXBkYXRlZCc6ICdcdTI3MDUgXHU5NUVBXHU1MzYxXHU1REYyXHU2NkY0XHU2NUIwJyxcbidub3RpY2UudXBkYXRlRmxhc2hjYXJkRmFpbGVkJzogJ1x1Mjc0QyBcdTY2RjRcdTY1QjBcdTk1RUFcdTUzNjFcdTU5MzFcdThEMjUnLFxuJ25vdGljZS5jYXJkU3RhdHNSZXNldCc6ICdcdTI3MDUgXHU1MzYxXHU3MjQ3XHU3RURGXHU4QkExXHU1REYyXHU5MUNEXHU3RjZFJyxcbidub3RpY2UucmVzZXRTdGF0c0ZhaWxlZCc6ICdcdTI3NEMgXHU5MUNEXHU3RjZFXHU3RURGXHU4QkExXHU1OTMxXHU4RDI1Jyxcbi8vIHNpZGViYXJcbidyZXZpZXcudG9kYXlQcm9ncmVzcyc6ICdcdTRFQ0FcdTY1RTVcdTU5MERcdTRFNjA6IHtyZXZpZXdlZH0gLyB7dG90YWx9JyxcbidyZXZpZXcuZGVsYXllZEhvdXJzU2hvcnQnOiAnXHUyNkEwXHVGRTBGIFx1NTkwRFx1NEU2MFx1NURGMlx1NUVGNlx1NTQwRSB7aG91cnN9IFx1NUMwRlx1NjVGNlx1RkYwQ1x1NzNCMFx1NTcyOFx1NTkwNFx1NzQwNlx1NTIxQVx1NTk3RCcsXG4nZ3JvdXAudW5jYXRlZ29yaXplZCc6ICdcdTY3MkFcdTUyMDZcdTdDN0InLFxuLy8gY29tcG9uZW50L21vZGFsL2JhdGNoXG4nYmF0Y2hDcmVhdGUudGl0bGUnOiAnXHUyNkExIFx1NjI3OVx1OTFDRlx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MScsXG4gICdiYXRjaENyZWF0ZS5kZXNjcmlwdGlvbic6ICdcdTRFM0Ege2NvdW50fSBcdTY3NjFcdTY3MkFcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdTc2ODRcdTdCMTRcdThCQjBcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjEnLFxuICAnYmF0Y2hDcmVhdGUuY2FyZFR5cGUnOiAnXHU1MzYxXHU3MjQ3XHU3QzdCXHU1NzhCJyxcbiAgJ2JhdGNoQ3JlYXRlLnNtYXJ0VHlwZSc6ICdcdTI2QTEgXHU2NjdBXHU4MEZEXHU4QkM2XHU1MjJCJyxcbiAgJ2JhdGNoQ3JlYXRlLnNtYXJ0VHlwZS5kZXNjJzogJ1x1ODFFQVx1NTJBOFx1OTAwOVx1NjJFOVx1NjcwMFx1NTQwOFx1OTAwMlx1NzY4NFx1N0M3Qlx1NTc4QicsXG4gICdiYXRjaENyZWF0ZS5xYVR5cGUnOiAnXHVEODNEXHVEQ0REIFx1OTVFRVx1N0I1NFx1NTM2MVx1NzI0NycsXG4gICdiYXRjaENyZWF0ZS5xYVR5cGUuZGVzYyc6ICdcdTk1RUVcdTk4OThcdTU0OENcdTdCNTRcdTY4NDhcdTY4M0NcdTVGMEYnLFxuICAnYmF0Y2hDcmVhdGUuY2xvemVUeXBlJzogJ1x1MjcwRlx1RkUwRiBcdTU4NkJcdTdBN0FcdTUzNjFcdTcyNDcnLFxuICAnYmF0Y2hDcmVhdGUuY2xvemVUeXBlLmRlc2MnOiAnXHU2MzE2XHU3QTdBXHU1ODZCXHU3QTdBJyxcbiAgJ2JhdGNoQ3JlYXRlLmNhbmNlbCc6ICdcdTUzRDZcdTZEODgnLFxuICAnYmF0Y2hDcmVhdGUuY3JlYXRlQnV0dG9uJzogJ1x1NTIxQlx1NUVGQSB7Y291bnR9IFx1NUYyMFx1NTM2MVx1NzI0NycsXG4gICdiYXRjaENyZWF0ZS5zdWNjZXNzTm90aWNlJzogJ1x1MjcwNSBcdTVERjJcdTUyMUJcdTVFRkEge3N1Y2Nlc3N9IFx1NUYyMFx1OTVFQVx1NTM2MVx1RkYwMXtmYWlsZWR9IFx1OTg3OVx1NTkzMVx1OEQyNScsXG4vLyBjb21wb25lbnQvbW9kYWwvRWRpdEZsYXNoY2FyZE1vZGFsXG4nZWRpdENhcmQudGl0bGUnOiAnXHUyNzBGXHVGRTBGIFx1N0YxNlx1OEY5MVx1OTVFQVx1NTM2MScsXG4nZWRpdENhcmQuZGVzY3JpcHRpb24ucWEnOiAnXHU3RjE2XHU4RjkxIFEmQSBcdTUzNjFcdTcyNDdcdTUxODVcdTVCQjknLFxuJ2VkaXRDYXJkLmRlc2NyaXB0aW9uLmNsb3plJzogJ1x1N0YxNlx1OEY5MVx1NTg2Qlx1N0E3QVx1NTM2MVx1NzI0N1x1NTE4NVx1NUJCOScsXG4nZWRpdENhcmQuaW5mby5maWxlJzogJ1x1RDgzRFx1RENDMSBcdTY1ODdcdTRFRjYnLFxuJ2VkaXRDYXJkLmluZm8uZGVjayc6ICdcdUQ4M0RcdURDREEgXHU1MzYxXHU3RUM0JyxcbidlZGl0Q2FyZC5pbmZvLnJldmlld3MnOiAnXHVEODNEXHVEQ0NBIFx1NTkwRFx1NEU2MCcsXG4nZWRpdENhcmQuaW5mby5jb3JyZWN0JzogJ1x1NkI2M1x1Nzg2RScsXG4nZWRpdENhcmQuZnJvbnQucWEnOiAnXHU5NUVFXHU5ODk4IChGcm9udCknLFxuJ2VkaXRDYXJkLmZyb250LmNsb3plJzogJ1x1NUI4Q1x1NjU3NFx1NjU4N1x1NjcyQycsXG4nZWRpdENhcmQuZnJvbnQuZGVzYyc6ICdcdTUzNjFcdTcyNDdcdTZCNjNcdTk3NjJcdTY2M0VcdTc5M0FcdTc2ODRcdTUxODVcdTVCQjknLFxuJ2VkaXRDYXJkLmJhY2sucWEnOiAnXHU3QjU0XHU2ODQ4IChCYWNrKScsXG4nZWRpdENhcmQuYmFjay5jbG96ZSc6ICdcdTYzMTZcdTdBN0FcdTdCNTRcdTY4NDgnLFxuJ2VkaXRDYXJkLmJhY2suZGVzYy5xYSc6ICdcdTUzNjFcdTcyNDdcdTgwQ0NcdTk3NjJcdTY2M0VcdTc5M0FcdTc2ODRcdTdCNTRcdTY4NDgnLFxuJ2VkaXRDYXJkLmJhY2suZGVzYy5jbG96ZSc6ICdcdTU5MUFcdTRFMkFcdTdCNTRcdTY4NDhcdTc1MjhcdTkwMTdcdTUzRjdcdTUyMDZcdTk2OTQnLFxuJ2VkaXRDYXJkLmNhbmNlbCc6ICdcdTUzRDZcdTZEODgnLFxuJ2VkaXRDYXJkLnNhdmUnOiAnXHU0RkREXHU1QjU4JyxcbidlZGl0Q2FyZC5lcnJvci5lbXB0eUZyb250JzogJ1x1MjZBMFx1RkUwRiBcdTk1RUVcdTk4OTgvXHU2NTg3XHU2NzJDXHU0RTBEXHU4MEZEXHU0RTNBXHU3QTdBJyxcbidlZGl0Q2FyZC5lcnJvci5lbXB0eUJhY2snOiAnXHUyNkEwXHVGRTBGIFx1N0I1NFx1Njg0OFx1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QScsXG4nZWRpdENhcmQuc3VjY2Vzcyc6ICdcdTI3MDUgXHU5NUVBXHU1MzYxXHU1REYyXHU2NkY0XHU2NUIwJyxcbidlZGl0Q2FyZC5zYXZlRmFpbGVkJzogJ1x1Mjc0QyBcdTRGRERcdTVCNThcdTU5MzFcdThEMjUnLFxuXG4vLyBjb21wb25lbnQvbW9kYWwvRmxhc2hjYXJkRWRpdE1vZGFsXG4nZmxhc2hjYXJkRWRpdC50aXRsZSc6ICdcdTdGMTZcdThGOTFcdTk1RUFcdTUzNjEnLFxuJ2ZsYXNoY2FyZEVkaXQucXVlc3Rpb24nOiAnXHU5NUVFXHU5ODk4JyxcbidmbGFzaGNhcmRFZGl0LmFuc3dlcic6ICdcdTdCNTRcdTY4NDgnLFxuJ2ZsYXNoY2FyZEVkaXQuc2F2ZSc6ICdcdTRGRERcdTVCNTgnLFxuLy8gY29tcG9uZW50L21vZGFsL01hbnVhbEZsYXNoY2FyZE1vZGFsLnRzXG4nbWFudWFsQ2FyZC50aXRsZS5xYSc6ICdcdTI3MEZcdUZFMEYgXHU1MjFCXHU1RUZBIFFBIFx1OTVFQVx1NTM2MScsXG4nbWFudWFsQ2FyZC50aXRsZS5jbG96ZSc6ICdcdTI3MEZcdUZFMEYgXHU1MjFCXHU1RUZBXHU1ODZCXHU3QTdBXHU5NUVBXHU1MzYxJyxcbidtYW51YWxDYXJkLmRlc2NyaXB0aW9uLnFhJzogJ1x1NTIxQlx1NUVGQVx1NEUwMFx1NUYyMFx1OTVFRVx1N0I1NFx1NTM2MVx1NzI0N1x1RkYwQ1x1NTNFRlx1NEVFNVx1ODFFQVx1NUI5QVx1NEU0OVx1OTVFRVx1OTg5OFx1NTQ4Q1x1N0I1NFx1Njg0OCcsXG4nbWFudWFsQ2FyZC5kZXNjcmlwdGlvbi5jbG96ZSc6ICdcdTUyMUJcdTVFRkFcdTRFMDBcdTVGMjBcdTU4NkJcdTdBN0FcdTUzNjFcdTcyNDdcdUZGMENcdTU3MjhcdTVCOENcdTY1NzRcdTY1ODdcdTY3MkNcdTRFMkRcdTY4MDdcdThCQjBcdTg5ODFcdTYzMTZcdTdBN0FcdTc2ODRcdTUxODVcdTVCQjknLFxuJ21hbnVhbENhcmQuZnJvbnQucWEnOiAnXHU5NUVFXHU5ODk4IChGcm9udCknLFxuJ21hbnVhbENhcmQuZnJvbnQuY2xvemUnOiAnXHU1QjhDXHU2NTc0XHU2NTg3XHU2NzJDJyxcbidtYW51YWxDYXJkLmZyb250LmRlc2MucWEnOiAnXHU1MzYxXHU3MjQ3XHU2QjYzXHU5NzYyXHU2NjNFXHU3OTNBXHU3Njg0XHU5NUVFXHU5ODk4JyxcbidtYW51YWxDYXJkLmZyb250LmRlc2MuY2xvemUnOiAnXHU1MzA1XHU1NDJCXHU3QjU0XHU2ODQ4XHU3Njg0XHU1QjhDXHU2NTc0XHU1M0U1XHU1QjUwXHU2MjE2XHU2QkI1XHU4NDNEJyxcbidtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLnFhJzogJ1x1NEY4Qlx1NTk4MjogXHU0RUMwXHU0RTQ4XHU2NjJGXHU5NUY0XHU5Njk0XHU5MUNEXHU1OTBEPycsXG4nbWFudWFsQ2FyZC5mcm9udC5wbGFjZWhvbGRlci5jbG96ZSc6ICdcdTRGOEJcdTU5ODI6IFx1OTVGNFx1OTY5NFx1OTFDRFx1NTkwRFx1NjYyRlx1NEUwMFx1NzlDRFx1NUI2Nlx1NEU2MFx1NjI4MFx1NjcyRicsXG4nbWFudWFsQ2FyZC5iYWNrLnFhJzogJ1x1N0I1NFx1Njg0OCAoQmFjayknLFxuJ21hbnVhbENhcmQuYmFjay5jbG96ZSc6ICdcdTYzMTZcdTdBN0FcdTUxODVcdTVCQjknLFxuJ21hbnVhbENhcmQuYmFjay5kZXNjLnFhJzogJ1x1NTM2MVx1NzI0N1x1ODBDQ1x1OTc2Mlx1NjYzRVx1NzkzQVx1NzY4NFx1N0I1NFx1Njg0OCcsXG4nbWFudWFsQ2FyZC5iYWNrLmRlc2MuY2xvemUnOiAnXHU4OTgxXHU4OEFCXHU2MzE2XHU3QTdBXHU3Njg0XHU1MTczXHU5NTJFXHU4QkNEXHU2MjE2XHU3N0VEXHU4QkVEJyxcbidtYW51YWxDYXJkLmJhY2sucGxhY2Vob2xkZXIucWEnOiAnXHU0RjhCXHU1OTgyOiBcdTk1RjRcdTk2OTRcdTkxQ0RcdTU5MERcdTY2MkZcdTRFMDBcdTc5Q0RcdTVCNjZcdTRFNjBcdTYyODBcdTY3MkYuLi4nLFxuJ21hbnVhbENhcmQuYmFjay5wbGFjZWhvbGRlci5jbG96ZSc6ICdcdTRGOEJcdTU5ODI6IFx1OTVGNFx1OTY5NFx1OTFDRFx1NTkwRCcsXG4nbWFudWFsQ2FyZC5jYW5jZWwnOiAnXHU1M0Q2XHU2RDg4JyxcbidtYW51YWxDYXJkLmNyZWF0ZSc6ICdcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjEnLFxuJ21hbnVhbENhcmQuZXJyb3IuZW1wdHlGcm9udCc6ICdcdTI2QTBcdUZFMEYgXHU5NUVFXHU5ODk4L1x1NjU4N1x1NjcyQ1x1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QScsXG4nbWFudWFsQ2FyZC5lcnJvci5lbXB0eUJhY2snOiAnXHUyNkEwXHVGRTBGIFx1N0I1NFx1Njg0OFx1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QScsXG4nbWFudWFsQ2FyZC5zdWNjZXNzLnFhJzogJ1x1MjcwNSBRQSBcdTk1RUFcdTUzNjFcdTVERjJcdTUyMUJcdTVFRkEnLFxuJ21hbnVhbENhcmQuc3VjY2Vzcy5jbG96ZSc6ICdcdTI3MDUgXHU1ODZCXHU3QTdBXHU5NUVBXHU1MzYxXHU1REYyXHU1MjFCXHU1RUZBJyxcbidtYW51YWxDYXJkLmNyZWF0ZUZhaWxlZCc6ICdcdTI3NEMgXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXHU1OTMxXHU4RDI1Jyxcbi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzIFxuJ2NvbnRlbnRMaXN0Lmdyb3VwLmFubm90YXRlZCc6ICdcdTY3MDlcdTYyNzlcdTZDRTgnLFxuJ2NvbnRlbnRMaXN0Lmdyb3VwLm5vdEFubm90YXRlZCc6ICdcdTY1RTBcdTYyNzlcdTZDRTgnLFxuJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vRmxhc2hjYXJkcyc6ICdcdUQ4M0RcdURDRUQgXHU4QkU1XHU1MjA2XHU3RUM0XHU0RTBCXHU2NjgyXHU2NUUwXHU5NUVBXHU1MzYxJyxcbidjb250ZW50TGlzdC5lbXB0eS5ub05vdGVzJzogJ1x1NUY1M1x1NTI0RFx1NjU4N1x1Njg2M1x1NjY4Mlx1NjVFMFx1N0IxNFx1OEJCMCcsXG4nY29udGVudExpc3QuZW1wdHkudHJ5RmlsdGVyJzogJ1x1NUMxRFx1OEJENVx1NTIwN1x1NjM2Mlx1NTE3Nlx1NEVENlx1OEZDN1x1NkVFNFx1NTY2OFx1NjdFNVx1NzcwQicsXG4nY29udGVudExpc3QuZW1wdHkuc3RhcnRIaWdobGlnaHQnOiAnXHU1RjAwXHU1OUNCXHU5QUQ4XHU0RUFFXHU2NTg3XHU2NzJDXHU2NzY1XHU1MjFCXHU1RUZBXHU3QjE0XHU4QkIwJyxcbidjb250ZW50TGlzdC5lbXB0eS5ub0NvbnRlbnQnOiAnXHU2NjgyXHU2NUUwXHU1MTg1XHU1QkI5Jyxcbi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRleHRNZW51QnVpbGRlci50c1xuJ2NvbnRleHRNZW51Lmp1bXBUb1NvdXJjZSc6ICdcdUQ4M0RcdURDRDYgXHU4REYzXHU4RjZDXHU1MjMwXHU1MzlGXHU2NTg3Jyxcbidjb250ZXh0TWVudS5lZGl0QW5ub3RhdGlvbic6ICdcdUQ4M0RcdURDQUMgXHU3RjE2XHU4RjkxXHU2Mjc5XHU2Q0U4Jyxcbidjb250ZXh0TWVudS5lZGl0Rmxhc2hjYXJkJzogJ1x1MjcwRlx1RkUwRiBcdTdGMTZcdThGOTFcdTk1RUFcdTUzNjEnLFxuJ2NvbnRleHRNZW51LmdlbmVyYXRlRmxhc2hjYXJkJzogJ1x1MjZBMSBcdTc1MUZcdTYyMTBcdTk1RUFcdTUzNjEnLFxuJ2NvbnRleHRNZW51LmNyZWF0ZVFBJzogJ1x1Mjc5NSBcdTUyMUJcdTVFRkEgUUEgXHU5NUVBXHU1MzYxJyxcbidjb250ZXh0TWVudS5jcmVhdGVDbG96ZSc6ICdcdTI3OTUgXHU1MjFCXHU1RUZBXHU1ODZCXHU3QTdBXHU5NUVBXHU1MzYxJyxcbidjb250ZXh0TWVudS52aWV3U3RhdHMnOiAnXHVEODNEXHVEQ0NBIFx1NjdFNVx1NzcwQlx1N0VERlx1OEJBMScsXG4nY29udGV4dE1lbnUuZGVsZXRlTm90ZSc6ICdcdUQ4M0RcdURERDFcdUZFMEYgXHU1MjIwXHU5NjY0XHU3QjE0XHU4QkIwJyxcbidjb250ZXh0TWVudS5lZGl0Q2FyZCc6ICdcdTI3MEZcdUZFMEYgXHU3RjE2XHU4RjkxXHU1MzYxXHU3MjQ3Jyxcbidjb250ZXh0TWVudS5kZWxldGVDYXJkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBcdTUyMjBcdTk2NjRcdTUzNjFcdTcyNDcnLFxuJ3N0YXRzLnRpdGxlJzogJ1x1RDgzRFx1RENDQSBcdTk1RUFcdTUzNjFcdTdFREZcdThCQTEnLFxuJ3N0YXRzLmZpbGUnOiAnXHVEODNEXHVEQ0MxIFx1NjU4N1x1NEVGNicsXG4nc3RhdHMudHlwZSc6ICdcdUQ4M0NcdURDQ0YgXHU3QzdCXHU1NzhCJyxcbidzdGF0cy50eXBlLnFhJzogJ1EmQScsXG4nc3RhdHMudHlwZS5jbG96ZSc6ICdcdTU4NkJcdTdBN0EnLFxuJ3N0YXRzLmRlY2snOiAnXHVEODNEXHVEQ0RBIFx1NTM2MVx1N0VDNCcsXG4nc3RhdHMudGFncyc6ICdcdUQ4M0NcdURGRjdcdUZFMEYgXHU2ODA3XHU3QjdFJyxcbidzdGF0cy50YWdzLm5vbmUnOiAnXHU2NUUwJyxcbidzdGF0cy5yZXZpZXdDb3VudCc6ICdcdUQ4M0RcdURDQzggXHU1OTBEXHU0RTYwXHU2QjIxXHU2NTcwJyxcbidzdGF0cy5jb3JyZWN0Q291bnQnOiAnXHUyNzA1IFx1NkI2M1x1Nzg2RVx1NkIyMVx1NjU3MCcsXG4nc3RhdHMuYWNjdXJhY3knOiAnXHVEODNEXHVEQ0NBIFx1NkI2M1x1Nzg2RVx1NzM4NycsXG4nc3RhdHMuYXZlcmFnZVRpbWUnOiAnXHUyM0YxXHVGRTBGIFx1NUU3M1x1NTc0N1x1NzUyOFx1NjVGNicsXG4nc3RhdHMuZGlmZmljdWx0eSc6ICdcdUQ4M0NcdURGQUYgXHU5NkJFXHU1RUE2JyxcbidzdGF0cy5jcmVhdGVkQXQnOiAnXHVEODNEXHVEQ0M1IFx1NTIxQlx1NUVGQVx1NjVGNlx1OTVGNCcsXG4nc3RhdHMubGFzdFJldmlldyc6ICdcdUQ4M0RcdUREMDQgXHU0RTBBXHU2QjIxXHU1OTBEXHU0RTYwJyxcbidzdGF0cy5sYXN0UmV2aWV3Lm5ldmVyJzogJ1x1NjcyQVx1NTkwRFx1NEU2MCcsXG4nc3RhdHMubmV4dFJldmlldyc6ICdcdTIzRjAgXHU0RTBCXHU2QjIxXHU1OTBEXHU0RTYwJyxcbidzdGF0cy5pbnRlcnZhbCc6ICdcdUQ4M0RcdURDQ0YgXHU5NUY0XHU5Njk0JyxcbidzdGF0cy5lYXNlJzogJ1x1RDgzRFx1RENBQSBcdTcxOUZcdTdFQzNcdTVFQTYnLFxuJ3N0YXRzLnNlcGFyYXRvcic6ICdcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDFcdTI1MDEnLFxuJ3N0YXRzLnRpbWVzJzogJ1x1NkIyMScsXG4nc3RhdHMuc2Vjb25kcyc6ICdcdTc5RDInLFxuJ3N0YXRzLmRheXMnOiAnXHU1OTI5Jyxcbi8vIHNyYy91aS9zZXJ2aWNlcy9PdmVydmlld1NlcnZpY2UudHNcbidzZXJ2aWNlLmZpbGVOb3RFeGlzdCc6ICdcdTI2QTBcdUZFMEYgXHU2NTg3XHU0RUY2XHU0RTBEXHU1QjU4XHU1NzI4JyxcbidzZXJ2aWNlLmFubm90YXRpb25EZWxldGVkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBcdTYyNzlcdTZDRThcdTVERjJcdTUyMjBcdTk2NjQnLFxuJ3NlcnZpY2UuZmxhc2hjYXJkR2VuZXJhdGVkJzogJ1x1MjZBMSBcdTk1RUFcdTUzNjFcdTVERjJcdTc1MUZcdTYyMTAnLFxuJ3NlcnZpY2UuZ2VuZXJhdGVGYWlsZWQnOiAnXHUyNzRDIFx1NzUxRlx1NjIxMFx1OTVFQVx1NTM2MVx1NTkzMVx1OEQyNScsXG4nc2VydmljZS5mbGFzaGNhcmROb3RGb3VuZCc6ICdcdTI2QTBcdUZFMEYgXHU2MjdFXHU0RTBEXHU1MjMwXHU5NUVBXHU1MzYxJyxcbidzZXJ2aWNlLnNvdXJjZUZpbGVPcGVuZWQnOiAnXHUyNzA1IFx1NURGMlx1NjI1M1x1NUYwMFx1NkU5MFx1NjU4N1x1NEVGNicsXG4nc2VydmljZS5ub3RlTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIFx1NjI3RVx1NEUwRFx1NTIzMFx1NTM5Rlx1NTlDQlx1N0IxNFx1OEJCMCcsXG4vLyBcdTY3MDBcdThGRDFcdTUyMjBcdTk2NjRcbidjb25maXJtLmRlbGV0ZVdpbGxSZW1vdmUnOiAnXHU2QjY0XHU2NENEXHU0RjVDXHU1QzA2XHU1MjIwXHU5NjY0XHVGRjFBJyxcbidjb25maXJtLm5vdGUnOiAnXHU2NzYxXHU3QjE0XHU4QkIwJyxcbidjb25maXJtLm5vdGVzJzogJ1x1Njc2MVx1N0IxNFx1OEJCMCcsXG4nY29uZmlybS5mbGFzaGNhcmRzJzogJ1x1NUYyMFx1OTVFQVx1NTM2MScsXG4nY29uZmlybS5hbm5vdGF0aW9uJzogJ1x1Njc2MVx1NjI3OVx1NkNFOCcsXG4nY29uZmlybS5jYW5ub3RVbmRvJzogJ1x1MjZBMFx1RkUwRiBcdTZCNjRcdTY0Q0RcdTRGNUNcdTY1RTBcdTZDRDVcdTY0QTRcdTk1MDBcdUZGMDEnLFxuJ25vdGljZS5maWxlRGVsZXRlZCc6ICdcdUQ4M0RcdURDQzQgXHU2NTg3XHU0RUY2IFwie2ZpbGV9XCIgXHU1REYyXHU4OEFCXHU1MjIwXHU5NjY0Jyxcbidub3RpY2UuYXV0b0NsZWFudXAnOiAnXHU4MUVBXHU1MkE4XHU2RTA1XHU3NDA2XHU1MTczXHU4MDU0XHU1MTg1XHU1QkI5XHVGRjFBJyxcbidyZWNlbnREZWxldGUudGl0bGUnOiAnXHVEODNEXHVEREQxXHVGRTBGIFx1NjcwMFx1OEZEMVx1NTIyMFx1OTY2NCAoXHU2NzAwXHU4RkQxN1x1NTkyOSknLFxuJ3JlY2VudERlbGV0ZS5lbXB0eSc6ICdcdTY2ODJcdTY1RTBcdTY3MDBcdThGRDFcdTUyMjBcdTk2NjRcdTc2ODRcdTk4NzlcdTc2RUUnLFxuJ3JlY2VudERlbGV0ZS5yZXN0b3JlJzogJ1x1NjA2Mlx1NTkwRCcsXG4ncmVjZW50RGVsZXRlLmRlbGV0ZVBlcm1hbmVudGx5JzogJ1x1NkMzOFx1NEU0NVx1NTIyMFx1OTY2NCcsXG5cbidub3RpY2UubW92ZWRUb1RyYXNoJzogJ1x1RDgzRFx1REREMVx1RkUwRiBcdTVERjJcdTc5RkJcdTgxRjNcdTU2REVcdTY1MzZcdTdBRDkgKDdcdTU5MjlcdTUxODVcdTUzRUZcdTYwNjJcdTU5MEQpJyxcbidub3RpY2UuYmF0Y2hNb3ZlZFRvVHJhc2gnOiAnXHUyNzA1IFx1NURGMlx1NUMwNiB7c3VjY2Vzc30gXHU5ODc5XHU3OUZCXHU4MUYzXHU1NkRFXHU2NTM2XHU3QUQ5Jyxcbidub3RpY2UuZmlsZURlbGV0ZWRTaW1wbGUnOiAnXHVEODNEXHVEQ0M0IFx1NjU4N1x1NEVGNlx1NURGMlx1NTIyMFx1OTY2NFx1RkYxQXtub3Rlc30gXHU2NzYxXHU3QjE0XHU4QkIwXHU1NDhDIHtjYXJkc30gXHU1RjIwXHU5NUVBXHU1MzYxXHU1REYyXHU3OUZCXHU4MUYzXHU1NkRFXHU2NTM2XHU3QUQ5Jyxcbidub3RpY2Uubm90ZVJlc3RvcmVkJzogJ1x1MjcwNSBcdTdCMTRcdThCQjBcdTVERjJcdTYwNjJcdTU5MEQnLFxuJ25vdGljZS5jYXJkUmVzdG9yZWQnOiAnXHUyNzA1IFx1OTVFQVx1NTM2MVx1NURGMlx1NjA2Mlx1NTkwRCcsXG4nbm90aWNlLmNhcmRzUmVzdG9yZWQnOiAnXHUyNzA1IFx1NURGMlx1NjA2Mlx1NTkwRCB7Y291bnR9IFx1NUYyMFx1OTVFQVx1NTM2MScsXG4nbm90aWNlLnJlc3RvcmVGYWlsZWQnOiAnXHUyNzRDIFx1NjA2Mlx1NTkwRFx1NTkzMVx1OEQyNScsXG4nbm90aWNlLnBlcm1hbmVudGx5RGVsZXRlZCc6ICdcdTI3MDUgXHU1REYyXHU2QzM4XHU0RTQ1XHU1MjIwXHU5NjY0Jyxcbidub3RpY2UuZGVsZXRlRmFpbGVkJzogJ1x1Mjc0QyBcdTUyMjBcdTk2NjRcdTU5MzFcdThEMjUnLFxuJ25vdGljZS5hbGxEZWxldGVkJzogJ1x1MjcwNSBcdTVERjJcdTZFMDVcdTdBN0Ege25vdGVzfSBcdTY3NjFcdTdCMTRcdThCQjBcdTU0OEMge2NhcmRzfSBcdTVGMjBcdTk1RUFcdTUzNjEnLFxuJ3JlY2VudERlbGV0ZS5jbGVhckFsbCc6ICdcdUQ4M0RcdURERDFcdUZFMEYgXHU0RTAwXHU5NTJFXHU2RTA1XHU3QTdBJyxcbidyZWNlbnREZWxldGUuZW1wdHlIaW50JzogJ1x1NTIyMFx1OTY2NFx1NzY4NFx1NTE4NVx1NUJCOVx1NUMwNlx1NEZERFx1NzU1OTdcdTU5MjknLFxuJ2NvbmZpcm0uY2xlYXJBbGxEZWxldGVkJzogJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1NkMzOFx1NEU0NVx1NTIyMFx1OTY2NFx1NTZERVx1NjUzNlx1N0FEOVx1NEUyRFx1NzY4NFx1NjI0MFx1NjcwOVx1OTg3OVx1NzZFRVx1NTQxN1x1RkYxRlx1NkI2NFx1NjRDRFx1NEY1Q1x1NjVFMFx1NkNENVx1NjRBNFx1OTUwMFx1RkYwMScsXG4nY29uZmlybS5yZXN0b3JlQXNzb2NpYXRlZENhcmRzJzogJ1x1NjYyRlx1NTQyNlx1NjA2Mlx1NTkwRCB7Y291bnR9IFx1NUYyMFx1NTE3M1x1ODA1NFx1NzY4NFx1OTVFQVx1NTM2MVx1RkYxRicsXG4nZGVsZXRlUmVhc29uLnVzZXInOiAnXHU2MjRCXHU1MkE4XHU1MjIwXHU5NjY0JyxcbidkZWxldGVSZWFzb24ubm90ZSc6ICdcdTdCMTRcdThCQjBcdTUyMjBcdTk2NjQnLFxuJ2RlbGV0ZVJlYXNvbi5maWxlJzogJ1x1NjU4N1x1NEVGNlx1NTIyMFx1OTY2NCcsXG4ndGltZS5qdXN0Tm93JzogJ1x1NTIxQVx1NTIxQScsXG4ndGltZS5taW51dGVzQWdvJzogJ3ttaW51dGVzfVx1NTIwNlx1OTQ5Rlx1NTI0RCcsXG4ndGltZS5ob3Vyc0Fnbyc6ICd7aG91cnN9XHU1QzBGXHU2NUY2XHU1MjREJyxcbid0aW1lLmRheXNBZ28nOiAne2RheXN9XHU1OTI5XHU1MjREJyxcbi8vIGRlbGV0ZSBjb25maXJtXG4nY29uZmlybS5kZWxldGVJdGVtcyc6ICdcdTc4NkVcdThCQTRcdTUyMjBcdTk2NjRcdUZGMUYnLFxuJ2NvbmZpcm0ubm90ZXNDb3VudCc6ICd7Y291bnR9IFx1Njc2MVx1N0IxNFx1OEJCMCcsXG4nY29uZmlybS5jYXJkc0NvdW50JzogJ3tjb3VudH0gXHU1RjIwXHU5NUVBXHU1MzYxJyxcbi8vIHF1aWNrIGZsYXNoY2FyZCAgY3JlYXRvclxuJ3F1aWNrQ2FyZC5jcmVhdGVkLnFhJzogJ1x1MjcwNSBcdTk1RUFcdTUzNjFcdTVERjJcdTUyMUJcdTVFRkFcdUZGMDEoXHU5NUVFXHU3QjU0XHU1MzYxKScsXG4ncXVpY2tDYXJkLmNyZWF0ZWQuY2xvemUnOiAnXHUyNzA1IFx1OTVFQVx1NTM2MVx1NURGMlx1NTIxQlx1NUVGQVx1RkYwMShcdTU4NkJcdTdBN0FcdTUzNjFcdUZGMEN7Y291bnR9IFx1NEUyQVx1N0E3QSknLFxuJ3F1aWNrQ2FyZC5jcmVhdGVGYWlsZWQnOiAnXHUyNzRDIFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1NTkzMVx1OEQyNScsXG4ncXVpY2tDYXJkLm5vS2V5d29yZHMnOiAnXHUyNkEwXHVGRTBGIFx1NjcyQVx1NjI3RVx1NTIzMFx1NTNFRlx1NzUyOFx1NEU4RVx1NjMxNlx1N0E3QVx1NzY4NFx1NTE3M1x1OTUyRVx1OEJDRCcsXG4ncXVpY2tDYXJkLm5vRGVsZXRpb25zJzogJ1x1MjZBMFx1RkUwRiBcdTY1RTBcdTZDRDVcdTUyMUJcdTVFRkFcdTYzMTZcdTdBN0EnLFxuJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LmhlYWRpbmcnOiAnXHU1MTczXHU0RThFXCJ7aGVhZGluZ31cIlx1NzY4NFx1ODk4MVx1NzBCOVx1NjYyRlx1NEVDMFx1NEU0OFx1RkYxRicsXG4ncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQuc2hvcnQnOiAnXCJ7Y29udGVudH1cIlx1NjYyRlx1NEVDMFx1NEU0OFx1NjEwRlx1NjAxRFx1RkYxRicsXG4ncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQubWVkaXVtJzogJ1x1ODlFM1x1OTFDQVx1RkYxQVwie2NvbnRlbnR9XCInLFxuJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LmxvbmcnOiAnXHU4RkQ5XHU2QkI1XHU1MTg1XHU1QkI5XHU3Njg0XHU4OTgxXHU3MEI5XHU2NjJGXHU0RUMwXHU0RTQ4XHVGRjFGJyxcblxuICAvLyBVbmxvY2tTeXN0ZW0gLSBcdTdCNDlcdTdFQTdcdTU0MERcdTc5RjBcbiAgJ3VubG9jay5sZXZlbC4xJzogJ1x1OTFDN1x1OTZDNlx1ODAwNScsXG4gICd1bmxvY2subGV2ZWwuMic6ICdcdTYwMURcdTgwMDNcdTgwMDUnLFxuICAndW5sb2NrLmxldmVsLjMnOiAnXHU4QkIwXHU1RkM2XHU1RTA4JyxcbiAgJ3VubG9jay5sZXZlbC40JzogJ1x1OEJBRFx1N0VDM1x1ODAwNScsXG4gICd1bmxvY2subGV2ZWwuNSc6ICdcdTUyMDZcdTY3OTBcdTVFMDgnLFxuICBcbiAgLy8gXHU1MzQ3XHU3RUE3XHU2RDg4XHU2MDZGXG4gICd1bmxvY2subGV2ZWxVcC4xJzogJ1x1RDgzQ1x1REY4OSBsZXZlbC4xIFx1NkIyMlx1OEZDRVx1NjIxMFx1NEUzQVx1OTFDN1x1OTZDNlx1ODAwNSEnLFxuICAndW5sb2NrLmxldmVsVXAuMic6ICdcdUQ4M0NcdURGOTMgbGV2ZWwuMiBcdTUzNDdcdTdFQTdcdTRFM0FcdTYwMURcdTgwMDNcdTgwMDUhXFxuXHU4OUUzXHU5NTAxOiBcdTYyNzlcdTZDRThcdTUyOUZcdTgwRkRcdTMwMDFcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUMnLFxuICAndW5sb2NrLmxldmVsVXAuMyc6ICdcdUQ4M0VcdURERTAgbGV2ZWwuMyBcdTYyMTBcdTRFM0FcdThCQjBcdTVGQzZcdTVFMDghXFxuXHU4OUUzXHU5NTAxOiBcdTYyNkJcdTYzQ0ZcdTUyOUZcdTgwRkRcdTMwMDFcdTU5MERcdTRFNjBcdTdDRkJcdTdFREYnLFxuICAndW5sb2NrLmxldmVsVXAuNCc6ICdcdUQ4M0RcdURDQUEgbGV2ZWwuNCBcdTY2NEJcdTUzNDdcdThCQURcdTdFQzNcdTgwMDUhXFxuXHU4OUUzXHU5NTAxOiBcdTdFREZcdThCQTFcdTUyMDZcdTY3OTAnLFxuICAndW5sb2NrLmxldmVsVXAuNSc6ICdcdUQ4M0NcdURGQzYgbGV2ZWwuNSBcdThGQkVcdTYyMTBcdTUyMDZcdTY3OTBcdTVFMDghXFxuXHU2MjQwXHU2NzA5XHU1MjlGXHU4MEZEXHU1REYyXHU4OUUzXHU5NTAxJyxcbiAgXG4vLyBcdTRFMEJcdTRFMDBcdTZCNjVcdTYzRDBcdTc5M0Fcbid1bmxvY2submV4dFN0ZXBzLmxldmVsMSc6ICdcdUQ4M0RcdURDRTYgXHU1M0YzXHU5NTJFXHU2M0QwXHU1M0Q2XHU3QjE0XHU4QkIwOlxcbiAgXHUyMDIyIFx1NjNEMFx1NTNENlx1NEUzQVx1NjU4N1x1NjcyQzoge3RleHR9LzJcXG4gIFx1MjAyMiBcdTYzRDBcdTUzRDZcdTRFM0FcdTk1RUVcdTdCNTQ6IHtxYX0vMlxcbiAgXHUyMDIyIFx1NjNEMFx1NTNENlx1NEUzQVx1NTg2Qlx1N0E3QToge2Nsb3plfS8yJyxcbid1bmxvY2submV4dFN0ZXBzLmxldmVsMic6ICdcdUQ4M0RcdURDREQgXHU1QjhDXHU2MjEwXHU2Mjc5XHU2Q0U4OiB7YW5ub3RhdGlvbnN9LzNcXG5cdUQ4M0RcdURDQ0IgXHU2MjZCXHU2M0NGXHU2M0QwXHU1M0Q2XHU3QjE0XHU4QkIwOiB7c2Nhbm5lZH0vNScsXG4ndW5sb2NrLm5leHRTdGVwcy5sZXZlbDMnOiAnXHVEODNEXHVERDA0IFx1NTkwRFx1NEU2MFx1NTM2MVx1NzI0Nzoge3Jldmlld2VkfS8zMFxcblx1RDgzRFx1RENDQiBcdTYyNkJcdTYzQ0ZcdTVFMjZcdTlBRDhcdTRFQUVcdTc2ODRcdTg4NjhcdTY4M0M6IHt0YWJsZXN9LzInLFxuJ3VubG9jay5uZXh0U3RlcHMubGV2ZWw0JzogJ1x1RDgzRFx1REQwNCBcdTU5MERcdTRFNjBcdTUzNjFcdTcyNDc6IHtyZXZpZXdlZH0vNzBcXG5cdUQ4M0RcdURDQzUgXHU2MDNCXHU0RjdGXHU3NTI4XHU1OTI5XHU2NTcwOiB7dG90YWx9LzIxXFxuXHVEODNEXHVEQ0NBIFx1OEJCRlx1OTVFRVx1N0VERlx1OEJBMVx1OTg3NToge3Zpc2l0ZWR9Jyxcbid1bmxvY2submV4dFN0ZXBzLmxldmVsNSc6ICdcdUQ4M0NcdURGODkgXHU2MDZEXHU1NTlDXHU4OUUzXHU5NTAxXHU2MjQwXHU2NzA5XHU1MjlGXHU4MEZEIVxcblxcblx1RDgzRFx1REQyRSBcdTY2N0FcdTU2Q0FcdTU2RTJcdTUyOUZcdTgwRkRcdTVDMUFcdTY3MkFcdTVGMDBcdTY1M0VcXG5cdThGQkVcdTUyMzBcdTRFQkFcdTY1NzBcdTRFMEVcdTZCQjVcdTRGNERcdTY3NjFcdTRFRjZcdTU0MEVcdTVGMDBcdTU0MkZcXG5cdUQ4M0RcdUREMTcgPGEgaHJlZj1cImh0dHBzOi8vanotcXVhcnR6LnBhZ2VzLmRldi82LmFib3V0LyVFNiU5OSVCQSVFNSU5QiU4QSVFNSU5QiVBMlwiIHRhcmdldD1cIl9ibGFua1wiPlx1NEU4Nlx1ODlFM1x1NjY3QVx1NTZDQVx1NTZFMihcdTcwQjlcdTUxRkJcdTY3RTVcdTc3MEIpPC9hPicsXG4gIC8vIFx1NUYzOVx1N0E5N1xuICAndW5sb2NrLm1vZGFsLnRpdGxlJzogJ1x1RDgzRFx1REQxMiBcdTUyOUZcdTgwRkRcdTY3MkFcdTg5RTNcdTk1MDEnLFxuICAndW5sb2NrLm1vZGFsLnJlcXVpcmVMZXZlbCc6ICdcIntmZWF0dXJlfVwiIFx1OTcwMFx1ODk4MSBMdntsZXZlbH0gXHU4OUUzXHU5NTAxJyxcbiAgJ3VubG9jay5tb2RhbC5jdXJyZW50UHJvZ3Jlc3MnOiAnXHU1RjUzXHU1MjREXHU4RkRCXHU1RUE2OicsXG4gIFxuICAvLyBcdTdCNDlcdTdFQTdcdTRGRTFcdTYwNkZcdTVGMzlcdTdBOTdcbiAgJ3VubG9jay5sZXZlbEluZm8udGl0bGUnOiAnXHVEODNDXHVERkM2IEx2e2xldmVsfSB7bmFtZX0nLFxuICAndW5sb2NrLmxldmVsSW5mby5jdW11bGF0aXZlU3RhdHMnOiAnXHU3RDJGXHU4QkExXHU3RURGXHU4QkExJyxcbiAgJ3VubG9jay5sZXZlbEluZm8ubWlsZXN0b25lcyc6ICdcdUQ4M0NcdURGQUYgXHU2MjEwXHU1QzMxXHU5MUNDXHU3QTBCXHU3ODkxJyxcbiAgXG4gIC8vIFx1N0VERlx1OEJBMVx1NjgwN1x1N0I3RVxuICAndW5sb2NrLnN0YXQuY2FyZHNFeHRyYWN0ZWQnOiAnXHU2M0QwXHU1M0Q2XHU1MzYxXHU3MjQ3JyxcbiAgJ3VubG9jay5zdGF0LmFubm90YXRpb25zQ29tcGxldGVkJzogJ1x1NUI4Q1x1NjIxMFx1NjI3OVx1NkNFOCcsXG4gICd1bmxvY2suc3RhdC5jYXJkc1Jldmlld2VkJzogJ1x1NTkwRFx1NEU2MFx1NTM2MVx1NzI0NycsXG4gICd1bmxvY2suc3RhdC50YWJsZXNTY2FubmVkJzogJ1x1NjI2Qlx1NjNDRlx1ODg2OFx1NjgzQycsXG4gICd1bmxvY2suc3RhdC5jb25zZWN1dGl2ZURheXMnOiAnXHU4RkRFXHU3RUVEXHU1OTI5XHU2NTcwJyxcbiAgJ3VubG9jay5zdGF0LnRvdGFsRGF5cyc6ICdcdTYwM0JcdTRGN0ZcdTc1MjhcdTU5MjlcdTY1NzAnLFxuICBcbiAgLy8gXHU4RkRCXHU1RUE2XHU2MzA3XHU2ODA3XG4gICd1bmxvY2sucHJvZ3Jlc3MuY2FyZHNFeHRyYWN0ZWQnOiAnXHVEODNEXHVEQ0U2IFx1NjNEMFx1NTNENlx1NTM2MVx1NzI0NycsXG4gICd1bmxvY2sucHJvZ3Jlc3MuYW5ub3RhdGlvbnNDb21wbGV0ZWQnOiAnXHVEODNEXHVEQ0REIFx1NUI4Q1x1NjIxMFx1NjI3OVx1NkNFOCcsXG4gICd1bmxvY2sucHJvZ3Jlc3MuY2FyZHNSZXZpZXdlZCc6ICdcdUQ4M0RcdUREMDQgXHU1OTBEXHU0RTYwXHU1MzYxXHU3MjQ3JyxcbiAgJ3VubG9jay5wcm9ncmVzcy50YWJsZXNTY2FubmVkJzogJ1x1RDgzRFx1RENDQiBcdTYyNkJcdTYzQ0ZcdTVFMjZcdTlBRDhcdTRFQUVcdTc2ODRcdTg4NjhcdTY4M0MnLFxuICAndW5sb2NrLnByb2dyZXNzLmNvbnNlY3V0aXZlRGF5cyc6ICdcdUQ4M0RcdUREMjUgXHU4RkRFXHU3RUVEXHU0RjdGXHU3NTI4XHU1OTI5XHU2NTcwJyxcbiAgJ3VubG9jay5wcm9ncmVzcy50b3RhbERheXMnOiAnXHVEODNEXHVEQ0M4IFx1NjAzQlx1NEY3Rlx1NzUyOFx1NTkyOVx1NjU3MCcsXG4gICd1bmxvY2sucHJvZ3Jlc3Muc3RhdHNQYWdlVmlzaXRlZCc6ICdcdUQ4M0RcdURDQ0EgXHU4QkJGXHU5NUVFXHU3RURGXHU4QkExXHU5ODc1Jyxcbid1bmxvY2suY29tbXVuaXR5LmxvY2tlZCc6ICdcdTY2N0FcdTU2Q0FcdTU2RTJcdTUyOUZcdTgwRkRcdTVERjJcdTk1MDFcdTVCOUEnLFxuJ3VubG9jay5jb21tdW5pdHkubGluayc6ICdcdTRFODZcdTg5RTNcdTY2N0FcdTU2Q0FcdTU2RTInLFxuXG4nZmlsdGVyLnVuYW5ub3RhdGVkJzogJ1x1NjVFMFx1NjI3OVx1NkNFOCcsXG5cbi8vIHVubG9jayByZWZhY3RvclxuJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNUZXh0JzogJ1x1NjNEMFx1NTNENlx1NEUzQVx1NjU4N1x1NjcyQycsXG4ndW5sb2NrLnN0YXQubm90ZXNFeHRyYWN0ZWRBc1FBJzogJ1x1NjNEMFx1NTNENlx1NEUzQVx1OTVFRVx1N0I1NCcsXG4ndW5sb2NrLnN0YXQubm90ZXNFeHRyYWN0ZWRBc0Nsb3plJzogJ1x1NjNEMFx1NTNENlx1NEUzQVx1NTg2Qlx1N0E3QScsXG4ndW5sb2NrLnN0YXQubm90ZXNTY2FubmVkJzogJ1x1NjI2Qlx1NjNDRlx1N0IxNFx1OEJCMCcsXG4vLyBjb250ZW50IGNhcmRcbidjYXJkLnF1ZXN0aW9uJzogJ1x1OTVFRVx1OTg5OCcsXG4nY2FyZC5hbnN3ZXInOiAnXHU3QjU0XHU2ODQ4JyxcbidjYXJkLmp1c3REdWUnOiAnXHU1MjFBXHU1MjFBXHU1MjMwXHU2NzFGJyxcbidjYXJkLmRlbGF5ZWRNaW51dGVzJzogJ1x1NUVGNlx1NTQwRSB7bWludXRlc30gXHU1MjA2XHU5NDlGJyxcbidjYXJkLmRlbGF5ZWRIb3Vycyc6ICdcdTVFRjZcdTU0MEUge2hvdXJzfSBcdTVDMEZcdTY1RjYnLFxuJ2NhcmQuZGVsYXllZERheXMnOiAnXHU1RUY2XHU1NDBFIHtkYXlzfSBcdTU5MjknLFxuJ2NhcmQuZHVlSW5NaW51dGVzJzogJ3ttaW51dGVzfSBcdTUyMDZcdTk0OUZcdTU0MEUnLFxuJ2NhcmQuZHVlSW5Ib3Vycyc6ICd7aG91cnN9IFx1NUMwRlx1NjVGNlx1NTQwRScsXG4nY2FyZC5kdWVJbkRheXMnOiAne2RheXN9IFx1NTkyOVx1NTQwRScsXG5cblxuICB9XG59IGFzIGNvbnN0O1xuXG5leHBvcnQgZnVuY3Rpb24gdChrZXk6IHN0cmluZywgbGFuZ3VhZ2U6IExhbmd1YWdlID0gJ2VuJywgcGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyB7XG4gIGxldCB0ZXh0ID0gdHJhbnNsYXRpb25zW2xhbmd1YWdlXVtrZXldIHx8IHRyYW5zbGF0aW9uc1snZW4nXVtrZXldIHx8IGtleTtcbiAgXG4gIC8vIFx1NjZGRlx1NjM2Mlx1NTNDMlx1NjU3MFxuICBpZiAocGFyYW1zKSB7XG4gICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChbcGFyYW1LZXksIHZhbHVlXSkgPT4ge1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShgeyR7cGFyYW1LZXl9fWAsIFN0cmluZyh2YWx1ZSkpO1xuICAgIH0pO1xuICB9XG4gIFxuICByZXR1cm4gdGV4dDtcbn0iLCAiLy8gcXVpY2sgZmxhc2hjYXJkICBjcmVhdG9yXG5pbXBvcnQgeyBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBBbm5vdGF0aW9uIH0gZnJvbSAnLi4vY29yZS9Bbm5vdGF0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyB0IH0gZnJvbSAnc3JjL2kxOG4vdHJhbnNsYXRpb25zJztcblxuLyoqXG4gKiBcdTRFMDBcdTk1MkVcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdTVERTVcdTUxNzdcdTdDN0JcbiAqL1xuZXhwb3J0IGNsYXNzIFF1aWNrRmxhc2hjYXJkQ3JlYXRvciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbikge31cbiAgcHJpdmF0ZSBnZXQgbGFuZ3VhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlIHx8ICdlbic7XG4gIH1cbiAgLyoqXG4gICAqIFx1NEVDRVx1NjNEMFx1NTNENlx1NTE4NVx1NUJCOVx1NEUwMFx1OTUyRVx1NTIxQlx1NUVGQVx1OTVFRVx1N0I1NFx1NTM2MVxuICAgKiBcdTU5ODJcdTY3OUNcdTY3MDlcdTYyNzlcdTZDRThcdUZGMENcdTRGN0ZcdTc1MjhcdTYyNzlcdTZDRThcdTRGNUNcdTRFM0FcdTdCNTRcdTY4NDhcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVF1aWNrUUFDYXJkKGNvbnRlbnRVbml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbm5vdGF0aW9uID0gdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZ2V0Q29udGVudEFubm90YXRpb24oY29udGVudFVuaXQuaWQpO1xuICAgICAgXG4gICAgICBsZXQgcXVlc3Rpb246IHN0cmluZztcbiAgICAgIGxldCBhbnN3ZXI6IHN0cmluZztcblxuICAgICAgaWYgKGFubm90YXRpb24gJiYgYW5ub3RhdGlvbi5jb250ZW50KSB7XG4gICAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NjI3OVx1NkNFOFx1RkYwQ1x1NEY3Rlx1NzUyOFx1NjI3OVx1NkNFOFx1NTE4NVx1NUJCOVx1NEY1Q1x1NEUzQVx1N0I1NFx1Njg0OFxuICAgICAgICAvLyBcdTY4QzBcdTY3RTVcdTYyNzlcdTZDRThcdTY2MkZcdTU0MjZcdTY2MkZcdTk1RUVcdTk4OThcdTVGNjJcdTVGMEZcbiAgICAgICAgaWYgKHRoaXMuaXNRdWVzdGlvbihhbm5vdGF0aW9uLmNvbnRlbnQpKSB7XG4gICAgICAgICAgLy8gXHU2Mjc5XHU2Q0U4XHU2NjJGXHU5NUVFXHU5ODk4XHVGRjBDXHU3NTFGXHU2MjEwXHU5RUQ4XHU4QkE0XHU5NUVFXHU5ODk4XHVGRjBDXHU2Mjc5XHU2Q0U4XHU1MTg1XHU1QkI5XHU0RjVDXHU0RTNBXHU3QjU0XHU2ODQ4XG4gICAgICAgICAgcXVlc3Rpb24gPSB0aGlzLmdlbmVyYXRlRGVmYXVsdFF1ZXN0aW9uKGNvbnRlbnRVbml0KTtcbiAgICAgICAgICBhbnN3ZXIgPSBhbm5vdGF0aW9uLmNvbnRlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gXHU2Mjc5XHU2Q0U4XHU0RTBEXHU2NjJGXHU5NUVFXHU5ODk4XHU1RjYyXHU1RjBGXHVGRjBDXHU3NTFGXHU2MjEwXHU5RUQ4XHU4QkE0XHU5NUVFXHU5ODk4XHVGRjBDXHU2Mjc5XHU2Q0U4XHU1MTg1XHU1QkI5XHU0RjVDXHU0RTNBXHU3QjU0XHU2ODQ4XG4gICAgICAgICAgcXVlc3Rpb24gPSB0aGlzLmdlbmVyYXRlRGVmYXVsdFF1ZXN0aW9uKGNvbnRlbnRVbml0KTtcbiAgICAgICAgICBhbnN3ZXIgPSBhbm5vdGF0aW9uLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NkNBMVx1NjcwOVx1NjI3OVx1NkNFOFx1RkYwQ1x1NEY3Rlx1NzUyOFx1OUVEOFx1OEJBNFx1NkEyMVx1NUYwRlxuICAgICAgICBxdWVzdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZWZhdWx0UXVlc3Rpb24oY29udGVudFVuaXQpO1xuICAgICAgICBhbnN3ZXIgPSBjb250ZW50VW5pdC5jb250ZW50O1xuICAgICAgfVxuXG4gICAgICAvLyBcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcbiAgICAgIGNvbnN0IGNhcmQgPSBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmNyZWF0ZVFBQ2FyZChcbiAgICAgICAgY29udGVudFVuaXQuaWQsXG4gICAgICAgIHF1ZXN0aW9uLFxuICAgICAgICBhbnN3ZXJcbiAgICAgICk7XG5cbiAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBGbGFzaGNhcmQgY3JlYXRlZCEgKFEmQSlgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcXVpY2sgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1Mjc0QyBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTRFQ0VcdTYzRDBcdTUzRDZcdTUxODVcdTVCQjlcdTRFMDBcdTk1MkVcdTUyMUJcdTVFRkFcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTUzNjFcbiAgICogXHU4MUVBXHU1MkE4XHU4QkM2XHU1MjJCXHU1MTczXHU5NTJFXHU4QkNEXG4gICAqL1xuICBhc3luYyBjcmVhdGVRdWlja0Nsb3plQ2FyZChjb250ZW50VW5pdDogQ29udGVudFVuaXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5d29yZHMgPSB0aGlzLmV4dHJhY3RLZXl3b3Jkcyhjb250ZW50VW5pdC5jb250ZW50KTtcbiAgICAgIFxuICAgICAgaWYgKGtleXdvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgTm8ga2V5d29yZHMgZm91bmQgZm9yIGNsb3plIGRlbGV0aW9uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gXHU2MjdFXHU1MjMwXHU1MTczXHU5NTJFXHU4QkNEXHU1NzI4XHU2NTg3XHU2NzJDXHU0RTJEXHU3Njg0XHU0RjREXHU3RjZFXG4gICAgICBjb25zdCBkZWxldGlvbnMgPSBrZXl3b3Jkcy5tYXAoa2V5d29yZCA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY29udGVudFVuaXQuY29udGVudC5pbmRleE9mKGtleXdvcmQud29yZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgYW5zd2VyOiBrZXl3b3JkLndvcmRcbiAgICAgICAgfTtcbiAgICAgIH0pLmZpbHRlcihkID0+IGQuaW5kZXggIT09IC0xKTtcblxuICAgICAgaWYgKGRlbGV0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmV3IE5vdGljZSgnXHUyNkEwXHVGRTBGIENvdWxkIG5vdCBjcmVhdGUgY2xvemUgZGVsZXRpb25zJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU1MzYxXG4gICAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5jcmVhdGVDbG96ZUNhcmQoXG4gICAgICAgIGNvbnRlbnRVbml0LmlkLFxuICAgICAgICBjb250ZW50VW5pdC5jb250ZW50LFxuICAgICAgICBkZWxldGlvbnNcbiAgICAgICk7XG5cbiAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBGbGFzaGNhcmQgY3JlYXRlZCEgKENsb3plIHdpdGggJHtkZWxldGlvbnMubGVuZ3RofSBibGFua3MpYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHF1aWNrIGNsb3plIGNhcmQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzRDIEZhaWxlZCB0byBjcmVhdGUgZmxhc2hjYXJkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NjY3QVx1ODBGRFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1RkYwOFx1ODFFQVx1NTJBOFx1NTIyNFx1NjVBRFx1N0M3Qlx1NTc4Qlx1RkYwOVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlU21hcnRDYXJkKGNvbnRlbnRVbml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRDb250ZW50QW5ub3RhdGlvbihjb250ZW50VW5pdC5pZCk7XG5cbiAgICAvLyBcdTU5ODJcdTY3OUNcdTY3MDlcdTk1RUVcdTk4OThcdTVGNjJcdTVGMEZcdTc2ODRcdTYyNzlcdTZDRThcdUZGMENcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTRcdTUzNjFcbiAgICBpZiAoYW5ub3RhdGlvbiAmJiB0aGlzLmlzUXVlc3Rpb24oYW5ub3RhdGlvbi5jb250ZW50KSkge1xuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVRdWlja1FBQ2FyZChjb250ZW50VW5pdCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU1MTg1XHU1QkI5XHU4RjgzXHU3N0VEXHU0RTE0XHU1MzA1XHU1NDJCXHU1MTczXHU5NTJFXHU0RkUxXHU2MDZGXHVGRjBDXHU1MjFCXHU1RUZBXHU5NUVFXHU3QjU0XHU1MzYxXG4gICAgaWYgKGNvbnRlbnRVbml0LmNvbnRlbnQubGVuZ3RoIDwgMjAwKSB7XG4gICAgICBhd2FpdCB0aGlzLmNyZWF0ZVF1aWNrUUFDYXJkKGNvbnRlbnRVbml0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBcdTU5ODJcdTY3OUNcdTUxODVcdTVCQjlcdThGODNcdTk1N0ZcdUZGMENcdTUyMUJcdTVFRkFcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTUzNjFcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZVF1aWNrQ2xvemVDYXJkKGNvbnRlbnRVbml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNzlcdTkxQ0ZcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUJhdGNoQ2FyZHMoXG4gICAgY29udGVudFVuaXRzOiBDb250ZW50VW5pdFtdLFxuICAgIHR5cGU6ICdxYScgfCAnY2xvemUnIHwgJ3NtYXJ0JyA9ICdzbWFydCdcbiAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfT4ge1xuICAgIGxldCBzdWNjZXNzID0gMDtcbiAgICBsZXQgZmFpbGVkID0gMDtcblxuICAgIGZvciAoY29uc3QgdW5pdCBvZiBjb250ZW50VW5pdHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3FhJzpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlUXVpY2tRQUNhcmQodW5pdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjbG96ZSc6XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVF1aWNrQ2xvemVDYXJkKHVuaXQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc21hcnQnOlxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVTbWFydENhcmQodW5pdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdWNjZXNzKys7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBjYXJkOicsIGVycm9yKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzcywgZmFpbGVkIH07XG4gIH1cblxuXG4vKipcbiAqIFx1NTIyNFx1NjVBRFx1NjU4N1x1NjcyQ1x1NjYyRlx1NTQyNlx1NjYyRlx1OTVFRVx1OTg5OFxuICovXG5wcml2YXRlIGlzUXVlc3Rpb24odGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGxvd2VyVGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gIFxuICAvLyBcdTRFRTVcdTk1RUVcdTUzRjdcdTdFRDNcdTVDM0VcbiAgaWYgKGxvd2VyVGV4dC5lbmRzV2l0aCgnPycpIHx8IHRleHQuZW5kc1dpdGgoJz8nKSB8fCB0ZXh0LmVuZHNXaXRoKCdcdUZGMUYnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICAvLyBcdTgyRjFcdTY1ODdcdTc1OTFcdTk1RUVcdThCQ0RcbiAgY29uc3QgZW5RdWVzdGlvbldvcmRzID0gWyd3aGF0JywgJ3doeScsICdob3cnLCAnd2hlbicsICd3aGVyZScsICd3aG8nLCAnd2hpY2gnXTtcbiAgZm9yIChjb25zdCB3b3JkIG9mIGVuUXVlc3Rpb25Xb3Jkcykge1xuICAgIGlmIChsb3dlclRleHQuc3RhcnRzV2l0aCh3b3JkICsgJyAnKSkgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIC8vIFx1NEUyRFx1NjU4N1x1NzU5MVx1OTVFRVx1OEJDRFxuICBjb25zdCBjblF1ZXN0aW9uV29yZHMgPSBbJ1x1NEVDMFx1NEU0OCcsICdcdTRFM0FcdTRFQzBcdTRFNDgnLCAnXHU2MDBFXHU0RTQ4JywgJ1x1NTk4Mlx1NEY1NScsICdcdTU0RUEnLCAnXHU4QzAxJywgJ1x1NEY1NVx1NjVGNicsICdcdTRFM0FcdTRGNTUnXTtcbiAgZm9yIChjb25zdCB3b3JkIG9mIGNuUXVlc3Rpb25Xb3Jkcykge1xuICAgIGlmICh0ZXh0LmluY2x1ZGVzKHdvcmQpKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgLy8gXHU0RTJEXHU2NTg3XHU5NUVFXHU1M0U1XHU3RUQzXHU1QzNFXG4gIGlmICh0ZXh0LmVuZHNXaXRoKCdcdTU0MTdcdUZGMUYnKSB8fCB0ZXh0LmVuZHNXaXRoKCdcdTU0NjJcdUZGMUYnKSB8fCB0ZXh0LmVuZHNXaXRoKCdcdTU0MTcnKSB8fCB0ZXh0LmVuZHNXaXRoKCdcdTU0NjInKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICByZXR1cm4gZmFsc2U7XG59XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1OUVEOFx1OEJBNFx1OTVFRVx1OTg5OFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZURlZmF1bHRRdWVzdGlvbihjb250ZW50VW5pdDogQ29udGVudFVuaXQpOiBzdHJpbmcge1xuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NjgwN1x1OTg5OFx1RkYwQ1x1NEY3Rlx1NzUyOFx1NjgwN1x1OTg5OFx1NzUxRlx1NjIxMFx1OTVFRVx1OTg5OFxuICAgIGlmIChjb250ZW50VW5pdC5zb3VyY2UuaGVhZGluZykge1xuICAgICAgY29uc3QgaGVhZGluZyA9IGNvbnRlbnRVbml0LnNvdXJjZS5oZWFkaW5nLnJlcGxhY2UoL14jK1xccyovLCAnJyk7XG4gICAgICByZXR1cm4gdCgncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQuaGVhZGluZycsIHRoaXMubGFuZ3VhZ2UsIHsgaGVhZGluZyB9KTtcbiAgICB9XG4gIFxuICAgIC8vIFx1NjgzOVx1NjM2RVx1NTE4NVx1NUJCOVx1OTU3Rlx1NUVBNlx1NzUxRlx1NjIxMFx1NEUwRFx1NTQwQ1x1NzY4NFx1OTVFRVx1OTg5OFxuICAgIGlmIChjb250ZW50VW5pdC5jb250ZW50Lmxlbmd0aCA8IDUwKSB7XG4gICAgICByZXR1cm4gdCgncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQuc2hvcnQnLCB0aGlzLmxhbmd1YWdlLCB7IFxuICAgICAgICBjb250ZW50OiBjb250ZW50VW5pdC5jb250ZW50IFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChjb250ZW50VW5pdC5jb250ZW50Lmxlbmd0aCA8IDE1MCkge1xuICAgICAgY29uc3QgZmlyc3RXb3JkcyA9IGNvbnRlbnRVbml0LmNvbnRlbnQuc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nO1xuICAgICAgcmV0dXJuIHQoJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0Lm1lZGl1bScsIHRoaXMubGFuZ3VhZ2UsIHsgXG4gICAgICAgIGNvbnRlbnQ6IGZpcnN0V29yZHMgXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHQoJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LmxvbmcnLCB0aGlzLmxhbmd1YWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2M0QwXHU1M0Q2XHU1MTczXHU5NTJFXHU4QkNEXHVGRjA4XHU3NTI4XHU0RThFXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHVGRjA5XG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RLZXl3b3Jkcyh0ZXh0OiBzdHJpbmcpOiBBcnJheTx7IHdvcmQ6IHN0cmluZzsgc2NvcmU6IG51bWJlciB9PiB7XG4gICAgLy8gXHU1MjA2XHU4QkNEXG4gICAgY29uc3Qgd29yZHMgPSB0ZXh0Lm1hdGNoKC9cXGJbQS1aYS16XXszLH1cXGIvZykgfHwgW107XG4gICAgXG4gICAgLy8gXHU1RTM4XHU4OUMxXHU1MDVDXHU3NTI4XHU4QkNEXG4gICAgY29uc3Qgc3RvcFdvcmRzID0gbmV3IFNldChbXG4gICAgICAndGhlJywgJ2lzJywgJ2F0JywgJ3doaWNoJywgJ29uJywgJ2EnLCAnYW4nLCAnYW5kJywgJ29yJywgJ2J1dCcsXG4gICAgICAnaW4nLCAnd2l0aCcsICd0bycsICdmb3InLCAnb2YnLCAnYXMnLCAnYnknLCAndGhpcycsICd0aGF0JyxcbiAgICAgICdmcm9tJywgJ3RoZXknLCAnd2UnLCAnc2F5JywgJ2hlcicsICdzaGUnLCAnaGUnLCAnd2lsbCcsICdteScsXG4gICAgICAnb25lJywgJ2FsbCcsICd3b3VsZCcsICd0aGVyZScsICd0aGVpcicsICd3aGF0JywgJ3NvJywgJ3VwJywgJ291dCcsXG4gICAgICAnaWYnLCAnYWJvdXQnLCAnd2hvJywgJ2dldCcsICd3aGljaCcsICdnbycsICdtZScsICd3aGVuJywgJ21ha2UnLFxuICAgICAgJ2NhbicsICdsaWtlJywgJ3RpbWUnLCAnbm8nLCAnanVzdCcsICdoaW0nLCAna25vdycsICd0YWtlJywgJ3Blb3BsZScsXG4gICAgICAnaW50bycsICd5ZWFyJywgJ3lvdXInLCAnZ29vZCcsICdzb21lJywgJ2NvdWxkJywgJ3RoZW0nLCAnc2VlJywgJ290aGVyJ1xuICAgIF0pO1xuXG4gICAgLy8gXHU4QkNEXHU5ODkxXHU3RURGXHU4QkExXG4gICAgY29uc3Qgd29yZEZyZXEgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgIHdvcmRzLmZvckVhY2god29yZCA9PiB7XG4gICAgICBjb25zdCBsb3dlciA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghc3RvcFdvcmRzLmhhcyhsb3dlcikgJiYgd29yZC5sZW5ndGggPiAzKSB7XG4gICAgICAgIHdvcmRGcmVxLnNldCh3b3JkLCAod29yZEZyZXEuZ2V0KHdvcmQpIHx8IDApICsgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBcdThCQTFcdTdCOTdcdTUyMDZcdTY1NzBcdUZGMDhcdTgwMDNcdTg2NTFcdTk4OTFcdTczODdcdTMwMDFcdTk1N0ZcdTVFQTZcdTMwMDFcdTU5MjdcdTUxOTlcdUZGMDlcbiAgICBjb25zdCBzY29yZWQgPSBBcnJheS5mcm9tKHdvcmRGcmVxLmVudHJpZXMoKSkubWFwKChbd29yZCwgZnJlcV0pID0+IHtcbiAgICAgIGxldCBzY29yZSA9IGZyZXE7XG4gICAgICBcbiAgICAgIC8vIFx1OTU3Rlx1OEJDRFx1NTJBMFx1NTIwNlxuICAgICAgaWYgKHdvcmQubGVuZ3RoID4gOCkgc2NvcmUgKz0gMjtcbiAgICAgIGVsc2UgaWYgKHdvcmQubGVuZ3RoID4gNikgc2NvcmUgKz0gMTtcbiAgICAgIFxuICAgICAgLy8gXHU5OTk2XHU1QjU3XHU2QkNEXHU1OTI3XHU1MTk5XHU1MkEwXHU1MjA2XHVGRjA4XHU1M0VGXHU4MEZEXHU2NjJGXHU0RTEzXHU2NzA5XHU1NDBEXHU4QkNEXHVGRjA5XG4gICAgICBpZiAod29yZFswXSA9PT0gd29yZFswXS50b1VwcGVyQ2FzZSgpKSBzY29yZSArPSAxO1xuICAgICAgXG4gICAgICByZXR1cm4geyB3b3JkLCBzY29yZSB9O1xuICAgIH0pO1xuXG4gICAgLy8gXHU2MzkyXHU1RThGXHU1RTc2XHU4RkQ0XHU1NkRFXHU1MjREM1x1NEUyQVx1NTE3M1x1OTUyRVx1OEJDRFxuICAgIHJldHVybiBzY29yZWRcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSlcbiAgICAgIC5zbGljZSgwLCAzKTtcbiAgfVxufSIsICIvLyBzcmMvdWkvU2lkZWJhck92ZXJ2aWV3Vmlldy50cyAtIFx1OTFDRFx1Njc4NFx1NTQwRVx1NzI0OFx1NjcyQ1xuaW1wb3J0IHsgU3R5bGVMb2FkZXIgfSBmcm9tICcuLi9zdHlsZS9zaWRlYmFyU3R5bGUnXG5pbXBvcnQgeyByZXZpZXdTdHlsZSB9IGZyb20gJy4uL3N0eWxlL3Jldmlld1N0eWxlJztcbmltcG9ydCB7IHQgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmltcG9ydCB7IFF1aWNrRmxhc2hjYXJkQ3JlYXRvciB9IGZyb20gJy4uLy4uL2NvcmUvUXVpY2tGbGFzaGNhcmRDcmVhdG9yJztcbmltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBURmlsZSwgTWVudSwgTm90aWNlLCBNb2RhbCwgU2V0dGluZywgVGV4dEFyZWFDb21wb25lbnQsIEJ1dHRvbkNvbXBvbmVudCxBcHAsIE1hcmtkb3duVmlld30gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcblxuLy8gXHU1QkZDXHU1MTY1XHU2NUIwXHU3Njg0XHU3RUM0XHU0RUY2XHU1NDhDXHU3MkI2XHU2MDAxXHU3QkExXHU3NDA2XG5pbXBvcnQgeyBGaWx0ZXJNb2RlLCBHcm91cE1vZGUsIFZpZXdTdGF0ZSB9IGZyb20gJy4uL3N0YXRzL1ZpZXdTdGF0ZSc7XG5pbXBvcnQgeyBUb29sYmFyIH0gIGZyb20gJy4uL2NvbXBvbmVudHMvVG9vbGJhcic7XG5pbXBvcnQgeyBCYXRjaEFjdGlvbnMsIEJhdGNoQWN0aW9uQ2FsbGJhY2tzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9CYXRjaEFjdGlvbnMnO1xuaW1wb3J0IHsgQ29udGVudExpc3QgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRlbnRMaXN0JztcbmltcG9ydCB7IENvbnRlbnRDYXJkLCBDYXJkQ2FsbGJhY2tzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZW50Q2FyZCc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uRWRpdG9yLCBBbm5vdGF0aW9uRWRpdG9yQ2FsbGJhY2tzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Bbm5vdGF0aW9uRWRpdG9yJztcbmltcG9ydCB7IHNpZGVPdmVydmlld1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlL3NpZGVPdmVydmlld1NlcnZpY2UnO1xuaW1wb3J0IHsgTWFudWFsRmxhc2hjYXJkTW9kYWwgfSBmcm9tICcuLi9jb21wb25lbnRzL21vZGFscy9NYW51YWxGbGFzaGNhcmRNb2RhbCc7XG5pbXBvcnQgeyBFZGl0Rmxhc2hjYXJkTW9kYWwgfSBmcm9tICcuLi9jb21wb25lbnRzL21vZGFscy9FZGl0Rmxhc2hjYXJkTW9kYWwnO1xuaW1wb3J0IHsgXG4gIENvbnRleHRNZW51QnVpbGRlciwgXG4gIENvbnRlbnRVbml0TWVudUNhbGxiYWNrcywgXG4gIEZsYXNoY2FyZE1lbnVDYWxsYmFja3MgXG59IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGV4dE1lbnVCdWlsZGVyJztcbmltcG9ydCB7IEJhdGNoQ3JlYXRlTW9kYWwgfSBmcm9tICcuLi9jb21wb25lbnRzL21vZGFscy9CYXRjaENyZWF0ZU1vZGFsJztcbmltcG9ydCB7IExldmVsSW5mb01vZGFsICxVbmxvY2tQcm9ncmVzc30gZnJvbSAnLi4vLi4vY29yZS9VbmxvY2tTeXN0ZW0nXG5cblxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXID0gJ2xlYXJuaW5nLXN5c3RlbS1zaWRlYmFyLW92ZXJ2aWV3JztcbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyA9ICdsZWFybmluZy1zeXN0ZW0tbWFpbi1vdmVydmlldyc7XG5cbmV4cG9ydCBjbGFzcyBTaWRlYmFyT3ZlcnZpZXdWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luO1xuICBcbiAgLy8gXHU0RjdGXHU3NTI4XHU3MkI2XHU2MDAxXHU3QkExXHU3NDA2XHU1NjY4XG4gIHByaXZhdGUgc3RhdGU6IFZpZXdTdGF0ZTtcbiAgXG4gIC8vIFx1NEY3Rlx1NzUyOFx1N0VDNFx1NEVGNlxuICBwcml2YXRlIHRvb2xiYXI6IFRvb2xiYXI7XG4gIHByaXZhdGUgYmF0Y2hBY3Rpb25zOiBCYXRjaEFjdGlvbnM7XG4gIHByaXZhdGUgY29udGVudExpc3Q6IENvbnRlbnRMaXN0O1xuICBwcml2YXRlIGFubm90YXRpb25FZGl0b3I6IEFubm90YXRpb25FZGl0b3I7XG4gIHByaXZhdGUgb3ZlcnZpZXdTZXJ2aWNlOiBzaWRlT3ZlcnZpZXdTZXJ2aWNlOyBcblxuICBwcml2YXRlIF9mb3JjZU1haW5Nb2RlOiBib29sZWFuO1xuXG4gIHByaXZhdGUgaXNPcGVuaW5nRWRpdG9yOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgc2F2aW5nQW5ub3RhdGlvbnM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sIGZvcmNlTWFpbk1vZGUgPSBmYWxzZSkge1xuICAgIHN1cGVyKGxlYWYpO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIFxuICAgIHRoaXMuX2ZvcmNlTWFpbk1vZGUgPSBmb3JjZU1haW5Nb2RlO1xuICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NzJCNlx1NjAwMVxuICAgIHRoaXMuc3RhdGUgPSBuZXcgVmlld1N0YXRlKGZvcmNlTWFpbk1vZGUpO1xuICAgIFxuICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1N0VDNFx1NEVGNlxuICAgIHRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudHMoKTtcbiAgICBcbiAgICBcbiAgICAvLyBcdThCQkVcdTdGNkVcdTUyMURcdTU5Q0JcdTkwMDlcdTRFMkRcdTY1ODdcdTRFRjZcbiAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICBpZiAoYWN0aXZlRmlsZSkge1xuICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPSBhY3RpdmVGaWxlLnBhdGg7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NzZEMVx1NTQyQ1x1N0E5N1x1NTNFM1x1NTkyN1x1NUMwRlx1NTNEOFx1NTMxNlx1RkYwOFx1OTYzMlx1NjI5Nlx1RkYwOVxuICAgIHRoaXMuc2V0dXBSZXNpemVMaXN0ZW5lcigpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3NTFGXHU1NDdEXHU1NDY4XHU2NzFGXHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBmb3JjZU1haW5Nb2RlID0gdGhpcy5fZm9yY2VNYWluTW9kZSB8fCBmYWxzZTtcbiAgICByZXR1cm4gZm9yY2VNYWluTW9kZSBcbiAgICAgID8gVklFV19UWVBFX01BSU5fT1ZFUlZJRVcgXG4gICAgICA6IFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ0xlYXJuaW5nIE92ZXJ2aWV3JztcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2Jvb2stbWFya2VkJztcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBcbiAgICAgICAgdGhpcy5kZXRlY3REaXNwbGF5TW9kZSgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNtLWVkaXRvcicpO1xuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgY29uc3Qgc3RvcEVkaXRvckNhcHR1cmUgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcubGVhcm5pbmctb3ZlcnZpZXctY29udGFpbmVyJykpIHtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGVkaXRvci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdG9wRWRpdG9yQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcEVkaXRvckNhcHR1cmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgLy8gXHU3OTgxXHU3NTI4XHU3RjE2XHU4RjkxXHU1NjY4XHU4MUVBXHU1MkE4XHU4MDVBXHU3MTI2XG4gICAgY29uc3QgZWRpdG9yQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNtLWNvbnRlbnQnKTtcbiAgICBpZiAoZWRpdG9yQ29udGFpbmVyKSB7XG4gICAgICAoZWRpdG9yQ29udGFpbmVyIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgZWRpdG9yQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NzBCOVx1NTFGQlx1NzY4NFx1NjYyRlx1NjQxQ1x1N0QyMlx1Njg0Nlx1NTMzQVx1NTdERlx1RkYwQ1x1NEUwRFx1OEJBOVx1N0YxNlx1OEY5MVx1NTY2OFx1NTkwNFx1NzQwNlxuICAgICAgICBjb25zdCBzZWFyY2hCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAoc2VhcmNoQm94ICYmIHNlYXJjaEJveC5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU3ODZFXHU0RkREXHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHU0RTBCXHU4QkJFXHU3RjZFXHU1RjUzXHU1MjREXHU2RDNCXHU1MkE4XHU2NTg3XHU0RUY2XG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICBpZiAoYWN0aXZlRmlsZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGFjdGl2ZUZpbGUucGF0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gXHU2Q0U4XHU1MThDXHU0RThCXHU0RUY2XHU3NkQxXHU1NDJDXG4gICAgaWYgKCF0aGlzLnN0YXRlLmZvcmNlTWFpbk1vZGUpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXJBY3RpdmVMZWFmQ2hhbmdlKCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUudXBkYXRlRHVlQ291bnQodGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlcik7XG4gICAgXG4gICAgLy8gXHU1MTQ4XHU2RTMyXHU2N0QzXHU3NTRDXHU5NzYyXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgICBTdHlsZUxvYWRlci5pbmplY3QoKTtcbiAgICByZXZpZXdTdHlsZS5pbmplY3QoKTtcbiAgICBcbiAgICAvLyBcdTc1NENcdTk3NjJcdTZFMzJcdTY3RDNcdTU0MEVcdTUxOERcdTY4QzBcdTY3RTVcdTU5MERcdTRFNjBcdTYzRDBcdTkxOTJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gIH1cbiAgXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgLy8gXHU2RTA1XHU3NDA2XHU1QjlBXHU2NUY2XHU1NjY4XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciAhPT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnN0YXRlLnNlYXJjaERlYm91bmNlVGltZXIpO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTUxNzNcdTk1RURcdTYyNDBcdTY3MDlcdTZEM0JcdTUyQThcdTc2ODRcdTdGMTZcdThGOTFcdTU2NjhcbiAgICB0aGlzLmFubm90YXRpb25FZGl0b3IuY2xvc2VBbGwoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NTIxRFx1NTlDQlx1NTMxNlx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUNvbXBvbmVudHMoKTogdm9pZCB7XG4gICAgdGhpcy5vdmVydmlld1NlcnZpY2UgPSBuZXcgc2lkZU92ZXJ2aWV3U2VydmljZSh0aGlzLnBsdWdpbiwgdGhpcy5zdGF0ZSk7XG4gICAgLy8gXHU1REU1XHU1MTc3XHU2ODBGXHU1NkRFXHU4QzAzXG4gICAgdGhpcy50b29sYmFyID0gbmV3IFRvb2xiYXIodGhpcy5zdGF0ZSwge1xuICAgICAgb25TZWFyY2hDaGFuZ2U6IChxdWVyeSkgPT4gdGhpcy5oYW5kbGVTZWFyY2hDaGFuZ2UocXVlcnkpLFxuICAgICAgb25GaWx0ZXJDaGFuZ2U6IChtb2RlKSA9PiB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZShtb2RlKSxcbiAgICAgIG9uR3JvdXBDaGFuZ2U6IChtb2RlKSA9PiB0aGlzLmhhbmRsZUdyb3VwQ2hhbmdlKG1vZGUpLFxuICAgICAgb25DaGVja1JldmlldzogKCkgPT4gdGhpcy5jaGVja1Jldmlld1JlbWluZGVyKCksXG5cbiAgICAgIGNoZWNrRmlsdGVySGFzTm90ZXM6IChtb2RlKSA9PiB0aGlzLmNoZWNrRmlsdGVySGFzTm90ZXMobW9kZSksXG4gICAgICBjaGVja0dyb3VwSGFzTm90ZXM6IChtb2RlKSA9PiB0aGlzLmNoZWNrR3JvdXBIYXNOb3Rlcyhtb2RlKVxuICAgIH0sIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKTsgXG4gICAgXG4gICAgXG4gICAgLy8gXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXHU1NkRFXHU4QzAzXG4gICAgY29uc3QgYmF0Y2hDYWxsYmFja3M6IEJhdGNoQWN0aW9uQ2FsbGJhY2tzID0ge1xuICAgICAgb25TZWxlY3RBbGw6ICgpID0+IHRoaXMuaGFuZGxlU2VsZWN0QWxsKCksXG4gICAgICBvbkRlc2VsZWN0QWxsOiAoKSA9PiB0aGlzLmhhbmRsZURlc2VsZWN0QWxsKCksXG4gICAgICBvbkJhdGNoQ3JlYXRlOiAoKSA9PiB0aGlzLmhhbmRsZUJhdGNoQ3JlYXRlKCksXG4gICAgICBvbkJhdGNoRGVsZXRlOiAoKSA9PiB0aGlzLmhhbmRsZUJhdGNoRGVsZXRlKCksXG4gICAgICBvbkNhbmNlbDogKCkgPT4gdGhpcy5oYW5kbGVCYXRjaENhbmNlbCgpXG4gICAgfTtcbiAgICB0aGlzLmJhdGNoQWN0aW9ucyA9IG5ldyBCYXRjaEFjdGlvbnModGhpcy5zdGF0ZSwgYmF0Y2hDYWxsYmFja3MsdGhpcy50b29sYmFyLCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpO1xuICAgIFxuICAgIC8vIFx1NTM2MVx1NzI0N1x1NTZERVx1OEMwM1xuICAgIGNvbnN0IGNhcmRDYWxsYmFja3M6IENhcmRDYWxsYmFja3MgPSB7XG4gICAgICBvbkp1bXBUb1NvdXJjZTogKHVuaXQpID0+IHRoaXMuanVtcFRvU291cmNlKHVuaXQpLFxuICAgICAgb25KdW1wVG9GbGFzaGNhcmQ6IChjYXJkKSA9PiB0aGlzLmp1bXBUb0ZsYXNoY2FyZFNvdXJjZShjYXJkKSwgXG4gICAgICBvblRvZ2dsZUFubm90YXRpb246IChjYXJkLCB1bml0KSA9PiB7XG4gICAgICAgIC8vIFx1RDgzQ1x1REZBRiBMdjIgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ2Fubm90YXRpb24nLCAnQW5ub3RhdGlvbicpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdTJCNTAgXHU4QkJFXHU3RjZFXHU5NTAxXG4gICAgICAgIHRoaXMuaXNPcGVuaW5nRWRpdG9yID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvci50b2dnbGUoY2FyZCwgdW5pdCk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmlzT3BlbmluZ0VkaXRvciA9IGZhbHNlO1xuICAgICAgICB9LCA1MDApOyBcbiAgICAgIH0sXG4gICAgICBvblF1aWNrRmxhc2hjYXJkOiAodW5pdCkgPT4gdGhpcy5xdWlja0dlbmVyYXRlRmxhc2hjYXJkKHVuaXQpLFxuICAgICAgb25TaG93Q29udGV4dE1lbnU6IChldmVudCwgdW5pdCkgPT4gdGhpcy5zaG93Q29udGV4dE1lbnUoZXZlbnQsIHVuaXQpLFxuICAgICAgb25GbGFzaGNhcmRDb250ZXh0TWVudTogKGV2ZW50LCBjYXJkKSA9PiB0aGlzLnNob3dGbGFzaGNhcmRDb250ZXh0TWVudShldmVudCwgY2FyZCksXG4gICAgICBnZXRBbm5vdGF0aW9uQ29udGVudDogKHVuaXRJZCkgPT4ge1xuICAgICAgICBjb25zdCBhbm4gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRDb250ZW50QW5ub3RhdGlvbih1bml0SWQpO1xuICAgICAgICByZXR1cm4gYW5uPy5jb250ZW50O1xuICAgICAgfSxcbiAgICAgIGdldENvbnRlbnRVbml0OiAodW5pdElkKSA9PiB7XG4gICAgICAgIGNvbnN0IGFsbFVuaXRzID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0QWxsQ29udGVudFVuaXRzKCk7XG4gICAgICAgIGNvbnN0IHVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdCh1bml0SWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVuaXQpIHtcbiAgICAgICAgICByZXR1cm4gdW5pdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNvbnRlbnRMaXN0ID0gbmV3IENvbnRlbnRMaXN0KHRoaXMuc3RhdGUsIGNhcmRDYWxsYmFja3MpO1xuICAgIFxuLy8gXHU2Mjc5XHU2Q0U4XHU3RjE2XHU4RjkxXHU1NjY4XHU1NkRFXHU4QzAzXG5jb25zdCBhbm5vdGF0aW9uQ2FsbGJhY2tzOiBBbm5vdGF0aW9uRWRpdG9yQ2FsbGJhY2tzID0ge1xuICBvblNhdmU6IGFzeW5jICh1bml0SWQsIGNvbnRlbnQpID0+IHtcbiAgIFxuICAgIC8vIFx1MkI1MCBcdTk2MzJcdTkxQ0RcdTU5MERcdUZGMUFcdTU5ODJcdTY3OUNcdTZCNjNcdTU3MjhcdTRGRERcdTVCNThcdUZGMENcdTc2RjRcdTYzQTVcdThGRDRcdTU2REVcbiAgICBpZiAodGhpcy5zYXZpbmdBbm5vdGF0aW9ucy5oYXModW5pdElkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTJCNTAgXHU2ODA3XHU4QkIwXHU0RTNBXHU2QjYzXHU1NzI4XHU0RkREXHU1QjU4XG4gICAgdGhpcy5zYXZpbmdBbm5vdGF0aW9ucy5hZGQodW5pdElkKTtcbiAgICBcbiAgICB0cnkge1xuICAgICBcbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5zYXZlQW5ub3RhdGlvbih1bml0SWQsIGNvbnRlbnQpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2F2aW5nQW5ub3RhdGlvbnMuZGVsZXRlKHVuaXRJZCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgICBcbiAgfSxcbiAgXG4gIG9uQ2FuY2VsOiAodW5pdElkKSA9PiB7XG4gICAgdGhpcy5zYXZpbmdBbm5vdGF0aW9ucy5kZWxldGUodW5pdElkKTtcbiAgfSxcbiAgXG4gIGdldEFubm90YXRpb25Db250ZW50OiAodW5pdElkKSA9PiB7XG4gICAgY29uc3QgYW5uID0gdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZ2V0Q29udGVudEFubm90YXRpb24odW5pdElkKTtcbiAgICByZXR1cm4gYW5uPy5jb250ZW50O1xuICB9XG59O1xuICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvciA9IG5ldyBBbm5vdGF0aW9uRWRpdG9yKGFubm90YXRpb25DYWxsYmFja3MpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFJlc2l6ZUxpc3RlbmVyKCk6IHZvaWQge1xuICAgIGxldCByZXNpemVUaW1lcjogbnVtYmVyO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZXIpO1xuICAgICAgcmVzaXplVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZGV0ZWN0RGlzcGxheU1vZGUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyQWN0aXZlTGVhZkNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2FjdGl2ZS1sZWFmLWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmIChhY3RpdmVGaWxlICYmIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gYWN0aXZlRmlsZS5wYXRoO1xuICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCAoZmlsZSkgPT4ge1xuICAgICAgICBpZiAoZmlsZSAmJiB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGZpbGUucGF0aDtcbiAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2NjNFXHU3OTNBXHU2QTIxXHU1RjBGXHU2OEMwXHU2RDRCID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBkZXRlY3REaXNwbGF5TW9kZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5mb3JjZU1haW5Nb2RlKSB7XG4gICAgICB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID0gJ21haW4nO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwYXJlbnRTcGxpdCA9ICh0aGlzLmxlYWYgYXMgYW55KS5wYXJlbnRTcGxpdDtcbiAgICBjb25zdCBpc0xlZnRTaWRlYmFyID0gcGFyZW50U3BsaXQ/LnR5cGUgPT09ICdzcGxpdCcgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5sZWZ0U3BsaXQgPT09IHBhcmVudFNwbGl0O1xuICAgIGNvbnN0IGlzUmlnaHRTaWRlYmFyID0gcGFyZW50U3BsaXQ/LnR5cGUgPT09ICdzcGxpdCcgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmlnaHRTcGxpdCA9PT0gcGFyZW50U3BsaXQ7XG4gICAgXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNvbnRhaW5lckVsLmNsaWVudFdpZHRoO1xuICAgIGNvbnN0IGlzTmFycm93ID0gd2lkdGggPCA1MDA7XG4gICAgXG4gICAgY29uc3QgaXNTaWRlYmFyID0gaXNMZWZ0U2lkZWJhciB8fCBpc1JpZ2h0U2lkZWJhciB8fCBpc05hcnJvdztcbiAgICB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID0gaXNTaWRlYmFyID8gJ3NpZGViYXInIDogJ21haW4nO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2RTMyXHU2N0QzXHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgcmVmcmVzaCgpOiB2b2lkIHtcbiAgXG4gIGNvbnN0IGhhc0FjdGl2ZUVkaXRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgIT09IG51bGw7XG4gIGlmIChoYXNBY3RpdmVFZGl0b3JzIHx8IHRoaXMuaXNPcGVuaW5nRWRpdG9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZW5kZXJpbmcpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnJlZnJlc2goKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaERlYm91bmNlVGltZXIgIT09IG51bGwpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyKTtcbiAgICAgIHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuc2hvdWxkUmVzdG9yZVNjcm9sbCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVuZGVyaW5nKSByZXR1cm47XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5pc1JlbmRlcmluZyA9IHRydWU7XG4gICAgXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgICBcbiAgICAvLyBcdTRGRERcdTVCNThcdTZFREFcdTUyQThcdTRGNERcdTdGNkVcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ3NpZGViYXInKSB7XG4gICAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjb250ZW50TGlzdCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNhdmVkU2Nyb2xsUG9zaXRpb24gPSBjb250ZW50TGlzdC5zY3JvbGxUb3A7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NkUwNVx1N0E3QVx1NUJCOVx1NTY2OFxuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hZGRDbGFzcygnbGVhcm5pbmctb3ZlcnZpZXctY29udGFpbmVyJyk7XG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgdGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSk7XG4gICAgXG4gICAgLy8gXHU2ODM5XHU2MzZFXHU2QTIxXHU1RjBGXHU2RTMyXHU2N0QzXG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgdGhpcy5yZW5kZXJTaWRlYmFyTW9kZShjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlck1haW5Nb2RlKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NjA2Mlx1NTkwRFx1NkVEQVx1NTJBOFx1NEY0RFx1N0Y2RVxuICAgIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicgJiYgdGhpcy5zdGF0ZS5zaG91bGRSZXN0b3JlU2Nyb2xsKSB7XG4gICAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjb250ZW50TGlzdCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGNvbnRlbnRMaXN0LnNjcm9sbFRvcCA9IHRoaXMuc3RhdGUuc2F2ZWRTY3JvbGxQb3NpdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuaXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgfVxuXG4vLyBzcmMvdWkvU2lkZWJhck92ZXJ2aWV3Vmlldy50c1xuXG5wcml2YXRlIHJlbmRlclNpZGViYXJNb2RlKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgLy8gMS4gXHU2RTMyXHU2N0QzXHU1REU1XHU1MTc3XHU2ODBGXG4gIGNvbnN0IHRvb2xiYXJFbCA9IHRoaXMudG9vbGJhci5yZW5kZXJTaWRlYmFyVG9vbGJhcihjb250YWluZXIpO1xuXG4gIC8vIDIuIFx1NTIxQlx1NUVGQVx1N0VERlx1OEJBMVx1ODg0Q1xuICBsZXQgc3RhdHNSb3cgPSB0b29sYmFyRWwucXVlcnlTZWxlY3RvcignLnN0YXRzLXJvdycpIGFzIEhUTUxFbGVtZW50O1xuICBpZiAoIXN0YXRzUm93KSB7XG4gICAgc3RhdHNSb3cgPSB0b29sYmFyRWwuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtcm93JyB9KTtcbiAgICBzdGF0c1Jvdy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHMtY29udGFpbmVyJywgJ3RydWUnKTtcbiAgfVxuICBcbiAgLy8gMy4gXHU4M0I3XHU1M0Q2XHU1M0VGXHU4OUMxXHU5ODc5XHU3NkVFXG4gIGNvbnN0IGN1cnJlbnRGaWxlVW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTsgXG4gIGNvbnN0IGl0ZW1zID0gdGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJyBcbiAgICA/IHRoaXMuZ2V0RmlsdGVyZWRDYXJkc0ZvckN1cnJlbnRGaWxlKCkgXG4gICAgOiBjdXJyZW50RmlsZVVuaXRzO1xuICBcbiAgXG4gIC8vIDQuIFx1NTIxQlx1NUVGQVx1NURFNlx1NEZBN1x1NUJCOVx1NTY2OChcdTUxNjhcdTkwMDlcdTYzMDlcdTk0QUUpXG4gIGNvbnN0IGxlZnRBY3Rpb25zID0gc3RhdHNSb3cuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtbGVmdCcgfSk7XG4gIHRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlclNlbGVjdEFsbEJ1dHRvbihsZWZ0QWN0aW9ucywgaXRlbXMsICdzaWRlYmFyJyk7XG4gIFxuICAvLyA1LiBcdTUyMUJcdTVFRkFcdTRFMkRcdTk1RjRcdTVCQjlcdTU2NjgoXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFKVxuICBjb25zdCBjZW50ZXJBY3Rpb25zID0gc3RhdHNSb3cuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtY2VudGVyJyB9KTtcbiAgdGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyQWN0aW9uQnV0dG9ucyhjZW50ZXJBY3Rpb25zLCAnc2lkZWJhcicpO1xuICBcbi8vIFx1NjYzRVx1NzkzQVx1N0I0OVx1N0VBN1x1NUZCRFx1N0FFMFx1RkYwOEx2MS1MdjQgXHU1OUNCXHU3RUM4XHU2NjNFXHU3OTNBXHVGRjBDTHY1IFx1NjYzRVx1NzkzQTMwXHU1MjA2XHU5NDlGXHU1NDBFXHU5NjkwXHU4NUNGXHVGRjA5XG5jb25zdCBwcm9ncmVzcyA9IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5nZXRQcm9ncmVzcygpO1xuY29uc3Qgc2hvdWxkU2hvd0Z1bGxCYWRnZSA9IHRoaXMuc2hvdWxkU2hvd0Z1bGxMZXZlbEJhZGdlKHByb2dyZXNzKTtcblxuaWYgKHNob3VsZFNob3dGdWxsQmFkZ2UpIHtcbiAgY29uc3QgbGV2ZWxCYWRnZSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdsZXZlbC1iYWRnZScgfSk7XG5cbiAgY29uc3QgbGV2ZWxOYW1lID0gdGhpcy50KGBsZXZlbC4ke3Byb2dyZXNzLmN1cnJlbnRMZXZlbH1gKTtcblxuICBsZXZlbEJhZGdlLnRleHRDb250ZW50ID0gYEx2JHtwcm9ncmVzcy5jdXJyZW50TGV2ZWx9OiAgJHtsZXZlbE5hbWV9YDtcbiAgbGV2ZWxCYWRnZS5zdHlsZS5mb250U2l6ZSA9ICcxZW0nO1xuXG4gIGNvbnN0IHByb2dyZXNzVGV4dCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdwcm9ncmVzcy10ZXh0JyB9KTtcbiAgcHJvZ3Jlc3NUZXh0LmlubmVySFRNTCA9IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5nZXROZXh0U3RlcHNGb3JMZXZlbChwcm9ncmVzcy5jdXJyZW50TGV2ZWwpLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xuICBwcm9ncmVzc1RleHQuc3R5bGUuZm9udFNpemUgPSAnMC45M2VtJztcbiAgXG4gIC8vIFx1NkRGQlx1NTJBMFx1N0IyQ1x1NEUwMFx1Njc2MVx1NTIwNlx1OTY5NFx1N0VCRlxuICBjb25zdCBkaXZpZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2xldmVsLWRpdmlkZXInIH0pO1xuICBkaXZpZGVyLnN0eWxlLndpZHRoID0gJ2NhbGMoMTAwJSAtIDI0cHgpJztcbiAgZGl2aWRlci5zdHlsZS5oZWlnaHQgPSAnMXB4JztcbiAgZGl2aWRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJztcbiAgZGl2aWRlci5zdHlsZS5tYXJnaW4gPSAnMTJweCBhdXRvJztcbn1cblxuLy8gNi4gXHU1MjFCXHU1RUZBXHU1M0YzXHU0RkE3XHU1QkI5XHU1NjY4KFx1N0I0OVx1N0VBN1x1NUZCRFx1N0FFMCArIFx1NTkwRFx1NEU2MFx1NjhDMFx1NjdFNVx1NjMwOVx1OTRBRSlcbmNvbnN0IHJpZ2h0QWN0aW9ucyA9IHN0YXRzUm93LmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLXJpZ2h0JyB9KTtcblxuLy8gXHUyQjUwIEx2NSBcdTRFMTQzMFx1NTIwNlx1OTQ5Rlx1NTQwRVx1NjYzRVx1NzkzQVx1NUMwRlx1NUZCRFx1N0FFMFx1RkYwOFx1NTkwRFx1NzUyOFx1NEUwQVx1OTc2Mlx1NzY4NCBwcm9ncmVzcyBcdTUzRDhcdTkxQ0ZcdUZGMDlcbmlmICghc2hvdWxkU2hvd0Z1bGxCYWRnZSAmJiBwcm9ncmVzcy5jdXJyZW50TGV2ZWwgPT09IDUpIHtcbiAgdGhpcy5yZW5kZXJMZXZlbEJhZGdlKHJpZ2h0QWN0aW9ucywgcHJvZ3Jlc3MpO1xufVxuXG50aGlzLmJhdGNoQWN0aW9ucy5yZW5kZXJSZXZpZXdDaGVja0J1dHRvbihyaWdodEFjdGlvbnMsICdzaWRlYmFyJyk7XG4gIFxuICAvLyA3LiBcdTUyMUJcdTVFRkFcdTUxODVcdTVCQjlcdTUyMTdcdTg4NjhcdTVCQjlcdTU2NjhcbiAgY29uc3QgY29udGVudExpc3RFbCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzaWRlYmFyLWNvbnRlbnQtbGlzdCcgfSk7XG4gIFxuICAvLyA4LiBcdTUxNDhcdTZFMzJcdTY3RDNcdTUxODVcdTVCQjlcbiAgdGhpcy5jb250ZW50TGlzdC5yZW5kZXJDb21wYWN0TGlzdChjb250ZW50TGlzdEVsLCBjdXJyZW50RmlsZVVuaXRzKTtcblxuICAvLyA5LiBcdTJCNTAgXHU2RTMyXHU2N0QzXHU1QjhDXHU2MjEwXHU1NDBFLFx1NUMwNlx1NjNEMFx1OTE5Mlx1NjNEMlx1NTE2NVx1NTIzMFx1NjcwMFx1NTI0RFx1OTc2MlxuICB0aGlzLmluc2VydFJldmlld1JlbWluZGVyQXRUb3AoY29udGVudExpc3RFbCk7XG59XG5cbiAgcHJpdmF0ZSByZW5kZXJNYWluTW9kZShjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cbiAgICBjb25zdCBsYXlvdXQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnbWFpbi1sYXlvdXQnIH0pO1xuXG4gICAgLy8gXHU1REU2XHU0RkE3XHU5NzYyXHU2NzdGXG4gICAgY29uc3QgbGVmdFBhbmVsID0gbGF5b3V0LmNyZWF0ZURpdih7IGNsczogJ2xlZnQtcGFuZWwnIH0pO1xuICAgIHRoaXMucmVuZGVyTGVmdFBhbmVsKGxlZnRQYW5lbCk7XG4gICAgXG4gICAgLy8gXHU1M0YzXHU0RkE3XHU5NzYyXHU2NzdGXG4gICAgY29uc3QgcmlnaHRQYW5lbCA9IGxheW91dC5jcmVhdGVEaXYoeyBjbHM6ICdyaWdodC1wYW5lbCcgfSk7XG4gICAgdGhpcy5yZW5kZXJSaWdodFBhbmVsKHJpZ2h0UGFuZWwpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJMZWZ0UGFuZWwoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIC8vIFx1NURFNVx1NTE3N1x1NjgwRlxuICAgIHRoaXMudG9vbGJhci5yZW5kZXJNYWluVG9vbGJhcihjb250YWluZXIpO1xuICAgIFxuICAgIC8vIFx1NTZGQVx1NUI5QVx1NTE2NVx1NTNFM1x1RkYwOEFsbCBOb3RlcywgQ2FyZCBMaXN0XHVGRjA5XG4gICAgdGhpcy5yZW5kZXJGaXhlZEVudHJpZXMoY29udGFpbmVyKTtcbiAgICBcbiAgICAvLyBcdTY1ODdcdTRFRjZcdTUyMTdcdTg4NjhcbiAgICB0aGlzLnJlbmRlckZpbGVMaXN0KGNvbnRhaW5lcik7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclJpZ2h0UGFuZWwoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICB0aGlzLnJlbmRlckZsYXNoY2FyZHNWaWV3KGNvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1ODFFQVx1NTJBOFx1OTAwOVx1NEUyRFx1N0IyQ1x1NEUwMFx1NEUyQVx1NTIwNlx1N0VDNFxuICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICAgIGNvbnN0IHVuaXRzID0gdGhpcy5nZXRGaWx0ZXJlZFVuaXRzKCk7XG4gICAgICBjb25zdCBncm91cGVkID0gdGhpcy5jb250ZW50TGlzdC5ncm91cFVuaXRzKHVuaXRzKTtcbiAgICAgIGlmIChncm91cGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPSBncm91cGVkWzBdLmdyb3VwS2V5O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB7XG4gICAgICB0aGlzLnJlbmRlckVtcHR5UmlnaHRQYW5lbChjb250YWluZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTZFMzJcdTY3RDNcdTU5MzRcdTkwRThcbiAgICBjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlIHx8ICdcdTUxODVcdTVCQjknIH0pO1xuICAgIFxuICAgIGNvbnN0IGhlYWRlckFjdGlvbnMgPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAnaGVhZGVyLWFjdGlvbnMnIH0pO1xuICAgIGNvbnN0IHZpc2libGVJdGVtcyA9IHRoaXMuZ2V0VmlzaWJsZUl0ZW1zKCk7XG4gICAgY29uc3QgaXRlbXMgPSAodmlzaWJsZUl0ZW1zLnVuaXRzIHx8IFtdKTtcbiAgICBcbiAgICB0aGlzLmJhdGNoQWN0aW9ucy5yZW5kZXJBY3Rpb25CdXR0b25zKGhlYWRlckFjdGlvbnMsICdoZWFkZXInKTtcbiAgICB0aGlzLmJhdGNoQWN0aW9ucy5yZW5kZXJTZWxlY3RBbGxCdXR0b24oaGVhZGVyQWN0aW9ucywgaXRlbXMsICdoZWFkZXInKTtcbiAgICBcbiAgICAvLyBcdTZFMzJcdTY3RDNcdTdGNTFcdTY4M0NcbiAgICBjb25zdCBncmlkQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NvbnRlbnQtZ3JpZCcgfSk7XG4gICAgY29uc3QgZmlsdGVyZWRVbml0cyA9IHRoaXMuZ2V0RmlsdGVyZWRVbml0c0ZvclNlbGVjdGVkR3JvdXAoKTtcbiAgICB0aGlzLmNvbnRlbnRMaXN0LnJlbmRlckNvbnRlbnRHcmlkKGdyaWRDb250YWluZXIsIGZpbHRlcmVkVW5pdHMpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGbGFzaGNhcmRzVmlldyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3QgZmxhc2hjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICAgIFxuICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICAgIGNvbnN0IGdyb3VwZWQgPSB0aGlzLmNvbnRlbnRMaXN0Lmdyb3VwRmxhc2hjYXJkcyhcbiAgICAgICAgZmxhc2hjYXJkcyxcbiAgICAgICAgKGlkKSA9PiB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChpZClcbiAgICAgICk7XG4gICAgICBpZiAoZ3JvdXBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gZ3JvdXBlZFswXS5ncm91cEtleTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgICAgdGhpcy5yZW5kZXJFbXB0eVJpZ2h0UGFuZWwoY29udGFpbmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2RTMyXHU2N0QzXHU1OTM0XHU5MEU4XG4gICAgY29uc3QgaGVhZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtaGVhZGVyJyB9KTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSB8fCAnXHU5NUVBXHU1MzYxJyB9KTtcbiAgICBcbiAgICBjb25zdCBoZWFkZXJBY3Rpb25zID0gaGVhZGVyLmNyZWF0ZURpdih7IGNsczogJ2hlYWRlci1hY3Rpb25zJyB9KTtcbiAgICBjb25zdCB2aXNpYmxlSXRlbXMgPSB0aGlzLmdldFZpc2libGVJdGVtcygpO1xuICAgIGNvbnN0IGl0ZW1zID0gKHZpc2libGVJdGVtcy5jYXJkcyB8fCBbXSk7XG4gICAgXG4gICAgdGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyQWN0aW9uQnV0dG9ucyhoZWFkZXJBY3Rpb25zLCAnaGVhZGVyJyk7XG4gICAgdGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyU2VsZWN0QWxsQnV0dG9uKGhlYWRlckFjdGlvbnMsIGl0ZW1zLCAnaGVhZGVyJyk7XG4gICAgXG4gICAgLy8gXHU2RTMyXHU2N0QzXHU5NUVBXHU1MzYxXHU3RjUxXHU2ODNDXG4gICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjb250ZW50LWdyaWQnIH0pO1xuICAgIGNvbnN0IGZpbHRlcmVkQ2FyZHMgPSB0aGlzLmdldEZpbHRlcmVkQ2FyZHNGb3JTZWxlY3RlZEdyb3VwKCk7XG4gICAgdGhpcy5jb250ZW50TGlzdC5yZW5kZXJGbGFzaGNhcmRzR3JpZChncmlkQ29udGFpbmVyLCBmaWx0ZXJlZENhcmRzKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRml4ZWRFbnRyaWVzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBlbnRyaWVzID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2ZpeGVkLWVudHJpZXMnIH0pO1xuICAgIFxuICAgIGNvbnN0IGFsbE5vdGVzQnRuID0gZW50cmllcy5jcmVhdGVEaXYoe1xuICAgICAgY2xzOiBgZW50cnktYnRuICR7dGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ25vdGVzJyA/ICdhY3RpdmUnIDogJyd9YFxuICAgIH0pO1xuICAgIGFsbE5vdGVzQnRuLmlubmVySFRNTCA9ICdcdUQ4M0RcdURDREQgPHNwYW4+QWxsIE5vdGVzPC9zcGFuPic7XG4gICAgYWxsTm90ZXNCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5zZXRWaWV3VHlwZSgnbm90ZXMnKSkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IGNhcmRMaXN0QnRuID0gZW50cmllcy5jcmVhdGVEaXYoe1xuICAgICAgY2xzOiBgZW50cnktYnRuICR7dGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJyA/ICdhY3RpdmUnIDogJyd9YFxuICAgIH0pO1xuICAgIGNhcmRMaXN0QnRuLmlubmVySFRNTCA9ICdcdUQ4M0NcdURDQ0YgPHNwYW4+Q2FyZCBMaXN0PC9zcGFuPic7XG4gICAgY2FyZExpc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5zZXRWaWV3VHlwZSgnY2FyZHMnKSkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGaWxlTGlzdChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdGhpcy50KCdmaWxlTGlzdC50aXRsZScpLCBjbHM6ICdwYW5lbC10aXRsZScgfSk7XG5cbiAgICBjb25zdCBmaWxlTGlzdENvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdmaWxlLWxpc3QnIH0pO1xuICAgIHRoaXMucmVuZGVyRmlsZUxpc3RDb250ZW50KGZpbGVMaXN0Q29udGFpbmVyKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmlsZUxpc3RDb250ZW50KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBcbiAgICBsZXQgZ3JvdXBlZDogQXJyYXk8eyBncm91cEtleTogc3RyaW5nOyBjb3VudDogbnVtYmVyIH0+O1xuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICBjb25zdCBmbGFzaGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgICBcbiAgICAgIC8vIFx1MkI1MCBcdTYzMDlcdTYyNzlcdTZDRThcdTUyMDZcdTdFQzRcdTY1RjZcdTc2ODRcdTcyNzlcdTZCOEFcdTU5MDRcdTc0MDZcbiAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2Fubm90YXRpb24nKSB7XG4gICAgICAgIGNvbnN0IGFubm90YXRlZENhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuICAgICAgICBjb25zdCB1bmFubm90YXRlZENhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU1MjA2XHU3QzdCXHU5NUVBXHU1MzYxXHVGRjFBXHU2NzA5XHU2Mjc5XHU2Q0U4IHZzIFx1NjVFMFx1NjI3OVx1NkNFOFxuICAgICAgICBmbGFzaGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICAgICAgY29uc3QgdW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNhcmQuc291cmNlQ29udGVudElkKTtcbiAgICAgICAgICBpZiAodW5pdCAmJiB1bml0LmFubm90YXRpb25JZCkge1xuICAgICAgICAgICAgYW5ub3RhdGVkQ2FyZHMucHVzaChjYXJkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5hbm5vdGF0ZWRDYXJkcy5wdXNoKGNhcmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTYzMDlcdTY1ODdcdTRFRjZcdTUyMDZcdTdFQzRcdTY3MDlcdTYyNzlcdTZDRThcdTc2ODRcdTk1RUFcdTUzNjFcbiAgICAgICAgY29uc3QgZmlsZUdyb3VwcyA9IG5ldyBNYXA8c3RyaW5nLCBGbGFzaGNhcmRbXT4oKTtcbiAgICAgICAgYW5ub3RhdGVkQ2FyZHMuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGNhcmQuc291cmNlRmlsZTtcbiAgICAgICAgICBpZiAoIWZpbGVHcm91cHMuaGFzKGZpbGVOYW1lKSkge1xuICAgICAgICAgICAgZmlsZUdyb3Vwcy5zZXQoZmlsZU5hbWUsIFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmlsZUdyb3Vwcy5nZXQoZmlsZU5hbWUpIS5wdXNoKGNhcmQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1Njc4NFx1NUVGQVx1NTIwNlx1N0VDNFx1NTIxN1x1ODg2OFxuICAgICAgICBncm91cGVkID0gW107XG4gICAgICAgIFxuICAgICAgICAvLyBcdTZERkJcdTUyQTBcdTU0MDRcdTRFMkFcdTY1ODdcdTRFRjZcdTc2ODRcdTY3MDlcdTYyNzlcdTZDRThcdTk1RUFcdTUzNjFcbiAgICAgICAgZmlsZUdyb3Vwcy5mb3JFYWNoKChjYXJkcywgZmlsZU5hbWUpID0+IHtcbiAgICAgICAgICBncm91cGVkLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBLZXk6IGZpbGVOYW1lLFxuICAgICAgICAgICAgY291bnQ6IGNhcmRzLmxlbmd0aFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NkRGQlx1NTJBMFwiXHU2NUUwXHU2Mjc5XHU2Q0U4XCJcdTUyMDZcdTdFQzRcdUZGMDhcdTU5ODJcdTY3OUNcdTY3MDlcdTY1RTBcdTYyNzlcdTZDRThcdTc2ODRcdTk1RUFcdTUzNjFcdUZGMDlcbiAgICAgICAgaWYgKHVuYW5ub3RhdGVkQ2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGdyb3VwZWQucHVzaCh7XG4gICAgICAgICAgICBncm91cEtleTogJ2ZpbHRlci51bmFubm90YXRlZCcsXG4gICAgICAgICAgICBjb3VudDogdW5hbm5vdGF0ZWRDYXJkcy5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU1MTc2XHU0RUQ2XHU1MjA2XHU3RUM0XHU2QTIxXHU1RjBGXG4gICAgICAgIGNvbnN0IGNhcmRHcm91cHMgPSB0aGlzLmNvbnRlbnRMaXN0Lmdyb3VwRmxhc2hjYXJkcyhcbiAgICAgICAgICBmbGFzaGNhcmRzLFxuICAgICAgICAgIChpZCkgPT4gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoaWQpXG4gICAgICAgICk7XG4gICAgICAgIGdyb3VwZWQgPSBjYXJkR3JvdXBzLm1hcChnID0+ICh7IFxuICAgICAgICAgIGdyb3VwS2V5OiBnLmdyb3VwS2V5LCBcbiAgICAgICAgICBjb3VudDogZy5jYXJkcy5sZW5ndGggXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90ZXMgXHU4OUM2XHU1NkZFXG4gICAgICBjb25zdCB1bml0cyA9IHRoaXMuZ2V0RmlsdGVyZWRVbml0cygpO1xuICAgICAgXG4gICAgICAvLyBcdTJCNTAgXHU2MzA5XHU2Mjc5XHU2Q0U4XHU1MjA2XHU3RUM0XHU2NUY2XHU3Njg0XHU3Mjc5XHU2QjhBXHU1OTA0XHU3NDA2XG4gICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdhbm5vdGF0aW9uJykge1xuICAgICAgICBjb25zdCBhbm5vdGF0ZWRVbml0cyA9IHVuaXRzLmZpbHRlcih1ID0+IHUuYW5ub3RhdGlvbklkKTtcbiAgICAgICAgY29uc3QgdW5hbm5vdGF0ZWRVbml0cyA9IHVuaXRzLmZpbHRlcih1ID0+ICF1LmFubm90YXRpb25JZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTYzMDlcdTY1ODdcdTRFRjZcdTUyMDZcdTdFQzRcdTY3MDlcdTYyNzlcdTZDRThcdTc2ODRcdTdCMTRcdThCQjBcbiAgICAgICAgY29uc3QgZmlsZUdyb3VwcyA9IG5ldyBNYXA8c3RyaW5nLCBDb250ZW50VW5pdFtdPigpO1xuICAgICAgICBhbm5vdGF0ZWRVbml0cy5mb3JFYWNoKHVuaXQgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gdW5pdC5zb3VyY2UuZmlsZTtcbiAgICAgICAgICBpZiAoIWZpbGVHcm91cHMuaGFzKGZpbGVOYW1lKSkge1xuICAgICAgICAgICAgZmlsZUdyb3Vwcy5zZXQoZmlsZU5hbWUsIFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmlsZUdyb3Vwcy5nZXQoZmlsZU5hbWUpIS5wdXNoKHVuaXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1Njc4NFx1NUVGQVx1NTIwNlx1N0VDNFx1NTIxN1x1ODg2OFxuICAgICAgICBncm91cGVkID0gW107XG4gICAgICAgIFxuICAgICAgICAvLyBcdTZERkJcdTUyQTBcdTU0MDRcdTRFMkFcdTY1ODdcdTRFRjZcdTc2ODRcdTY3MDlcdTYyNzlcdTZDRThcdTdCMTRcdThCQjBcbiAgICAgICAgZmlsZUdyb3Vwcy5mb3JFYWNoKCh1bml0cywgZmlsZU5hbWUpID0+IHtcbiAgICAgICAgICBncm91cGVkLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBLZXk6IGZpbGVOYW1lLFxuICAgICAgICAgICAgY291bnQ6IHVuaXRzLmxlbmd0aFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NkRGQlx1NTJBMFwiXHU2NUUwXHU2Mjc5XHU2Q0U4XCJcdTUyMDZcdTdFQzRcdUZGMDhcdTU5ODJcdTY3OUNcdTY3MDlcdTY1RTBcdTYyNzlcdTZDRThcdTc2ODRcdTdCMTRcdThCQjBcdUZGMDlcbiAgICAgICAgaWYgKHVuYW5ub3RhdGVkVW5pdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGdyb3VwZWQucHVzaCh7XG4gICAgICAgICAgICBncm91cEtleTogJ2ZpbHRlci51bmFubm90YXRlZCcsXG4gICAgICAgICAgICBjb3VudDogdW5hbm5vdGF0ZWRVbml0cy5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU1MTc2XHU0RUQ2XHU1MjA2XHU3RUM0XHU2QTIxXHU1RjBGXG4gICAgICAgIGNvbnN0IHVuaXRHcm91cHMgPSB0aGlzLmNvbnRlbnRMaXN0Lmdyb3VwVW5pdHModW5pdHMpO1xuICAgICAgICBncm91cGVkID0gdW5pdEdyb3Vwcy5tYXAoZyA9PiAoeyBcbiAgICAgICAgICBncm91cEtleTogZy5ncm91cEtleSwgXG4gICAgICAgICAgY291bnQ6IGcudW5pdHMubGVuZ3RoIFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChncm91cGVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdih7IHRleHQ6IHRoaXMudCgnZW1wdHkubm9Eb2N1bWVudHMnKSwgY2xzOiAnZW1wdHktaGludCcgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgJiYgZ3JvdXBlZC5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGdyb3VwZWRbMF0uZ3JvdXBLZXk7XG4gICAgfVxuICAgIFxuICAgIGdyb3VwZWQuZm9yRWFjaCgoeyBncm91cEtleSwgY291bnQgfSkgPT4ge1xuICAgICAgY29uc3QgZmlsZUl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KHtcbiAgICAgICAgY2xzOiBgZmlsZS1pdGVtICR7dGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPT09IGdyb3VwS2V5ID8gJ3NlbGVjdGVkJyA6ICcnfWBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBcdTJCNTAgXHU3Mjc5XHU2QjhBXHU2NjNFXHU3OTNBXCJcdTY1RTBcdTYyNzlcdTZDRThcIlx1NTIwNlx1N0VDNFxuICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBncm91cEtleSA9PT0gJ2ZpbHRlci51bmFubm90YXRlZCcgXG4gICAgICAgID8gdGhpcy50KCdmaWx0ZXIudW5hbm5vdGF0ZWQnKVxuICAgICAgICA6IGdyb3VwS2V5O1xuICAgICAgXG4gICAgICBmaWxlSXRlbS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1pY29uXCI+JHt0aGlzLmdldEdyb3VwSWNvbigpfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmaWxlLW5hbWVcIj4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmaWxlLWNvdW50XCI+JHtjb3VudH08L3NwYW4+XG4gICAgICBgO1xuICAgICAgXG4gICAgICBmaWxlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSAhPT0gZ3JvdXBLZXkpIHtcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25FZGl0b3IuY2xvc2VBbGwoKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGdyb3VwS2V5O1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGFsbEl0ZW1zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlLWl0ZW0nKTtcbiAgICAgICAgICBhbGxJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKSk7XG4gICAgICAgICAgZmlsZUl0ZW0uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgdGhpcy5yZWZyZXNoUmlnaHRQYW5lbCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBcbiAgcHJpdmF0ZSByZW5kZXJFbXB0eVJpZ2h0UGFuZWwoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGVtcHR5ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2VtcHR5LXJpZ2h0LXBhbmVsJyB9KTtcbiAgICBlbXB0eS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwiZW1wdHktaWNvblwiPlx1RDgzRFx1RENFRDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXRleHRcIj4ke3RoaXMudCgnZW1wdHkubm9Db250ZW50Jyl9PC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG5wcml2YXRlIGhhbmRsZVNlYXJjaENoYW5nZShxdWVyeTogc3RyaW5nKTogdm9pZCB7XG4gIHRoaXMuc3RhdGUuc2V0U2VhcmNoUXVlcnkocXVlcnkpO1xuICBcbiAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciAhPT0gbnVsbCkge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyKTtcbiAgfVxuICBcbiAgdGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnN0IGhhc0FjdGl2ZUVkaXRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgIT09IG51bGw7XG4gICAgaWYgKGhhc0FjdGl2ZUVkaXRvcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5jbGVhclNlbGVjdGlvbigpO1xuICAgIHRoaXMucmVmcmVzaENvbnRlbnRPbmx5KCk7ICAvLyBcdTJCNTAgXHU1M0VBXHU1MjM3XHU2NUIwXHU1MTg1XHU1QkI5XHU1MzNBXHU1N0RGXG4gIH0sIDMwMCk7XG59XG5cbi8vIFx1NkRGQlx1NTJBMFx1NjVCMFx1NjVCOVx1NkNENTpcdTUzRUFcdTUyMzdcdTY1QjBcdTUxODVcdTVCQjlcdTUyMTdcdTg4NjhcbnByaXZhdGUgcmVmcmVzaENvbnRlbnRPbmx5KCk6IHZvaWQge1xuICAvLyBcdTJCNTAgXHU1OTgyXHU2NzlDXHU2QjYzXHU1NzI4XHU2MjUzXHU1RjAwXHU3RjE2XHU4RjkxXHU1NjY4XHVGRjBDXHU4REYzXHU4RkM3XHU1MjM3XHU2NUIwXG4gIGlmICh0aGlzLmlzT3BlbmluZ0VkaXRvcikge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgY29uc3QgaGFzQWN0aXZlRWRpdG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKSAhPT0gbnVsbDtcbiAgaWYgKGhhc0FjdGl2ZUVkaXRvcnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgXG4gIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicpIHtcbiAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoY29udGVudExpc3QpIHtcbiAgICAgIGNvbnN0IHNjcm9sbFBvcyA9IGNvbnRlbnRMaXN0LnNjcm9sbFRvcDtcblxuICAgICAgY29uc3QgZWRpdGluZ0NhcmRzID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxFbGVtZW50PigpO1xuICAgICAgY29udGVudExpc3QucXVlcnlTZWxlY3RvckFsbCgnLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpLmZvckVhY2goKGVkaXRvcjogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGVkaXRvci5jbG9zZXN0KCdbZGF0YS11bml0LWlkXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBpZiAoY2FyZCkge1xuICAgICAgICAgIGNvbnN0IHVuaXRJZCA9IGNhcmQuZ2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnKTtcbiAgICAgICAgICBpZiAodW5pdElkKSB7XG4gICAgICAgICAgICBlZGl0aW5nQ2FyZHMuc2V0KHVuaXRJZCwgZWRpdG9yLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29udGVudExpc3QuZW1wdHkoKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRGaWxlVW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTtcbiAgICAgIHRoaXMuY29udGVudExpc3QucmVuZGVyQ29tcGFjdExpc3QoY29udGVudExpc3QsIGN1cnJlbnRGaWxlVW5pdHMpO1xuICAgICAgdGhpcy5pbnNlcnRSZXZpZXdSZW1pbmRlckF0VG9wKGNvbnRlbnRMaXN0KTtcbiAgICAgIFxuICAgICAgaWYgKGVkaXRpbmdDYXJkcy5zaXplID4gMCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGVkaXRpbmdDYXJkcy5mb3JFYWNoKChlZGl0b3IsIHVuaXRJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FyZCA9IGNvbnRlbnRMaXN0LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXVuaXQtaWQ9XCIke3VuaXRJZH1cIl1gKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgICAgICAgIGNhcmQuc2V0QXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgcHJldmlldyA9IGNhcmQucXVlcnlTZWxlY3RvcignLmFubm90YXRpb24tcHJldmlldycpO1xuICAgICAgICAgICAgICBpZiAocHJldmlldykge1xuICAgICAgICAgICAgICAgIHByZXZpZXcucmVwbGFjZVdpdGgoZWRpdG9yKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGVkaXRvci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRhcmVhKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFubm90YXRpb25FZGl0b3JbJ2JpbmRFZGl0b3JFdmVudHMnXSh0ZXh0YXJlYSwgdW5pdElkKTtcbiAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAgICAgICBcbiAgICAgIGNvbnRlbnRMaXN0LnNjcm9sbFRvcCA9IHNjcm9sbFBvcztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZWZyZXNoUmlnaHRQYW5lbCgpO1xuICAgIFxuICAgIGNvbnN0IGZpbGVMaXN0Q29udGFpbmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5maWxlLWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoZmlsZUxpc3RDb250YWluZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyRmlsZUxpc3RDb250ZW50KGZpbGVMaXN0Q29udGFpbmVyKTtcbiAgICB9XG4gIH1cbn1cblxuICBwcml2YXRlIGhhbmRsZUZpbHRlckNoYW5nZShtb2RlOiB0eXBlb2YgdGhpcy5zdGF0ZS5maWx0ZXJNb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2V0RmlsdGVyTW9kZShtb2RlKSkge1xuICAgICAgdGhpcy5zdGF0ZS5zaG91bGRSZXN0b3JlU2Nyb2xsID0gZmFsc2U7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlR3JvdXBDaGFuZ2UobW9kZTogdHlwZW9mIHRoaXMuc3RhdGUuZ3JvdXBNb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2V0R3JvdXBNb2RlKG1vZGUpKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VsZWN0QWxsKCk6IHZvaWQge1xuICAgIGNvbnN0IHZpc2libGUgPSB0aGlzLmdldFZpc2libGVJdGVtcygpO1xuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICBjb25zdCBjYXJkcyA9IHZpc2libGUuY2FyZHMgfHwgW107XG4gICAgICBpZiAoY2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2Uubm9TZWxlY3Rpb24nKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0QWxsQ2FyZHMoY2FyZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bml0cyA9IHZpc2libGUudW5pdHMgfHwgW107XG4gICAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2Uubm9TZWxlY3Rpb24nKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0QWxsVW5pdHModW5pdHMpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEZXNlbGVjdEFsbCgpOiB2b2lkIHtcbiAgICBjb25zdCB2aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlSXRlbXMoKTtcbiAgICBcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgdGhpcy5zdGF0ZS5kZXNlbGVjdEFsbENhcmRzKHZpc2libGUuY2FyZHMgfHwgW10pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLmRlc2VsZWN0QWxsVW5pdHModmlzaWJsZS51bml0cyB8fCBbXSk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJhdGNoQ3JlYXRlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5zaXplID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLm5vU2VsZWN0aW9uJykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdThDMDNcdTc1MjhcdTYyNzlcdTkxQ0ZcdTUyMUJcdTVFRkFcdTkwM0JcdThGOTFcbiAgICB0aGlzLmJhdGNoQ3JlYXRlRmxhc2hjYXJkcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVCYXRjaERlbGV0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5nZXRTZWxlY3RlZENvdW50KCkgPT09IDApIHtcbiAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2Uubm9TZWxlY3Rpb24nKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICB0aGlzLmJhdGNoRGVsZXRlRmxhc2hjYXJkcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJhdGNoRGVsZXRlTm90ZXMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJhdGNoQ2FuY2VsKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUuY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY1NzBcdTYzNkVcdTgzQjdcdTUzRDZcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGdldEZpbHRlcmVkVW5pdHMoKTogQ29udGVudFVuaXRbXSB7XG4gICAgbGV0IHVuaXRzID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0QWxsQ29udGVudFVuaXRzKCk7XG4gICAgLy8gXHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHVGRjFBXHU1M0VBXHU2NjNFXHU3OTNBXHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU3Njg0XHU3QjE0XHU4QkIwXG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJyAmJiB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgICAgdW5pdHMgPSB1bml0cy5maWx0ZXIodW5pdCA9PiB1bml0LnNvdXJjZS5maWxlID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSk7XG4gICAgfVxuXG4gICAgLy8gXHU2NDFDXHU3RDIyXHU4RkM3XHU2RUU0XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoUXVlcnkpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zdGF0ZS5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdW5pdHMgPSB1bml0cy5maWx0ZXIodW5pdCA9PlxuICAgICAgICB1bml0LmNvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkgfHxcbiAgICAgICAgdW5pdC5zb3VyY2UuZmlsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICB1bml0Lm1ldGFkYXRhLnRhZ3Muc29tZSh0YWcgPT4gdGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpKVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU3QzdCXHU1NzhCXHU4RkM3XHU2RUU0XG4gICAgaWYgKHRoaXMuc3RhdGUuZmlsdGVyTW9kZSA9PT0gJ2Fubm90YXRlZCcpIHtcbiAgICAgIHVuaXRzID0gdW5pdHMuZmlsdGVyKHUgPT4gdS5hbm5vdGF0aW9uSWQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5maWx0ZXJNb2RlID09PSAnZmxhc2hjYXJkcycpIHtcbiAgICAgIHVuaXRzID0gdW5pdHMuZmlsdGVyKHUgPT4gdS5mbGFzaGNhcmRJZHMubGVuZ3RoID4gMCk7XG4gICAgfVxuICAgIFxuXG4gICAgXG4gICAgcmV0dXJuIHVuaXRzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGaWx0ZXJlZFVuaXRzRm9yU2VsZWN0ZWRHcm91cCgpOiBDb250ZW50VW5pdFtdIHtcbiAgICBjb25zdCB1bml0cyA9IHRoaXMuZ2V0RmlsdGVyZWRVbml0cygpO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGU7XG4gIFxuICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiBbXTtcbiAgXG4gICAgcmV0dXJuIHVuaXRzLmZpbHRlcih1bml0ID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIHJldHVybiB1bml0LnNvdXJjZS5maWxlID09PSBzZWxlY3RlZDtcbiAgXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnYW5ub3RhdGlvbicpIHtcbiAgICAgICAgLy8gXHUyQjUwIFx1NEZFRVx1NjUzOVx1RkYxQVx1NjMwOVx1NjI3OVx1NkNFOFx1NTIwNlx1N0VDNFx1NjVGNlx1NzY4NFx1OEZDN1x1NkVFNFx1OTAzQlx1OEY5MVxuICAgICAgICBpZiAoc2VsZWN0ZWQgPT09ICdmaWx0ZXIudW5hbm5vdGF0ZWQnKSB7XG4gICAgICAgICAgLy8gXHU2NjNFXHU3OTNBXHU2MjQwXHU2NzA5XHU2NUUwXHU2Mjc5XHU2Q0U4XHU3Njg0XHU3QjE0XHU4QkIwXG4gICAgICAgICAgcmV0dXJuICF1bml0LmFubm90YXRpb25JZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBcdTY2M0VcdTc5M0FcdTcyNzlcdTVCOUFcdTY1ODdcdTRFRjZcdTc2ODRcdTY3MDlcdTYyNzlcdTZDRThcdTdCMTRcdThCQjBcbiAgICAgICAgICByZXR1cm4gdW5pdC5zb3VyY2UuZmlsZSA9PT0gc2VsZWN0ZWQgJiYgISF1bml0LmFubm90YXRpb25JZDtcbiAgICAgICAgfVxuICBcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICd0YWcnKSB7XG4gICAgICAgIHJldHVybiB1bml0Lm1ldGFkYXRhLnRhZ3MuaW5jbHVkZXMoc2VsZWN0ZWQpO1xuICBcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdkYXRlJykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSh1bml0Lm1ldGFkYXRhLmNyZWF0ZWRBdCkpID09PSBzZWxlY3RlZFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIFxuXG4gIHByaXZhdGUgZ2V0RmlsdGVyZWRDYXJkc0ZvclNlbGVjdGVkR3JvdXAoKTogRmxhc2hjYXJkW10ge1xuICAgIGNvbnN0IGZsYXNoY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlO1xuICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiBbXTtcbiAgICBcbiAgICByZXR1cm4gZmxhc2hjYXJkcy5maWx0ZXIoY2FyZCA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdmaWxlJykge1xuICAgICAgICByZXR1cm4gY2FyZC5zb3VyY2VGaWxlID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdhbm5vdGF0aW9uJykge1xuICAvLyBcdTJCNTAgXHU0RkVFXHU2NTM5XHVGRjFBXHU2MzA5XHU2Mjc5XHU2Q0U4XHU1MjA2XHU3RUM0XHU2NUY2XHU3Njg0XHU4RkM3XHU2RUU0XHU5MDNCXHU4RjkxXG4gIGNvbnN0IHVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChjYXJkLnNvdXJjZUNvbnRlbnRJZCk7XG4gIFxuICBpZiAoc2VsZWN0ZWQgPT09ICdmaWx0ZXIudW5hbm5vdGF0ZWQnKSB7XG4gICAgLy8gXHU2NjNFXHU3OTNBXHU2MjQwXHU2NzA5XHU2NUUwXHU2Mjc5XHU2Q0U4XHU3Njg0XHU5NUVBXHU1MzYxXG4gICAgcmV0dXJuICF1bml0IHx8ICF1bml0LmFubm90YXRpb25JZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBcdTY2M0VcdTc5M0FcdTcyNzlcdTVCOUFcdTY1ODdcdTRFRjZcdTc2ODRcdTY3MDlcdTYyNzlcdTZDRThcdTk1RUFcdTUzNjFcbiAgICByZXR1cm4gY2FyZC5zb3VyY2VGaWxlID09PSBzZWxlY3RlZCAmJiB1bml0ICYmICEhdW5pdC5hbm5vdGF0aW9uSWQ7XG4gIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICd0YWcnKSB7XG4gICAgICAgIGNvbnN0IHVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChjYXJkLnNvdXJjZUNvbnRlbnRJZCk7XG4gICAgICAgIHJldHVybiAodW5pdCAmJiB1bml0Lm1ldGFkYXRhLnRhZ3MuaW5jbHVkZXMoc2VsZWN0ZWQpKSB8fFxuICAgICAgICAgICAgICAgKGNhcmQudGFncyAmJiBjYXJkLnRhZ3MuaW5jbHVkZXMoc2VsZWN0ZWQpKSB8fFxuICAgICAgICAgICAgICAgKGNhcmQuZGVjayA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHx8XG4gICAgICAgICAgICAgICAodGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPT09ICdncm91cC51bmNhdGVnb3JpemVkJyAmJiBcbiAgICAgICAgICAgICAgICAoIWNhcmQudGFncyB8fCBjYXJkLnRhZ3MubGVuZ3RoID09PSAwKSAmJiBcbiAgICAgICAgICAgICAgICAhY2FyZC5kZWNrICYmXG4gICAgICAgICAgICAgICAgKCF1bml0IHx8ICF1bml0Lm1ldGFkYXRhLnRhZ3MgfHwgdW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA9PT0gMCkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdERhdGUobmV3IERhdGUoY2FyZC5tZXRhZGF0YS5jcmVhdGVkQXQpKSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldFZpc2libGVJdGVtcygpOiB7IHVuaXRzPzogQ29udGVudFVuaXRbXTsgY2FyZHM/OiBGbGFzaGNhcmRbXSB9IHtcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgY29uc3QgY2FyZHMgPSB0aGlzLmdldEZpbHRlcmVkQ2FyZHNGb3JTZWxlY3RlZEdyb3VwKCk7XG4gICAgICByZXR1cm4geyBjYXJkcyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bml0cyA9IHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJyBcbiAgICAgICAgPyB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKSBcbiAgICAgICAgOiB0aGlzLmdldEZpbHRlcmVkVW5pdHNGb3JTZWxlY3RlZEdyb3VwKCk7XG4gICAgICByZXR1cm4geyB1bml0cyB9O1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NEUxQVx1NTJBMVx1OTAzQlx1OEY5MVx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gXG5cbnByaXZhdGUgYXN5bmMganVtcFRvU291cmNlKHVuaXQ6IENvbnRlbnRVbml0KTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IHRoaXMub3ZlcnZpZXdTZXJ2aWNlLmp1bXBUb1NvdXJjZSh1bml0LCB0aGlzLmFwcCk7XG59XG5cbnByaXZhdGUgYXN5bmMganVtcFRvRmxhc2hjYXJkU291cmNlKGNhcmQ6IEZsYXNoY2FyZCk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIC8vIFx1OTk5Nlx1NTE0OFx1NUMxRFx1OEJENVx1OTAxQVx1OEZDNyBDb250ZW50VW5pdCBcdThERjNcdThGNkNcbiAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgIFxuICAgIGlmICh1bml0KSB7XG4gICAgICBhd2FpdCB0aGlzLmp1bXBUb1NvdXJjZSh1bml0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChjYXJkLnNvdXJjZUZpbGUpO1xuICAgIGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuZmlsZU5vdEZvdW5kJykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcbiAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG4gICAgXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NzA5IGFuY2hvckxpbmtcdUZGMENcdTVDMURcdThCRDVcdThERjNcdThGNkNcdTUyMzBcdTUxNzdcdTRGNTNcdTRGNERcdTdGNkVcbiAgICBpZiAoY2FyZC5hbmNob3JMaW5rKSB7XG4gICAgICAvLyBcdTRFQ0UgYW5jaG9yTGluayBcdTYzRDBcdTUzRDYgYmxvY2tJZFxuICAgICAgLy8gXHU2ODNDXHU1RjBGOiBbW2ZpbGVuYW1lI15ibG9jay1pZF1dXG4gICAgICBjb25zdCBibG9ja0lkTWF0Y2ggPSBjYXJkLmFuY2hvckxpbmsubWF0Y2goL1xcXlxcUysvKTtcbiAgICAgIGlmIChibG9ja0lkTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgYmxvY2tJZCA9IGJsb2NrSWRNYXRjaFswXS5zdWJzdHJpbmcoMSk7IC8vIFx1NzlGQlx1OTY2NCBeXG4gICAgICAgIFxuICAgICAgICAvLyBcdTdCNDlcdTVGODVcdTdGMTZcdThGOTFcdTU2NjhcdTUyQTBcdThGN0RcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2QjYzXHU3ODZFXHU4M0I3XHU1M0Q2IE1hcmtkb3duVmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgaWYgKHZpZXcgJiYgdmlldy5lZGl0b3IpIHtcbiAgICAgICAgICBjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBcdTY3RTVcdTYyN0UgYmxvY2sgSURcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobGluZXNbaV0uaW5jbHVkZXMoYF4ke2Jsb2NrSWR9YCkpIHtcbiAgICAgICAgICAgICAgZWRpdG9yLnNldEN1cnNvcih7IGxpbmU6IGksIGNoOiAwIH0pO1xuICAgICAgICAgICAgICBlZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoeyBmcm9tOiB7IGxpbmU6IGksIGNoOiAwIH0sIHRvOiB7IGxpbmU6IGksIGNoOiAwIH0gfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLmp1bXBlZFRvU291cmNlJykpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGp1bXBpbmcgdG8gZmxhc2hjYXJkIHNvdXJjZTonLCBlcnJvcik7XG4gICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5qdW1wRmFpbGVkJykpO1xuICB9XG59XG5cbnByaXZhdGUgYXN5bmMgc2F2ZUFubm90YXRpb24odW5pdElkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCB0aGlzLm92ZXJ2aWV3U2VydmljZS5zYXZlQW5ub3RhdGlvbih1bml0SWQsIGNvbnRlbnQpO1xufVxuXG5wcml2YXRlIGFzeW5jIHF1aWNrR2VuZXJhdGVGbGFzaGNhcmQodW5pdDogQ29udGVudFVuaXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgdGhpcy5vdmVydmlld1NlcnZpY2UucXVpY2tHZW5lcmF0ZUZsYXNoY2FyZCh1bml0KTtcbiAgXG4gIC8vIFx1NTIzN1x1NjVCMCBVSVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9KTtcbn1cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1ID09PT09PT09PT09PT09PT09PT09XG5wcml2YXRlIHNob3dDb250ZXh0TWVudShldmVudDogTW91c2VFdmVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgY29uc3QgY2FsbGJhY2tzOiBDb250ZW50VW5pdE1lbnVDYWxsYmFja3MgPSB7XG4gICAgb25KdW1wVG9Tb3VyY2U6ICh1bml0KSA9PiB0aGlzLmp1bXBUb1NvdXJjZSh1bml0KSxcbiAgICBcbiAgICBvblRvZ2dsZUFubm90YXRpb246ICh1bml0KSA9PiB7XG4gICAgICAgIC8vIFx1RDgzQ1x1REZBRiBMdjIgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gIGlmICghdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ2Fubm90YXRpb24nLCAnQW5ub3RhdGlvbicpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICAgICBjb25zdCBjYXJkID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgY2FyZEVsID0gY2FyZC5jbG9zZXN0KCcuY29tcGFjdC1jYXJkLCAuZ3JpZC1jYXJkJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAoY2FyZEVsKSB7XG4gICAgICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvci50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIG9uRWRpdEZsYXNoY2FyZDogKHVuaXQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRJZCA9IHVuaXQuZmxhc2hjYXJkSWRzWzBdO1xuICAgICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGNhcmRJZCk7XG4gICAgICBpZiAoY2FyZCkge1xuICAgICAgICBuZXcgRWRpdEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgY2FyZCkub3BlbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5mbGFzaGNhcmROb3RGb3VuZCcpKTtcblxuICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgb25RdWlja0dlbmVyYXRlOiAodW5pdCkgPT4gdGhpcy5xdWlja0dlbmVyYXRlRmxhc2hjYXJkKHVuaXQpLFxuICAgIFxuICAgIG9uQ3JlYXRlUUE6ICh1bml0KSA9PiB7XG4gICAgICBuZXcgTWFudWFsRmxhc2hjYXJkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCB1bml0LCAncWEnKS5vcGVuKCk7XG4gICAgfSxcbiAgICBcbiAgICBvbkNyZWF0ZUNsb3plOiAodW5pdCkgPT4ge1xuICAgICAgbmV3IE1hbnVhbEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgdW5pdCwgJ2Nsb3plJykub3BlbigpO1xuICAgIH0sXG4gICAgXG4gICAgb25WaWV3U3RhdHM6ICgpID0+IHtcbiAgICAgIHRoaXMucGx1Z2luLmFjdGl2YXRlU3RhdHMoKTtcbiAgICB9LFxuICAgIFxub25EZWxldGU6IGFzeW5jICh1bml0KSA9PiB7XG4gIFxuICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5kZWxldGVDb250ZW50VW5pdCh1bml0LmlkLCAndXNlci1kZWxldGVkJyk7XG4gIFxuICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLm1vdmVkVG9UcmFzaCcpKTtcbiAgdGhpcy5yZWZyZXNoKCk7XG4gIFxufVxuICB9O1xuICBcbiAgY29uc3QgbWVudSA9IENvbnRleHRNZW51QnVpbGRlci5idWlsZENvbnRlbnRVbml0TWVudSh1bml0LCBjYWxsYmFja3MsdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpO1xuICBtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xufVxuICBcbiAgcHJpdmF0ZSBvcGVuTWFudWFsRmxhc2hjYXJkTW9kYWwodW5pdDogQ29udGVudFVuaXQsIHR5cGU6ICdxYScgfCAnY2xvemUnKTogdm9pZCB7XG5cbiAgICBcbiAgICBuZXcgTWFudWFsRmxhc2hjYXJkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCB1bml0LCB0eXBlKS5vcGVuKCk7XG4gIH1cblxuXG4gIHByaXZhdGUgc2hvd0ZsYXNoY2FyZENvbnRleHRNZW51KGV2ZW50OiBNb3VzZUV2ZW50LCBjYXJkOiBGbGFzaGNhcmQpOiB2b2lkIHtcbiAgICBjb25zdCBjYWxsYmFja3M6IEZsYXNoY2FyZE1lbnVDYWxsYmFja3MgPSB7XG4gICAgICBvbkp1bXBUb1NvdXJjZTogYXN5bmMgKGNhcmQpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5vdmVydmlld1NlcnZpY2UuanVtcFRvRmxhc2hjYXJkU291cmNlKGNhcmQuaWQsIHRoaXMuYXBwKTtcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIG9uRWRpdDogKGNhcmQpID0+IHtcbiAgICAgICAgbmV3IEVkaXRGbGFzaGNhcmRNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIGNhcmQpLm9wZW4oKTtcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIG9uVmlld1N0YXRzOiAoY2FyZCkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0c1RleHQgPSBDb250ZXh0TWVudUJ1aWxkZXIuZm9ybWF0Rmxhc2hjYXJkU3RhdHMoY2FyZCk7XG4gICAgICAgIG5ldyBOb3RpY2Uoc3RhdHNUZXh0LCAxMDAwMCk7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBvbkRlbGV0ZTogYXN5bmMgKGNhcmQpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmQuaWQsICd1c2VyLWRlbGV0ZWQnKTtcbiAgICAgICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5tb3ZlZFRvVHJhc2gnKSk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgbWVudSA9IENvbnRleHRNZW51QnVpbGRlci5idWlsZEZsYXNoY2FyZE1lbnUoY2FyZCwgY2FsbGJhY2tzLHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKTtcbiAgICBtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xuICB9XG4gIFxuXG4gIHByaXZhdGUgb3BlbkVkaXRGbGFzaGNhcmRNb2RhbChjYXJkOiBGbGFzaGNhcmQpOiB2b2lkIHtcbiAgICBcbiAgICBuZXcgRWRpdEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgY2FyZCkub3BlbigpO1xuICB9XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBhc3luYyBiYXRjaENyZWF0ZUZsYXNoY2FyZHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdW5pdHMgPSBBcnJheS5mcm9tKHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzKVxuICAgICAgLm1hcChpZCA9PiB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChpZCkpXG4gICAgICAuZmlsdGVyKHUgPT4gdSAhPT0gdW5kZWZpbmVkICYmIHUuZmxhc2hjYXJkSWRzLmxlbmd0aCA9PT0gMCkgYXMgQ29udGVudFVuaXRbXTtcbiAgICBcbiAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLmFscmVhZHlIYXNGbGFzaGNhcmRzJykpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NjYzRVx1NzkzQVx1NjI3OVx1OTFDRlx1NTIxQlx1NUVGQVx1NkEyMVx1NjAwMVx1Njg0NlxuICAgY29uc3QgcXVpY2tDcmVhdG9yID0gbmV3IFF1aWNrRmxhc2hjYXJkQ3JlYXRvcih0aGlzLnBsdWdpbik7XG4gICAgY29uc3QgbW9kYWwgPSBuZXcgQmF0Y2hDcmVhdGVNb2RhbChcbiAgICAgIHRoaXMuYXBwLFxuICAgICAgdGhpcy5wbHVnaW4sXG4gICAgICBxdWlja0NyZWF0b3IsXG4gICAgICB1bml0cyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5zdGF0ZS5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICApO1xuICAgIG1vZGFsLm9wZW4oKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYmF0Y2hEZWxldGVOb3RlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBcdTgzQjdcdTUzRDZcdTUyMjBcdTk2NjRcdTdFREZcdThCQTFcbiAgICBjb25zdCBzdGF0cyA9IHRoaXMuc3RhdGUuZ2V0RGVsZXRlU3RhdHModGhpcy5wbHVnaW4pO1xuICAgIFxuICAgIC8vIFx1Njc4NFx1NUVGQVx1Nzg2RVx1OEJBNFx1NkQ4OFx1NjA2RlxuICAgIGxldCBjb25maXJtTXNnID0gdGhpcy50KCdjb25maXJtLmRlbGV0ZUl0ZW1zJyk7XG4gICAgY29uc3QgZGV0YWlsczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICBpZiAoc3RhdHMubm90ZXMgPiAwKSB7XG4gICAgICBkZXRhaWxzLnB1c2godGhpcy50KCdjb25maXJtLm5vdGVzQ291bnQnLCB7IGNvdW50OiBzdGF0cy5ub3RlcyB9KSk7XG4gICAgfVxuICAgIGlmIChzdGF0cy5jYXJkcyA+IDApIHtcbiAgICAgIGRldGFpbHMucHVzaCh0aGlzLnQoJ2NvbmZpcm0uY2FyZHNDb3VudCcsIHsgY291bnQ6IHN0YXRzLmNhcmRzIH0pKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGRldGFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uZmlybU1zZyArPSAnXFxuXFxuJyArIGRldGFpbHMuam9pbignXFxuJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICghY29uZmlybShjb25maXJtTXNnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IHN1Y2Nlc3MsIGZhaWxlZCB9ID0gYXdhaXQgdGhpcy5vdmVydmlld1NlcnZpY2UuYmF0Y2hEZWxldGVOb3RlcyhcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzXG4gICAgKTtcbiAgICBcbiAgICB0aGlzLnN0YXRlLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5iYXRjaERlbGV0ZWQnLCB7IHN1Y2Nlc3MsIGZhaWxlZDogZmFpbGVkID4gMCA/IGZhaWxlZCA6IDAgfSkpO1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBiYXRjaERlbGV0ZUZsYXNoY2FyZHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLnN0YXRlLmdldERlbGV0ZVN0YXRzKHRoaXMucGx1Z2luKTtcbiAgICBcbiAgICBjb25zdCBjb25maXJtTXNnID0gdGhpcy50KCdjb25maXJtLmRlbGV0ZUZsYXNoY2FyZHMnLCB7IGNvdW50OiBzdGF0cy5jYXJkcyB9KTtcbiAgICBcbiAgICBpZiAoIWNvbmZpcm0oY29uZmlybU1zZykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgbGV0IHN1Y2Nlc3MgPSAwO1xuICAgIGxldCBmYWlsZWQgPSAwO1xuICAgIFxuICAgIGZvciAoY29uc3QgY2FyZElkIG9mIHRoaXMuc3RhdGUuc2VsZWN0ZWRDYXJkSWRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZElkKTtcbiAgICAgICAgc3VjY2VzcysrO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLmJhdGNoRGVsZXRlZCcsIHsgc3VjY2VzcywgZmFpbGVkOiBmYWlsZWQgPiAwID8gZmFpbGVkIDogMCB9KSk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTVERTVcdTUxNzdcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIHJlZnJlc2hSaWdodFBhbmVsKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgcmlnaHRQYW5lbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucmlnaHQtcGFuZWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAocmlnaHRQYW5lbCkge1xuICAgICAgcmlnaHRQYW5lbC5lbXB0eSgpO1xuICAgICAgdGhpcy5yZW5kZXJSaWdodFBhbmVsKHJpZ2h0UGFuZWwpO1xuICAgIH1cbiAgfVxuXG5wcml2YXRlIGdldEZpbHRlcmVkQ2FyZHNGb3JDdXJyZW50RmlsZSgpOiBGbGFzaGNhcmRbXSB7XG4gIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlICE9PSAnc2lkZWJhcicgfHwgIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIFxuICBjb25zdCBmbGFzaGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gIHJldHVybiBmbGFzaGNhcmRzLmZpbHRlcihjYXJkID0+IGNhcmQuc291cmNlRmlsZSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpO1xufVxucHJpdmF0ZSBjaGVja0ZpbHRlckhhc05vdGVzKG1vZGU6IEZpbHRlck1vZGUpOiBib29sZWFuIHtcbiAgLy8gXHU1M0VBXHU1NzI4XHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHU0RTBCXHU2OEMwXHU2N0U1XHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XG4gIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlICE9PSAnc2lkZWJhcicgfHwgIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIGNvbnN0IHVuaXRzID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0QWxsQ29udGVudFVuaXRzKClcbiAgICAuZmlsdGVyKHUgPT4gdS5zb3VyY2UuZmlsZSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpO1xuICBcbiAgaWYgKG1vZGUgPT09ICdhbGwnKSB7XG4gICAgcmV0dXJuIHVuaXRzLmxlbmd0aCA+IDA7XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2Fubm90YXRlZCcpIHtcbiAgICByZXR1cm4gdW5pdHMuc29tZSh1ID0+IHUuYW5ub3RhdGlvbklkKTtcbiAgfSBlbHNlIGlmIChtb2RlID09PSAnZmxhc2hjYXJkcycpIHtcbiAgICByZXR1cm4gdW5pdHMuc29tZSh1ID0+IHUuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApO1xuICB9XG4gIFxuICByZXR1cm4gdHJ1ZTtcbn1cblxucHJpdmF0ZSBjaGVja0dyb3VwSGFzTm90ZXMobW9kZTogR3JvdXBNb2RlKTogYm9vbGVhbiB7XG4gIC8vIFx1NTNFQVx1NTcyOFx1NEZBN1x1OEZCOVx1NjgwRlx1NkEyMVx1NUYwRlx1NEUwQlx1NjhDMFx1NjdFNVxuICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSAhPT0gJ3NpZGViYXInIHx8ICF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICBjb25zdCB1bml0cyA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpXG4gICAgLmZpbHRlcih1ID0+IHUuc291cmNlLmZpbGUgPT09IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKTtcbiAgXG4gIGlmICh1bml0cy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgXG4gIGlmIChtb2RlID09PSAnZmlsZScpIHtcbiAgICByZXR1cm4gdHJ1ZTsgLy8gXHU2NTg3XHU0RUY2XHU1MjA2XHU3RUM0XHU1OUNCXHU3RUM4XHU1M0VGXHU3NTI4XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gJ3RhZycpIHtcbiAgICByZXR1cm4gdW5pdHMuc29tZSh1ID0+IHUubWV0YWRhdGEudGFncy5sZW5ndGggPiAwKTtcbiAgfSBlbHNlIGlmIChtb2RlID09PSAnZGF0ZScpIHtcbiAgICByZXR1cm4gdHJ1ZTsgLy8gXHU2NUU1XHU2NzFGXHU1MjA2XHU3RUM0XHU1OUNCXHU3RUM4XHU1M0VGXHU3NTI4XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2Fubm90YXRpb24nKSB7XG4gICAgcmV0dXJuIHVuaXRzLnNvbWUodSA9PiB1LmFubm90YXRpb25JZCk7XG4gIH1cbiAgXG4gIHJldHVybiB0cnVlO1xufVxuICBwcml2YXRlIGdldEdyb3VwSWNvbigpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5ncm91cE1vZGUpIHtcbiAgICAgIGNhc2UgJ2ZpbGUnOiByZXR1cm4gJ1x1RDgzRFx1RENDNCc7XG4gICAgICBjYXNlICdhbm5vdGF0aW9uJzogcmV0dXJuICdcdUQ4M0RcdURDQUMnO1xuICAgICAgY2FzZSAndGFnJzogcmV0dXJuICdcdUQ4M0NcdURGRjdcdUZFMEYnO1xuICAgICAgY2FzZSAnZGF0ZSc6IHJldHVybiAnXHVEODNEXHVEQ0M1JztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnXHVEODNEXHVEQ0MxJztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSB8IG51bGwpOiBzdHJpbmcge1xuICAgIGlmICghZGF0ZSkgcmV0dXJuICcnO1xuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnemgtQ04nLCB7XG4gICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICBtb250aDogJzItZGlnaXQnLFxuICAgICAgZGF5OiAnMi1kaWdpdCdcbiAgICB9KTtcbiAgXG4gIH1cblxuLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3QjQ5XHU3RUE3XHU1RkJEXHU3QUUwXHU2NjNFXHU3OTNBID09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU2NjNFXHU3OTNBXHU1QjhDXHU2NTc0XHU3Njg0XHU3QjQ5XHU3RUE3XHU1RkJEXHU3QUUwXG4gKiBMdjEtNDogXHU1OUNCXHU3RUM4XHU2NjNFXHU3OTNBXG4gKiBMdjU6IFx1OEZCRVx1NjIxMFx1NTQwRTMwXHU1MjA2XHU5NDlGXHU1MTg1XHU2NjNFXHU3OTNBXHVGRjBDXHU0RTRCXHU1NDBFXHU5NjkwXHU4NUNGXG4gKi9cbnByaXZhdGUgc2hvdWxkU2hvd0Z1bGxMZXZlbEJhZGdlKHByb2dyZXNzOiBVbmxvY2tQcm9ncmVzcyk6IGJvb2xlYW4ge1xuICBpZiAocHJvZ3Jlc3MuY3VycmVudExldmVsIDwgNSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICAvLyBMdjU6IFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NTcyODMwXHU1MjA2XHU5NDlGXHU1MTg1XG4gIGNvbnN0IGx2NVVubG9ja2VkVGltZSA9IHByb2dyZXNzLmxldmVsVW5sb2NrZWRBdFs1XTtcbiAgaWYgKCFsdjVVbmxvY2tlZFRpbWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IHRoaXJ0eU1pbnV0ZXMgPSAzMCAqIDYwICogMTAwMDtcbiAgcmV0dXJuIChub3cgLSBsdjVVbmxvY2tlZFRpbWUpIDwgdGhpcnR5TWludXRlcztcbn1cblxuLyoqXG4gKiBcdTZFMzJcdTY3RDNcdTVDMEZcdTU3OEJcdTdCNDlcdTdFQTdcdTVGQkRcdTdBRTBcdUZGMDhMdjVcdTRFMTNcdTc1MjhcdUZGMDlcbiAqL1xucHJpdmF0ZSByZW5kZXJMZXZlbEJhZGdlKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb2dyZXNzOiBVbmxvY2tQcm9ncmVzcyk6IHZvaWQge1xuICBjb25zdCBsZXZlbEJhZGdlID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2xldmVsLWJhZGdlLWljb24nIH0pO1xuICBcblxuICBjb25zdCBsZXZlbE5hbWUgPSB0aGlzLnQoYGxldmVsLiR7cHJvZ3Jlc3MuY3VycmVudExldmVsfWApO1xuICBsZXZlbEJhZGdlLnRleHRDb250ZW50ID0gYEx2JHtwcm9ncmVzcy5jdXJyZW50TGV2ZWx9YDtcbiAgbGV2ZWxCYWRnZS50aXRsZSA9IGAke3RoaXMudCgnbGV2ZWwuY3VycmVudCcpfTogJHtsZXZlbE5hbWV9IC0gJHt0aGlzLnQoJ2xldmVsLmNsaWNrRGV0YWlscycpfWA7XG4gIFxuICAvLyBcdTcwQjlcdTUxRkJcdTY2M0VcdTc5M0FcdTdCNDlcdTdFQTdcdThCRTZcdTYwQzVcbiAgbGV2ZWxCYWRnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG5ldyBMZXZlbEluZm9Nb2RhbCh0aGlzLmFwcCwgcHJvZ3Jlc3MsIHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbSkub3BlbigpO1xuICB9KTtcbn1cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1OTBEXHU0RTYwXHU2OEMwXHU2N0U1ID09PT09PT09PT09PT09PT09PT09XG4vLyBcdTZCQ0ZcdTY1RTVcdTYzRDBcdTkxOTJcdTU5MERcdTRFNjBcbi8vIFx1NjI0Qlx1NTJBOFx1ODlFNlx1NTNEMVx1NTkwRFx1NEU2MFx1NjNEMFx1OTE5Mlx1NjhDMFx1NjdFNVxucHVibGljIGNoZWNrUmV2aWV3UmVtaW5kZXIoKTogdm9pZCB7XG4gIGNvbnN0IGlzRGlzbWlzc2VkID0gdGhpcy5pc1JlbWluZGVyRGlzbWlzc2VkVG9kYXkoKTtcbiAgXG4gIGlmIChpc0Rpc21pc3NlZCkge1xuICAgIC8vIFx1NjYzRVx1NzkzQVx1NjNEMFx1OTE5MlxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsZWFybmluZy1zeXN0ZW0tcmVtaW5kZXItZGlzbWlzc2VkJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gXHU5NjkwXHU4NUNGXHU2M0QwXHU5MTkyXG4gICAgdGhpcy5tYXJrUmVtaW5kZXJEaXNtaXNzZWQoKTtcbiAgfVxuICBcbiAgdGhpcy5yZWZyZXNoKCk7XG59XG5cblxuXG5cblxuXG5cbnByaXZhdGUgc3RhcnRSZXZpZXcoKSB7XG4gIC8vIFx1NkZDMFx1NkQzQlx1NTkwRFx1NEU2MFx1ODlDNlx1NTZGRVxuICB0aGlzLnBsdWdpbi5hY3RpdmF0ZVJldmlldygpO1xufVxuXG5wcml2YXRlIG1hcmtSZW1pbmRlckRpc21pc3NlZCgpIHtcbiAgLy8gXHU0RkREXHU1QjU4XHU0RUNBXHU1OTI5XHU1REYyXHU1RkZEXHU3NTY1XHU3Njg0XHU3MkI2XHU2MDAxKFx1NTNFRlx1OTAwOVx1NTI5Rlx1ODBGRClcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGVhcm5pbmctc3lzdGVtLXJlbWluZGVyLWRpc21pc3NlZCcsIHRvZGF5KTtcbn1cblxucHJpdmF0ZSBpc1JlbWluZGVyRGlzbWlzc2VkVG9kYXkoKTogYm9vbGVhbiB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKTtcbiAgY29uc3QgZGlzbWlzc2VkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xlYXJuaW5nLXN5c3RlbS1yZW1pbmRlci1kaXNtaXNzZWQnKTtcbiAgcmV0dXJuIGRpc21pc3NlZCA9PT0gdG9kYXk7XG59XG5wcml2YXRlIGluc2VydFJldmlld1JlbWluZGVyQXRUb3AoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICBpZiAodGhpcy5pc1JlbWluZGVyRGlzbWlzc2VkVG9kYXkoKSkgcmV0dXJuO1xuICBcbiAgLy8gXHUyQjUwIFx1NzZGNFx1NjNBNVx1NEVDRSBGbGFzaGNhcmRNYW5hZ2VyIFx1ODNCN1x1NTNENlx1NUI5RVx1OTY0NVx1NjU3MFx1OTFDRlxuICBjb25zdCBkdWVDb3VudCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0RHVlQ2FyZHMoKS5sZW5ndGg7XG4gIFxuICBpZiAoZHVlQ291bnQgPT09IDApIHJldHVybjtcbiAgXG4gIGNvbnN0IGJhbm5lciA9IHRoaXMuY3JlYXRlUmV2aWV3QmFubmVyKGR1ZUNvdW50KTtcbiAgY29udGFpbmVyLmluc2VydEJlZm9yZShiYW5uZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAvLyBcdTU3MjggYmFubmVyIFx1NTQwRVx1OTc2Mlx1NkRGQlx1NTJBMFx1N0IyQ1x1NEU4Q1x1Njc2MVx1NTIwNlx1OTY5NFx1N0VCRlxuICAgIGNvbnN0IGRpdmlkZXIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2aWRlcjIuY2xhc3NOYW1lID0gJ3Jldmlldy1kaXZpZGVyJztcbiAgICBkaXZpZGVyMi5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBkaXZpZGVyMi5zdHlsZS5oZWlnaHQgPSAnMXB4JztcbiAgICBkaXZpZGVyMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJztcbiAgICBkaXZpZGVyMi5zdHlsZS5tYXJnaW4gPSAnMTJweCAwJztcbiAgICBcbiAgICBpZiAoYmFubmVyLm5leHRTaWJsaW5nKSB7XG4gICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGRpdmlkZXIyLCBiYW5uZXIubmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2aWRlcjIpO1xuICAgIH1cbn1cblxuXG5cbnByaXZhdGUgY3JlYXRlUmV2aWV3QmFubmVyKGNvdW50OiBudW1iZXIpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBiYW5uZXIuY2xhc3NOYW1lID0gJ2NvbnRlbnQtbGlzdC1yZXZpZXctcmVtaW5kZXInO1xuICBcbiAgLy8gXHUyQjUwIFx1ODNCN1x1NTNENlx1NUY1M1x1NTI0RFx1NUY4NVx1NTkwRFx1NEU2MFx1NzY4NFx1NTM2MVx1NzI0N1xuICBjb25zdCBkdWVDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0RHVlQ2FyZHMoKTtcbiAgY29uc3QgYWN0dWFsRHVlQ291bnQgPSBkdWVDYXJkcy5sZW5ndGg7XG4gIFxuICAvLyBcdTJCNTAgXHU2QjYzXHU3ODZFXHU3Njg0XHU5MDNCXHU4RjkxXHVGRjFBXHU4QkExXHU3Qjk3XHU0RUNBXHU1OTI5XHU3Njg0XHU1OTBEXHU0RTYwXHU0RUZCXHU1MkExXHU2MDNCXHU2NTcwXG4gIC8vIFx1NEVDQVx1NTkyOVx1NTkwRFx1NEU2MFx1OEZDN1x1NzY4NFx1NTM2MVx1NzI0NyA9IFx1NEVDQVx1NTkyOVx1NTkwRFx1NEU2MFx1OEZDN1x1NEUxNFx1NEVDQVx1NTkyOVx1NTIzMFx1NjcxRlx1NzY4NFx1NTM2MVx1NzI0N1xuICBjb25zdCBhbGxDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIFxuICAvLyBcdTgzQjdcdTUzRDZcdTRFQ0FcdTU5MjlcdTUyMzBcdTY3MUZcdTc2ODRcdTYyNDBcdTY3MDlcdTUzNjFcdTcyNDdJRFx1RkYwOFx1NTMwNVx1NjJFQ1x1NURGMlx1NTkwRFx1NEU2MFx1NTQ4Q1x1NjcyQVx1NTkwRFx1NEU2MFx1RkYwOVxuICBjb25zdCB0b2RheUR1ZUNhcmRJZHMgPSBuZXcgU2V0KFxuICAgIGFsbENhcmRzXG4gICAgICAuZmlsdGVyKGNhcmQgPT4ge1xuICAgICAgICBjb25zdCBkdWVEYXRlID0gbmV3IERhdGUoY2FyZC5zY2hlZHVsaW5nLmR1ZSkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICAgIHJldHVybiBkdWVEYXRlIDw9IHRvZGF5O1xuICAgICAgfSlcbiAgICAgIC5tYXAoY2FyZCA9PiBjYXJkLmlkKVxuICApO1xuICBcbiAgLy8gXHU3RURGXHU4QkExXHU0RUNBXHU1OTI5XHU1REYyXHU1OTBEXHU0RTYwXHU3Njg0XHU1MzYxXHU3MjQ3XHVGRjA4XHU0RTE0XHU1QzVFXHU0RThFXHU0RUNBXHU1OTI5XHU3Njg0XHU0RUZCXHU1MkExXHVGRjA5XG4gIGNvbnN0IHJldmlld2VkVG9kYXkgPSBhbGxDYXJkcy5maWx0ZXIoY2FyZCA9PiB7XG4gICAgaWYgKCFjYXJkLnN0YXRzLmxhc3RSZXZpZXcpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBsYXN0UmV2aWV3RGF0ZSA9IG5ldyBEYXRlKGNhcmQuc3RhdHMubGFzdFJldmlldykuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgcmV0dXJuIGxhc3RSZXZpZXdEYXRlID09PSB0b2RheSAmJiB0b2RheUR1ZUNhcmRJZHMuaGFzKGNhcmQuaWQpO1xuICB9KS5sZW5ndGg7XG4gIFxuICAvLyBcdTJCNTAgXHU0RUNBXHU1OTI5XHU3Njg0XHU2MDNCXHU0RUZCXHU1MkExXHU2NTcwID0gXHU1REYyXHU1QjhDXHU2MjEwICsgXHU1Rjg1XHU1QjhDXHU2MjEwXG4gIGNvbnN0IHRvdGFsVG9kYXkgPSByZXZpZXdlZFRvZGF5ICsgYWN0dWFsRHVlQ291bnQ7XG4gIGNvbnN0IHByb2dyZXNzUGVyY2VudCA9IHRvdGFsVG9kYXkgPiAwID8gTWF0aC5yb3VuZCgocmV2aWV3ZWRUb2RheSAvIHRvdGFsVG9kYXkpICogMTAwKSA6IDA7XG4gIFxuICAvLyBcdThCQTFcdTdCOTdcdTY3MDBcdTdEMjdcdTYwMjVcdTc2ODRcdTUzNjFcdTcyNDdcdTVFRjZcdTU0MEVcdTY1RjZcdTk1RjRcbiAgY29uc3QgbW9zdFVyZ2VudCA9IGR1ZUNhcmRzLmxlbmd0aCA+IDAgXG4gICAgPyBkdWVDYXJkcy5yZWR1Y2UoKGVhcmxpZXN0LCBjYXJkKSA9PiBcbiAgICAgICAgY2FyZC5zY2hlZHVsaW5nLmR1ZSA8IGVhcmxpZXN0ID8gY2FyZC5zY2hlZHVsaW5nLmR1ZSA6IGVhcmxpZXN0XG4gICAgICAsIERhdGUubm93KCkpXG4gICAgOiBEYXRlLm5vdygpO1xuICBjb25zdCBob3Vyc1NpbmNlRHVlID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIG1vc3RVcmdlbnQpIC8gKDEwMDAgKiA2MCAqIDYwKSk7XG4gIFxuICAvLyBcdTgzQjdcdTUzRDZcdTVFRjZcdTU0MEVcdTYzRDBcdTc5M0FcdTY1ODdcdTY3MkNcbiAgY29uc3QgZGVsYXlUZXh0ID0gdGhpcy5nZXREZWxheVRleHQoaG91cnNTaW5jZUR1ZSk7XG4gIFxuICAvLyBcdTgzQjdcdTUzRDZcdThGREVcdTdFRURcdTU5MERcdTRFNjBcdTU5MjlcdTY1NzBcbiAgY29uc3Qgc3RyZWFrRGF5cyA9IHRoaXMuZ2V0UmV2aWV3U3RyZWFrKCk7XG4gIFxuICBiYW5uZXIuaW5uZXJIVE1MID0gYFxuICA8ZGl2IGNsYXNzPVwicmVtaW5kZXItaGVhZGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cInJlbWluZGVyLXRleHRcIj5cbiA8c3Ryb25nPiR7dGhpcy50KCdyZXZpZXcudG9kYXlQcm9ncmVzcycsIHsgcmV2aWV3ZWQ6IHJldmlld2VkVG9kYXksIHRvdGFsOiB0b3RhbFRvZGF5IH0pfTwvc3Ryb25nPiAgXG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICBcbiAgPGRpdiBjbGFzcz1cInJlbWluZGVyLXN0YXRzXCI+XG4gICAgPGRpdiBjbGFzcz1cInN0YXQtaXRlbSBkZWxheS13YXJuaW5nXCI+XG4gICAgICAke2RlbGF5VGV4dH1cbiAgICA8L2Rpdj5cbiAgICAke3N0cmVha0RheXMgPiAwID8gYFxuICAgICAgPGRpdiBjbGFzcz1cInN0YXQtaXRlbSBzdHJlYWstaW5mb1wiPlxuICAgICAgICAgJHt0aGlzLnQoJ3Jldmlldy5zdHJlYWsnLCB7IGRheXM6IHN0cmVha0RheXMgfSl9XG4gICAgICA8L2Rpdj5cbiAgICBgIDogJyd9XG4gIDwvZGl2PlxuICBcbiAgPGRpdiBjbGFzcz1cInJlbWluZGVyLWFjdGlvbnNcIj5cbiAgICA8YnV0dG9uIGNsYXNzPVwicmVtaW5kZXItYnRuIHByaW1hcnlcIj4ke3RoaXMudCgncmV2aWV3LnN0YXJ0Jyl9PC9idXR0b24+XG4gIDwvZGl2PlxuYDtcblxuLy8gXHU4QkJFXHU3RjZFXHU1QjU3XHU0RjUzXHU1OTI3XHU1QzBGXG5iYW5uZXIuc3R5bGUuZm9udFNpemUgPSAnMC44NWVtJztcbi8vIFx1OEJCRVx1N0Y2RVx1NjMwOVx1OTRBRVx1NUM0NVx1NEUyRFxuY29uc3QgYWN0aW9ucyA9IGJhbm5lci5xdWVyeVNlbGVjdG9yKCcucmVtaW5kZXItYWN0aW9ucycpIGFzIEhUTUxFbGVtZW50O1xuaWYgKGFjdGlvbnMpIHtcbiAgYWN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICBhY3Rpb25zLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG59XG4gIFxuICBiYW5uZXIucXVlcnlTZWxlY3RvcignLnByaW1hcnknKSEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnN0YXJ0UmV2aWV3KCk7XG4gICAgYmFubmVyLnJlbW92ZSgpO1xuICAgIHRoaXMubWFya1JlbWluZGVyRGlzbWlzc2VkKCk7XG4gIH0pO1xuICBcbiAgcmV0dXJuIGJhbm5lcjtcbn1cblxuLy8gXHU2NUIwXHU1ODlFXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1IDE6IFx1ODNCN1x1NTNENlx1NUVGNlx1NTQwRVx1NjNEMFx1NzkzQVx1NjU4N1x1NjcyQ1xucHJpdmF0ZSBnZXREZWxheVRleHQoaG91cnNTaW5jZUR1ZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKGhvdXJzU2luY2VEdWUgPCAxKSB7XG4gICAgcmV0dXJuIHRoaXMudCgncmV2aWV3Lmp1c3REdWUnKTtcbiAgfSBlbHNlIGlmIChob3Vyc1NpbmNlRHVlIDwgNikge1xuICAgIHJldHVybiB0aGlzLnQoJ3Jldmlldy5kZWxheWVkSG91cnNTaG9ydCcsIHsgaG91cnM6IGhvdXJzU2luY2VEdWUgfSk7XG4gIH0gZWxzZSBpZiAoaG91cnNTaW5jZUR1ZSA8IDI0KSB7XG4gICAgcmV0dXJuIHRoaXMudCgncmV2aWV3LnVyZ2VudEhvdXJzJywgeyBob3VyczogaG91cnNTaW5jZUR1ZSB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihob3Vyc1NpbmNlRHVlIC8gMjQpO1xuICAgIHJldHVybiB0aGlzLnQoJ3Jldmlldy51cmdlbnREYXlzJywgeyBkYXlzIH0pO1xuICB9XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENSAyOiBcdTgzQjdcdTUzRDZcdThGREVcdTdFRURcdTU5MERcdTRFNjBcdTU5MjlcdTY1NzBcbnByaXZhdGUgZ2V0UmV2aWV3U3RyZWFrKCk6IG51bWJlciB7XG4gIGNvbnN0IGFsbENhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gIFxuICAvLyBcdTYzMDlcdTY1RTVcdTY3MUZcdTUyMDZcdTdFQzRcdTdFREZcdThCQTFcdTU5MERcdTRFNjBcdThCQjBcdTVGNTVcbiAgY29uc3QgcmV2aWV3RGF0ZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgYWxsQ2FyZHMuZm9yRWFjaChjYXJkID0+IHtcbiAgICBpZiAoY2FyZC5zdGF0cy5sYXN0UmV2aWV3KSB7XG4gICAgICBjb25zdCBkYXRlU3RyID0gbmV3IERhdGUoY2FyZC5zdGF0cy5sYXN0UmV2aWV3KVxuICAgICAgICAudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicpO1xuICAgICAgcmV2aWV3RGF0ZXMuYWRkKGRhdGVTdHIpO1xuICAgIH1cbiAgfSk7XG4gIFxuICAvLyBcdThCQTFcdTdCOTdcdThGREVcdTdFRURcdTU5MjlcdTY1NzBcbiAgbGV0IHN0cmVhayA9IDA7XG4gIGxldCBjaGVja0RhdGUgPSBuZXcgRGF0ZSgpO1xuICBcbiAgd2hpbGUgKHN0cmVhayA8IDM2NSkgeyAvLyBcdTY3MDBcdTU5MUFcdTY4QzBcdTY3RTVcdTRFMDBcdTVFNzRcbiAgICBjb25zdCBkYXRlU3RyID0gY2hlY2tEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnemgtQ04nKTtcbiAgICBpZiAocmV2aWV3RGF0ZXMuaGFzKGRhdGVTdHIpKSB7XG4gICAgICBzdHJlYWsrKztcbiAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gc3RyZWFrO1xufVxucHJpdmF0ZSB0KGtleTogc3RyaW5nLCBwYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogc3RyaW5nIHtcbiAgcmV0dXJuIHQoa2V5LCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSwgcGFyYW1zKTtcbn1cbn0iLCAiLy8gc3JjL3VpL3N0YXRlL1ZpZXdTdGF0ZS50c1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEZsYXNoY2FyZCAsRmxhc2hjYXJkTWFuYWdlcn0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcblxuZXhwb3J0IHR5cGUgRmlsdGVyTW9kZSA9ICdhbGwnIHwgJ2Fubm90YXRlZCcgfCAnZmxhc2hjYXJkcyc7XG5leHBvcnQgdHlwZSBEaXNwbGF5TW9kZSA9ICdzaWRlYmFyJyB8ICdtYWluJztcbmV4cG9ydCB0eXBlIEdyb3VwTW9kZSA9ICdmaWxlJyB8ICdhbm5vdGF0aW9uJyB8ICd0YWcnIHwgJ2RhdGUnO1xuZXhwb3J0IHR5cGUgVmlld1R5cGUgPSAnbm90ZXMnIHwgJ2NhcmRzJztcblxuZXhwb3J0IGNsYXNzIFZpZXdTdGF0ZSB7XG4gIC8vIFx1NjYzRVx1NzkzQVx1NzJCNlx1NjAwMVxuICBmb3JjZU1haW5Nb2RlOiBib29sZWFuID0gZmFsc2U7XG4gIGRpc3BsYXlNb2RlOiBEaXNwbGF5TW9kZSA9ICdzaWRlYmFyJztcbiAgdmlld1R5cGU6IFZpZXdUeXBlID0gJ25vdGVzJztcbiAgXG4gIC8vIFx1OEZDN1x1NkVFNFx1NTQ4Q1x1NTIwNlx1N0VDNFxuICBzZWFyY2hRdWVyeTogc3RyaW5nID0gJyc7XG4gIGZpbHRlck1vZGU6IEZpbHRlck1vZGUgPSAnYWxsJztcbiAgZ3JvdXBNb2RlOiBHcm91cE1vZGUgPSAnZmlsZSc7XG4gIHNlbGVjdGVkRmlsZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIFxuICAvLyBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUNcbiAgYmF0Y2hNb2RlOiBib29sZWFuID0gZmFsc2U7XG4gIHNlbGVjdGVkVW5pdElkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIHNlbGVjdGVkQ2FyZElkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIFxuICAvLyBVSVx1NzJCNlx1NjAwMVxuICBhY3RpdmVNZW51SWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBzYXZlZFNjcm9sbFBvc2l0aW9uOiBudW1iZXIgPSAwO1xuICBzaG91bGRSZXN0b3JlU2Nyb2xsOiBib29sZWFuID0gZmFsc2U7XG4gIFxuICAvLyBcdTYwMjdcdTgwRkRcdTRGMThcdTUzMTZcbiAgc2VhcmNoRGVib3VuY2VUaW1lcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGlzUmVuZGVyaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTdGMTNcdTVCNThcbiAgICBkdWVGbGFzaGNhcmRzQ291bnQ6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoZm9yY2VNYWluTW9kZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdGhpcy5mb3JjZU1haW5Nb2RlID0gZm9yY2VNYWluTW9kZTtcbiAgICB0aGlzLmRpc3BsYXlNb2RlID0gZm9yY2VNYWluTW9kZSA/ICdtYWluJyA6ICdzaWRlYmFyJztcbiAgICBcbiAgfVxuXG4gIC8vIFx1NzJCNlx1NjAwMVx1OTFDRFx1N0Y2RVx1NjVCOVx1NkNENVxuICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICB0aGlzLnNlbGVjdGVkVW5pdElkcy5jbGVhcigpO1xuICAgIHRoaXMuc2VsZWN0ZWRDYXJkSWRzLmNsZWFyKCk7XG4gICAgdGhpcy5iYXRjaE1vZGUgPSBmYWxzZTtcbiAgfVxuLy8gXHU1MjA3XHU2MzYyXHU2Mjc5XHU5MUNGXHU2QTIxXHU1RjBGXG4gIHRvZ2dsZUJhdGNoTW9kZSgpOiB2b2lkIHtcbiAgICB0aGlzLmJhdGNoTW9kZSA9ICF0aGlzLmJhdGNoTW9kZTtcbiAgICBpZiAoIXRoaXMuYmF0Y2hNb2RlKSB7XG4gICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfVxuICB9XG4gIC8vIFx1NjQxQ1x1N0QyMlx1NzZGOFx1NTE3M1xuICBzZXRTZWFyY2hRdWVyeShxdWVyeTogc3RyaW5nKSB7XG4gICAgdGhpcy5zZWFyY2hRdWVyeSA9IHF1ZXJ5O1xuICB9XG5cbiAgLy8gXHU4RkM3XHU2RUU0XHU1NjY4XHU1MjA3XHU2MzYyXG4gIHNldEZpbHRlck1vZGUobW9kZTogRmlsdGVyTW9kZSkge1xuICAgIGlmICh0aGlzLmZpbHRlck1vZGUgIT09IG1vZGUpIHtcbiAgICAgIHRoaXMuZmlsdGVyTW9kZSA9IG1vZGU7XG4gICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gXHU1MjA2XHU3RUM0XHU2QTIxXHU1RjBGXHU1MjA3XHU2MzYyXG4gIHNldEdyb3VwTW9kZShtb2RlOiBHcm91cE1vZGUpIHtcbiAgICBpZiAodGhpcy5ncm91cE1vZGUgIT09IG1vZGUpIHtcbiAgICAgIHRoaXMuZ3JvdXBNb2RlID0gbW9kZTtcbiAgICAgIGlmICh0aGlzLmRpc3BsYXlNb2RlICE9PSAnc2lkZWJhcicpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFx1ODlDNlx1NTZGRVx1N0M3Qlx1NTc4Qlx1NTIwN1x1NjM2MlxuICBzZXRWaWV3VHlwZSh0eXBlOiBWaWV3VHlwZSkge1xuICAgIGlmICh0aGlzLnZpZXdUeXBlICE9PSB0eXBlKSB7XG4gICAgICB0aGlzLnZpZXdUeXBlID0gdHlwZTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gbnVsbDtcbiAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBcdTYyNzlcdTkxQ0ZcdTkwMDlcdTYyRTlcbiAgdG9nZ2xlVW5pdFNlbGVjdGlvbih1bml0SWQ6IHN0cmluZykge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkVW5pdElkcy5oYXModW5pdElkKSkge1xuICAgICAgdGhpcy5zZWxlY3RlZFVuaXRJZHMuZGVsZXRlKHVuaXRJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRVbml0SWRzLmFkZCh1bml0SWQpO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUNhcmRTZWxlY3Rpb24oY2FyZElkOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZENhcmRJZHMuaGFzKGNhcmRJZCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRDYXJkSWRzLmRlbGV0ZShjYXJkSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkQ2FyZElkcy5hZGQoY2FyZElkKTtcbiAgICB9XG4gIH1cblxuICAvLyBcdTUxNjhcdTkwMDlcdTkwM0JcdThGOTFcbiAgc2VsZWN0QWxsVW5pdHModW5pdHM6IENvbnRlbnRVbml0W10pIHtcbiAgICB1bml0cy5mb3JFYWNoKHVuaXQgPT4gdGhpcy5zZWxlY3RlZFVuaXRJZHMuYWRkKHVuaXQuaWQpKTtcbiAgICB0aGlzLmJhdGNoTW9kZSA9IHRydWU7XG4gIH1cblxuICBzZWxlY3RBbGxDYXJkcyhjYXJkczogRmxhc2hjYXJkW10pIHtcbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4gdGhpcy5zZWxlY3RlZENhcmRJZHMuYWRkKGNhcmQuaWQpKTtcbiAgICB0aGlzLmJhdGNoTW9kZSA9IHRydWU7XG4gIH1cblxuICAvLyBcdTUzRDZcdTZEODhcdTUxNjhcdTkwMDlcbiAgZGVzZWxlY3RBbGxVbml0cyh1bml0czogQ29udGVudFVuaXRbXSkge1xuICAgIHVuaXRzLmZvckVhY2godW5pdCA9PiB0aGlzLnNlbGVjdGVkVW5pdElkcy5kZWxldGUodW5pdC5pZCkpO1xuICB9XG5cbiAgZGVzZWxlY3RBbGxDYXJkcyhjYXJkczogRmxhc2hjYXJkW10pIHtcbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4gdGhpcy5zZWxlY3RlZENhcmRJZHMuZGVsZXRlKGNhcmQuaWQpKTtcbiAgfVxuXG4gIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NTE2OFx1OTAwOVxuICBpc0FsbFNlbGVjdGVkKGl0ZW1zOiBDb250ZW50VW5pdFtdIHwgRmxhc2hjYXJkW10pOiBib29sZWFuIHtcbiAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgaWYgKHRoaXMudmlld1R5cGUgPT09ICdjYXJkcycpIHtcbiAgICAgIHJldHVybiAoaXRlbXMgYXMgRmxhc2hjYXJkW10pLmV2ZXJ5KGNhcmQgPT4gXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDYXJkSWRzLmhhcyhjYXJkLmlkKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChpdGVtcyBhcyBDb250ZW50VW5pdFtdKS5ldmVyeSh1bml0ID0+IFxuICAgICAgICB0aGlzLnNlbGVjdGVkVW5pdElkcy5oYXModW5pdC5pZClcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gXHU4M0I3XHU1M0Q2XHU5MDA5XHU0RTJEXHU2NTcwXHU5MUNGXG4gIGdldFNlbGVjdGVkQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52aWV3VHlwZSA9PT0gJ2NhcmRzJyBcbiAgICAgID8gdGhpcy5zZWxlY3RlZENhcmRJZHMuc2l6ZSBcbiAgICAgIDogdGhpcy5zZWxlY3RlZFVuaXRJZHMuc2l6ZTtcbiAgfVxuXG4gIC8vIFx1NTkwRFx1NEU2MFx1NjNEMFx1OTE5MlxuICB1cGRhdGVEdWVDb3VudChmbGFzaGNhcmRNYW5hZ2VyOiBGbGFzaGNhcmRNYW5hZ2VyKTogdm9pZCB7XG4gICAgdGhpcy5kdWVGbGFzaGNhcmRzQ291bnQgPSBmbGFzaGNhcmRNYW5hZ2VyLmdldER1ZUNhcmRzKCkubGVuZ3RoO1xuICB9XG5cbi8vIFx1ODNCN1x1NTNENlx1NUY4NVx1NTIyMFx1OTY2NFx1NzY4NFx1N0VERlx1OEJBMVx1NEZFMVx1NjA2RlxuZ2V0RGVsZXRlU3RhdHMocGx1Z2luOiBhbnkpOiB7IG5vdGVzOiBudW1iZXI7IGNhcmRzOiBudW1iZXIgfSB7XG4gIGxldCB0b3RhbENhcmRzID0gMDtcbiAgXG4gIGlmICh0aGlzLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgLy8gXHU1MjIwXHU5NjY0XHU5NUVBXHU1MzYxXHU2QTIxXHU1RjBGXHVGRjFBXHU1M0VBXHU3RURGXHU4QkExXHU5MDA5XHU0RTJEXHU3Njg0XHU5NUVBXHU1MzYxXG4gICAgdG90YWxDYXJkcyA9IHRoaXMuc2VsZWN0ZWRDYXJkSWRzLnNpemU7XG4gICAgcmV0dXJuIHsgbm90ZXM6IDAsIGNhcmRzOiB0b3RhbENhcmRzIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gXHU1MjIwXHU5NjY0XHU3QjE0XHU4QkIwXHU2QTIxXHU1RjBGXHVGRjFBXHU3RURGXHU4QkExXHU5MDA5XHU0RTJEXHU3QjE0XHU4QkIwXHU1M0NBXHU1MTc2XHU1MTczXHU4MDU0XHU3Njg0XHU5NUVBXHU1MzYxXG4gICAgY29uc3Qgbm90ZXMgPSB0aGlzLnNlbGVjdGVkVW5pdElkcy5zaXplO1xuICAgIFxuICAgIHRoaXMuc2VsZWN0ZWRVbml0SWRzLmZvckVhY2godW5pdElkID0+IHtcbiAgICAgIGNvbnN0IHVuaXQgPSBwbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQodW5pdElkKTtcbiAgICAgIGlmICh1bml0KSB7XG4gICAgICAgIHRvdGFsQ2FyZHMgKz0gdW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RoO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7IG5vdGVzLCBjYXJkczogdG90YWxDYXJkcyB9O1xuICB9XG59XG5cbi8vIFx1ODNCN1x1NTNENlx1NjU4N1x1NEVGNlx1NTIyMFx1OTY2NFx1NzY4NFx1N0VERlx1OEJBMVx1NEZFMVx1NjA2Rlxuc3RhdGljIGdldEZpbGVEZWxldGVTdGF0cyhmaWxlUGF0aDogc3RyaW5nLCBwbHVnaW46IGFueSk6IHsgbm90ZXM6IG51bWJlcjsgY2FyZHM6IG51bWJlciB9IHtcbiAgY29uc3QgdW5pdHMgPSBwbHVnaW4uZGF0YU1hbmFnZXIuZ2V0QWxsQ29udGVudFVuaXRzKClcbiAgICAuZmlsdGVyKCh1OiBhbnkpID0+IHUuc291cmNlLmZpbGUgPT09IGZpbGVQYXRoKTtcbiAgXG4gIGNvbnN0IG5vdGVzID0gdW5pdHMubGVuZ3RoO1xuICBsZXQgY2FyZHMgPSAwO1xuICBcbiAgdW5pdHMuZm9yRWFjaCgodW5pdDogYW55KSA9PiB7XG4gICAgY2FyZHMgKz0gdW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RoO1xuICB9KTtcbiAgXG4gIHJldHVybiB7IG5vdGVzLCBjYXJkcyB9O1xufVxuXG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL1Rvb2xiYXIudHMgIFx1NURFNVx1NTE3N1x1NjgwRlx1N0VDNFx1NEVGNlxuaW1wb3J0IHsgVmlld1N0YXRlLCBGaWx0ZXJNb2RlLCBHcm91cE1vZGUgfSBmcm9tICcuLi9zdGF0cy9WaWV3U3RhdGUnO1xuaW1wb3J0IHsgdCwgTGFuZ3VhZ2UgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBUb29sYmFyIHtcbiAgcHJpdmF0ZSBzdGF0ZTogVmlld1N0YXRlO1xuICBwcml2YXRlIG9uU2VhcmNoQ2hhbmdlOiAocXVlcnk6IHN0cmluZykgPT4gdm9pZDtcbiAgcHJpdmF0ZSBvbkZpbHRlckNoYW5nZTogKG1vZGU6IEZpbHRlck1vZGUpID0+IHZvaWQ7XG4gIHByaXZhdGUgb25Hcm91cENoYW5nZTogKG1vZGU6IEdyb3VwTW9kZSkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBvbkNoZWNrUmV2aWV3PzogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBsYW5ndWFnZTogTGFuZ3VhZ2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhdGU6IFZpZXdTdGF0ZSxcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIG9uU2VhcmNoQ2hhbmdlOiAocXVlcnk6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgIG9uRmlsdGVyQ2hhbmdlOiAobW9kZTogRmlsdGVyTW9kZSkgPT4gdm9pZDtcbiAgICAgIG9uR3JvdXBDaGFuZ2U6IChtb2RlOiBHcm91cE1vZGUpID0+IHZvaWQ7XG4gICAgICBvbkNoZWNrUmV2aWV3PzogKCkgPT4gdm9pZDsgXG4gICAgICBjaGVja0ZpbHRlckhhc05vdGVzPzogKG1vZGU6IEZpbHRlck1vZGUpID0+IGJvb2xlYW47XG4gICAgICBjaGVja0dyb3VwSGFzTm90ZXM/OiAobW9kZTogR3JvdXBNb2RlKSA9PiBib29sZWFuO1xuICAgIH0sXG4gICAgbGFuZ3VhZ2U6IExhbmd1YWdlID0gJ2VuJyBcbiAgKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMub25TZWFyY2hDaGFuZ2UgPSBjYWxsYmFja3Mub25TZWFyY2hDaGFuZ2U7XG4gICAgdGhpcy5vbkZpbHRlckNoYW5nZSA9IGNhbGxiYWNrcy5vbkZpbHRlckNoYW5nZTtcbiAgICB0aGlzLm9uR3JvdXBDaGFuZ2UgPSBjYWxsYmFja3Mub25Hcm91cENoYW5nZTtcbiAgICB0aGlzLm9uQ2hlY2tSZXZpZXcgPSBjYWxsYmFja3Mub25DaGVja1JldmlldzsgXG4gICAgdGhpcy5jaGVja0ZpbHRlckhhc05vdGVzID0gY2FsbGJhY2tzLmNoZWNrRmlsdGVySGFzTm90ZXM7XG4gICAgdGhpcy5jaGVja0dyb3VwSGFzTm90ZXMgPSBjYWxsYmFja3MuY2hlY2tHcm91cEhhc05vdGVzO1xuICBcbiAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gIH1cbiAgcHJpdmF0ZSBjaGVja0ZpbHRlckhhc05vdGVzPzogKG1vZGU6IEZpbHRlck1vZGUpID0+IGJvb2xlYW47XG4gIHByaXZhdGUgY2hlY2tHcm91cEhhc05vdGVzPzogKG1vZGU6IEdyb3VwTW9kZSkgPT4gYm9vbGVhbjtcblxuICBwcml2YXRlIHQoa2V5OiBzdHJpbmcsIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4pOiBzdHJpbmcge1xuICAgIHJldHVybiB0KGtleSwgdGhpcy5sYW5ndWFnZSwgcGFyYW1zKTtcbiAgfVxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU0RkE3XHU4RkI5XHU2ODBGXHU1REU1XHU1MTc3XHU2ODBGXG4gICAqL1xuICByZW5kZXJTaWRlYmFyVG9vbGJhcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IHRvb2xiYXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc2lkZWJhci10b29sYmFyJyB9KTtcbiAgICBcbiAgICB0aGlzLnJlbmRlclNlYXJjaEJveCh0b29sYmFyKTtcbiAgICB0aGlzLnJlbmRlckZpbHRlckNoaXBzKHRvb2xiYXIpO1xuICAgIHRoaXMucmVuZGVyR3JvdXBTd2l0Y2hlcih0b29sYmFyKTtcbiAgICB0aGlzLnJlbmRlclN0YXRzUm93KHRvb2xiYXIpO1xuICAgIFxuICAgIHJldHVybiB0b29sYmFyO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1NEUzQlx1NzU0Q1x1OTc2Mlx1NURFNVx1NTE3N1x1NjgwRlxuICAgKi9cbiAgcmVuZGVyTWFpblRvb2xiYXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCB0b29sYmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ21haW4tdG9vbGJhcicgfSk7XG4gICAgXG4gICAgdGhpcy5yZW5kZXJTZWFyY2hCb3godG9vbGJhciwgdHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJHcm91cFN3aXRjaGVyKHRvb2xiYXIsIHRydWUpO1xuICAgIFxuICAgIHJldHVybiB0b29sYmFyO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTZWFyY2hCb3goY29udGFpbmVyOiBIVE1MRWxlbWVudCwgaXNNYWluID0gZmFsc2UpOiB2b2lkIHtcbiAgICBjb25zdCBzZWFyY2hDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc2VhcmNoLWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzZWFyY2hDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0Jywge1xuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgcGxhY2Vob2xkZXI6IHRoaXMudCgndG9vbGJhci5zZWFyY2gnKSwgXG4gICAgICBjbHM6IGlzTWFpbiA/ICdzZWFyY2gtaW5wdXQtbWFpbicgOiAnc2VhcmNoLWlucHV0J1xuICAgIH0pO1xuICAgIFxuICAgIHNlYXJjaElucHV0LnZhbHVlID0gdGhpcy5zdGF0ZS5zZWFyY2hRdWVyeTtcbiAgICBcbiAgICAvLyA9PT09PT09PT09IFx1NzEyNlx1NzBCOVx1N0JBMVx1NzQwNiA9PT09PT09PT09XG4gICAgXG4gICAgLy8gXHU2MzU1XHU4M0I3XHU5NjM2XHU2QkI1XHU2MkU2XHU2MjJBXG4gICAgc2VhcmNoQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sIHRydWUpO1xuICAgIFxuICAgIC8vIG1vdXNldXAgXHU2NUY2XHU1RjNBXHU1MjM2XHU4MDVBXHU3MTI2XG4gICAgc2VhcmNoQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlYXJjaElucHV0LmZvY3VzKCk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gY2xpY2sgXHU0RThCXHU0RUY2XHU0RTVGXHU2MkU2XHU2MjJBXG4gICAgc2VhcmNoQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU1MTc2XHU0RUQ2XHU0RThCXHU0RUY2XG4gICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgdGhpcy5vblNlYXJjaENoYW5nZSh2YWx1ZSk7XG4gICAgfSk7XG4gICAgXG4gICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlYXJjaElucHV0LnNlbGVjdCgpO1xuICAgIH0pO1xuICAgIFxuICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBzZWFyY2hJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLm9uU2VhcmNoQ2hhbmdlKCcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBwcml2YXRlIHJlbmRlckZpbHRlckNoaXBzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBmaWx0ZXJzID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2ZpbHRlci1jaGlwcycgfSk7XG4gICAgXG4gICAgY29uc3QgZmlsdGVyT3B0aW9uczogQXJyYXk8eyBtb2RlOiBGaWx0ZXJNb2RlOyBpY29uOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgO3Rvb2x0aXA6c3RyaW5nfT4gPSBbXG4gICAgICBcbiAgICAgIHsgbW9kZTogJ2FsbCcsIGljb246ICdcdUQ4M0RcdURDREQnLCBsYWJlbDogJ25vdGVzJyx0b29sdGlwOidhbGxOb3RlcycgfSxcbiAgICAgIHsgbW9kZTogJ2Fubm90YXRlZCcsIGljb246ICdcdUQ4M0RcdURDQUMnLCBsYWJlbDogJ2Fubm90YXRlZCcgLHRvb2x0aXA6J2Fubm90YXRlZCcgfSxcbiAgICAgIHsgbW9kZTogJ2ZsYXNoY2FyZHMnLCBpY29uOiAnXHVEODNDXHVEQ0NGJywgbGFiZWw6ICdmbGFzaGNhcmRzJyx0b29sdGlwOidmbGFzaGNhcmRzJyB9XG4gICAgXTtcblxuICAgIGZpbHRlck9wdGlvbnMuZm9yRWFjaCgoeyBtb2RlLCBpY29uLCBsYWJlbCAsdG9vbHRpcH0pID0+IHtcbiAgICBjb25zdCBoYXNOb3RlcyA9IHRoaXMuY2hlY2tGaWx0ZXJIYXNOb3RlcyA/IHRoaXMuY2hlY2tGaWx0ZXJIYXNOb3Rlcyhtb2RlKSA6IHRydWU7XG4gICAgY29uc3QgaXNBY3RpdmUgPSB0aGlzLnN0YXRlLmZpbHRlck1vZGUgPT09IG1vZGU7XG4gICAgXG4gICAgY29uc3QgY2hpcCA9IGZpbHRlcnMuY3JlYXRlRGl2KHtcbiAgICAgIGNsczogYGZpbHRlci1jaGlwICR7aXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfSAkeyFoYXNOb3RlcyA/ICdkaXNhYmxlZCcgOiAnJ31gLFxuICAgICAgdGV4dDogYCR7aWNvbn1gLFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1MkI1MCBcdThCQkVcdTdGNkVcdTYzRDBcdTc5M0FcdTY1ODdcdTY3MkNcbiAgICBpZiAoIWhhc05vdGVzKSB7XG4gICAgICBjaGlwLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnTm8gbm90ZXMgb2YgdGhpcyB0eXBlIGluIHRoZSBjdXJyZW50IGZpbGUnKTtcbiAgICAgIGNoaXAuc3R5bGUub3BhY2l0eSA9ICcwLjQnO1xuICAgICAgY2hpcC5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlwLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0b29sdGlwKTtcbiAgICB9XG4gICAgXG4gICAgY2hpcC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMub25GaWx0ZXJDaGFuZ2UobW9kZSk7XG4gICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckdyb3VwU3dpdGNoZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgaXNNYWluID0gZmFsc2UpOiB2b2lkIHtcbiAgICBjb25zdCBncm91cFN3aXRjaGVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IFxuICAgICAgY2xzOiBpc01haW4gPyAnZ3JvdXAtc3dpdGNoZXItbWFpbicgOiAnZ3JvdXAtc3dpdGNoZXInIFxuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IGdyb3VwT3B0aW9uczogQXJyYXk8eyBtb2RlOiBHcm91cE1vZGU7IGljb246IHN0cmluZzsgbGFiZWw/OiBzdHJpbmc7IHRvb2x0aXA6IHN0cmluZyB9PiA9IFxuICAgICAgaXNNYWluID8gW1xuICAgICAgICB7IG1vZGU6ICdmaWxlJywgaWNvbjogJ1x1RDgzRFx1RENDMScsIGxhYmVsOiAnZmlsZScsIHRvb2x0aXA6ICdieSBmaWxlJyB9LFxuICAgICAgICB7IG1vZGU6ICdhbm5vdGF0aW9uJywgaWNvbjogJ1x1RDgzRFx1RENBQycsIGxhYmVsOiAnYW5ub3RhdHRpb24nLCB0b29sdGlwOiAnYnkgYW5ub3RhdGlvbicgfSxcbiAgICAgICAgeyBtb2RlOiAndGFnJywgaWNvbjogJ1x1RDgzQ1x1REZGN1x1RkUwRicsIGxhYmVsOiAndGFnJywgdG9vbHRpcDogJ2J5IHRhZycgfSxcbiAgICAgICAgeyBtb2RlOiAnZGF0ZScsIGljb246ICdcdUQ4M0RcdURDQzUnLCBsYWJlbDogJ2RhdGUnLCB0b29sdGlwOiAnYnkgZGF0ZScgfVxuICAgICAgXSA6IFtcbiAgICAgICAgeyBtb2RlOiAnZmlsZScsIGljb246ICdcdUQ4M0RcdURDQzEnLCB0b29sdGlwOiAnYnkgZmlsZScgfSxcbiAgICAgICAgeyBtb2RlOiAndGFnJywgaWNvbjogJ1x1RDgzQ1x1REZGN1x1RkUwRicsIHRvb2x0aXA6ICdieSB0YWcnIH0sXG4gICAgICAgIHsgbW9kZTogJ2RhdGUnLCBpY29uOiAnXHVEODNEXHVEQ0M1JywgdG9vbHRpcDogJ2J5IGRhdGUnIH1cbiAgICAgIF07XG5cbiAgICBncm91cE9wdGlvbnMuZm9yRWFjaCgoeyBtb2RlLCBpY29uLCBsYWJlbCwgdG9vbHRpcCB9KSA9PiB7XG4gICAgLy8gXHUyQjUwIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NjcwOVx1NTNFRlx1NzUyOFx1N0IxNFx1OEJCMFx1RkYwOFx1NEZBN1x1OEZCOVx1NjgwRlx1NkEyMVx1NUYwRlx1NEUwQlx1NjI0RFx1NjhDMFx1NjdFNVx1RkYwOVxuICAgIGNvbnN0IGhhc05vdGVzID0gKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJyAmJiB0aGlzLmNoZWNrR3JvdXBIYXNOb3RlcykgXG4gICAgICA/IHRoaXMuY2hlY2tHcm91cEhhc05vdGVzKG1vZGUpIFxuICAgICAgOiB0cnVlO1xuICAgIGNvbnN0IGlzQWN0aXZlID0gdGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09IG1vZGU7XG4gICAgXG4gICAgY29uc3QgYnRuID0gZ3JvdXBTd2l0Y2hlci5jcmVhdGVEaXYoe1xuICAgICAgY2xzOiBgJHtpc01haW4gPyAnZ3JvdXAtYnRuLW1haW4nIDogJ2dyb3VwLWJ0bid9ICR7XG4gICAgICAgIGlzQWN0aXZlID8gJ2FjdGl2ZScgOiAnJ1xuICAgICAgfSAkeyFoYXNOb3RlcyA/ICdkaXNhYmxlZCcgOiAnJ31gXG4gICAgfSk7XG4gICAgXG4gICAgYnRuLmlubmVySFRNTCA9IGlzTWFpbiA/IGAke2ljb259IGAgOiBpY29uO1xuICAgIFxuICAgIC8vIFx1MkI1MCBcdThCQkVcdTdGNkVcdTYzRDBcdTc5M0FcdTY1ODdcdTY3MkNcbiAgICBpZiAoIWhhc05vdGVzKSB7XG4gICAgICBidG4uc2V0QXR0cmlidXRlKCd0aXRsZScsICdOb3RlcyBpbiB0aGUgY3VycmVudCBmaWxlIGNhbm5vdCBiZSBncm91cGVkIHRoaXMgd2F5Jyk7XG4gICAgICBidG4uc3R5bGUub3BhY2l0eSA9ICcwLjQnO1xuICAgICAgYnRuLnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdG9vbHRpcCk7XG4gICAgfVxuICAgIFxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub25Hcm91cENoYW5nZShtb2RlKTtcbiAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyU3RhdHNSb3coY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IHN0YXRzUm93ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLXJvdycgfSk7XG4gICAgXG4gICAgLy8gXHU4RkQ5XHU5MUNDXHU0RjFBXHU3NTMxIEJhdGNoQWN0aW9ucyBcdTdFQzRcdTRFRjZcdTU4NkJcdTUxNDVcbiAgICAvLyBcdTk4ODRcdTc1NTlcdTVCQjlcdTU2NjhcdTRGOUJcdTU5MTZcdTkwRThcdTRGN0ZcdTc1MjhcbiAgICBzdGF0c1Jvdy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHMtY29udGFpbmVyJywgJ3RydWUnKTtcbiAgfVxuICAvLyBcdTY1QjBcdTU4OUU6XHU2RTMyXHU2N0QzXHU1OTBEXHU0RTYwXHU2OEMwXHU2N0U1XHU2MzA5XHU5NEFFXHU3Njg0XHU2NUI5XHU2Q0Q1XG5yZW5kZXJSZXZpZXdDaGVja0J1dHRvbihjb250YWluZXI6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKCF0aGlzLm9uQ2hlY2tSZXZpZXcpIHJldHVybiBudWxsO1xuICBcbiAgY29uc3QgcmV2aWV3QnRuID0gY29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgY2xzOiAncmV2aWV3LWNoZWNrLWJ0bi1zdGF0cycsXG4gICAgYXR0cjogeyBcbiAgICAgICdhcmlhLWxhYmVsJzogJ0NoZWNrIGZvciBDYXJkcyB0byBSZXZpZXcnXG4gICAgfVxuICB9KTtcbiAgcmV2aWV3QnRuLmlubmVySFRNTCA9ICdcdUQ4M0RcdUREMTQnOyBcbiAgcmV2aWV3QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vbkNoZWNrUmV2aWV3Py4oKTtcbiAgfSk7XG4gIFxuICByZXR1cm4gcmV2aWV3QnRuO1xufVxucHJpdmF0ZSBoYXNOb3Rlc0ZvckZpbHRlcihtb2RlOiBGaWx0ZXJNb2RlKTogYm9vbGVhbiB7XG4gIC8vIFx1OEZEOVx1NEUyQVx1NjVCOVx1NkNENVx1OTcwMFx1ODk4MVx1OEJCRlx1OTVFRVx1NjU3MFx1NjM2RVx1RkYwQ1x1NjI0MFx1NEVFNVx1OTcwMFx1ODk4MVx1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1NjIxNlx1ODAwNVx1NzZGNFx1NjNBNVx1OEJCRlx1OTVFRSBzdGF0ZVxuICAvLyBcdTY2ODJcdTY1RjZcdThGRDRcdTU2REUgdHJ1ZVx1RkYwQ1x1N0EwRFx1NTQwRVx1OTAxQVx1OEZDN1x1Njc4NFx1OTAyMFx1NTFGRFx1NjU3MFx1NEYyMFx1NTE2NVx1NjhDMFx1NjdFNVx1NTFGRFx1NjU3MFxuICByZXR1cm4gdHJ1ZTtcbn1cblxucHJpdmF0ZSBoYXNOb3Rlc0Zvckdyb3VwKG1vZGU6IEdyb3VwTW9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxufSIsICIvLyBzcmMvdWkvY29tcG9uZW50cy9CYXRjaEFjdGlvbnMudHMgIFx1NjI3OVx1OTFDRlx1NjRDRFx1NEY1Q1xuXG5pbXBvcnQgeyBWaWV3U3RhdGUgfSBmcm9tICcuLi9zdGF0cy9WaWV3U3RhdGUnO1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBUb29sYmFyIH0gZnJvbSAnLi9Ub29sYmFyJztcbmltcG9ydCB7IHQsIExhbmd1YWdlIH0gZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnOyBcblxuXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoQWN0aW9uQ2FsbGJhY2tzIHtcbiAgb25TZWxlY3RBbGw6ICgpID0+IHZvaWQ7XG4gIG9uRGVzZWxlY3RBbGw6ICgpID0+IHZvaWQ7XG4gIG9uQmF0Y2hDcmVhdGU6ICgpID0+IHZvaWQ7XG4gIG9uQmF0Y2hEZWxldGU6ICgpID0+IHZvaWQ7XG4gIG9uQ2FuY2VsOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgQmF0Y2hBY3Rpb25zIHtcbiAgcHJpdmF0ZSBzdGF0ZTogVmlld1N0YXRlO1xuICBwcml2YXRlIGNhbGxiYWNrczogQmF0Y2hBY3Rpb25DYWxsYmFja3M7XG4gIHByaXZhdGUgdG9vbGJhcj86IFRvb2xiYXI7IFxuICBwcml2YXRlIGxhbmd1YWdlOiBMYW5ndWFnZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzdGF0ZTogVmlld1N0YXRlLCBcbiAgICBjYWxsYmFja3M6IEJhdGNoQWN0aW9uQ2FsbGJhY2tzLFxuICAgIHRvb2xiYXI/OiBUb29sYmFyLFxuICAgIGxhbmd1YWdlOiBMYW5ndWFnZSA9ICdlbidcbiAgKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgIHRoaXMudG9vbGJhciA9IHRvb2xiYXI7XG4gICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlOyBcbiAgfVxuICBwcml2YXRlIHQoa2V5OiBzdHJpbmcsIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4pOiBzdHJpbmcge1xuICAgIHJldHVybiB0KGtleSwgdGhpcy5sYW5ndWFnZSwgcGFyYW1zKTtcbiAgfVxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU1MTY4XHU5MDA5XHU2MzA5XHU5NEFFXG4gICAqL1xuICByZW5kZXJTZWxlY3RBbGxCdXR0b24oXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgXG4gICAgdmlzaWJsZUl0ZW1zOiBDb250ZW50VW5pdFtdIHwgRmxhc2hjYXJkW10sXG4gICAgc3R5bGVDbGFzczogJ3NpZGViYXInIHwgJ2hlYWRlcidcbiAgKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGJ0bkNsYXNzID0gc3R5bGVDbGFzcyA9PT0gJ3NpZGViYXInIFxuICAgICAgPyAnc2VsZWN0LWFsbC1idG4tc2lkZWJhcicgXG4gICAgICA6ICdzZWxlY3QtYWxsLWJ0bi1oZWFkZXInO1xuICAgIFxuICAgIGNvbnN0IGlzQWxsQ2hlY2tlZCA9IHRoaXMuc3RhdGUuaXNBbGxTZWxlY3RlZCh2aXNpYmxlSXRlbXMpO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHZpc2libGVJdGVtcy5sZW5ndGg7XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0QWxsQnRuID0gY29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiBpc0FsbENoZWNrZWQgXG4gICAgICA/IGBcdTI3MTMgJHt0aGlzLnQoJ2JhdGNoLmRlc2VsZWN0QWxsJyl9YCAgXG4gICAgICA6IGBcdTI2MTAgJHt0aGlzLnQoJ2JhdGNoLnNlbGVjdEFsbCcpfWAsICAgXG4gICAgY2xzOiBgJHtidG5DbGFzc30gJHtpc0FsbENoZWNrZWQgPyAnY29tcGxldGVkJyA6ICcnfWAsXG4gICAgdGl0bGU6IGlzQWxsQ2hlY2tlZCBcbiAgICAgID8gdGhpcy50KCdiYXRjaC5kZXNlbGVjdEFsbC50b29sdGlwJykgIFxuICAgICAgOiB0aGlzLnQoJ2JhdGNoLnNlbGVjdEFsbC50b29sdGlwJywgeyBjb3VudDogaXRlbUNvdW50IH0pIFxuICB9KTtcbiAgICBcbiAgICBjb25zdCBzaG91bGREaXNhYmxlID0gKFxuICAgICAgaXRlbUNvdW50ID09PSAwIHx8XG4gICAgICAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdhbm5vdGF0aW9uJyAmJiBcbiAgICAgICB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnbWFpbicgJiYgXG4gICAgICAgIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKVxuICAgICk7XG4gICAgXG4gICAgaWYgKHNob3VsZERpc2FibGUpIHtcbiAgICAgIHNlbGVjdEFsbEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBzZWxlY3RBbGxCdG4uc3R5bGUub3BhY2l0eSA9ICcwLjUnO1xuICAgICAgc2VsZWN0QWxsQnRuLnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XG4gICAgICBzZWxlY3RBbGxCdG4udGl0bGUgPSBpdGVtQ291bnQgPT09IDAgXG4gICAgICAgID8gdGhpcy50KCdiYXRjaC5ub0l0ZW1zJykgIFxuICAgICAgICA6IHRoaXMudCgnYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0Jyk7XG4gICAgfVxuICAgIFxuICAgIHNlbGVjdEFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gICAgICBcbiAgICAgIGlmIChpc0FsbENoZWNrZWQpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25EZXNlbGVjdEFsbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25TZWxlY3RBbGwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gc2VsZWN0QWxsQnRuO1xuICB9XG4gIC8vIFx1NjVCMFx1NTg5RTpcdTZFMzJcdTY3RDNcdTU5MERcdTRFNjBcdTY4QzBcdTY3RTVcdTYzMDlcdTk0QUUoXHU3MkVDXHU3QUNCXHU2NUI5XHU2Q0Q1KVxuICByZW5kZXJSZXZpZXdDaGVja0J1dHRvbihjb250YWluZXI6IEhUTUxFbGVtZW50LCBtb2RlOiAnc2lkZWJhcicgfCAnaGVhZGVyJyk6IHZvaWQge1xuICAgIGlmIChtb2RlID09PSAnc2lkZWJhcicgJiYgdGhpcy50b29sYmFyKSB7XG4gICAgICB0aGlzLnRvb2xiYXIucmVuZGVyUmV2aWV3Q2hlY2tCdXR0b24oY29udGFpbmVyKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1NjI3OVx1OTFDRlx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVx1N0VDNFxuICAgKi9cbiAgcmVuZGVyQWN0aW9uQnV0dG9ucyhcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHN0eWxlQ2xhc3M6ICdzaWRlYmFyJyB8ICdoZWFkZXInXG4gICk6IHZvaWQge1xuICAgIGlmICghdGhpcy5zdGF0ZS5iYXRjaE1vZGUpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBidG5QcmVmaXggPSBzdHlsZUNsYXNzID09PSAnc2lkZWJhcicgPyAnc2lkZWJhcicgOiAnaGVhZGVyJztcbiAgICBcbiAgICAvLyBcdTUyMzZcdTUzNjFcdTYzMDlcdTk0QUVcdUZGMDhcdTRFQzVcdTdCMTRcdThCQjBcdTg5QzZcdTU2RkVcdUZGMDlcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ25vdGVzJykge1xuICAgICAgY29uc3QgY291bnQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5zaXplO1xuICAgICAgY29uc3QgY3JlYXRlQnRuID0gdGhpcy5jcmVhdGVCdXR0b24oXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgc3R5bGVDbGFzcyA9PT0gJ3NpZGViYXInIFxuICAgICAgICA/IGBcdTI2QTEoJHtjb3VudH0pYCBcbiAgICAgICAgOiBgXHUyNkExICR7dGhpcy50KCdiYXRjaC5jcmVhdGUnKX0gKCR7Y291bnR9KWAsXG4gICAgICBgYmF0Y2gtY3JlYXRlLWNhcmRzLWJ0bi0ke2J0blByZWZpeH1gLFxuICAgICAgdGhpcy50KCdiYXRjaC5jcmVhdGUudG9vbHRpcCcpLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFx1OEZEOVx1OTFDQ1x1NUU5NFx1OEJFNVx1ODlFNlx1NTNEMSBOb3RpY2VcdUZGMENcdTRGNDZcdTRFM0FcdTRFODZcdTg5RTNcdTgwMjZcdUZGMENcdTkwMUFcdThGQzdcdTU2REVcdThDMDNcdTU5MDRcdTc0MDZcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uQmF0Y2hDcmVhdGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25CYXRjaENyZWF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY3JlYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgICAgIGNyZWF0ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknO1xuICAgICAgICBjcmVhdGVCdG4uc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNyZWF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgICAgICBjcmVhdGVCdG4uc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgICAgICBjcmVhdGVCdG4uc3R5bGUuY29sb3IgPSAnJztcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTUyMjBcdTk2NjRcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuc3RhdGUuZ2V0U2VsZWN0ZWRDb3VudCgpO1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKFxuICAgICAgY29udGFpbmVyLFxuICAgICAgc3R5bGVDbGFzcyA9PT0gJ3NpZGViYXInIFxuICAgICAgPyBgXHVEODNEXHVEREQxXHVGRTBGKCR7Y291bnR9KWAgXG4gICAgICA6IGBcdUQ4M0RcdURERDFcdUZFMEYgJHt0aGlzLnQoJ2JhdGNoLmRlbGV0ZScpfSAoJHtjb3VudH0pYCwgXG4gICAgYGJhdGNoLWRlbGV0ZS1idG4tJHtidG5QcmVmaXh9YCxcbiAgICB0aGlzLnQoJ2JhdGNoLmRlbGV0ZS50b29sdGlwJyksIFxuICAgICAgKCkgPT4gdGhpcy5jYWxsYmFja3Mub25CYXRjaERlbGV0ZSgpXG4gICAgKTtcbiAgICBcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgICAgIGRlbGV0ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWNvbG9yLXJlZCknO1xuICAgICAgZGVsZXRlQnRuLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICB9KTtcbiAgICBcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgICAgIGRlbGV0ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSc7XG4gICAgICBkZWxldGVCdG4uc3R5bGUuY29sb3IgPSAnJztcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTUzRDZcdTZEODhcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBjYW5jZWxCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHN0eWxlQ2xhc3MgPT09ICdzaWRlYmFyJyBcbiAgICAgID8gJ1x1MjcxNScgXG4gICAgICA6IGBcdTI3MTUgJHt0aGlzLnQoJ2JhdGNoLmNhbmNlbCcpfWAsIFxuICAgIGBjYW5jZWwtc2VsZWN0aW9uLWJ0bi0ke2J0blByZWZpeH1gLFxuICAgIHRoaXMudCgnYmF0Y2guY2FuY2VsLnRvb2x0aXAnKSwgXG4gICAgKCkgPT4gdGhpcy5jYWxsYmFja3Mub25DYW5jZWwoKVxuICAgIFxuICAgICk7XG5cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQnV0dG9uKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIGNsYXNzTmFtZTogc3RyaW5nLFxuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgb25DbGljazogKCkgPT4gdm9pZFxuICApOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgYnRuID0gY29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0LFxuICAgICAgY2xzOiBjbGFzc05hbWUsXG4gICAgICB0aXRsZVxuICAgIH0pO1xuICAgIFxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uQ2xpY2soKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnRuO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1NjI3OVx1OTFDRlx1OTAwOVx1NjJFOSBDaGVja2JveFxuICAgKi9cbiAgcmVuZGVyQ2hlY2tib3goXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBpdGVtSWQ6IHN0cmluZyxcbiAgICBpc1NlbGVjdGVkOiBib29sZWFuLFxuICAgIG9uQ2hhbmdlOiAoY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZFxuICApOiBIVE1MSW5wdXRFbGVtZW50IHtcbiAgICBjb25zdCBjaGVja2JveCA9IGNvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgY2xzOiAnYmF0Y2gtY2hlY2tib3gnXG4gICAgfSk7XG4gICAgXG4gICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLWl0ZW0taWQnLCBpdGVtSWQpO1xuICAgIGNoZWNrYm94LmNoZWNrZWQgPSBpc1NlbGVjdGVkO1xuICAgIFxuICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgb25DaGFuZ2UoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBjaGVja2JveDtcbiAgfVxufSIsICIvLyBzcmMvdWkvY29tcG9uZW50cy9Db250ZW50Q2FyZC50cyAgXHU1MzYxXHU3MjQ3XHU1MTg1XHU1QkI5XG4vLyBpbXBvcnQgeyBTdHlsZUxvYWRlciB9IGZyb20gJy4uL3N0eWxlL3NpZGViYXJTdHlsZSdcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgVmlld1N0YXRlIH0gZnJvbSAnLi4vc3RhdHMvVmlld1N0YXRlJztcbmltcG9ydCB7IHQsIExhbmd1YWdlIH0gZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZENhbGxiYWNrcyB7XG4gIG9uSnVtcFRvU291cmNlOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uSnVtcFRvRmxhc2hjYXJkPzogKGNhcmQ6IEZsYXNoY2FyZCkgPT4gdm9pZDsgXG4gIG9uVG9nZ2xlQW5ub3RhdGlvbjogKGNhcmQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25RdWlja0ZsYXNoY2FyZDogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvblNob3dDb250ZXh0TWVudTogKGV2ZW50OiBNb3VzZUV2ZW50LCB1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25GbGFzaGNhcmRDb250ZXh0TWVudT86IChldmVudDogTW91c2VFdmVudCwgY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBnZXRBbm5vdGF0aW9uQ29udGVudD86ICh1bml0SWQ6IHN0cmluZykgPT4gc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBnZXRDb250ZW50VW5pdD86ICh1bml0SWQ6IHN0cmluZykgPT4gQ29udGVudFVuaXQgfCB1bmRlZmluZWQ7ICBcbn1cblxuZXhwb3J0IGNsYXNzIENvbnRlbnRDYXJkIHtcbiAgcHJpdmF0ZSBzdGF0ZTogVmlld1N0YXRlO1xuICBwcml2YXRlIGNhbGxiYWNrczogQ2FyZENhbGxiYWNrcztcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogVmlld1N0YXRlLCBjYWxsYmFja3M6IENhcmRDYWxsYmFja3MpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gIH1cbiAgcHJpdmF0ZSBnZXRMYW5ndWFnZSgpOiBMYW5ndWFnZSB7XG4gICAgLy8gXHU0RUNFIE9ic2lkaWFuIFx1OEJCRVx1N0Y2RVx1NEUyRFx1ODNCN1x1NTNENlx1OEJFRFx1OEEwMFx1RkYwQ1x1NTk4Mlx1Njc5Q1x1NjYyRlx1NEUyRFx1NjU4N1x1NTIxOVx1OEZENFx1NTZERSAnemgtQ04nXHVGRjBDXHU1NDI2XHU1MjE5XHU4RkQ0XHU1NkRFICdlbidcbiAgICBjb25zdCBsYW5nID0gKHdpbmRvdyBhcyBhbnkpLm1vbWVudD8ubG9jYWxlKCkgfHwgJ2VuJztcbiAgICByZXR1cm4gbGFuZy5zdGFydHNXaXRoKCd6aCcpID8gJ3poLUNOJyA6ICdlbic7XG4gIH1cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1N0QyN1x1NTFEMVx1NTM2MVx1NzI0N1x1RkYwOFx1NEZBN1x1OEZCOVx1NjgwRlx1NkEyMVx1NUYwRlx1RkYwOVxuICAgKi9cbiAgcmVuZGVyQ29tcGFjdChjb250YWluZXI6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IGNhcmQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFjdC1jYXJkJyB9KTtcbiAgICBjYXJkLnNldEF0dHJpYnV0ZSgnZGF0YS11bml0LWlkJywgdW5pdC5pZCk7XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdDYXJkID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXVuaXQtaWQ9XCIke3VuaXQuaWR9XCJdYCk7XG4gICAgaWYgKGV4aXN0aW5nQ2FyZD8uZ2V0QXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnKSA9PT0gJ3RydWUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFx1MkI1MCBcdTRGN0ZcdTc1MjhcdTYzNTVcdTgzQjdcdTk2MzZcdTZCQjUgKyBtb3VzZWRvd25cdUZGMENcdTRGNDZcdTRFMERcdThDMDNcdTc1MjggcHJldmVudERlZmF1bHRcbiAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAvLyBcdTJCNTAgXHU1M0VBXHU1OTA0XHU3NDA2XHU1REU2XHU5NTJFXHU3MEI5XHU1MUZCXG4gICAgICBpZiAoZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIFxuICAgICAgLy8gXHU2MzkyXHU5NjY0XHU1REU1XHU1MTc3XHU2MzA5XHU5NEFFXHU3QjQ5XG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5jYXJkLXRvb2xzJykgfHwgXG4gICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5iYXRjaC1jaGVja2JveCcpIHx8XG4gICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5hbm5vdGF0aW9uLWJ0bicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHU2MzkyXHU5NjY0XHU3RjE2XHU4RjkxXHU1NjY4XHU1MTg1XHU5MEU4XG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgLy8gXHUyQjUwIFx1NzBCOVx1NTFGQlx1NTE4NVx1NUJCOVx1NTMzQVx1NTdERlx1NjI1M1x1NUYwMFx1NjI3OVx1NkNFOFxuICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5ub3RlLXRleHQnKSB8fCB0YXJnZXQuY2xvc2VzdCgnLmFubm90YXRpb24tcHJldmlldycpKSB7XG4gICAgXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBcdTJCNTAgXHU5NjNCXHU2QjYyXHU5RUQ4XHU4QkE0XHU4ODRDXHU0RTNBLFx1OTYzMlx1NkI2Mlx1NUU3Mlx1NjI3MFx1ODA1QVx1NzEyNlxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7IC8vIFx1MkI1MCBmYWxzZSA9IFx1NTE5Mlx1NkNFMVx1OTYzNlx1NkJCNVx1RkYwOFx1OUVEOFx1OEJBNFx1RkYwOVxuICBcbiAgICAvLyBcdTYyNzlcdTkxQ0ZcdTkwMDlcdTYyRTkgY2hlY2tib3hcbiAgICBpZiAodGhpcy5zdGF0ZS5iYXRjaE1vZGUpIHtcbiAgICAgIHRoaXMucmVuZGVyQ2hlY2tib3goY2FyZCwgdW5pdC5pZCwgdGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMuaGFzKHVuaXQuaWQpKTtcbiAgICB9XG4gIFxuICAgIC8vIFx1NURFNlx1NEZBN1x1NjMwN1x1NzkzQVx1NTY2OFxuICAgIHRoaXMucmVuZGVySW5kaWNhdG9yKGNhcmQsIHVuaXQpO1xuICBcbiAgICAvLyBcdTUxODVcdTVCQjlcdTUzM0FcdTU3REZcbiAgICBjb25zdCBjb250ZW50ID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWNvbnRlbnQnIH0pO1xuICAgIHRoaXMucmVuZGVyQ2FyZEhlYWRlcihjb250ZW50LCBjYXJkLCB1bml0KTtcbiAgICB0aGlzLnJlbmRlckNhcmRDb250ZW50KGNvbnRlbnQsIHVuaXQpO1xuICAgIHRoaXMucmVuZGVyQW5ub3RhdGlvblByZXZpZXcoY29udGVudCwgY2FyZCwgdW5pdCk7XG4gICAgdGhpcy5yZW5kZXJDYXJkTWV0YShjb250ZW50LCB1bml0KTtcbiAgfVxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU3RjUxXHU2ODNDXHU1MzYxXHU3MjQ3XHVGRjA4XHU0RTNCXHU3NTRDXHU5NzYyXHU2QTIxXHU1RjBGXHVGRjA5XG4gICAqL1xucmVuZGVyR3JpZChjb250YWluZXI6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICBjb25zdCBjYXJkID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZCcgfSk7XG4gIGNhcmQuc2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnLCB1bml0LmlkKTsgLy8gXHUyQjUwIFx1NkRGQlx1NTJBMFx1OEZEOVx1ODg0Q1x1RkYwQ1x1NjVCOVx1NEZCRlx1NjdFNVx1NjI3RVxuICBcbiAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgXG4gICAgLy8gXHU2MzkyXHU5NjY0XHU1REU1XHU1MTc3XHU2MzA5XHU5NEFFXHUzMDAxY2hlY2tib3hcdTMwMDFoZWFkZXJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5ncmlkLWNhcmQtdG9vbHMnKSB8fCBcbiAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5iYXRjaC1jaGVja2JveCcpIHx8XG4gICAgICAgIHRhcmdldC5jbG9zZXN0KCcuZ3JpZC1jYXJkLWhlYWRlcicpIHx8XG4gICAgICAgIHRhcmdldC5jbG9zZXN0KCcuZG9jLW5hbWUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTcwQjlcdTUxRkJcdTUxODVcdTVCQjlcdTUzM0FcdTU3REYgPSBcdTYyNTNcdTVGMDBcdTYyNzlcdTZDRThcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5ncmlkLWNhcmQtY29udGVudCcpKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5jYWxsYmFja3Mub25Ub2dnbGVBbm5vdGF0aW9uKGNhcmQsIHVuaXQpO1xuICAgIH1cbiAgfSk7XG4gIFxuICBjYXJkLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcblxuICBpZiAodGhpcy5zdGF0ZS5iYXRjaE1vZGUpIHtcbiAgICB0aGlzLnJlbmRlckNoZWNrYm94KGNhcmQsIHVuaXQuaWQsIHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzLmhhcyh1bml0LmlkKSk7XG4gIH1cblxuICBjb25zdCBoZWFkZXIgPSBjYXJkLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZC1oZWFkZXInIH0pO1xuICB0aGlzLnJlbmRlclR5cGVJbmRpY2F0b3IoaGVhZGVyLCB1bml0KTtcbiAgXG4gIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5yZW5kZXJGaWxlTmFtZShoZWFkZXIsIHVuaXQpO1xuICBmaWxlTmFtZS5vbmNsaWNrID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuY2FsbGJhY2tzLm9uSnVtcFRvU291cmNlKHVuaXQpO1xuICB9O1xuICBmaWxlTmFtZS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gIFxuICB0aGlzLnJlbmRlckdyaWRUb29scyhoZWFkZXIsIHVuaXQpO1xuXG4gIGNvbnN0IGNvbnRlbnQgPSBjYXJkLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZC1jb250ZW50JyB9KTtcbiAgY29udGVudC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gIFxuICB0aGlzLnJlbmRlckdyaWRDb250ZW50KGNvbnRlbnQsIGNhcmQsIHVuaXQpO1xuICB0aGlzLnJlbmRlckdyaWRBbm5vdGF0aW9uKGNvbnRlbnQsIGNhcmQsIHVuaXQpO1xuICB0aGlzLnJlbmRlckdyaWRUYWdzKGNvbnRlbnQsIHVuaXQpO1xuXG4gIGNvbnN0IG1ldGEgPSBjYXJkLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZC1tZXRhJyB9KTtcbiAgdGhpcy5yZW5kZXJHcmlkTWV0YShtZXRhLCB1bml0KTtcbn1cblxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU5NUVBXHU1MzYxXHU3RjUxXHU2ODNDXG4gICAqL1xuICByZW5kZXJGbGFzaGNhcmRHcmlkKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhcmQ6IEZsYXNoY2FyZCk6IHZvaWQge1xuICAgIGNvbnN0IGNhcmRFbCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQgZmxhc2hjYXJkLWdyaWQtY2FyZCcgfSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5iYXRjaE1vZGUpIHtcbiAgICAgIHRoaXMucmVuZGVyQ2hlY2tib3goY2FyZEVsLCBjYXJkLmlkLCB0aGlzLnN0YXRlLnNlbGVjdGVkQ2FyZElkcy5oYXMoY2FyZC5pZCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlciA9IGNhcmRFbC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtaGVhZGVyJyB9KTtcbiAgICBjb25zdCBjYXJkVHlwZSA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLXR5cGUtYmFkZ2UnIH0pO1xuICAgIGNhcmRUeXBlLnRleHRDb250ZW50ID0gY2FyZC50eXBlID09PSAncWEnID8gJ1EmQScgOiAnQ2xvemUnO1xuICAgIGNhcmRUeXBlLmFkZENsYXNzKGB0eXBlLSR7Y2FyZC50eXBlfWApO1xuICAgIFxuICAgIGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCcuYmF0Y2gtY2hlY2tib3gnKSkge1xuICAgICAgICAvLyBcdTRGN0ZcdTc1MjhcdTY1QjBcdTc2ODRcdTU2REVcdThDMDNcdTU5MDRcdTc0MDYgZmxhc2hjYXJkIFx1OERGM1x1OEY2Q1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25KdW1wVG9GbGFzaGNhcmQpIHtcbiAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkp1bXBUb0ZsYXNoY2FyZChjYXJkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICBjb25zdCB0b29scyA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtdG9vbHMnIH0pO1xuICAgIGNvbnN0IG1vcmVCdG4gPSB0b29scy5jcmVhdGVEaXYoeyBjbHM6ICd0b29sLWJ0bi1ncmlkJyB9KTtcbiAgICBtb3JlQnRuLmlubmVySFRNTCA9ICdcdTIyRUUnO1xuICAgIG1vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25GbGFzaGNhcmRDb250ZXh0TWVudSkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkZsYXNoY2FyZENvbnRleHRNZW51KGUsIGNhcmQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY29udGVudCA9IGNhcmRFbC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtY29udGVudCcgfSk7XG4gICAgdGhpcy5yZW5kZXJGbGFzaGNhcmRDb250ZW50KGNvbnRlbnQsIGNhcmQpO1xuXG4gICAgY29uc3QgbWV0YSA9IGNhcmRFbC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtbWV0YScgfSk7XG4gICAgdGhpcy5yZW5kZXJGbGFzaGNhcmRNZXRhKG1ldGEsIGNhcmQpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PSBcdTc5QzFcdTY3MDlcdTZFMzJcdTY3RDNcdTY1QjlcdTZDRDUgPT09PT09PT09PVxuXG4gIHByaXZhdGUgcmVuZGVyQ2hlY2tib3goY2FyZDogSFRNTEVsZW1lbnQsIGl0ZW1JZDogc3RyaW5nLCBpc0NoZWNrZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCBjaGVja2JveCA9IGNhcmQuY3JlYXRlRWwoJ2lucHV0Jywge1xuICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgIGNsczogJ2JhdGNoLWNoZWNrYm94J1xuICAgIH0pO1xuICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1pdGVtLWlkJywgaXRlbUlkKTtcbiAgICBjaGVja2JveC5jaGVja2VkID0gaXNDaGVja2VkO1xuICAgIFxuICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZENhcmRJZHMuYWRkKGl0ZW1JZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMuYWRkKGl0ZW1JZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZENhcmRJZHMuZGVsZXRlKGl0ZW1JZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMuZGVsZXRlKGl0ZW1JZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFx1ODlFNlx1NTNEMVx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1RkYwOFx1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1RkYwOVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJJbmRpY2F0b3IoY2FyZDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc3QgaW5kaWNhdG9yID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWluZGljYXRvcicgfSk7XG5cbiAgICBpZiAodW5pdC50eXBlID09PSAnUUEnKSB7XG4gICAgICBpbmRpY2F0b3IuYWRkQ2xhc3MoJ3R5cGUtcWEnKTtcbiAgICB9IGVsc2UgaWYgKHVuaXQudHlwZSA9PT0gJ2Nsb3plJykge1xuICAgICAgaW5kaWNhdG9yLmFkZENsYXNzKCd0eXBlLWNsb3plJyk7XG4gICAgfSBlbHNlIGlmICh1bml0LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgaW5kaWNhdG9yLmFkZENsYXNzKCd0eXBlLXRleHQnKTtcbiAgICB9XG5cbiAgICBpZiAodW5pdC5hbm5vdGF0aW9uSWQpIGluZGljYXRvci5hZGRDbGFzcygnaGFzLWFubm90YXRpb24nKTtcbiAgICBpZiAodW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RoID4gMCkgaW5kaWNhdG9yLmFkZENsYXNzKCdoYXMtZmxhc2hjYXJkJyk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckNhcmRIZWFkZXIoY29udGVudDogSFRNTEVsZW1lbnQsIGNhcmQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IGhlYWRlciA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1oZWFkZXInIH0pO1xuICAgIFxuICAgIC8vIFx1MkI1MCBcdTVERTZcdTRGQTdcdTYyNzlcdTZDRThcdTYzMDlcdTk0QUVcdTUzM0FcdTU3REYgLSBcdTcwQjlcdTUxRkJcdThERjNcdThGNkNcdTUzOUZcdTY1ODdcbiAgICBjb25zdCBhbm5vdGF0aW9uQnRuID0gaGVhZGVyLmNyZWF0ZURpdih7IGNsczogJ2Fubm90YXRpb24tYnRuJyB9KTtcbiAgICB0aGlzLnJlbmRlclNpZGVMaW5lKGFubm90YXRpb25CdG4sIHVuaXQpO1xuICAgIFxuICAgIC8vIFx1MkI1MCBcdTRGN0ZcdTc1MjggbW91c2Vkb3duIFx1NEVFM1x1NjZGRiBjbGlja1x1RkYwQ1x1NUU3Nlx1NEUxNFx1NTNFQSBzdG9wUHJvcGFnYXRpb25cbiAgICBhbm5vdGF0aW9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5jYWxsYmFja3Mub25KdW1wVG9Tb3VyY2UodW5pdCk7XG4gICAgfSk7XG4gICAgYW5ub3RhdGlvbkJ0bi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gIFxuICAgIC8vIFx1MkI1MCBcdTUzRjNcdTRGQTdcdTVERTVcdTUxNzdcdTYzMDlcdTk0QUVcdTUzM0FcdTU3REZcbiAgICBjb25zdCB0b29scyA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLXRvb2xzJyB9KTtcbiAgICBcbiAgICAvLyBcdTk2M0JcdTZCNjJcdTVERTVcdTUxNzdcdTUzM0FcdTU3REZcdTRFOEJcdTRFRjZcdTUxOTJcdTZDRTFcbiAgICB0b29scy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgXG4gICAgaWYgKCF0aGlzLnN0YXRlLmJhdGNoTW9kZSkge1xuICAgICAgY29uc3QgZmxhc2hjYXJkQnRuID0gdG9vbHMuY3JlYXRlRGl2KHsgY2xzOiAndG9vbC1idG4gZmxhc2hjYXJkLWJ0bicgfSk7XG4gICAgICBmbGFzaGNhcmRCdG4uaW5uZXJIVE1MID0gJ1x1MjZBMSc7XG4gICAgICBmbGFzaGNhcmRCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0dlbmVyYXRlIEZsYXNoY2FyZHMnKTtcbiAgICAgIGZsYXNoY2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblF1aWNrRmxhc2hjYXJkKHVuaXQpO1xuICAgICAgfSk7XG4gICAgfVxuICBcbiAgICBjb25zdCBtb3JlQnRuID0gdG9vbHMuY3JlYXRlRGl2KHsgY2xzOiAndG9vbC1idG4gbW9yZS1idG4nIH0pO1xuICAgIG1vcmVCdG4uaW5uZXJIVE1MID0gJ1x1MjJFRSc7XG4gICAgbW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uU2hvd0NvbnRleHRNZW51KGUsIHVuaXQpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJDYXJkQ29udGVudChjb250ZW50OiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnbm90ZS10ZXh0JyB9KTtcbiAgXG4gICAgaWYgKHRoaXMuaXNUYWJsZUNvbnRlbnQodW5pdC5mdWxsQ29udGV4dCB8fCB1bml0LmNvbnRlbnQpKSB7XG4gICAgICB0aGlzLnJlbmRlck1hcmtkb3duQ29udGVudChub3RlVGV4dCwgdW5pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBkaXNwbGF5SFRNTCA9IHRoaXMuZm9ybWF0Q29udGVudCh1bml0KTtcbiAgICAgIG5vdGVUZXh0LmlubmVySFRNTCA9IGRpc3BsYXlIVE1MO1xuICAgIH1cbiAgXG4gICAgLy8gXHUyQjUwIFx1NTNFQVx1OEJCRVx1N0Y2RVx1NjgzN1x1NUYwRixcdTRFMERcdTdFRDFcdTVCOUFcdTRFOEJcdTRFRjZcbiAgICBub3RlVGV4dC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gIH1cbiAgXG5cbiAgcHJpdmF0ZSBmb3JtYXRDb250ZW50KHVuaXQ6IENvbnRlbnRVbml0KTogc3RyaW5nIHtcbiAgICBpZiAodW5pdC50eXBlID09PSAnUUEnICYmIHVuaXQuYW5zd2VyKSB7XG4gICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwicWEtcXVlc3Rpb25cIj4ke3VuaXQuY29udGVudH08L3NwYW4+IDxzcGFuIGNsYXNzPVwicWEtc2VwYXJhdG9yXCI+Ojo8L3NwYW4+IDxzcGFuIGNsYXNzPVwicWEtYW5zd2VyXCI+JHt1bml0LmFuc3dlcn08L3NwYW4+YDtcbiAgICB9IGVsc2UgaWYgKHVuaXQudHlwZSA9PT0gJ2Nsb3plJyAmJiB1bml0LmZ1bGxDb250ZXh0KSB7XG4gICAgICBsZXQgY29udGV4dCA9IHVuaXQuZnVsbENvbnRleHQucmVwbGFjZSgvPT0vZywgJycpO1xuICAgICAgY29uc3QgYW5zd2VyID0gdW5pdC5jb250ZW50O1xuICAgICAgcmV0dXJuIGNvbnRleHQucmVwbGFjZShcbiAgICAgICAgYW5zd2VyLCBcbiAgICAgICAgYDxzcGFuIGNsYXNzPVwiY2xvemUtaGlnaGxpZ2h0XCI+JHthbnN3ZXJ9PC9zcGFuPmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bml0LmNvbnRlbnQ7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgcmVuZGVyU2lkZUxpbmUobWV0YTogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgbWV0YS5jcmVhdGVTcGFuKHsgdGV4dDogYEwke3VuaXQuc291cmNlLnBvc2l0aW9uLmxpbmV9YCwgY2xzOiAnbGluZS1pbmZvJyB9KTtcbiAgICBcbiAgfVxuICBwcml2YXRlIHJlbmRlckFubm90YXRpb25QcmV2aWV3KFxuICAgIGNvbnRlbnQ6IEhUTUxFbGVtZW50LCBcbiAgICBjYXJkOiBIVE1MRWxlbWVudCwgXG4gICAgdW5pdDogQ29udGVudFVuaXRcbiAgKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNhbGxiYWNrcy5nZXRBbm5vdGF0aW9uQ29udGVudCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGFubm90YXRpb25Db250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdC5pZCk7XG4gICAgaWYgKCFhbm5vdGF0aW9uQ29udGVudCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFx1MkI1MCBcdTc5RkJcdTk2NjQgaXNFZGl0aW5nIFx1NjhDMFx1NjdFNSxcdTc2RjRcdTYzQTVcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVERjJcdTY3MDlcdTk4ODRcdTg5QzhcbiAgICBjb25zdCBleGlzdGluZ1ByZXZpZXcgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbm5vdGF0aW9uLXByZXZpZXcnKTtcbiAgICBpZiAoZXhpc3RpbmdQcmV2aWV3KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1MkI1MCBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTY3MDlcdTdGMTZcdThGOTFcdTU2NjgoXHU2NkY0XHU1M0VGXHU5NzYwKVxuICAgIGNvbnN0IGV4aXN0aW5nRWRpdG9yID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJyk7XG4gICAgaWYgKGV4aXN0aW5nRWRpdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIFxuICAgIGNvbnN0IGFubkVsID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdhbm5vdGF0aW9uLXByZXZpZXcnIH0pO1xuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gYW5ub3RhdGlvbkNvbnRlbnQubGVuZ3RoID4gNjBcbiAgICAgID8gYW5ub3RhdGlvbkNvbnRlbnQuc3Vic3RyaW5nKDAsIDYwKSArICcuLi4nXG4gICAgICA6IGFubm90YXRpb25Db250ZW50O1xuICAgIGFubkVsLnRleHRDb250ZW50ID0gYFx1RDgzRFx1RENBQyAke2Rpc3BsYXlUZXh0fWA7XG4gICAgXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU0RThCXHU0RUY2XG4gICAgYW5uRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBUYWIgXHU5NTJFXHU0RThCXHU0RUY2XG4gICAgYW5uRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdUYWInKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25Ub2dnbGVBbm5vdGF0aW9uKGNhcmQsIHVuaXQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IG5vdGVUZXh0ID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCcubm90ZS10ZXh0LCAuZ3JpZC1ub3RlLXRleHQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAobm90ZVRleHQpIHtcbiAgICAgIG5vdGVUZXh0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBhbm5FbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoYW5uRWwpO1xuICAgIH1cbiAgICBcbiAgICBhbm5FbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgfVxuICBwcml2YXRlIHJlbmRlckNhcmRNZXRhKGNvbnRlbnQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IG1ldGEgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2NhcmQtbWV0YScgfSk7XG4gICAgaWYgKHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1ldGEuY3JlYXRlU3Bhbih7IFxuICAgICAgICB0ZXh0OiBgXHVEODNDXHVEQ0NGICR7dW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RofWAsIFxuICAgICAgICBjbHM6ICdiYWRnZScgXG4gICAgICB9KTtcbiAgICB9IFxuICAgIGlmICh1bml0Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgdW5pdC5tZXRhZGF0YS50YWdzLnNsaWNlKDAsIDIpLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgbWV0YS5jcmVhdGVTcGFuKHsgdGV4dDogYCR7dGFnfWAsIGNsczogJ3RhZycgfSk7XG4gICAgICB9KTtcbiAgICAgIGlmICh1bml0Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoID4gMikge1xuICAgICAgICBtZXRhLmNyZWF0ZVNwYW4oeyBcbiAgICAgICAgICB0ZXh0OiBgKyR7dW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCAtIDJ9YCwgXG4gICAgICAgICAgY2xzOiAndGFnLW1vcmUnIFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cblxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUeXBlSW5kaWNhdG9yKGhlYWRlcjogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc3QgdHlwZUluZGljYXRvciA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICd0eXBlLWluZGljYXRvcicgfSk7XG4gICAgaWYgKHVuaXQudHlwZSA9PT0gJ1FBJykge1xuICAgICAgdHlwZUluZGljYXRvci5hZGRDbGFzcygndHlwZS1xYScpO1xuICAgICAgdHlwZUluZGljYXRvci50ZXh0Q29udGVudCA9ICdRJkEnO1xuICAgIH0gZWxzZSBpZiAodW5pdC50eXBlID09PSAnY2xvemUnKSB7XG4gICAgICB0eXBlSW5kaWNhdG9yLmFkZENsYXNzKCd0eXBlLWNsb3plJyk7XG4gICAgICB0eXBlSW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ0Nsb3plJztcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZUluZGljYXRvci5hZGRDbGFzcygndHlwZS10ZXh0Jyk7XG4gICAgICB0eXBlSW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ1RleHQnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmlsZU5hbWUoaGVhZGVyOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgZmlsZU5hbWUgPSB1bml0LnNvdXJjZS5maWxlLnNwbGl0KCcvJykucG9wKCk/LnJlcGxhY2UoJy5tZCcsICcnKSB8fCAnJztcbiAgICBjb25zdCBmaWxlTmFtZVNwYW4gPSBoZWFkZXIuY3JlYXRlU3Bhbih7IHRleHQ6IGZpbGVOYW1lLCBjbHM6ICdkb2MtbmFtZScgfSk7XG4gICAgcmV0dXJuIGZpbGVOYW1lU3BhbjtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyR3JpZFRvb2xzKGhlYWRlcjogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc3QgdG9vbHMgPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkLXRvb2xzJyB9KTtcblxuICAgIGlmICghdGhpcy5zdGF0ZS5iYXRjaE1vZGUpIHtcbiAgICAgIGNvbnN0IGZsYXNoY2FyZEJ0biA9IHRvb2xzLmNyZWF0ZURpdih7IGNsczogJ3Rvb2wtYnRuLWdyaWQnIH0pO1xuICAgICAgZmxhc2hjYXJkQnRuLmlubmVySFRNTCA9ICdcdTI2QTEnO1xuICAgICAgZmxhc2hjYXJkQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdHZW5lcmF0ZSBGbGFzaGNhcmRzJyk7XG4gICAgICBmbGFzaGNhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblF1aWNrRmxhc2hjYXJkKHVuaXQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbW9yZUJ0biA9IHRvb2xzLmNyZWF0ZURpdih7IGNsczogJ3Rvb2wtYnRuLWdyaWQnIH0pO1xuICAgIG1vcmVCdG4uaW5uZXJIVE1MID0gJ1x1MjJFRSc7XG4gICAgbW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uU2hvd0NvbnRleHRNZW51KGUsIHVuaXQpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJHcmlkQ29udGVudChjb250ZW50OiBIVE1MRWxlbWVudCwgY2FyZDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc3Qgbm90ZVRleHQgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2dyaWQtbm90ZS10ZXh0JyB9KTtcbiAgICBcbiAgICBpZiAodGhpcy5pc1RhYmxlQ29udGVudCh1bml0LmZ1bGxDb250ZXh0IHx8IHVuaXQuY29udGVudCkpIHtcbiAgICAgIHRoaXMucmVuZGVyTWFya2Rvd25Db250ZW50KG5vdGVUZXh0LCB1bml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm90ZVRleHQuaW5uZXJIVE1MID0gdGhpcy5mb3JtYXRDb250ZW50KHVuaXQpO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTJCNTAgXHU3QjgwXHU1MzE2XHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHVGRjFBXHU1M0VBXHU0RkREXHU3NTU5IGNsaWNrXG4gICAgbm90ZVRleHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgLy8gXHUyQjUwIFx1NzlGQlx1OTY2NCBwcmV2ZW50RGVmYXVsdFxuICAgICAgdGhpcy5jYWxsYmFja3Mub25Ub2dnbGVBbm5vdGF0aW9uKGNhcmQsIHVuaXQpO1xuICAgIH0pO1xuICAgIFxuICAgIG5vdGVUZXh0LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgfVxuICBcbiAgcHJpdmF0ZSByZW5kZXJHcmlkQW5ub3RhdGlvbihjb250ZW50OiBIVE1MRWxlbWVudCwgY2FyZDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNhbGxiYWNrcy5nZXRBbm5vdGF0aW9uQ29udGVudCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGFubm90YXRpb25Db250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdC5pZCk7XG4gICAgaWYgKGFubm90YXRpb25Db250ZW50KSB7XG4gICAgICBjb25zdCBhbm5FbCA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1hbm5vdGF0aW9uJyB9KTtcbiAgICAgIGFubkVsLmlubmVySFRNTCA9IGBcdUQ4M0RcdURDQUMgJHthbm5vdGF0aW9uQ29udGVudH1gO1xuICAgICAgXG4gICAgICBhbm5FbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYW5uRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICAgIH0pO1xuICBcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckdyaWRUYWdzKGNvbnRlbnQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGlmICh1bml0Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdGFncyA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC10YWdzJyB9KTtcbiAgICAgIHVuaXQubWV0YWRhdGEudGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgIHRhZ3MuY3JlYXRlU3Bhbih7IHRleHQ6IGAke3RhZ31gLCBjbHM6ICd0YWctZ3JpZCcgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckdyaWRNZXRhKG1ldGE6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIG1ldGEuY3JlYXRlU3Bhbih7IHRleHQ6IGBMJHt1bml0LnNvdXJjZS5wb3NpdGlvbi5saW5lfWAsIGNsczogJ2xpbmUtaW5mbycgfSk7XG4gICAgXG4gICAgaWYgKHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1ldGEuY3JlYXRlU3Bhbih7IFxuICAgICAgICB0ZXh0OiBgXHVEODNDXHVEQ0NGICR7dW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RofWAsIFxuICAgICAgICBjbHM6ICdiYWRnZS1ncmlkJyBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmxhc2hjYXJkQ29udGVudChjb250ZW50OiBIVE1MRWxlbWVudCwgY2FyZDogRmxhc2hjYXJkKTogdm9pZCB7XG4gICAgY29uc3QgbGFuZyA9IHRoaXMuZ2V0TGFuZ3VhZ2UoKTtcbiAgICBjb25zdCBxdWVzdGlvbiA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnZmxhc2hjYXJkLXF1ZXN0aW9uJyB9KTtcbiAgICBxdWVzdGlvbi5pbm5lckhUTUwgPSBgPHN0cm9uZz4ke3QoJ2NhcmQucXVlc3Rpb24nLCBsYW5nKX1cdUZGMUE8L3N0cm9uZz4ke2NhcmQuZnJvbnR9YDtcbiAgICBcbiAgICBjb25zdCBhbnN3ZXIgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2ZsYXNoY2FyZC1hbnN3ZXInIH0pO1xuICAgIGNvbnN0IGFuc3dlclRleHQgPSBBcnJheS5pc0FycmF5KGNhcmQuYmFjaykgPyBjYXJkLmJhY2suam9pbignLCAnKSA6IGNhcmQuYmFjaztcbiAgICBhbnN3ZXIuaW5uZXJIVE1MID0gYDxzdHJvbmc+JHt0KCdjYXJkLmFuc3dlcicsIGxhbmcpfVx1RkYxQTwvc3Ryb25nPiR7YW5zd2VyVGV4dH1gO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGbGFzaGNhcmRNZXRhKG1ldGE6IEhUTUxFbGVtZW50LCBjYXJkOiBGbGFzaGNhcmQpOiB2b2lkIHtcbiAgICBtZXRhLmNyZWF0ZVNwYW4oe1xuICAgICAgdGV4dDogdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKGNhcmQubWV0YWRhdGEuY3JlYXRlZEF0KSksXG4gICAgICBjbHM6ICdmbGFzaGNhcmQtZGF0ZSdcbiAgICB9KTtcbiAgICBjb25zdCByZXZpZXdJbmZvID0gbWV0YS5jcmVhdGVEaXYoeyBjbHM6ICdmbGFzaGNhcmQtcmV2aWV3LWluZm8nIH0pO1xuICBcbiAgICBjb25zdCBkdWVEYXRlID0gbmV3IERhdGUoY2FyZC5zY2hlZHVsaW5nLmR1ZSk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBpc092ZXJkdWUgPSBkdWVEYXRlIDwgbm93O1xuICAgIFxuICAgIGNvbnN0IHRpbWVUZXh0ID0gdGhpcy5mb3JtYXRSZXZpZXdUaW1lKGR1ZURhdGUsIG5vdywgaXNPdmVyZHVlKTtcbiAgICBcbiAgICByZXZpZXdJbmZvLmlubmVySFRNTCA9IGBcbiAgICAgIDxzcGFuIGNsYXNzPVwicmV2aWV3LXRpbWUgJHtpc092ZXJkdWUgPyAnb3ZlcmR1ZScgOiAndXBjb21pbmcnfVwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInJldmlldy10ZXh0XCI+JHt0aW1lVGV4dH08L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICAgIGRheTogJzItZGlnaXQnXG4gICAgfSk7XG4gIH1cbiAgcHJpdmF0ZSBmb3JtYXRSZXZpZXdUaW1lKGR1ZURhdGU6IERhdGUsIG5vdzogRGF0ZSwgaXNPdmVyZHVlOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICBjb25zdCBsYW5nID0gdGhpcy5nZXRMYW5ndWFnZSgpO1xuICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyhkdWVEYXRlLmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCkpO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwKSk7XG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjApKTtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihob3VycyAvIDI0KTtcbiAgICBcbiAgICBpZiAoaXNPdmVyZHVlKSB7XG4gICAgICBpZiAoaG91cnMgPCAxKSB7XG4gICAgICAgIHJldHVybiBtaW51dGVzIDwgMSA/IHQoJ2NhcmQuanVzdER1ZScsIGxhbmcpIDogdCgnY2FyZC5kZWxheWVkTWludXRlcycsIGxhbmcsIHsgbWludXRlczogU3RyaW5nKG1pbnV0ZXMpIH0pO1xuICAgICAgfSBlbHNlIGlmIChob3VycyA8IDI0KSB7XG4gICAgICAgIHJldHVybiB0KCdjYXJkLmRlbGF5ZWRIb3VycycsIGxhbmcsIHsgaG91cnM6IFN0cmluZyhob3VycykgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdCgnY2FyZC5kZWxheWVkRGF5cycsIGxhbmcsIHsgZGF5czogU3RyaW5nKGRheXMpIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaG91cnMgPCAxKSB7XG4gICAgICAgIHJldHVybiB0KCdjYXJkLmR1ZUluTWludXRlcycsIGxhbmcsIHsgbWludXRlczogU3RyaW5nKG1pbnV0ZXMpIH0pO1xuICAgICAgfSBlbHNlIGlmIChob3VycyA8IDI0KSB7XG4gICAgICAgIHJldHVybiB0KCdjYXJkLmR1ZUluSG91cnMnLCBsYW5nLCB7IGhvdXJzOiBTdHJpbmcoaG91cnMpIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHQoJ2NhcmQuZHVlSW5EYXlzJywgbGFuZywgeyBkYXlzOiBTdHJpbmcoZGF5cykgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gXHVEODNDXHVERDk1IFx1NkRGQlx1NTJBMFx1ODg2OFx1NjgzQ1x1NjhDMFx1NkQ0Qlx1NjVCOVx1NkNENVxuICBwcml2YXRlIGlzVGFibGVDb250ZW50KGNvbnRlbnQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICAgIGlmICghY29udGVudCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIHJldHVybiBsaW5lcy5sZW5ndGggPj0gMiAmJiBcbiAgICAgICAgICAgbGluZXMuZXZlcnkobGluZSA9PiBsaW5lLmluY2x1ZGVzKCd8JykpICYmXG4gICAgICAgICAgICEhbGluZXNbMV0/Lm1hdGNoKC9eXFxzKlxcfFtcXHM6LV0rXFx8Lyk7XG4gIH1cblxuICAvLyBcdUQ4M0NcdUREOTUgXHU2REZCXHU1MkEwIE1hcmtkb3duIFx1NkUzMlx1NjdEM1x1NjVCOVx1NkNENVxuICBwcml2YXRlIHJlbmRlck1hcmtkb3duQ29udGVudChjb250YWluZXI6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIFxuICAgIGxldCBjb250ZW50ID0gdW5pdC5mdWxsQ29udGV4dCB8fCB1bml0LmNvbnRlbnQ7XG4gICAgXG4gICAgLy8gXHVEODNDXHVERDk1IFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NEUzQVx1ODg2OFx1NjgzQ1xuICAgIGlmICh0aGlzLmlzVGFibGVDb250ZW50KGNvbnRlbnQpKSB7XG4gICAgICAvLyBcdTYyNEJcdTUyQThcdTZFMzJcdTY3RDNcdTg4NjhcdTY4M0NcbiAgICAgIHRoaXMucmVuZGVyVGFibGVXaXRoSGlnaGxpZ2h0cyhjb250YWluZXIsIGNvbnRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTRGN0ZcdTc1MjggTWFya2Rvd24gXHU2RTMyXHU2N0QzXHU1NjY4XG4gICAgICBjb25zdCB7IE1hcmtkb3duUmVuZGVyZXIgfSA9IHJlcXVpcmUoJ29ic2lkaWFuJyk7XG4gICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC89PShbXj1dKyk9PS9nLCAnPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj4kMTwvc3Bhbj4nKTtcbiAgICAgIE1hcmtkb3duUmVuZGVyZXIucmVuZGVyTWFya2Rvd24oY29udGVudCwgY29udGFpbmVyLCB1bml0LnNvdXJjZS5maWxlLCBudWxsKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFx1RDgzQ1x1REQ5NSBcdTZERkJcdTUyQTBcdTYyNEJcdTUyQThcdTg4NjhcdTY4M0NcdTZFMzJcdTY3RDNcdTY1QjlcdTZDRDVcbnByaXZhdGUgcmVuZGVyVGFibGVXaXRoSGlnaGxpZ2h0cyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBtYXJrZG93bjogc3RyaW5nKTogdm9pZCB7XG4gIFxuICBjb25zdCBsaW5lcyA9IG1hcmtkb3duLnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gIFxuICBjb25zdCB0YWJsZSA9IGNvbnRhaW5lci5jcmVhdGVFbCgndGFibGUnLCB7IGNsczogJ2xlYXJuaW5nLXN5c3RlbS10YWJsZScgfSk7XG4gIFxuICAvLyBcdTg5RTNcdTY3OTBcdTg4NjhcdTU5MzRcbiAgY29uc3QgaGVhZGVyQ2VsbHMgPSBsaW5lc1swXVxuICAgIC5zcGxpdCgnfCcpXG4gICAgLm1hcChjID0+IGMudHJpbSgpKVxuICAgIC5maWx0ZXIoYyA9PiBjKTtcbiAgXG4gIFxuICBjb25zdCB0aGVhZCA9IHRhYmxlLmNyZWF0ZUVsKCd0aGVhZCcpO1xuICBjb25zdCBoZWFkZXJSb3cgPSB0aGVhZC5jcmVhdGVFbCgndHInKTtcbiAgaGVhZGVyQ2VsbHMuZm9yRWFjaCgoY2VsbCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB0aCA9IGhlYWRlclJvdy5jcmVhdGVFbCgndGgnKTtcbiAgICBcbiAgICBpZiAoY2VsbC5pbmNsdWRlcygnPT0nKSkge1xuICAgICAgY29uc3QgcHJvY2Vzc2VkID0gY2VsbC5yZXBsYWNlKFxuICAgICAgICAvPT0oW149XSspPT0vZywgXG4gICAgICAgICc8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxNDAsIDAsIDAuMjUpOyBwYWRkaW5nOiAycHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IGZvbnQtd2VpZ2h0OiA1MDA7XCI+JDE8L3NwYW4+J1xuICAgICAgKTtcbiAgICAgIHRoLmlubmVySFRNTCA9IHByb2Nlc3NlZDtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0aC50ZXh0Q29udGVudCA9IGNlbGw7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIFx1ODlFM1x1Njc5MFx1NjU3MFx1NjM2RVx1ODg0Q1xuICBjb25zdCB0Ym9keSA9IHRhYmxlLmNyZWF0ZUVsKCd0Ym9keScpO1xuICBmb3IgKGxldCBpID0gMjsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgXG4gICAgY29uc3QgY2VsbHMgPSBsaW5lc1tpXVxuICAgICAgLnNwbGl0KCd8JylcbiAgICAgIC5tYXAoYyA9PiBjLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoYyA9PiBjKTtcbiAgICBcbiAgICBpZiAoY2VsbHMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgICBcbiAgICBjb25zdCByb3cgPSB0Ym9keS5jcmVhdGVFbCgndHInKTtcbiAgICBjZWxscy5mb3JFYWNoKChjZWxsLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgdGQgPSByb3cuY3JlYXRlRWwoJ3RkJyk7XG4gICAgICBcbiAgICAgIGlmIChjZWxsLmluY2x1ZGVzKCc9PScpKSB7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGNlbGwucmVwbGFjZShcbiAgICAgICAgICAvPT0oW149XSspPT0vZywgXG4gICAgICAgICAgJzxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE0MCwgMCwgMC4yNSk7IHBhZGRpbmc6IDJweCA0cHg7IGJvcmRlci1yYWRpdXM6IDNweDsgZm9udC13ZWlnaHQ6IDUwMDtcIj4kMTwvc3Bhbj4nXG4gICAgICAgICk7XG4gICAgICAgIHRkLmlubmVySFRNTCA9IHByb2Nlc3NlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRkLnRleHRDb250ZW50ID0gY2VsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbn1cbn1cbiAgXG5cbiAiLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvQ29udGVudExpc3QudHMgICBcdTUxODVcdTVCQjlcdTUyMTdcdTg4NjhcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgVmlld1N0YXRlLCBHcm91cE1vZGUgfSBmcm9tICcuLi9zdGF0cy9WaWV3U3RhdGUnO1xuaW1wb3J0IHsgQ29udGVudENhcmQsIENhcmRDYWxsYmFja3MgfSBmcm9tICcuL0NvbnRlbnRDYXJkJztcbmltcG9ydCB7IHQgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBlZFVuaXRzIHtcbiAgZ3JvdXBLZXk6IHN0cmluZztcbiAgdW5pdHM6IENvbnRlbnRVbml0W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBlZENhcmRzIHtcbiAgZ3JvdXBLZXk6IHN0cmluZztcbiAgY2FyZHM6IEZsYXNoY2FyZFtdO1xufVxuXG5leHBvcnQgY2xhc3MgQ29udGVudExpc3Qge1xuICBwcml2YXRlIHN0YXRlOiBWaWV3U3RhdGU7XG4gIHByaXZhdGUgY2FyZFJlbmRlcmVyOiBDb250ZW50Q2FyZDtcbiAgcHJpdmF0ZSBsYW5ndWFnZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHN0YXRlOiBWaWV3U3RhdGUsIGNhcmRDYWxsYmFja3M6IENhcmRDYWxsYmFja3MsIGxhbmd1YWdlOiBzdHJpbmcgPSAnZW4nKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuY2FyZFJlbmRlcmVyID0gbmV3IENvbnRlbnRDYXJkKHN0YXRlLCBjYXJkQ2FsbGJhY2tzKTtcbiAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG5cbiAgfVxuICBzZXRMYW5ndWFnZShsYW5ndWFnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICB9XG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTdEMjdcdTUxRDFcdTUyMTdcdTg4NjhcdUZGMDhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICovXG4gIHJlbmRlckNvbXBhY3RMaXN0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHVuaXRzOiBDb250ZW50VW5pdFtdKTogdm9pZCB7XG4gICAgLy8gXHUyQjUwIFx1NjI3RVx1NTFGQVx1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVx1NzY4NCB1bml0IElEc1xuICAgIGNvbnN0IGVkaXRpbmdVbml0SWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYWN0LWNhcmRbZGF0YS1lZGl0aW5nPVwidHJ1ZVwiXScpLmZvckVhY2goKGNhcmQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCB1bml0SWQgPSBjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS11bml0LWlkJyk7XG4gICAgICBpZiAodW5pdElkKSB7XG4gICAgICAgIGVkaXRpbmdVbml0SWRzLmFkZCh1bml0SWQpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTJCNTAgXHU0RkREXHU3NTU5XHU2QjYzXHU1NzI4XHU3RjE2XHU4RjkxXHU3Njg0XHU1MzYxXHU3MjQ3IERPTVxuICAgIGNvbnN0IGVkaXRpbmdDYXJkc01hcCA9IG5ldyBNYXA8c3RyaW5nLCBIVE1MRWxlbWVudD4oKTtcbiAgICBlZGl0aW5nVW5pdElkcy5mb3JFYWNoKHVuaXRJZCA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXVuaXQtaWQ9XCIke3VuaXRJZH1cIl1gKTtcbiAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgIGVkaXRpbmdDYXJkc01hcC5zZXQodW5pdElkLCBjYXJkIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgLy8gXHUyQjUwIFx1NTNFQVx1NTIyMFx1OTY2NFx1OTc1RVx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVx1NzY4NFx1NTE0M1x1N0QyMFxuICAgIGNvbnN0IGFsbEVsZW1lbnRzID0gQXJyYXkuZnJvbShjb250YWluZXIuY2hpbGRyZW4pO1xuICAgIGFsbEVsZW1lbnRzLmZvckVhY2goKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgdW5pdElkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnKTtcbiAgICAgIGlmICghdW5pdElkIHx8ICFlZGl0aW5nVW5pdElkcy5oYXModW5pdElkKSkge1xuICAgICAgICBlbC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCAmJiBlZGl0aW5nVW5pdElkcy5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLnJlbmRlckVtcHR5U3RhdGUoY29udGFpbmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIFxuICAgIGNvbnN0IGdyb3VwZWQgPSB0aGlzLmdyb3VwVW5pdHModW5pdHMpO1xuICBcbiAgICBncm91cGVkLmZvckVhY2goKHsgZ3JvdXBLZXksIHVuaXRzOiBncm91cFVuaXRzIH0pID0+IHtcbiAgICAgIGNvbnN0IGdyb3VwRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY29udGVudC1ncm91cCcgfSk7XG4gICAgICB0aGlzLnJlbmRlckdyb3VwSGVhZGVyKGdyb3VwRWwsIGdyb3VwS2V5LCBncm91cFVuaXRzLmxlbmd0aCk7XG4gIFxuICAgICAgZ3JvdXBVbml0cy5mb3JFYWNoKHVuaXQgPT4ge1xuICAgICAgICAvLyBcdTJCNTAgXHU1OTgyXHU2NzlDXHU2NzA5XHU0RkREXHU1QjU4XHU3Njg0XHU3RjE2XHU4RjkxXHU0RTJEXHU1MzYxXHU3MjQ3XHVGRjBDXHU3NkY0XHU2M0E1XHU5MUNEXHU3NTI4XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQ2FyZCA9IGVkaXRpbmdDYXJkc01hcC5nZXQodW5pdC5pZCk7XG4gICAgICAgIGlmIChleGlzdGluZ0NhcmQpIHtcbiAgICAgICAgICBncm91cEVsLmFwcGVuZENoaWxkKGV4aXN0aW5nQ2FyZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jYXJkUmVuZGVyZXIucmVuZGVyQ29tcGFjdChncm91cEVsLCB1bml0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gKiBcdTZFMzJcdTY3RDNcdTdEMjdcdTUxRDFcdTUyMTdcdTg4NjhcdUZGMDhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEYgLSBcdTRFMERcdTUyMDZcdTdFQzRcdUZGMDlcbiAqL1xucmVuZGVyQ29tcGFjdExpc3RXaXRob3V0R3JvdXBpbmcoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdW5pdHM6IENvbnRlbnRVbml0W10pOiB2b2lkIHtcbiAgY29uc3QgZXhpc3RpbmdDYXJkcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFjdC1jYXJkLCAuZ3JvdXAtc2VjdGlvbiwgLmVtcHR5LXN0YXRlJyk7XG4gIGV4aXN0aW5nQ2FyZHMuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMucmVuZGVyRW1wdHlTdGF0ZShjb250YWluZXIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFx1MkI1MCBcdTc2RjRcdTYzQTVcdTZFMzJcdTY3RDNcdUZGMENcdTRFMERcdTUyMDZcdTdFQzRcbiAgdW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICB0aGlzLmNhcmRSZW5kZXJlci5yZW5kZXJDb21wYWN0KGNvbnRhaW5lciwgdW5pdCk7XG4gIH0pO1xufVxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XHU3RjUxXHU2ODNDXHVGRjA4XHU0RTNCXHU3NTRDXHU5NzYyXHU2QTIxXHU1RjBGXHVGRjA5XG4gICAqL1xuICByZW5kZXJDb250ZW50R3JpZChjb250YWluZXI6IEhUTUxFbGVtZW50LCB1bml0czogQ29udGVudFVuaXRbXSk6IHZvaWQge1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5yZW5kZXJFbXB0eVN0YXRlKGNvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgIHRoaXMuY2FyZFJlbmRlcmVyLnJlbmRlckdyaWQoY29udGFpbmVyLCB1bml0KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTk1RUFcdTUzNjFcdTdGNTFcdTY4M0NcbiAgICovXG4gIHJlbmRlckZsYXNoY2FyZHNHcmlkKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhcmRzOiBGbGFzaGNhcmRbXSk6IHZvaWQge1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgaWYgKGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdih7IFxuICAgICAgICB0ZXh0OiB0KCdjb250ZW50TGlzdC5lbXB0eS5ub0ZsYXNoY2FyZHMnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSksXG4gICAgICAgIGNsczogJ2VtcHR5LXN0YXRlJyBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICB0aGlzLmNhcmRSZW5kZXJlci5yZW5kZXJGbGFzaGNhcmRHcmlkKGNvbnRhaW5lciwgY2FyZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MjA2XHU3RUM0XHU3QjE0XHU4QkIwXHU1MzU1XHU1MTQzXG4gICAqL1xuICBncm91cFVuaXRzKHVuaXRzOiBDb250ZW50VW5pdFtdKTogR3JvdXBlZFVuaXRzW10ge1xuICAgIGNvbnN0IGdyb3VwZWQgPSBuZXcgTWFwPHN0cmluZywgQ29udGVudFVuaXRbXT4oKTtcblxuICAgIHVuaXRzLmZvckVhY2godW5pdCA9PiB7XG4gICAgICBjb25zdCBrZXlzID0gdGhpcy5nZXRHcm91cEtleXModW5pdCk7XG4gICAgICBcbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAoIWdyb3VwZWQuaGFzKGtleSkpIHtcbiAgICAgICAgICBncm91cGVkLnNldChrZXksIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBncm91cGVkLmdldChrZXkpIS5wdXNoKHVuaXQpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5zb3J0R3JvdXBzKGdyb3VwZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NTIwNlx1N0VDNFx1OTVFQVx1NTM2MVxuICAgKi9cbiAgZ3JvdXBGbGFzaGNhcmRzKFxuICAgIGNhcmRzOiBGbGFzaGNhcmRbXSwgXG4gICAgZ2V0VW5pdDogKGNhcmRJZDogc3RyaW5nKSA9PiBDb250ZW50VW5pdCB8IHVuZGVmaW5lZFxuICApOiBHcm91cGVkQ2FyZHNbXSB7XG4gICAgY29uc3QgZ3JvdXBlZCA9IG5ldyBNYXA8c3RyaW5nLCBGbGFzaGNhcmRbXT4oKTtcbiAgICBjb25zdCBhbm5vdGF0ZWRLZXkgPSB0KCdjb250ZW50TGlzdC5ncm91cC5hbm5vdGF0ZWQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSk7XG4gIFxuICAgIGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICBjb25zdCB1bml0ID0gZ2V0VW5pdChjYXJkLnNvdXJjZUNvbnRlbnRJZCk7XG4gICAgICBjb25zdCBrZXlzID0gdGhpcy5nZXRGbGFzaGNhcmRHcm91cEtleXMoY2FyZCwgdW5pdCk7XG4gICAgICBcbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAoIWdyb3VwZWQuaGFzKGtleSkpIHtcbiAgICAgICAgICBncm91cGVkLnNldChrZXksIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBncm91cGVkLmdldChrZXkpIS5wdXNoKGNhcmQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIFxuICAgIHJldHVybiBBcnJheS5mcm9tKGdyb3VwZWQuZW50cmllcygpKVxuICAgICAgLm1hcCgoW2dyb3VwS2V5LCBjYXJkc10pID0+ICh7IGdyb3VwS2V5LCBjYXJkcyB9KSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2Fubm90YXRpb24nKSB7XG4gICAgICAgICAgaWYgKGEuZ3JvdXBLZXkgPT09IGFubm90YXRlZEtleSkgcmV0dXJuIC0xO1xuICAgICAgICAgIGlmIChiLmdyb3VwS2V5ID09PSBhbm5vdGF0ZWRLZXkpIHJldHVybiAxO1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgcmV0dXJuIGIuZ3JvdXBLZXkubG9jYWxlQ29tcGFyZShhLmdyb3VwS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYi5jYXJkcy5sZW5ndGggLSBhLmNhcmRzLmxlbmd0aDtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NTM1NVx1NTE0M1x1NzY4NFx1NTIwNlx1N0VDNFx1OTUyRVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRHcm91cEtleXModW5pdDogQ29udGVudFVuaXQpOiBzdHJpbmdbXSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmdyb3VwTW9kZSkge1xuICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgIHJldHVybiBbdW5pdC5zb3VyY2UuZmlsZV07XG4gICAgICBcbiAgICAgIGNhc2UgJ2Fubm90YXRpb24nOlxuICAgICAgICByZXR1cm4gW3VuaXQuYW5ub3RhdGlvbklkIFxuICAgICAgICAgID8gdCgnY29udGVudExpc3QuZ3JvdXAuYW5ub3RhdGVkJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXG4gICAgICAgICAgOiB0KCdjb250ZW50TGlzdC5ncm91cC5ub3RBbm5vdGF0ZWQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSlcbiAgICAgICAgXTtcbiAgICAgIFxuICAgICAgY2FzZSAndGFnJzpcbiAgICAgICAgcmV0dXJuIHVuaXQubWV0YWRhdGEudGFncy5sZW5ndGggPiAwIFxuICAgICAgICAgID8gdW5pdC5tZXRhZGF0YS50YWdzIFxuICAgICAgICAgIDogW3QoJ2dyb3VwLnVuY2F0ZWdvcml6ZWQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSldO1xuICAgICAgXG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgcmV0dXJuIFt0aGlzLmZvcm1hdERhdGUobmV3IERhdGUodW5pdC5tZXRhZGF0YS5jcmVhdGVkQXQpKV07XG4gICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBbdCgnZ3JvdXAudW5jYXRlZ29yaXplZCcsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KV07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1OTVFQVx1NTM2MVx1NzY4NFx1NTIwNlx1N0VDNFx1OTUyRVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRGbGFzaGNhcmRHcm91cEtleXMoY2FyZDogRmxhc2hjYXJkLCB1bml0PzogQ29udGVudFVuaXQpOiBzdHJpbmdbXSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmdyb3VwTW9kZSkge1xuICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgIHJldHVybiBbY2FyZC5zb3VyY2VGaWxlXTtcbiAgICAgIFxuICAgICAgY2FzZSAnYW5ub3RhdGlvbic6XG4gICAgICAgIGlmICh1bml0ICYmIHVuaXQuYW5ub3RhdGlvbklkKSB7XG4gICAgICAgICAgcmV0dXJuIFt0KCdjb250ZW50TGlzdC5ncm91cC5hbm5vdGF0ZWQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbdCgnY29udGVudExpc3QuZ3JvdXAubm90QW5ub3RhdGVkJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXTtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICBjYXNlICd0YWcnOlxuICAgICAgICBpZiAodW5pdCAmJiB1bml0Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB1bml0Lm1ldGFkYXRhLnRhZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FyZC50YWdzICYmIGNhcmQudGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNhcmQudGFncztcbiAgICAgICAgfSBlbHNlIGlmIChjYXJkLmRlY2spIHtcbiAgICAgICAgICByZXR1cm4gW2NhcmQuZGVja107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFt0KCdncm91cC51bmNhdGVnb3JpemVkJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXTtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgcmV0dXJuIFt0aGlzLmZvcm1hdERhdGUobmV3IERhdGUoY2FyZC5tZXRhZGF0YS5jcmVhdGVkQXQpKV07XG4gICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBbdCgnZ3JvdXAudW5jYXRlZ29yaXplZCcsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KV07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NjM5Mlx1NUU4Rlx1NTIwNlx1N0VDNFxuICAgKi9cbiAgcHJpdmF0ZSBzb3J0R3JvdXBzKGdyb3VwZWQ6IE1hcDxzdHJpbmcsIENvbnRlbnRVbml0W10+KTogR3JvdXBlZFVuaXRzW10ge1xuICAgIGNvbnN0IGFubm90YXRlZEtleSA9IHQoJ2NvbnRlbnRMaXN0Lmdyb3VwLmFubm90YXRlZCcsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KTtcbiAgICBcbiAgICByZXR1cm4gQXJyYXkuZnJvbShncm91cGVkLmVudHJpZXMoKSlcbiAgICAgIC5tYXAoKFtncm91cEtleSwgdW5pdHNdKSA9PiAoeyBncm91cEtleSwgdW5pdHMgfSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdhbm5vdGF0aW9uJykge1xuICAgICAgICAgIGlmIChhLmdyb3VwS2V5ID09PSBhbm5vdGF0ZWRLZXkpIHJldHVybiAtMTtcbiAgICAgICAgICBpZiAoYi5ncm91cEtleSA9PT0gYW5ub3RhdGVkS2V5KSByZXR1cm4gMTtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdkYXRlJykge1xuICAgICAgICAgIHJldHVybiBiLmdyb3VwS2V5LmxvY2FsZUNvbXBhcmUoYS5ncm91cEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGIudW5pdHMubGVuZ3RoIC0gYS51bml0cy5sZW5ndGg7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTUyMDZcdTdFQzRcdTU5MzRcdTkwRThcbiAgICovXG4gIHByaXZhdGUgcmVuZGVyR3JvdXBIZWFkZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZ3JvdXBLZXk6IHN0cmluZywgY291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGhlYWRlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdncm91cC1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiB0aGlzLmdldEdyb3VwSWNvbih0aGlzLnN0YXRlLmdyb3VwTW9kZSksIFxuICAgICAgY2xzOiAnZ3JvdXAtaWNvbicgXG4gICAgfSk7XG4gICAgaGVhZGVyLmNyZWF0ZVNwYW4oeyB0ZXh0OiBncm91cEtleSwgY2xzOiAnZ3JvdXAtdGl0bGUnIH0pO1xuICAgIGhlYWRlci5jcmVhdGVTcGFuKHsgdGV4dDogYCR7Y291bnR9YCwgY2xzOiAnZ3JvdXAtY291bnQnIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1N0E3QVx1NzJCNlx1NjAwMVxuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXJFbXB0eVN0YXRlKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBlbXB0eURpdiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdlbXB0eS1zdGF0ZScgfSk7XG4gICAgXG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlICYmIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgZW1wdHlEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDMycHg7IG1hcmdpbi1ib3R0b206IDEwcHg7XCI+XHVEODNEXHVEQ0VEPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj4ke3QoJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vTm90ZXMnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSl9PC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTJweDsgY29sb3I6IHZhcigtLXRleHQtZmFpbnQpOyBtYXJnaW4tdG9wOiA4cHg7XCI+XG4gICAgICAgICAgICAke3RoaXMuc3RhdGUuZmlsdGVyTW9kZSAhPT0gJ2FsbCcgXG4gICAgICAgICAgICAgID8gdCgnY29udGVudExpc3QuZW1wdHkudHJ5RmlsdGVyJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXG4gICAgICAgICAgICAgIDogdCgnY29udGVudExpc3QuZW1wdHkuc3RhcnRIaWdobGlnaHQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbXB0eURpdi50ZXh0Q29udGVudCA9IHQoJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vQ29udGVudCcsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MjA2XHU3RUM0XHU1NkZFXHU2ODA3XG4gICAqL1xuICBwcml2YXRlIGdldEdyb3VwSWNvbihtb2RlOiBHcm91cE1vZGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgY2FzZSAnZmlsZSc6IHJldHVybiAnXHVEODNEXHVEQ0M0JztcbiAgICAgIGNhc2UgJ2Fubm90YXRpb24nOiByZXR1cm4gJ1x1RDgzRFx1RENBQyc7XG4gICAgICBjYXNlICd0YWcnOiByZXR1cm4gJ1x1RDgzQ1x1REZGN1x1RkUwRic7XG4gICAgICBjYXNlICdkYXRlJzogcmV0dXJuICdcdUQ4M0RcdURDQzUnO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdcdUQ4M0RcdURDQzEnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTY4M0NcdTVGMEZcdTUzMTZcdTY1RTVcdTY3MUZcbiAgICovXG4gIHByaXZhdGUgZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICAgIGRheTogJzItZGlnaXQnXG4gICAgfSk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvQW5ub3RhdGlvbkVkaXRvci50cyAgICBcdTYyNzlcdTZDRThcdTdGMTZcdThGOTFcdTU2NjhcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcyB7XG4gIG9uU2F2ZTogKHVuaXRJZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIG9uQ2FuY2VsOiAodW5pdElkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGdldEFubm90YXRpb25Db250ZW50OiAodW5pdElkOiBzdHJpbmcpID0+IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgb25Bbm5vdGF0aW9uQ29tcGxldGVkPzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25FZGl0b3Ige1xuICBwcml2YXRlIGNhbGxiYWNrczogQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcztcbiAgcHJpdmF0ZSBhY3RpdmVFZGl0b3JzOiBNYXA8c3RyaW5nLCBIVE1MRWxlbWVudD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgdG9nZ2xlTG9jazogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBwcml2YXRlIGlzT3BlbmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgY29uc3RydWN0b3IoY2FsbGJhY2tzOiBBbm5vdGF0aW9uRWRpdG9yQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gIH1cblxuLyoqXG4gKiBcdTUyMDdcdTYzNjJcdTUxODVcdTgwNTRcdTYyNzlcdTZDRThcdTdGMTZcdThGOTFcdTU2NjhcbiAqL1xudG9nZ2xlKGNhcmRFbDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gIGlmICh0aGlzLmlzT3BlbmluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IGxhc3RUb2dnbGUgPSB0aGlzLnRvZ2dsZUxvY2suZ2V0KHVuaXQuaWQpIHx8IDA7XG4gIFxuICAvLyBcdTJCNTAgXHU0RkVFXHU2NTM5XHVGRjFBXHU1M0VBXHU1QkY5XHU1NDBDXHU0RTAwXHU0RTJBIHVuaXQgXHU4RkRCXHU4ODRDXHU5NjMyXHU2Mjk2XHVGRjBDXHU0RTBEXHU1NDBDIHVuaXQgXHU1M0VGXHU0RUU1XHU3QUNCXHU1MzczXHU1MjA3XHU2MzYyXG4gIGlmIChub3cgLSBsYXN0VG9nZ2xlIDwgMjAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy50b2dnbGVMb2NrLnNldCh1bml0LmlkLCBub3cpO1xuICBcblxuICAvLyBcdTJCNTAgXHU0RjdGXHU3NTI4XHU2NkY0XHU0RTI1XHU2ODNDXHU3Njg0XHU2OEMwXHU2N0U1XG4gIGNvbnN0IGV4aXN0aW5nRWRpdG9yID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKTtcbiAgY29uc3QgaXNDdXJyZW50RWRpdGluZyA9ICEhZXhpc3RpbmdFZGl0b3I7XG4gIFxuICBcbiAgaWYgKGlzQ3VycmVudEVkaXRpbmcpIHtcbiAgICB0aGlzLmNsb3NlKGNhcmRFbCwgdW5pdCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gXHUyQjUwIFx1NkUwNVx1NzQwNlx1NkI4Qlx1NzU1OVx1OTg4NFx1ODlDOFxuICBjb25zdCBjb250ZW50ID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQsIC5ncmlkLWNhcmQtY29udGVudCcpO1xuICBjb25zdCBvbGRQcmV2aWV3cyA9IGNvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbm5vdGF0aW9uLXByZXZpZXcsIC5ncmlkLWFubm90YXRpb24nKTtcbiAgaWYgKG9sZFByZXZpZXdzICYmIG9sZFByZXZpZXdzLmxlbmd0aCA+IDApIHtcbiAgICBvbGRQcmV2aWV3cy5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgfVxuXG4gIC8vIFx1MkI1MCBcdTRGRUVcdTY1MzlcdUZGMUFcdTUxNDhcdTUxNzNcdTk1RURcdTUxNzZcdTRFRDZcdTdGMTZcdThGOTFcdTU2NjhcdUZGMENcdTUxOERcdTVGMDJcdTZCNjVcdTYyNTNcdTVGMDBcdTY1QjBcdTdGMTZcdThGOTFcdTU2NjhcbiAgdGhpcy5jbG9zZUFsbE90aGVycyh1bml0LmlkKTtcbiAgXG4gIC8vIFx1MkI1MCBcdTRGN0ZcdTc1MjggcmVxdWVzdEFuaW1hdGlvbkZyYW1lIFx1Nzg2RVx1NEZERFx1NTE3M1x1OTVFRFx1NjRDRFx1NEY1Q1x1NUI4Q1x1NjIxMFx1NTQwRVx1NTE4RFx1NjI1M1x1NUYwMFxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHRoaXMub3BlbihjYXJkRWwsIHVuaXQpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBcdTUxNzNcdTk1RURcdTk2NjRcdTYzMDdcdTVCOUEgdW5pdElkIFx1NTkxNlx1NzY4NFx1NjI0MFx1NjcwOVx1N0YxNlx1OEY5MVx1NTY2OFxuICovXG5wcml2YXRlIGNsb3NlQWxsT3RoZXJzKGN1cnJlbnRVbml0SWQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBhbGxFZGl0aW5nQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0aW5nPVwidHJ1ZVwiXScpO1xuICBcbiAgaWYgKGFsbEVkaXRpbmdDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgXG4gICAgYWxsRWRpdGluZ0NhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IHVuaXRJZCA9IGNhcmQuZ2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnKTtcbiAgICAgIGlmICh1bml0SWQgJiYgdW5pdElkICE9PSBjdXJyZW50VW5pdElkKSB7XG4gICAgICAgIGNvbnN0IHVuaXQgPSB7IGlkOiB1bml0SWQgfSBhcyBDb250ZW50VW5pdDtcbiAgICAgICAgdGhpcy5jbG9zZShjYXJkIGFzIEhUTUxFbGVtZW50LCB1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFx1NjI1M1x1NUYwMFx1N0YxNlx1OEY5MVx1NTY2OFxuICovXG5wcml2YXRlIG9wZW4oY2FyZEVsOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgdGhpcy5pc09wZW5pbmcgPSB0cnVlO1xuICBcbiAgXG4gIGNhcmRFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdGluZycsICd0cnVlJyk7XG4gIFxuICBjb25zdCBhbm5vdGF0aW9uQ29udGVudCA9IHRoaXMuY2FsbGJhY2tzLmdldEFubm90YXRpb25Db250ZW50KHVuaXQuaWQpO1xuICBjb25zdCBjb250ZW50ID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQsIC5ncmlkLWNhcmQtY29udGVudCcpIGFzIEhUTUxFbGVtZW50O1xuICBcbiAgY29uc3QgZXhpc3RpbmdQcmV2aWV3cyA9IGNvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbm5vdGF0aW9uLXByZXZpZXcsIC5ncmlkLWFubm90YXRpb24nKTtcbiAgZXhpc3RpbmdQcmV2aWV3cz8uZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gIFxuICBjb25zdCBleGlzdGluZ0VkaXRvcnMgPSBjb250ZW50Py5xdWVyeVNlbGVjdG9yQWxsKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJyk7XG4gIGV4aXN0aW5nRWRpdG9ycz8uZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gIFxuICBjb25zdCBlZGl0b3IgPSB0aGlzLmNyZWF0ZUVkaXRvcih1bml0LmlkLCBhbm5vdGF0aW9uQ29udGVudCB8fCAnJyk7XG4gIFxuICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3IoJy5ub3RlLXRleHQsIC5ncmlkLW5vdGUtdGV4dCcpIGFzIEhUTUxFbGVtZW50O1xuICBpZiAobm90ZVRleHQpIHtcbiAgICBub3RlVGV4dC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgZWRpdG9yKTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZW50Py5hcHBlbmRDaGlsZChlZGl0b3IpO1xuICB9XG4gIFxuXG4gIGNvbnN0IHRleHRhcmVhID0gZWRpdG9yLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcblxuICAvLyBcdTJCNTAgXHU1RUY2XHU4RkRGXHU4MDVBXHU3MTI2LFx1Nzg2RVx1NEZERCBET00gXHU1QjhDXHU1MTY4XHU2RTMyXHU2N0QzXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRleHRhcmVhLmZvY3VzKCk7XG4gICAgICB0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSh0ZXh0YXJlYS52YWx1ZS5sZW5ndGgsIHRleHRhcmVhLnZhbHVlLmxlbmd0aCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRoaXMuYWN0aXZlRWRpdG9ycy5zZXQodW5pdC5pZCwgZWRpdG9yKTtcbiAgXG4gIFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0aGlzLmlzT3BlbmluZyA9IGZhbHNlO1xuICB9LCAyMDApO1xuICBcbn1cbiAgLyoqXG4gICAqIFx1NTE3M1x1OTVFRFx1N0YxNlx1OEY5MVx1NTY2OFxuICAgKi9cblxuICBwcml2YXRlIGNsb3NlKGNhcmRFbDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgXG4gICAgY29uc3QgZWRpdG9yID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoIWVkaXRvcikge1xuICAgICAgY2FyZEVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1lZGl0aW5nJyk7XG4gICAgICB0aGlzLmFjdGl2ZUVkaXRvcnMuZGVsZXRlKHVuaXQuaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgXG4gICAgZWRpdG9yLnJlbW92ZSgpO1xuICAgIHRoaXMuYWN0aXZlRWRpdG9ycy5kZWxldGUodW5pdC5pZCk7XG4gICAgY2FyZEVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1lZGl0aW5nJyk7XG4gIFxuICAgIC8vIFx1MkI1MCBcdTRGRUVcdTY1Mzk6XHU3QUNCXHU1MzczXHU5MUNEXHU1RUZBXHU5ODg0XHU4OUM4LFx1NEUwRFx1NEY3Rlx1NzUyOCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICBjb25zdCBhbm5vdGF0aW9uQ29udGVudCA9IHRoaXMuY2FsbGJhY2tzLmdldEFubm90YXRpb25Db250ZW50KHVuaXQuaWQpO1xuICAgIGlmIChhbm5vdGF0aW9uQ29udGVudCkge1xuICAgICAgY29uc3QgY29udGVudCA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250ZW50LCAuZ3JpZC1jYXJkLWNvbnRlbnQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIFxuICAgICAgLy8gXHUyQjUwIFx1NTE0OFx1NkUwNVx1NzQwNlx1NjVFN1x1OTg4NFx1ODlDOFxuICAgICAgY29uc3Qgb2xkUHJldmlldyA9IGNvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3IoJy5hbm5vdGF0aW9uLXByZXZpZXcsIC5ncmlkLWFubm90YXRpb24nKTtcbiAgICAgIGlmIChvbGRQcmV2aWV3KSB7XG4gICAgICAgIG9sZFByZXZpZXcucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFx1MkI1MCBcdTdBQ0JcdTUzNzNcdTUyMUJcdTVFRkFcdTY1QjBcdTk4ODRcdTg5QzhcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMucmVjcmVhdGVQcmV2aWV3KGNvbnRlbnQsIGNhcmRFbCwgdW5pdCwgYW5ub3RhdGlvbkNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4vKipcbiAqIFx1NTIxQlx1NUVGQVx1N0YxNlx1OEY5MVx1NTY2OFx1NTE0M1x1N0QyMFxuICovXG5wcml2YXRlIGNyZWF0ZUVkaXRvcih1bml0SWQ6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IGVkaXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlZGl0b3IuY2xhc3NOYW1lID0gJ2lubGluZS1hbm5vdGF0aW9uLWVkaXRvcic7XG4gIFxuXG5cbiAgY29uc3QgdGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICB0ZXh0YXJlYS5jbGFzc05hbWUgPSAnaW5saW5lLWFubm90YXRpb24tdGV4dGFyZWEnO1xuICB0ZXh0YXJlYS5wbGFjZWhvbGRlciA9ICdBZGQgY29tbWVudC4uLic7XG4gIHRleHRhcmVhLnZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdW5pdC1pZCcsIHVuaXRJZCk7XG4gIFxuICBjb25zdCBoaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGhpbnQuY2xhc3NOYW1lID0gJ2lubGluZS1hbm5vdGF0aW9uLWhpbnQnO1xuICBoaW50LnRleHRDb250ZW50ID0gJ1NoaWZ0ICsgRW50ZXIgdG8gaW5zZXJ0IGEgbmV3IGxpbmUnO1xuICBcbiAgZWRpdG9yLmFwcGVuZENoaWxkKHRleHRhcmVhKTtcbiAgZWRpdG9yLmFwcGVuZENoaWxkKGhpbnQpO1xuICAgIC8vIFx1MkI1MCBcdTc2RDFcdTYzQTdcdTY4MzdcdTVGMEZcdTg4QUJcdTRGRUVcdTY1MzlcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJiBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignXHVEODNEXHVERUE4IFtFZGl0b3JdIFN0eWxlIHdhcyBtb2RpZmllZCEnLCB7XG4gICAgICAgICAgICBvbGRWYWx1ZTogbXV0YXRpb24ub2xkVmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZTogZWRpdG9yLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSxcbiAgICAgICAgICAgIHN0YWNrOiBuZXcgRXJyb3IoKS5zdGFja1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVkaXRvciwge1xuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ3N0eWxlJ11cbiAgICB9KTtcblxuICBcbiAgLy8gXHU3RUQxXHU1QjlBXHU1MTc2XHU0RUQ2XHU0RThCXHU0RUY2XG4gIHRoaXMuYmluZEVkaXRvckV2ZW50cyh0ZXh0YXJlYSwgdW5pdElkKTtcblxuICByZXR1cm4gZWRpdG9yO1xufVxuXG5cbi8qKlxuICogXHU3RUQxXHU1QjlBXHU3RjE2XHU4RjkxXHU1NjY4XHU0RThCXHU0RUY2XG4gKi9cbnByaXZhdGUgYmluZEVkaXRvckV2ZW50cyh0ZXh0YXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCwgdW5pdElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgLy8gXHUyQjUwIFx1NEZERFx1NUI1OCBibHVyIFx1NTkwNFx1NzQwNlx1NTY2OFx1NzY4NFx1NUYxNVx1NzUyOFx1RkYwQ1x1NEVFNVx1NEZCRlx1NTcyOCBUYWIgXHU2NUY2XHU3OUZCXHU5NjY0XG4gIGNvbnN0IGJsdXJIYW5kbGVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcbiAgICBcbiAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZS5yZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGVkaXRvciA9IHRleHRhcmVhLmNsb3Nlc3QoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBjYXJkID0gZWRpdG9yPy5jbG9zZXN0KCcuY29tcGFjdC1jYXJkLCAuZ3JpZC1jYXJkJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU3MTI2XHU3MEI5XHU2NjJGXHU1NDI2XHU3OUZCXHU1MjMwXHU3RjE2XHU4RjkxXHU1NjY4XHU1OTE2XHU5MEU4XG4gICAgaWYgKCFyZWxhdGVkVGFyZ2V0IHx8ICFlZGl0b3I/LmNvbnRhaW5zKHJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGVkaXRvcj8ucGFyZW50RWxlbWVudCAmJiBjYXJkKSB7XG4gICAgICAgICAgY29uc3QgdHJpbW1lZFRleHQgPSB0ZXh0YXJlYS52YWx1ZS50cmltKCk7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdElkKSB8fCAnJztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBcdTUzRUFcdTY3MDlcdTUxODVcdTVCQjlcdTUzRDFcdTc1MUZcdTUzRDhcdTUzMTZcdTY1RjZcdTYyNERcdTRGRERcdTVCNThcbiAgICAgICAgICBpZiAodHJpbW1lZFRleHQgIT09IG9yaWdpbmFsQ29udGVudCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsYmFja3Mub25TYXZlKHVuaXRJZCwgdHJpbW1lZFRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB1bml0ID0geyBpZDogdW5pdElkIH0gYXMgQ29udGVudFVuaXQ7XG4gICAgICAgICAgdGhpcy5jbG9zZShjYXJkLCB1bml0KTtcbiAgICAgICAgfVxuICAgICAgfSwgMTUwKTtcbiAgICB9XG4gIH07XG4gIFxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXIpO1xuXG4gIC8vIFRhYiBcdTk1MkVcdTRGRERcdTVCNThcbiAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGFzeW5jIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgKHRleHRhcmVhIGFzIGFueSkuX3RhYlByZXNzZWQgPSB0cnVlO1xuICAgICAgY29uc3QgZWRpdG9yID0gdGV4dGFyZWEuY2xvc2VzdCgnLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgY2FyZCA9IGVkaXRvcj8uY2xvc2VzdCgnLmNvbXBhY3QtY2FyZCwgLmdyaWQtY2FyZCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgXG4gICAgICBpZiAoZWRpdG9yICYmIGNhcmQpIHtcbiAgICAgICAgLy8gXHUyQjUwIFx1NTE3M1x1OTUyRVx1RkYxQVx1NTcyOCByZW1vdmUgXHU1MjREXHU3OUZCXHU5NjY0IGJsdXIgXHU3NkQxXHU1NDJDXHU1NjY4XHVGRjBDXHU1RjdCXHU1RTk1XHU5NjNCXHU2QjYyXHU5MUNEXHU1OTBEXHU4OUU2XHU1M0QxXG4gICAgICAgIHRleHRhcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBibHVySGFuZGxlcik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0cmltbWVkVGV4dCA9IHRleHRhcmVhLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdElkKSB8fCAnJztcbiAgICAgICAgZWRpdG9yLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmFjdGl2ZUVkaXRvcnMuZGVsZXRlKHVuaXRJZCk7XG4gICAgICAgIGNhcmQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NTNFQVx1NjcwOVx1NTE4NVx1NUJCOVx1NjUzOVx1NTNEOFx1NjVGNlx1NjI0RFx1NEZERFx1NUI1OFxuICAgICAgICBpZiAodHJpbW1lZFRleHQgIT09IG9yaWdpbmFsQ29udGVudCkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbGJhY2tzLm9uU2F2ZSh1bml0SWQsIHRyaW1tZWRUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gXHU2NkY0XHU2NUIwXHU5ODg0XHU4OUM4XHU1NDhDXHU2MzA3XHU3OTNBXHU1NjY4XG4gICAgICAgIGlmICh0cmltbWVkVGV4dCkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQsIC5ncmlkLWNhcmQtY29udGVudCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBsYXRlc3RDb250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdElkKTtcbiAgICAgICAgICAgIGlmIChsYXRlc3RDb250ZW50KSB7XG4gICAgICAgICAgICAgIHRoaXMucmVjcmVhdGVQcmV2aWV3KGNvbnRlbnQsIGNhcmQsIHsgaWQ6IHVuaXRJZCB9IGFzIENvbnRlbnRVbml0LCBsYXRlc3RDb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1pbmRpY2F0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChpbmRpY2F0b3IgJiYgIWluZGljYXRvci5jbGFzc0xpc3QuY29udGFpbnMoJ2hhcy1hbm5vdGF0aW9uJykpIHtcbiAgICAgICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2hhcy1hbm5vdGF0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9IGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtaW5kaWNhdG9yJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKGluZGljYXRvciAmJiBpbmRpY2F0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtYW5ub3RhdGlvbicpKSB7XG4gICAgICAgICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGFzLWFubm90YXRpb24nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gXHU5NjNCXHU2QjYyXHU0RThCXHU0RUY2XHU1MTkyXHU2Q0UxXG4gIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIFxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG59XG4gIC8qKlxuICAgKiBcdTRGRERcdTVCNThcdTYyNzlcdTZDRThcbiAgICovXG4gIC8vIHByaXZhdGUgYXN5bmMgc2F2ZShlZGl0b3JFbDogSFRNTEVsZW1lbnQsIHVuaXRJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBcbiAgLy8gICBjb25zdCB0cmltbWVkVGV4dCA9IHRleHQudHJpbSgpO1xuICAvLyAgIGNvbnN0IG9yaWdpbmFsQ29udGVudCA9IHRoaXMuY2FsbGJhY2tzLmdldEFubm90YXRpb25Db250ZW50KHVuaXRJZCkgfHwgJyc7XG5cbiAgLy8gICBjb25zdCBoYXNDaGFuZ2VkID0gdHJpbW1lZFRleHQgIT09IG9yaWdpbmFsQ29udGVudDtcbiAgXG4gIC8vICAgaWYgKGhhc0NoYW5nZWQpIHtcbiAgLy8gICAgIGF3YWl0IHRoaXMuY2FsbGJhY2tzLm9uU2F2ZSh1bml0SWQsIHRyaW1tZWRUZXh0KTtcbiAgICAgIFxuICAvLyAgIH1cbiAgICBcbiAgLy8gICBjb25zdCBjYXJkID0gZWRpdG9yRWwuY2xvc2VzdCgnLmNvbXBhY3QtY2FyZCwgLmdyaWQtY2FyZCcpIGFzIEhUTUxFbGVtZW50O1xuICAvLyAgIGVkaXRvckVsLnJlbW92ZSgpO1xuICAvLyAgIHRoaXMuYWN0aXZlRWRpdG9ycy5kZWxldGUodW5pdElkKTtcbiAgICBcblxuICAgIFxuICAvLyAgIGlmICh0cmltbWVkVGV4dCAmJiBjYXJkKSB7XG4gIC8vICAgICBjb25zdCBjb250ZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250ZW50LCAuZ3JpZC1jYXJkLWNvbnRlbnQnKSBhcyBIVE1MRWxlbWVudDtcbiAgLy8gICAgIGlmIChjb250ZW50KSB7XG4gIC8vICAgICAgIC8vIFx1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1ODNCN1x1NTNENlx1NjcwMFx1NjVCMFx1NzY4NFx1NjI3OVx1NkNFOFx1NTE4NVx1NUJCOVxuICAvLyAgICAgICBjb25zdCBsYXRlc3RDb250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdElkKTtcbiAgLy8gICAgICAgaWYgKGxhdGVzdENvbnRlbnQpIHtcbiAgLy8gICAgICAgICAvLyBcdTk3MDBcdTg5ODFcdTRGMjBcdTUxNjVcdTVCOENcdTY1NzRcdTc2ODQgQ29udGVudFVuaXRcdUZGMENcdThGRDlcdTkxQ0NcdTdCODBcdTUzMTZcdTU5MDRcdTc0MDZcbiAgLy8gICAgICAgICB0aGlzLnJlY3JlYXRlUHJldmlldyhjb250ZW50LCBjYXJkLCB7IGlkOiB1bml0SWQgfSBhcyBDb250ZW50VW5pdCwgbGF0ZXN0Q29udGVudCk7XG4gIC8vICAgICAgIH1cbiAgICAgICAgXG4gIC8vICAgICAgIC8vIFx1NjZGNFx1NjVCMCBpbmRpY2F0b3JcbiAgLy8gICAgICAgY29uc3QgaW5kaWNhdG9yID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1pbmRpY2F0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgLy8gICAgICAgaWYgKGluZGljYXRvciAmJiAhaW5kaWNhdG9yLmNsYXNzTGlzdC5jb250YWlucygnaGFzLWFubm90YXRpb24nKSkge1xuICAvLyAgICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdoYXMtYW5ub3RhdGlvbicpO1xuICAvLyAgICAgICB9XG4gIC8vICAgICB9XG4gIC8vICAgfSBlbHNlIGlmICghdHJpbW1lZFRleHQgJiYgY2FyZCkge1xuICAvLyAgICAgY29uc3QgaW5kaWNhdG9yID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1pbmRpY2F0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgLy8gICAgIGlmIChpbmRpY2F0b3IgJiYgaW5kaWNhdG9yLmNsYXNzTGlzdC5jb250YWlucygnaGFzLWFubm90YXRpb24nKSkge1xuICAvLyAgICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGFzLWFubm90YXRpb24nKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cblxuICAvKipcbiAgICogXHU5MUNEXHU2NUIwXHU1MjFCXHU1RUZBXHU2Mjc5XHU2Q0U4XHU5ODg0XHU4OUM4XG4gICAqL1xuICBwcml2YXRlIHJlY3JlYXRlUHJldmlldyhcbiAgICBjb250ZW50RWw6IEhUTUxFbGVtZW50LFxuICAgIGNhcmRFbDogSFRNTEVsZW1lbnQsXG4gICAgdW5pdDogQ29udGVudFVuaXQsXG4gICAgYW5ub3RhdGlvblRleHQ6IHN0cmluZ1xuICApOiB2b2lkIHtcbiAgICBjb25zdCBleGlzdGluZ1ByZXZpZXcgPSBjb250ZW50RWwucXVlcnlTZWxlY3RvcignLmFubm90YXRpb24tcHJldmlldywgLmdyaWQtYW5ub3RhdGlvbicpO1xuICAgIGlmIChleGlzdGluZ1ByZXZpZXcpIHtcbiAgICAgIGV4aXN0aW5nUHJldmlldy5yZW1vdmUoKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgaXNHcmlkQ2FyZCA9IGNhcmRFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2dyaWQtY2FyZCcpO1xuICAgIGNvbnN0IGFubkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYW5uRWwuY2xhc3NOYW1lID0gaXNHcmlkQ2FyZCA/ICdncmlkLWFubm90YXRpb24nIDogJ2Fubm90YXRpb24tcHJldmlldyc7XG4gICAgXG4gICAgaWYgKGlzR3JpZENhcmQpIHtcbiAgICAgIGFubkVsLmlubmVySFRNTCA9IGBcdUQ4M0RcdURDQUMgJHthbm5vdGF0aW9uVGV4dH1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGFubm90YXRpb25UZXh0Lmxlbmd0aCA+IDYwXG4gICAgICAgID8gYW5ub3RhdGlvblRleHQuc3Vic3RyaW5nKDAsIDYwKSArICcuLi4nXG4gICAgICAgIDogYW5ub3RhdGlvblRleHQ7XG4gICAgICBhbm5FbC50ZXh0Q29udGVudCA9IGBcdUQ4M0RcdURDQUMgJHtkaXNwbGF5VGV4dH1gO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTcwQjlcdTUxRkJcdTRFOEJcdTRFRjZcbiAgICBhbm5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBUYWIgXHU5NTJFXHU0RThCXHU0RUY2XG4gICAgYW5uRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdUYWInKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcubm90ZS10ZXh0LCAuZ3JpZC1ub3RlLXRleHQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAobm90ZVRleHQpIHtcbiAgICAgIG5vdGVUZXh0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBhbm5FbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnRFbC5hcHBlbmRDaGlsZChhbm5FbCk7XG4gICAgfVxuICAgIFxuICAgIGFubkVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIGFubkVsLmZvY3VzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MTczXHU5NUVEXHU2MjQwXHU2NzA5XHU2RDNCXHU1MkE4XHU3Njg0XHU3RjE2XHU4RjkxXHU1NjY4XG4gICAqL1xuICBjbG9zZUFsbCgpOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2ZUVkaXRvcnMuZm9yRWFjaCgoZWRpdG9yKSA9PiB7XG4gICAgICBlZGl0b3IucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5hY3RpdmVFZGl0b3JzLmNsZWFyKCk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL3NlcnZpY2VzL092ZXJ2aWV3U2VydmljZS50c1xuXG5pbXBvcnQgeyBBcHAsIEl0ZW1WaWV3LCBURmlsZSwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgUXVpY2tGbGFzaGNhcmRDcmVhdG9yIH0gZnJvbSAnLi4vLi4vY29yZS9RdWlja0ZsYXNoY2FyZENyZWF0b3InO1xuaW1wb3J0IHsgVmlld1N0YXRlIH0gZnJvbSAnLi4vc3RhdHMvVmlld1N0YXRlJztcbmltcG9ydCB7IHQgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBzaWRlT3ZlcnZpZXdTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luLFxuICAgIHByaXZhdGUgc3RhdGU6IFZpZXdTdGF0ZVxuICApIHt9XG5cbiAgLyoqXG4gICAqIFx1OERGM1x1OEY2Q1x1NTIzMFx1N0IxNFx1OEJCMFx1NzY4NFx1NkU5MFx1NjU4N1x1NEVGNlx1NEY0RFx1N0Y2RVxuICAgKi9cbiAgYXN5bmMganVtcFRvU291cmNlKHVuaXQ6IENvbnRlbnRVbml0LCBhcHA6IEFwcCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgICBjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh1bml0LnNvdXJjZS5maWxlKTtcbiAgICBpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuZmlsZU5vdEV4aXN0JywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnN0YXRlLnNob3VsZFJlc3RvcmVTY3JvbGwgPSB0cnVlO1xuICAgIFxuICAgIGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB2aWV3ID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKEl0ZW1WaWV3KTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9ICh2aWV3IGFzIGFueSkuZWRpdG9yO1xuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgY29uc3QgbGluZSA9IHVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmU7XG4gICAgICAgICAgY29uc3QgbGluZUNvdW50ID0gZWRpdG9yLmxpbmVDb3VudCgpO1xuICAgICAgICAgIGNvbnN0IHZhbGlkTGluZSA9IE1hdGgubWluKGxpbmUsIGxpbmVDb3VudCAtIDEpO1xuICAgICAgICAgIFxuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0pO1xuICAgICAgICAgIGVkaXRvci5zY3JvbGxJbnRvVmlldyhcbiAgICAgICAgICAgIHsgZnJvbTogeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0sIHRvOiB7IGxpbmU6IHZhbGlkTGluZSwgY2g6IDAgfSB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gZWRpdG9yLmdldExpbmUodmFsaWRMaW5lKT8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgIGVkaXRvci5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0sXG4gICAgICAgICAgICAgICAgeyBsaW5lOiB2YWxpZExpbmUsIGNoOiBsaW5lTGVuZ3RoIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2VsZWN0aW9uIGVycm9yOicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAyMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NEZERFx1NUI1OFx1NjIxNlx1NTIyMFx1OTY2NFx1NjI3OVx1NkNFOFxuICAgKi9cbiAgYXN5bmMgc2F2ZUFubm90YXRpb24odW5pdElkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgICBjb25zdCB0cmltbWVkVGV4dCA9IGNvbnRlbnQudHJpbSgpO1xuICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRDb250ZW50QW5ub3RhdGlvbih1bml0SWQpO1xuICAgIFxuICAgIGlmICh0cmltbWVkVGV4dCkge1xuICAgICAgaWYgKGFubm90YXRpb24pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIudXBkYXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uLmlkLCB7XG4gICAgICAgICAgY29udGVudDogdHJpbW1lZFRleHRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5hZGRDb250ZW50QW5ub3RhdGlvbih1bml0SWQsIHRyaW1tZWRUZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFubm90YXRpb24pIHtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmRlbGV0ZUFubm90YXRpb24oYW5ub3RhdGlvbi5pZCk7XG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuYW5ub3RhdGlvbkRlbGV0ZWQnLCBsYW5nKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFJIFx1NUZFQlx1OTAxRlx1NzUxRlx1NjIxMFx1OTVFQVx1NTM2MVxuICAgKi9cbiAgYXN5bmMgcXVpY2tHZW5lcmF0ZUZsYXNoY2FyZCh1bml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3JlYXRvciA9IG5ldyBRdWlja0ZsYXNoY2FyZENyZWF0b3IodGhpcy5wbHVnaW4pO1xuICAgICAgXG4gICAgICAvLyBcdTdCNDlcdTVGODVcdTk1RUFcdTUzNjFcdTUyMUJcdTVFRkFcdTVCOENcdTYyMTBcbiAgICAgIGF3YWl0IGNyZWF0b3IuY3JlYXRlU21hcnRDYXJkKHVuaXQpO1xuICBcbiAgICAgIC8vIFx1N0VEOVx1NEUwMFx1NEUyQVx1NzdFRFx1NjY4Mlx1NUVGNlx1OEZERlx1Nzg2RVx1NEZERFx1NjU3MFx1NjM2RVx1NURGMlx1NTE5OVx1NTE2NVxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE1MCkpO1xuICAgICAgXG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuZmxhc2hjYXJkR2VuZXJhdGVkJywgbGFuZykpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnc2VydmljZS5nZW5lcmF0ZUZhaWxlZCcsIGxhbmcpKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNzlcdTkxQ0ZcdTUyMjBcdTk2NjRcdTdCMTRcdThCQjBcbiAgICovXG4gIGFzeW5jIGJhdGNoRGVsZXRlTm90ZXModW5pdElkczogU2V0PHN0cmluZz4pOiBQcm9taXNlPHsgc3VjY2VzczogbnVtYmVyOyBmYWlsZWQ6IG51bWJlciB9PiB7XG4gICAgbGV0IHN1Y2Nlc3MgPSAwO1xuICAgIGxldCBmYWlsZWQgPSAwO1xuICAgIFxuICAgIGZvciAoY29uc3QgdW5pdElkIG9mIHVuaXRJZHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdCh1bml0SWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVuaXQpIHtcbiAgICAgICAgICAvLyBcdTUxNDhcdTUyMjBcdTk2NjRcdTUxNzNcdTgwNTRcdTc2ODRcdTk1RUFcdTUzNjFcbiAgICAgICAgICBpZiAodW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJkSWQgb2YgdW5pdC5mbGFzaGNhcmRJZHMpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmRJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5kZWxldGVDb250ZW50VW5pdCh1bml0SWQpO1xuICAgICAgICBzdWNjZXNzKys7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBub3RlOicsIGVycm9yKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3MsIGZhaWxlZCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjI3OVx1OTFDRlx1NTIyMFx1OTY2NFx1OTVFQVx1NTM2MVxuICAgKi9cbiAgYXN5bmMgYmF0Y2hEZWxldGVGbGFzaGNhcmRzKGNhcmRJZHM6IFNldDxzdHJpbmc+KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfT4ge1xuICAgIGxldCBzdWNjZXNzID0gMDtcbiAgICBsZXQgZmFpbGVkID0gMDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiBjYXJkSWRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZElkKTtcbiAgICAgICAgc3VjY2VzcysrO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3MsIGZhaWxlZCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NjI3OVx1NkNFOFx1NTE4NVx1NUJCOVxuICAgKi9cbiAgZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdElkOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGFubiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKHVuaXRJZCk7XG4gICAgcmV0dXJuIGFubj8uY29udGVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdThERjNcdThGNkNcdTUyMzBcdTk1RUFcdTUzNjFcdTc2ODRcdTZFOTBcdTY1ODdcdTRFRjZcbiAgICovXG4gIGFzeW5jIGp1bXBUb0ZsYXNoY2FyZFNvdXJjZShjYXJkSWQ6IHN0cmluZywgYXBwOiBBcHApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7XG4gICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGNhcmRJZCk7XG4gICAgaWYgKCFjYXJkKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuZmxhc2hjYXJkTm90Rm91bmQnLCBsYW5nKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgIGlmICh1bml0KSB7XG4gICAgICBhd2FpdCB0aGlzLmp1bXBUb1NvdXJjZSh1bml0LCBhcHApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTUxNzNcdTgwNTRcdTc2ODRcdTdCMTRcdThCQjBcdTUzNTVcdTUxNDNcdUZGMENcdTUzRUFcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcbiAgICAgIGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGNhcmQuc291cmNlRmlsZSk7XG4gICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgIGF3YWl0IGFwcC53b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSkub3BlbkZpbGUoZmlsZSk7XG4gICAgICAgIG5ldyBOb3RpY2UodCgnc2VydmljZS5zb3VyY2VGaWxlT3BlbmVkJywgbGFuZykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSh0KCdzZXJ2aWNlLm5vdGVOb3RGb3VuZCcsIGxhbmcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2RkMwXHU2RDNCXHU3RURGXHU4QkExXHU4OUM2XHU1NkZFXG4gICAqL1xuICBhY3RpdmF0ZVN0YXRzVmlldygpOiB2b2lkIHtcbiAgICB0aGlzLnBsdWdpbi5hY3RpdmF0ZVN0YXRzKCk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL21vZGFscy9NYW51YWxGbGFzaGNhcmRNb2RhbC50c1xuXG5pbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi8uLi9tYWluJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVywgVklFV19UWVBFX01BSU5fT1ZFUlZJRVcgfSBmcm9tICcuLi8uLi92aWV3L1NpZGViYXJPdmVydmlld1ZpZXcnO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuXG5leHBvcnQgY2xhc3MgTWFudWFsRmxhc2hjYXJkTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHVuaXQ6IENvbnRlbnRVbml0O1xuICB0eXBlOiAncWEnIHwgJ2Nsb3plJztcbiAgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbjtcbiAgcXVlc3Rpb246IHN0cmluZyA9ICcnO1xuICBhbnN3ZXI6IHN0cmluZyA9ICcnO1xuICBcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sIHVuaXQ6IENvbnRlbnRVbml0LCB0eXBlOiAncWEnIHwgJ2Nsb3plJykge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy51bml0ID0gdW5pdDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIFxuICAgIC8vIFx1NjgzOVx1NjM2RVx1N0M3Qlx1NTc4Qlx1OEJCRVx1N0Y2RVx1OUVEOFx1OEJBNFx1NTAzQ1xuICAgIGlmICh0eXBlID09PSAncWEnKSB7XG4gICAgICB0aGlzLnF1ZXN0aW9uID0gdW5pdC50eXBlID09PSAnUUEnID8gdW5pdC5jb250ZW50IDogdW5pdC5jb250ZW50O1xuICAgICAgdGhpcy5hbnN3ZXIgPSB1bml0LnR5cGUgPT09ICdRQScgJiYgdW5pdC5hbnN3ZXIgPyB1bml0LmFuc3dlciA6ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXN0aW9uID0gdW5pdC5mdWxsQ29udGV4dCB8fCB1bml0LmNvbnRlbnQ7XG4gICAgICB0aGlzLmFuc3dlciA9IHVuaXQuY29udGVudDtcbiAgICB9XG4gIH1cbiAgXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmFkZENsYXNzKCdtYW51YWwtZmxhc2hjYXJkLW1vZGFsJyk7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgXG4gICAgICB0ZXh0OiB0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLnRpdGxlLnFhJyA6ICdtYW51YWxDYXJkLnRpdGxlLmNsb3plJywgbGFuZylcbiAgICB9KTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG4gICAgICB0ZXh0OiB0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLmRlc2NyaXB0aW9uLnFhJyA6ICdtYW51YWxDYXJkLmRlc2NyaXB0aW9uLmNsb3plJywgbGFuZyksXG4gICAgICBjbHM6ICdtb2RhbC1kZXNjcmlwdGlvbidcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTk1RUVcdTk4OTgvXHU1QjhDXHU2NTc0XHU2NTg3XHU2NzJDXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUodCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5mcm9udC5xYScgOiAnbWFudWFsQ2FyZC5mcm9udC5jbG96ZScsIGxhbmcpKVxuICAgICAgLnNldERlc2ModCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5mcm9udC5kZXNjLnFhJyA6ICdtYW51YWxDYXJkLmZyb250LmRlc2MuY2xvemUnLCBsYW5nKSlcbiAgICAgIC5hZGRUZXh0QXJlYSgodGV4dDogVGV4dEFyZWFDb21wb25lbnQpID0+IHtcbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnF1ZXN0aW9uKVxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcih0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLnFhJyA6ICdtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLmNsb3plJywgbGFuZykpXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnF1ZXN0aW9uID0gdmFsdWUpO1xuICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDQ7XG4gICAgICAgIHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFx1N0I1NFx1Njg0OC9cdTYzMTZcdTdBN0FcdTUxODVcdTVCQjlcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSh0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLmJhY2sucWEnIDogJ21hbnVhbENhcmQuYmFjay5jbG96ZScsIGxhbmcpKVxuICAgICAgLnNldERlc2ModCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5iYWNrLmRlc2MucWEnIDogJ21hbnVhbENhcmQuYmFjay5kZXNjLmNsb3plJywgbGFuZykpXG4gICAgICAuYWRkVGV4dEFyZWEoKHRleHQ6IFRleHRBcmVhQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5hbnN3ZXIpXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKHQodGhpcy50eXBlID09PSAncWEnID8gJ21hbnVhbENhcmQuYmFjay5wbGFjZWhvbGRlci5xYScgOiAnbWFudWFsQ2FyZC5iYWNrLnBsYWNlaG9sZGVyLmNsb3plJywgbGFuZykpXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLmFuc3dlciA9IHZhbHVlKTtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSAzO1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBcdTYzMDlcdTk0QUVcdTdFQzRcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoYnV0dG9uQ29udGFpbmVyKVxuICAgICAgLmFkZEJ1dHRvbigoYnRuOiBCdXR0b25Db21wb25lbnQpID0+IGJ0blxuICAgICAgICAuc2V0QnV0dG9uVGV4dCh0KCdtYW51YWxDYXJkLmNhbmNlbCcsIGxhbmcpKVxuICAgICAgICAub25DbGljaygoKSA9PiB0aGlzLmNsb3NlKCkpXG4gICAgICApXG4gICAgICAuYWRkQnV0dG9uKChidG46IEJ1dHRvbkNvbXBvbmVudCkgPT4gYnRuXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KHQoJ21hbnVhbENhcmQuY3JlYXRlJywgbGFuZykpXG4gICAgICAgIC5zZXRDdGEoKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmNyZWF0ZUZsYXNoY2FyZCgpKVxuICAgICAgKTtcbiAgfVxuICBhc3luYyBjcmVhdGVGbGFzaGNhcmQoKSB7XG4gICAgY29uc3QgbGFuZyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlO1xuICAgIFxuICAgIC8vIFx1OUE4Q1x1OEJDMVx1OEY5M1x1NTE2NVxuICAgIGlmICghdGhpcy5xdWVzdGlvbi50cmltKCkpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnbWFudWFsQ2FyZC5lcnJvci5lbXB0eUZyb250JywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYW5zd2VyLnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSh0KCdtYW51YWxDYXJkLmVycm9yLmVtcHR5QmFjaycsIGxhbmcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFx1NEY3Rlx1NzUyOCBGbGFzaGNhcmRNYW5hZ2VyIFx1NzY4NCBjcmVhdGVGbGFzaGNhcmRGcm9tVW5pdCBcdTY1QjlcdTZDRDVcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuY3JlYXRlRmxhc2hjYXJkRnJvbVVuaXQoXG4gICAgICAgIHRoaXMudW5pdCxcbiAgICAgICAge1xuICAgICAgICAgIGN1c3RvbVF1ZXN0aW9uOiB0aGlzLnF1ZXN0aW9uLnRyaW0oKSxcbiAgICAgICAgICBjdXN0b21BbnN3ZXI6IHRoaXMuYW5zd2VyLnRyaW0oKSxcbiAgICAgICAgICBjYXJkVHlwZTogdGhpcy50eXBlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIG5ldyBOb3RpY2UodCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5zdWNjZXNzLnFhJyA6ICdtYW51YWxDYXJkLnN1Y2Nlc3MuY2xvemUnLCBsYW5nKSk7XG4gICAgICBcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIFxuICAgICAgLy8gXHU1MjM3XHU2NUIwXHU4OUM2XHU1NkZFXG4gICAgICB0aGlzLnJlZnJlc2hPdmVydmlld1ZpZXcoKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ21hbnVhbENhcmQuY3JlYXRlRmFpbGVkJywgbGFuZykpO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIHByaXZhdGUgcmVmcmVzaE92ZXJ2aWV3VmlldygpIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVylbMF0/LnZpZXcgfHxcbiAgICAgICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfTUFJTl9PVkVSVklFVylbMF0/LnZpZXc7XG4gICAgaWYgKHZpZXcgJiYgJ3JlZnJlc2gnIGluIHZpZXcpIHtcbiAgICAgICh2aWV3IGFzIGFueSkucmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuICBcbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBzcmMvdWkvbW9kYWxzL0VkaXRGbGFzaGNhcmRNb2RhbC50c1xuXG5pbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi8uLi9tYWluJztcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVywgVklFV19UWVBFX01BSU5fT1ZFUlZJRVcgfSBmcm9tICcuLi8uLi92aWV3L1NpZGViYXJPdmVydmlld1ZpZXcnO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGNsYXNzIEVkaXRGbGFzaGNhcmRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgY2FyZDogRmxhc2hjYXJkO1xuICBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luO1xuICBmcm9udDogc3RyaW5nO1xuICBiYWNrOiBzdHJpbmc7XG4gIFxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbiwgY2FyZDogRmxhc2hjYXJkKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmNhcmQgPSBjYXJkO1xuICAgIHRoaXMuZnJvbnQgPSBjYXJkLmZyb250O1xuICAgIHRoaXMuYmFjayA9IEFycmF5LmlzQXJyYXkoY2FyZC5iYWNrKSA/IGNhcmQuYmFjay5qb2luKCcsICcpIDogY2FyZC5iYWNrO1xuICB9XG4gIFxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29uc3QgbGFuZyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnZWRpdC1mbGFzaGNhcmQtbW9kYWwnKTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyBcbiAgICAgIHRleHQ6IHQoJ2VkaXRDYXJkLnRpdGxlJywgbGFuZylcbiAgICB9KTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG4gICAgICB0ZXh0OiB0KHRoaXMuY2FyZC50eXBlID09PSAncWEnID8gJ2VkaXRDYXJkLmRlc2NyaXB0aW9uLnFhJyA6ICdlZGl0Q2FyZC5kZXNjcmlwdGlvbi5jbG96ZScsIGxhbmcpLFxuICAgICAgY2xzOiAnbW9kYWwtZGVzY3JpcHRpb24nXG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU1MzYxXHU3MjQ3XHU0RkUxXHU2MDZGXG4gICAgY29uc3QgaW5mb0RpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWluZm8nIH0pO1xuICAgIGluZm9EaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogNnB4OyBtYXJnaW4tYm90dG9tOiAxNXB4O1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAwLjllbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1wiPlxuICAgICAgICAgICR7dCgnZWRpdENhcmQuaW5mby5maWxlJywgbGFuZyl9OiAke3RoaXMuY2FyZC5zb3VyY2VGaWxlLnNwbGl0KCcvJykucG9wKCl9PGJyPlxuICAgICAgICAgICR7dCgnZWRpdENhcmQuaW5mby5kZWNrJywgbGFuZyl9OiAke3RoaXMuY2FyZC5kZWNrfTxicj5cbiAgICAgICAgICAke3QoJ2VkaXRDYXJkLmluZm8ucmV2aWV3cycsIGxhbmcpfTogJHt0aGlzLmNhcmQuc3RhdHMudG90YWxSZXZpZXdzfSR7dCgnZWRpdENhcmQuaW5mby5jb3JyZWN0JywgbGFuZyl9OiAke3RoaXMuY2FyZC5zdGF0cy5jb3JyZWN0Q291bnR9XHU2QjIxXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICAvLyBcdTk1RUVcdTk4OTgvXHU1MjREXHU5NzYyXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgIC5zZXROYW1lKHQodGhpcy5jYXJkLnR5cGUgPT09ICdxYScgPyAnZWRpdENhcmQuZnJvbnQucWEnIDogJ2VkaXRDYXJkLmZyb250LmNsb3plJywgbGFuZykpXG4gICAgLnNldERlc2ModCgnZWRpdENhcmQuZnJvbnQuZGVzYycsIGxhbmcpKVxuICAgIC5hZGRUZXh0QXJlYSgodGV4dDogVGV4dEFyZWFDb21wb25lbnQpID0+IHtcbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLmZyb250KVxuICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4gdGhpcy5mcm9udCA9IHZhbHVlKTtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSA0O1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBcdTdCNTRcdTY4NDgvXHU1NDBFXHU5NzYyXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgIC5zZXROYW1lKHQodGhpcy5jYXJkLnR5cGUgPT09ICdxYScgPyAnZWRpdENhcmQuYmFjay5xYScgOiAnZWRpdENhcmQuYmFjay5jbG96ZScsIGxhbmcpKVxuICAgIC5zZXREZXNjKHQodGhpcy5jYXJkLnR5cGUgPT09ICdxYScgPyAnZWRpdENhcmQuYmFjay5kZXNjLnFhJyA6ICdlZGl0Q2FyZC5iYWNrLmRlc2MuY2xvemUnLCBsYW5nKSlcbiAgICAuYWRkVGV4dEFyZWEoKHRleHQ6IFRleHRBcmVhQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5iYWNrKVxuICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4gdGhpcy5iYWNrID0gdmFsdWUpO1xuICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDM7XG4gICAgICAgIHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH0pO1xuICAgIFxuLy8gXHU2MzA5XHU5NEFFXHU3RUM0XG5jb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG4gIFxubmV3IFNldHRpbmcoYnV0dG9uQ29udGFpbmVyKVxuICAuYWRkQnV0dG9uKChidG46IEJ1dHRvbkNvbXBvbmVudCkgPT4gYnRuXG4gICAgLnNldEJ1dHRvblRleHQodCgnZWRpdENhcmQuY2FuY2VsJywgbGFuZykpXG4gICAgLm9uQ2xpY2soKCkgPT4gdGhpcy5jbG9zZSgpKVxuICApXG4gIC5hZGRCdXR0b24oKGJ0bjogQnV0dG9uQ29tcG9uZW50KSA9PiBidG5cbiAgICAuc2V0QnV0dG9uVGV4dCh0KCdlZGl0Q2FyZC5zYXZlJywgbGFuZykpXG4gICAgLnNldEN0YSgpXG4gICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5zYXZlRmxhc2hjYXJkKCkpXG4gICk7XG5cbiAgfVxuICBcbiAgYXN5bmMgc2F2ZUZsYXNoY2FyZCgpIHtcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7XG4gICAgLy8gXHU5QThDXHU4QkMxXHU4RjkzXHU1MTY1XG4gICAgaWYgKCF0aGlzLmZyb250LnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSh0KCdlZGl0Q2FyZC5lcnJvci5lbXB0eUZyb250JywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYmFjay50cmltKCkpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnZWRpdENhcmQuZXJyb3IuZW1wdHlCYWNrJywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gXHU2NkY0XHU2NUIwXHU1MzYxXHU3MjQ3XG4gICAgICB0aGlzLmNhcmQuZnJvbnQgPSB0aGlzLmZyb250LnRyaW0oKTtcbiAgICAgIFxuICAgICAgaWYgKHRoaXMuY2FyZC50eXBlID09PSAnY2xvemUnKSB7XG4gICAgICAgIC8vIFx1NTg2Qlx1N0E3QVx1NTM2MVx1RkYxQVx1NUMwNlx1OTAxN1x1NTNGN1x1NTIwNlx1OTY5NFx1NzY4NFx1N0I1NFx1Njg0OFx1OEY2Q1x1NjM2Mlx1NEUzQVx1NjU3MFx1N0VDNFxuICAgICAgICB0aGlzLmNhcmQuYmFjayA9IHRoaXMuYmFjay5zcGxpdCgnLCcpLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIocyA9PiBzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1OTVFRVx1N0I1NFx1NTM2MVx1RkYxQVx1NEZERFx1NjMwMVx1NUI1N1x1N0IyNlx1NEUzMlxuICAgICAgICB0aGlzLmNhcmQuYmFjayA9IHRoaXMuYmFjay50cmltKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRoaXMuY2FyZC5tZXRhZGF0YS51cGRhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnVwZGF0ZUNhcmQodGhpcy5jYXJkKTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZSh0KCdlZGl0Q2FyZC5zdWNjZXNzJywgbGFuZykpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgXG4gICAgICAvLyBcdTUyMzdcdTY1QjBcdTg5QzZcdTU2RkVcbiAgICAgIHRoaXMucmVmcmVzaE92ZXJ2aWV3VmlldygpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnZWRpdENhcmQuc2F2ZUZhaWxlZCcsIGxhbmcpKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIHJlZnJlc2hPdmVydmlld1ZpZXcoKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcpWzBdPy52aWV3IHx8XG4gICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpWzBdPy52aWV3O1xuICAgIGlmICh2aWV3ICYmICdyZWZyZXNoJyBpbiB2aWV3KSB7XG4gICAgICAodmlldyBhcyBhbnkpLnJlZnJlc2goKTtcbiAgICB9XG4gIH1cbiAgXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvQ29udGV4dE1lbnVCdWlsZGVyLnRzXG5cbmltcG9ydCB7IE1lbnUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuLyoqXG4gKiBcdTUxODVcdTVCQjlcdTUzNTVcdTUxNDNcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTU2REVcdThDMDNcdTYzQTVcdTUzRTNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb250ZW50VW5pdE1lbnVDYWxsYmFja3Mge1xuICBvbkp1bXBUb1NvdXJjZTogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvblRvZ2dsZUFubm90YXRpb246ICh1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25FZGl0Rmxhc2hjYXJkOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uUXVpY2tHZW5lcmF0ZTogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvbkNyZWF0ZVFBOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uQ3JlYXRlQ2xvemU6ICh1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25WaWV3U3RhdHM6ICgpID0+IHZvaWQ7XG4gIG9uRGVsZXRlOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogXHU5NUVBXHU1MzYxXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XHU1NkRFXHU4QzAzXHU2M0E1XHU1M0UzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hjYXJkTWVudUNhbGxiYWNrcyB7XG4gIG9uSnVtcFRvU291cmNlOiAoY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBvbkVkaXQ6IChjYXJkOiBGbGFzaGNhcmQpID0+IHZvaWQ7XG4gIG9uVmlld1N0YXRzOiAoY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBvbkRlbGV0ZTogKGNhcmQ6IEZsYXNoY2FyZCkgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTY3ODRcdTVFRkFcdTU2NjhcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51QnVpbGRlciB7XG4gIC8qKlxuICAgKiBcdTY3ODRcdTVFRkFcdTUxODVcdTVCQjlcdTUzNTVcdTUxNDNcdTc2ODRcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcbiAgICovXG4gIHN0YXRpYyBidWlsZENvbnRlbnRVbml0TWVudShcbiAgICB1bml0OiBDb250ZW50VW5pdCxcbiAgICBjYWxsYmFja3M6IENvbnRlbnRVbml0TWVudUNhbGxiYWNrcyxcbiAgICBsYW5ndWFnZTogc3RyaW5nID0gJ2VuJ1xuICApOiBNZW51IHtcbiAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcbiAgICBcbiAgICAvLyBcdThERjNcdThGNkNcdTUyMzBcdTUzOUZcdTY1ODdcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5qdW1wVG9Tb3VyY2UnLCBsYW5ndWFnZSBhcyBhbnkpKVxuICAgICAgICAuc2V0SWNvbignYXJyb3ctdXAtcmlnaHQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25KdW1wVG9Tb3VyY2UodW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICAvLyBcdTdGMTZcdThGOTFcdTYyNzlcdTZDRThcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5lZGl0QW5ub3RhdGlvbicsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdtZXNzYWdlLXNxdWFyZScpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24odW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1N0YxNlx1OEY5MVx1OTVFQVx1NTM2MSAoXHU1OTgyXHU2NzlDXHU1REYyXHU2NzA5XHU5NUVBXHU1MzYxKVxuICAgIGlmICh1bml0LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICAgIGl0ZW1cbiAgICAgICAgICAuc2V0VGl0bGUodCgnY29udGV4dE1lbnUuZWRpdEZsYXNoY2FyZCcsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgICAgLnNldEljb24oJ3BlbmNpbCcpXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uRWRpdEZsYXNoY2FyZCh1bml0KSlcbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NzUxRlx1NjIxMFx1OTVFQVx1NTM2MSAoQUlcdTY2N0FcdTgwRkRcdTc1MUZcdTYyMTApXG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUodCgnY29udGV4dE1lbnUuZ2VuZXJhdGVGbGFzaGNhcmQnLCBsYW5ndWFnZSBhcyBhbnkpKVxuICAgICAgICAuc2V0SWNvbignemFwJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uUXVpY2tHZW5lcmF0ZSh1bml0KSlcbiAgICApO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQSBRQSBcdTk1RUFcdTUzNjFcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5jcmVhdGVRQScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdwbHVzJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uQ3JlYXRlUUEodW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICAvLyBcdTUyMUJcdTVFRkFcdTU4NkJcdTdBN0FcdTk1RUFcdTUzNjFcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5jcmVhdGVDbG96ZScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdwbHVzJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uQ3JlYXRlQ2xvemUodW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NjdFNVx1NzcwQlx1N0VERlx1OEJBMVxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LnZpZXdTdGF0cycsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdiYXItY2hhcnQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25WaWV3U3RhdHMoKSlcbiAgICApO1xuICAgIFxuICAgIG1lbnUuYWRkU2VwYXJhdG9yKCk7XG4gICAgXG4gICAgLy8gXHU1MjIwXHU5NjY0XHU3QjE0XHU4QkIwXG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUodCgnY29udGV4dE1lbnUuZGVsZXRlTm90ZScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCd0cmFzaCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkRlbGV0ZSh1bml0KSlcbiAgICApO1xuICAgIFxuICAgIHJldHVybiBtZW51O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1Njc4NFx1NUVGQVx1OTVFQVx1NTM2MVx1NzY4NFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVxuICAgKi9cbiAgc3RhdGljIGJ1aWxkRmxhc2hjYXJkTWVudShcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgY2FsbGJhY2tzOiBGbGFzaGNhcmRNZW51Q2FsbGJhY2tzLFxuICAgIGxhbmd1YWdlOiBzdHJpbmcgPSAnZW4nXG4gICk6IE1lbnUge1xuICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuICAgIFxuICAgIC8vIFx1OERGM1x1OEY2Q1x1NTIzMFx1NTM5Rlx1NjU4N1xuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51Lmp1bXBUb1NvdXJjZScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdhcnJvdy11cC1yaWdodCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkp1bXBUb1NvdXJjZShjYXJkKSlcbiAgICApO1xuICAgIFxuICAgIC8vIFx1N0YxNlx1OEY5MVx1NTM2MVx1NzI0N1xuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LmVkaXRDYXJkJywgbGFuZ3VhZ2UgYXMgYW55KSlcbiAgICAgICAgLnNldEljb24oJ3BlbmNpbCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkVkaXQoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NjdFNVx1NzcwQlx1N0VERlx1OEJBMVxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LnZpZXdTdGF0cycsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdiYXItY2hhcnQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25WaWV3U3RhdHMoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NTIyMFx1OTY2NFx1NTM2MVx1NzI0N1xuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LmRlbGV0ZUNhcmQnLCBsYW5ndWFnZSBhcyBhbnkpKVxuICAgICAgICAuc2V0SWNvbigndHJhc2gnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25EZWxldGUoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICByZXR1cm4gbWVudTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTY4M0NcdTVGMEZcdTUzMTZcdTk1RUFcdTUzNjFcdTdFREZcdThCQTFcdTRGRTFcdTYwNkZcbiAgICovXG4gIHN0YXRpYyBmb3JtYXRGbGFzaGNhcmRTdGF0cyhjYXJkOiBGbGFzaGNhcmQsIGxhbmd1YWdlOiBzdHJpbmcgPSAnZW4nKTogc3RyaW5nIHtcbiAgICBjb25zdCBsb2NhbGUgPSBsYW5ndWFnZSA9PT0gJ3poLUNOJyA/ICd6aC1DTicgOiAnZW4tVVMnO1xuICAgIGNvbnN0IGNyZWF0ZWREYXRlID0gbmV3IERhdGUoY2FyZC5tZXRhZGF0YS5jcmVhdGVkQXQpLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSk7XG4gICAgY29uc3QgbGFzdFJldmlldyA9IGNhcmQuc3RhdHMubGFzdFJldmlldyBcbiAgICAgID8gbmV3IERhdGUoY2FyZC5zdGF0cy5sYXN0UmV2aWV3KS50b0xvY2FsZVN0cmluZyhsb2NhbGUpXG4gICAgICA6IHQoJ3N0YXRzLmxhc3RSZXZpZXcubmV2ZXInLCBsYW5ndWFnZSBhcyBhbnkpO1xuICAgIGNvbnN0IG5leHRSZXZpZXcgPSBuZXcgRGF0ZShjYXJkLnNjaGVkdWxpbmcuZHVlKS50b0xvY2FsZVN0cmluZyhsb2NhbGUpO1xuICAgIGNvbnN0IGFjY3VyYWN5ID0gY2FyZC5zdGF0cy50b3RhbFJldmlld3MgPiAwIFxuICAgICAgPyAoKGNhcmQuc3RhdHMuY29ycmVjdENvdW50IC8gY2FyZC5zdGF0cy50b3RhbFJldmlld3MpICogMTAwKS50b0ZpeGVkKDEpXG4gICAgICA6ICcwJztcbiAgICBcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB0KCdzdGF0cy5zZXBhcmF0b3InLCBsYW5ndWFnZSBhcyBhbnkpO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICBgJHt0KCdzdGF0cy50aXRsZScsIGxhbmd1YWdlIGFzIGFueSl9XFxuYCArXG4gICAgICBgJHtzZXBhcmF0b3J9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5maWxlJywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5zb3VyY2VGaWxlLnNwbGl0KCcvJykucG9wKCl9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy50eXBlJywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7dChjYXJkLnR5cGUgPT09ICdxYScgPyAnc3RhdHMudHlwZS5xYScgOiAnc3RhdHMudHlwZS5jbG96ZScsIGxhbmd1YWdlIGFzIGFueSl9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5kZWNrJywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5kZWNrfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMudGFncycsIGxhbmd1YWdlIGFzIGFueSl9OiAke2NhcmQudGFncz8ubGVuZ3RoID4gMCA/IGNhcmQudGFncy5qb2luKCcsICcpIDogdCgnc3RhdHMudGFncy5ub25lJywgbGFuZ3VhZ2UgYXMgYW55KX1cXG5gICtcbiAgICAgIGAke3NlcGFyYXRvcn1cXG5gICtcbiAgICAgIGAke3QoJ3N0YXRzLnJldmlld0NvdW50JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5zdGF0cy50b3RhbFJldmlld3N9ICR7dCgnc3RhdHMudGltZXMnLCBsYW5ndWFnZSBhcyBhbnkpfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuY29ycmVjdENvdW50JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5zdGF0cy5jb3JyZWN0Q291bnR9ICR7dCgnc3RhdHMudGltZXMnLCBsYW5ndWFnZSBhcyBhbnkpfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuYWNjdXJhY3knLCBsYW5ndWFnZSBhcyBhbnkpfTogJHthY2N1cmFjeX0lXFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5hdmVyYWdlVGltZScsIGxhbmd1YWdlIGFzIGFueSl9OiAke2NhcmQuc3RhdHMuYXZlcmFnZVRpbWUudG9GaXhlZCgxKX0ke3QoJ3N0YXRzLnNlY29uZHMnLCBsYW5ndWFnZSBhcyBhbnkpfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuZGlmZmljdWx0eScsIGxhbmd1YWdlIGFzIGFueSl9OiAkeyhjYXJkLnN0YXRzLmRpZmZpY3VsdHkgKiAxMDApLnRvRml4ZWQoMCl9JVxcbmAgK1xuICAgICAgYCR7c2VwYXJhdG9yfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuY3JlYXRlZEF0JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y3JlYXRlZERhdGV9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5sYXN0UmV2aWV3JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7bGFzdFJldmlld31cXG5gICtcbiAgICAgIGAke3QoJ3N0YXRzLm5leHRSZXZpZXcnLCBsYW5ndWFnZSBhcyBhbnkpfTogJHtuZXh0UmV2aWV3fVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuaW50ZXJ2YWwnLCBsYW5ndWFnZSBhcyBhbnkpfTogJHtjYXJkLnNjaGVkdWxpbmcuaW50ZXJ2YWx9JHt0KCdzdGF0cy5kYXlzJywgbGFuZ3VhZ2UgYXMgYW55KX1cXG5gICtcbiAgICAgIGAke3QoJ3N0YXRzLmVhc2UnLCBsYW5ndWFnZSBhcyBhbnkpfTogJHtjYXJkLnNjaGVkdWxpbmcuZWFzZS50b0ZpeGVkKDIpfWBcbiAgICApO1xuICB9XG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL21vZGFscy9CYXRjaENyZWF0ZU1vZGFsLnRzXG5pbXBvcnQgeyBNb2RhbCwgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi8uLi9tYWluJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBRdWlja0ZsYXNoY2FyZENyZWF0b3IgfSBmcm9tICcuLi8uLi8uLi9jb3JlL1F1aWNrRmxhc2hjYXJkQ3JlYXRvcic7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgQmF0Y2hDcmVhdGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luLFxuICAgIHByaXZhdGUgcXVpY2tDcmVhdG9yOiBRdWlja0ZsYXNoY2FyZENyZWF0b3IsXG4gICAgcHJpdmF0ZSB1bml0czogQ29udGVudFVuaXRbXSxcbiAgICBwcml2YXRlIG9uQ29tcGxldGU6ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7IFxuXG4gIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHQoJ2JhdGNoQ3JlYXRlLnRpdGxlJywgbGFuZykgfSk7XG4gIFxuICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgIHRleHQ6IHQoJ2JhdGNoQ3JlYXRlLmRlc2NyaXB0aW9uJywgbGFuZywgeyBjb3VudDogdGhpcy51bml0cy5sZW5ndGggfSlcbiAgfSk7XG5cbiAgY29uc3QgdHlwZUNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICd0eXBlLXNlbGVjdC1jb250YWluZXInIH0pO1xuICB0eXBlQ29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdCgnYmF0Y2hDcmVhdGUuY2FyZFR5cGUnLCBsYW5nKSB9KTtcblxuICBsZXQgc2VsZWN0ZWRUeXBlOiAnc21hcnQnIHwgJ3FhJyB8ICdjbG96ZScgPSAnc21hcnQnO1xuXG4gIGNvbnN0IHR5cGVzID0gW1xuICAgIHsgXG4gICAgICB2YWx1ZTogJ3NtYXJ0JywgXG4gICAgICBsYWJlbDogdCgnYmF0Y2hDcmVhdGUuc21hcnRUeXBlJywgbGFuZyksIFxuICAgICAgZGVzYzogdCgnYmF0Y2hDcmVhdGUuc21hcnRUeXBlLmRlc2MnLCBsYW5nKSBcbiAgICB9LFxuICAgIHsgXG4gICAgICB2YWx1ZTogJ3FhJywgXG4gICAgICBsYWJlbDogdCgnYmF0Y2hDcmVhdGUucWFUeXBlJywgbGFuZyksIFxuICAgICAgZGVzYzogdCgnYmF0Y2hDcmVhdGUucWFUeXBlLmRlc2MnLCBsYW5nKSBcbiAgICB9LFxuICAgIHsgXG4gICAgICB2YWx1ZTogJ2Nsb3plJywgXG4gICAgICBsYWJlbDogdCgnYmF0Y2hDcmVhdGUuY2xvemVUeXBlJywgbGFuZyksIFxuICAgICAgZGVzYzogdCgnYmF0Y2hDcmVhdGUuY2xvemVUeXBlLmRlc2MnLCBsYW5nKSBcbiAgICB9XG4gIF07XG5cblxuICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiB7XG4gICAgICBjb25zdCBvcHRpb24gPSB0eXBlQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3R5cGUtb3B0aW9uJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmFkaW8gPSBvcHRpb24uY3JlYXRlRWwoJ2lucHV0Jywge1xuICAgICAgICB0eXBlOiAncmFkaW8nLFxuICAgICAgICB2YWx1ZTogdHlwZS52YWx1ZSxcbiAgICAgICAgYXR0cjogeyBuYW1lOiAnY2FyZC10eXBlJyB9XG4gICAgICB9KTtcbiAgICAgIGlmICh0eXBlLnZhbHVlID09PSAnc21hcnQnKSByYWRpby5jaGVja2VkID0gdHJ1ZTtcblxuICAgICAgY29uc3QgbGFiZWwgPSBvcHRpb24uY3JlYXRlRGl2KHsgY2xzOiAndHlwZS1sYWJlbCcgfSk7XG4gICAgICBsYWJlbC5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiB0eXBlLmxhYmVsIH0pO1xuICAgICAgbGFiZWwuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogdHlwZS5kZXNjLCBjbHM6ICd0eXBlLWRlc2MnIH0pO1xuXG4gICAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHJhZGlvLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBzZWxlY3RlZFR5cGUgPSB0eXBlLnZhbHVlIGFzIGFueTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gXHU2MzA5XHU5NEFFXG4gICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ21vZGFsLWJ1dHRvbi1jb250YWluZXInIH0pO1xuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogdCgnYmF0Y2hDcmVhdGUuY2FuY2VsJywgbGFuZykgXG4gICAgfSk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcbiAgXG4gICAgY29uc3QgY3JlYXRlQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogdCgnYmF0Y2hDcmVhdGUuY3JlYXRlQnV0dG9uJywgbGFuZywgeyBjb3VudDogdGhpcy51bml0cy5sZW5ndGggfSksXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIGNyZWF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuYmF0Y2hDcmVhdGUoc2VsZWN0ZWRUeXBlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkU3R5bGVzKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGJhdGNoQ3JlYXRlKHR5cGU6ICdzbWFydCcgfCAncWEnIHwgJ2Nsb3plJykge1xuICAgIGNvbnN0IHsgc3VjY2VzcywgZmFpbGVkIH0gPSBhd2FpdCB0aGlzLnF1aWNrQ3JlYXRvci5jcmVhdGVCYXRjaENhcmRzKHRoaXMudW5pdHMsIHR5cGUpO1xuICAgIFxuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgXG4gICAgbmV3IE5vdGljZSh0KCdiYXRjaENyZWF0ZS5zdWNjZXNzTm90aWNlJywgbGFuZywgeyBzdWNjZXNzLCBmYWlsZWQgfSkpO1xuICAgIFxuICAgIHRoaXMuY2xvc2UoKTtcbiAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBgXG4gICAgICAudHlwZS1zZWxlY3QtY29udGFpbmVyIHtcbiAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICB9XG5cbiAgICAgIC50eXBlLW9wdGlvbiB7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgfVxuXG4gICAgICAudHlwZS1vcHRpb246aG92ZXIge1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAudHlwZS1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgfVxuXG4gICAgICAudHlwZS1sYWJlbCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgIH1cblxuICAgICAgLnR5cGUtZGVzYyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgbWFyZ2luLXRvcDogNHB4O1xuICAgICAgfVxuICAgIGA7XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBzcmMvY29yZS9VbmxvY2tTeXN0ZW0udHNcbmltcG9ydCB7IEFwcCwgTm90aWNlLE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBTdHlsZUxvYWRlciB9IGZyb20gJ3NyYy91aS9zdHlsZS9zaWRlYmFyU3R5bGUnO1xuaW1wb3J0IHsgdCAsTGFuZ3VhZ2V9IGZyb20gJy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IHR5cGUgVXNlckxldmVsID0gMSB8IDIgfCAzIHwgNCB8IDU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5sb2NrUHJvZ3Jlc3Mge1xuICBjdXJyZW50TGV2ZWw6IFVzZXJMZXZlbDtcbiAgc3RhdHM6IHtcbiAgICBjYXJkc0V4dHJhY3RlZDogbnVtYmVyOyAgICAgIC8vIEx2MVx1MjE5MjI6IFx1OTcwMFx1ODk4MSBcdTIyNjUxMFxuICAgICBub3Rlc0V4dHJhY3RlZEFzVGV4dDogbnVtYmVyOyAgICAvLyBcdTY1QjBcdTU4OUU6XHU2M0QwXHU1M0Q2XHU0RTNBdGV4dFxuICBub3Rlc0V4dHJhY3RlZEFzUUE6IG51bWJlcjsgICAgICAvLyBcdTY1QjBcdTU4OUU6XHU2M0QwXHU1M0Q2XHU0RTNBUUFcbiAgbm90ZXNFeHRyYWN0ZWRBc0Nsb3plOiBudW1iZXI7ICAgLy8gXHU2NUIwXHU1ODlFOlx1NjNEMFx1NTNENlx1NEUzQWNsb3plXG4gIGFubm90YXRpb25zQ29tcGxldGVkOiBudW1iZXI7XG4gIG5vdGVzU2Nhbm5lZDogbnVtYmVyOyAvLyBMdjJcdTIxOTIzOiBcdTk3MDBcdTg5ODEgXHUyMjY1NVxuICAgIGNhcmRzUmV2aWV3ZWQ6IG51bWJlcjsgICAgICAgIC8vIEx2M1x1MjE5MjQ6IFx1MjI2NTMwLCBMdjRcdTIxOTI1OiBcdTIyNjU3MFxuICAgIHRhYmxlc1NjYW5uZWQ6IG51bWJlcjsgICAgICAgIC8vIEx2M1x1MjE5MjQ6IFx1OTcwMFx1ODk4MSBcdTIyNjUyXG4gICAgY29uc2VjdXRpdmVEYXlzOiBudW1iZXI7ICAgICAgLy8gTHY0XHUyMTkyNTogXHU5NzAwXHU4OTgxIFx1MjI2NTdcbiAgICB0b3RhbERheXM6IG51bWJlcjsgICAgICAgICAgICAvLyBMdjRcdTIxOTI1OiBcdTk3MDBcdTg5ODEgXHUyMjY1MjFcbiAgICBzdGF0c1BhZ2VWaXNpdGVkOiBib29sZWFuOyAgICAvLyBMdjRcdTIxOTI1OiBcdTk3MDBcdTg5ODFcdTgxRjNcdTVDMTExXHU2QjIxXG4gICAgbGFzdEFjdGl2ZURhdGU6IHN0cmluZzsgICAgICAgLy8gWVlZWS1NTS1ERCBcdTY4M0NcdTVGMEZcbiAgfTtcbiAgdW5sb2NrZWRGZWF0dXJlczogU2V0PHN0cmluZz47XG4gIGxldmVsVW5sb2NrZWRBdDogUmVjb3JkPG51bWJlciwgbnVtYmVyPjsgLy8gdGltZXN0YW1wXG4gIG1pbGVzdG9uZXM6IHtcbiAgICBsZXZlbDogVXNlckxldmVsO1xuICAgIHVubG9ja2VkQXQ6IG51bWJlcjtcbiAgfVtdO1xufVxuXG5leHBvcnQgY2xhc3MgVW5sb2NrU3lzdGVtIHtcbiAgcHJpdmF0ZSBwcm9ncmVzczogVW5sb2NrUHJvZ3Jlc3M7XG4gIHByaXZhdGUgZGF0YVBhdGg6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpblxuICApIHtcbiAgICB0aGlzLmRhdGFQYXRoID0gYCR7dGhpcy5hcHAudmF1bHQuY29uZmlnRGlyfS9wbHVnaW5zL2xlYXJuaW5nLXN5c3RlbS9kYXRhL3VubG9jay1wcm9ncmVzcy5qc29uYDtcbiAgfVxuICBwcml2YXRlIGdldCBsYW5ndWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnVwZGF0ZURhaWx5U3RyZWFrKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY4MzhcdTVGQzNcdTY4QzBcdTY3RTVcdTcwQjkgPT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1NTM2MVx1NzI0N1x1NjNEMFx1NTNENlx1NUI4Q1x1NjIxMFx1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25DYXJkRXh0cmFjdGVkKCkge1xuICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNFeHRyYWN0ZWQrKztcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cbi8qKlxuICogXHVEODNDXHVERkFGIFx1NjNEMFx1NTNENlx1NEUzQXRleHRcdTY1RjZcdThDMDNcdTc1MjhcbiAqL1xuYXN5bmMgb25Ob3RlRXh0cmFjdGVkQXNUZXh0KCkge1xuICB0aGlzLnByb2dyZXNzLnN0YXRzLm5vdGVzRXh0cmFjdGVkQXNUZXh0Kys7XG4gIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG59XG5cbi8qKlxuICogXHVEODNDXHVERkFGIFx1NjNEMFx1NTNENlx1NEUzQVFBXHU2NUY2XHU4QzAzXHU3NTI4XG4gKi9cbmFzeW5jIG9uTm90ZUV4dHJhY3RlZEFzUUEoKSB7XG4gIHRoaXMucHJvZ3Jlc3Muc3RhdHMubm90ZXNFeHRyYWN0ZWRBc1FBKys7XG4gIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG59XG5cbi8qKlxuICogXHVEODNDXHVERkFGIFx1NjNEMFx1NTNENlx1NEUzQWNsb3plXHU2NUY2XHU4QzAzXHU3NTI4XG4gKi9cbmFzeW5jIG9uTm90ZUV4dHJhY3RlZEFzQ2xvemUoKSB7XG4gIHRoaXMucHJvZ3Jlc3Muc3RhdHMubm90ZXNFeHRyYWN0ZWRBc0Nsb3plKys7XG4gIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG59XG5cbi8qKlxuICogXHVEODNDXHVERkFGIHNjYW5cdTYzRDBcdTUzRDZcdTdCMTRcdThCQjBcdTY1RjZcdThDMDNcdTc1MjhcbiAqL1xuYXN5bmMgb25Ob3RlU2Nhbm5lZCgpIHtcbiAgdGhpcy5wcm9ncmVzcy5zdGF0cy5ub3Rlc1NjYW5uZWQrKztcbiAgYXdhaXQgdGhpcy5jaGVja0xldmVsVXAoKTtcbiAgYXdhaXQgdGhpcy5zYXZlUHJvZ3Jlc3MoKTtcbn1cbiAgLyoqXG4gICAqIFx1RDgzQ1x1REZBRiBcdTYyNzlcdTZDRThcdTVCOENcdTYyMTBcdTY1RjZcdThDMDNcdTc1MjhcbiAgICovXG4gIGFzeW5jIG9uQW5ub3RhdGlvbkNvbXBsZXRlZCgpIHtcbiAgICBjb25zdCBiZWZvcmUgPSB0aGlzLnByb2dyZXNzLnN0YXRzLmFubm90YXRpb25zQ29tcGxldGVkO1xuICAgIFxuICAgIFxuICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuYW5ub3RhdGlvbnNDb21wbGV0ZWQrKztcbiAgICBcbiAgICBcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gICAgXG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1NTM2MVx1NzI0N1x1NTkwRFx1NEU2MFx1NUI4Q1x1NjIxMFx1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25DYXJkUmV2aWV3ZWQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc1Jldmlld2VkKys7XG4gICAgdGhpcy51cGRhdGVEYWlseVN0cmVhaygpO1xuICAgIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlUHJvZ3Jlc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0NcdURGQUYgXHU2MjZCXHU2M0NGXHU4ODY4XHU2ODNDXHU2NUY2XHU4QzAzXHU3NTI4XG4gICAqL1xuICBhc3luYyBvblRhYmxlU2Nhbm5lZCgpIHtcbiAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnRhYmxlc1NjYW5uZWQrKztcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1OEJCRlx1OTVFRVx1N0VERlx1OEJBMVx1OTg3NVx1OTc2Mlx1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25TdGF0c1BhZ2VWaXNpdGVkKCkge1xuICAgIGlmICghdGhpcy5wcm9ncmVzcy5zdGF0cy5zdGF0c1BhZ2VWaXNpdGVkKSB7XG4gICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnN0YXRzUGFnZVZpc2l0ZWQgPSB0cnVlO1xuICAgICAgYXdhaXQgdGhpcy5jaGVja0xldmVsVXAoKTtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1MjlGXHU4MEZEXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1NjhDMFx1NjdFNVx1NTI5Rlx1ODBGRFx1NjYyRlx1NTQyNlx1ODlFM1x1OTUwMVxuICAgKi9cbiAgaXNGZWF0dXJlVW5sb2NrZWQoZmVhdHVyZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGV2ZWwgPSB0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbDtcbiAgICBcbiAgICBjb25zdCBmZWF0dXJlTWFwOiBSZWNvcmQ8c3RyaW5nLCBVc2VyTGV2ZWw+ID0ge1xuICAgICAgLy8gTHYxXG4gICAgICAnZXh0cmFjdC1zaW5nbGUnOiAxLFxuICAgICAgJ3NpZGViYXItYmFzaWMnOiAxLFxuICAgICAgXG4gICAgICAvLyBMdjJcbiAgICAgICdleHRyYWN0LWJhdGNoJzogMixcbiAgICAgICdhbm5vdGF0aW9uJzogMixcbiAgICAgICdmaWx0ZXItYnktdHlwZSc6IDIsXG4gICAgICAnc2Nhbi1maWxlJzogMixcbiAgICAgIFxuICAgICAgLy8gTHYzXG4gICAgICAnc2Nhbi12YXVsdCc6IDMsXG4gICAgICAncmV2aWV3LXBhZ2UnOiAzLFxuICAgICAgJ3Jldmlldy1yZW1pbmRlcic6IDMsXG4gICAgICAnZXh0cmFjdC10YWJsZSc6IDMsXG4gICAgICBcbiAgICAgIC8vIEx2NFxuICAgICAgJ3N0YXRzLXBhZ2UnOiA0LFxuICAgICAgXG4gICAgICAvLyBMdjVcbiAgICAgICdhZHZhbmNlZC1hbmFseXRpY3MnOiA1LFxuICAgICAgJ2NvbW11bml0eSc6IDVcbiAgICB9O1xuXG4gICAgY29uc3QgcmVxdWlyZWRMZXZlbCA9IGZlYXR1cmVNYXBbZmVhdHVyZV0gfHwgMTtcbiAgICByZXR1cm4gbGV2ZWwgPj0gcmVxdWlyZWRMZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTVDMURcdThCRDVcdTRGN0ZcdTc1MjhcdTUyOUZcdTgwRkQoXHU1OTgyXHU2NzlDXHU2NzJBXHU4OUUzXHU5NTAxXHU1MjE5XHU2M0QwXHU3OTNBKVxuICAgKi9cbiAgdHJ5VXNlRmVhdHVyZShmZWF0dXJlOiBzdHJpbmcsIGZlYXR1cmVOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pc0ZlYXR1cmVVbmxvY2tlZChmZWF0dXJlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICBcbiAgICBjb25zdCByZXF1aXJlZExldmVsID0gdGhpcy5nZXRGZWF0dXJlUmVxdWlyZWRMZXZlbChmZWF0dXJlKTtcbiAgICBjb25zdCBuZXh0U3RlcHMgPSB0aGlzLmdldE5leHRTdGVwc0ZvckxldmVsKHRoaXMucHJvZ3Jlc3MuY3VycmVudExldmVsKTtcbiAgICBcbiAgICAvLyBcdTRGMjBcdTkwMTJcdThCRURcdThBMDBcdTUzQzJcdTY1NzBcbiAgICBuZXcgVW5sb2NrTm90aWNlTW9kYWwoXG4gICAgICB0aGlzLmFwcCwgXG4gICAgICBmZWF0dXJlTmFtZSwgXG4gICAgICByZXF1aXJlZExldmVsLCBcbiAgICAgIG5leHRTdGVwcyxcbiAgICAgIHRoaXMubGFuZ3VhZ2VcbiAgICApLm9wZW4oKTtcbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTdCNDlcdTdFQTdcdTY4QzBcdTY3RTVcdTU0OENcdTUzNDdcdTdFQTcgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGFzeW5jIGNoZWNrTGV2ZWxVcCgpIHtcbiAgICBjb25zdCBvbGRMZXZlbCA9IHRoaXMucHJvZ3Jlc3MuY3VycmVudExldmVsO1xuICAgIGxldCBuZXdMZXZlbCA9IG9sZExldmVsO1xuXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU1MzQ3XHU3RUE3XHU2NzYxXHU0RUY2XG4gICAgaWYgKG9sZExldmVsID09PSAxICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWwyKCkpIHtcbiAgICAgIG5ld0xldmVsID0gMjtcbiAgICB9IGVsc2UgaWYgKG9sZExldmVsID09PSAyICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWwzKCkpIHtcbiAgICAgIG5ld0xldmVsID0gMztcbiAgICB9IGVsc2UgaWYgKG9sZExldmVsID09PSAzICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWw0KCkpIHtcbiAgICAgIG5ld0xldmVsID0gNDtcbiAgICB9IGVsc2UgaWYgKG9sZExldmVsID09PSA0ICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWw1KCkpIHtcbiAgICAgIG5ld0xldmVsID0gNTtcbiAgICB9XG5cbiAgICBpZiAobmV3TGV2ZWwgPiBvbGRMZXZlbCkge1xuICAgICAgYXdhaXQgdGhpcy5sZXZlbFVwKG5ld0xldmVsKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNhblVwZ3JhZGVUb0xldmVsMigpOiBib29sZWFuIHtcbiAgICBjb25zdCB7IG5vdGVzRXh0cmFjdGVkQXNUZXh0LCBub3Rlc0V4dHJhY3RlZEFzUUEsIG5vdGVzRXh0cmFjdGVkQXNDbG96ZSB9ID0gdGhpcy5wcm9ncmVzcy5zdGF0cztcbiAgLy8gXHU2QkNGXHU3OUNEXHU3QzdCXHU1NzhCXHU4MUYzXHU1QzExXHU2M0QwXHU1M0Q2Mlx1NEUyQVx1N0IxNFx1OEJCMFxuICByZXR1cm4gbm90ZXNFeHRyYWN0ZWRBc1RleHQgPj0gMiAmJiBcbiAgICAgICAgIG5vdGVzRXh0cmFjdGVkQXNRQSA+PSAyICYmIFxuICAgICAgICAgbm90ZXNFeHRyYWN0ZWRBc0Nsb3plID49IDI7XG5cbiAgfVxuICBcbiAgcHJpdmF0ZSBjYW5VcGdyYWRlVG9MZXZlbDMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3Muc3RhdHMuYW5ub3RhdGlvbnNDb21wbGV0ZWQgPj0gMyAmJlxuICAgICAgICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLm5vdGVzU2Nhbm5lZCA+PSA1O1xuICB9XG4gIFxuICBwcml2YXRlIGNhblVwZ3JhZGVUb0xldmVsNCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc1Jldmlld2VkID49IDMwICYmXG4gICAgICAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMudGFibGVzU2Nhbm5lZCA+PSAyO1xuICB9XG4gIFxuICBwcml2YXRlIGNhblVwZ3JhZGVUb0xldmVsNSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc1Jldmlld2VkID49IDcwICYmXG4gICAgICAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMudG90YWxEYXlzID49IDIxICYmXG4gICAgICAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuc3RhdHNQYWdlVmlzaXRlZDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbGV2ZWxVcChuZXdMZXZlbDogVXNlckxldmVsKSB7XG4gICAgdGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB0aGlzLnByb2dyZXNzLmxldmVsVW5sb2NrZWRBdFtuZXdMZXZlbF0gPSBEYXRlLm5vdygpO1xuICBcbiAgICBjb25zdCBtZXNzYWdlID0gdChgdW5sb2NrLmxldmVsVXAuJHtuZXdMZXZlbH1gLCB0aGlzLmxhbmd1YWdlKTtcbiAgXG4gICAgY29uc3QgbWlsZXN0b25lID0ge1xuICAgICAgbGV2ZWw6IG5ld0xldmVsLFxuICAgICAgdW5sb2NrZWRBdDogRGF0ZS5ub3coKSxcbiAgICB9O1xuICBcbiAgICB0aGlzLnByb2dyZXNzLm1pbGVzdG9uZXMucHVzaChtaWxlc3RvbmUpO1xuICBcbiAgICAvLyBcdTY2M0VcdTc5M0FcdTUzNDdcdTdFQTdcdTkwMUFcdTc3RTVcbiAgICBuZXcgTm90aWNlKG1lc3NhZ2UsIDEwMDAwKTtcbiAgICBcbiAgICBhd2FpdCB0aGlzLnNhdmVQcm9ncmVzcygpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2NUU1XHU1RTM4XHU4RkRFXHU3RUVEXHU1OTI5XHU2NTcwID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSB1cGRhdGVEYWlseVN0cmVhaygpIHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIGNvbnN0IGxhc3RBY3RpdmUgPSB0aGlzLnByb2dyZXNzLnN0YXRzLmxhc3RBY3RpdmVEYXRlO1xuXG4gICAgaWYgKGxhc3RBY3RpdmUgIT09IHRvZGF5KSB7XG4gICAgICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpO1xuICAgICAgY29uc3QgeWVzdGVyZGF5U3RyID0geWVzdGVyZGF5LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgICAgaWYgKGxhc3RBY3RpdmUgPT09IHllc3RlcmRheVN0cikge1xuICAgICAgICAvLyBcdThGREVcdTdFRURcbiAgICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5jb25zZWN1dGl2ZURheXMrKztcbiAgICAgIH0gZWxzZSBpZiAoIWxhc3RBY3RpdmUpIHtcbiAgICAgICAgLy8gXHU5OTk2XHU2QjIxXG4gICAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY29uc2VjdXRpdmVEYXlzID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NEUyRFx1NjVBRFxuICAgICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLmNvbnNlY3V0aXZlRGF5cyA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMudG90YWxEYXlzKys7XG4gICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLmxhc3RBY3RpdmVEYXRlID0gdG9kYXk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgZ2V0Q3VycmVudExldmVsKCk6IFVzZXJMZXZlbCB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3MuY3VycmVudExldmVsO1xuICB9XG5cbiAgZ2V0UHJvZ3Jlc3MoKTogVW5sb2NrUHJvZ3Jlc3Mge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzO1xuICB9XG4gIGdldE5leHRTdGVwc0ZvckxldmVsKGxldmVsOiBVc2VyTGV2ZWwpOiBzdHJpbmcge1xuICAgIGNvbnN0IHN0YXRzID0gdGhpcy5wcm9ncmVzcy5zdGF0cztcbiAgICBjb25zdCBsYW5nID0gdGhpcy5sYW5ndWFnZTtcbiAgICBcbiAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiB0KCd1bmxvY2submV4dFN0ZXBzLmxldmVsMScsIGxhbmcsIHsgXG4gICAgICAgICAgdGV4dDogc3RhdHMubm90ZXNFeHRyYWN0ZWRBc1RleHQsXG4gICAgICAgICAgcWE6IHN0YXRzLm5vdGVzRXh0cmFjdGVkQXNRQSxcbiAgICAgICAgICBjbG96ZTogc3RhdHMubm90ZXNFeHRyYWN0ZWRBc0Nsb3plXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gdCgndW5sb2NrLm5leHRTdGVwcy5sZXZlbDInLCBsYW5nLCB7IFxuICAgICAgICAgIGFubm90YXRpb25zOiBzdGF0cy5hbm5vdGF0aW9uc0NvbXBsZXRlZCxcbiAgICAgICAgICBzY2FubmVkOiBzdGF0cy5ub3Rlc1NjYW5uZWRcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiB0KCd1bmxvY2submV4dFN0ZXBzLmxldmVsMycsIGxhbmcsIHsgXG4gICAgICAgICAgcmV2aWV3ZWQ6IHN0YXRzLmNhcmRzUmV2aWV3ZWQsXG4gICAgICAgICAgdGFibGVzOiBzdGF0cy50YWJsZXNTY2FubmVkXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSA0OlxuICAgICAgICByZXR1cm4gdCgndW5sb2NrLm5leHRTdGVwcy5sZXZlbDQnLCBsYW5nLCB7XG4gICAgICAgICAgcmV2aWV3ZWQ6IHN0YXRzLmNhcmRzUmV2aWV3ZWQsXG4gICAgICAgICAgdG90YWw6IHN0YXRzLnRvdGFsRGF5cyxcbiAgICAgICAgICB2aXNpdGVkOiBzdGF0cy5zdGF0c1BhZ2VWaXNpdGVkID8gJ1x1MjcxMycgOiAnXHUyNzE3J1xuICAgICAgICB9KTtcbiAgICAgIGNhc2UgNTpcbiAgICAgICAgcmV0dXJuIHQoJ3VubG9jay5uZXh0U3RlcHMubGV2ZWw1JywgbGFuZyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgZ2V0RmVhdHVyZVJlcXVpcmVkTGV2ZWwoZmVhdHVyZTogc3RyaW5nKTogVXNlckxldmVsIHtcbiAgICBpZiAoWydleHRyYWN0LXNpbmdsZScsICdzaWRlYmFyLWJhc2ljJ10uaW5jbHVkZXMoZmVhdHVyZSkpIHJldHVybiAxO1xuICAgIGlmIChbJ2V4dHJhY3QtYmF0Y2gnLCAnYW5ub3RhdGlvbicsICdmaWx0ZXItYnktdHlwZSddLmluY2x1ZGVzKGZlYXR1cmUpKSByZXR1cm4gMjtcbiAgICBpZiAoWydzY2FuLXZhdWx0JywgJ3NjYW4tZmlsZScsICdyZXZpZXctcGFnZScsICdyZXZpZXctcmVtaW5kZXInLCAnZXh0cmFjdC10YWJsZSddLmluY2x1ZGVzKGZlYXR1cmUpKSByZXR1cm4gMztcbiAgICBpZiAoZmVhdHVyZSA9PT0gJ3N0YXRzLXBhZ2UnKSByZXR1cm4gNDtcbiAgICByZXR1cm4gNTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NjU3MFx1NjM2RVx1NjMwMVx1NEU0NVx1NTMxNiA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZFByb2dyZXNzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcbiAgICAgIFxuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHRoaXMuZGF0YVBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQodGhpcy5kYXRhUGF0aCk7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjA2Mlx1NTkwRCBTZXRcbiAgICAgICAgc2F2ZWQudW5sb2NrZWRGZWF0dXJlcyA9IG5ldyBTZXQoc2F2ZWQudW5sb2NrZWRGZWF0dXJlcyB8fCBbXSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnByb2dyZXNzID0gc2F2ZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gdGhpcy5jcmVhdGVEZWZhdWx0UHJvZ3Jlc3MoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB1bmxvY2sgcHJvZ3Jlc3M6JywgZXJyb3IpO1xuICAgICAgdGhpcy5wcm9ncmVzcyA9IHRoaXMuY3JlYXRlRGVmYXVsdFByb2dyZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzYXZlUHJvZ3Jlc3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuICAgICAgXG4gICAgICAvLyBcdThGNkNcdTYzNjIgU2V0IFx1NEUzQVx1NjU3MFx1N0VDNFxuICAgICAgY29uc3QgdG9TYXZlID0ge1xuICAgICAgICAuLi50aGlzLnByb2dyZXNzLFxuICAgICAgICB1bmxvY2tlZEZlYXR1cmVzOiBBcnJheS5mcm9tKHRoaXMucHJvZ3Jlc3MudW5sb2NrZWRGZWF0dXJlcylcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh0b1NhdmUsIG51bGwsIDIpO1xuICAgICAgYXdhaXQgYWRhcHRlci53cml0ZSh0aGlzLmRhdGFQYXRoLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHVubG9jayBwcm9ncmVzczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEZWZhdWx0UHJvZ3Jlc3MoKTogVW5sb2NrUHJvZ3Jlc3Mge1xuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50TGV2ZWw6IDEsXG4gICAgICBzdGF0czoge1xuICAgICAgICBjYXJkc0V4dHJhY3RlZDogMCxcbiAgICAgICAgbm90ZXNFeHRyYWN0ZWRBc1RleHQ6IDAsXG4gICAgICAgIG5vdGVzRXh0cmFjdGVkQXNRQTogMCxcbiAgICAgICAgbm90ZXNFeHRyYWN0ZWRBc0Nsb3plOiAwLFxuICAgICAgICBhbm5vdGF0aW9uc0NvbXBsZXRlZDogMCxcbiAgICAgICAgbm90ZXNTY2FubmVkOiAwLFxuICAgICAgICBjYXJkc1Jldmlld2VkOiAwLFxuICAgICAgICB0YWJsZXNTY2FubmVkOiAwLFxuICAgICAgICBjb25zZWN1dGl2ZURheXM6IDAsXG4gICAgICAgIHRvdGFsRGF5czogMCxcbiAgICAgICAgc3RhdHNQYWdlVmlzaXRlZDogZmFsc2UsXG4gICAgICAgIGxhc3RBY3RpdmVEYXRlOiAnJ1xuICAgICAgfSxcbiAgICAgIHVubG9ja2VkRmVhdHVyZXM6IG5ldyBTZXQoWydleHRyYWN0LXNpbmdsZScsICdzaWRlYmFyLWJhc2ljJ10pLFxuICAgICAgbGV2ZWxVbmxvY2tlZEF0OiB7IDE6IERhdGUubm93KCkgfSxcbiAgICAgIG1pbGVzdG9uZXM6IFt7XG4gICAgICAgIGxldmVsOiAxLFxuICAgICAgICB1bmxvY2tlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgfV1cbiAgICB9O1xuICB9XG59XG5cbmNsYXNzIFVubG9ja05vdGljZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwcml2YXRlIGZlYXR1cmVOYW1lOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZXF1aXJlZExldmVsOiBudW1iZXIsXG4gICAgcHJpdmF0ZSBuZXh0U3RlcHM6IHN0cmluZyxcbiAgICBwcml2YXRlIGxhbmd1YWdlOiBMYW5ndWFnZSA9ICdlbidcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgfVxuICBcbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIFxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHQoJ3VubG9jay5tb2RhbC50aXRsZScsIHRoaXMubGFuZ3VhZ2UpIH0pO1xuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiB0KCd1bmxvY2subW9kYWwucmVxdWlyZUxldmVsJywgdGhpcy5sYW5ndWFnZSwge1xuICAgICAgICBmZWF0dXJlOiB0aGlzLmZlYXR1cmVOYW1lLFxuICAgICAgICBsZXZlbDogdGhpcy5yZXF1aXJlZExldmVsXG4gICAgICB9KVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHQoJ3VubG9jay5tb2RhbC5jdXJyZW50UHJvZ3Jlc3MnLCB0aGlzLmxhbmd1YWdlKSB9KTtcbiAgICBcbiAgICAvLyBcdTUyMUJcdTVFRkFcdTVCQjlcdTU2NjhcdTVFNzZcdThCQkVcdTdGNkVcdTY4MzdcdTVGMEZcbiAgICBjb25zdCBjb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG4gICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7XG4gICAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgIGNvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNXB4JztcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9ICcxLjgnO1xuICAgIFxuICAgIC8vIFx1NEY3Rlx1NzUyOCBpbm5lckhUTUwgXHU3NkY0XHU2M0E1XHU2M0QyXHU1MTY1XHU1RTI2IDxicj4gXHU3Njg0IEhUTUxcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5uZXh0U3RlcHMucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTUyMDZcdTk2OTRcdTdFQkZcbiAgICBjb25zdCBkaXZpZGVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnKTtcbiAgICBkaXZpZGVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRpdmlkZXIuc3R5bGUuaGVpZ2h0ID0gJzJweCc7XG4gICAgZGl2aWRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzY2Nic7XG4gICAgZGl2aWRlci5zdHlsZS5tYXJnaW4gPSAnMjBweCAwJztcbiAgfVxuICBcbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIExldmVsSW5mb01vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwcml2YXRlIHByb2dyZXNzOiBVbmxvY2tQcm9ncmVzcyxcbiAgICBwcml2YXRlIHVubG9ja1N5c3RlbTogVW5sb2NrU3lzdGVtLFxuICAgIHByaXZhdGUgbGFuZ3VhZ2U6IExhbmd1YWdlID0gJ2VuJyBcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgfVxuICBcbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnbGV2ZWwtaW5mby1tb2RhbCcpO1xuICAgIFxuICAgIGNvbnN0IGxldmVsID0gdGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWw7XG4gICAgY29uc3QgbGV2ZWxOYW1lID0gdChgdW5sb2NrLmxldmVsLiR7bGV2ZWx9YCwgdGhpcy5sYW5ndWFnZSk7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgXG4gICAgICB0ZXh0OiB0KCd1bmxvY2subGV2ZWxJbmZvLnRpdGxlJywgdGhpcy5sYW5ndWFnZSwge1xuICAgICAgICBsZXZlbDogbGV2ZWwsXG4gICAgICAgIG5hbWU6IGxldmVsTmFtZVxuICAgICAgfSlcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdThGREJcdTVFQTZcdTRGRTFcdTYwNkZcbiAgICBjb25zdCBwcm9ncmVzc1NlY3Rpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3Mtc2VjdGlvbicgfSk7XG4gICAgXG4gICAgY29uc3QgcHJvZ3Jlc3NCb3ggPSBwcm9ncmVzc1NlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3MtYm94JyB9KTtcbiAgICBjb25zdCBwcm9ncmVzc1RleHQgPSB0aGlzLnVubG9ja1N5c3RlbS5nZXROZXh0U3RlcHNGb3JMZXZlbCh0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbCk7XG4gICAgcHJvZ3Jlc3NCb3guaW5uZXJIVE1MID0gcHJvZ3Jlc3NUZXh0LnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xuICAgIFxuICAgIC8vIFx1N0VERlx1OEJBMVx1NEZFMVx1NjA2RlxuICAgIGNvbnN0IHN0YXRzU2VjdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy1zZWN0aW9uJyB9KTtcbiAgICBzdGF0c1NlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiB0KCd1bmxvY2subGV2ZWxJbmZvLmN1bXVsYXRpdmVTdGF0cycsIHRoaXMubGFuZ3VhZ2UpIH0pO1xuICAgIFxuICAgIGNvbnN0IHN0YXRzR3JpZCA9IHN0YXRzU2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy1ncmlkJyB9KTtcbiAgICBcbiAgICBjb25zdCBzdGF0cyA9IFtcbiAgICAgIHsgXG4gICAgICAgIGljb246ICdcdUQ4M0RcdURDRTYnLCBcbiAgICAgICAgbGFiZWw6IHQoJ3VubG9jay5zdGF0LmNhcmRzRXh0cmFjdGVkJywgdGhpcy5sYW5ndWFnZSksIFxuICAgICAgICB2YWx1ZTogdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc0V4dHJhY3RlZCBcbiAgICAgIH0sXG4gICAgICB7IFxuICAgICAgICBpY29uOiAnXHVEODNEXHVEQ0REJywgXG4gICAgICAgIGxhYmVsOiB0KCd1bmxvY2suc3RhdC5hbm5vdGF0aW9uc0NvbXBsZXRlZCcsIHRoaXMubGFuZ3VhZ2UpLCBcbiAgICAgICAgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMuYW5ub3RhdGlvbnNDb21wbGV0ZWQgXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgaWNvbjogJ1x1RDgzRFx1REQwNCcsIFxuICAgICAgICBsYWJlbDogdCgndW5sb2NrLnN0YXQuY2FyZHNSZXZpZXdlZCcsIHRoaXMubGFuZ3VhZ2UpLCBcbiAgICAgICAgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNSZXZpZXdlZCBcbiAgICAgIH0sXG4gICAgICB7IFxuICAgICAgICBpY29uOiAnXHVEODNEXHVEQ0NCJywgXG4gICAgICAgIGxhYmVsOiB0KCd1bmxvY2suc3RhdC50YWJsZXNTY2FubmVkJywgdGhpcy5sYW5ndWFnZSksIFxuICAgICAgICB2YWx1ZTogdGhpcy5wcm9ncmVzcy5zdGF0cy50YWJsZXNTY2FubmVkIFxuICAgICAgfSxcbiAgICAgIHsgXG4gICAgICAgIGljb246ICdcdUQ4M0RcdUREMjUnLCBcbiAgICAgICAgbGFiZWw6IHQoJ3VubG9jay5zdGF0LmNvbnNlY3V0aXZlRGF5cycsIHRoaXMubGFuZ3VhZ2UpLCBcbiAgICAgICAgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMuY29uc2VjdXRpdmVEYXlzIFxuICAgICAgfSxcbiAgICAgIHsgXG4gICAgICAgIGljb246ICdcdUQ4M0RcdURDQzUnLCBcbiAgICAgICAgbGFiZWw6IHQoJ3VubG9jay5zdGF0LnRvdGFsRGF5cycsIHRoaXMubGFuZ3VhZ2UpLCBcbiAgICAgICAgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMudG90YWxEYXlzIFxuICAgICAgfVxuICAgIF07XG4gICAgXG4gICAgc3RhdHMuZm9yRWFjaChzdGF0ID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBzdGF0c0dyaWQuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdC1pdGVtJyB9KTtcbiAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtaWNvblwiPiR7c3RhdC5pY29ufTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWxhYmVsXCI+JHtzdGF0LmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LXZhbHVlXCI+JHtzdGF0LnZhbHVlfTwvc3Bhbj5cbiAgICAgIGA7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU5MUNDXHU3QTBCXHU3ODkxXG4gICAgaWYgKHRoaXMucHJvZ3Jlc3MubWlsZXN0b25lcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBtaWxlc3RvbmVzU2VjdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdtaWxlc3RvbmVzLXNlY3Rpb24nIH0pO1xuICAgICAgbWlsZXN0b25lc1NlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyBcbiAgICAgICAgdGV4dDogdCgndW5sb2NrLmxldmVsSW5mby5taWxlc3RvbmVzJywgdGhpcy5sYW5ndWFnZSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBtaWxlc3RvbmVzTGlzdCA9IG1pbGVzdG9uZXNTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ21pbGVzdG9uZXMtbGlzdCcgfSk7XG4gICAgICBcbiAgICAgIHRoaXMucHJvZ3Jlc3MubWlsZXN0b25lc1xuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIC5mb3JFYWNoKChtaWxlc3RvbmUpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gbWlsZXN0b25lc0xpc3QuY3JlYXRlRGl2KHsgY2xzOiAnbWlsZXN0b25lLWl0ZW0nIH0pO1xuICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShtaWxlc3RvbmUudW5sb2NrZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKFxuICAgICAgICAgICAgdGhpcy5sYW5ndWFnZSA9PT0gJ3poLUNOJyA/ICd6aC1DTicgOiAnZW4tVVMnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdChgdW5sb2NrLmxldmVsVXAuJHttaWxlc3RvbmUubGV2ZWx9YCwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICBcbiAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaWxlc3RvbmUtbWVzc2FnZVwiPiR7ZGF0ZX0gJHttZXNzYWdlfTwvZGl2PlxuICAgICAgICAgIGA7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyByZXZpZXdWaWV3LnRzIC0gXHU5MUNEXHU2Nzg0XHU3MjQ4XHU2NzJDXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IENhcmRTY2hlZHVsZXIsIFJldmlld0Vhc2UgfSBmcm9tICcuLi8uLi9jb3JlL0NhcmRTY2hlZHVsZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkRWRpdE1vZGFsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbHMvRmxhc2hjYXJkRWRpdE1vZGFsJztcbmltcG9ydCB7IFJldmlld1N0YXRlTWFuYWdlcixSZXZpZXdTdGF0ZSB9IGZyb20gJy4uL3N0YXRzL3Jldmlld1N0YXRlTWFuYWdlcic7XG4vLyBpbXBvcnQgeyBSZXZpZXdLZXlib2FyZEhhbmRsZXIgfSBmcm9tICcuL1Jldmlld0tleWJvYXJkSGFuZGxlcic7XG5pbXBvcnQgeyBUYWJsZVJlbmRlcmVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy9UYWJsZVJlbmRlcmVyJztcbmltcG9ydCB7IENhcmRSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuLi9jb21wb25lbnRzL3Jldmlld0NhcmRSZW5kZXInO1xuXG5pbXBvcnQgeyByZXZpZXdTdHlsZSB9IGZyb20gJy4uL3N0eWxlL3Jldmlld1N0eWxlJztcblxuaW1wb3J0IHsgdCxMYW5ndWFnZSB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9SRVZJRVcgPSAnbGVhcm5pbmctc3lzdGVtLXJldmlldyc7XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gXHU0RTNCXHU4OUM2XHU1NkZFXHU3QzdCXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY2xhc3MgUmV2aWV3VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbjtcbiAgcHJpdmF0ZSBsYW5ndWFnZTogTGFuZ3VhZ2U7XG4gIHByaXZhdGUgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyO1xuICBwcml2YXRlIGR1ZUNhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuICBwcml2YXRlIGN1cnJlbnRDYXJkSW5kZXg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgY3VycmVudENhcmQ6IEZsYXNoY2FyZCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHN0YXRlTWFuYWdlcjogUmV2aWV3U3RhdGVNYW5hZ2VyID0gbmV3IFJldmlld1N0YXRlTWFuYWdlcigpO1xuICBwcml2YXRlIHJldmlld2VkQ2FyZElkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7IC8vIFx1OERERlx1OEUyQVx1NURGMlx1NTkwRFx1NEU2MFx1NzY4NFx1NTM2MVx1NzI0N1xuXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgICB0aGlzLnNjaGVkdWxlciA9IG5ldyBDYXJkU2NoZWR1bGVyKCk7XG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBWSUVXX1RZUEVfUkVWSUVXO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ0ZsYXNoY2FyZCBSZXZpZXcnO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnbGF5ZXJzJztcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWREdWVDYXJkcygpO1xuICAgIHJldmlld1N0eWxlLmluamVjdCgpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gICAgdGhpcy5yZWdpc3RlcktleWJvYXJkSGFuZGxlcnMoKTtcbiAgfVxuXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU3MkI2XHU2MDAxXHU3QkExXHU3NDA2XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gIHByaXZhdGUgcmVzZXRSZXZpZXdTdGF0ZSgpIHtcbiAgICB0aGlzLnN0YXRlTWFuYWdlci5yZXNldCgpO1xuXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRDYXJkKGRpcmVjdGlvbjogJ25leHQnIHwgJ3ByZXYnID0gJ25leHQnKSB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHRoaXMuZHVlQ2FyZHNbdGhpcy5jdXJyZW50Q2FyZEluZGV4XTtcbiAgICBjb25zdCBpc1NhbWVDYXJkID0gdGhpcy5jdXJyZW50Q2FyZD8uaWQgPT09IG5ld0NhcmQ/LmlkO1xuICAgIFxuICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnVwZGF0ZUZvck5ld0NhcmQobmV3Q2FyZCwgaXNTYW1lQ2FyZCwgZGlyZWN0aW9uKTtcbiAgICB0aGlzLmN1cnJlbnRDYXJkID0gbmV3Q2FyZDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU2NTcwXHU2MzZFXHU1MkEwXHU4RjdEXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgcHJpdmF0ZSBhc3luYyBsb2FkRHVlQ2FyZHMoKSB7XG4gICAgdGhpcy5kdWVDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0RHVlQ2FyZHMoKTtcbiAgICB0aGlzLmN1cnJlbnRDYXJkSW5kZXggPSAwO1xuICAgIHRoaXMucmVzZXRSZXZpZXdTdGF0ZSgpO1xuICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnJlc2V0KCk7XG4gICAgdGhpcy5yZXZpZXdlZENhcmRJZHMuY2xlYXIoKTsgXG4gICAgdGhpcy51cGRhdGVDdXJyZW50Q2FyZCgnbmV4dCcpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBcdTZFMzJcdTY3RDNcdTkwM0JcdThGOTFcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBwcml2YXRlIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hZGRDbGFzcygncmV2aWV3LWNvbnRhaW5lcicpO1xuXG4gICAgaWYgKHRoaXMuZHVlQ2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnJlbmRlck5vRHVlQ2FyZHMoY29udGFpbmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0aGlzLnVwZGF0ZUN1cnJlbnRDYXJkKCk7XG4gICAgdGhpcy5yZW5kZXJQcm9ncmVzcyhjb250YWluZXIpO1xuICAgIFxuICAgIGNvbnN0IGNhcmRBcmVhID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NhcmQtYXJlYScgfSk7XG4gICAgdGhpcy5yZW5kZXJUb3BBY3Rpb25zKGNhcmRBcmVhKTtcbiAgICBcbiAgICBpZiAodGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKS5zaG93QW5zd2VyKSB7XG4gICAgICB0aGlzLnJlbmRlckFuc3dlclZpZXcoY2FyZEFyZWEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlclF1ZXN0aW9uVmlldyhjYXJkQXJlYSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJOb0R1ZUNhcmRzKGNvbnRhaW5lcjogRWxlbWVudCkge1xuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZW1wdHktc3RhdGUnIH0pO1xuICAgIGVtcHR5U3RhdGUuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnXHVEODNDXHVERjg5IEFsbCBEb25lIScgfSk7XG4gICAgZW1wdHlTdGF0ZS5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05vIGNhcmRzIGR1ZSBmb3IgcmV2aWV3IHJpZ2h0IG5vdy4nIH0pO1xuXG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldFN0YXRzKCk7XG4gICAgY29uc3Qgc3RhdHNEaXYgPSBlbXB0eVN0YXRlLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLXN1bW1hcnknIH0pO1xuICAgIHN0YXRzRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBgVG90YWwgY2FyZHM6ICR7c3RhdHMudG90YWx9YCB9KTtcbiAgICBzdGF0c0Rpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogYE5ldyBjYXJkczogJHtzdGF0cy5uZXd9YCB9KTtcbiAgICBzdGF0c0Rpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogYFJldmlld2VkIHRvZGF5OiAke3N0YXRzLnJldmlld2VkVG9kYXl9YCB9KTtcblxuICAgIGNvbnN0IGNsb3NlQnRuID0gZW1wdHlTdGF0ZS5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ0Nsb3NlIFJldmlldycsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIFxuICAgIGNsb3NlQnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLmNsZWFudXBSZXZpZXdlZENhcmRzKCk7XG4gICAgICB0aGlzLmxlYWY/LmRldGFjaCgpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclByb2dyZXNzKGNvbnRhaW5lcjogRWxlbWVudCkge1xuICAgIGNvbnN0IHByb2dyZXNzQmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWJhcicgfSk7XG4gICAgXG4gICAgY29uc3Qgc3RhdHMgPSBwcm9ncmVzc0Jhci5jcmVhdGVEaXYoeyBjbHM6ICdwcm9ncmVzcy1zdGF0cycgfSk7XG4gICAgY29uc3QgcmV2aWV3ZWQgPSB0aGlzLnJldmlld2VkQ2FyZElkcy5zaXplO1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy5kdWVDYXJkcy5sZW5ndGg7XG4gICAgXG4gICAgc3RhdHMuY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogYCR7cmV2aWV3ZWR9IC8gJHt0b3RhbH0gcmV2aWV3ZWRgLFxuICAgICAgY2xzOiAncHJvZ3Jlc3MtdGV4dCdcbiAgICB9KTtcbiAgXG4gICAgY29uc3QgYmFyQ29udGFpbmVyID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWNvbnRhaW5lcicgfSk7XG4gICAgY29uc3QgYmFyID0gYmFyQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2JhcicgfSk7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSAocmV2aWV3ZWQgLyB0b3RhbCkgKiAxMDA7XG4gICAgYmFyLnN0eWxlLndpZHRoID0gYCR7cHJvZ3Jlc3N9JWA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclRvcEFjdGlvbnMoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGFjdGlvbnNCYXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAndG9wLWFjdGlvbnMtYmFyJyB9KTtcblxuICAgIC8vIEp1bXAgdG8gU291cmNlIFx1NjMwOVx1OTRBRVxuICAgIGNvbnN0IGp1bXBCdG4gPSBhY3Rpb25zQmFyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICBjbHM6ICd0b3AtYWN0aW9uLWJ0biBqdW1wLWljb24tYnRuJyxcbiAgICAgIGF0dHI6IHsgJ2FyaWEtbGFiZWwnOiAnSnVtcCB0byBTb3VyY2UnIH1cbiAgICB9KTtcbiAgICBqdW1wQnRuLmlubmVySFRNTCA9ICdcdTIxOTcnO1xuICAgIGp1bXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmp1bXBUb1NvdXJjZSgpKTtcblxuICAgIC8vIE1vcmUgXHU4M0RDXHU1MzU1XG4gICAgdGhpcy5yZW5kZXJNb3JlTWVudShhY3Rpb25zQmFyKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyTW9yZU1lbnUoYWN0aW9uc0JhcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBtb3JlQnRuID0gYWN0aW9uc0Jhci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgY2xzOiAndG9wLWFjdGlvbi1idG4gbW9yZS1idG4nLFxuICAgICAgYXR0cjogeyAnYXJpYS1sYWJlbCc6ICdNb3JlIGFjdGlvbnMnIH1cbiAgICB9KTtcbiAgICBtb3JlQnRuLmlubmVySFRNTCA9ICdcdTIyRUYnO1xuICAgIFxuICAgIGNvbnN0IGRyb3Bkb3duID0gYWN0aW9uc0Jhci5jcmVhdGVEaXYoeyBjbHM6ICdtb3JlLWRyb3Bkb3duJyB9KTtcbiAgICBkcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgLy8gXHU4M0RDXHU1MzU1XHU5ODc5XHU5MTREXHU3RjZFXG4gICAgY29uc3QgbWVudUl0ZW1zID0gW1xuICAgICAge1xuICAgICAgICBsYWJlbDogJ1x1MjcwRlx1RkUwRiBFZGl0IENhcmQnLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmVkaXRDdXJyZW50Rmxhc2hjYXJkKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAnXHVEODNEXHVERDA0IFJlc2V0IENhcmQgU3RhdHMnLFxuICAgICAgICBvbkNsaWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmQgJiYgY29uZmlybSh0KCdjb25maXJtLnJlc2V0Q2FyZFN0YXRzJywgdGhpcy5sYW5ndWFnZSkpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlc2V0Q2FyZFN0YXRzKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdcdUQ4M0RcdURDREEgUmVzZXQgRGVjayBTdGF0cycsXG4gICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCkge1xuICAgICAgICAgICAgY29uc3QgZGVja05hbWUgPSB0aGlzLmN1cnJlbnRDYXJkLmRlY2s7XG4gICAgICAgICAgICBpZiAoY29uZmlybSh0KCdjb25maXJtLnJlc2V0RGVja1N0YXRzJywgdGhpcy5sYW5ndWFnZSwgeyBkZWNrOiBkZWNrTmFtZSB9KSkpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5hbHl0aWNzRW5naW5lLmNsZWFyRGVja1N0YXRzKGRlY2tOYW1lKTtcbiAgICAgICAgICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5kZWNrU3RhdHNSZXNldCcsIHRoaXMubGFuZ3VhZ2UsIHsgZGVjazogZGVja05hbWUgfSkpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkRHVlQ2FyZHMoKTtcbiAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAnXHVEODNEXHVEREQxXHVGRTBGIERlbGV0ZSBDYXJkJyxcbiAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDYXJkICYmIGNvbmZpcm0odCgnY29uZmlybS5kZWxldGVGbGFzaGNhcmQnLCB0aGlzLmxhbmd1YWdlKSkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlRmxhc2hjYXJkKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiAnZGVsZXRlLWl0ZW0nXG4gICAgICB9XG4gICAgXTtcblxuICAgIC8vIFx1NTIxQlx1NUVGQVx1ODNEQ1x1NTM1NVx1OTg3OVxuICAgIG1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgbWVudUl0ZW0gPSBkcm9wZG93bi5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICBjbHM6IGBkcm9wZG93bi1pdGVtICR7aXRlbS5jbGFzc05hbWUgfHwgJyd9YFxuICAgICAgfSk7XG4gICAgICBtZW51SXRlbS5pbm5lckhUTUwgPSBpdGVtLmxhYmVsO1xuICAgICAgbWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGl0ZW0ub25DbGljaygpO1xuICAgICAgICBkcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTUyMDdcdTYzNjJcdTRFMEJcdTYyQzlcdTgzRENcdTUzNTVcbiAgICBtb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBkcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcblxuICAgIGRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclF1ZXN0aW9uVmlldyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRDYXJkKSByZXR1cm47XG5cbiAgICAvLyBcdTUzNjFcdTcyNDdcdTRGRTFcdTYwNkZcbiAgICB0aGlzLnJlbmRlckNhcmRJbmZvKGNvbnRhaW5lcik7XG5cbiAgICAvLyBcdTk1RUVcdTk4OThcdTUzM0FcdTU3REZcbiAgICBjb25zdCBxdWVzdGlvbkFyZWEgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncXVlc3Rpb24tYXJlYScgfSk7XG4gICAgcXVlc3Rpb25BcmVhLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1F1ZXN0aW9uJyB9KTtcblxuICAgIC8vIFx1NEY3Rlx1NzUyOFx1N0I1Nlx1NzU2NVx1NkEyMVx1NUYwRlx1NkUzMlx1NjdEM1xuICAgIGNvbnN0IHJlbmRlcmVyID0gQ2FyZFJlbmRlcmVyRmFjdG9yeS5nZXRSZW5kZXJlcih0aGlzLmN1cnJlbnRDYXJkLnR5cGUpO1xuICAgIHJlbmRlcmVyLnJlbmRlclF1ZXN0aW9uKFxuICAgICAgcXVlc3Rpb25BcmVhLCBcbiAgICAgIHRoaXMuY3VycmVudENhcmQsIFxuICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKSxcbiAgICAgIHtcbiAgICAgICAgc2V0VXNlckFuc3dlcjogKGFuc3dlcjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0VXNlckFuc3dlcihhbnN3ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRVc2VyQW5zd2VyczogKGFuc3dlcnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0VXNlckFuc3dlcnMoYW5zd2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIC8vIFx1NjYzRVx1NzkzQVx1N0I1NFx1Njg0OFx1NjMwOVx1OTRBRSArIFx1N0ZGQlx1OTg3NVx1NjMwOVx1OTRBRVx1NTcyOFx1NTQwQ1x1NEUwMFx1ODg0Q1xuICAgIGNvbnN0IGFjdGlvblJvdyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdhY3Rpb24tcm93JyB9KTtcbiAgICB0aGlzLnJlbmRlck5hdmlnYXRpb25CdXR0b24oYWN0aW9uUm93LCAncHJldicpO1xuICAgIHRoaXMucmVuZGVyU2hvd0Fuc3dlckJ1dHRvbihhY3Rpb25Sb3cpOyAgLy8gXHU1OTBEXHU3NTI4XHU1MzlGXHU2NUI5XHU2Q0Q1XG4gICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uQnV0dG9uKGFjdGlvblJvdywgJ25leHQnKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQW5zd2VyVmlldyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRDYXJkKSByZXR1cm47XG4gIFxuICAgIC8vIFx1NTM2MVx1NzI0N1x1NEZFMVx1NjA2RlxuICAgIHRoaXMucmVuZGVyQ2FyZEluZm8oY29udGFpbmVyKTtcbiAgXG4gICAgLy8gXHU1M0VBXHU2NzA5XHU1NzI4XHU5NzVFXHU4ODY4XHU2ODNDXHU5NUVFXHU5ODk4XHU2NUY2XHU2MjREXHU2NjNFXHU3OTNBXHU5NUVFXHU5ODk4XHU1NkRFXHU5ODdFXG4gICAgY29uc3QgaXNRdWVzdGlvblRhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KHRoaXMuY3VycmVudENhcmQuZnJvbnQpO1xuICAgIGNvbnN0IGlzQW5zd2VyVGFibGUgPSB0aGlzLmN1cnJlbnRDYXJkLnR5cGUgPT09ICdjbG96ZScgXG4gICAgICA/IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdCh0aGlzLmN1cnJlbnRDYXJkLmNsb3plPy5vcmlnaW5hbCB8fCAnJylcbiAgICAgIDogVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KFxuICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5jdXJyZW50Q2FyZC5iYWNrKSBcbiAgICAgICAgICAgID8gKHRoaXMuY3VycmVudENhcmQuYmFja1swXSB8fCAnJykgXG4gICAgICAgICAgICA6IHRoaXMuY3VycmVudENhcmQuYmFjayBhcyBzdHJpbmdcbiAgICAgICAgKTtcbiAgICBcbiAgICBpZiAoIWlzUXVlc3Rpb25UYWJsZSAmJiAhaXNBbnN3ZXJUYWJsZSkge1xuICAgICAgdGhpcy5yZW5kZXJRdWVzdGlvblJldmlldyhjb250YWluZXIpO1xuICAgIH1cbiAgXG4gICAgLy8gXHU0RjdGXHU3NTI4XHU3QjU2XHU3NTY1XHU2QTIxXHU1RjBGXHU2RTMyXHU2N0QzXHU3QjU0XHU2ODQ4XG4gICAgY29uc3QgcmVuZGVyZXIgPSBDYXJkUmVuZGVyZXJGYWN0b3J5LmdldFJlbmRlcmVyKHRoaXMuY3VycmVudENhcmQudHlwZSk7XG4gICAgcmVuZGVyZXIucmVuZGVyQW5zd2VyKGNvbnRhaW5lciwgdGhpcy5jdXJyZW50Q2FyZCwgdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKSwgdGhpcy5zY2hlZHVsZXIpO1xuICBcbiAgICAgIC8vIFx1OEJDNFx1N0VBN1x1NjMwOVx1OTRBRSArIFx1N0ZGQlx1OTg3NVx1NjMwOVx1OTRBRVx1NTcyOFx1NTQwQ1x1NEUwMFx1ODg0Q1xuICAgICAgY29uc3QgYWN0aW9uUm93ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2FjdGlvbi1yb3cnIH0pO1xuICAgICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uQnV0dG9uKGFjdGlvblJvdywgJ3ByZXYnKTtcbiAgICAgIHRoaXMucmVuZGVyUmF0aW5nQnV0dG9ucyhhY3Rpb25Sb3cpOyAgLy8gXHU1OTBEXHU3NTI4XHU1MzlGXHU2NUI5XHU2Q0Q1LFx1NEYyMFx1NTE2NVx1NUJCOVx1NTY2OFxuICAgICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uQnV0dG9uKGFjdGlvblJvdywgJ25leHQnKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ2FyZEluZm8oY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2FyZEluZm8gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1pbmZvJyB9KTtcbiAgICBjYXJkSW5mby5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiB0aGlzLmN1cnJlbnRDYXJkLnR5cGUgPT09ICdxYScgPyAnXHVEODNEXHVEQ0REIFEmQScgOiAnXHUyNzBGXHVGRTBGIENsb3plJyxcbiAgICAgIGNsczogJ2NhcmQtdHlwZSdcbiAgICB9KTtcbiAgICBjYXJkSW5mby5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiBgRGVjazogJHt0aGlzLmN1cnJlbnRDYXJkLmRlY2t9YCxcbiAgICAgIGNsczogJ2NhcmQtZGVjaydcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUXVlc3Rpb25SZXZpZXcoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcXVlc3Rpb25SZXZpZXcgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncXVlc3Rpb24tcmV2aWV3JyB9KTtcbiAgICBxdWVzdGlvblJldmlldy5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdRdWVzdGlvbjonIH0pO1xuXG4gICAgY29uc3QgcmV2aWV3VGV4dERpdiA9IHF1ZXN0aW9uUmV2aWV3LmNyZWF0ZURpdih7IGNsczogJ3Jldmlldy10ZXh0JyB9KTtcbiAgICBjb25zdCBpc1F1ZXN0aW9uVGFibGUgPSBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQodGhpcy5jdXJyZW50Q2FyZC5mcm9udCk7XG4gICAgXG4gICAgaWYgKGlzUXVlc3Rpb25UYWJsZSkge1xuICAgICAgY29uc3QgdGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGUodGhpcy5jdXJyZW50Q2FyZC5mcm9udCwgZmFsc2UpO1xuICAgICAgcmV2aWV3VGV4dERpdi5hcHBlbmRDaGlsZCh0YWJsZUVsKTtcbiAgICAgIHJldmlld1RleHREaXYuY2xhc3NMaXN0LmFkZCgndGFibGUtcXVlc3Rpb24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV2aWV3VGV4dERpdi50ZXh0Q29udGVudCA9IHRoaXMuY3VycmVudENhcmQuZnJvbnQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTaG93QW5zd2VyQnV0dG9uKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzaG93QW5zd2VyQnRuID0gY29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnU2hvdyBBbnN3ZXInLFxuICAgICAgY2xzOiAnbW9kLWN0YSBzaG93LWFuc3dlci1idG4nLFxuICAgICAgYXR0cjogeyB0aXRsZTogJ1ByZXNzIEVudGVyIG9yIFRhYicgfVxuICAgIH0pO1xuICAgIHNob3dBbnN3ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTaG93QW5zd2VyKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUmF0aW5nQnV0dG9ucyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgYnV0dG9uR3JvdXAgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncmF0aW5nLWJ1dHRvbnMnIH0pO1xuXG4gICAgY29uc3QgcmF0aW5nczogQXJyYXk8e1xuICAgICAgZWFzZTogUmV2aWV3RWFzZTtcbiAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgICBjb2xvcjogc3RyaW5nO1xuICAgICAga2V5OiBzdHJpbmc7XG4gICAgfT4gPSBbXG4gICAgICB7IGVhc2U6ICdhZ2FpbicsIGxhYmVsOiAnQWdhaW5cXG4gPCAxIG1pbicsIGNvbG9yOiAncmVkJywga2V5OiAnMScgfSxcbiAgICAgIHsgZWFzZTogJ2hhcmQnLCBsYWJlbDogJ0hhcmRcXG4gPCAxMCBtaW4nLCBjb2xvcjogJ29yYW5nZScsIGtleTogJzInIH0sXG4gICAgICB7IGVhc2U6ICdnb29kJywgbGFiZWw6ICdHb29kXFxuIDEgZGF5JywgY29sb3I6ICdibHVlJywga2V5OiAnMycgfSxcbiAgICAgIHsgZWFzZTogJ2Vhc3knLCBsYWJlbDogJ0Vhc3lcXG4gNCBkYXlzJywgY29sb3I6ICdncmVlbicsIGtleTogJzQnIH1cbiAgICBdO1xuXG4gICAgcmF0aW5ncy5mb3JFYWNoKCh7IGVhc2UsIGxhYmVsLCBjb2xvciwga2V5IH0pID0+IHtcbiAgICAgIGNvbnN0IGJ0biA9IGJ1dHRvbkdyb3VwLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgIGNsczogYHJhdGluZy1idG4gcmF0aW5nLSR7Y29sb3J9YCxcbiAgICAgICAgYXR0cjogeyB0aXRsZTogYFByZXNzICR7a2V5fWAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGxpbmVzID0gbGFiZWwuc3BsaXQoJ1xcbicpO1xuICAgICAgYnRuLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGxpbmVzWzBdLCBjbHM6ICdyYXRpbmctbGFiZWwnIH0pO1xuICAgICAgYnRuLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGxpbmVzWzFdLCBjbHM6ICdyYXRpbmctaW50ZXJ2YWwnIH0pO1xuICAgICAgYnRuLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGAoJHtrZXl9KWAsIGNsczogJ3JhdGluZy1ob3RrZXknIH0pO1xuXG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnN1Ym1pdFJldmlldyhlYXNlKSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIHByaXZhdGUgcmVuZGVyTmF2aWdhdGlvbkJ1dHRvbihjb250YWluZXI6IEhUTUxFbGVtZW50LCB0eXBlOiAncHJldicgfCAnbmV4dCcpIHtcbiAgICBjb25zdCBidG4gPSBjb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIGNsczogYG5hdi1idG4gJHt0eXBlfS1idG5gLFxuICAgICAgdGV4dDogdHlwZSA9PT0gJ3ByZXYnID8gJ1x1MjE5MCcgOiAnXHUyMTkyJ1xuICAgIH0pO1xuICBcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmdvKHR5cGUpO1xuICAgIH0pO1xuICB9XG4gIFxuICBcbiAgcHJpdmF0ZSBnbyhkaXJlY3Rpb246ICdwcmV2JyB8ICduZXh0Jykge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAoIXN0YXRlLnNob3dBbnN3ZXIpIHtcbiAgICAgICAgLy8gXHU2QjYzXHU5NzYyIFx1MjE5MiBcdTgwQ0NcdTk3NjJcblxuICAgICAgICBjb25zdCBoYXNDdXJyZW50SW5wdXQgPSB0aGlzLmN1cnJlbnRDYXJkPy50eXBlID09PSAnY2xvemUnXG4gICAgICAgICAgPyBzdGF0ZS51c2VyQW5zd2Vycy5zb21lKGFucyA9PiBhbnMgJiYgYW5zLnRyaW0oKSAhPT0gJycpXG4gICAgICAgICAgOiBzdGF0ZS51c2VyQW5zd2VyLnRyaW0oKSAhPT0gJyc7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKCFoYXNDdXJyZW50SW5wdXQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTaG93QW5zd2VyKHRydWUpO1xuICAgICAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcdTgwQ0NcdTk3NjIgXHUyMTkyIFx1NEUwQlx1NEUwMFx1NUYyMFx1NTM2MVx1NkI2M1x1OTc2MlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZEluZGV4IDwgdGhpcy5kdWVDYXJkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgLy8gXHUyNzA1IFx1NTcyOFx1NkUwNVx1OTY2NFx1N0YxM1x1NUI1OFx1NTI0RCxcdTUxNDhcdTRGRERcdTVCNThcdTVGNTNcdTUyNERcdTdCNTRcdTY4NDhcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2F2ZUFuc3dlclRvQ2FjaGUodGhpcy5jdXJyZW50Q2FyZC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMuY3VycmVudENhcmRJbmRleCsrO1xuICAgICAgICAgIC8vIFx1MjcwNSBcdTUxNDhcdTY2RjRcdTY1QjBcdTUzNjFcdTcyNDdcdTVGMTVcdTc1MjhcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXJkID0gdGhpcy5kdWVDYXJkc1t0aGlzLmN1cnJlbnRDYXJkSW5kZXhdO1xuICAgICAgICAgIC8vIFx1MjcwNSBcdTcxMzZcdTU0MEVcdTZFMDVcdTdBN0FcdTcyQjZcdTYwMDEoXHU0RTBEXHU2NjJGXHU2RTA1XHU5NjY0XHU3RjEzXHU1QjU4ISlcbiAgICAgICAgICB0aGlzLnJlc2V0UmV2aWV3U3RhdGUoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRDYXJkKCduZXh0Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gXHUyNzRDIFx1NzlGQlx1OTY2NFx1OEZEOVx1ODg0QyxcdTRFMERcdTg5ODFcdTZFMDVcdTk2NjRcdTdGMTNcdTVCNThcbiAgICAgICAgICAvLyB0aGlzLnN0YXRlTWFuYWdlci5jbGVhckNhY2hlKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ0FscmVhZHkgYXQgbGFzdCBjYXJkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgaWYgKHN0YXRlLnNob3dBbnN3ZXIpIHtcbiAgICAgICAgLy8gXHU4MENDXHU5NzYyIFx1MjE5MiBcdTZCNjNcdTk3NjJcbiAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U2hvd0Fuc3dlcihmYWxzZSk7XG4gICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNldFNob3dBbnN3ZXIoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU2QjYzXHU5NzYyIFx1MjE5MiBcdTRFMEFcdTRFMDBcdTVGMjBcdTUzNjFcdTgwQ0NcdTk3NjJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmRJbmRleCA+IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2F2ZUFuc3dlclRvQ2FjaGUodGhpcy5jdXJyZW50Q2FyZC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY3VycmVudENhcmRJbmRleC0tO1xuICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnJlc2V0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q2FyZCgncHJldicpO1xuICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNldFNob3dBbnN3ZXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3IE5vdGljZSgnQWxyZWFkeSBhdCBmaXJzdCBjYXJkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU0RUE0XHU0RTkyXHU1OTA0XHU3NDA2XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgcHJpdmF0ZSBhc3luYyBzdWJtaXRSZXZpZXcoZWFzZTogUmV2aWV3RWFzZSkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuICBcbiAgICBjb25zdCB0aW1lU3BlbnQgPSAoRGF0ZS5ub3coKSAtIHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuc3RhcnRUaW1lKSAvIDEwMDA7XG4gIFxuICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSB0aGlzLmN1cnJlbnRDYXJkLnR5cGUgPT09ICdjbG96ZScgXG4gICAgICA/IHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkudXNlckFuc3dlcnMgXG4gICAgICA6IHRoaXMuY3VycmVudENhcmQudHlwZSA9PT0gJ3FhJ1xuICAgICAgPyB0aGlzLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnVzZXJBbnN3ZXJcbiAgICAgIDogdW5kZWZpbmVkO1xuICBcbiAgICBjb25zdCB7IHVwZGF0ZWRDYXJkLCByZXZpZXdMb2cgfSA9IHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKFxuICAgICAgdGhpcy5jdXJyZW50Q2FyZCxcbiAgICAgIGVhc2UsXG4gICAgICB0aW1lU3BlbnQsXG4gICAgICB1c2VyQW5zd2VyXG4gICAgKTtcbiAgXG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKHVwZGF0ZWRDYXJkKTtcbiAgICBcbiAgICAvLyBcdUQ4M0RcdURDNDcgXHU0RkVFXHU2NTM5XHU4RkQ5XHU5MUNDLFx1Nzg2RVx1NEZERFx1NTMwNVx1NTQyQlx1NTQ2OFx1NjcxRlx1NEZFMVx1NjA2RlxuICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIubG9nUmV2aWV3KHtcbiAgICAgIGlkOiBgbG9nLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCwgLy8gXHU2NkY0XHU1NTJGXHU0RTAwXHU3Njg0SURcbiAgICAgIGN5Y2xlOiB0aGlzLnBsdWdpbi5hbmFseXRpY3NFbmdpbmUuZ2V0Q3VycmVudEN5Y2xlTnVtYmVyKCksIC8vIFx1RDgzRFx1REM0OCBcdTZERkJcdTUyQTBcdTU0NjhcdTY3MUZcdTUzRjdcbiAgICAgIC4uLnJldmlld0xvZ1xuICAgIH0pO1xuICAgIFxuICAgIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkNhcmRSZXZpZXdlZCgpO1xuICBcbiAgICAvLyBcdTI3MDUgXHU2ODA3XHU4QkIwXHU0RTNBXHU1REYyXHU1OTBEXHU0RTYwLFx1NEY0Nlx1NEUwRFx1NEVDRVx1NTIxN1x1ODg2OFx1NEUyRFx1NTIyMFx1OTY2NFxuICAgIHRoaXMucmV2aWV3ZWRDYXJkSWRzLmFkZCh0aGlzLmN1cnJlbnRDYXJkLmlkKTtcbiAgICBcbiAgICAvLyBcdTI3MDUgXHU2RTA1XHU5NjY0XHU4QkU1XHU1MzYxXHU3MjQ3XHU3Njg0XHU3QjU0XHU2ODQ4XHU3RjEzXHU1QjU4XG4gICAgdGhpcy5zdGF0ZU1hbmFnZXIuY2xlYXJDYWNoZSh0aGlzLmN1cnJlbnRDYXJkLmlkKTtcbiAgICBcbiAgICAvLyBcdTI3MDUgXHU5MUNEXHU3RjZFXHU3MkI2XHU2MDAxXG4gICAgdGhpcy5yZXNldFJldmlld1N0YXRlKCk7XG4gIFxuICAgIC8vIFx1MjcwNSBcdTc5RkJcdTUyQThcdTUyMzBcdTRFMEJcdTRFMDBcdTVGMjBcdTY3MkFcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDdcbiAgICBjb25zdCBuZXh0VW5yZXZpZXdlZEluZGV4ID0gdGhpcy5maW5kTmV4dFVucmV2aWV3ZWRDYXJkKHRoaXMuY3VycmVudENhcmRJbmRleCArIDEpO1xuICAgIFxuICAgIGlmIChuZXh0VW5yZXZpZXdlZEluZGV4ID09PSAtMSkge1xuICAgICAgLy8gXHUyQjUwIFx1NjI0MFx1NjcwOVx1NTM2MVx1NzI0N1x1OTBGRFx1NURGMlx1NTkwRFx1NEU2MCAtIFx1NEUwRFx1OEJCRVx1N0Y2RSBjdXJyZW50Q2FyZCBcdTRFM0EgbnVsbFxuICAgICAgbmV3IE5vdGljZShgXHUyNzA1IFJldmlldyBzZXNzaW9uIGNvbXBsZXRlIWApO1xuICAgICAgLy8gXHUyQjUwIFx1OEJCRVx1N0Y2RVx1NEUwMFx1NEUyQVx1NjgwN1x1NUZEN1x1OEJBOSByZW5kZXIgXHU3N0U1XHU5MDUzXHU1OTBEXHU0RTYwXHU1REYyXHU1QjhDXHU2MjEwXG4gICAgICB0aGlzLmN1cnJlbnRDYXJkID0gbnVsbDtcbiAgICAgIHRoaXMuZHVlQ2FyZHMgPSBbXTsgLy8gXHUyQjUwIFx1NkUwNVx1N0E3QVx1NTIxN1x1ODg2OCxcdTg5RTZcdTUzRDEgcmVuZGVyTm9EdWVDYXJkc1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Q2FyZEluZGV4ID0gbmV4dFVucmV2aWV3ZWRJbmRleDtcbiAgICAgIHRoaXMudXBkYXRlQ3VycmVudENhcmQoJ25leHQnKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgZmluZE5leHRVbnJldmlld2VkQ2FyZChzdGFydEluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgdGhpcy5kdWVDYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnJldmlld2VkQ2FyZElkcy5oYXModGhpcy5kdWVDYXJkc1tpXS5pZCkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTsgLy8gXHU2Q0ExXHU2NzA5XHU2MjdFXHU1MjMwXHU2NzJBXHU1OTBEXHU0RTYwXHU3Njg0XHU1MzYxXHU3MjQ3XG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBqdW1wVG9Tb3VyY2UoKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRDYXJkKSByZXR1cm47XG5cbiAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMuY3VycmVudENhcmQuc291cmNlRmlsZSk7XG4gICAgaWYgKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xuICAgICAgbmV3IE5vdGljZSgnU291cmNlIGZpbGUgbm90IGZvdW5kJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChcbiAgICAgIHRoaXMuY3VycmVudENhcmQuc291cmNlQ29udGVudElkXG4gICAgKTtcblxuICAgIGlmICghY29udGVudFVuaXQpIHtcbiAgICAgIG5ldyBOb3RpY2UoJ1NvdXJjZSBjb250ZW50IG5vdCBmb3VuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSk7XG4gICAgYXdhaXQgbGVhZi5vcGVuRmlsZShmaWxlKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKEl0ZW1WaWV3KTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9ICh2aWV3IGFzIGFueSkuZWRpdG9yO1xuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgZWRpdG9yLnNldEN1cnNvcih7IGxpbmU6IGNvbnRlbnRVbml0LnNvdXJjZS5wb3NpdGlvbi5saW5lLCBjaDogMCB9KTtcbiAgICAgICAgICBlZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgZnJvbTogeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfSxcbiAgICAgICAgICAgIHRvOiB7IGxpbmU6IGNvbnRlbnRVbml0LnNvdXJjZS5wb3NpdGlvbi5saW5lLCBjaDogMCB9XG4gICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAxMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVGbGFzaGNhcmQoY2FyZElkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmRJZCk7XG4gICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5mbGFzaGNhcmREZWxldGVkJywgdGhpcy5sYW5ndWFnZSkpO1xuICAgXG4gICAgICBcbiAgICAgIHRoaXMuZHVlQ2FyZHMgPSB0aGlzLmR1ZUNhcmRzLmZpbHRlcihjYXJkID0+IGNhcmQuaWQgIT09IGNhcmRJZCk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRDYXJkPy5pZCA9PT0gY2FyZElkKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDYXJkSW5kZXggPj0gdGhpcy5kdWVDYXJkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXJkSW5kZXggPSBNYXRoLm1heCgwLCB0aGlzLmR1ZUNhcmRzLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudENhcmQgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhd2FpdCB0aGlzLmxvYWREdWVDYXJkcygpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgIFxuICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZGVsZXRlRmxhc2hjYXJkRmFpbGVkJywgdGhpcy5sYW5ndWFnZSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZWRpdEN1cnJlbnRGbGFzaGNhcmQoKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRDYXJkKSByZXR1cm47XG5cbiAgICBjb25zdCBtb2RhbCA9IG5ldyBGbGFzaGNhcmRFZGl0TW9kYWwoXG4gICAgICB0aGlzLmFwcCxcbiAgICAgIHRoaXMucGx1Z2luLCAgXG4gICAgICB0aGlzLmN1cnJlbnRDYXJkLFxuICAgICAgYXN5bmMgKHF1ZXN0aW9uOiBzdHJpbmcsIGFuc3dlcjogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZENhcmQ6IEZsYXNoY2FyZCA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuY3VycmVudENhcmQhLFxuICAgICAgICAgICAgZnJvbnQ6IHF1ZXN0aW9uLFxuICAgICAgICAgICAgYmFjazogdGhpcy5jdXJyZW50Q2FyZCEudHlwZSA9PT0gJ2Nsb3plJyA/IFthbnN3ZXJdIDogYW5zd2VyLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgLi4udGhpcy5jdXJyZW50Q2FyZCEubWV0YWRhdGEsXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKHVwZGF0ZWRDYXJkKTtcbiAgICAgICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5mbGFzaGNhcmRVcGRhdGVkJywgdGhpcy5sYW5ndWFnZSkpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMuY3VycmVudENhcmQgPSB1cGRhdGVkQ2FyZDtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UudXBkYXRlRmxhc2hjYXJkRmFpbGVkJywgdGhpcy5sYW5ndWFnZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gICAgbW9kYWwub3BlbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXNldENhcmRTdGF0cyhjYXJkSWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYXJkID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRGbGFzaGNhcmQoY2FyZElkKTtcbiAgICAgIGlmICghY2FyZCkgcmV0dXJuO1xuXG4gICAgICBjYXJkLnN0YXRzID0ge1xuICAgICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICAgIGxhc3RSZXZpZXc6IDAsXG4gICAgICAgIGRpZmZpY3VsdHk6IDAuM1xuICAgICAgfTtcbiAgICAgIGNhcmQuc2NoZWR1bGluZyA9IHtcbiAgICAgICAgaW50ZXJ2YWw6IDAsXG4gICAgICAgIGVhc2U6IDIuNSxcbiAgICAgICAgZHVlOiBEYXRlLm5vdygpLFxuICAgICAgICBsYXBzZXM6IDAsXG4gICAgICAgIHJlcHM6IDAsXG4gICAgICAgIHN0YXRlOiAnbmV3J1xuICAgICAgfTtcblxuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKGNhcmQpO1xuICAgICAgXG4gICAgICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICAgICAgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddID0gbG9ncy5maWx0ZXIoXG4gICAgICAgIGxvZyA9PiBsb2cuZmxhc2hjYXJkSWQgIT09IGNhcmRJZFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuY2FyZFN0YXRzUmVzZXQnLCB0aGlzLmxhbmd1YWdlKSk7XG4gXG4gICAgICB0aGlzLmN1cnJlbnRDYXJkID0gY2FyZDtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc2V0dGluZyBjYXJkIHN0YXRzOicsIGVycm9yKTtcbiAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UucmVzZXRTdGF0c0ZhaWxlZCcsIHRoaXMubGFuZ3VhZ2UpKTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFx1OTUyRVx1NzZEOFx1NTkwNFx1NzQwNlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHByaXZhdGUga2V5Ym9hcmRIYW5kbGVyID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBpc0luSW5wdXQgPSB0YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJyB8fCB0YXJnZXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJztcblxuICAgIC8vIFRhYiBcdTk1MkVcdTU5MDRcdTc0MDZcbiAgICBpZiAoZS5rZXkgPT09ICdUYWInKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgIC8vIFNoaWZ0K1RhYjogXHU1NDBFXHU5MDAwXG4gICAgICAgIHRoaXMuZ28oJ3ByZXYnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRhYjogXHU1MjREXHU4RkRCXG4gICAgICAgIHRoaXMuZ28oJ25leHQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBcdTY1NzBcdTVCNTdcdTk1MkVcdThCQzRcdTUyMDZcbiAgICBpZiAodGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKS5zaG93QW5zd2VyICYmICFpc0luSW5wdXQpIHtcbiAgICAgIGNvbnN0IHJhdGluZ01hcDogeyBba2V5OiBzdHJpbmddOiBSZXZpZXdFYXNlIH0gPSB7XG4gICAgICAgICcxJzogJ2FnYWluJyxcbiAgICAgICAgJzInOiAnaGFyZCcsXG4gICAgICAgICczJzogJ2dvb2QnLFxuICAgICAgICAnNCc6ICdlYXN5J1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgaWYgKHJhdGluZ01hcFtlLmtleV0pIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnN1Ym1pdFJldmlldyhyYXRpbmdNYXBbZS5rZXldKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSByZWdpc3RlcktleWJvYXJkSGFuZGxlcnMoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgfVxuICBwcml2YXRlIGFzeW5jIGNsZWFudXBSZXZpZXdlZENhcmRzKCkge1xuICAgIHRoaXMucmV2aWV3ZWRDYXJkSWRzLmNsZWFyKCk7XG4gIH1cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBcdTY4MzdcdTVGMEZcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbn0iLCAiLy8gY2FyZCBTY2hlZHVsZXIudHNcbmltcG9ydCB7IEZsYXNoY2FyZCwgUmV2aWV3TG9nIH0gZnJvbSAnLi9GbGFzaGNhcmRNYW5hZ2VyJztcblxuZXhwb3J0IHR5cGUgUmV2aWV3RWFzZSA9ICdhZ2FpbicgfCAnaGFyZCcgfCAnZ29vZCcgfCAnZWFzeSc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkU2NoZWR1bGVyIHtcbiAgLyoqXG4gICAqIFx1OEJBMVx1N0I5N1x1NEUwQlx1NkIyMVx1NTkwRFx1NEU2MFx1NjVGNlx1OTVGNFx1RkYwOFx1NTdGQVx1NEU4RSBTTS0yIFx1N0I5N1x1NkNENVx1RkYwOVxuICAgKi9cbiAgc2NoZWR1bGUoXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIGVhc2U6IFJldmlld0Vhc2UsXG4gICAgdGltZVNwZW50OiBudW1iZXIsXG4gICAgdXNlckFuc3dlcj86IHN0cmluZyB8IHN0cmluZ1tdXG4gICk6IHtcbiAgICB1cGRhdGVkQ2FyZDogRmxhc2hjYXJkO1xuICAgIHJldmlld0xvZzogT21pdDxSZXZpZXdMb2csICdpZCc+O1xuICB9IHtcbiAgICBjb25zdCBvbGRTY2hlZHVsaW5nID0geyAuLi5jYXJkLnNjaGVkdWxpbmcgfTtcbiAgICBjb25zdCBuZXdTY2hlZHVsaW5nID0geyAuLi5jYXJkLnNjaGVkdWxpbmcgfTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgLy8gXHU2NkY0XHU2NUIwXHU3RURGXHU4QkExXG4gICAgY2FyZC5zdGF0cy50b3RhbFJldmlld3MrKztcbiAgICBjYXJkLnN0YXRzLmxhc3RSZXZpZXcgPSBub3c7XG5cbiAgICAvLyBcdThCQTFcdTdCOTdcdTVFNzNcdTU3NDdcdTY1RjZcdTk1RjRcbiAgICBjb25zdCB0b3RhbFRpbWUgPSBjYXJkLnN0YXRzLmF2ZXJhZ2VUaW1lICogKGNhcmQuc3RhdHMudG90YWxSZXZpZXdzIC0gMSkgKyB0aW1lU3BlbnQ7XG4gICAgY2FyZC5zdGF0cy5hdmVyYWdlVGltZSA9IHRvdGFsVGltZSAvIGNhcmQuc3RhdHMudG90YWxSZXZpZXdzO1xuXG4gICAgLy8gXHU2ODM5XHU2MzZFXHU5NkJFXHU1RUE2XHU4QkM0XHU3RUE3XHU2NkY0XHU2NUIwXHU4QzAzXHU1RUE2XG4gICAgc3dpdGNoIChlYXNlKSB7XG4gICAgICBjYXNlICdhZ2Fpbic6XG4gICAgICAgIHRoaXMuc2NoZWR1bGVBZ2FpbihuZXdTY2hlZHVsaW5nLCBjYXJkLnN0YXRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoYXJkJzpcbiAgICAgICAgdGhpcy5zY2hlZHVsZUhhcmQobmV3U2NoZWR1bGluZywgY2FyZC5zdGF0cyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZ29vZCc6XG4gICAgICAgIHRoaXMuc2NoZWR1bGVHb29kKG5ld1NjaGVkdWxpbmcsIGNhcmQuc3RhdHMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Vhc3knOlxuICAgICAgICB0aGlzLnNjaGVkdWxlRWFzeShuZXdTY2hlZHVsaW5nLCBjYXJkLnN0YXRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FyZC5zY2hlZHVsaW5nID0gbmV3U2NoZWR1bGluZztcbiAgICBjYXJkLm1ldGFkYXRhLnVwZGF0ZWRBdCA9IG5vdztcblxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICAgIGNvbnN0IHJldmlld0xvZzogT21pdDxSZXZpZXdMb2csICdpZCc+ID0ge1xuICAgICAgZmxhc2hjYXJkSWQ6IGNhcmQuaWQsXG4gICAgICB0aW1lc3RhbXA6IG5vdyxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIHVzZXJBbnN3ZXIsXG4gICAgICAgIHRpbWVTcGVudCxcbiAgICAgICAgZWFzZVxuICAgICAgfSxcbiAgICAgIHNjaGVkdWxpbmdDaGFuZ2U6IHtcbiAgICAgICAgb2xkSW50ZXJ2YWw6IG9sZFNjaGVkdWxpbmcuaW50ZXJ2YWwsXG4gICAgICAgIG5ld0ludGVydmFsOiBuZXdTY2hlZHVsaW5nLmludGVydmFsLFxuICAgICAgICBvbGRFYXNlOiBvbGRTY2hlZHVsaW5nLmVhc2UsXG4gICAgICAgIG5ld0Vhc2U6IG5ld1NjaGVkdWxpbmcuZWFzZVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4geyB1cGRhdGVkQ2FyZDogY2FyZCwgcmV2aWV3TG9nIH07XG4gIH1cblxuICAvKipcbiAgICogQWdhaW4gLSBcdTVCOENcdTUxNjhcdTVGRDhcdThCQjBcbiAgICovXG4gIHByaXZhdGUgc2NoZWR1bGVBZ2FpbihcbiAgICBzY2hlZHVsaW5nOiBGbGFzaGNhcmRbJ3NjaGVkdWxpbmcnXSxcbiAgICBzdGF0czogRmxhc2hjYXJkWydzdGF0cyddXG4gICkge1xuICAgIC8vIFx1OTFDRFx1N0Y2RVx1OTVGNFx1OTY5NFxuICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSAxOyAvLyAxIFx1NTIwNlx1OTQ5RlxuICAgIHNjaGVkdWxpbmcuZWFzZSA9IE1hdGgubWF4KDEuMywgc2NoZWR1bGluZy5lYXNlIC0gMC4yKTtcbiAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyBzY2hlZHVsaW5nLmludGVydmFsICogNjAgKiAxMDAwO1xuICAgIHNjaGVkdWxpbmcubGFwc2VzKys7XG4gICAgc2NoZWR1bGluZy5yZXBzKys7XG4gICAgXG4gICAgLy8gXHU3MkI2XHU2MDAxXHU4RjZDXHU2MzYyXG4gICAgaWYgKHNjaGVkdWxpbmcuc3RhdGUgPT09ICduZXcnKSB7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ2xlYXJuaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdyZWxlYXJuaW5nJztcbiAgICB9XG5cbiAgICAvLyBcdTU4OUVcdTUyQTBcdTk2QkVcdTVFQTZcbiAgICBzdGF0cy5kaWZmaWN1bHR5ID0gTWF0aC5taW4oMS4wLCBzdGF0cy5kaWZmaWN1bHR5ICsgMC4xKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYXJkIC0gXHU1NkYwXHU5NkJFXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlSGFyZChcbiAgICBzY2hlZHVsaW5nOiBGbGFzaGNhcmRbJ3NjaGVkdWxpbmcnXSxcbiAgICBzdGF0czogRmxhc2hjYXJkWydzdGF0cyddXG4gICkge1xuICAgIHNjaGVkdWxpbmcucmVwcysrO1xuXG4gICAgaWYgKHNjaGVkdWxpbmcuc3RhdGUgPT09ICduZXcnIHx8IHNjaGVkdWxpbmcuc3RhdGUgPT09ICdsZWFybmluZycpIHtcbiAgICAgIC8vIFx1NUI2Nlx1NEU2MFx1OTYzNlx1NkJCNVx1RkYxQTEwIFx1NTIwNlx1OTQ5RlxuICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IDEwO1xuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgMTAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ2xlYXJuaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1OTBEXHU0RTYwXHU5NjM2XHU2QkI1XHVGRjFBXHU1RjUzXHU1MjREXHU5NUY0XHU5Njk0ICogMS4yXG4gICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gTWF0aC5tYXgoMSwgc2NoZWR1bGluZy5pbnRlcnZhbCAqIDEuMik7XG4gICAgICBzY2hlZHVsaW5nLmVhc2UgPSBNYXRoLm1heCgxLjMsIHNjaGVkdWxpbmcuZWFzZSAtIDAuMTUpO1xuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgc2NoZWR1bGluZy5pbnRlcnZhbCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ3Jldmlldyc7XG4gICAgfVxuXG4gICAgc3RhdHMuZGlmZmljdWx0eSA9IE1hdGgubWluKDEuMCwgc3RhdHMuZGlmZmljdWx0eSArIDAuMDUpO1xuICAgIHN0YXRzLmNvcnJlY3RDb3VudCArPSAwLjU7IC8vIFx1OTBFOFx1NTIwNlx1NkI2M1x1Nzg2RVxuICB9XG5cbiAgLyoqXG4gICAqIEdvb2QgLSBcdTZCNjNcdTc4NkVcbiAgICovXG4gIHByaXZhdGUgc2NoZWR1bGVHb29kKFxuICAgIHNjaGVkdWxpbmc6IEZsYXNoY2FyZFsnc2NoZWR1bGluZyddLFxuICAgIHN0YXRzOiBGbGFzaGNhcmRbJ3N0YXRzJ11cbiAgKSB7XG4gICAgc2NoZWR1bGluZy5yZXBzKys7XG4gICAgc3RhdHMuY29ycmVjdENvdW50Kys7XG5cbiAgICBpZiAoc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycpIHtcbiAgICAgIC8vIFx1NjVCMFx1NTM2MVx1NzI0N1x1RkYxQTEgXHU1OTI5XG4gICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gMTtcbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIDEgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdsZWFybmluZyc7XG4gICAgfSBlbHNlIGlmIChzY2hlZHVsaW5nLnN0YXRlID09PSAnbGVhcm5pbmcnKSB7XG4gICAgICAvLyBcdTVCNjZcdTRFNjBcdTRFMkRcdUZGMUFcdThGREJcdTUxNjVcdTU5MERcdTRFNjBcdUZGMENcdTk1RjRcdTk2OTRcdTY4MzlcdTYzNkVcdThCQjBcdTVGQzZcdTVGM0FcdTVFQTZcbiAgICAgIGlmIChzY2hlZHVsaW5nLmludGVydmFsIDwgMSkge1xuICAgICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSAzO1xuICAgICAgfVxuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgc2NoZWR1bGluZy5pbnRlcnZhbCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ3Jldmlldyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFx1NTkwRFx1NEU2MFx1OTYzNlx1NkJCNVx1RkYxQVx1OTVGNFx1OTY5NCAqIGVhc2VcbiAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSBzY2hlZHVsaW5nLmludGVydmFsICogc2NoZWR1bGluZy5lYXNlO1xuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgc2NoZWR1bGluZy5pbnRlcnZhbCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLmVhc2UgPSBzY2hlZHVsaW5nLmVhc2UgKyAwLjE7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ3Jldmlldyc7XG4gICAgfVxuXG4gICAgLy8gXHU5NjREXHU0RjRFXHU5NkJFXHU1RUE2XG4gICAgc3RhdHMuZGlmZmljdWx0eSA9IE1hdGgubWF4KDAsIHN0YXRzLmRpZmZpY3VsdHkgLSAwLjA1KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFYXN5IC0gXHU5NzVFXHU1RTM4XHU3QjgwXHU1MzU1XG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlRWFzeShcbiAgICBzY2hlZHVsaW5nOiBGbGFzaGNhcmRbJ3NjaGVkdWxpbmcnXSxcbiAgICBzdGF0czogRmxhc2hjYXJkWydzdGF0cyddXG4gICkge1xuICAgIHNjaGVkdWxpbmcucmVwcysrO1xuICAgIHN0YXRzLmNvcnJlY3RDb3VudCsrO1xuXG4gICAgaWYgKHNjaGVkdWxpbmcuc3RhdGUgPT09ICduZXcnKSB7XG4gICAgICAvLyBcdTY1QjBcdTUzNjFcdTcyNDdcdUZGMUFcdTc2RjRcdTYzQTUgNCBcdTU5MjlcbiAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSA0O1xuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgNCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ3Jldmlldyc7XG4gICAgfSBlbHNlIGlmIChzY2hlZHVsaW5nLnN0YXRlID09PSAnbGVhcm5pbmcnKSB7XG4gICAgICAvLyBcdTVCNjZcdTRFNjBcdTRFMkRcdUZGMUFcdTc2RjRcdTYzQTVcdThGREJcdTUxNjVcdTU5MERcdTRFNjBcdUZGMEM3IFx1NTkyOVxuICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IDc7XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyA3ICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAncmV2aWV3JztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1OTBEXHU0RTYwXHU5NjM2XHU2QkI1XHVGRjFBXHU5NUY0XHU5Njk0ICogKGVhc2UgKyAwLjMpXG4gICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gc2NoZWR1bGluZy5pbnRlcnZhbCAqIChzY2hlZHVsaW5nLmVhc2UgKyAwLjMpO1xuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgc2NoZWR1bGluZy5pbnRlcnZhbCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLmVhc2UgPSBzY2hlZHVsaW5nLmVhc2UgKyAwLjE1O1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdyZXZpZXcnO1xuICAgIH1cblxuICAgIC8vIFx1NjYzRVx1ODQ1N1x1OTY0RFx1NEY0RVx1OTZCRVx1NUVBNlxuICAgIHN0YXRzLmRpZmZpY3VsdHkgPSBNYXRoLm1heCgwLCBzdGF0cy5kaWZmaWN1bHR5IC0gMC4xKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdThCQzRcdTRGMzBcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDhcdUZGMDhcdTc1MjhcdTRFOEVcdThGOTNcdTUxNjVcdTdCNTRcdTY4NDhcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICovXG4vKipcbiAqIFx1OEJDNFx1NEYzMFx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OChcdTc1MjhcdTRFOEVcdThGOTNcdTUxNjVcdTdCNTRcdTY4NDhcdTZBMjFcdTVGMEYpXG4gKi9cbmV2YWx1YXRlQW5zd2VyKFxuICBjb3JyZWN0QW5zd2VyOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgdXNlckFuc3dlcjogc3RyaW5nIHwgc3RyaW5nW11cbik6IHtcbiAgY29ycmVjdG5lc3M6ICdjb3JyZWN0JyB8ICdwYXJ0aWFsJyB8ICd3cm9uZyc7XG4gIHNpbWlsYXJpdHk6IG51bWJlcjtcbn0ge1xuICAvLyBcdTU5MDRcdTc0MDZcdTY1NzBcdTdFQzQoXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBKVxuICBpZiAoQXJyYXkuaXNBcnJheShjb3JyZWN0QW5zd2VyKSAmJiBBcnJheS5pc0FycmF5KHVzZXJBbnN3ZXIpKSB7XG4gICAgbGV0IGNvcnJlY3RDb3VudCA9IDA7XG4gICAgY29uc3QgdG90YWwgPSBjb3JyZWN0QW5zd2VyLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgLy8gXHVEODNDXHVERDk1IFx1NUJGOVx1NkJDRlx1NEUyQVx1N0E3QVx1NjgzQ1x1NEU1Rlx1NUU5NFx1NzUyOCBcIi9cIiBcdTg5QzRcdTUyMTlcbiAgICAgIGNvbnN0IGV2YWx1YXRpb24gPSB0aGlzLmV2YWx1YXRlU2luZ2xlQW5zd2VyKFxuICAgICAgICBjb3JyZWN0QW5zd2VyW2ldLFxuICAgICAgICB1c2VyQW5zd2VyW2ldIHx8ICcnXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoZXZhbHVhdGlvbi5zaW1pbGFyaXR5ID49IDAuOSkgY29ycmVjdENvdW50Kys7XG4gICAgICBlbHNlIGlmIChldmFsdWF0aW9uLnNpbWlsYXJpdHkgPj0gMC42KSBjb3JyZWN0Q291bnQgKz0gMC41O1xuICAgIH1cblxuICAgIGNvbnN0IG92ZXJhbGxTaW1pbGFyaXR5ID0gY29ycmVjdENvdW50IC8gdG90YWw7XG5cbiAgICBpZiAob3ZlcmFsbFNpbWlsYXJpdHkgPj0gMC45KSB7XG4gICAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ2NvcnJlY3QnLCBzaW1pbGFyaXR5OiBvdmVyYWxsU2ltaWxhcml0eSB9O1xuICAgIH0gZWxzZSBpZiAob3ZlcmFsbFNpbWlsYXJpdHkgPj0gMC42KSB7XG4gICAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3BhcnRpYWwnLCBzaW1pbGFyaXR5OiBvdmVyYWxsU2ltaWxhcml0eSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3dyb25nJywgc2ltaWxhcml0eTogb3ZlcmFsbFNpbWlsYXJpdHkgfTtcbiAgICB9XG4gIH1cblxuICAvLyBcdUQ4M0NcdUREOTUgXHU1OTA0XHU3NDA2XHU1QjU3XHU3QjI2XHU0RTMyIC0gXHU2M0QwXHU1M0Q2XHU1MjMwXHU3MkVDXHU3QUNCXHU2NUI5XHU2Q0Q1XG4gIHJldHVybiB0aGlzLmV2YWx1YXRlU2luZ2xlQW5zd2VyKFxuICAgIGNvcnJlY3RBbnN3ZXIgYXMgc3RyaW5nLFxuICAgIHVzZXJBbnN3ZXIgYXMgc3RyaW5nXG4gICk7XG59XG5cbi8qKlxuICogXHVEODNDXHVERDk1IFx1OEJDNFx1NEYzMFx1NTM1NVx1NEUyQVx1N0I1NFx1Njg0OChcdTY1MkZcdTYzMDEgXCIvXCIgXHU1MjA2XHU5Njk0XHU3Njg0XHU1OTFBXHU0RTJBXHU2QjYzXHU3ODZFXHU3QjU0XHU2ODQ4KVxuICovXG5wcml2YXRlIGV2YWx1YXRlU2luZ2xlQW5zd2VyKFxuICBjb3JyZWN0QW5zd2VyOiBzdHJpbmcsXG4gIHVzZXJBbnN3ZXI6IHN0cmluZ1xuKToge1xuICBjb3JyZWN0bmVzczogJ2NvcnJlY3QnIHwgJ3BhcnRpYWwnIHwgJ3dyb25nJztcbiAgc2ltaWxhcml0eTogbnVtYmVyO1xufSB7XG4gIGNvbnN0IGNvcnJlY3QgPSB0aGlzLm5vcm1hbGl6ZShjb3JyZWN0QW5zd2VyKTtcbiAgY29uc3QgdXNlciA9IHRoaXMubm9ybWFsaXplKHVzZXJBbnN3ZXIpO1xuXG4gIC8vIFx1N0E3QVx1N0I1NFx1Njg0OFxuICBpZiAodXNlci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3dyb25nJywgc2ltaWxhcml0eTogMCB9O1xuICB9XG5cbiAgLy8gXHVEODNDXHVERDk1IFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NTMwNVx1NTQyQiBcIi9cIiAtIFx1ODg2OFx1NzkzQVx1NTkxQVx1NEUyQVx1NTNFRlx1NjNBNVx1NTNEN1x1N0I1NFx1Njg0OFxuICBpZiAoY29ycmVjdEFuc3dlci5pbmNsdWRlcygnLycpIHx8IGNvcnJlY3RBbnN3ZXIuaW5jbHVkZXMoJ3wnKSkge1xuICAgIGNvbnN0IGFsdGVybmF0aXZlcyA9IGNvcnJlY3RBbnN3ZXJcbiAgICAgIC5zcGxpdCgvW1xcL3xdLykgIC8vIFx1NjUyRlx1NjMwMSAvIFx1NjIxNiB8XG4gICAgICAubWFwKGFsdCA9PiB0aGlzLm5vcm1hbGl6ZShhbHQudHJpbSgpKSlcbiAgICAgIC5maWx0ZXIoYWx0ID0+IGFsdC5sZW5ndGggPiAwKTtcblxuICAgIC8vIFx1NUJGOVx1NkJDRlx1NEUyQVx1NTNFRlx1ODBGRFx1NzY4NFx1N0I1NFx1Njg0OFx1OEJBMVx1N0I5N1x1NzZGOFx1NEYzQ1x1NUVBNixcdTUzRDZcdTY3MDBcdTlBRDhcdTUyMDZcbiAgICBsZXQgbWF4U2ltaWxhcml0eSA9IDA7XG4gICAgZm9yIChjb25zdCBhbHRlcm5hdGl2ZSBvZiBhbHRlcm5hdGl2ZXMpIHtcbiAgICAgIC8vIFx1NUI4Q1x1NTE2OFx1NTMzOVx1OTE0RFx1NEVGQlx1NjEwRlx1NEUwMFx1NEUyQVx1NUMzMVx1N0I5N1x1NUJGOVxuICAgICAgaWYgKHVzZXIgPT09IGFsdGVybmF0aXZlKSB7XG4gICAgICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnY29ycmVjdCcsIHNpbWlsYXJpdHk6IDEuMCB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBzaW1pbGFyaXR5ID0gdGhpcy5jYWxjdWxhdGVTaW1pbGFyaXR5KGFsdGVybmF0aXZlLCB1c2VyKTtcbiAgICAgIG1heFNpbWlsYXJpdHkgPSBNYXRoLm1heChtYXhTaW1pbGFyaXR5LCBzaW1pbGFyaXR5KTtcbiAgICB9XG5cbiAgICAvLyBcdTRGN0ZcdTc1MjhcdTY3MDBcdTlBRDhcdTc2RjhcdTRGM0NcdTVFQTZcdTUyMjRcdTY1QURcbiAgICBpZiAobWF4U2ltaWxhcml0eSA+PSAwLjkpIHtcbiAgICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnY29ycmVjdCcsIHNpbWlsYXJpdHk6IG1heFNpbWlsYXJpdHkgfTtcbiAgICB9IGVsc2UgaWYgKG1heFNpbWlsYXJpdHkgPj0gMC43KSB7XG4gICAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3BhcnRpYWwnLCBzaW1pbGFyaXR5OiBtYXhTaW1pbGFyaXR5IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnd3JvbmcnLCBzaW1pbGFyaXR5OiBtYXhTaW1pbGFyaXR5IH07XG4gICAgfVxuICB9XG5cbiAgLy8gXHVEODNEXHVERDNEIFx1NTM5Rlx1NjcwOVx1OTAzQlx1OEY5MSAtIFx1NTkwNFx1NzQwNlx1NEUwRFx1NTQyQiBcIi9cIiBcdTc2ODRcdTY2NkVcdTkwMUFcdTdCNTRcdTY4NDhcbiAgXG4gIC8vIFx1OTU3Rlx1NUVBNlx1NURFRVx1NUYwMlx1OEZDN1x1NTkyN1x1NzZGNFx1NjNBNVx1NTIyNFx1OTUxOVxuICBjb25zdCBsZW5ndGhSYXRpbyA9IE1hdGgubWluKHVzZXIubGVuZ3RoLCBjb3JyZWN0Lmxlbmd0aCkgLyBcbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1c2VyLmxlbmd0aCwgY29ycmVjdC5sZW5ndGgpO1xuaWYgKGxlbmd0aFJhdGlvIDwgMC4zICYmIHVzZXIubGVuZ3RoIDwgNikge1xuICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3dyb25nJywgc2ltaWxhcml0eTogMCB9O1xufVxuXG5cblxuICBjb25zdCBzaW1pbGFyaXR5ID0gdGhpcy5jYWxjdWxhdGVTaW1pbGFyaXR5KGNvcnJlY3QsIHVzZXIpO1xuICBjb25zdCBjb3ZlcmFnZSA9IHRoaXMuY2FsY3VsYXRlVG9rZW5Db3ZlcmFnZShjb3JyZWN0LCB1c2VyKTtcbiAgXG4gIC8vIFx1NTM5Rlx1NjcwOVx1ODlDNFx1NTIxOVxuICBpZiAoc2ltaWxhcml0eSA+PSAwLjkpIHtcbiAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ2NvcnJlY3QnLCBzaW1pbGFyaXR5IH07XG4gIH1cbiAgXG4gIC8vIFx1RDgzQ1x1REQ5NSBcdTY1QjBcdTU4OUVcdUZGMUFcdTUxNzNcdTk1MkVcdThCQ0RcdTU0N0RcdTRFMkRcdTU5MUFcdUZGMENcdTRGNDZcdTUzRTVcdTVCNTBcdTdFRDNcdTY3ODRcdTVERUVcbiAgaWYgKHNpbWlsYXJpdHkgPCAwLjcgJiYgY292ZXJhZ2UgPj0gMC42KSB7XG4gICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdwYXJ0aWFsJywgc2ltaWxhcml0eSB9O1xuICB9XG4gIFxuICAvLyBcdTUzOUZcdTY3MDlcdTkwRThcdTUyMDZcdTZCNjNcdTc4NkVcbiAgaWYgKHNpbWlsYXJpdHkgPj0gMC43KSB7XG4gICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdwYXJ0aWFsJywgc2ltaWxhcml0eSB9O1xuICB9XG4gIFxuICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3dyb25nJywgc2ltaWxhcml0eSB9O1xuICBcbn1cbiAgLyoqXG4gICAqIFx1NjgwN1x1NTFDNlx1NTMxNlx1NjU4N1x1NjcyQ1xuICAgKi9cbiAgcHJpdmF0ZSBub3JtYWxpemUodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGV4dFxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC50cmltKClcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykgICAgLy8gXHU1NDA4XHU1RTc2XHU1OTFBXHU0RTJBXHU3QTdBXHU2ODNDXHU0RTNBXHU0RTAwXHU0RTJBXG4gICAgICAucmVwbGFjZSgvXFxuKy9nLCAnICcpICAgIC8vIFx1NjM2Mlx1ODg0Q1x1NjZGRlx1NjM2Mlx1NEUzQVx1N0E3QVx1NjgzQ1xuICAgICAgLnJlcGxhY2UoL1tcdUZGMENcdTMwMDJcdUZGMDFcdUZGMUZcdTMwMDFcdUZGMUJcdUZGMUFcIlwiJydcdUZGMDhcdUZGMDlcdTMwMEFcdTMwMEJcdTMwMTBcdTMwMTFcXC4sIT87OlwiJygpXFxbXFxde31dL2csICcnKTsgIC8vIFx1NzlGQlx1OTY2NFx1NjgwN1x1NzBCOVx1N0IyNlx1NTNGN1xuICB9XG5cbiAgLyoqXG4gICAqIFx1OEJBMVx1N0I5N1x1NzZGOFx1NEYzQ1x1NUVBNlx1RkYwOExldmVuc2h0ZWluIFx1OERERFx1NzlCQlx1RkYwOVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVTaW1pbGFyaXR5KHN0cjE6IHN0cmluZywgc3RyMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBpZiAoc3RyMSA9PT0gc3RyMikgcmV0dXJuIDE7XG4gICAgaWYgKHN0cjEubGVuZ3RoID09PSAwIHx8IHN0cjIubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcblxuICAgIGNvbnN0IG1hdHJpeDogbnVtYmVyW11bXSA9IFtdO1xuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU3N0U5XHU5NjM1XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc3RyMi5sZW5ndGg7IGkrKykge1xuICAgICAgbWF0cml4W2ldID0gW2ldO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBzdHIxLmxlbmd0aDsgaisrKSB7XG4gICAgICBtYXRyaXhbMF1bal0gPSBqO1xuICAgIH1cblxuICAgIC8vIFx1NTg2Qlx1NTE0NVx1NzdFOVx1OTYzNVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHN0cjIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IHN0cjEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHN0cjIuY2hhckF0KGkgLSAxKSA9PT0gc3RyMS5jaGFyQXQoaiAtIDEpKSB7XG4gICAgICAgICAgbWF0cml4W2ldW2pdID0gbWF0cml4W2kgLSAxXVtqIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0cml4W2ldW2pdID0gTWF0aC5taW4oXG4gICAgICAgICAgICBtYXRyaXhbaSAtIDFdW2ogLSAxXSArIDEsIC8vIFx1NjZGRlx1NjM2MlxuICAgICAgICAgICAgbWF0cml4W2ldW2ogLSAxXSArIDEsICAgICAvLyBcdTYzRDJcdTUxNjVcbiAgICAgICAgICAgIG1hdHJpeFtpIC0gMV1bal0gKyAxICAgICAgLy8gXHU1MjIwXHU5NjY0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRpc3RhbmNlID0gbWF0cml4W3N0cjIubGVuZ3RoXVtzdHIxLmxlbmd0aF07XG4gICAgY29uc3QgbWF4TGVuZ3RoID0gTWF0aC5tYXgoc3RyMS5sZW5ndGgsIHN0cjIubGVuZ3RoKTtcbiAgICBcbiAgICByZXR1cm4gMSAtIGRpc3RhbmNlIC8gbWF4TGVuZ3RoO1xuICB9XG4vKipcbiAqIFx1OEJBMVx1N0I5N1x1NTE3M1x1OTUyRVx1OEJDRFx1ODk4Nlx1NzZENlx1NzM4N1xuICogXHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4XHU0RTJEXHU1NDdEXHU0RTJEXHU0RTg2XHU1OTFBXHU1QzExXHU2ODA3XHU1MUM2XHU3QjU0XHU2ODQ4XHU3Njg0XHU4QkNEXG4gKi9cbnByaXZhdGUgY2FsY3VsYXRlVG9rZW5Db3ZlcmFnZShcbiAgY29ycmVjdDogc3RyaW5nLFxuICB1c2VyOiBzdHJpbmdcbik6IG51bWJlciB7XG4gIGNvbnN0IGNvcnJlY3RUb2tlbnMgPSBjb3JyZWN0LnNwbGl0KCcgJykuZmlsdGVyKHQgPT4gdC5sZW5ndGggPiAxKTtcbiAgY29uc3QgdXNlclRva2VucyA9IG5ldyBTZXQodXNlci5zcGxpdCgnICcpKTtcblxuICBpZiAoY29ycmVjdFRva2Vucy5sZW5ndGggPT09IDApIHJldHVybiAwO1xuXG4gIGxldCBoaXQgPSAwO1xuICBmb3IgKGNvbnN0IHRva2VuIG9mIGNvcnJlY3RUb2tlbnMpIHtcbiAgICBpZiAodXNlclRva2Vucy5oYXModG9rZW4pKSBoaXQrKztcbiAgfVxuXG4gIHJldHVybiBoaXQgLyBjb3JyZWN0VG9rZW5zLmxlbmd0aDsgLy8gMCB+IDFcbn1cblxuXG4gIC8qKlxuICAgKiBcdTY4MzlcdTYzNkVcdTc2RjhcdTRGM0NcdTVFQTZcdTVFRkFcdThCQUVcdTk2QkVcdTVFQTZcbiAgICovXG4gIHN1Z2dlc3RFYXNlKHNpbWlsYXJpdHk6IG51bWJlcik6IFJldmlld0Vhc2Uge1xuICAgIGlmIChzaW1pbGFyaXR5ID49IDAuOCkgcmV0dXJuICdlYXN5JztcbiAgICBpZiAoc2ltaWxhcml0eSA+PSAwLjcpIHJldHVybiAnZ29vZCc7XG4gICAgaWYgKHNpbWlsYXJpdHkgPj0gMC41KSByZXR1cm4gJ2hhcmQnO1xuICAgIHJldHVybiAnYWdhaW4nO1xuICB9XG59IiwgImltcG9ydCB7IEFwcCwgTW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vLi4vbWFpbic7XG5cbmV4cG9ydCBjbGFzcyBGbGFzaGNhcmRFZGl0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbixcbiAgICBwcml2YXRlIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBwcml2YXRlIG9uU3VibWl0OiAocXVlc3Rpb246IHN0cmluZywgYW5zd2VyOiBzdHJpbmcpID0+IHZvaWRcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdCgnZmxhc2hjYXJkRWRpdC50aXRsZScsIGxhbmcpIH0pO1xuXG4gICAgLy8gUXVlc3Rpb25cbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiB0KCdmbGFzaGNhcmRFZGl0LnF1ZXN0aW9uJywgbGFuZykgfSk7XG4gICAgY29uc3QgcXVlc3Rpb25JbnB1dCA9IGNvbnRlbnRFbC5jcmVhdGVFbCgndGV4dGFyZWEnKTtcbiAgICBxdWVzdGlvbklucHV0LnZhbHVlID0gdGhpcy5jYXJkLmZyb250O1xuXG4gICAgLy8gQW5zd2VyXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogdCgnZmxhc2hjYXJkRWRpdC5hbnN3ZXInLCBsYW5nKSB9KTtcbiAgICBjb25zdCBhbnN3ZXJJbnB1dCA9IGNvbnRlbnRFbC5jcmVhdGVFbCgndGV4dGFyZWEnKTtcbiAgICBhbnN3ZXJJbnB1dC52YWx1ZSA9XG4gICAgICB0aGlzLmNhcmQudHlwZSA9PT0gJ2Nsb3plJ1xuICAgICAgICA/IHRoaXMuY2FyZC5iYWNrPy5bMF0gPz8gJydcbiAgICAgICAgOiAodGhpcy5jYXJkLmJhY2sgYXMgc3RyaW5nKTtcblxuICAgIC8vIFNhdmVcbiAgICBjb25zdCBzYXZlQnRuID0gY29udGVudEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6IHQoJ2ZsYXNoY2FyZEVkaXQuc2F2ZScsIGxhbmcpIH0pO1xuICAgIHNhdmVCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMub25TdWJtaXQoXG4gICAgICAgIHF1ZXN0aW9uSW5wdXQudmFsdWUudHJpbSgpLFxuICAgICAgICBhbnN3ZXJJbnB1dC52YWx1ZS50cmltKClcbiAgICAgICk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICB9O1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG4iLCAiLy8gUmV2aWV3U3RhdGVNYW5hZ2VyLnRzXG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJldmlld1N0YXRlIHtcbiAgc2hvd0Fuc3dlcjogYm9vbGVhbjtcbiAgc3RhcnRUaW1lOiBudW1iZXI7XG4gIHVzZXJBbnN3ZXJzOiBzdHJpbmdbXTtcbiAgdXNlckFuc3dlcjogc3RyaW5nO1xufVxuXG4vLyBcdTI3MDUgXHU2REZCXHU1MkEwXHU3QjU0XHU2ODQ4XHU3RjEzXHU1QjU4XHU2M0E1XHU1M0UzXG5pbnRlcmZhY2UgQ2FyZEFuc3dlckNhY2hlIHtcbiAgdXNlckFuc3dlcjogc3RyaW5nO1xuICB1c2VyQW5zd2Vyczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBSZXZpZXdTdGF0ZU1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRlOiBSZXZpZXdTdGF0ZTtcbiAgcHJpdmF0ZSBhbnN3ZXJDYWNoZTogTWFwPHN0cmluZywgQ2FyZEFuc3dlckNhY2hlPiA9IG5ldyBNYXAoKTsgLy8gXHUyNzA1IFx1NjVCMFx1NTg5RVx1N0YxM1x1NUI1OFxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLmNyZWF0ZUluaXRpYWxTdGF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVJbml0aWFsU3RhdGUoKTogUmV2aWV3U3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93QW5zd2VyOiBmYWxzZSxcbiAgICAgIHN0YXJ0VGltZTogMCxcbiAgICAgIHVzZXJBbnN3ZXJzOiBbXSxcbiAgICAgIHVzZXJBbnN3ZXI6ICcnXG4gICAgfTtcbiAgfVxuXG4gIGdldFN0YXRlKCk6IFJldmlld1N0YXRlIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLmNyZWF0ZUluaXRpYWxTdGF0ZSgpO1xuICB9XG5cbiAgLy8gXHUyNzA1IFx1NEZERFx1NUI1OFx1NUY1M1x1NTI0RFx1NTM2MVx1NzI0N1x1NzY4NFx1N0I1NFx1Njg0OFx1NTIzMFx1N0YxM1x1NUI1OFxuICBzYXZlQW5zd2VyVG9DYWNoZShjYXJkSWQ6IHN0cmluZykge1xuICAgIHRoaXMuYW5zd2VyQ2FjaGUuc2V0KGNhcmRJZCwge1xuICAgICAgdXNlckFuc3dlcjogdGhpcy5zdGF0ZS51c2VyQW5zd2VyLFxuICAgICAgdXNlckFuc3dlcnM6IFsuLi50aGlzLnN0YXRlLnVzZXJBbnN3ZXJzXVxuICAgIH0pO1xuICB9XG5cbiAgLy8gXHUyNzA1IFx1NEVDRVx1N0YxM1x1NUI1OFx1NjA2Mlx1NTkwRFx1N0I1NFx1Njg0OFxuICBwcml2YXRlIHJlc3RvcmVBbnN3ZXJGcm9tQ2FjaGUoY2FyZElkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmFuc3dlckNhY2hlLmdldChjYXJkSWQpO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUudXNlckFuc3dlciA9IGNhY2hlZC51c2VyQW5zd2VyO1xuICAgICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VycyA9IFsuLi5jYWNoZWQudXNlckFuc3dlcnNdO1xuXG4gICAgfSBlbHNlIHtcbiAgICB9XG4gIH1cblxuICAvLyBcdTI3MDUgXHU2RTA1XHU5NjY0XHU2MzA3XHU1QjlBXHU1MzYxXHU3MjQ3XHU3Njg0XHU3RjEzXHU1QjU4XG4gIGNsZWFyQ2FjaGUoY2FyZElkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmFuc3dlckNhY2hlLmRlbGV0ZShjYXJkSWQpO1xuICB9XG5cbiAgdXBkYXRlRm9yTmV3Q2FyZChcbiAgICBuZXdDYXJkOiBGbGFzaGNhcmQsXG4gICAgaXNTYW1lQ2FyZDogYm9vbGVhbixcbiAgICBkaXJlY3Rpb24/OiAnbmV4dCcgfCAncHJldidcbiAgKSB7XG4gICAgaWYgKCFpc1NhbWVDYXJkKSB7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgICAgLy8gXHUyNzA1IHByZXY6IFx1NTE0OFx1NjA2Mlx1NTkwRFx1N0YxM1x1NUI1OCxcdTUxOERcdThCQkVcdTdGNkVcdTUxNzZcdTRFRDZcdTcyQjZcdTYwMDFcbiAgICAgICAgdGhpcy5yZXN0b3JlQW5zd2VyRnJvbUNhY2hlKG5ld0NhcmQuaWQpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZXh0OiBcdTZFMDVcdTdBN0FcdTcyQjZcdTYwMDEsXHU1MUM2XHU1OTA3XHU2NUIwXHU1MzYxXHU3MjQ3XG4gICAgICAgIHRoaXMuc3RhdGUuc2hvd0Fuc3dlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXIgPSAnJztcbiAgXG4gICAgICAgIGlmIChuZXdDYXJkLnR5cGUgPT09ICdjbG96ZScgJiYgbmV3Q2FyZC5jbG96ZSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUudXNlckFuc3dlcnMgPSBuZXcgQXJyYXkoXG4gICAgICAgICAgICBuZXdDYXJkLmNsb3plLmRlbGV0aW9ucy5sZW5ndGhcbiAgICAgICAgICApLmZpbGwoJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhdGUudXNlckFuc3dlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aGlzLnN0YXRlLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gIH1cblxuICBzZXRTaG93QW5zd2VyKHNob3c6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnN0YXRlLnNob3dBbnN3ZXIgPSBzaG93O1xuICB9XG5cbiAgc2V0VXNlckFuc3dlcihhbnN3ZXI6IHN0cmluZykge1xuICAgIHRoaXMuc3RhdGUudXNlckFuc3dlciA9IGFuc3dlcjtcbiAgfVxuXG4gIHNldFVzZXJBbnN3ZXJzKGFuc3dlcnM6IHN0cmluZ1tdKSB7XG4gICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VycyA9IGFuc3dlcnM7XG4gIH1cblxuICB1cGRhdGVVc2VyQW5zd2VyQXRJbmRleChpbmRleDogbnVtYmVyLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5zdGF0ZS51c2VyQW5zd2Vyc1tpbmRleF0gPSB2YWx1ZTtcbiAgfVxuXG4gIGVuc3VyZVVzZXJBbnN3ZXJzTGVuZ3RoKGxlbmd0aDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudXNlckFuc3dlcnMubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXJzID0gbmV3IEFycmF5KGxlbmd0aCkuZmlsbCgnJyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0VGltZVNwZW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIChEYXRlLm5vdygpIC0gdGhpcy5zdGF0ZS5zdGFydFRpbWUpIC8gMTAwMDtcbiAgfVxufSIsICIvLyBzcmMvdWkvY29tcG9uZW50cy9UYWJsZVJlbmRlcmVyLnRzXG5pbXBvcnQgeyBDYXJkU2NoZWR1bGVyIH0gZnJvbSAnLi4vLi4vY29yZS9DYXJkU2NoZWR1bGVyJztcblxuZXhwb3J0IGNsYXNzIFRhYmxlUmVuZGVyZXIge1xuICAvLyBcdTY4QzBcdTZENEJcdTY2MkZcdTU0MjZcdTRFM0FcdTg4NjhcdTY4M0NcdTY4M0NcdTVGMEZcbiAgc3RhdGljIGlzVGFibGVGb3JtYXQodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGluZXMgPSB0ZXh0LnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBoYXNTZXBhcmF0b3IgPSBsaW5lcy5zb21lKGxpbmUgPT4gL15cXHw/W1xccy06fF0rXFx8PyQvLnRlc3QobGluZS50cmltKCkpKTtcbiAgICBjb25zdCBwaXBlTGluZXMgPSBsaW5lcy5maWx0ZXIobGluZSA9PiBsaW5lLmluY2x1ZGVzKCd8JykpLmxlbmd0aDtcbiAgICBcbiAgICByZXR1cm4gaGFzU2VwYXJhdG9yIHx8IHBpcGVMaW5lcyA+PSBsaW5lcy5sZW5ndGggKiAwLjc7XG4gIH1cblxuICAvLyBcdTZFMzJcdTY3RDNcdTg4NjhcdTY4M0NcbiAgc3RhdGljIHJlbmRlclRhYmxlKG1hcmtkb3duOiBzdHJpbmcsIHNob3dBbnN3ZXI6IGJvb2xlYW4gPSBmYWxzZSk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBcbiAgICBpZiAoIW1hcmtkb3duPy50cmltKCkpIHtcbiAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9ICcoZW1wdHkgdGFibGUpJztcbiAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgY29uc3QgbGluZXMgPSBtYXJrZG93bi50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIGlmIChsaW5lcy5sZW5ndGggPCAyKSB7XG4gICAgICBjb250YWluZXIudGV4dENvbnRlbnQgPSBtYXJrZG93bjtcbiAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgY29uc3QgdGFibGUgPSBjb250YWluZXIuY3JlYXRlRWwoJ3RhYmxlJywgeyBcbiAgICAgIGNsczogJ2xlYXJuaW5nLXN5c3RlbS10YWJsZSBmbGFzaGNhcmQtcmV2aWV3LXRhYmxlJyBcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gdGhpcy5maW5kU2VwYXJhdG9ySW5kZXgobGluZXMpO1xuICAgIFxuICAgIGlmIChzZXBhcmF0b3JJbmRleCA+IDApIHtcbiAgICAgIHRoaXMucmVuZGVyVGFibGVXaXRoSGVhZGVyKHRhYmxlLCBsaW5lcywgc2VwYXJhdG9ySW5kZXgsIHNob3dBbnN3ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlclRhYmxlV2l0aG91dEhlYWRlcih0YWJsZSwgbGluZXMsIHNob3dBbnN3ZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxuICAvLyBcdTY3RTVcdTYyN0VcdTUyMDZcdTk2OTRcdTdCMjZcdTRGNERcdTdGNkVcbiAgcHJpdmF0ZSBzdGF0aWMgZmluZFNlcGFyYXRvckluZGV4KGxpbmVzOiBzdHJpbmdbXSk6IG51bWJlciB7XG4gICAgcmV0dXJuIGxpbmVzLmZpbmRJbmRleChsaW5lID0+IHtcbiAgICAgIGNvbnN0IGNsZWFuZWQgPSBsaW5lLnJlcGxhY2UoL1tcXHN8XS9nLCAnJyk7XG4gICAgICByZXR1cm4gY2xlYW5lZC5sZW5ndGggPj0gMyAmJiAvXlstOl0rJC8udGVzdChjbGVhbmVkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1NkUzMlx1NjdEM1x1NUUyNlx1ODg2OFx1NTkzNFx1NzY4NFx1ODg2OFx1NjgzQ1xuICBwcml2YXRlIHN0YXRpYyByZW5kZXJUYWJsZVdpdGhIZWFkZXIoXG4gICAgdGFibGU6IEhUTUxFbGVtZW50LFxuICAgIGxpbmVzOiBzdHJpbmdbXSxcbiAgICBzZXBhcmF0b3JJbmRleDogbnVtYmVyLFxuICAgIHNob3dBbnN3ZXI6IGJvb2xlYW5cbiAgKSB7XG4gICAgLy8gXHU4ODY4XHU1OTM0XG4gICAgY29uc3QgaGVhZGVyQ2VsbHMgPSB0aGlzLnBhcnNlQ2VsbHMobGluZXNbc2VwYXJhdG9ySW5kZXggLSAxXSk7XG4gICAgY29uc3QgdGhlYWQgPSB0YWJsZS5jcmVhdGVFbCgndGhlYWQnKTtcbiAgICBjb25zdCBoZWFkZXJSb3cgPSB0aGVhZC5jcmVhdGVFbCgndHInKTtcbiAgICBcbiAgICBoZWFkZXJDZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgY29uc3QgdGggPSBoZWFkZXJSb3cuY3JlYXRlRWwoJ3RoJyk7XG4gICAgICB0aC5pbm5lckhUTUwgPSB0aGlzLnByb2Nlc3NDZWxsQ29udGVudChjZWxsLCBzaG93QW5zd2VyKTtcbiAgICB9KTtcblxuICAgIC8vIFx1NjU3MFx1NjM2RVx1ODg0Q1xuICAgIGNvbnN0IHRib2R5ID0gdGFibGUuY3JlYXRlRWwoJ3Rib2R5Jyk7XG4gICAgZm9yIChsZXQgaSA9IHNlcGFyYXRvckluZGV4ICsgMTsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnJlbmRlclRhYmxlUm93KHRib2R5LCBsaW5lc1tpXSwgc2hvd0Fuc3dlcik7XG4gICAgfVxuICB9XG5cbiAgLy8gXHU2RTMyXHU2N0QzXHU2NUUwXHU4ODY4XHU1OTM0XHU3Njg0XHU4ODY4XHU2ODNDXG4gIHByaXZhdGUgc3RhdGljIHJlbmRlclRhYmxlV2l0aG91dEhlYWRlcihcbiAgICB0YWJsZTogSFRNTEVsZW1lbnQsXG4gICAgbGluZXM6IHN0cmluZ1tdLFxuICAgIHNob3dBbnN3ZXI6IGJvb2xlYW5cbiAgKSB7XG4gICAgY29uc3QgdGJvZHkgPSB0YWJsZS5jcmVhdGVFbCgndGJvZHknKTtcbiAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4gdGhpcy5yZW5kZXJUYWJsZVJvdyh0Ym9keSwgbGluZSwgc2hvd0Fuc3dlcikpO1xuICB9XG5cbiAgLy8gXHU2RTMyXHU2N0QzXHU1MzU1XHU4ODRDXG4gIHByaXZhdGUgc3RhdGljIHJlbmRlclRhYmxlUm93KFxuICAgIHRib2R5OiBIVE1MRWxlbWVudCxcbiAgICBsaW5lOiBzdHJpbmcsXG4gICAgc2hvd0Fuc3dlcjogYm9vbGVhblxuICApIHtcbiAgICBpZiAoIWxpbmUudHJpbSgpKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY2VsbHMgPSB0aGlzLnBhcnNlQ2VsbHMobGluZSk7XG4gICAgaWYgKGNlbGxzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHJvdyA9IHRib2R5LmNyZWF0ZUVsKCd0cicpO1xuICAgIGNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjb25zdCB0ZCA9IHJvdy5jcmVhdGVFbCgndGQnKTtcbiAgICAgIHRkLmlubmVySFRNTCA9IHRoaXMucHJvY2Vzc0NlbGxDb250ZW50KGNlbGwsIHNob3dBbnN3ZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gXHU4OUUzXHU2NzkwXHU1MzU1XHU1MTQzXHU2ODNDXG4gIHByaXZhdGUgc3RhdGljIHBhcnNlQ2VsbHMobGluZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIFxuICAgIGxldCB0cmltbWVkID0gbGluZS50cmltKCk7XG4gICAgaWYgKHRyaW1tZWQuc3RhcnRzV2l0aCgnfCcpKSB0cmltbWVkID0gdHJpbW1lZC5zbGljZSgxKTtcbiAgICBpZiAodHJpbW1lZC5lbmRzV2l0aCgnfCcpKSB0cmltbWVkID0gdHJpbW1lZC5zbGljZSgwLCAtMSk7XG4gICAgXG4gICAgY29uc3QgY2VsbHMgPSB0cmltbWVkXG4gICAgICAuc3BsaXQoJ3wnKVxuICAgICAgLm1hcChjID0+IGMudHJpbSgpKVxuICAgICAgLmZpbHRlcihjID0+IGMubGVuZ3RoID4gMCk7XG4gICAgXG4gICAgcmV0dXJuIGNlbGxzO1xuICB9XG5cbi8vIFx1NTkwNFx1NzQwNlx1NTM1NVx1NTE0M1x1NjgzQ1x1NTE4NVx1NUJCOVxucHJpdmF0ZSBzdGF0aWMgcHJvY2Vzc0NlbGxDb250ZW50KGNlbGw6IHN0cmluZywgc2hvd0Fuc3dlcjogYm9vbGVhbik6IHN0cmluZyB7XG4gIGlmICghY2VsbC5pbmNsdWRlcygnPT0nKSkge1xuICAgIHJldHVybiBjZWxsO1xuICB9XG4gIGlmIChzaG93QW5zd2VyKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gY2VsbC5yZXBsYWNlKC89PShbXj1dKyk9PS9nLCAnPHNwYW4gY2xhc3M9XCJyZXZlYWxlZFwiPiQxPC9zcGFuPicpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmVzdWx0ID0gY2VsbC5yZXBsYWNlKC89PShbXj1dKyk9PS9nLCAnPHNwYW4gY2xhc3M9XCJjbG96ZS1ibGFua1wiPjwvc3Bhbj4nKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbiAgLy8gXHU2RTMyXHU2N0QzXHU1RTI2XHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4XHU3Njg0XHU4ODY4XHU2ODNDXHVGRjA4XHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU3NTI4XHVGRjA5XG4gIHN0YXRpYyByZW5kZXJUYWJsZVdpdGhVc2VyQW5zd2VycyhcbiAgICBvcmlnaW5hbE1hcmtkb3duOiBzdHJpbmcsXG4gICAgZGVsZXRpb25zOiBBcnJheTx7IGFuc3dlcjogc3RyaW5nIH0+LFxuICAgIHVzZXJBbnN3ZXJzOiBzdHJpbmdbXSxcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGxpbmVzID0gb3JpZ2luYWxNYXJrZG93bi50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIFxuICAgIGlmIChsaW5lcy5sZW5ndGggPCAyKSB7XG5cbiAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9IG9yaWdpbmFsTWFya2Rvd247XG4gICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGNvbnN0IHRhYmxlID0gY29udGFpbmVyLmNyZWF0ZUVsKCd0YWJsZScsIHsgXG4gICAgICBjbHM6ICdsZWFybmluZy1zeXN0ZW0tdGFibGUgZmxhc2hjYXJkLXJldmlldy10YWJsZSB1c2VyLWFuc3dlci10YWJsZScgXG4gICAgfSk7XG5cbiAgICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IHRoaXMuZmluZFNlcGFyYXRvckluZGV4KGxpbmVzKTtcbiAgICBsZXQgZGVsZXRpb25JbmRleCA9IDA7XG4vLyBcdTZFMzJcdTY3RDNcdTg4NjhcdTU5MzRcbmlmIChzZXBhcmF0b3JJbmRleCA+IDApIHtcbiBcbiAgY29uc3QgaGVhZGVyQ2VsbHMgPSB0aGlzLnBhcnNlQ2VsbHMobGluZXNbc2VwYXJhdG9ySW5kZXggLSAxXSk7XG4gIFxuICBjb25zdCB0aGVhZCA9IHRhYmxlLmNyZWF0ZUVsKCd0aGVhZCcpO1xuICBjb25zdCBoZWFkZXJSb3cgPSB0aGVhZC5jcmVhdGVFbCgndHInKTtcbiAgXG4gIGxldCBoZWFkZXJJbmRleCA9IDA7ICAvLyBcdTIxOTAgXHU4ODY4XHU1OTM0XHU3MkVDXHU3QUNCXHU4QkExXHU2NTcwXG5oZWFkZXJDZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICBjb25zdCB0aCA9IGhlYWRlclJvdy5jcmVhdGVFbCgndGgnKTtcbiAgY29uc3QgcmVzdWx0ID0gdGhpcy5wcm9jZXNzQ2VsbFdpdGhVc2VyQW5zd2VyQW5kQ2xhc3MoXG4gICAgY2VsbCwgZGVsZXRpb25zLCB1c2VyQW5zd2VycywgZGVsZXRpb25JbmRleCwgc2NoZWR1bGVyXG4gICk7XG4gIHRoLmlubmVySFRNTCA9IHJlc3VsdC5odG1sO1xuICBpZiAocmVzdWx0LmNvcnJlY3RuZXNzQ2xhc3MpIHtcbiAgICB0aC5jbGFzc0xpc3QuYWRkKHJlc3VsdC5jb3JyZWN0bmVzc0NsYXNzKTtcbiAgfVxuICBpZiAoY2VsbC5pbmNsdWRlcygnPT0nKSkge1xuICAgIGRlbGV0aW9uSW5kZXgrKztcbiAgfVxufSk7XG5cbiAgXG59XG5cblxuLy8gXHU2RTMyXHU2N0QzXHU2NTcwXHU2MzZFXHU4ODRDXG5jb25zdCB0Ym9keSA9IHRhYmxlLmNyZWF0ZUVsKCd0Ym9keScpO1xuY29uc3Qgc3RhcnRSb3cgPSBzZXBhcmF0b3JJbmRleCA+IDAgPyBzZXBhcmF0b3JJbmRleCArIDEgOiAwO1xuXG5mb3IgKGxldCBpID0gc3RhcnRSb3c7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICBjb25zdCBsaW5lID0gbGluZXNbaV07XG4gIGlmICghbGluZS50cmltKCkpIGNvbnRpbnVlO1xuICBcbiAgY29uc3QgY2VsbHMgPSB0aGlzLnBhcnNlQ2VsbHMobGluZSk7XG4gIGlmIChjZWxscy5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuICBcbiAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XG4gIGNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgY29uc3QgdGQgPSByb3cuY3JlYXRlRWwoJ3RkJyk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wcm9jZXNzQ2VsbFdpdGhVc2VyQW5zd2VyQW5kQ2xhc3MoXG4gICAgICBjZWxsLCBkZWxldGlvbnMsIHVzZXJBbnN3ZXJzLCBkZWxldGlvbkluZGV4LCBzY2hlZHVsZXJcbiAgICApO1xuICAgIHRkLmlubmVySFRNTCA9IHJlc3VsdC5odG1sO1xuICAgIGlmIChyZXN1bHQuY29ycmVjdG5lc3NDbGFzcykge1xuICAgICAgdGQuY2xhc3NMaXN0LmFkZChyZXN1bHQuY29ycmVjdG5lc3NDbGFzcyk7XG4gICAgfVxuICAgIGlmIChjZWxsLmluY2x1ZGVzKCc9PScpKSB7ICAvLyBcdTIxOTAgXHU2NTM5XHU2MjEwXHU4RkQ5XHU2ODM3LFx1NEUwRVx1ODg2OFx1NTkzNFx1OTAzQlx1OEY5MVx1NEUwMFx1ODFGNFxuICAgICAgZGVsZXRpb25JbmRleCsrO1xuICAgIH1cbiAgfSk7XG59XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG5cbiAgLy8gXHU1OTA0XHU3NDA2XHU1RTI2XHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4XHU3Njg0XHU1MzU1XHU1MTQzXHU2ODNDXG4gIHByaXZhdGUgc3RhdGljIHByb2Nlc3NDZWxsV2l0aFVzZXJBbnN3ZXIoXG4gICAgY2VsbDogc3RyaW5nLFxuICAgIGRlbGV0aW9uczogQXJyYXk8eyBhbnN3ZXI6IHN0cmluZyB9PixcbiAgICB1c2VyQW5zd2Vyczogc3RyaW5nW10sXG4gICAgZGVsZXRpb25JbmRleDogbnVtYmVyLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApOiBzdHJpbmcge1xuICAgIGlmICghY2VsbC5pbmNsdWRlcygnPT0nKSkgcmV0dXJuIGNlbGw7XG4gICAgXG4gICAgY29uc3QgbWF0Y2ggPSBjZWxsLm1hdGNoKC89PShbXj1dKyk9PS8pO1xuICAgIGlmICghbWF0Y2ggfHwgZGVsZXRpb25JbmRleCA+PSBkZWxldGlvbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gY2VsbC5yZXBsYWNlKC89PShbXj1dKyk9PS9nLCAnPHNwYW4gY2xhc3M9XCJjbG96ZS1ibGFua1wiPjwvc3Bhbj4nKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29ycmVjdEFuc3dlciA9IGRlbGV0aW9uc1tkZWxldGlvbkluZGV4XS5hbnN3ZXI7XG4gICAgY29uc3QgdXNlckFuc3dlciA9IHVzZXJBbnN3ZXJzW2RlbGV0aW9uSW5kZXhdIHx8ICcnO1xuICAgIGNvbnN0IGV2YWx1YXRpb24gPSBzY2hlZHVsZXIuZXZhbHVhdGVBbnN3ZXIoY29ycmVjdEFuc3dlciwgdXNlckFuc3dlcik7XG4gICAgXG4gICAgY29uc3QgZGlzcGxheVRleHQgPSB1c2VyQW5zd2VyIHx8ICcoZW1wdHkpJztcbiAgICBjb25zdCBjb3JyZWN0bmVzc0NsYXNzID0gZXZhbHVhdGlvbi5jb3JyZWN0bmVzcztcbiAgICBcbiAgICByZXR1cm4gY2VsbC5yZXBsYWNlKFxuICAgICAgLz09KFtePV0rKT09L2csXG4gICAgICBgPHNwYW4gY2xhc3M9XCJ1c2VyLWFuc3dlci1jZWxsICR7Y29ycmVjdG5lc3NDbGFzc31cIj4ke2Rpc3BsYXlUZXh0fTwvc3Bhbj5gXG4gICAgKTtcbiAgfVxuXG4gIC8vIFx1NTkwNFx1NzQwNlx1NUUyNlx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OFx1NzY4NFx1NTM1NVx1NTE0M1x1NjgzQyhcdThGRDRcdTU2REUgSFRNTCBcdTU0OENcdTZCNjNcdTc4NkVcdTYwMjdcdTdDN0IpXG4gIHByaXZhdGUgc3RhdGljIHByb2Nlc3NDZWxsV2l0aFVzZXJBbnN3ZXJBbmRDbGFzcyhcbiAgICBjZWxsOiBzdHJpbmcsXG4gICAgZGVsZXRpb25zOiBBcnJheTx7IGFuc3dlcjogc3RyaW5nIH0+LFxuICAgIHVzZXJBbnN3ZXJzOiBzdHJpbmdbXSxcbiAgICBkZWxldGlvbkluZGV4OiBudW1iZXIsXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICk6IHsgaHRtbDogc3RyaW5nOyBjb3JyZWN0bmVzc0NsYXNzOiBzdHJpbmcgfCBudWxsIH0ge1xuICAgIFxuICAgIGNvbnN0IG1hdGNoID0gY2VsbC5tYXRjaCgvPT0oW149XSspPT0vKTtcbiAgICBpZiAoIW1hdGNoKSB7ICAvLyBcdTIxOTAgXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU1MzM5XHU5MTREXHU1MjMwXHU1QjhDXHU2NTc0XHU3Njg0XHU2MzE2XHU3QTdBXHU2ODA3XHU4QkIwXG4gICAgICByZXR1cm4geyBodG1sOiBjZWxsLCBjb3JyZWN0bmVzc0NsYXNzOiBudWxsIH07XG4gICAgfVxuICBcbiAgICBpZiAoIW1hdGNoIHx8IGRlbGV0aW9uSW5kZXggPj0gZGVsZXRpb25zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIGh0bWw6IGNlbGwucmVwbGFjZSgvPT0oW149XSspPT0vZywgJzxzcGFuIGNsYXNzPVwiY2xvemUtYmxhbmtcIj48L3NwYW4+JyksXG4gICAgICAgIGNvcnJlY3RuZXNzQ2xhc3M6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBkZWxldGlvbnNbZGVsZXRpb25JbmRleF0uYW5zd2VyO1xuICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSB1c2VyQW5zd2Vyc1tkZWxldGlvbkluZGV4XSB8fCAnJztcbiAgICBjb25zdCBldmFsdWF0aW9uID0gc2NoZWR1bGVyLmV2YWx1YXRlQW5zd2VyKGNvcnJlY3RBbnN3ZXIsIHVzZXJBbnN3ZXIpO1xuICAgIFxuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gdXNlckFuc3dlciB8fCAnKGVtcHR5KSc7XG4gICAgY29uc3QgY29ycmVjdG5lc3NDbGFzcyA9IGV2YWx1YXRpb24uY29ycmVjdG5lc3M7XG4gICAgXG4gICAgY29uc3QgaHRtbCA9IGNlbGwucmVwbGFjZShcbiAgICAgIC89PShbXj1dKyk9PS9nLFxuICAgICAgYDxzcGFuIGNsYXNzPVwidXNlci1hbnN3ZXItY2VsbCAke2NvcnJlY3RuZXNzQ2xhc3N9XCI+JHtkaXNwbGF5VGV4dH08L3NwYW4+YFxuICAgICk7XG4gICAgXG4gICAgXG4gICAgcmV0dXJuIHsgaHRtbCwgY29ycmVjdG5lc3NDbGFzczogYGNlbGwtJHtjb3JyZWN0bmVzc0NsYXNzfWAgfTtcbiAgfVxufSIsICIvLyBDYXJkUmVuZGVyZXJzLnRzXG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgQ2FyZFNjaGVkdWxlciB9IGZyb20gJy4uLy4uL2NvcmUvQ2FyZFNjaGVkdWxlcic7XG5pbXBvcnQgeyBUYWJsZVJlbmRlcmVyIH0gZnJvbSAnLi9UYWJsZVJlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgUmV2aWV3U3RhdGUgfSBmcm9tICcuLi9zdGF0cy9yZXZpZXdTdGF0ZU1hbmFnZXInO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBcdTUzNjFcdTcyNDdcdTZFMzJcdTY3RDNcdTdCNTZcdTc1NjVcdTYzQTVcdTUzRTNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZFJlbmRlclN0cmF0ZWd5IHtcbiAgcmVuZGVyUXVlc3Rpb24oXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgXG4gICAgY2FyZDogRmxhc2hjYXJkLCBcbiAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgdXBkYXRlU3RhdGU6IHtcbiAgICAgIHNldFVzZXJBbnN3ZXI6IChhbnN3ZXI6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgIHNldFVzZXJBbnN3ZXJzOiAoYW5zd2Vyczogc3RyaW5nW10pID0+IHZvaWQ7XG4gICAgfVxuICApOiB2b2lkO1xuICByZW5kZXJBbnN3ZXIoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgXG4gICAgY2FyZDogRmxhc2hjYXJkLCBcbiAgICBzdGF0ZTogUmV2aWV3U3RhdGUsIFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApOiB2b2lkO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTUzNjFcdTcyNDdcdTZFMzJcdTY3RDNcdTU2Njhcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjbGFzcyBDbG96ZUNhcmRSZW5kZXJlciBpbXBsZW1lbnRzIENhcmRSZW5kZXJTdHJhdGVneSB7XG4gICAgcmVuZGVyUXVlc3Rpb24oXG4gICAgICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIFxuICAgICAgICBjYXJkOiBGbGFzaGNhcmQsIFxuICAgICAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgICAgIHVwZGF0ZVN0YXRlOiB7XG4gICAgICAgICAgc2V0VXNlckFuc3dlcjogKGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkO1xuICAgICAgICAgIHNldFVzZXJBbnN3ZXJzOiAoYW5zd2Vyczogc3RyaW5nW10pID0+IHZvaWQ7XG4gICAgICAgIH1cbiAgICAgICk6IHZvaWQge1xuICAgICAgICAvLyBcdTk1RUVcdTk4OThcdTY1ODdcdTY3MkNcbiAgICAgICAgY29uc3QgcXVlc3Rpb25UZXh0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3F1ZXN0aW9uLXRleHQnIH0pO1xuICAgICAgICBjb25zdCBpc1RhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KGNhcmQuZnJvbnQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzVGFibGUpIHtcbiAgICAgICAgICAvLyBcdTIxOTAgXHU0RkVFXHU2NTM5Olx1NkUzMlx1NjdEM1x1NUUyNlx1NUI5RVx1NjVGNlx1OTg4NFx1ODlDOFx1NzY4NFx1ODg2OFx1NjgzQ1xuICAgICAgICAgIGNvbnN0IHRhYmxlRWwgPSB0aGlzLnJlbmRlclRhYmxlV2l0aElucHV0UHJldmlldyhcbiAgICAgICAgICAgIGNhcmQuZnJvbnQsIFxuICAgICAgICAgICAgY2FyZC5jbG96ZT8uZGVsZXRpb25zIHx8IFtdLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICAgIHF1ZXN0aW9uVGV4dC5hcHBlbmRDaGlsZCh0YWJsZUVsKTtcbiAgICAgICAgICBxdWVzdGlvblRleHQuY2xhc3NMaXN0LmFkZCgndGFibGUtcXVlc3Rpb24nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YWJsZUVsID0gVGFibGVSZW5kZXJlci5yZW5kZXJUYWJsZShjYXJkLmZyb250LCBmYWxzZSk7XG4gICAgICAgICAgcXVlc3Rpb25UZXh0LmFwcGVuZENoaWxkKHRhYmxlRWwpO1xuICAgICAgICAgIHF1ZXN0aW9uVGV4dC5jbGFzc0xpc3QuYWRkKCd0YWJsZS1xdWVzdGlvbicpO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgLy8gXHU4RjkzXHU1MTY1XHU2ODQ2KFx1NzlGQlx1NTIzMFx1ODg2OFx1NjgzQ1x1NEUwQlx1NjVCOVx1NjIxNlx1NEZERFx1NjMwMVx1NTcyOFx1NTM5Rlx1NEY0RClcbiAgICAgICAgaWYgKGNhcmQuY2xvemUpIHtcbiAgICAgICAgICBjb25zdCBhY3R1YWxCbGFua0NvdW50ID0gKGNhcmQuY2xvemUub3JpZ2luYWwubWF0Y2goLz09W149XSs9PS9nKSB8fCBbXSkubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IGJsYW5rQ291bnQgPSBNYXRoLm1heChhY3R1YWxCbGFua0NvdW50LCBjYXJkLmNsb3plLmRlbGV0aW9ucy5sZW5ndGgpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChzdGF0ZS51c2VyQW5zd2Vycy5sZW5ndGggIT09IGJsYW5rQ291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlLnVzZXJBbnN3ZXJzID0gbmV3IEFycmF5KGJsYW5rQ291bnQpLmZpbGwoJycpO1xuICAgICAgICAgIH1cbiAgICAgIFxuICAgICAgICAgIGNvbnN0IGlucHV0QXJlYSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjbG96ZS1pbnB1dC1hcmVhJyB9KTtcbiAgICAgICAgICBpbnB1dEFyZWEuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiBgRmlsbCBpbiB0aGUgYmxhbmtzICgke2JsYW5rQ291bnR9IHRvdGFsKTpgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGhpbnQgPSBpbnB1dEFyZWEuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY2xvemUtaW5wdXQtaGludCcgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3Qgc2luZ2xlSW5wdXRHcm91cCA9IGlucHV0QXJlYS5jcmVhdGVEaXYoeyBjbHM6ICdzaW5nbGUtaW5wdXQtZ3JvdXAnIH0pO1xuICAgICAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZSA9IHN0YXRlLnVzZXJBbnN3ZXJzLmZpbHRlcihhID0+IGEpLmpvaW4oJyB8ICcpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGlucHV0ID0gc2luZ2xlSW5wdXRHcm91cC5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogYEVudGVyIGFsbCAke2JsYW5rQ291bnR9IGFuc3dlcnMgc2VwYXJhdGVkIGJ5IHwsIGNvbW1hLCBvciBzcGFjZXMuLi5gLFxuICAgICAgICAgICAgY2xzOiAnY2xvemUtc2luZ2xlLWlucHV0JyxcbiAgICAgICAgICAgIHZhbHVlOiBpbml0aWFsVmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbi8vIFx1NUI5RVx1NjVGNlx1NjZGNFx1NjVCMFx1NTFGRFx1NjU3MFxuY29uc3QgdXBkYXRlUHJldmlldyA9IChpbnB1dFZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHRoaXMucGFyc2VNdWx0aXBsZUFuc3dlcnMoaW5wdXRWYWx1ZSwgYmxhbmtDb3VudCk7XG4gICAgdXBkYXRlU3RhdGUuc2V0VXNlckFuc3dlcnMocGFydHMpOyAgLy8gXHUyNzA1IFx1NEY3Rlx1NzUyOFx1NTZERVx1OEMwM1x1NjZGNFx1NjVCMFxuICAgIFxuICAgIC8vIFx1MjE5MCBcdTU5ODJcdTY3OUNcdTY2MkZcdTg4NjhcdTY4M0MsXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU4ODY4XHU2ODNDXG4gICAgaWYgKGlzVGFibGUpIHtcbiAgICAgIHF1ZXN0aW9uVGV4dC5lbXB0eSgpO1xuICAgICAgY29uc3QgdXBkYXRlZFRhYmxlRWwgPSB0aGlzLnJlbmRlclRhYmxlV2l0aElucHV0UHJldmlldyhcbiAgICAgICAgY2FyZC5mcm9udCxcbiAgICAgICAgY2FyZC5jbG96ZT8uZGVsZXRpb25zIHx8IFtdLFxuICAgICAgICBzdGF0ZVxuICAgICAgKTtcbiAgICAgIHF1ZXN0aW9uVGV4dC5hcHBlbmRDaGlsZCh1cGRhdGVkVGFibGVFbCk7XG4gICAgfVxuICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICB1cGRhdGVQcmV2aWV3KGlucHV0VmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHVwZGF0ZVByZXZpZXcoaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGlucHV0LmZvY3VzKCksIDUwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTIxOTAgXHU2REZCXHU1MkEwXHU2NUIwXHU2NUI5XHU2Q0Q1Olx1NkUzMlx1NjdEM1x1NUUyNlx1OEY5M1x1NTE2NVx1OTg4NFx1ODlDOFx1NzY4NFx1ODg2OFx1NjgzQ1xuICAgICAgcHJpdmF0ZSByZW5kZXJUYWJsZVdpdGhJbnB1dFByZXZpZXcoXG4gICAgICAgIG1hcmtkb3duOiBzdHJpbmcsXG4gICAgICAgIGRlbGV0aW9uczogQXJyYXk8eyBhbnN3ZXI6IHN0cmluZyB9PixcbiAgICAgICAgc3RhdGU6IFJldmlld1N0YXRlXG4gICAgICApOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFtYXJrZG93bj8udHJpbSgpKSB7XG4gICAgICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gJyhlbXB0eSB0YWJsZSknO1xuICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBjb25zdCBsaW5lcyA9IG1hcmtkb3duLnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGlmIChsaW5lcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gbWFya2Rvd247XG4gICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIGNvbnN0IHRhYmxlID0gY29udGFpbmVyLmNyZWF0ZUVsKCd0YWJsZScsIHsgXG4gICAgICAgICAgY2xzOiAnbGVhcm5pbmctc3lzdGVtLXRhYmxlIGZsYXNoY2FyZC1yZXZpZXctdGFibGUgcHJldmlldy10YWJsZScgXG4gICAgICAgIH0pO1xuICAgICAgXG4gICAgICAgIC8vIFx1NjdFNVx1NjI3RVx1NTIwNlx1OTY5NFx1N0IyNlxuICAgICAgICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IGxpbmVzLmZpbmRJbmRleChsaW5lID0+IHtcbiAgICAgICAgICBjb25zdCBjbGVhbmVkID0gbGluZS5yZXBsYWNlKC9bXFxzfF0vZywgJycpO1xuICAgICAgICAgIHJldHVybiBjbGVhbmVkLmxlbmd0aCA+PSAzICYmIC9eWy06XSskLy50ZXN0KGNsZWFuZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGxldCBkZWxldGlvbkluZGV4ID0gMDtcbiAgICAgIFxuICAgICAgICAvLyBcdTZFMzJcdTY3RDNcdTg4NjhcdTU5MzRcbiAgICAgICAgaWYgKHNlcGFyYXRvckluZGV4ID4gMCkge1xuICAgICAgICAgIGNvbnN0IGhlYWRlckNlbGxzID0gdGhpcy5wYXJzZUNlbGxzKGxpbmVzW3NlcGFyYXRvckluZGV4IC0gMV0pO1xuICAgICAgICAgIGNvbnN0IHRoZWFkID0gdGFibGUuY3JlYXRlRWwoJ3RoZWFkJyk7XG4gICAgICAgICAgY29uc3QgaGVhZGVyUm93ID0gdGhlYWQuY3JlYXRlRWwoJ3RyJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaGVhZGVyQ2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRoID0gaGVhZGVyUm93LmNyZWF0ZUVsKCd0aCcpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZWQgPSB0aGlzLnJlbmRlckNlbGxXaXRoUHJldmlldyhjZWxsLCBzdGF0ZS51c2VyQW5zd2VycywgZGVsZXRpb25JbmRleCk7XG4gICAgICAgICAgICB0aC5pbm5lckhUTUwgPSByZW5kZXJlZC5odG1sO1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVkLmhhc0JsYW5rKSBkZWxldGlvbkluZGV4Kys7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICAvLyBcdTZFMzJcdTY3RDNcdTY1NzBcdTYzNkVcdTg4NENcbiAgICAgICAgY29uc3QgdGJvZHkgPSB0YWJsZS5jcmVhdGVFbCgndGJvZHknKTtcbiAgICAgICAgY29uc3Qgc3RhcnRSb3cgPSBzZXBhcmF0b3JJbmRleCA+IDAgPyBzZXBhcmF0b3JJbmRleCArIDEgOiAwO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0Um93OyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBsaW5lID0gbGluZXNbaV07XG4gICAgICAgICAgaWYgKCFsaW5lLnRyaW0oKSkgY29udGludWU7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgY2VsbHMgPSB0aGlzLnBhcnNlQ2VsbHMobGluZSk7XG4gICAgICAgICAgaWYgKGNlbGxzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XG4gICAgICAgICAgY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRkID0gcm93LmNyZWF0ZUVsKCd0ZCcpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZWQgPSB0aGlzLnJlbmRlckNlbGxXaXRoUHJldmlldyhjZWxsLCBzdGF0ZS51c2VyQW5zd2VycywgZGVsZXRpb25JbmRleCk7XG4gICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSByZW5kZXJlZC5odG1sO1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVkLmhhc0JsYW5rKSBkZWxldGlvbkluZGV4Kys7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTIxOTAgXHU2REZCXHU1MkEwXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1Olx1ODlFM1x1Njc5MFx1NTM1NVx1NTE0M1x1NjgzQ1xuICAgICAgcHJpdmF0ZSBwYXJzZUNlbGxzKGxpbmU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAgICAgbGV0IHRyaW1tZWQgPSBsaW5lLnRyaW0oKTtcbiAgICAgICAgaWYgKHRyaW1tZWQuc3RhcnRzV2l0aCgnfCcpKSB0cmltbWVkID0gdHJpbW1lZC5zbGljZSgxKTtcbiAgICAgICAgaWYgKHRyaW1tZWQuZW5kc1dpdGgoJ3wnKSkgdHJpbW1lZCA9IHRyaW1tZWQuc2xpY2UoMCwgLTEpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRyaW1tZWRcbiAgICAgICAgICAuc3BsaXQoJ3wnKVxuICAgICAgICAgIC5tYXAoYyA9PiBjLnRyaW0oKSlcbiAgICAgICAgICAuZmlsdGVyKGMgPT4gYy5sZW5ndGggPiAwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENTpcdTZFMzJcdTY3RDNcdTVFMjZcdTk4ODRcdTg5QzhcdTc2ODRcdTUzNTVcdTUxNDNcdTY4M0NcbiAgICAgIHByaXZhdGUgcmVuZGVyQ2VsbFdpdGhQcmV2aWV3KFxuICAgICAgICBjZWxsOiBzdHJpbmcsXG4gICAgICAgIHVzZXJBbnN3ZXJzOiBzdHJpbmdbXSxcbiAgICAgICAgZGVsZXRpb25JbmRleDogbnVtYmVyXG4gICAgICApOiB7IGh0bWw6IHN0cmluZzsgaGFzQmxhbms6IGJvb2xlYW4gfSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gY2VsbC5tYXRjaCgvPT0oW149XSspPT0vKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4geyBodG1sOiBjZWxsLCBoYXNCbGFuazogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gXHU2NzA5XHU2MzE2XHU3QTdBXHU2ODA3XHU4QkIwXG4gICAgICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSB1c2VyQW5zd2Vyc1tkZWxldGlvbkluZGV4XSB8fCAnJztcbiAgICAgICAgY29uc3QgZGlzcGxheVRleHQgPSB1c2VyQW5zd2VyIFxuICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwicHJldmlldy1hbnN3ZXJcIj4ke3VzZXJBbnN3ZXJ9PC9zcGFuPmAgXG4gICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJjbG96ZS1ibGFua1wiPjwvc3Bhbj4nO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaHRtbCA9IGNlbGwucmVwbGFjZSgvPT0oW149XSspPT0vZywgZGlzcGxheVRleHQpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgaHRtbCwgaGFzQmxhbms6IHRydWUgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1NjVCMFx1NzY4NFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENTpcdTg5RTNcdTY3OTBcdTU5MUFcdTdCNTRcdTY4NDhcdThGOTNcdTUxNjVcbiAgICAgIHByaXZhdGUgcGFyc2VNdWx0aXBsZUFuc3dlcnMoaW5wdXQ6IHN0cmluZywgZXhwZWN0ZWRDb3VudDogbnVtYmVyKTogc3RyaW5nW10ge1xuICAgICAgICBpZiAoIWlucHV0LnRyaW0oKSkge1xuICAgICAgICAgIHJldHVybiBuZXcgQXJyYXkoZXhwZWN0ZWRDb3VudCkuZmlsbCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFx1N0VERlx1NEUwMFx1NTkwNFx1NzQwNlx1NTIwNlx1OTY5NFx1N0IyNlxuICAgICAgICBsZXQgbm9ybWFsaXplZCA9IGlucHV0XG4gICAgICAgICAgLnJlcGxhY2UoLywvZywgJ3wnKSAgICAgICAgLy8gXHU4MkYxXHU2NTg3XHU5MDE3XHU1M0Y3XG4gICAgICAgICAgLnJlcGxhY2UoLywvZywgJ3wnKSAgICAgICAgLy8gXHU0RTJEXHU2NTg3XHU5MDE3XHU1M0Y3ICBcbiAgICAgICAgICAucmVwbGFjZSgvXFxzezIsfS9nLCAnfCcpOyAgLy8gXHU1OTFBXHU0RTJBXHU3QTdBXHU2ODNDXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwYXJ0cyA9IG5vcm1hbGl6ZWRcbiAgICAgICAgICAuc3BsaXQoJ3wnKVxuICAgICAgICAgIC5tYXAocyA9PiBzLnRyaW0oKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTc4NkVcdTRGRERcdTY1NzBcdTdFQzRcdTk1N0ZcdTVFQTZcdTUzMzlcdTkxNERcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KGV4cGVjdGVkQ291bnQpLmZpbGwoJycpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKHBhcnRzLmxlbmd0aCwgZXhwZWN0ZWRDb3VudCk7IGkrKykge1xuICAgICAgICAgIHJlc3VsdFtpXSA9IHBhcnRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gIHJlbmRlckFuc3dlcihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICk6IHZvaWQge1xuICAgIGlmICghY2FyZC5jbG96ZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgYW5zd2VyQXJlYSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdhbnN3ZXItYXJlYScgfSk7XG4gICAgY29uc3QgaXNPcmlnaW5hbFRhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KGNhcmQuY2xvemUub3JpZ2luYWwpO1xuXG4gICAgaWYgKGlzT3JpZ2luYWxUYWJsZSkge1xuICAgICAgdGhpcy5yZW5kZXJUYWJsZUFuc3dlcihhbnN3ZXJBcmVhLCBjYXJkLCBzdGF0ZSwgc2NoZWR1bGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJUZXh0QW5zd2VyKGFuc3dlckFyZWEsIGNhcmQsIHN0YXRlLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVGFibGVBbnN3ZXIoXG4gICAgYW5zd2VyQXJlYTogSFRNTEVsZW1lbnQsXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKSB7XG4gICAgXG4gICAgY29uc3QgY29sdW1uc0NvbnRhaW5lciA9IGFuc3dlckFyZWEuY3JlYXRlRGl2KHsgY2xzOiAnY2xvemUtdGFibGUtY29sdW1ucycgfSk7XG4gICAgXG4gICAgLy8gXHU1REU2XHU1MjE3Olx1NkI2M1x1Nzg2RVx1N0I1NFx1Njg0OFxuICAgIGNvbnN0IGNvcnJlY3RDb2x1bW4gPSBjb2x1bW5zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3FhLWNvbHVtbicgfSk7XG4gICAgY29ycmVjdENvbHVtbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdDb3JyZWN0IEFuc3dlcjonLCBjbHM6ICdjb2x1bW4tbGFiZWwnIH0pO1xuICAgIGNvbnN0IGNvcnJlY3REaXYgPSBjb3JyZWN0Q29sdW1uLmNyZWF0ZURpdih7IGNsczogJ2NvbXBhcmlzb24taXRlbScgfSk7XG4gICAgY29uc3QgdGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGUoY2FyZC5jbG96ZSEub3JpZ2luYWwsIHRydWUpO1xuICAgIGNvcnJlY3REaXYuYXBwZW5kQ2hpbGQodGFibGVFbCk7XG4gICAgY29ycmVjdERpdi5jbGFzc0xpc3QuYWRkKCd0YWJsZS1hbnN3ZXInKTtcbiAgICBcbiAgICAvLyBcdTUzRjNcdTUyMTc6XHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4XG4gICAgY29uc3QgdXNlckNvbHVtbiA9IGNvbHVtbnNDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncWEtY29sdW1uJyB9KTtcbiAgICB1c2VyQ29sdW1uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1lvdXIgQW5zd2VyOicsIGNsczogJ2NvbHVtbi1sYWJlbCcgfSk7XG4gICAgY29uc3QgdXNlckRpdiA9IHVzZXJDb2x1bW4uY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1pdGVtJyB9KTtcbiAgXG4gICAgLy8gXHUyMTkwIFx1NEZFRVx1NjUzOTpcdTYzRDBcdTUzRDZcdTVCOUVcdTk2NDVcdTc2ODRcdTdCNTRcdTY4NDhcdTY3NjVcdTY3ODRcdTVFRkEgZGVsZXRpb25zXG4gICAgY29uc3QgYWN0dWFsQW5zd2VycyA9IHRoaXMuZXh0cmFjdENsb3plQW5zd2VycyhjYXJkLmNsb3plIS5vcmlnaW5hbCk7XG4gICAgY29uc3QgY29uc3RydWN0ZWREZWxldGlvbnMgPSBhY3R1YWxBbnN3ZXJzLm1hcChhbnN3ZXIgPT4gKHsgYW5zd2VyIH0pKTtcbiAgICBcbiAgXG4gICAgLy8gXHU3ODZFXHU0RkREIHVzZXJBbnN3ZXJzIFx1NjU3MFx1N0VDNFx1OTU3Rlx1NUVBNlx1NTMzOVx1OTE0RFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRBbnN3ZXJzID0gbmV3IEFycmF5KGFjdHVhbEFuc3dlcnMubGVuZ3RoKS5maWxsKCcnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKHN0YXRlLnVzZXJBbnN3ZXJzLmxlbmd0aCwgbm9ybWFsaXplZEFuc3dlcnMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICBub3JtYWxpemVkQW5zd2Vyc1tpXSA9IHN0YXRlLnVzZXJBbnN3ZXJzW2ldIHx8ICcnO1xuICAgIH1cbiAgXG4gICAgY29uc3QgdXNlclRhYmxlRWwgPSBUYWJsZVJlbmRlcmVyLnJlbmRlclRhYmxlV2l0aFVzZXJBbnN3ZXJzKFxuICAgICAgY2FyZC5jbG96ZSEub3JpZ2luYWwsXG4gICAgICBjb25zdHJ1Y3RlZERlbGV0aW9ucywgIC8vIFx1MjE5MCBcdTRGN0ZcdTc1MjhcdTY3ODRcdTVFRkFcdTc2ODQgZGVsZXRpb25zXG4gICAgICBub3JtYWxpemVkQW5zd2VycyxcbiAgICAgIHNjaGVkdWxlclxuICAgICk7XG4gICAgdXNlckRpdi5hcHBlbmRDaGlsZCh1c2VyVGFibGVFbCk7XG4gICAgdXNlckRpdi5jbGFzc0xpc3QuYWRkKCd0YWJsZS1hbnN3ZXInKTtcbiAgXG4gICAgLy8gXHU4QkU2XHU3RUM2XHU1QkY5XHU2QkQ0XG4gICAgdGhpcy5yZW5kZXJEZXRhaWxlZENvbXBhcmlzb24oYW5zd2VyQXJlYSwgY2FyZCwgc3RhdGUsIHNjaGVkdWxlcik7XG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJUZXh0QW5zd2VyKFxuICAgIGFuc3dlckFyZWE6IEhUTUxFbGVtZW50LFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICkge1xuICAgIGNvbnN0IGZ1bGxUZXh0ID0gYW5zd2VyQXJlYS5jcmVhdGVEaXYoeyBjbHM6ICdmdWxsLXRleHQnIH0pO1xuICAgIGZ1bGxUZXh0LnRleHRDb250ZW50ID0gY2FyZC5jbG96ZSEub3JpZ2luYWw7XG4gICAgXG4gICAgLy8gXHUyMTkwIFx1OEZEOVx1OTFDQ1x1NURGMlx1N0VDRlx1NEYxQVx1OEMwM1x1NzUyOCByZW5kZXJEZXRhaWxlZENvbXBhcmlzb24sXHU1QjgzXHU0RjFBXHU0RjdGXHU3NTI4XHU2NUIwXHU3Njg0XHU5MDNCXHU4RjkxXG4gICAgdGhpcy5yZW5kZXJEZXRhaWxlZENvbXBhcmlzb24oYW5zd2VyQXJlYSwgY2FyZCwgc3RhdGUsIHNjaGVkdWxlcik7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckRldGFpbGVkQ29tcGFyaXNvbihcbiAgICBhbnN3ZXJBcmVhOiBIVE1MRWxlbWVudCxcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApIHtcbiAgICBpZiAoc3RhdGUudXNlckFuc3dlcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIFxuICAgIGNvbnN0IGNvbXBhcmlzb24gPSBhbnN3ZXJBcmVhLmNyZWF0ZURpdih7IGNsczogJ2Fuc3dlci1jb21wYXJpc29uJyB9KTtcbiAgICBjb21wYXJpc29uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0Fuc3dlciBEZXRhaWxzOicgfSk7XG4gIFxuICAgIC8vIFx1MjE5MCBcdTUxNzNcdTk1MkVcdTRGRUVcdTY1Mzk6XHU0RjdGXHU3NTI4XHU1QjlFXHU5NjQ1XHU3Njg0XHU2MzE2XHU3QTdBXHU2NTcwXHU5MUNGLFx1ODAwQ1x1NEUwRFx1NjYyRiBkZWxldGlvbnMubGVuZ3RoXG4gICAgLy8gXHU2NUI5XHU2Q0Q1MTogXHU0RUNFXHU1MzlGXHU1OUNCXHU2NTg3XHU2NzJDXHU2M0QwXHU1M0Q2XHU2MjQwXHU2NzA5XHU2MzE2XHU3QTdBXHU3QjU0XHU2ODQ4XG4gICAgY29uc3QgYWN0dWFsQW5zd2VycyA9IHRoaXMuZXh0cmFjdENsb3plQW5zd2VycyhjYXJkLmNsb3plIS5vcmlnaW5hbCk7XG4gICAgXG4gIFxuICAgIC8vIFx1NEY3Rlx1NzUyOFx1NUI5RVx1OTY0NVx1N0I1NFx1Njg0OFx1NjU3MFx1OTFDRlx1OEZEQlx1ODg0Q1x1NUJGOVx1NkJENFxuICAgIGNvbnN0IG1heENvdW50ID0gTWF0aC5tYXgoYWN0dWFsQW5zd2Vycy5sZW5ndGgsIHN0YXRlLnVzZXJBbnN3ZXJzLmxlbmd0aCk7XG4gICAgXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG1heENvdW50OyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gY29tcGFyaXNvbi5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWl0ZW0nIH0pO1xuICAgICAgaXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogYCR7aW5kZXggKyAxfS4gYCB9KTtcbiAgXG4gICAgICBjb25zdCB1c2VyQW5zd2VyID0gc3RhdGUudXNlckFuc3dlcnNbaW5kZXhdIHx8ICcnO1xuICAgICAgY29uc3QgY29ycmVjdEFuc3dlciA9IGFjdHVhbEFuc3dlcnNbaW5kZXhdIHx8ICcnO1xuICAgICAgXG4gICAgICBpZiAoIWNvcnJlY3RBbnN3ZXIpIHtcbiAgICAgICAgLy8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU1QkY5XHU1RTk0XHU3Njg0XHU2QjYzXHU3ODZFXHU3QjU0XHU2ODQ4KFx1NzUyOFx1NjIzN1x1NTkxQVx1OEY5M1x1NTE2NVx1NEU4NilcbiAgICAgICAgaXRlbS5jcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgICB0ZXh0OiB1c2VyQW5zd2VyIHx8ICcoZW1wdHkpJyxcbiAgICAgICAgICBjbHM6ICd1c2VyLWFuc3dlciAgJHtldmFsdWF0aW9uLmNvcnJlY3RuZXNzfSdcbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZW0uY3JlYXRlU3Bhbih7IHRleHQ6ICcgXHUyMTkyICcgfSk7XG4gICAgICAgIGl0ZW0uY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICAgICAgdGV4dDogJyhubyBibGFuayBoZXJlKScsXG4gICAgICAgICAgY2xzOiAnY29ycmVjdC1hbnN3ZXInXG4gICAgICAgIH0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgXG4gICAgICBjb25zdCBldmFsdWF0aW9uID0gc2NoZWR1bGVyLmV2YWx1YXRlQW5zd2VyKGNvcnJlY3RBbnN3ZXIsIHVzZXJBbnN3ZXIpO1xuICBcbiAgICAgIGl0ZW0uY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICAgIHRleHQ6IHVzZXJBbnN3ZXIgfHwgJyhlbXB0eSknLFxuICAgICAgICBjbHM6IGB1c2VyLWFuc3dlciAke2V2YWx1YXRpb24uY29ycmVjdG5lc3N9YFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGl0ZW0uY3JlYXRlU3Bhbih7IHRleHQ6ICcgXHUyMTkyICcgfSk7XG4gICAgICBcbiAgICAgIGl0ZW0uY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICAgIHRleHQ6IGNvcnJlY3RBbnN3ZXIsXG4gICAgICAgIGNsczogJ2NvcnJlY3QtYW5zd2VyJ1xuICAgICAgfSk7XG4gIFxuICAgICAgaWYgKGV2YWx1YXRpb24uY29ycmVjdG5lc3MgPT09ICdwYXJ0aWFsJykge1xuICAgICAgICBpdGVtLmNyZWF0ZUVsKCdzbWFsbCcsIHtcbiAgICAgICAgICB0ZXh0OiBgICgke01hdGgucm91bmQoZXZhbHVhdGlvbi5zaW1pbGFyaXR5ICogMTAwKX0lIG1hdGNoKWAsXG4gICAgICAgICAgY2xzOiAnc2ltaWxhcml0eS1pbmZvJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIFx1MjE5MCBcdTZERkJcdTUyQTBcdTY1QjBcdTY1QjlcdTZDRDU6XHU0RUNFXHU1MzlGXHU1OUNCXHU2NTg3XHU2NzJDXHU2M0QwXHU1M0Q2XHU2MjQwXHU2NzA5XHU2MzE2XHU3QTdBXHU3QjU0XHU2ODQ4XG4gIHByaXZhdGUgZXh0cmFjdENsb3plQW5zd2VycyhvcmlnaW5hbFRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBtYXRjaGVzID0gb3JpZ2luYWxUZXh0Lm1hdGNoKC89PShbXj1dKyk9PS9nKTtcbiAgICBpZiAoIW1hdGNoZXMpIHJldHVybiBbXTtcbiAgICBcbiAgICByZXR1cm4gbWF0Y2hlcy5tYXAobWF0Y2ggPT4ge1xuICAgICAgLy8gXHU3OUZCXHU5NjY0ID09IFx1NjgwN1x1OEJCMCxcdTgzQjdcdTUzRDZcdTdCNTRcdTY4NDhcbiAgICAgIHJldHVybiBtYXRjaC5yZXBsYWNlKC89PS9nLCAnJykudHJpbSgpO1xuICAgIH0pO1xuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFx1OTVFRVx1N0I1NFx1NTM2MVx1NzI0N1x1NkUzMlx1NjdEM1x1NTY2OFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNsYXNzIFFBQ2FyZFJlbmRlcmVyIGltcGxlbWVudHMgQ2FyZFJlbmRlclN0cmF0ZWd5IHtcbiAgICByZW5kZXJRdWVzdGlvbihcbiAgICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgXG4gICAgICAgIGNhcmQ6IEZsYXNoY2FyZCwgXG4gICAgICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICAgICAgdXBkYXRlU3RhdGU6IHsgIC8vIFx1MjcwNSBcdTZERkJcdTUyQTBcdTUzQzJcdTY1NzBcbiAgICAgICAgICBzZXRVc2VyQW5zd2VyOiAoYW5zd2VyOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgICAgICAgc2V0VXNlckFuc3dlcnM6IChhbnN3ZXJzOiBzdHJpbmdbXSkgPT4gdm9pZDtcbiAgICAgICAgfVxuICAgICAgKTogdm9pZCB7XG4gICAgLy8gXHU5NUVFXHU5ODk4XHU2NTg3XHU2NzJDXG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uVGV4dCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdxdWVzdGlvbi10ZXh0JyB9KTtcbiAgICAgICAgY29uc3QgaXNUYWJsZSA9IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdChjYXJkLmZyb250KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc1RhYmxlKSB7XG4gICAgICAgICAgY29uc3QgdGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGUoY2FyZC5mcm9udCwgZmFsc2UpO1xuICAgICAgICAgIHF1ZXN0aW9uVGV4dC5hcHBlbmRDaGlsZCh0YWJsZUVsKTtcbiAgICAgICAgICBxdWVzdGlvblRleHQuY2xhc3NMaXN0LmFkZCgndGFibGUtcXVlc3Rpb24nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBxdWVzdGlvblRleHQudGV4dENvbnRlbnQgPSBjYXJkLmZyb250O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIFx1OEY5M1x1NTE2NVx1Njg0NlxuICAgICAgICBjb25zdCBpbnB1dEFyZWEgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncWEtaW5wdXQtYXJlYScgfSk7XG4gICAgICAgIGlucHV0QXJlYS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdZb3VyIEFuc3dlcjonIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGV4dGFyZWEgPSBpbnB1dEFyZWEuY3JlYXRlRWwoJ3RleHRhcmVhJywge1xuICAgICAgICAgIHBsYWNlaG9sZGVyOiAnVHlwZSB5b3VyIGFuc3dlciBoZXJlLi4uJyxcbiAgICAgICAgICBjbHM6ICdxYS1pbnB1dCcsXG4gICAgICAgICAgdmFsdWU6IHN0YXRlLnVzZXJBbnN3ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVTdGF0ZS5zZXRVc2VyQW5zd2VyKChlLnRhcmdldCBhcyBIVE1MVGV4dEFyZWFFbGVtZW50KS52YWx1ZSk7ICAvLyBcdTI3MDUgXHU0RjdGXHU3NTI4XHU1NkRFXHU4QzAzXG4gICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRleHRhcmVhLmZvY3VzKCksIDUwKTtcbiAgICAgIH1cblxuICByZW5kZXJBbnN3ZXIoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApOiB2b2lkIHtcbiAgICBjb25zdCBhbnN3ZXJBcmVhID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2Fuc3dlci1hcmVhJyB9KTtcbiAgICBcbiAgICAvLyBcdTgzQjdcdTUzRDZcdTZCNjNcdTc4NkVcdTdCNTRcdTY4NDhcbiAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gQXJyYXkuaXNBcnJheShjYXJkLmJhY2spIFxuICAgICAgPyAoY2FyZC5iYWNrWzBdIHx8IGNhcmQuYmFjay5qb2luKCdcXG4nKSlcbiAgICAgIDogY2FyZC5iYWNrIGFzIHN0cmluZztcbiAgICBcbiAgICBjb25zdCBpc1RhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KGNvcnJlY3RBbnN3ZXIpO1xuICAgIGNvbnN0IGV2YWx1YXRpb24gPSBzdGF0ZS51c2VyQW5zd2VyLnRyaW0oKSBcbiAgICAgID8gc2NoZWR1bGVyLmV2YWx1YXRlQW5zd2VyKGNvcnJlY3RBbnN3ZXIsIHN0YXRlLnVzZXJBbnN3ZXIpXG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBjb21wYXJpc29uID0gYW5zd2VyQXJlYS5jcmVhdGVEaXYoeyBcbiAgICAgIGNsczogJ2Fuc3dlci1jb21wYXJpc29uIHFhLWNvbXBhcmlzb24nIFxuICAgIH0pO1xuICAgIGNvbnN0IGNvbHVtbnNDb250YWluZXIgPSBjb21wYXJpc29uLmNyZWF0ZURpdih7IGNsczogJ3FhLWNvbHVtbnMtY29udGFpbmVyJyB9KTtcbiAgICBcbiAgICAvLyBcdTVERTZcdTUyMTdcdUZGMUFcdTZCNjNcdTc4NkVcdTdCNTRcdTY4NDhcbiAgICB0aGlzLnJlbmRlckNvcnJlY3RBbnN3ZXJDb2x1bW4oY29sdW1uc0NvbnRhaW5lciwgY29ycmVjdEFuc3dlciwgaXNUYWJsZSk7XG4gICAgXG4gICAgLy8gXHU1M0YzXHU1MjE3XHVGRjFBXHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4XG4gICAgdGhpcy5yZW5kZXJVc2VyQW5zd2VyQ29sdW1uKFxuICAgICAgY29sdW1uc0NvbnRhaW5lciwgXG4gICAgICBzdGF0ZS51c2VyQW5zd2VyLCBcbiAgICAgIGlzVGFibGUsIFxuICAgICAgZXZhbHVhdGlvblxuICAgICk7XG5cbiAgICAvLyBcdTc2RjhcdTRGM0NcdTVFQTZcdTRGRTFcdTYwNkZcbiAgICBpZiAoZXZhbHVhdGlvbj8uY29ycmVjdG5lc3MgPT09ICdwYXJ0aWFsJykge1xuICAgICAgY29uc3Qgc2ltaWxhcml0eUluZm8gPSBjb21wYXJpc29uLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgIGNsczogJ3NpbWlsYXJpdHktaW5mbyBxYS1zaW1pbGFyaXR5J1xuICAgICAgfSk7XG4gICAgICBzaW1pbGFyaXR5SW5mby50ZXh0Q29udGVudCA9IGBTaW1pbGFyaXR5OiAke01hdGgucm91bmQoZXZhbHVhdGlvbi5zaW1pbGFyaXR5ICogMTAwKX0lYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckNvcnJlY3RBbnN3ZXJDb2x1bW4oXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBjb3JyZWN0QW5zd2VyOiBzdHJpbmcsXG4gICAgaXNUYWJsZTogYm9vbGVhblxuICApIHtcbiAgICBjb25zdCBjb3JyZWN0Q29sdW1uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3FhLWNvbHVtbicgfSk7XG4gICAgY29ycmVjdENvbHVtbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdDb3JyZWN0IEFuc3dlcjonLCBjbHM6ICdjb2x1bW4tbGFiZWwnIH0pO1xuICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXJEaXYgPSBjb3JyZWN0Q29sdW1uLmNyZWF0ZURpdih7IGNsczogJ2NvbXBhcmlzb24taXRlbScgfSk7XG4gICAgXG4gICAgaWYgKGlzVGFibGUpIHtcbiAgICAgIGNvbnN0IHRhYmxlRWwgPSBUYWJsZVJlbmRlcmVyLnJlbmRlclRhYmxlKGNvcnJlY3RBbnN3ZXIsIHRydWUpO1xuICAgICAgY29ycmVjdEFuc3dlckRpdi5hcHBlbmRDaGlsZCh0YWJsZUVsKTtcbiAgICAgIGNvcnJlY3RBbnN3ZXJEaXYuY2xhc3NMaXN0LmFkZCgndGFibGUtYW5zd2VyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvcnJlY3RBbnN3ZXJEaXYuY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgdGV4dDogY29ycmVjdEFuc3dlcixcbiAgICAgICAgY2xzOiAnY29ycmVjdC1hbnN3ZXIgcWEtY29ycmVjdC1hbnN3ZXInXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclVzZXJBbnN3ZXJDb2x1bW4oXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICB1c2VyQW5zd2VyOiBzdHJpbmcsXG4gICAgaXNUYWJsZTogYm9vbGVhbixcbiAgICBldmFsdWF0aW9uOiBhbnlcbiAgKSB7XG4gICAgY29uc3QgdXNlckNvbHVtbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdxYS1jb2x1bW4nIH0pO1xuICAgIHVzZXJDb2x1bW4uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnWW91ciBBbnN3ZXI6JywgY2xzOiAnY29sdW1uLWxhYmVsJyB9KTtcbiAgICBjb25zdCB1c2VyQW5zd2VyRGl2ID0gdXNlckNvbHVtbi5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWl0ZW0nIH0pO1xuXG4gICAgY29uc3QgaXNVc2VyQW5zd2VyVGFibGUgPSBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQodXNlckFuc3dlci50cmltKCkpO1xuICAgIGNvbnN0IHNob3VsZFJlbmRlckFzVGFibGUgPSBpc1VzZXJBbnN3ZXJUYWJsZSB8fCAoaXNUYWJsZSAmJiB1c2VyQW5zd2VyLnRyaW0oKSk7XG5cbiAgICBpZiAoc2hvdWxkUmVuZGVyQXNUYWJsZSAmJiB1c2VyQW5zd2VyLnRyaW0oKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlclRhYmxlRWwgPSBUYWJsZVJlbmRlcmVyLnJlbmRlclRhYmxlKHVzZXJBbnN3ZXIsIHRydWUpO1xuICAgICAgICB1c2VyQW5zd2VyRGl2LmFwcGVuZENoaWxkKHVzZXJUYWJsZUVsKTtcbiAgICAgICAgdXNlckFuc3dlckRpdi5jbGFzc0xpc3QuYWRkKCd0YWJsZS1hbnN3ZXInKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChldmFsdWF0aW9uKSB7XG4gICAgICAgICAgdXNlckFuc3dlckRpdi5jbGFzc0xpc3QuYWRkKCd1c2VyLWFuc3dlcicsIGV2YWx1YXRpb24uY29ycmVjdG5lc3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLnJlbmRlclRleHRVc2VyQW5zd2VyKHVzZXJBbnN3ZXJEaXYsIHVzZXJBbnN3ZXIsIGV2YWx1YXRpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlclRleHRVc2VyQW5zd2VyKHVzZXJBbnN3ZXJEaXYsIHVzZXJBbnN3ZXIsIGV2YWx1YXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVGV4dFVzZXJBbnN3ZXIoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICB1c2VyQW5zd2VyOiBzdHJpbmcsXG4gICAgZXZhbHVhdGlvbjogYW55XG4gICkge1xuICAgIGNvbnN0IHVzZXJBbnN3ZXJFbGVtZW50ID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICB0ZXh0OiB1c2VyQW5zd2VyLnRyaW0oKSB8fCAnKG5vIGFuc3dlciBwcm92aWRlZCknLFxuICAgICAgY2xzOiAncWEtdXNlci1hbnN3ZXInXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKGV2YWx1YXRpb24pIHtcbiAgICAgIHVzZXJBbnN3ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VzZXItYW5zd2VyJywgZXZhbHVhdGlvbi5jb3JyZWN0bmVzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXJBbnN3ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ25vLWFuc3dlcicpO1xuICAgIH1cbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBcdTUzNjFcdTcyNDdcdTZFMzJcdTY3RDNcdTU2NjhcdTVERTVcdTUzODJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjbGFzcyBDYXJkUmVuZGVyZXJGYWN0b3J5IHtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVuZGVyZXJzID0gbmV3IE1hcDxzdHJpbmcsIENhcmRSZW5kZXJTdHJhdGVneT4oW1xuICAgIFsnY2xvemUnLCBuZXcgQ2xvemVDYXJkUmVuZGVyZXIoKV0sXG4gICAgWydxYScsIG5ldyBRQUNhcmRSZW5kZXJlcigpXVxuICBdKTtcblxuICBzdGF0aWMgZ2V0UmVuZGVyZXIoY2FyZFR5cGU6IHN0cmluZyk6IENhcmRSZW5kZXJTdHJhdGVneSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVycy5nZXQoY2FyZFR5cGUpO1xuICAgIGlmICghcmVuZGVyZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjYXJkIHR5cGU6ICR7Y2FyZFR5cGV9YCk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJlcjtcbiAgfVxufSIsICIvLyBzdGFzVmlldy50c1xuaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcbmltcG9ydCB7IEFuYWx5dGljc0VuZ2luZSB9IGZyb20gJy4uLy4uL2NvcmUvQW5hbHl0aWNzRW5naW5lJztcbmltcG9ydCB7IHQgLExhbmd1YWdlfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfU1RBVFMgPSAnbGVhcm5pbmctc3lzdGVtLXN0YXRzJztcblxuZXhwb3J0IGNsYXNzIFN0YXRzVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbjtcbiAgcHJpdmF0ZSBsYW5ndWFnZTogTGFuZ3VhZ2U7XG4gIHByaXZhdGUgYW5hbHl0aWNzOiBBbmFseXRpY3NFbmdpbmU7XG4gIHByaXZhdGUgY3VycmVudFRhYjogJ292ZXJ2aWV3JyB8ICd0cmVuZHMnIHwgJ2RlY2tzJyB8ICdkaWZmaWN1bHQnfCAnaGlzdG9yeScgPSAnb3ZlcnZpZXcnO1xuXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgICB0aGlzLmFuYWx5dGljcyA9IG5ldyBBbmFseXRpY3NFbmdpbmUocGx1Z2luKTtcbiAgICBcbiAgfVxuXG4gIGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFZJRVdfVFlQRV9TVEFUUztcbiAgfVxuXG4gIGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdMZWFybmluZyBTdGF0aXN0aWNzJztcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2Jhci1jaGFydCc7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgICAvLyBcdUQ4M0NcdURGQUYgXHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXHU2OEMwXHU2N0U1XHU3MEI5XG4gIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vblN0YXRzUGFnZVZpc2l0ZWQoKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMuYWRkU3R5bGVzKCk7XG4gIH1cblxuICBhc3luYyBvbkNsb3NlKCkge31cblxuICBwcml2YXRlIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hZGRDbGFzcygnc3RhdHMtY29udGFpbmVyJyk7XG5cbiAgICAvLyBcdTY4MDdcdTk4OThcdTY4MEZcbiAgICBjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtaGVhZGVyJyB9KTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnTGVhcm5pbmcgU3RhdGlzdGljcycgfSk7XG5cbiAgICAvLyBcdTUyMzdcdTY1QjBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCByZWZyZXNoQnRuID0gaGVhZGVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnXHUyN0YzJyxcbiAgICAgIGNsczogJ3JlZnJlc2gtYnRuJ1xuICAgIH0pO1xuICAgIHJlZnJlc2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnJlbmRlcigpKTtcblxuICAgIC8vIFx1NjgwN1x1N0I3RVx1OTg3NVxuICAgIHRoaXMucmVuZGVyVGFicyhjb250YWluZXIpO1xuXG4gICAgLy8gXHU1MTg1XHU1QkI5XHU1MzNBXHU1N0RGXG4gICAgY29uc3QgY29udGVudCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy1jb250ZW50JyB9KTtcblxuICAgIHN3aXRjaCAodGhpcy5jdXJyZW50VGFiKSB7XG4gICAgICBjYXNlICdvdmVydmlldyc6XG4gICAgICAgIHRoaXMucmVuZGVyT3ZlcnZpZXcoY29udGVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJlbmRzJzpcbiAgICAgICAgdGhpcy5yZW5kZXJUcmVuZHMoY29udGVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGVja3MnOlxuICAgICAgICB0aGlzLnJlbmRlckRlY2tzKGNvbnRlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RpZmZpY3VsdCc6XG4gICAgICAgIHRoaXMucmVuZGVyRGlmZmljdWx0KGNvbnRlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaGlzdG9yeSc6XG4gICAgICAgICAgdGhpcy5yZW5kZXJDeWNsZUhpc3RvcnkoY29udGVudCk7XG4gICAgICAgICAgYnJlYWs7ICAgIFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVGFicyhjb250YWluZXI6IEVsZW1lbnQpIHtcbiAgICBjb25zdCB0YWJzID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLXRhYnMnIH0pO1xuXG4gICAgY29uc3QgdGFiQ29uZmlncyA9IFtcbiAgICAgIHsgaWQ6ICdvdmVydmlldycsIGxhYmVsOiAnXHVEODNEXHVEQ0NBIE92ZXJ2aWV3JyB9LFxuICAgICAgeyBpZDogJ3RyZW5kcycsIGxhYmVsOiAnXHVEODNEXHVEQ0M4IFRyZW5kcycgfSxcbiAgICAgIHsgaWQ6ICdkZWNrcycsIGxhYmVsOiAnXHVEODNEXHVEQ0RBIERlY2tzJyB9LFxuICAgICAgeyBpZDogJ2RpZmZpY3VsdCcsIGxhYmVsOiAnXHUyNkEwXHVGRTBGIERpZmZpY3VsdCcgfSxcbiAgICAgIHsgaWQ6ICdoaXN0b3J5JywgbGFiZWw6ICdcdUQ4M0RcdURDREMgQ3ljbGUgSGlzdG9yeScgfVxuICAgIF07XG5cbiAgICB0YWJDb25maWdzLmZvckVhY2goY29uZmlnID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IHRhYnMuY3JlYXRlRGl2KHtcbiAgICAgICAgY2xzOiBgdGFiICR7dGhpcy5jdXJyZW50VGFiID09PSBjb25maWcuaWQgPyAnYWN0aXZlJyA6ICcnfWBcbiAgICAgIH0pO1xuICAgICAgdGFiLnRleHRDb250ZW50ID0gY29uZmlnLmxhYmVsO1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSBjb25maWcuaWQgYXMgYW55O1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck92ZXJ2aWV3KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdGF0cyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0U3RhdHMoKTtcbiAgICBjb25zdCB7IHRoaXNXZWVrLCBsYXN0V2VlayB9ID0gdGhpcy5hbmFseXRpY3MuZ2V0V2Vla2x5U3RhdHMoKTtcbiAgICBjb25zdCBkYWlseVN0YXRzID0gdGhpcy5hbmFseXRpY3MuZ2V0RGFpbHlTdGF0cyg3KTtcblxuICAgIHRoaXMucmVuZGVyQ3ljbGVCYW5uZXIoY29udGFpbmVyKTtcblxuICAgIC8vIFx1NTE3M1x1OTUyRVx1NjMwN1x1NjgwN1x1NTM2MVx1NzI0N1xuICAgIGNvbnN0IG1ldHJpY3NHcmlkID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ21ldHJpY3MtZ3JpZCcgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZU1ldHJpY0NhcmQobWV0cmljc0dyaWQsIHtcbiAgICAgIHRpdGxlOiAnVG90YWwgQ2FyZHMnLFxuICAgICAgdmFsdWU6IHN0YXRzLnRvdGFsLnRvU3RyaW5nKCksXG4gICAgICBpY29uOiAnXHVEODNDXHVEQ0NGJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5jcmVhdGVNZXRyaWNDYXJkKG1ldHJpY3NHcmlkLCB7XG4gICAgICB0aXRsZTogJ0R1ZSBUb2RheScsXG4gICAgICB2YWx1ZTogc3RhdHMuZHVlLnRvU3RyaW5nKCksXG4gICAgICBpY29uOiAnXHVEODNEXHVEQ0M1J1xuICAgIH0pO1xuXG4gICAgdGhpcy5jcmVhdGVNZXRyaWNDYXJkKG1ldHJpY3NHcmlkLCB7XG4gICAgICB0aXRsZTogJ1Jldmlld2VkIFRvZGF5JyxcbiAgICAgIHZhbHVlOiBzdGF0cy5yZXZpZXdlZFRvZGF5LnRvU3RyaW5nKCksXG4gICAgICBpY29uOiAnXHUyNzA1J1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RyZWFrID0gdGhpcy5hbmFseXRpY3MuY2FsY3VsYXRlU3RyZWFrKCk7XG4gICAgdGhpcy5jcmVhdGVNZXRyaWNDYXJkKG1ldHJpY3NHcmlkLCB7XG4gICAgICB0aXRsZTogJ0N1cnJlbnQgU3RyZWFrJyxcbiAgICAgIHZhbHVlOiBgJHtzdHJlYWt9IGRheXNgLFxuICAgICAgaWNvbjogJ1x1RDgzRFx1REQyNSdcbiAgICB9KTtcblxuICAgIC8vIFx1NjcyQ1x1NTQ2OCB2cyBcdTRFMEFcdTU0NjhcbiAgICBjb25zdCB3ZWVrQ29tcGFyaXNvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICd3ZWVrLWNvbXBhcmlzb24nIH0pO1xuICAgIHdlZWtDb21wYXJpc29uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1RoaXMgV2VlayB2cyBMYXN0IFdlZWsnIH0pO1xuXG4gICAgY29uc3QgY29tcGFyaXNvbkdyaWQgPSB3ZWVrQ29tcGFyaXNvbi5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWdyaWQnIH0pO1xuXG4gICAgY29uc3QgcmV2aWV3Q2hhbmdlID0gdGhpc1dlZWsudG90YWxSZXZpZXdzIC0gbGFzdFdlZWsudG90YWxSZXZpZXdzO1xuICAgIGNvbnN0IHJldmlld0NoYW5nZVBlcmNlbnQgPSBsYXN0V2Vlay50b3RhbFJldmlld3MgPiAwXG4gICAgICA/ICgocmV2aWV3Q2hhbmdlIC8gbGFzdFdlZWsudG90YWxSZXZpZXdzKSAqIDEwMCkudG9GaXhlZCgxKVxuICAgICAgOiAnMCc7XG5cbiAgICB0aGlzLmNyZWF0ZUNvbXBhcmlzb25JdGVtKGNvbXBhcmlzb25HcmlkLCB7XG4gICAgICBsYWJlbDogJ1Jldmlld3MnLFxuICAgICAgdGhpc1dlZWs6IHRoaXNXZWVrLnRvdGFsUmV2aWV3cyxcbiAgICAgIGxhc3RXZWVrOiBsYXN0V2Vlay50b3RhbFJldmlld3MsXG4gICAgICBjaGFuZ2U6IHJldmlld0NoYW5nZSxcbiAgICAgIGNoYW5nZVBlcmNlbnQ6IHJldmlld0NoYW5nZVBlcmNlbnRcbiAgICB9KTtcblxuICAgIGNvbnN0IHJhdGVDaGFuZ2UgPSAodGhpc1dlZWsuYXZlcmFnZUNvcnJlY3RSYXRlIC0gbGFzdFdlZWsuYXZlcmFnZUNvcnJlY3RSYXRlKSAqIDEwMDtcbiAgICB0aGlzLmNyZWF0ZUNvbXBhcmlzb25JdGVtKGNvbXBhcmlzb25HcmlkLCB7XG4gICAgICBsYWJlbDogJ0NvcnJlY3QgUmF0ZScsXG4gICAgICB0aGlzV2VlazogYCR7KHRoaXNXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lYCxcbiAgICAgIGxhc3RXZWVrOiBgJHsobGFzdFdlZWsuYXZlcmFnZUNvcnJlY3RSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVgLFxuICAgICAgY2hhbmdlOiByYXRlQ2hhbmdlLFxuICAgICAgY2hhbmdlUGVyY2VudDogcmF0ZUNoYW5nZS50b0ZpeGVkKDEpXG4gICAgfSk7XG5cbiAgICAvLyBcdTY3MDBcdThGRDE3XHU1OTI5XHU2RDNCXHU1MkE4XG4gICAgY29uc3QgcmVjZW50QWN0aXZpdHkgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncmVjZW50LWFjdGl2aXR5JyB9KTtcbiAgICByZWNlbnRBY3Rpdml0eS5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdMYXN0IDcgRGF5cyBBY3Rpdml0eScgfSk7XG5cbiAgICBjb25zdCBhY3Rpdml0eUNoYXJ0ID0gcmVjZW50QWN0aXZpdHkuY3JlYXRlRGl2KHsgY2xzOiAnYWN0aXZpdHktY2hhcnQnIH0pO1xuICAgIHRoaXMucmVuZGVyU2ltcGxlQmFyQ2hhcnQoYWN0aXZpdHlDaGFydCwgZGFpbHlTdGF0cyk7XG5cbiAgICAvLyBcdTc1MUZcdTYyMTBcdTYyQTVcdTU0NEFcdTYzMDlcdTk0QUVcbiAgICBjb25zdCByZXBvcnRTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3JlcG9ydC1zZWN0aW9uJyB9KTtcbiAgICBjb25zdCByZXBvcnRCdG4gPSByZXBvcnRTZWN0aW9uLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVEQ0M0IEdlbmVyYXRlIEZ1bGwgUmVwb3J0JyxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgcmVwb3J0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5nZW5lcmF0ZUFuZFNob3dSZXBvcnQoKSk7XG4gIFxuICAvLyBcdTZFMDVcdTk2NjRcdTdFREZcdThCQTFcdTYzMDlcdTk0QUVcbmNvbnN0IGNsZWFyQnRuID0gcmVwb3J0U2VjdGlvbi5jcmVhdGVFbCgnYnV0dG9uJywge1xuICB0ZXh0OiAnXHVEODNEXHVEREQxXHVGRTBGIENsZWFyIFN0YXRpc3RpY3MnLFxuICBjbHM6ICdtb2Qtd2FybmluZydcbn0pO1xuY2xlYXJCdG4uc3R5bGUubWFyZ2luTGVmdCA9ICcxMHB4JztcbmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93Q2xlYXJTdGF0c01vZGFsKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUcmVuZHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdQZXJmb3JtYW5jZSBUcmVuZHMnIH0pO1xuXG4gICAgY29uc3QgZGFpbHlTdGF0cyA9IHRoaXMuYW5hbHl0aWNzLmdldERhaWx5U3RhdHMoMzApO1xuXG4gICAgLy8gXHU2QjYzXHU3ODZFXHU3Mzg3XHU4RDhCXHU1MkJGXG4gICAgY29uc3QgY29ycmVjdFJhdGVTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LXNlY3Rpb24nIH0pO1xuICAgIGNvcnJlY3RSYXRlU2VjdGlvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdDb3JyZWN0IFJhdGUgKExhc3QgMzAgRGF5cyknIH0pO1xuICAgIGNvbnN0IGNvcnJlY3RSYXRlQ2hhcnQgPSBjb3JyZWN0UmF0ZVNlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnbGluZS1jaGFydCcgfSk7XG4gICAgdGhpcy5yZW5kZXJMaW5lQ2hhcnQoY29ycmVjdFJhdGVDaGFydCwgZGFpbHlTdGF0cywgJ2NvcnJlY3RSYXRlJyk7XG5cbiAgICAvLyBcdTZCQ0ZcdTY1RTVcdTU5MERcdTRFNjBcdTkxQ0ZcbiAgICBjb25zdCByZXZpZXdzU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjaGFydC1zZWN0aW9uJyB9KTtcbiAgICByZXZpZXdzU2VjdGlvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdEYWlseSBSZXZpZXdzJyB9KTtcbiAgICBjb25zdCByZXZpZXdzQ2hhcnQgPSByZXZpZXdzU2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdiYXItY2hhcnQnIH0pO1xuICAgIHRoaXMucmVuZGVyQmFyQ2hhcnQocmV2aWV3c0NoYXJ0LCBkYWlseVN0YXRzKTtcblxuICAgIC8vIFx1NzBFRFx1NTI5Qlx1NTZGRVxuICAgIGNvbnN0IGhlYXRtYXBTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LXNlY3Rpb24nIH0pO1xuICAgIGhlYXRtYXBTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1N0dWR5IEFjdGl2aXR5IENhbGVuZGFyJyB9KTtcbiAgICBjb25zdCBoZWF0bWFwID0gaGVhdG1hcFNlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnaGVhdG1hcCcgfSk7XG4gICAgdGhpcy5yZW5kZXJIZWF0bWFwKGhlYXRtYXApO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJEZWNrcyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0RlY2sgU3RhdGlzdGljcycgfSk7XG5cbiAgICBjb25zdCBkZWNrU3RhdHMgPSB0aGlzLmFuYWx5dGljcy5nZXREZWNrU3RhdHMoKTtcblxuICAgIGlmIChkZWNrU3RhdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250YWluZXIuY3JlYXRlRGl2KHsgXG4gICAgICAgIHRleHQ6ICdObyBkZWNrcyB5ZXQuIENyZWF0ZSBzb21lIGZsYXNoY2FyZHMgdG8gc2VlIGRlY2sgc3RhdGlzdGljcyEnLFxuICAgICAgICBjbHM6ICdlbXB0eS1tZXNzYWdlJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGVja3NHcmlkID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RlY2tzLWdyaWQnIH0pO1xuXG4gICAgZGVja1N0YXRzLmZvckVhY2goZGVjayA9PiB7XG4gICAgICBjb25zdCBkZWNrQ2FyZCA9IGRlY2tzR3JpZC5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLWNhcmQnIH0pO1xuXG4gICAgICBjb25zdCBoZWFkZXIgPSBkZWNrQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLWNhcmQtaGVhZGVyJyB9KTtcbiAgICAgIGhlYWRlci5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6IGRlY2suZGVja05hbWUgfSk7XG4gICAgICBcbiAgICAgIGhlYWRlci5jcmVhdGVTcGFuKHtcbiAgICAgICAgdGV4dDogYCR7ZGVjay50b3RhbENhcmRzfSBjYXJkc2AsXG4gICAgICAgIGNsczogJ2RlY2stYmFkZ2UnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhdHMgPSBkZWNrQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLWNhcmQtc3RhdHMnIH0pO1xuXG4gICAgICB0aGlzLmNyZWF0ZVN0YXRSb3coc3RhdHMsICdEdWUnLCBkZWNrLmR1ZUNhcmRzLnRvU3RyaW5nKCksICdcdUQ4M0RcdURDQzUnKTtcbiAgICAgIHRoaXMuY3JlYXRlU3RhdFJvdyhzdGF0cywgJ05ldycsIGRlY2submV3Q2FyZHMudG9TdHJpbmcoKSwgJ1x1RDgzQ1x1REQ5NScpO1xuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KFxuICAgICAgICBzdGF0cywgXG4gICAgICAgICdDb3JyZWN0IFJhdGUnLCBcbiAgICAgICAgYCR7KGRlY2suY29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JWAsXG4gICAgICAgICdcdTI3MDUnXG4gICAgICApO1xuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KFxuICAgICAgICBzdGF0cyxcbiAgICAgICAgJ0F2ZyBJbnRlcnZhbCcsXG4gICAgICAgIGAke2RlY2suYXZlcmFnZUludGVydmFsLnRvRml4ZWQoMSl9IGRheXNgLFxuICAgICAgICAnXHVEODNEXHVEQ0NBJ1xuICAgICAgKTtcblxuICAgICAgLy8gXHU4RkRCXHU1RUE2XHU2NzYxXG4gICAgICBjb25zdCBwcm9ncmVzcyA9IGRlY2tDYXJkLmNyZWF0ZURpdih7IGNsczogJ2RlY2stcHJvZ3Jlc3MnIH0pO1xuICAgICAgY29uc3QgbWFzdGVyZWRDb3VudCA9IGRlY2sudG90YWxDYXJkcyAtIGRlY2suZHVlQ2FyZHMgLSBkZWNrLm5ld0NhcmRzO1xuICAgICAgY29uc3QgbWFzdGVyZWRQZXJjZW50ID0gKG1hc3RlcmVkQ291bnQgLyBkZWNrLnRvdGFsQ2FyZHMpICogMTAwO1xuICAgICAgXG4gICAgICBjb25zdCBwcm9ncmVzc0JhciA9IHByb2dyZXNzLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWJhci1jb250YWluZXInIH0pO1xuICAgICAgY29uc3QgYmFyID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3MtYmFyLWZpbGwnIH0pO1xuICAgICAgYmFyLnN0eWxlLndpZHRoID0gYCR7bWFzdGVyZWRQZXJjZW50fSVgO1xuICAgICAgXG4gICAgICBwcm9ncmVzcy5jcmVhdGVEaXYoe1xuICAgICAgICB0ZXh0OiBgJHttYXN0ZXJlZFBlcmNlbnQudG9GaXhlZCgwKX0lIG1hc3RlcmVkYCxcbiAgICAgICAgY2xzOiAncHJvZ3Jlc3MtbGFiZWwnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRGlmZmljdWx0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb250YWluZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQ2FyZHMgTmVlZGluZyBBdHRlbnRpb24nIH0pO1xuXG4gICAgY29uc3QgZGlmZmljdWx0Q2FyZHMgPSB0aGlzLmFuYWx5dGljcy5nZXREaWZmaWN1bHRDYXJkcygxMCk7XG5cbiAgICBpZiAoZGlmZmljdWx0Q2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250YWluZXIuY3JlYXRlRGl2KHtcbiAgICAgICAgdGV4dDogJ1x1RDgzQ1x1REY4OSBObyBkaWZmaWN1bHQgY2FyZHMhIEdyZWF0IGpvYiEnLFxuICAgICAgICBjbHM6ICdlbXB0eS1tZXNzYWdlJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2FyZHNMaXN0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RpZmZpY3VsdC1jYXJkcy1saXN0JyB9KTtcblxuICAgIGRpZmZpY3VsdENhcmRzLmZvckVhY2goKGRjLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgY2FyZEl0ZW0gPSBjYXJkc0xpc3QuY3JlYXRlRGl2KHsgY2xzOiAnZGlmZmljdWx0LWNhcmQtaXRlbScgfSk7XG5cbiAgICAgIGNvbnN0IHJhbmsgPSBjYXJkSXRlbS5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLXJhbmsnIH0pO1xuICAgICAgcmFuay50ZXh0Q29udGVudCA9IGAke2luZGV4ICsgMX1gO1xuXG4gICAgICBjb25zdCBjb250ZW50ID0gY2FyZEl0ZW0uY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1jb250ZW50JyB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcXVlc3Rpb24gPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2NhcmQtcXVlc3Rpb24nIH0pO1xuICAgICAgcXVlc3Rpb24udGV4dENvbnRlbnQgPSBkYy5jYXJkLmZyb250LnN1YnN0cmluZygwLCA4MCkgKyBcbiAgICAgICAgKGRjLmNhcmQuZnJvbnQubGVuZ3RoID4gODAgPyAnLi4uJyA6ICcnKTtcblxuICAgICAgY29uc3QgbWV0YSA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1tZXRhJyB9KTtcblxuICAgICAgY29uc3QgcGF0dGVybkVtb2ppOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAnY29uY2VwdCc6ICdcdUQ4M0VcdURERTAnLFxuICAgICAgICAnbWVtb3J5JzogJ1x1RDgzRFx1RENBRCcsXG4gICAgICAgICdjYWxjdWxhdGlvbic6ICdcdUQ4M0RcdUREMjInLFxuICAgICAgICAndW5rbm93bic6ICdcdTI3NTMnXG4gICAgICB9O1xuXG4gICAgICBtZXRhLmNyZWF0ZVNwYW4oe1xuICAgICAgICB0ZXh0OiBgJHtwYXR0ZXJuRW1vamlbZGMucGF0dGVybl19ICR7ZGMucGF0dGVybn1gLFxuICAgICAgICBjbHM6ICdwYXR0ZXJuLWJhZGdlJ1xuICAgICAgfSk7XG5cbiAgICAgIG1ldGEuY3JlYXRlU3Bhbih7XG4gICAgICAgIHRleHQ6IGAke2RjLmVycm9yQ291bnR9IGVycm9yc2AsXG4gICAgICAgIGNsczogJ2Vycm9yLWNvdW50J1xuICAgICAgfSk7XG5cbiAgICAgIG1ldGEuY3JlYXRlU3Bhbih7XG4gICAgICAgIHRleHQ6IGAke2RjLmF2ZXJhZ2VUaW1lLnRvRml4ZWQoMSl9cyBhdmdgLFxuICAgICAgICBjbHM6ICdhdmctdGltZSdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcdTk2QkVcdTVFQTZcdTY3NjFcbiAgICAgIGNvbnN0IGRpZmZpY3VsdHlCYXIgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2RpZmZpY3VsdHktYmFyLWNvbnRhaW5lcicgfSk7XG4gICAgICBjb25zdCBkaWZmQmFyID0gZGlmZmljdWx0eUJhci5jcmVhdGVEaXYoeyBjbHM6ICdkaWZmaWN1bHR5LWJhcicgfSk7XG4gICAgICBkaWZmQmFyLnN0eWxlLndpZHRoID0gYCR7ZGMuY2FyZC5zdGF0cy5kaWZmaWN1bHR5ICogMTAwfSVgO1xuXG4gICAgICAvLyBcdTY0Q0RcdTRGNUNcdTYzMDlcdTk0QUVcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBjYXJkSXRlbS5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWFjdGlvbnMnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBqdW1wQnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgICB0ZXh0OiAnXHUyMTk3JyxcbiAgICAgICAgY2xzOiAnYWN0aW9uLWJ0bi1zbWFsbCdcbiAgICAgIH0pO1xuICAgICAganVtcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuanVtcFRvQ2FyZChkYy5jYXJkKSk7XG5cbiAgICAgIGNvbnN0IHJldmlld0J0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgICAgdGV4dDogJ1x1RDgzRFx1REQwNCcsXG4gICAgICAgIGNsczogJ2FjdGlvbi1idG4tc21hbGwnXG4gICAgICB9KTtcbiAgICAgIHJldmlld0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wbHVnaW4uYWN0aXZhdGVSZXZpZXcoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZWxldGVCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgIHRleHQ6ICdcdUQ4M0RcdURERDFcdUZFMEYnLFxuICAgICAgICBjbHM6ICdhY3Rpb24tYnRuLXNtYWxsIGRlbGV0ZS1idG4nXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGNvbmZpcm0odCgnbm90aWNlLmZsYXNoY2FyZERlbGV0ZWQnLCB0aGlzLmxhbmd1YWdlKSkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUZsYXNoY2FyZChkYy5jYXJkLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU1ldHJpY0NhcmQoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBjb25maWc6IHsgdGl0bGU6IHN0cmluZzsgdmFsdWU6IHN0cmluZzsgaWNvbjogc3RyaW5nIH1cbiAgKSB7XG4gICAgY29uc3QgY2FyZCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdtZXRyaWMtY2FyZCcgfSk7XG4gICAgXG4gICAgY2FyZC5jcmVhdGVEaXYoeyB0ZXh0OiBjb25maWcuaWNvbiwgY2xzOiAnbWV0cmljLWljb24nIH0pO1xuICAgIFxuICAgIGNvbnN0IGNvbnRlbnQgPSBjYXJkLmNyZWF0ZURpdih7IGNsczogJ21ldHJpYy1jb250ZW50JyB9KTtcbiAgICBjb250ZW50LmNyZWF0ZURpdih7IHRleHQ6IGNvbmZpZy50aXRsZSwgY2xzOiAnbWV0cmljLXRpdGxlJyB9KTtcbiAgICBjb250ZW50LmNyZWF0ZURpdih7IHRleHQ6IGNvbmZpZy52YWx1ZSwgY2xzOiAnbWV0cmljLXZhbHVlJyB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ29tcGFyaXNvbkl0ZW0oXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBjb25maWc6IHtcbiAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgICB0aGlzV2VlazogbnVtYmVyIHwgc3RyaW5nO1xuICAgICAgbGFzdFdlZWs6IG51bWJlciB8IHN0cmluZztcbiAgICAgIGNoYW5nZTogbnVtYmVyO1xuICAgICAgY2hhbmdlUGVyY2VudDogc3RyaW5nO1xuICAgIH1cbiAgKSB7XG4gICAgY29uc3QgaXRlbSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWl0ZW0nIH0pO1xuICAgIFxuICAgIGl0ZW0uY3JlYXRlRGl2KHsgdGV4dDogY29uZmlnLmxhYmVsLCBjbHM6ICdjb21wYXJpc29uLWxhYmVsJyB9KTtcbiAgICBcbiAgICBjb25zdCB2YWx1ZXMgPSBpdGVtLmNyZWF0ZURpdih7IGNsczogJ2NvbXBhcmlzb24tdmFsdWVzJyB9KTtcbiAgICB2YWx1ZXMuY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogYCR7Y29uZmlnLnRoaXNXZWVrfWAsXG4gICAgICBjbHM6ICd0aGlzLXdlZWsnXG4gICAgfSk7XG4gICAgdmFsdWVzLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnIHZzICcsIGNsczogJ3ZzJyB9KTtcbiAgICB2YWx1ZXMuY3JlYXRlU3Bhbih7XG4gICAgICB0ZXh0OiBgJHtjb25maWcubGFzdFdlZWt9YCxcbiAgICAgIGNsczogJ2xhc3Qtd2VlaydcbiAgICB9KTtcblxuICAgIGNvbnN0IGNoYW5nZUNsYXNzID0gY29uZmlnLmNoYW5nZSA+IDAgPyAncG9zaXRpdmUnIDogY29uZmlnLmNoYW5nZSA8IDAgPyAnbmVnYXRpdmUnIDogJ25ldXRyYWwnO1xuICAgIGNvbnN0IGNoYW5nZUljb24gPSBjb25maWcuY2hhbmdlID4gMCA/ICdcdTIxOTcnIDogY29uZmlnLmNoYW5nZSA8IDAgPyAnXHUyMTk4JyA6ICdcdTIxOTInO1xuICAgIFxuICAgIGl0ZW0uY3JlYXRlRGl2KHtcbiAgICAgIHRleHQ6IGAke2NoYW5nZUljb259ICR7Y29uZmlnLmNoYW5nZVBlcmNlbnR9JWAsXG4gICAgICBjbHM6IGBjaGFuZ2UgJHtjaGFuZ2VDbGFzc31gXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVN0YXRSb3coXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBsYWJlbDogc3RyaW5nLFxuICAgIHZhbHVlOiBzdHJpbmcsXG4gICAgaWNvbjogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IHJvdyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0LXJvdycgfSk7XG4gICAgcm93LmNyZWF0ZVNwYW4oeyB0ZXh0OiBpY29uLCBjbHM6ICdzdGF0LWljb24nIH0pO1xuICAgIHJvdy5jcmVhdGVTcGFuKHsgdGV4dDogbGFiZWwsIGNsczogJ3N0YXQtbGFiZWwnIH0pO1xuICAgIHJvdy5jcmVhdGVTcGFuKHsgdGV4dDogdmFsdWUsIGNsczogJ3N0YXQtdmFsdWUnIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTaW1wbGVCYXJDaGFydChjb250YWluZXI6IEhUTUxFbGVtZW50LCBkYXRhOiBhbnlbXSkge1xuICAgIGNvbnN0IG1heFZhbHVlID0gTWF0aC5tYXgoLi4uZGF0YS5tYXAoZCA9PiBkLnJldmlld2VkKSk7XG5cbiAgICBkYXRhLmZvckVhY2goc3RhdCA9PiB7XG4gICAgICBjb25zdCBiYXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc2ltcGxlLWJhcicgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShzdGF0LmRhdGUpO1xuICAgICAgY29uc3QgZGF5TmFtZSA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgd2Vla2RheTogJ3Nob3J0JyB9KTtcbiAgICAgIFxuICAgICAgYmFyLmNyZWF0ZURpdih7IHRleHQ6IGRheU5hbWUsIGNsczogJ2Jhci1sYWJlbCcgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJhckNvbnRhaW5lciA9IGJhci5jcmVhdGVEaXYoeyBjbHM6ICdiYXItY29udGFpbmVyJyB9KTtcbiAgICAgIGNvbnN0IGJhckZpbGwgPSBiYXJDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWZpbGwnIH0pO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gbWF4VmFsdWUgPiAwID8gKHN0YXQucmV2aWV3ZWQgLyBtYXhWYWx1ZSkgKiAxMDAgOiAwO1xuICAgICAgYmFyRmlsbC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9JWA7XG4gICAgICBcbiAgICAgIGJhci5jcmVhdGVEaXYoeyB0ZXh0OiBzdGF0LnJldmlld2VkLnRvU3RyaW5nKCksIGNsczogJ2Jhci12YWx1ZScgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckJhckNoYXJ0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGRhdGE6IGFueVtdKSB7XG4gICAgY29uc3QgY2hhcnQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2hhcnQtY2FudmFzJyB9KTtcbiAgICBjb25zdCBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLmRhdGEubWFwKGQgPT4gZC5yZXZpZXdlZCkpO1xuXG4gICAgZGF0YS5mb3JFYWNoKHN0YXQgPT4ge1xuICAgICAgY29uc3QgYmFyR3JvdXAgPSBjaGFydC5jcmVhdGVEaXYoeyBjbHM6ICdiYXItZ3JvdXAnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBiYXJDb250YWluZXIgPSBiYXJHcm91cC5jcmVhdGVEaXYoeyBjbHM6ICdiYXInIH0pO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gbWF4VmFsdWUgPiAwID8gKHN0YXQucmV2aWV3ZWQgLyBtYXhWYWx1ZSkgKiAxMDAgOiAwO1xuICAgICAgYmFyQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH0lYDtcbiAgICAgIGJhckNvbnRhaW5lci50aXRsZSA9IGAke3N0YXQucmV2aWV3ZWR9IHJldmlld3NgO1xuICAgICAgXG4gICAgICBjb25zdCBiYXJMYWJlbCA9IGJhckdyb3VwLmNyZWF0ZURpdih7IGNsczogJ2Jhci1sYWJlbCcgfSk7XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RhdC5kYXRlKTtcbiAgICAgIGJhckxhYmVsLnRleHRDb250ZW50ID0gZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyTGluZUNoYXJ0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGRhdGE6IGFueVtdLCBrZXk6IHN0cmluZykge1xuICAgIGNvbnN0IGNoYXJ0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2xpbmUtY2hhcnQtY2FudmFzJyB9KTtcbiAgICBcbiAgICBjb25zdCBwb2ludHMgPSBkYXRhLm1hcCgoc3RhdCwgaSkgPT4ge1xuICAgICAgY29uc3QgeCA9IChpIC8gKGRhdGEubGVuZ3RoIC0gMSkpICogMTAwO1xuICAgICAgY29uc3QgeSA9IDEwMCAtIChzdGF0W2tleV0gKiAxMDApO1xuICAgICAgcmV0dXJuIHsgeCwgeSwgdmFsdWU6IHN0YXRba2V5XSB9O1xuICAgIH0pO1xuXG4gICAgLy8gXHU1MjFCXHU1RUZBU1ZHXG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAxMDAgMTAwJyk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgncHJlc2VydmVBc3BlY3RSYXRpbycsICdub25lJyk7XG4gICAgc3ZnLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHN2Zy5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnO1xuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU2Mjk4XHU3RUJGXHU4REVGXHU1Rjg0XG4gICAgY29uc3QgcGF0aERhdGEgPSBwb2ludHMubWFwKChwLCBpKSA9PiBcbiAgICAgIGAke2kgPT09IDAgPyAnTScgOiAnTCd9ICR7cC54fSAke3AueX1gXG4gICAgKS5qb2luKCcgJyk7XG5cbiAgICBjb25zdCBwYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCBwYXRoRGF0YSk7XG4gICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCAndmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KScpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpO1xuXG4gICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgIGNoYXJ0LmFwcGVuZENoaWxkKHN2Zyk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTUwM0NcdTY4MDdcdTdCN0VcbiAgICBjb25zdCBsYWJlbHNDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2hhcnQtbGFiZWxzJyB9KTtcbiAgICBkYXRhLmZvckVhY2goKHN0YXQsIGkpID0+IHtcbiAgICAgIGlmIChpICUgTWF0aC5jZWlsKGRhdGEubGVuZ3RoIC8gNykgPT09IDApIHtcbiAgICAgICAgY29uc3QgY2hhcnRMYWJlbCA9IGxhYmVsc0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjaGFydC1sYWJlbCcgfSk7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShzdGF0LmRhdGUpO1xuICAgICAgICBjaGFydExhYmVsLnRleHRDb250ZW50ID0gYCR7ZGF0ZS5nZXRNb250aCgpICsgMX0vJHtkYXRlLmdldERhdGUoKX1gO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJIZWF0bWFwKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBoZWF0bWFwRGF0YSA9IHRoaXMuYW5hbHl0aWNzLmdldEhlYXRtYXBEYXRhKDkwKTtcbiAgICBcbiAgICAvLyBcdTYzMDlcdTU0NjhcdTUyMDZcdTdFQzRcbiAgICBjb25zdCB3ZWVrczogYW55W11bXSA9IFtdO1xuICAgIGxldCBjdXJyZW50V2VlazogYW55W10gPSBbXTtcbiAgICBcbiAgICBoZWF0bWFwRGF0YS5mb3JFYWNoKChkYXksIGkpID0+IHtcbiAgICAgIGN1cnJlbnRXZWVrLnB1c2goZGF5KTtcbiAgICAgIGlmIChjdXJyZW50V2Vlay5sZW5ndGggPT09IDcgfHwgaSA9PT0gaGVhdG1hcERhdGEubGVuZ3RoIC0gMSkge1xuICAgICAgICB3ZWVrcy5wdXNoKGN1cnJlbnRXZWVrKTtcbiAgICAgICAgY3VycmVudFdlZWsgPSBbXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHdlZWtzLmZvckVhY2god2VlayA9PiB7XG4gICAgICBjb25zdCB3ZWVrUm93ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2hlYXRtYXAtd2VlaycgfSk7XG4gICAgICBcbiAgICAgIHdlZWsuZm9yRWFjaChkYXkgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gd2Vla1Jvdy5jcmVhdGVEaXYoeyBjbHM6ICdoZWF0bWFwLWNlbGwnIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU1RjNBXHU1RUE2XHU3QjQ5XHU3RUE3IDAtNFxuICAgICAgICBjb25zdCBsZXZlbCA9IE1hdGguY2VpbChkYXkuaW50ZW5zaXR5ICogNCk7XG4gICAgICAgIGNlbGwuYWRkQ2xhc3MoYGxldmVsLSR7bGV2ZWx9YCk7XG4gICAgICAgIFxuICAgICAgICBjZWxsLnRpdGxlID0gYCR7ZGF5LmRhdGV9OiAke2RheS5jb3VudH0gcmV2aWV3c2A7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG5cblxuICBwcml2YXRlIGFzeW5jIGp1bXBUb0NhcmQoY2FyZDogYW55KSB7XG4gICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChjYXJkLnNvdXJjZUZpbGUpO1xuICAgIGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgIGlmICghY29udGVudFVuaXQpIHJldHVybjtcblxuICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSk7XG4gICAgYXdhaXQgbGVhZi5vcGVuRmlsZShmaWxlKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKEl0ZW1WaWV3KTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9ICh2aWV3IGFzIGFueSkuZWRpdG9yO1xuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgZWRpdG9yLnNldEN1cnNvcih7IGxpbmU6IGNvbnRlbnRVbml0LnNvdXJjZS5wb3NpdGlvbi5saW5lLCBjaDogMCB9KTtcbiAgICAgICAgICBlZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgZnJvbTogeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfSxcbiAgICAgICAgICAgIHRvOiB7IGxpbmU6IGNvbnRlbnRVbml0LnNvdXJjZS5wb3NpdGlvbi5saW5lLCBjaDogMCB9XG4gICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAxMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVGbGFzaGNhcmQoY2FyZElkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmRJZCk7XG4gICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5mbGFzaGNhcmREZWxldGVkJywgdGhpcy5sYW5ndWFnZSkpO1xuICAgICAgdGhpcy5yZW5kZXIoKTsgLy8gXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU4OUM2XHU1NkZFXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5kZWxldGVGbGFzaGNhcmRGYWlsZWQnLCB0aGlzLmxhbmd1YWdlKSk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgc2hvd0NsZWFyU3RhdHNNb2RhbCgpIHtcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250YWluZXInO1xuICAgIG1vZGFsLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1iZ1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkNsZWFyIFN0YXRpc3RpY3M8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8cD5DaG9vc2Ugd2hhdCBzdGF0aXN0aWNzIHRvIGNsZWFyOjwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXItb3B0aW9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsZWFyLW9wdGlvbi1idG5cIiBkYXRhLWFjdGlvbj1cImFsbFwiPlxuICAgICAgICAgICAgICBcdUQ4M0RcdURERDFcdUZFMEYgQ2xlYXIgQWxsIFN0YXRpc3RpY3NcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tZGVzY1wiPlJlc2V0IGFsbCBjYXJkcyBhbmQgcmV2aWV3IGxvZ3M8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbGVhci1vcHRpb24tYnRuXCIgZGF0YS1hY3Rpb249XCJvbGRcIj5cbiAgICAgICAgICAgICAgXHVEODNEXHVEQ0M1IENsZWFyIE9sZCBEYXRhICgzMCsgZGF5cylcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tZGVzY1wiPktlZXAgcmVjZW50IDMwIGRheXMgb25seTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsZWFyLW9wdGlvbi1idG5cIiBkYXRhLWFjdGlvbj1cImRlY2tcIj5cbiAgICAgICAgICAgICAgXHVEODNEXHVEQ0RBIENsZWFyIFNwZWNpZmljIERlY2tcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tZGVzY1wiPkNob29zZSBhIGRlY2sgdG8gcmVzZXQ8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZC1jdGEgY2FuY2VsLWJ0blwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICBcbiAgICAvLyBcdTUzRDZcdTZEODhcdTYzMDlcdTk0QUVcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgIH0pO1xuICBcbiAgICAvLyBcdTZFMDVcdTk2NjRcdTYyNDBcdTY3MDlcdTdFREZcdThCQTFcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJhbGxcIl0nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoY29uZmlybSgnXHUyNkEwXHVGRTBGIFRoaXMgd2lsbCByZXNldCBBTEwgc3RhdGlzdGljcyBhbmQgY2FyZCBwcm9ncmVzcy4gQXJlIHlvdSBzdXJlPycpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYW5hbHl0aWNzLmNsZWFyQWxsU3RhdHMoKTtcbiAgICAgICAgbmV3IE5vdGljZSgnXHUyNzA1IEFsbCBzdGF0aXN0aWNzIGNsZWFyZWQnKTtcbiAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIC8vIFx1NkUwNVx1OTY2NFx1NjVFN1x1NjU3MFx1NjM2RVxuICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGlvbj1cIm9sZFwiXScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChjb25maXJtKCdDbGVhciBzdGF0aXN0aWNzIG9sZGVyIHRoYW4gMzAgZGF5cz8nKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmFuYWx5dGljcy5jbGVhclN0YXRzQmVmb3JlRGF0ZSgzMCk7XG4gICAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBPbGQgc3RhdGlzdGljcyBjbGVhcmVkJyk7XG4gICAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTZFMDVcdTk2NjRcdTcyNzlcdTVCOUFcdTUzNjFcdTdFQzRcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJkZWNrXCJdJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICB0aGlzLnNob3dEZWNrU2VsZWN0aW9uTW9kYWwoKTtcbiAgICB9KTtcbiAgXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU4MENDXHU2NjZGXHU1MTczXHU5NUVEXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIHByaXZhdGUgc2hvd0RlY2tTZWxlY3Rpb25Nb2RhbCgpIHtcbiAgICBjb25zdCBkZWNrU3RhdHMgPSB0aGlzLmFuYWx5dGljcy5nZXREZWNrU3RhdHMoKTtcbiAgICBcbiAgICBpZiAoZGVja1N0YXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbmV3IE5vdGljZSgnTm8gZGVja3MgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250YWluZXInO1xuICAgIFxuICAgIGxldCBvcHRpb25zSHRtbCA9ICcnO1xuICAgIGRlY2tTdGF0cy5mb3JFYWNoKGRlY2sgPT4ge1xuICAgICAgb3B0aW9uc0h0bWwgKz0gYFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2xlYXItb3B0aW9uLWJ0biBkZWNrLW9wdGlvblwiIGRhdGEtZGVjaz1cIiR7ZGVjay5kZWNrTmFtZX1cIj5cbiAgICAgICAgICBcdUQ4M0RcdURDREEgJHtkZWNrLmRlY2tOYW1lfVxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLWRlc2NcIj4ke2RlY2sudG90YWxDYXJkc30gY2FyZHM8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgYDtcbiAgICB9KTtcbiAgXG4gICAgbW9kYWwuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJnXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWxcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+U2VsZWN0IERlY2sgdG8gQ2xlYXI8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXItb3B0aW9uc1wiPlxuICAgICAgICAgICAgJHtvcHRpb25zSHRtbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZC1jdGEgY2FuY2VsLWJ0blwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICBcbiAgICAvLyBcdTUzRDZcdTZEODhcdTYzMDlcdTk0QUVcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgIH0pO1xuICBcbiAgICAvLyBcdTUzNjFcdTdFQzRcdTkwMDlcdTk4NzlcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVjay1vcHRpb24nKS5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlY2tOYW1lID0gKGJ0biBhcyBIVE1MRWxlbWVudCkuZGF0YXNldC5kZWNrO1xuICAgICAgICBpZiAoZGVja05hbWUgJiYgY29uZmlybShgQ2xlYXIgc3RhdGlzdGljcyBmb3IgZGVjayBcIiR7ZGVja05hbWV9XCI/YCkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmFuYWx5dGljcy5jbGVhckRlY2tTdGF0cyhkZWNrTmFtZSk7XG4gICAgICAgICAgbmV3IE5vdGljZShgXHUyNzA1IFN0YXRpc3RpY3MgY2xlYXJlZCBmb3IgJHtkZWNrTmFtZX1gKTtcbiAgICAgICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU4MENDXHU2NjZGXHU1MTczXHU5NUVEXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgXG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUFuZFNob3dSZXBvcnQoKSB7XG4gICAgY29uc3QgcmVwb3J0ID0gdGhpcy5hbmFseXRpY3MuZ2VuZXJhdGVSZXBvcnQoMzApO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NEUwMFx1NEUyQVx1NjVCMFx1NzY4NFx1NjU4N1x1NEVGNlx1Njc2NVx1NEZERFx1NUI1OFx1NjJBNVx1NTQ0QVxuICAgIGNvbnN0IGZpbGVOYW1lID0gYExlYXJuaW5nIFJlcG9ydCAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5tZGA7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjU4N1x1NEVGNlx1NjYyRlx1NTQyNlx1NURGMlx1NUI1OFx1NTcyOFxuICAgICAgbGV0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZU5hbWUpO1xuICAgICAgXG4gICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgIC8vIFx1NjU4N1x1NEVGNlx1NUI1OFx1NTcyOFx1RkYwQ1x1OEJFMlx1OTVFRVx1NjYyRlx1NTQyNlx1ODk4Nlx1NzZENlxuICAgICAgICBpZiAoIWNvbmZpcm0oYFJlcG9ydCBcIiR7ZmlsZU5hbWV9XCIgYWxyZWFkeSBleGlzdHMuIE92ZXJ3cml0ZT9gKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgcmVwb3J0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NjU4N1x1NEVGNlxuICAgICAgICBmaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVOYW1lLCByZXBvcnQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTYyNTNcdTVGMDBcdTYyQTVcdTU0NEFcdTY1ODdcdTRFRjZcbiAgICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSk7XG4gICAgICBhd2FpdCBsZWFmLm9wZW5GaWxlKGZpbGUgYXMgVEZpbGUpO1xuICAgICAgXG4gICAgICBuZXcgTm90aWNlKCdcdUQ4M0RcdURDQ0EgUmVwb3J0IGdlbmVyYXRlZCEnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyByZXBvcnQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzRDIEZhaWxlZCB0byBnZW5lcmF0ZSByZXBvcnQnKTtcbiAgICB9XG5cbiAgfVxuICBwcml2YXRlIHJlbmRlckN5Y2xlQmFubmVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBjeWNsZUluZm8gPSB0aGlzLmFuYWx5dGljcy5nZXRDdXJyZW50Q3ljbGVJbmZvKCk7XG4gICAgXG4gICAgY29uc3QgYmFubmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2N5Y2xlLWluZm8tYmFubmVyJyB9KTtcbiAgICBcbiAgICBjb25zdCBiYWRnZSA9IGJhbm5lci5jcmVhdGVEaXYoeyBjbHM6ICdjeWNsZS1iYWRnZScgfSk7XG4gICAgYmFkZ2UudGV4dENvbnRlbnQgPSBgQ3ljbGUgJHtjeWNsZUluZm8uY3VycmVudEN5Y2xlfWA7XG4gICAgXG4gICAgY29uc3Qgc3RhdHMgPSBiYW5uZXIuY3JlYXRlRGl2KHsgY2xzOiAnY3ljbGUtc3RhdHMnIH0pO1xuICAgIGNvbnN0IGRheXNTaW5jZSA9IE1hdGguZmxvb3IoXG4gICAgICAoRGF0ZS5ub3coKSAtIG5ldyBEYXRlKGN5Y2xlSW5mby5zdGFydERhdGUpLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNClcbiAgICApO1xuICAgIHN0YXRzLnRleHRDb250ZW50ID0gYERheSAke2RheXNTaW5jZX0gXHUwMEI3ICR7Y3ljbGVJbmZvLnJldmlld3NUaGlzQ3ljbGV9IHJldmlld3NgO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGJhbm5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ1N0YXJ0IE5ldyBDeWNsZScsXG4gICAgICBjbHM6ICdzdGFydC1uZXctY3ljbGUtYnRuJ1xuICAgIH0pO1xuICAgIFxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY29uZmlybVN0YXJ0TmV3Q3ljbGUoKSk7XG4gIH1cblxuICBwcml2YXRlIGNvbmZpcm1TdGFydE5ld0N5Y2xlKCkge1xuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbW9kYWwuY2xhc3NOYW1lID0gJ21vZGFsLWNvbnRhaW5lcic7XG4gICAgbW9kYWwuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJnXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWxcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+XHVEODNEXHVERDA0IFN0YXJ0IE5ldyBMZWFybmluZyBDeWNsZTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxwPlRoaXMgd2lsbDo8L3A+XG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAgPGxpPlx1MjcwNSBBcmNoaXZlIGN1cnJlbnQgY3ljbGUgZGF0YSAocmVhZC1vbmx5KTwvbGk+XG4gICAgICAgICAgICA8bGk+XHUyNzA1IFJlc2V0IGN1cnJlbnQgc3RhdHMgdG8gemVybzwvbGk+XG4gICAgICAgICAgICA8bGk+XHUyNzA1IEtlZXAgYWxsIGZsYXNoY2FyZCBwcm9ncmVzczwvbGk+XG4gICAgICAgICAgICA8bGk+XHUyNkEwXHVGRTBGIENhbm5vdCBiZSB1bmRvbmU8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPHA+U3RhcnQgZnJlc2ggd2l0aCBDeWNsZSAke3RoaXMuYW5hbHl0aWNzLmdldEN1cnJlbnRDeWNsZU51bWJlcigpICsgMX0/PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kLXdhcm5pbmcgY2FuY2VsLWJ0blwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2QtY3RhIGNvbmZpcm0tYnRuXCI+U3RhcnQgTmV3IEN5Y2xlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcbiAgICBcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLnJlbW92ZSgpKTtcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuY29uZmlybS1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLmFuYWx5dGljcy5zdGFydE5ld0N5Y2xlKCk7XG4gICAgICBuZXcgTm90aWNlKCdcdTI3MjggTmV3IGxlYXJuaW5nIGN5Y2xlIHN0YXJ0ZWQhJyk7XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSk7XG4gICAgXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWwucmVtb3ZlKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJDeWNsZUhpc3RvcnkoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdUQ4M0RcdURDREMgTGVhcm5pbmcgQ3ljbGUgSGlzdG9yeScgfSk7XG4gIFxuICAgIGNvbnN0IGN5Y2xlcyA9IHRoaXMuYW5hbHl0aWNzLmdldEFyY2hpdmVkQ3ljbGVzKCk7XG4gICAgXG4gICAgaWYgKGN5Y2xlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnRhaW5lci5jcmVhdGVEaXYoe1xuICAgICAgICB0ZXh0OiAnXHVEODNEXHVEQ0REIE5vIGFyY2hpdmVkIGN5Y2xlcyB5ZXQuIENvbXBsZXRlIHlvdXIgZmlyc3QgY3ljbGUgdG8gc2VlIGhpc3RvcnkhJyxcbiAgICAgICAgY2xzOiAnZW1wdHktbWVzc2FnZSdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgXG4gICAgY29uc3QgY3ljbGVzTGlzdCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjeWNsZXMtbGlzdCcgfSk7XG4gIFxuICAgIGN5Y2xlcy5mb3JFYWNoKGN5Y2xlID0+IHtcbiAgICAgIGNvbnN0IGN5Y2xlQ2FyZCA9IGN5Y2xlc0xpc3QuY3JlYXRlRGl2KHsgY2xzOiAnY3ljbGUtY2FyZCcgfSk7XG4gIFxuICAgICAgLy8gXHU1MzYxXHU3MjQ3XHU1OTM0XHU5MEU4XG4gICAgICBjb25zdCBoZWFkZXIgPSBjeWNsZUNhcmQuY3JlYXRlRGl2KHsgY2xzOiAnY3ljbGUtY2FyZC1oZWFkZXInIH0pO1xuICAgICAgaGVhZGVyLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogYEN5Y2xlICR7Y3ljbGUuY3ljbGVOdW1iZXJ9YCB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmZvcm1hdERhdGVSYW5nZShjeWNsZS5zdGFydERhdGUsIGN5Y2xlLmVuZERhdGUpO1xuICAgICAgY29uc3QgYmFkZ2UgPSBoZWFkZXIuY3JlYXRlU3Bhbih7IGNsczogJ2N5Y2xlLWR1cmF0aW9uJyB9KTtcbiAgICAgIGJhZGdlLnRleHRDb250ZW50ID0gZHVyYXRpb247XG4gIFxuICAgICAgLy8gXHU1MTczXHU5NTJFXHU2MzA3XHU2ODA3XG4gICAgICBjb25zdCBzdGF0cyA9IGN5Y2xlQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdjeWNsZS1jYXJkLXN0YXRzJyB9KTtcbiAgICAgIFxuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KHN0YXRzLCAnUmV2aWV3cycsIGN5Y2xlLnRvdGFsUmV2aWV3cy50b1N0cmluZygpLCAnXHVEODNEXHVEQ0REJyk7XG4gICAgICB0aGlzLmNyZWF0ZVN0YXRSb3coc3RhdHMsICdDYXJkcycsIGN5Y2xlLnRvdGFsQ2FyZHMudG9TdHJpbmcoKSwgJ1x1RDgzQ1x1RENDRicpO1xuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KFxuICAgICAgICBzdGF0cywgXG4gICAgICAgICdDb3JyZWN0IFJhdGUnLFxuICAgICAgICBgJHsoY3ljbGUuY29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JWAsXG4gICAgICAgICdcdTI3MDUnXG4gICAgICApO1xuICBcbiAgICAgIC8vIFx1NjdFNVx1NzcwQlx1OEJFNlx1NjBDNVx1NjMwOVx1OTRBRVxuICAgICAgY29uc3QgYWN0aW9ucyA9IGN5Y2xlQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdjeWNsZS1jYXJkLWFjdGlvbnMnIH0pO1xuICAgICAgY29uc3QgZGV0YWlsQnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgICB0ZXh0OiAnXHVEODNEXHVEQ0NBIFZpZXcgRGV0YWlscycsXG4gICAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgICB9KTtcbiAgICAgIGRldGFpbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc2hvd0N5Y2xlRGV0YWlscyhjeWNsZS5jeWNsZU51bWJlcikpO1xuICAgIH0pO1xuICB9XG4gIFxuICBwcml2YXRlIGZvcm1hdERhdGVSYW5nZShzdGFydDogc3RyaW5nLCBlbmQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoc3RhcnQpO1xuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmQpO1xuICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKChlbmREYXRlLmdldFRpbWUoKSAtIHN0YXJ0RGF0ZS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICBcbiAgICBjb25zdCBmb3JtYXRPcHRzOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyA9IHsgbW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH07XG4gICAgcmV0dXJuIGAke3N0YXJ0RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgZm9ybWF0T3B0cyl9IC0gJHtlbmREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCBmb3JtYXRPcHRzKX0gKCR7ZGF5c31kKWA7XG4gIH1cbiAgXG4gIHByaXZhdGUgc2hvd0N5Y2xlRGV0YWlscyhjeWNsZU51bWJlcjogbnVtYmVyKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IHRoaXMuYW5hbHl0aWNzLmdldEN5Y2xlRGV0YWlscyhjeWNsZU51bWJlcik7XG4gICAgaWYgKCFkZXRhaWxzKSB7XG4gICAgICBuZXcgTm90aWNlKCdDeWNsZSBkYXRhIG5vdCBmb3VuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgXG4gICAgY29uc3QgeyBjeWNsZSwgZGFpbHlTdGF0cywgZGVja1N0YXRzIH0gPSBkZXRhaWxzO1xuICBcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250YWluZXIgY3ljbGUtZGV0YWlscy1tb2RhbCc7XG4gICAgXG4gICAgY29uc3QgYXZnQ29ycmVjdFJhdGUgPSBkYWlseVN0YXRzLmxlbmd0aCA+IDBcbiAgICAgID8gZGFpbHlTdGF0cy5yZWR1Y2UoKHN1bSwgZCkgPT4gc3VtICsgZC5jb3JyZWN0UmF0ZSwgMCkgLyBkYWlseVN0YXRzLmxlbmd0aFxuICAgICAgOiAwO1xuICBcbiAgICBtb2RhbC5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYmdcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbCBtb2RhbC1sYXJnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtdGl0bGVcIj5cdUQ4M0RcdURDQ0EgQ3ljbGUgJHtjeWNsZU51bWJlcn0gRGV0YWlsczwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeWNsZS1kZXRhaWwtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGg0Plx1RDgzRFx1RENDNSBEdXJhdGlvbjwvaDQ+XG4gICAgICAgICAgICA8cD4ke3RoaXMuZm9ybWF0RGF0ZVJhbmdlKGN5Y2xlLnN0YXJ0RGF0ZSwgY3ljbGUuZW5kRGF0ZSl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3ljbGUtZGV0YWlsLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoND5cdUQ4M0RcdURDQzggS2V5IE1ldHJpY3M8L2g0PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpY3MtZ3JpZC1zbWFsbFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXNtYWxsXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5Ub3RhbCBSZXZpZXdzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWV0cmljLXZhbHVlXCI+JHtjeWNsZS50b3RhbFJldmlld3N9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1zbWFsbFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWV0cmljLWxhYmVsXCI+QXZnIENvcnJlY3QgUmF0ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPiR7KGF2Z0NvcnJlY3RSYXRlICogMTAwKS50b0ZpeGVkKDEpfSU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXNtYWxsXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5Ub3RhbCBDYXJkczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPiR7Y3ljbGUudG90YWxDYXJkc308L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN5Y2xlLWRldGFpbC1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8aDQ+XHVEODNEXHVEQ0NBIERhaWx5IEFjdGl2aXR5PC9oND5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjeWNsZS1kYWlseS1jaGFydFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeWNsZS1kZXRhaWwtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGg0Plx1RDgzRFx1RENEQSBEZWNrIEJyZWFrZG93bjwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiY3ljbGUtZGVjay1zdGF0c1wiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICBcbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZC1jdGEgY2xvc2UtYnRuXCI+Q2xvc2U8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICAgIFxuICAgIC8vIFx1NkUzMlx1NjdEM1x1NTZGRVx1ODg2OFxuICAgIGNvbnN0IGRhaWx5Q2hhcnQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjY3ljbGUtZGFpbHktY2hhcnQnKTtcbiAgICBpZiAoZGFpbHlDaGFydCkge1xuICAgICAgdGhpcy5yZW5kZXJTaW1wbGVCYXJDaGFydChkYWlseUNoYXJ0IGFzIEhUTUxFbGVtZW50LCBkYWlseVN0YXRzLnNsaWNlKC0xNCkpOyAvLyBcdTY3MDBcdTU0MEUxNFx1NTkyOVxuICAgIH1cbiAgICBcbiAgICAvLyBcdTZFMzJcdTY3RDNcdTUzNjFcdTdFQzRcdTdFREZcdThCQTFcbiAgICBjb25zdCBkZWNrU3RhdHNFbCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNjeWNsZS1kZWNrLXN0YXRzJyk7XG4gICAgaWYgKGRlY2tTdGF0c0VsKSB7XG4gICAgICBpZiAoZGVja1N0YXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAoZGVja1N0YXRzRWwgYXMgSFRNTEVsZW1lbnQpLnRleHRDb250ZW50ID0gJ05vIGRlY2sgZGF0YSBhdmFpbGFibGUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVja1N0YXRzLmZvckVhY2goZGVjayA9PiB7XG4gICAgICAgICAgY29uc3Qgcm93ID0gKGRlY2tTdGF0c0VsIGFzIEhUTUxFbGVtZW50KS5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLXN0YXQtcm93JyB9KTtcbiAgICAgICAgICByb3cuY3JlYXRlU3Bhbih7IHRleHQ6IGRlY2suZGVja05hbWUsIGNsczogJ2RlY2stbmFtZScgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgaW5mbyA9IHJvdy5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLWluZm8nIH0pO1xuICAgICAgICAgIGluZm8uY3JlYXRlU3Bhbih7IHRleHQ6IGAke2RlY2sudG90YWxDYXJkc30gY2FyZHNgLCBjbHM6ICdkZWNrLWRldGFpbCcgfSk7XG4gICAgICAgICAgaW5mby5jcmVhdGVTcGFuKHsgXG4gICAgICAgICAgICB0ZXh0OiBgJHsoZGVjay5jb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lIGNvcnJlY3RgLFxuICAgICAgICAgICAgY2xzOiAnZGVjay1kZXRhaWwnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWwucmVtb3ZlKCkpO1xuICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1iZycpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLnJlbW92ZSgpKTtcbiAgfVxuICBwcml2YXRlIGFkZFN0eWxlcygpIHtcbiAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gYFxuICAgICAgLnN0YXRzLWNvbnRhaW5lciB7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICB9XG5cbiAgICAgIC5zdGF0cy1oZWFkZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0cy1oZWFkZXIgaDIge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0cy10YWJzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICB9XG5cbiAgICAgIC50YWIge1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC50YWI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgIH1cblxuICAgICAgLnRhYi5hY3RpdmUge1xuICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIH1cblxuICAgICAgLm1ldHJpY3MtZ3JpZCB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpO1xuICAgICAgICBnYXA6IDE1cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWMtY2FyZCB7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDE1cHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWMtaWNvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMzJweDtcbiAgICAgIH1cblxuICAgICAgLm1ldHJpYy1jb250ZW50IHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgIH1cblxuICAgICAgLm1ldHJpYy10aXRsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgfVxuXG4gICAgICAubWV0cmljLXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAxLjhlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIH1cblxuICAgICAgLndlZWstY29tcGFyaXNvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICB9XG5cbiAgICAgIC5jb21wYXJpc29uLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDE1cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICB9XG5cbiAgICAgIC5jb21wYXJpc29uLWl0ZW0ge1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi1sYWJlbCB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5jb21wYXJpc29uLXZhbHVlcyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAudGhpcy13ZWVrIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgZm9udC1zaXplOiAxLjFlbTtcbiAgICAgIH1cblxuICAgICAgLmxhc3Qtd2VlayB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgIH1cblxuICAgICAgLmNoYW5nZSB7XG4gICAgICAgIHBhZGRpbmc6IDRweCAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuXG4gICAgICAuY2hhbmdlLnBvc2l0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgIH1cblxuICAgICAgLmNoYW5nZS5uZWdhdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5jaGFydC1zZWN0aW9uIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgIH1cblxuICAgICAgLnJlY2VudC1hY3Rpdml0eSAuYWN0aXZpdHktY2hhcnQge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgICAgICBoZWlnaHQ6IDE1MHB4O1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIH1cblxuICAgICAgLnNpbXBsZS1iYXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgZmxleDogMTtcbiAgICAgIH1cblxuICAgICAgLnNpbXBsZS1iYXIgLmJhci1jb250YWluZXIge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnNpbXBsZS1iYXIgLmJhci1maWxsIHtcbiAgICAgICAgd2lkdGg6IDYwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwIDA7XG4gICAgICAgIHRyYW5zaXRpb246IGhlaWdodCAwLjNzO1xuICAgICAgfVxuXG4gICAgICAuYmFyLWxhYmVsLCAuYmFyLXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgIH1cblxuICAgICAgLmhlYXRtYXAge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDRweDtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5oZWF0bWFwLXdlZWsge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDRweDtcbiAgICAgIH1cblxuICAgICAgLmhlYXRtYXAtY2VsbCB7XG4gICAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuXG4gICAgICAuaGVhdG1hcC1jZWxsLmxldmVsLTEgeyBiYWNrZ3JvdW5kOiByZ2JhKDk0LCAxNTYsIDIzNSwgMC4zKTsgfVxuICAgICAgLmhlYXRtYXAtY2VsbC5sZXZlbC0yIHsgYmFja2dyb3VuZDogcmdiYSg5NCwgMTU2LCAyMzUsIDAuNSk7IH1cbiAgICAgIC5oZWF0bWFwLWNlbGwubGV2ZWwtMyB7IGJhY2tncm91bmQ6IHJnYmEoOTQsIDE1NiwgMjM1LCAwLjcpOyB9XG4gICAgICAuaGVhdG1hcC1jZWxsLmxldmVsLTQgeyBiYWNrZ3JvdW5kOiByZ2JhKDk0LCAxNTYsIDIzNSwgMSk7IH1cblxuICAgICAgLmRlY2tzLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7XG4gICAgICAgIGdhcDogMTVweDtcbiAgICAgIH1cblxuICAgICAgLmRlY2stY2FyZCB7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLWNhcmQtaGVhZGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgIH1cblxuICAgICAgLmRlY2stY2FyZC1oZWFkZXIgaDQge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLWJhZGdlIHtcbiAgICAgICAgcGFkZGluZzogNHB4IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLWNhcmQtc3RhdHMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICAgIH1cblxuICAgICAgLnN0YXQtcm93IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0LWljb24ge1xuICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLnN0YXQtbGFiZWwge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0LXZhbHVlIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLmRlY2stcHJvZ3Jlc3Mge1xuICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgICAgfVxuXG4gICAgICAucHJvZ3Jlc3MtYmFyLWNvbnRhaW5lciB7XG4gICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICAgIH1cblxuXG4gICAgICAucHJvZ3Jlc3MtbGFiZWwge1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICAuZGlmZmljdWx0LWNhcmRzLWxpc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICB9XG5cbiAgICAgIC5kaWZmaWN1bHQtY2FyZC1pdGVtIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgfVxuXG4gICAgICAuY2FyZC1yYW5rIHtcbiAgICAgICAgd2lkdGg6IDMwcHg7XG4gICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtY29udGVudCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC5jYXJkLXF1ZXN0aW9uIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgfVxuXG4gICAgICAuY2FyZC1tZXRhIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAxMHB4O1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIG1hcmdpbi1ib3R0b206OHB4O1xuICAgICAgfSBcblxuLnBhdHRlcm4tYmFkZ2UsIC5lcnJvci1jb3VudCwgLmF2Zy10aW1lIHtcbiAgICBwYWRkaW5nOiAzcHggMTBweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgZm9udC1zaXplOiAwLjg1ZW07XG4gIH1cblxuICAuZGlmZmljdWx0eS1iYXItY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDZweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG5cbiAgLmRpZmZpY3VsdHktYmFyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCB2YXIoLS1jb2xvci1ncmVlbiksIHZhcigtLWNvbG9yLXllbGxvdyksIHZhcigtLWNvbG9yLXJlZCkpO1xuICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7XG4gIH1cblxuICAuY2FyZC1hY3Rpb25zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogOHB4O1xuICB9XG5cbiAgLmFjdGlvbi1idG4tc21hbGwge1xuICAgIHBhZGRpbmc6IDZweCAxMnB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gIH1cblxuICAuYWN0aW9uLWJ0bi1zbWFsbDpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG5cbiAgLmFjdGlvbi1idG4tc21hbGwuZGVsZXRlLWJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcmVkKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICB9XG5cbiAgLmVtcHR5LW1lc3NhZ2Uge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA0MHB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICB9XG5cbiAgLnJlcG9ydC1zZWN0aW9uIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICB9XG5cbiAgLmNoYXJ0LWNhbnZhcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfVxuXG4gIC5iYXItZ3JvdXAge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZsZXg6IDE7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLmJhci1ncm91cCAuYmFyIHtcbiAgICB3aWR0aDogODAlO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwIDA7XG4gICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuM3M7XG4gICAgbWFyZ2luLXRvcDogYXV0bztcbiAgfVxuXG4gIC5saW5lLWNoYXJ0LWNhbnZhcyB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cblxuICAuY2hhcnQtbGFiZWxzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICB9XG5cbiAgLmNoYXJ0LWxhYmVsIHtcbiAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIH1cbiAgICAubW9kYWwtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIHotaW5kZXg6IDEwMDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4ubW9kYWwtYmcge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuXG4ubW9kYWwge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcGFkZGluZzogMjBweDtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbiAgd2lkdGg6IDkwJTtcbiAgbWF4LWhlaWdodDogODB2aDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgYm94LXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG59XG5cbi5tb2RhbC10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMS41ZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG59XG5cbi5tb2RhbC1jb250ZW50IHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLmNsZWFyLW9wdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEwcHg7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG59XG5cbi5jbGVhci1vcHRpb24tYnRuIHtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiA1cHg7XG59XG5cbi5jbGVhci1vcHRpb24tYnRuOmhvdmVyIHtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbn1cblxuLm9wdGlvbi1kZXNjIHtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbn1cblxuLm1vZGFsLWJ1dHRvbi1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBnYXA6IDEwcHg7XG59XG5cblxuLyogXHU5MUNEXHU3RjZFXHU1OTBEXHU0RTYwXHU1NDY4XHU2NzFGICovICAgICAgICAgICBcbi5jeWNsZS1pbmZvLWJhbm5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7ICAvKiBcdUQ4M0RcdURDNDggXHU2NjBFXHU3ODZFXHU2MzA3XHU1QjlBXHU2QTJBXHU1NDExXHU2MzkyXHU1MjE3ICovXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgLyogXHVEODNEXHVEQzQ4IFx1NEUyNFx1N0FFRlx1NUJGOVx1OUY1MCAqL1xuICBnYXA6IDE1cHg7XG4gIHBhZGRpbmc6IDE1cHggMjBweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBjb2xvcjogd2hpdGU7XG4gIGZsZXgtd3JhcDogbm93cmFwOyAvKiBcdUQ4M0RcdURDNDggXHU3OTgxXHU2QjYyXHU2MzYyXHU4ODRDICovXG59XG5cbi5jeWNsZS1iYWRnZSB7XG4gIGZvbnQtc2l6ZTogMS4yZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHBhZGRpbmc6IDVweCAxNXB4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG59XG5cbi5jeWNsZS1zdGF0cyB7XG4gIGZsZXg6IDE7XG4gIGZvbnQtc2l6ZTogMC45NWVtO1xuICBvcGFjaXR5OiAwLjk7XG59XG5cbi5zdGFydC1uZXctY3ljbGUtYnRuIHtcbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBjb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG59XG5cbi5zdGFydC1uZXctY3ljbGUtYnRuOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbn1cbiAgLyogXHU1NDY4XHU2NzFGXHU1Mzg2XHU1M0YyXHU1MzYxXHU3MjQ3ICovXG4uY3ljbGVzLWxpc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDE1cHg7XG59XG5cbi5jeWNsZS1jYXJkIHtcbiAgcGFkZGluZzogMjBweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLmN5Y2xlLWNhcmQtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLmN5Y2xlLWNhcmQtaGVhZGVyIGg0IHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDEuMmVtO1xufVxuXG4uY3ljbGUtZHVyYXRpb24ge1xuICBmb250LXNpemU6IDAuODVlbTtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICBwYWRkaW5nOiA0cHggMTBweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbn1cblxuLmN5Y2xlLWNhcmQtYWN0aW9ucyB7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4vKiBcdTU0NjhcdTY3MUZcdThCRTZcdTYwQzVcdTVGMzlcdTdBOTcgKi9cbi5jeWNsZS1kZXRhaWxzLW1vZGFsIC5tb2RhbC1sYXJnZSB7XG4gIG1heC13aWR0aDogODAwcHg7XG59XG5cbi5jeWNsZS1kZXRhaWwtc2VjdGlvbiB7XG4gIG1hcmdpbi1ib3R0b206IDI1cHg7XG4gIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xufVxuXG4uY3ljbGUtZGV0YWlsLXNlY3Rpb246bGFzdC1jaGlsZCB7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG5cbi5jeWNsZS1kZXRhaWwtc2VjdGlvbiBoNCB7XG4gIG1hcmdpbjogMCAwIDE1cHggMDtcbiAgZm9udC1zaXplOiAxLjFlbTtcbn1cblxuLm1ldHJpY3MtZ3JpZC1zbWFsbCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpO1xuICBnYXA6IDE1cHg7XG59XG5cbi5tZXRyaWMtc21hbGwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDVweDtcbiAgcGFkZGluZzogMTVweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xufVxuXG4ubWV0cmljLXNtYWxsIC5tZXRyaWMtbGFiZWwge1xuICBmb250LXNpemU6IDAuODVlbTtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xufVxuXG4ubWV0cmljLXNtYWxsIC5tZXRyaWMtdmFsdWUge1xuICBmb250LXNpemU6IDEuNWVtO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4uZGVjay1zdGF0LXJvdyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMTBweCAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xufVxuXG4uZGVjay1zdGF0LXJvdzpsYXN0LWNoaWxkIHtcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbn1cblxuLmRlY2stbmFtZSB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5kZWNrLWluZm8ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDE1cHg7XG59XG5cbi5kZWNrLWRldGFpbCB7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbn1cbmA7XG5cbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG4gIH19IiwgIi8vIGFuYWx5dGljc0VuZ2luZS50c1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBGbGFzaGNhcmQsIFJldmlld0xvZyB9IGZyb20gJy4vRmxhc2hjYXJkTWFuYWdlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlTdGF0cyB7XG4gIGRhdGU6IHN0cmluZztcbiAgcmV2aWV3ZWQ6IG51bWJlcjtcbiAgY29ycmVjdENvdW50OiBudW1iZXI7XG4gIGNvcnJlY3RSYXRlOiBudW1iZXI7XG4gIHRpbWVTcGVudDogbnVtYmVyO1xuICBuZXdDYXJkczogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdlZWtseVN0YXRzIHtcbiAgc3RhcnREYXRlOiBzdHJpbmc7XG4gIGVuZERhdGU6IHN0cmluZztcbiAgdG90YWxSZXZpZXdzOiBudW1iZXI7XG4gIGF2ZXJhZ2VDb3JyZWN0UmF0ZTogbnVtYmVyO1xuICB0b3RhbFRpbWVTcGVudDogbnVtYmVyO1xuICBzdHJlYWs6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWNrU3RhdHMge1xuICBkZWNrTmFtZTogc3RyaW5nO1xuICB0b3RhbENhcmRzOiBudW1iZXI7XG4gIGR1ZUNhcmRzOiBudW1iZXI7XG4gIG5ld0NhcmRzOiBudW1iZXI7XG4gIGNvcnJlY3RSYXRlOiBudW1iZXI7XG4gIGF2ZXJhZ2VJbnRlcnZhbDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpZmZpY3VsdENhcmQge1xuICBjYXJkOiBGbGFzaGNhcmQ7XG4gIGVycm9yQ291bnQ6IG51bWJlcjtcbiAgbGFzdEVycm9yOiBudW1iZXI7XG4gIGF2ZXJhZ2VUaW1lOiBudW1iZXI7XG4gIHBhdHRlcm46ICdjb25jZXB0JyB8ICdtZW1vcnknIHwgJ2NhbGN1bGF0aW9uJyB8ICd1bmtub3duJztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3ljbGVJbmZvIHtcbiAgY3VycmVudEN5Y2xlOiBudW1iZXI7XG4gIGN5Y2xlU3RhcnREYXRlOiBzdHJpbmc7IC8vIElTTyBcdTY4M0NcdTVGMEZcbiAgY3ljbGVzOiBBcnJheTx7XG4gICAgY3ljbGVOdW1iZXI6IG51bWJlcjtcbiAgICBzdGFydERhdGU6IHN0cmluZztcbiAgICBlbmREYXRlPzogc3RyaW5nO1xuICAgIHRvdGFsUmV2aWV3czogbnVtYmVyO1xuICAgIHRvdGFsQ2FyZHM6IG51bWJlcjtcbiAgICBjb3JyZWN0UmF0ZTogbnVtYmVyO1xuICB9Pjtcbn1cbmV4cG9ydCBjbGFzcyBBbmFseXRpY3NFbmdpbmUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHt9XG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTYyMTZcdTUyMURcdTU5Q0JcdTUzMTZcdTU0NjhcdTY3MUZcdTRGRTFcdTYwNkZcbiAgICovXG4gIHByaXZhdGUgZ2V0Q3ljbGVEYXRhKCk6IEN5Y2xlSW5mbyB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmN5Y2xlRGF0YTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIC8vIFx1OTk5Nlx1NkIyMVx1NTIxRFx1NTlDQlx1NTMxNlxuICAgICAgY29uc3QgaW5pdERhdGE6IEN5Y2xlSW5mbyA9IHtcbiAgICAgICAgY3VycmVudEN5Y2xlOiAxLFxuICAgICAgICBjeWNsZVN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBjeWNsZXM6IFt7XG4gICAgICAgICAgY3ljbGVOdW1iZXI6IDEsXG4gICAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgICAgIHRvdGFsQ2FyZHM6IDAsXG4gICAgICAgICAgY29ycmVjdFJhdGU6IDBcbiAgICAgICAgfV1cbiAgICAgIH07XG4gICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jeWNsZURhdGEgPSBpbml0RGF0YTtcbiAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgcmV0dXJuIGluaXREYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTU0NjhcdTY3MUZcdTRGRTFcdTYwNkZcdUZGMDhcdTRGOUIgVUkgXHU0RjdGXHU3NTI4XHVGRjA5XG4gICAqL1xuICBnZXRDdXJyZW50Q3ljbGVJbmZvKCk6IHtcbiAgICBjdXJyZW50Q3ljbGU6IG51bWJlcjtcbiAgICBzdGFydERhdGU6IHN0cmluZztcbiAgICByZXZpZXdzVGhpc0N5Y2xlOiBudW1iZXI7XG4gIH0ge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldEN5Y2xlRGF0YSgpO1xuICAgIGNvbnN0IGxvZ3MgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gfHwgW107XG4gICAgXG4gICAgLy8gXHU3RURGXHU4QkExXHU1RjUzXHU1MjREXHU1NDY4XHU2NzFGXHU3Njg0XHU1OTBEXHU0RTYwXHU2NTcwXG4gICAgY29uc3QgY3ljbGVSZXZpZXdzID0gbG9ncy5maWx0ZXIoXG4gICAgICBsb2cgPT4gKGxvZy5jeWNsZSB8fCAxKSA9PT0gZGF0YS5jdXJyZW50Q3ljbGVcbiAgICApLmxlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50Q3ljbGU6IGRhdGEuY3VycmVudEN5Y2xlLFxuICAgICAgc3RhcnREYXRlOiBkYXRhLmN5Y2xlU3RhcnREYXRlLFxuICAgICAgcmV2aWV3c1RoaXNDeWNsZTogY3ljbGVSZXZpZXdzXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTU0NjhcdTY3MUZcdTUzRjdcbiAgICovXG4gIGdldEN1cnJlbnRDeWNsZU51bWJlcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldEN5Y2xlRGF0YSgpLmN1cnJlbnRDeWNsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTVGMDBcdTU0MkZcdTY1QjBcdTU0NjhcdTY3MUZcbiAgICovXG4gIGFzeW5jIHN0YXJ0TmV3Q3ljbGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0Q3ljbGVEYXRhKCk7XG4gICAgY29uc3QgbG9ncyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXTtcbiAgICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuXG4gICAgLy8gMS4gXHU4QkExXHU3Qjk3XHU1RjUzXHU1MjREXHU1NDY4XHU2NzFGXHU3Njg0XHU2NzAwXHU3RUM4XHU3RURGXHU4QkExXG4gICAgY29uc3QgY3ljbGVSZXZpZXdzID0gbG9ncy5maWx0ZXIoXG4gICAgICBsb2cgPT4gKGxvZy5jeWNsZSB8fCAxKSA9PT0gZGF0YS5jdXJyZW50Q3ljbGVcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IHRvdGFsQ29ycmVjdCA9IGN5Y2xlUmV2aWV3cy5maWx0ZXIoXG4gICAgICBsb2cgPT4gbG9nLnJlc3BvbnNlLmVhc2UgPT09ICdnb29kJyB8fCBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2Vhc3knXG4gICAgKS5sZW5ndGg7XG4gICAgXG4gICAgY29uc3QgY29ycmVjdFJhdGUgPSBjeWNsZVJldmlld3MubGVuZ3RoID4gMCBcbiAgICAgID8gdG90YWxDb3JyZWN0IC8gY3ljbGVSZXZpZXdzLmxlbmd0aCBcbiAgICAgIDogMDtcblxuICAgIC8vIDIuIFx1N0VEM1x1Njc1Rlx1NUY1M1x1NTI0RFx1NTQ2OFx1NjcxRlx1RkYwOFx1OEJCMFx1NUY1NVx1NTIzMFx1NTM4Nlx1NTNGMlx1RkYwOVxuICAgIGNvbnN0IGN1cnJlbnRDeWNsZUluZGV4ID0gZGF0YS5jeWNsZXMuZmluZEluZGV4KFxuICAgICAgYyA9PiBjLmN5Y2xlTnVtYmVyID09PSBkYXRhLmN1cnJlbnRDeWNsZVxuICAgICk7XG4gICAgXG4gICAgaWYgKGN1cnJlbnRDeWNsZUluZGV4ICE9PSAtMSkge1xuICAgICAgZGF0YS5jeWNsZXNbY3VycmVudEN5Y2xlSW5kZXhdLmVuZERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICBkYXRhLmN5Y2xlc1tjdXJyZW50Q3ljbGVJbmRleF0udG90YWxSZXZpZXdzID0gY3ljbGVSZXZpZXdzLmxlbmd0aDtcbiAgICAgIGRhdGEuY3ljbGVzW2N1cnJlbnRDeWNsZUluZGV4XS50b3RhbENhcmRzID0gY2FyZHMubGVuZ3RoO1xuICAgICAgZGF0YS5jeWNsZXNbY3VycmVudEN5Y2xlSW5kZXhdLmNvcnJlY3RSYXRlID0gY29ycmVjdFJhdGU7XG4gICAgfVxuXG4gICAgLy8gMy4gXHU1MjFCXHU1RUZBXHU2NUIwXHU1NDY4XHU2NzFGXG4gICAgY29uc3QgbmV3Q3ljbGVOdW1iZXIgPSBkYXRhLmN1cnJlbnRDeWNsZSArIDE7XG4gICAgY29uc3QgbmV3U3RhcnREYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgZGF0YS5jeWNsZXMucHVzaCh7XG4gICAgICBjeWNsZU51bWJlcjogbmV3Q3ljbGVOdW1iZXIsXG4gICAgICBzdGFydERhdGU6IG5ld1N0YXJ0RGF0ZSxcbiAgICAgIHRvdGFsUmV2aWV3czogMCxcbiAgICAgIHRvdGFsQ2FyZHM6IGNhcmRzLmxlbmd0aCxcbiAgICAgIGNvcnJlY3RSYXRlOiAwXG4gICAgfSk7XG5cbiAgICBkYXRhLmN1cnJlbnRDeWNsZSA9IG5ld0N5Y2xlTnVtYmVyO1xuICAgIGRhdGEuY3ljbGVTdGFydERhdGUgPSBuZXdTdGFydERhdGU7XG5cbiAgICAvLyA0LiBcdTY2RjRcdTY1QjBcdTYyNDBcdTY3MDlcdTY1QjBcdTY1RTVcdTVGRDdcdTc2ODRcdTU0NjhcdTY3MUZcdTY4MDdcdThCQjBcdUZGMDhcdTkwMUFcdThGQzdcdTYyRTZcdTYyMkFcdTU2NjhcdTVCOUVcdTczQjBcdUZGMDlcbiAgICAvLyBcdThGRDlcdTkxQ0NcdTRFMERcdTk3MDBcdTg5ODFcdTRGRUVcdTY1MzlcdTY1RTdcdTY1RTVcdTVGRDdcdUZGMENcdTY1QjBcdTY1RTVcdTVGRDdcdTRGMUFcdTgxRUFcdTUyQThcdTY4MDdcdThCQjBcdTRFM0FcdTY1QjBcdTU0NjhcdTY3MUZcblxuICAgIC8vIDUuIFx1NEZERFx1NUI1OFx1OEJCRVx1N0Y2RVxuICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICB9XG5cblxuLyoqXG4gKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTUzODZcdTUzRjJcdTU0NjhcdTY3MUYoXHU3NTI4XHU0RThFVUlcdTY2M0VcdTc5M0EpXG4gKi9cbmdldEFyY2hpdmVkQ3ljbGVzKCk6IEFycmF5PHtcbiAgY3ljbGVOdW1iZXI6IG51bWJlcjtcbiAgc3RhcnREYXRlOiBzdHJpbmc7XG4gIGVuZERhdGU6IHN0cmluZztcbiAgdG90YWxSZXZpZXdzOiBudW1iZXI7XG4gIHRvdGFsQ2FyZHM6IG51bWJlcjtcbiAgY29ycmVjdFJhdGU6IG51bWJlcjtcbiAgZGFpbHlTdGF0cz86IERhaWx5U3RhdHNbXTtcbiAgZGVja1N0YXRzPzogRGVja1N0YXRzW107XG59PiB7XG4gIGNvbnN0IGRhdGEgPSB0aGlzLmdldEN5Y2xlRGF0YSgpO1xuICByZXR1cm4gZGF0YS5jeWNsZXNcbiAgICAuZmlsdGVyKChjKTogYyBpcyB0eXBlb2YgYyAmIHsgZW5kRGF0ZTogc3RyaW5nIH0gPT4gISFjLmVuZERhdGUpIFxuICAgIC5zb3J0KChhLCBiKSA9PiBiLmN5Y2xlTnVtYmVyIC0gYS5jeWNsZU51bWJlcik7XG59XG5cbi8qKlxuICogXHU4M0I3XHU1M0Q2XHU2MzA3XHU1QjlBXHU1NDY4XHU2NzFGXHU3Njg0XHU4QkU2XHU3RUM2XHU3RURGXHU4QkExXG4gKi9cbmdldEN5Y2xlRGV0YWlscyhjeWNsZU51bWJlcjogbnVtYmVyKToge1xuICBjeWNsZTogYW55O1xuICBkYWlseVN0YXRzOiBEYWlseVN0YXRzW107XG4gIGRlY2tTdGF0czogRGVja1N0YXRzW107XG4gIHdlZWtseVN0YXRzOiB7IHRoaXNXZWVrOiBXZWVrbHlTdGF0czsgbGFzdFdlZWs6IFdlZWtseVN0YXRzIH07XG59IHwgbnVsbCB7XG4gIGNvbnN0IGRhdGEgPSB0aGlzLmdldEN5Y2xlRGF0YSgpO1xuICBjb25zdCBjeWNsZSA9IGRhdGEuY3ljbGVzLmZpbmQoYyA9PiBjLmN5Y2xlTnVtYmVyID09PSBjeWNsZU51bWJlcik7XG4gIFxuICBpZiAoIWN5Y2xlKSByZXR1cm4gbnVsbDtcblxuICAvLyBcdThCQTFcdTdCOTdcdThCRTVcdTU0NjhcdTY3MUZcdTc2ODRcdTdFREZcdThCQTFcdTY1NzBcdTYzNkVcbiAgY29uc3QgbG9ncyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXTtcbiAgY29uc3QgY3ljbGVMb2dzID0gbG9ncy5maWx0ZXIobG9nID0+IChsb2cuY3ljbGUgfHwgMSkgPT09IGN5Y2xlTnVtYmVyKTtcbiAgXG4gIC8vIFx1Njc4NFx1NUVGQVx1OEJFNVx1NTQ2OFx1NjcxRlx1NzY4NFx1NkJDRlx1NjVFNVx1N0VERlx1OEJBMVxuICBjb25zdCBkYWlseVN0YXRzID0gdGhpcy5idWlsZEN5Y2xlRGFpbHlTdGF0cyhjeWNsZU51bWJlciwgY3ljbGUuc3RhcnREYXRlLCBjeWNsZS5lbmREYXRlKTtcbiAgY29uc3QgZGVja1N0YXRzID0gdGhpcy5idWlsZEN5Y2xlRGVja1N0YXRzKGN5Y2xlTnVtYmVyKTtcbiAgXG4gIHJldHVybiB7XG4gICAgY3ljbGUsXG4gICAgZGFpbHlTdGF0cyxcbiAgICBkZWNrU3RhdHMsXG4gICAgd2Vla2x5U3RhdHM6IHRoaXMuZ2V0V2Vla2x5U3RhdHModHJ1ZSkgLy8gXHU4RkQ5XHU5MUNDXHU1M0VGXHU0RUU1XHU2NTM5XHU4RkRCLFx1ODNCN1x1NTNENlx1NjMwN1x1NUI5QVx1NTQ2OFx1NjcxRlx1NzY4NFx1NTQ2OFx1N0VERlx1OEJBMVxuICB9O1xufVxuXG4vKipcbiAqIFx1Njc4NFx1NUVGQVx1NjMwN1x1NUI5QVx1NTQ2OFx1NjcxRlx1NzY4NFx1NkJDRlx1NjVFNVx1N0VERlx1OEJBMVxuICovXG5wcml2YXRlIGJ1aWxkQ3ljbGVEYWlseVN0YXRzKFxuICBjeWNsZU51bWJlcjogbnVtYmVyLCBcbiAgc3RhcnREYXRlOiBzdHJpbmcsIFxuICBlbmREYXRlPzogc3RyaW5nXG4pOiBEYWlseVN0YXRzW10ge1xuICBjb25zdCBsb2dzID0gKHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXSlcbiAgICAuZmlsdGVyKGxvZyA9PiAobG9nLmN5Y2xlIHx8IDEpID09PSBjeWNsZU51bWJlcik7XG5cbiAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuICBjb25zdCBlbmQgPSBlbmREYXRlID8gbmV3IERhdGUoZW5kRGF0ZSkgOiBuZXcgRGF0ZSgpO1xuICBjb25zdCBkYXlzID0gTWF0aC5jZWlsKChlbmQuZ2V0VGltZSgpIC0gc3RhcnQuZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG5cbiAgY29uc3Qgc3RhdHM6IE1hcDxzdHJpbmcsIERhaWx5U3RhdHM+ID0gbmV3IE1hcCgpO1xuXG4gIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjI0MFx1NjcwOVx1NjVFNVx1NjcxRlxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRheXM7IGkrKykge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShzdGFydCk7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgaSk7XG4gICAgY29uc3QgZGF0ZUtleSA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIFxuICAgIHN0YXRzLnNldChkYXRlS2V5LCB7XG4gICAgICBkYXRlOiBkYXRlS2V5LFxuICAgICAgcmV2aWV3ZWQ6IDAsXG4gICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICBjb3JyZWN0UmF0ZTogMCxcbiAgICAgIHRpbWVTcGVudDogMCxcbiAgICAgIG5ld0NhcmRzOiAwXG4gICAgfSk7XG4gIH1cblxuICAvLyBcdTU4NkJcdTUxNDVcdTY1NzBcdTYzNkVcbiAgbG9ncy5mb3JFYWNoKGxvZyA9PiB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGxvZy50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICBjb25zdCBzdGF0ID0gc3RhdHMuZ2V0KGRhdGUpO1xuICAgIGlmICghc3RhdCkgcmV0dXJuO1xuXG4gICAgc3RhdC5yZXZpZXdlZCsrO1xuICAgIHN0YXQudGltZVNwZW50ICs9IGxvZy5yZXNwb25zZS50aW1lU3BlbnQ7XG5cbiAgICBpZiAobG9nLnJlc3BvbnNlLmVhc2UgPT09ICdnb29kJyB8fCBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2Vhc3knKSB7XG4gICAgICBzdGF0LmNvcnJlY3RDb3VudCsrO1xuICAgIH0gZWxzZSBpZiAobG9nLnJlc3BvbnNlLmVhc2UgPT09ICdoYXJkJykge1xuICAgICAgc3RhdC5jb3JyZWN0Q291bnQgKz0gMC41O1xuICAgIH1cblxuICAgIGNvbnN0IGNhcmQgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEZsYXNoY2FyZChsb2cuZmxhc2hjYXJkSWQpO1xuICAgIGlmIChjYXJkICYmIGNhcmQuc3RhdHMudG90YWxSZXZpZXdzID09PSAxKSB7XG4gICAgICBzdGF0Lm5ld0NhcmRzKys7XG4gICAgfVxuICB9KTtcblxuICBzdGF0cy5mb3JFYWNoKHN0YXQgPT4ge1xuICAgIGlmIChzdGF0LnJldmlld2VkID4gMCkge1xuICAgICAgc3RhdC5jb3JyZWN0UmF0ZSA9IHN0YXQuY29ycmVjdENvdW50IC8gc3RhdC5yZXZpZXdlZDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBBcnJheS5mcm9tKHN0YXRzLnZhbHVlcygpKS5zb3J0KChhLCBiKSA9PiBhLmRhdGUubG9jYWxlQ29tcGFyZShiLmRhdGUpKTtcbn1cblxuLyoqXG4gKiBcdTY3ODRcdTVFRkFcdTYzMDdcdTVCOUFcdTU0NjhcdTY3MUZcdTc2ODRcdTUzNjFcdTdFQzRcdTdFREZcdThCQTFcbiAqL1xucHJpdmF0ZSBidWlsZEN5Y2xlRGVja1N0YXRzKGN5Y2xlTnVtYmVyOiBudW1iZXIpOiBEZWNrU3RhdHNbXSB7XG4gIGNvbnN0IGxvZ3MgPSAodGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdKVxuICAgIC5maWx0ZXIobG9nID0+IChsb2cuY3ljbGUgfHwgMSkgPT09IGN5Y2xlTnVtYmVyKTtcbiAgXG4gIGNvbnN0IGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gIGNvbnN0IGRlY2tNYXAgPSBuZXcgTWFwPHN0cmluZywge1xuICAgIGNhcmRzOiBGbGFzaGNhcmRbXTtcbiAgICBsb2dzOiBSZXZpZXdMb2dbXTtcbiAgfT4oKTtcblxuICAvLyBcdTYzMDlcdTUzNjFcdTdFQzRcdTUyMDZcdTdFQzRcbiAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHtcbiAgICBpZiAoIWRlY2tNYXAuaGFzKGNhcmQuZGVjaykpIHtcbiAgICAgIGRlY2tNYXAuc2V0KGNhcmQuZGVjaywgeyBjYXJkczogW10sIGxvZ3M6IFtdIH0pO1xuICAgIH1cbiAgICBkZWNrTWFwLmdldChjYXJkLmRlY2spIS5jYXJkcy5wdXNoKGNhcmQpO1xuICB9KTtcblxuICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICBjb25zdCBjYXJkID0gY2FyZHMuZmluZChjID0+IGMuaWQgPT09IGxvZy5mbGFzaGNhcmRJZCk7XG4gICAgaWYgKGNhcmQgJiYgZGVja01hcC5oYXMoY2FyZC5kZWNrKSkge1xuICAgICAgZGVja01hcC5nZXQoY2FyZC5kZWNrKSEubG9ncy5wdXNoKGxvZyk7XG4gICAgfVxuICB9KTtcblxuICAvLyBcdThCQTFcdTdCOTdcdTdFREZcdThCQTFcbiAgY29uc3Qgc3RhdHM6IERlY2tTdGF0c1tdID0gW107XG4gIGRlY2tNYXAuZm9yRWFjaCgoZGF0YSwgZGVja05hbWUpID0+IHtcbiAgICBjb25zdCBkZWNrTG9ncyA9IGRhdGEubG9ncztcbiAgICBjb25zdCBjb3JyZWN0TG9ncyA9IGRlY2tMb2dzLmZpbHRlcihcbiAgICAgIGxvZyA9PiBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2dvb2QnIHx8IGxvZy5yZXNwb25zZS5lYXNlID09PSAnZWFzeSdcbiAgICApO1xuXG4gICAgc3RhdHMucHVzaCh7XG4gICAgICBkZWNrTmFtZSxcbiAgICAgIHRvdGFsQ2FyZHM6IGRhdGEuY2FyZHMubGVuZ3RoLFxuICAgICAgZHVlQ2FyZHM6IGRhdGEuY2FyZHMuZmlsdGVyKGMgPT4gYy5zY2hlZHVsaW5nLmR1ZSA8PSBEYXRlLm5vdygpKS5sZW5ndGgsXG4gICAgICBuZXdDYXJkczogZGF0YS5jYXJkcy5maWx0ZXIoYyA9PiBjLnNjaGVkdWxpbmcuc3RhdGUgPT09ICduZXcnKS5sZW5ndGgsXG4gICAgICBjb3JyZWN0UmF0ZTogZGVja0xvZ3MubGVuZ3RoID4gMCA/IGNvcnJlY3RMb2dzLmxlbmd0aCAvIGRlY2tMb2dzLmxlbmd0aCA6IDAsXG4gICAgICBhdmVyYWdlSW50ZXJ2YWw6IGRhdGEuY2FyZHMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIGMuc2NoZWR1bGluZy5pbnRlcnZhbCwgMCkgLyBcbiAgICAgICAgKGRhdGEuY2FyZHMubGVuZ3RoIHx8IDEpXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBzdGF0cy5zb3J0KChhLCBiKSA9PiBiLnRvdGFsQ2FyZHMgLSBhLnRvdGFsQ2FyZHMpO1xufVxuXG4vKipcbiAqIFx1NkUwNVx1OTY2NFx1N0VERlx1OEJBMVx1NEY0Nlx1NEZERFx1NzU1OVx1NTM2MVx1NzI0N1x1OEZEQlx1NUVBNlxuICovXG5wcml2YXRlIGFzeW5jIGNsZWFyU3RhdHNPbmx5KCk6IFByb21pc2U8dm9pZD4ge1xuICAvLyBcdTUzRUFcdTZFMDVcdTdBN0EgcmV2aWV3TG9ncyxcdTRFMERcdTRGRUVcdTY1MzlcdTUzNjFcdTcyNDdcdTc2ODQgRlNSUyBcdTY1NzBcdTYzNkVcbiAgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddID0gW107XG4gIFxuICAvLyBcdTkxQ0RcdTdGNkVcdTUzNjFcdTcyNDdcdTc2ODRcdTdFREZcdThCQTFcdTVCNTdcdTZCQjUoXHU0RjQ2XHU0RkREXHU3NTU5IHNjaGVkdWxpbmcgXHU0RTJEXHU3Njg0XHU1QjY2XHU0RTYwXHU4RkRCXHU1RUE2KVxuICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICBmb3IgKGNvbnN0IGNhcmQgb2YgY2FyZHMpIHtcbiAgICBjYXJkLnN0YXRzID0ge1xuICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgY29ycmVjdENvdW50OiAwLFxuICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICBsYXN0UmV2aWV3OiAwLFxuICAgICAgZGlmZmljdWx0eTogY2FyZC5zdGF0cy5kaWZmaWN1bHR5IC8vIFx1NEZERFx1NzU1OVx1OTZCRVx1NUVBNlxuICAgIH07XG4gICAgLy8gXHU2Q0U4XHU2MTBGOlx1NEUwRFx1NEZFRVx1NjUzOSBjYXJkLnNjaGVkdWxpbmdcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnVwZGF0ZUNhcmQoY2FyZCk7XG4gIH1cbiAgXG4gIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbn1cbi8qKlxuICogXHU4M0I3XHU1M0Q2XHU2QkNGXHU2NUU1XHU3RURGXHU4QkExXG4gKi9cbmdldERhaWx5U3RhdHMoZGF5czogbnVtYmVyID0gMzAsIGN1cnJlbnRDeWNsZU9ubHk6IGJvb2xlYW4gPSBmYWxzZSk6IERhaWx5U3RhdHNbXSB7XG4gIGNvbnN0IGxvZ3MgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gfHwgW107XG4gIGNvbnN0IHN0YXRzOiBNYXA8c3RyaW5nLCBEYWlseVN0YXRzPiA9IG5ldyBNYXAoKTtcblxuICAvLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTU0NjhcdTY3MUZcdUZGMDhcdTU5ODJcdTY3OUNcdTk3MDBcdTg5ODFcdThGQzdcdTZFRTRcdUZGMDlcbiAgY29uc3QgY3VycmVudEN5Y2xlID0gY3VycmVudEN5Y2xlT25seSA/IHRoaXMuZ2V0Q3VycmVudEN5Y2xlTnVtYmVyKCkgOiBudWxsO1xuXG4gIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjcwMFx1OEZEMU5cdTU5MjlcdTc2ODRcdTY1NzBcdTYzNkVcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzOyBpKyspIHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKTtcbiAgICBjb25zdCBkYXRlS2V5ID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgXG4gICAgc3RhdHMuc2V0KGRhdGVLZXksIHtcbiAgICAgIGRhdGU6IGRhdGVLZXksXG4gICAgICByZXZpZXdlZDogMCxcbiAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgIGNvcnJlY3RSYXRlOiAwLFxuICAgICAgdGltZVNwZW50OiAwLFxuICAgICAgbmV3Q2FyZHM6IDBcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1N0VERlx1OEJBMVx1NTkwRFx1NEU2MFx1OEJCMFx1NUY1NVx1RkYwOFx1NjUyRlx1NjMwMVx1NTQ2OFx1NjcxRlx1OEZDN1x1NkVFNFx1RkYwOVxuICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICBjb25zdCBsb2dDeWNsZSA9IGxvZy5jeWNsZSB8fCAxO1xuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1OTcwMFx1ODk4MVx1NTNFQVx1N0VERlx1OEJBMVx1NUY1M1x1NTI0RFx1NTQ2OFx1NjcxRlxuICAgIGlmIChjdXJyZW50Q3ljbGUgIT09IG51bGwgJiYgbG9nQ3ljbGUgIT09IGN1cnJlbnRDeWNsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShsb2cudGltZXN0YW1wKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgY29uc3Qgc3RhdCA9IHN0YXRzLmdldChkYXRlKTtcbiAgICBpZiAoIXN0YXQpIHJldHVybjtcblxuICAgIHN0YXQucmV2aWV3ZWQrKztcbiAgICBzdGF0LnRpbWVTcGVudCArPSBsb2cucmVzcG9uc2UudGltZVNwZW50O1xuXG4gICAgaWYgKGxvZy5yZXNwb25zZS5lYXNlID09PSAnZ29vZCcgfHwgbG9nLnJlc3BvbnNlLmVhc2UgPT09ICdlYXN5Jykge1xuICAgICAgc3RhdC5jb3JyZWN0Q291bnQrKztcbiAgICB9IGVsc2UgaWYgKGxvZy5yZXNwb25zZS5lYXNlID09PSAnaGFyZCcpIHtcbiAgICAgIHN0YXQuY29ycmVjdENvdW50ICs9IDAuNTtcbiAgICB9XG5cbiAgICBjb25zdCBjYXJkID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRGbGFzaGNhcmQobG9nLmZsYXNoY2FyZElkKTtcbiAgICBpZiAoY2FyZCAmJiBjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cyA9PT0gMSkge1xuICAgICAgc3RhdC5uZXdDYXJkcysrO1xuICAgIH1cbiAgfSk7XG5cbiAgc3RhdHMuZm9yRWFjaChzdGF0ID0+IHtcbiAgICBpZiAoc3RhdC5yZXZpZXdlZCA+IDApIHtcbiAgICAgIHN0YXQuY29ycmVjdFJhdGUgPSBzdGF0LmNvcnJlY3RDb3VudCAvIHN0YXQucmV2aWV3ZWQ7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gQXJyYXkuZnJvbShzdGF0cy52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4gXG4gICAgYS5kYXRlLmxvY2FsZUNvbXBhcmUoYi5kYXRlKVxuICApO1xufVxuXG4vKipcbiAqIFx1ODNCN1x1NTNENlx1NTQ2OFx1N0VERlx1OEJBMVxuICovXG5nZXRXZWVrbHlTdGF0cyhjdXJyZW50Q3ljbGVPbmx5OiBib29sZWFuID0gZmFsc2UpOiB7IHRoaXNXZWVrOiBXZWVrbHlTdGF0czsgbGFzdFdlZWs6IFdlZWtseVN0YXRzIH0ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBjdXJyZW50Q3ljbGUgPSBjdXJyZW50Q3ljbGVPbmx5ID8gdGhpcy5nZXRDdXJyZW50Q3ljbGVOdW1iZXIoKSA6IG51bGw7XG4gIFxuICBjb25zdCB0aGlzV2Vla1N0YXJ0ID0gbmV3IERhdGUobm93KTtcbiAgdGhpc1dlZWtTdGFydC5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSBub3cuZ2V0RGF5KCkpO1xuICB0aGlzV2Vla1N0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gIGNvbnN0IGxhc3RXZWVrU3RhcnQgPSBuZXcgRGF0ZSh0aGlzV2Vla1N0YXJ0KTtcbiAgbGFzdFdlZWtTdGFydC5zZXREYXRlKGxhc3RXZWVrU3RhcnQuZ2V0RGF0ZSgpIC0gNyk7XG5cbiAgY29uc3QgdGhpc1dlZWsgPSB0aGlzLmNhbGN1bGF0ZVdlZWtTdGF0cyh0aGlzV2Vla1N0YXJ0LCBjdXJyZW50Q3ljbGUpO1xuICBjb25zdCBsYXN0V2VlayA9IHRoaXMuY2FsY3VsYXRlV2Vla1N0YXRzKGxhc3RXZWVrU3RhcnQsIGN1cnJlbnRDeWNsZSk7XG5cbiAgcmV0dXJuIHsgdGhpc1dlZWssIGxhc3RXZWVrIH07XG59XG5cbnByaXZhdGUgY2FsY3VsYXRlV2Vla1N0YXRzKHN0YXJ0RGF0ZTogRGF0ZSwgY3ljbGVGaWx0ZXI6IG51bWJlciB8IG51bGwgPSBudWxsKTogV2Vla2x5U3RhdHMge1xuICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKTtcbiAgZW5kRGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpICsgNyk7XG5cbiAgbGV0IGxvZ3MgPSAodGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdKS5maWx0ZXIoXG4gICAgbG9nID0+IGxvZy50aW1lc3RhbXAgPj0gc3RhcnREYXRlLmdldFRpbWUoKSAmJiBsb2cudGltZXN0YW1wIDwgZW5kRGF0ZS5nZXRUaW1lKClcbiAgKTtcblxuICAvLyBcdTVFOTRcdTc1MjhcdTU0NjhcdTY3MUZcdThGQzdcdTZFRTRcbiAgaWYgKGN5Y2xlRmlsdGVyICE9PSBudWxsKSB7XG4gICAgbG9ncyA9IGxvZ3MuZmlsdGVyKGxvZyA9PiAobG9nLmN5Y2xlIHx8IDEpID09PSBjeWNsZUZpbHRlcik7XG4gIH1cblxuICBsZXQgdG90YWxDb3JyZWN0ID0gMDtcbiAgbGV0IHRvdGFsVGltZVNwZW50ID0gMDtcblxuICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICB0b3RhbFRpbWVTcGVudCArPSBsb2cucmVzcG9uc2UudGltZVNwZW50O1xuICAgIGlmIChsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2dvb2QnIHx8IGxvZy5yZXNwb25zZS5lYXNlID09PSAnZWFzeScpIHtcbiAgICAgIHRvdGFsQ29ycmVjdCsrO1xuICAgIH0gZWxzZSBpZiAobG9nLnJlc3BvbnNlLmVhc2UgPT09ICdoYXJkJykge1xuICAgICAgdG90YWxDb3JyZWN0ICs9IDAuNTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGF2ZXJhZ2VDb3JyZWN0UmF0ZSA9IGxvZ3MubGVuZ3RoID4gMCA/IHRvdGFsQ29ycmVjdCAvIGxvZ3MubGVuZ3RoIDogMDtcbiAgY29uc3Qgc3RyZWFrID0gdGhpcy5jYWxjdWxhdGVTdHJlYWsoKTtcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICBlbmREYXRlOiBlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICB0b3RhbFJldmlld3M6IGxvZ3MubGVuZ3RoLFxuICAgIGF2ZXJhZ2VDb3JyZWN0UmF0ZSxcbiAgICB0b3RhbFRpbWVTcGVudCxcbiAgICBzdHJlYWtcbiAgfTtcbn1cblxuICAvKipcbiAgICogXHU4QkExXHU3Qjk3XHU4RkRFXHU3RUVEXHU1QjY2XHU0RTYwXHU1OTI5XHU2NTcwXG4gICAqL1xuICBjYWxjdWxhdGVTdHJlYWsoKTogbnVtYmVyIHtcbiAgICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICAgIGlmIChsb2dzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBkYXRlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGxvZ3MuZm9yRWFjaChsb2cgPT4ge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGxvZy50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgIGRhdGVzLmFkZChkYXRlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNvcnRlZERhdGVzID0gQXJyYXkuZnJvbShkYXRlcykuc29ydCgpLnJldmVyc2UoKTtcbiAgICBsZXQgc3RyZWFrID0gMDtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWREYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZXhwZWN0ZWREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIGV4cGVjdGVkRGF0ZS5zZXREYXRlKGV4cGVjdGVkRGF0ZS5nZXREYXRlKCkgLSBpKTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gZXhwZWN0ZWREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgICAgaWYgKHNvcnRlZERhdGVzW2ldID09PSBleHBlY3RlZCkge1xuICAgICAgICBzdHJlYWsrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHJlYWs7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MzYxXHU3RUM0XHU3RURGXHU4QkExXG4gICAqL1xuICBnZXREZWNrU3RhdHMoKTogRGVja1N0YXRzW10ge1xuICAgIGNvbnN0IGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgY29uc3QgZGVja01hcCA9IG5ldyBNYXA8c3RyaW5nLCBGbGFzaGNhcmRbXT4oKTtcblxuICAgIC8vIFx1NjMwOVx1NTM2MVx1N0VDNFx1NTIwNlx1N0VDNFxuICAgIGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICBpZiAoIWRlY2tNYXAuaGFzKGNhcmQuZGVjaykpIHtcbiAgICAgICAgZGVja01hcC5zZXQoY2FyZC5kZWNrLCBbXSk7XG4gICAgICB9XG4gICAgICBkZWNrTWFwLmdldChjYXJkLmRlY2spIS5wdXNoKGNhcmQpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU4QkExXHU3Qjk3XHU2QkNGXHU0RTJBXHU1MzYxXHU3RUM0XHU3Njg0XHU3RURGXHU4QkExXG4gICAgY29uc3Qgc3RhdHM6IERlY2tTdGF0c1tdID0gW107XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGRlY2tNYXAuZm9yRWFjaCgoZGVja0NhcmRzLCBkZWNrTmFtZSkgPT4ge1xuICAgICAgY29uc3QgZHVlQ2FyZHMgPSBkZWNrQ2FyZHMuZmlsdGVyKGMgPT4gYy5zY2hlZHVsaW5nLmR1ZSA8PSBub3cpLmxlbmd0aDtcbiAgICAgIGNvbnN0IG5ld0NhcmRzID0gZGVja0NhcmRzLmZpbHRlcihjID0+IGMuc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycpLmxlbmd0aDtcbiAgICAgIFxuICAgICAgY29uc3QgdG90YWxDb3JyZWN0ID0gZGVja0NhcmRzLnJlZHVjZShcbiAgICAgICAgKHN1bSwgYykgPT4gc3VtICsgYy5zdGF0cy5jb3JyZWN0Q291bnQsIDBcbiAgICAgICk7XG4gICAgICBjb25zdCB0b3RhbFJldmlld3MgPSBkZWNrQ2FyZHMucmVkdWNlKFxuICAgICAgICAoc3VtLCBjKSA9PiBzdW0gKyBjLnN0YXRzLnRvdGFsUmV2aWV3cywgMFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNvcnJlY3RSYXRlID0gdG90YWxSZXZpZXdzID4gMCA/IHRvdGFsQ29ycmVjdCAvIHRvdGFsUmV2aWV3cyA6IDA7XG5cbiAgICAgIGNvbnN0IHRvdGFsSW50ZXJ2YWwgPSBkZWNrQ2FyZHMucmVkdWNlKFxuICAgICAgICAoc3VtLCBjKSA9PiBzdW0gKyBjLnNjaGVkdWxpbmcuaW50ZXJ2YWwsIDBcbiAgICAgICk7XG4gICAgICBjb25zdCBhdmVyYWdlSW50ZXJ2YWwgPSBkZWNrQ2FyZHMubGVuZ3RoID4gMCBcbiAgICAgICAgPyB0b3RhbEludGVydmFsIC8gZGVja0NhcmRzLmxlbmd0aCBcbiAgICAgICAgOiAwO1xuXG4gICAgICBzdGF0cy5wdXNoKHtcbiAgICAgICAgZGVja05hbWUsXG4gICAgICAgIHRvdGFsQ2FyZHM6IGRlY2tDYXJkcy5sZW5ndGgsXG4gICAgICAgIGR1ZUNhcmRzLFxuICAgICAgICBuZXdDYXJkcyxcbiAgICAgICAgY29ycmVjdFJhdGUsXG4gICAgICAgIGF2ZXJhZ2VJbnRlcnZhbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RhdHMuc29ydCgoYSwgYikgPT4gYi50b3RhbENhcmRzIC0gYS50b3RhbENhcmRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTk2QkVcdTcwQjlcdTUzNjFcdTcyNDdcbiAgICovXG4gIGdldERpZmZpY3VsdENhcmRzKGxpbWl0OiBudW1iZXIgPSAxMCk6IERpZmZpY3VsdENhcmRbXSB7XG4gICAgY29uc3QgY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuXG4gICAgY29uc3QgZGlmZmljdWx0Q2FyZHM6IERpZmZpY3VsdENhcmRbXSA9IFtdO1xuXG4gICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgIGNvbnN0IGNhcmRMb2dzID0gbG9ncy5maWx0ZXIobG9nID0+IGxvZy5mbGFzaGNhcmRJZCA9PT0gY2FyZC5pZCk7XG4gICAgICBcbiAgICAgIC8vIFx1OEJBMVx1N0I5N1x1OTUxOVx1OEJFRlx1NkIyMVx1NjU3MFxuICAgICAgY29uc3QgZXJyb3JDb3VudCA9IGNhcmRMb2dzLmZpbHRlcihcbiAgICAgICAgbG9nID0+IGxvZy5yZXNwb25zZS5lYXNlID09PSAnYWdhaW4nXG4gICAgICApLmxlbmd0aDtcblxuICAgICAgaWYgKGVycm9yQ291bnQgPT09IDAgJiYgY2FyZC5zdGF0cy5kaWZmaWN1bHR5IDwgMC43KSByZXR1cm47XG5cbiAgICAgIC8vIFx1NjcwMFx1NTQwRVx1NEUwMFx1NkIyMVx1OTUxOVx1OEJFRlxuICAgICAgY29uc3QgZXJyb3JMb2dzID0gY2FyZExvZ3MuZmlsdGVyKGxvZyA9PiBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2FnYWluJyk7XG4gICAgICBjb25zdCBsYXN0RXJyb3IgPSBlcnJvckxvZ3MubGVuZ3RoID4gMCBcbiAgICAgICAgPyBlcnJvckxvZ3NbZXJyb3JMb2dzLmxlbmd0aCAtIDFdLnRpbWVzdGFtcCBcbiAgICAgICAgOiAwO1xuXG4gICAgICAvLyBcdTUyMjRcdTY1QURcdTk1MTlcdThCRUZcdTZBMjFcdTVGMEZcbiAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLmRldGVjdEVycm9yUGF0dGVybihjYXJkLCBjYXJkTG9ncyk7XG5cbiAgICAgIGRpZmZpY3VsdENhcmRzLnB1c2goe1xuICAgICAgICBjYXJkLFxuICAgICAgICBlcnJvckNvdW50LFxuICAgICAgICBsYXN0RXJyb3IsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiBjYXJkLnN0YXRzLmF2ZXJhZ2VUaW1lLFxuICAgICAgICBwYXR0ZXJuXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFx1NjM5Mlx1NUU4Rlx1RkYxQVx1OTUxOVx1OEJFRlx1NkIyMVx1NjU3MCA+IFx1OTZCRVx1NUVBNiA+IFx1NjcwMFx1OEZEMVx1OTUxOVx1OEJFRlxuICAgIHJldHVybiBkaWZmaWN1bHRDYXJkc1xuICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGEuZXJyb3JDb3VudCAhPT0gYi5lcnJvckNvdW50KSB7XG4gICAgICAgICAgcmV0dXJuIGIuZXJyb3JDb3VudCAtIGEuZXJyb3JDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5jYXJkLnN0YXRzLmRpZmZpY3VsdHkgIT09IGIuY2FyZC5zdGF0cy5kaWZmaWN1bHR5KSB7XG4gICAgICAgICAgcmV0dXJuIGIuY2FyZC5zdGF0cy5kaWZmaWN1bHR5IC0gYS5jYXJkLnN0YXRzLmRpZmZpY3VsdHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGIubGFzdEVycm9yIC0gYS5sYXN0RXJyb3I7XG4gICAgICB9KVxuICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcbiAgfVxuXG4gIHByaXZhdGUgZGV0ZWN0RXJyb3JQYXR0ZXJuKFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBsb2dzOiBSZXZpZXdMb2dbXVxuICApOiBEaWZmaWN1bHRDYXJkWydwYXR0ZXJuJ10ge1xuICAgIGlmIChsb2dzLmxlbmd0aCA8IDMpIHJldHVybiAndW5rbm93bic7XG5cbiAgICAvLyBcdTY1RjZcdTk1RjRcdThGQzdcdTk1N0YgLT4gXHU4QkExXHU3Qjk3XHU5NUVFXHU5ODk4XG4gICAgaWYgKGNhcmQuc3RhdHMuYXZlcmFnZVRpbWUgPiA2MCkge1xuICAgICAgcmV0dXJuICdjYWxjdWxhdGlvbic7XG4gICAgfVxuXG4gICAgLy8gXHU5NUY0XHU5Njk0XHU1Rjg4XHU3N0VEXHU0RUNEXHU3MTM2XHU5NTE5XHU4QkVGIC0+IFx1OEJCMFx1NUZDNlx1OTVFRVx1OTg5OFxuICAgIGlmIChjYXJkLnNjaGVkdWxpbmcuaW50ZXJ2YWwgPCAzICYmIGNhcmQuc2NoZWR1bGluZy5sYXBzZXMgPiAyKSB7XG4gICAgICByZXR1cm4gJ21lbW9yeSc7XG4gICAgfVxuXG4gICAgLy8gXHU2MzAxXHU3RUVEXHU1OTMxXHU4RDI1IC0+IFx1Njk4Mlx1NUZGNVx1NzQwNlx1ODlFM1x1OTVFRVx1OTg5OFxuICAgIGNvbnN0IHJlY2VudExvZ3MgPSBsb2dzLnNsaWNlKC01KTtcbiAgICBjb25zdCByZWNlbnRGYWlsdXJlcyA9IHJlY2VudExvZ3MuZmlsdGVyKFxuICAgICAgbG9nID0+IGxvZy5yZXNwb25zZS5lYXNlID09PSAnYWdhaW4nXG4gICAgKS5sZW5ndGg7XG4gICAgXG4gICAgaWYgKHJlY2VudEZhaWx1cmVzID49IDMpIHtcbiAgICAgIHJldHVybiAnY29uY2VwdCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICd1bmtub3duJztcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTY4MDdcdTdCN0VcdTdFREZcdThCQTFcbiAgICovXG4gIGdldFRhZ1N0YXRzKCk6IHsgdGFnOiBzdHJpbmc7IGNvdW50OiBudW1iZXI7IGNvcnJlY3RSYXRlOiBudW1iZXIgfVtdIHtcbiAgICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICAgIGNvbnN0IHRhZ01hcCA9IG5ldyBNYXA8c3RyaW5nLCB7IHRvdGFsOiBudW1iZXI7IGNvcnJlY3Q6IG51bWJlcjsgcmV2aWV3czogbnVtYmVyIH0+KCk7XG5cbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgY2FyZC50YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgaWYgKCF0YWdNYXAuaGFzKHRhZykpIHtcbiAgICAgICAgICB0YWdNYXAuc2V0KHRhZywgeyB0b3RhbDogMCwgY29ycmVjdDogMCwgcmV2aWV3czogMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ID0gdGFnTWFwLmdldCh0YWcpITtcbiAgICAgICAgc3RhdC50b3RhbCsrO1xuICAgICAgICBzdGF0LmNvcnJlY3QgKz0gY2FyZC5zdGF0cy5jb3JyZWN0Q291bnQ7XG4gICAgICAgIHN0YXQucmV2aWV3cyArPSBjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RhdHMgPSBBcnJheS5mcm9tKHRhZ01hcC5lbnRyaWVzKCkpLm1hcCgoW3RhZywgZGF0YV0pID0+ICh7XG4gICAgICB0YWcsXG4gICAgICBjb3VudDogZGF0YS50b3RhbCxcbiAgICAgIGNvcnJlY3RSYXRlOiBkYXRhLnJldmlld3MgPiAwID8gZGF0YS5jb3JyZWN0IC8gZGF0YS5yZXZpZXdzIDogMFxuICAgIH0pKTtcblxuICAgIHJldHVybiBzdGF0cy5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudCk7XG4gIH1cblxuICAvKipcbiAgICogXHU3NTFGXHU2MjEwXHU1QjY2XHU0RTYwXHU2MkE1XHU1NDRBXG4gICAqL1xuICBnZW5lcmF0ZVJlcG9ydChkYXlzOiBudW1iZXIgPSA3KTogc3RyaW5nIHtcbiAgICBjb25zdCBkYWlseVN0YXRzID0gdGhpcy5nZXREYWlseVN0YXRzKGRheXMpO1xuICAgIGNvbnN0IHsgdGhpc1dlZWssIGxhc3RXZWVrIH0gPSB0aGlzLmdldFdlZWtseVN0YXRzKCk7XG4gICAgY29uc3QgZGlmZmljdWx0Q2FyZHMgPSB0aGlzLmdldERpZmZpY3VsdENhcmRzKDUpO1xuICAgIGNvbnN0IGRlY2tTdGF0cyA9IHRoaXMuZ2V0RGVja1N0YXRzKCk7XG5cbiAgICAvLyBcdThCQTFcdTdCOTdcdTYwM0JcdTg5QzhcdTY1NzBcdTYzNkVcbiAgICBjb25zdCB0b3RhbFJldmlld2VkID0gZGFpbHlTdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5yZXZpZXdlZCwgMCk7XG4gICAgY29uc3QgdG90YWxDb3JyZWN0ID0gZGFpbHlTdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5jb3JyZWN0Q291bnQsIDApO1xuICAgIGNvbnN0IGF2ZXJhZ2VDb3JyZWN0UmF0ZSA9IHRvdGFsUmV2aWV3ZWQgPiAwID8gdG90YWxDb3JyZWN0IC8gdG90YWxSZXZpZXdlZCA6IDA7XG4gICAgY29uc3QgdG90YWxUaW1lID0gZGFpbHlTdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy50aW1lU3BlbnQsIDApO1xuXG4gICAgLy8gXHU4RDhCXHU1MkJGXHU1MjA2XHU2NzkwXG4gICAgY29uc3QgcmVjZW50RGF5cyA9IGRhaWx5U3RhdHMuc2xpY2UoLTcpO1xuICAgIGNvbnN0IG9sZGVyRGF5cyA9IGRhaWx5U3RhdHMuc2xpY2UoLTE0LCAtNyk7XG4gICAgY29uc3QgcmVjZW50UmF0ZSA9IHRoaXMuY2FsY3VsYXRlQXZlcmFnZVJhdGUocmVjZW50RGF5cyk7XG4gICAgY29uc3Qgb2xkZXJSYXRlID0gdGhpcy5jYWxjdWxhdGVBdmVyYWdlUmF0ZShvbGRlckRheXMpO1xuICAgIGNvbnN0IHRyZW5kID0gcmVjZW50UmF0ZSA+IG9sZGVyUmF0ZSA/ICdcdUQ4M0RcdURDQzggaW1wcm92aW5nJyA6IFxuICAgICAgICAgICAgICAgICAgcmVjZW50UmF0ZSA8IG9sZGVyUmF0ZSA/ICdcdUQ4M0RcdURDQzkgZGVjbGluaW5nJyA6ICdcdTI3QTFcdUZFMEYgc3RhYmxlJztcblxuICAgIGxldCByZXBvcnQgPSBgIyBcdUQ4M0RcdURDQ0EgTGVhcm5pbmcgUmVwb3J0XFxuXFxuYDtcbiAgICByZXBvcnQgKz0gYCoqUGVyaW9kOioqIExhc3QgJHtkYXlzfSBkYXlzXFxuYDtcbiAgICByZXBvcnQgKz0gYCoqR2VuZXJhdGVkOioqICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfVxcblxcbmA7XG5cbiAgICByZXBvcnQgKz0gYCMjIFx1RDgzQ1x1REZBRiBPdmVyYWxsIFBlcmZvcm1hbmNlXFxuXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gKipDYXJkcyBSZXZpZXdlZDoqKiAke3RvdGFsUmV2aWV3ZWR9XFxuYDtcbiAgICByZXBvcnQgKz0gYC0gKipDb3JyZWN0IFJhdGU6KiogJHsoYXZlcmFnZUNvcnJlY3RSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVcXG5gO1xuICAgIHJlcG9ydCArPSBgLSAqKlN0dWR5IFRpbWU6KiogJHt0aGlzLmZvcm1hdFRpbWUodG90YWxUaW1lKX1cXG5gO1xuICAgIHJlcG9ydCArPSBgLSAqKkN1cnJlbnQgU3RyZWFrOioqICR7dGhpc1dlZWsuc3RyZWFrfSBkYXlzIFx1RDgzRFx1REQyNVxcbmA7XG4gICAgcmVwb3J0ICs9IGAtICoqVHJlbmQ6KiogJHt0cmVuZH1cXG5cXG5gO1xuXG4gICAgcmVwb3J0ICs9IGAjIyBcdUQ4M0RcdURDQzggV2VlayBDb21wYXJpc29uXFxuXFxuYDtcbiAgICByZXBvcnQgKz0gYCMjIyBUaGlzIFdlZWtcXG5gO1xuICAgIHJlcG9ydCArPSBgLSBSZXZpZXdzOiAke3RoaXNXZWVrLnRvdGFsUmV2aWV3c31cXG5gO1xuICAgIHJlcG9ydCArPSBgLSBDb3JyZWN0IFJhdGU6ICR7KHRoaXNXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gVGltZTogJHt0aGlzLmZvcm1hdFRpbWUodGhpc1dlZWsudG90YWxUaW1lU3BlbnQpfVxcblxcbmA7XG5cbiAgICByZXBvcnQgKz0gYCMjIyBMYXN0IFdlZWtcXG5gO1xuICAgIHJlcG9ydCArPSBgLSBSZXZpZXdzOiAke2xhc3RXZWVrLnRvdGFsUmV2aWV3c31cXG5gO1xuICAgIHJlcG9ydCArPSBgLSBDb3JyZWN0IFJhdGU6ICR7KGxhc3RXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gVGltZTogJHt0aGlzLmZvcm1hdFRpbWUobGFzdFdlZWsudG90YWxUaW1lU3BlbnQpfVxcblxcbmA7XG5cbiAgICBjb25zdCByZXZpZXdDaGFuZ2UgPSB0aGlzV2Vlay50b3RhbFJldmlld3MgLSBsYXN0V2Vlay50b3RhbFJldmlld3M7XG4gICAgY29uc3QgcmF0ZUNoYW5nZSA9ICh0aGlzV2Vlay5hdmVyYWdlQ29ycmVjdFJhdGUgLSBsYXN0V2Vlay5hdmVyYWdlQ29ycmVjdFJhdGUpICogMTAwO1xuICAgIFxuICAgIGlmIChyZXZpZXdDaGFuZ2UgPiAwKSB7XG4gICAgICByZXBvcnQgKz0gYFx1RDgzRFx1RENBQSBZb3UgcmV2aWV3ZWQgKioke3Jldmlld0NoYW5nZX0gbW9yZSBjYXJkcyoqIHRoaXMgd2VlayFcXG5gO1xuICAgIH1cbiAgICBpZiAocmF0ZUNoYW5nZSA+IDUpIHtcbiAgICAgIHJlcG9ydCArPSBgXHVEODNDXHVERjg5IFlvdXIgYWNjdXJhY3kgaW1wcm92ZWQgYnkgKioke3JhdGVDaGFuZ2UudG9GaXhlZCgxKX0lKiohXFxuYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5gO1xuXG4gICAgaWYgKGRpZmZpY3VsdENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlcG9ydCArPSBgIyMgXHUyNkEwXHVGRTBGIENhcmRzIE5lZWRpbmcgQXR0ZW50aW9uXFxuXFxuYDtcbiAgICAgIGRpZmZpY3VsdENhcmRzLmZvckVhY2goKGRjLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5FbW9qaSA9IHtcbiAgICAgICAgICAnY29uY2VwdCc6ICdcdUQ4M0VcdURERTAnLFxuICAgICAgICAgICdtZW1vcnknOiAnXHVEODNEXHVEQ0FEJyxcbiAgICAgICAgICAnY2FsY3VsYXRpb24nOiAnXHVEODNEXHVERDIyJyxcbiAgICAgICAgICAndW5rbm93bic6ICdcdTI3NTMnXG4gICAgICAgIH07XG4gICAgICAgIHJlcG9ydCArPSBgJHtpICsgMX0uICoqJHtkYy5jYXJkLmZyb250LnN1YnN0cmluZygwLCA1MCl9JHtkYy5jYXJkLmZyb250Lmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJ30qKlxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgICAgLSBFcnJvcnM6ICR7ZGMuZXJyb3JDb3VudH0gfCBQYXR0ZXJuOiAke3BhdHRlcm5FbW9qaVtkYy5wYXR0ZXJuXX0gJHtkYy5wYXR0ZXJufVxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgICAgLSBBdmcgVGltZTogJHtkYy5hdmVyYWdlVGltZS50b0ZpeGVkKDEpfXMgfCBEaWZmaWN1bHR5OiAkeyhkYy5jYXJkLnN0YXRzLmRpZmZpY3VsdHkgKiAxMDApLnRvRml4ZWQoMCl9JVxcblxcbmA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXBvcnQgKz0gYCMjIFx1RDgzRFx1RENEQSBEZWNrIE92ZXJ2aWV3XFxuXFxuYDtcbiAgICBkZWNrU3RhdHMuZm9yRWFjaChkZWNrID0+IHtcbiAgICAgIHJlcG9ydCArPSBgIyMjICR7ZGVjay5kZWNrTmFtZX1cXG5gO1xuICAgICAgcmVwb3J0ICs9IGAtIFRvdGFsOiAke2RlY2sudG90YWxDYXJkc30gfCBEdWU6ICR7ZGVjay5kdWVDYXJkc30gfCBOZXc6ICR7ZGVjay5uZXdDYXJkc31cXG5gO1xuICAgICAgcmVwb3J0ICs9IGAtIENvcnJlY3QgUmF0ZTogJHsoZGVjay5jb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lXFxuYDtcbiAgICAgIHJlcG9ydCArPSBgLSBBdmcgSW50ZXJ2YWw6ICR7ZGVjay5hdmVyYWdlSW50ZXJ2YWwudG9GaXhlZCgxKX0gZGF5c1xcblxcbmA7XG4gICAgfSk7XG5cbiAgICByZXBvcnQgKz0gYCMjIFx1RDgzRFx1RENBMSBSZWNvbW1lbmRhdGlvbnNcXG5cXG5gO1xuXG4gICAgLy8gXHU3NTFGXHU2MjEwXHU1RUZBXHU4QkFFXG4gICAgaWYgKGF2ZXJhZ2VDb3JyZWN0UmF0ZSA8IDAuNykge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1MjZBMSBZb3VyIGNvcnJlY3QgcmF0ZSBpcyBiZWxvdyA3MCUuIENvbnNpZGVyIHJldmlld2luZyBkaWZmaWN1bHQgY2FyZHMgbW9yZSBmcmVxdWVudGx5LlxcbmA7XG4gICAgfVxuICAgIGlmIChkaWZmaWN1bHRDYXJkcy5sZW5ndGggPiA1KSB7XG4gICAgICByZXBvcnQgKz0gYC0gXHVEODNEXHVEQ0Q2IFlvdSBoYXZlIG1hbnkgZGlmZmljdWx0IGNhcmRzLiBUcnkgYnJlYWtpbmcgY29tcGxleCBjb25jZXB0cyBpbnRvIHNtYWxsZXIgZmxhc2hjYXJkcy5cXG5gO1xuICAgIH1cbiAgICBpZiAodGhpc1dlZWsuc3RyZWFrID4gNykge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1RDgzQ1x1REY4OSBBbWF6aW5nIHN0cmVhayEgS2VlcCB1cCB0aGUgY29uc2lzdGVuY3khXFxuYDtcbiAgICB9XG4gICAgaWYgKHRvdGFsVGltZSAvIHRvdGFsUmV2aWV3ZWQgPiAzMCkge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1MjNGMVx1RkUwRiBBdmVyYWdlIHJldmlldyB0aW1lIGlzIGhpZ2guIENvbnNpZGVyIHNpbXBsaWZ5aW5nIGNhcmQgY29udGVudC5cXG5gO1xuICAgIH1cbiAgICBpZiAoZGVja1N0YXRzLnNvbWUoZCA9PiBkLmR1ZUNhcmRzID4gZC50b3RhbENhcmRzICogMC41KSkge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1RDgzRFx1RENDNSBTb21lIGRlY2tzIGhhdmUgbWFueSBvdmVyZHVlIGNhcmRzLiBGb2N1cyBvbiBjYXRjaGluZyB1cCB3aXRoIHRoZXNlLlxcbmA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcG9ydDtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQXZlcmFnZVJhdGUoc3RhdHM6IERhaWx5U3RhdHNbXSk6IG51bWJlciB7XG4gICAgY29uc3QgdG90YWwgPSBzdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5yZXZpZXdlZCwgMCk7XG4gICAgY29uc3QgY29ycmVjdCA9IHN0YXRzLnJlZHVjZSgoc3VtLCBzKSA9PiBzdW0gKyBzLmNvcnJlY3RDb3VudCwgMCk7XG4gICAgcmV0dXJuIHRvdGFsID4gMCA/IGNvcnJlY3QgLyB0b3RhbCA6IDA7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdFRpbWUoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7XG4gICAgXG4gICAgaWYgKGhvdXJzID4gMCkge1xuICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzfW1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7bWludXRlc31tYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTcwRURcdTUyOUJcdTU2RkVcdTY1NzBcdTYzNkVcdUZGMDhcdTc1MjhcdTRFOEVcdTY1RTVcdTUzODZcdTg5QzZcdTU2RkVcdUZGMDlcbiAgICovXG4gIGdldEhlYXRtYXBEYXRhKGRheXM6IG51bWJlciA9IDkwKTogeyBkYXRlOiBzdHJpbmc7IGNvdW50OiBudW1iZXI7IGludGVuc2l0eTogbnVtYmVyIH1bXSB7XG4gICAgY29uc3QgZGFpbHlTdGF0cyA9IHRoaXMuZ2V0RGFpbHlTdGF0cyhkYXlzKTtcbiAgICBjb25zdCBtYXhSZXZpZXdzID0gTWF0aC5tYXgoLi4uZGFpbHlTdGF0cy5tYXAocyA9PiBzLnJldmlld2VkKSk7XG5cbiAgICByZXR1cm4gZGFpbHlTdGF0cy5tYXAoc3RhdCA9PiAoe1xuICAgICAgZGF0ZTogc3RhdC5kYXRlLFxuICAgICAgY291bnQ6IHN0YXQucmV2aWV3ZWQsXG4gICAgICBpbnRlbnNpdHk6IG1heFJldmlld3MgPiAwID8gc3RhdC5yZXZpZXdlZCAvIG1heFJldmlld3MgOiAwXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICogXHU2RTA1XHU5NjY0XHU2MjQwXHU2NzA5XHU3RURGXHU4QkExXHU2NTcwXHU2MzZFXG4gKi9cbmFzeW5jIGNsZWFyQWxsU3RhdHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIFx1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gPSBbXTtcbiAgXG4gIC8vIFx1OTFDRFx1N0Y2RVx1NjI0MFx1NjcwOVx1NTM2MVx1NzI0N1x1NzY4NFx1N0VERlx1OEJBMVx1NEZFMVx1NjA2RlxuICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICBmb3IgKGNvbnN0IGNhcmQgb2YgY2FyZHMpIHtcbiAgICBjYXJkLnN0YXRzID0ge1xuICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgY29ycmVjdENvdW50OiAwLFxuICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICBsYXN0UmV2aWV3OiAwLFxuICAgICAgZGlmZmljdWx0eTogMC4zXG4gICAgfTtcbiAgICBjYXJkLnNjaGVkdWxpbmcgPSB7XG4gICAgICBpbnRlcnZhbDogMCxcbiAgICAgIGVhc2U6IDIuNSwgIC8vIFx1NEY3Rlx1NzUyOCBlYXNlIFx1ODAwQ1x1NEUwRFx1NjYyRiBlYXNlRmFjdG9yXG4gICAgICBkdWU6IERhdGUubm93KCksXG4gICAgICBsYXBzZXM6IDAsXG4gICAgICByZXBzOiAwLFxuICAgICAgc3RhdGU6ICduZXcnXG4gICAgfTtcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnVwZGF0ZUNhcmQoY2FyZCk7XG4gIH1cbiAgXG4gIC8vIFx1NEY3Rlx1NzUyOCBkYXRhTWFuYWdlciBcdTRGRERcdTVCNThcbiAgYXdhaXQgdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuc2F2ZSgpO1xufVxuXG4vKipcbiAqIFx1NkUwNVx1OTY2NFx1NjMwN1x1NUI5QVx1NTkyOVx1NjU3MFx1NEU0Qlx1NTI0RFx1NzY4NFx1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuICovXG5hc3luYyBjbGVhclN0YXRzQmVmb3JlRGF0ZShkYXlzQWdvOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKCk7XG4gIGN1dG9mZkRhdGUuc2V0RGF0ZShjdXRvZmZEYXRlLmdldERhdGUoKSAtIGRheXNBZ28pO1xuICBjb25zdCBjdXRvZmZUaW1lc3RhbXAgPSBjdXRvZmZEYXRlLmdldFRpbWUoKTtcbiAgXG4gIC8vIFx1NTNFQVx1NEZERFx1NzU1OVx1NjMwN1x1NUI5QVx1NjVFNVx1NjcxRlx1NEU0Qlx1NTQwRVx1NzY4NFx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gPSBsb2dzLmZpbHRlcihcbiAgICBsb2cgPT4gbG9nLnRpbWVzdGFtcCA+PSBjdXRvZmZUaW1lc3RhbXBcbiAgKTtcbiAgXG4gIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbn1cblxuLyoqXG4gKiBcdTZFMDVcdTk2NjRcdTcyNzlcdTVCOUFcdTUzNjFcdTdFQzRcdTc2ODRcdTdFREZcdThCQTFcdTY1NzBcdTYzNkVcbiAqL1xuYXN5bmMgY2xlYXJEZWNrU3RhdHMoZGVja05hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpXG4gICAgLmZpbHRlcihjYXJkID0+IGNhcmQuZGVjayA9PT0gZGVja05hbWUpO1xuICBcbiAgZm9yIChjb25zdCBjYXJkIG9mIGNhcmRzKSB7XG4gICAgY2FyZC5zdGF0cyA9IHtcbiAgICAgIHRvdGFsUmV2aWV3czogMCxcbiAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgbGFzdFJldmlldzogMCxcbiAgICAgIGRpZmZpY3VsdHk6IDAuM1xuICAgIH07XG4gICAgY2FyZC5zY2hlZHVsaW5nID0ge1xuICAgICAgaW50ZXJ2YWw6IDAsXG4gICAgICBlYXNlOiAyLjUsICAvLyBcdTRGN0ZcdTc1MjggZWFzZVxuICAgICAgZHVlOiBEYXRlLm5vdygpLFxuICAgICAgbGFwc2VzOiAwLFxuICAgICAgcmVwczogMCxcbiAgICAgIHN0YXRlOiAnbmV3J1xuICAgIH07XG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKGNhcmQpO1xuICB9XG4gIFxuICAvLyBcdTZFMDVcdTk2NjRcdThCRTVcdTUzNjFcdTdFQzRcdTc2ODRcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgY29uc3QgY2FyZElkcyA9IG5ldyBTZXQoY2FyZHMubWFwKGMgPT4gYy5pZCkpO1xuICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gPSBsb2dzLmZpbHRlcihcbiAgICBsb2cgPT4gIWNhcmRJZHMuaGFzKGxvZy5mbGFzaGNhcmRJZClcbiAgKTtcbiAgXG4gIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbn1cbn1cblxuXG4iLCAiLy8gZGF0YSBtYW5hZ2VyLnRzXG5pbXBvcnQgeyBBcHAsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudFVuaXQge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiAnaGlnaGxpZ2h0JyB8ICdib2xkJyB8ICd0YWcnIHwgJ2N1c3RvbScgfCAnUUEnIHwgJ2Nsb3plJ3wndGV4dCc7IC8vIFx1NkRGQlx1NTJBMCBxYSBcdTU0OEMgY2xvemUgXHU3QzdCXHU1NzhCXG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgYW5zd2VyPzogc3RyaW5nOyAvLyBcdTc1MjhcdTRFOEUgUUEgXHU1MzYxXHU3MjQ3XHU3Njg0XHU3QjU0XHU2ODQ4XG4gIGZ1bGxDb250ZXh0Pzogc3RyaW5nO1xuICBzb3VyY2U6IHtcbiAgICBmaWxlOiBzdHJpbmc7XG4gICAgcG9zaXRpb246IHtcbiAgICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgICBlbmQ6IG51bWJlcjtcbiAgICAgIGxpbmU6IG51bWJlcjtcbiAgICB9O1xuICAgIGJsb2NrSWQ/OiBzdHJpbmc7XG4gICAgaGVhZGluZz86IHN0cmluZztcbiAgICBhbmNob3JMaW5rOiBzdHJpbmc7XG4gIH07XG4gIGV4dHJhY3RSdWxlOiB7XG4gICAgcnVsZUlkOiBzdHJpbmc7XG4gICAgcnVsZU5hbWU6IHN0cmluZztcbiAgICBleHRyYWN0ZWRCeTogJ2F1dG8nIHwgJ21hbnVhbCc7XG4gIH07XG4gIG1ldGFkYXRhOiB7XG4gICAgY3JlYXRlZEF0OiBudW1iZXI7XG4gICAgdXBkYXRlZEF0OiBudW1iZXI7XG4gICAgdGFnczogc3RyaW5nW107XG4gICAgY29sb3I/OiBzdHJpbmc7XG4gICAgY3VzdG9tRGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIH07XG4gIGFubm90YXRpb25JZD86IHN0cmluZztcbiAgZmxhc2hjYXJkSWRzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBkYXRhRm9sZGVyOiBzdHJpbmc7XG4gIHByaXZhdGUgY29udGVudFVuaXRzOiBNYXA8c3RyaW5nLCBDb250ZW50VW5pdD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZmlsZUluZGV4OiBNYXA8c3RyaW5nLCBzdHJpbmdbXT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgY2FjaGU6IE1hcDxzdHJpbmcsIHsgZGF0YTogQ29udGVudFVuaXQ7IHRpbWVzdGFtcDogbnVtYmVyIH0+O1xuICBwcml2YXRlIENBQ0hFX1RUTCA9IDUgKiA2MCAqIDEwMDA7IC8vIDVcdTUyMDZcdTk0OUZcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpblxuICApIHtcbiAgICB0aGlzLmRhdGFGb2xkZXIgPSBgJHt0aGlzLmFwcC52YXVsdC5jb25maWdEaXJ9L3BsdWdpbnMvbGVhcm5pbmctc3lzdGVtL2RhdGFgO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBcdTc4NkVcdTRGRERcdTY1NzBcdTYzNkVcdTY1ODdcdTRFRjZcdTU5MzlcdTVCNThcdTU3MjhcbiAgICBhd2FpdCB0aGlzLmVuc3VyZURhdGFGb2xkZXIoKTtcbiAgICBcbiAgICAvLyBcdTUyQTBcdThGN0RcdTczQjBcdTY3MDlcdTY1NzBcdTYzNkVcbiAgICBhd2FpdCB0aGlzLmxvYWREYXRhKCk7XG4gICAgYXdhaXQgdGhpcy5sb2FkRGVsZXRlSGlzdG9yeSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBlbnN1cmVEYXRhRm9sZGVyKCkge1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NEUzQlx1NjU3MFx1NjM2RVx1NjU4N1x1NEVGNlx1NTkzOVxuICAgIGlmICghKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHRoaXMuZGF0YUZvbGRlcikpKSB7XG4gICAgICBhd2FpdCBhZGFwdGVyLm1rZGlyKHRoaXMuZGF0YUZvbGRlcik7XG4gICAgfVxuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU1QjUwXHU2NTg3XHU0RUY2XHU1OTM5XG4gICAgY29uc3Qgc3ViZm9sZGVycyA9IFsnaW5kZXhlcycsICdjb25maWcnLCAnY2FjaGUnXTtcbiAgICBmb3IgKGNvbnN0IGZvbGRlciBvZiBzdWJmb2xkZXJzKSB7XG4gICAgICBjb25zdCBwYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS8ke2ZvbGRlcn1gO1xuICAgICAgaWYgKCEoYXdhaXQgYWRhcHRlci5leGlzdHMocGF0aCkpKSB7XG4gICAgICAgIGF3YWl0IGFkYXB0ZXIubWtkaXIocGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkRGF0YSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudFBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2NvbnRlbnQtdW5pdHMuanNvbmA7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKGNvbnRlbnRQYXRoKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgYWRhcHRlci5yZWFkKGNvbnRlbnRQYXRoKTtcbiAgICAgICAgY29uc3QgdW5pdHM6IENvbnRlbnRVbml0W10gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCB1bml0IG9mIHVuaXRzKSB7XG4gICAgICAgICAgdGhpcy5jb250ZW50VW5pdHMuc2V0KHVuaXQuaWQsIHVuaXQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFx1Njc4NFx1NUVGQVx1NjU4N1x1NEVGNlx1N0QyMlx1NUYxNVxuICAgICAgICAgIGlmICghdGhpcy5maWxlSW5kZXguaGFzKHVuaXQuc291cmNlLmZpbGUpKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGVJbmRleC5zZXQodW5pdC5zb3VyY2UuZmlsZSwgW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmZpbGVJbmRleC5nZXQodW5pdC5zb3VyY2UuZmlsZSkhLnB1c2godW5pdC5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBkYXRhOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzYXZlQ29udGVudFVuaXQodW5pdDogQ29udGVudFVuaXQpIHtcbiAgICB0aGlzLmNvbnRlbnRVbml0cy5zZXQodW5pdC5pZCwgdW5pdCk7XG4gICAgXG4gICAgLy8gXHU2NkY0XHU2NUIwXHU2NTg3XHU0RUY2XHU3RDIyXHU1RjE1XG4gICAgaWYgKCF0aGlzLmZpbGVJbmRleC5oYXModW5pdC5zb3VyY2UuZmlsZSkpIHtcbiAgICAgIHRoaXMuZmlsZUluZGV4LnNldCh1bml0LnNvdXJjZS5maWxlLCBbXSk7XG4gICAgfVxuICAgIGlmICghdGhpcy5maWxlSW5kZXguZ2V0KHVuaXQuc291cmNlLmZpbGUpIS5pbmNsdWRlcyh1bml0LmlkKSkge1xuICAgICAgdGhpcy5maWxlSW5kZXguZ2V0KHVuaXQuc291cmNlLmZpbGUpIS5wdXNoKHVuaXQuaWQpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICB9XG5cbiAgYXN5bmMgc2F2ZUNvbnRlbnRVbml0cyh1bml0czogQ29udGVudFVuaXRbXSkge1xuICAgIGZvciAoY29uc3QgdW5pdCBvZiB1bml0cykge1xuICAgICAgdGhpcy5jb250ZW50VW5pdHMuc2V0KHVuaXQuaWQsIHVuaXQpO1xuICAgICAgXG4gICAgICBpZiAoIXRoaXMuZmlsZUluZGV4Lmhhcyh1bml0LnNvdXJjZS5maWxlKSkge1xuICAgICAgICB0aGlzLmZpbGVJbmRleC5zZXQodW5pdC5zb3VyY2UuZmlsZSwgW10pO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmZpbGVJbmRleC5nZXQodW5pdC5zb3VyY2UuZmlsZSkhLmluY2x1ZGVzKHVuaXQuaWQpKSB7XG4gICAgICAgIHRoaXMuZmlsZUluZGV4LmdldCh1bml0LnNvdXJjZS5maWxlKSEucHVzaCh1bml0LmlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnBlcnNpc3QoKTtcbiAgfVxuXG4gIGdldENvbnRlbnRVbml0KGlkOiBzdHJpbmcpOiBDb250ZW50VW5pdCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFVuaXRzLmdldChpZCk7XG4gIH1cblxuICBnZXRDb250ZW50VW5pdHNCeUZpbGUoZmlsZVBhdGg6IHN0cmluZyk6IENvbnRlbnRVbml0W10ge1xuICAgIGNvbnN0IGlkcyA9IHRoaXMuZmlsZUluZGV4LmdldChmaWxlUGF0aCkgfHwgW107XG4gICAgcmV0dXJuIGlkcy5tYXAoaWQgPT4gdGhpcy5jb250ZW50VW5pdHMuZ2V0KGlkKSkuZmlsdGVyKEJvb2xlYW4pIGFzIENvbnRlbnRVbml0W107XG4gIH1cblxuICBnZXRDb250ZW50VW5pdHNCeVR5cGUodHlwZTogQ29udGVudFVuaXRbJ3R5cGUnXSk6IENvbnRlbnRVbml0W10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29udGVudFVuaXRzLnZhbHVlcygpKS5maWx0ZXIodW5pdCA9PiB1bml0LnR5cGUgPT09IHR5cGUpO1xuICB9XG5cbiAgZ2V0QWxsQ29udGVudFVuaXRzKHBhZ2U/OiBudW1iZXIsIHNpemU/OiBudW1iZXIpOiBDb250ZW50VW5pdFtdIHtcbiAgICBjb25zdCBhbGwgPSBBcnJheS5mcm9tKHRoaXMuY29udGVudFVuaXRzLnZhbHVlcygpKTtcbiAgICBpZiAoIXBhZ2UgfHwgIXNpemUpIHJldHVybiBhbGw7XG4gICAgcmV0dXJuIGFsbC5zbGljZShwYWdlICogc2l6ZSwgKHBhZ2UgKyAxKSAqIHNpemUpO1xuICB9XG5cblxuICBcbiAgLy8gXHU2NzAwXHU4RkQxXHU1MjIwXHU5NjY0XG5wcml2YXRlIGRlbGV0ZWRVbml0czogQXJyYXk8e1xuICB0eXBlOiAnbm90ZSc7XG4gIGlkOiBzdHJpbmc7XG4gIHVuaXQ6IENvbnRlbnRVbml0O1xuICBkZWxldGVkQXQ6IG51bWJlcjtcbiAgZGVsZXRlZEJ5OiBzdHJpbmc7XG4gIGFzc29jaWF0ZWRDYXJkSWRzOiBzdHJpbmdbXTtcbn0+ID0gW107XG5cbmFzeW5jIGRlbGV0ZUNvbnRlbnRVbml0KGlkOiBzdHJpbmcsIHJlYXNvbjogJ3VzZXItZGVsZXRlZCcgfCAnZmlsZS1kZWxldGVkJyA9ICd1c2VyLWRlbGV0ZWQnKSB7XG4gIGNvbnN0IHVuaXQgPSB0aGlzLmNvbnRlbnRVbml0cy5nZXQoaWQpO1xuICBpZiAodW5pdCkge1xuICAgIFxuICAgIC8vIFx1MjcwNSBcdTY1RTBcdThCQkEgZmxhc2hjYXJkSWRzIFx1NjYyRlx1NTQyNlx1NEUzQVx1N0E3QVx1RkYwQ1x1OTBGRFx1NTJBOFx1NjAwMVx1NjdFNVx1NjI3RVx1NEUwMFx1NkIyMVx1RkYwOFx1OTYzMlx1NkI2Mlx1NjU3MFx1NjM2RVx1NEUwRFx1NTQwQ1x1NkI2NVx1RkYwOVxuICAgIGNvbnN0IGFsbENhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgY29uc3QgYXNzb2NpYXRlZENhcmRJZHMgPSBhbGxDYXJkc1xuICAgICAgLmZpbHRlcihjYXJkID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBjYXJkLnNvdXJjZUNvbnRlbnRJZCA9PT0gaWQ7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBhc3NvY2lhdGVkIGZsYXNoY2FyZDogJHtjYXJkLmlkfSBmb3IgdW5pdCAke2lkfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pXG4gICAgICAubWFwKGNhcmQgPT4gY2FyZC5pZCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYERlbGV0aW5nIHVuaXQgJHtpZH0gd2l0aCAke2Fzc29jaWF0ZWRDYXJkSWRzLmxlbmd0aH0gYXNzb2NpYXRlZCBmbGFzaGNhcmRzYCk7XG4gICAgXG4gICAgLy8gXHUyQjUwXHUyQjUwXHUyQjUwIFx1NTE3M1x1OTUyRVx1NEZFRVx1NjUzOVx1RkYxQVx1NUI5RVx1OTY0NVx1NTIyMFx1OTY2NFx1NjI0MFx1NjcwOVx1NTE3M1x1ODA1NFx1NzY4NFx1OTVFQVx1NTM2MVxuICAgIGZvciAoY29uc3QgY2FyZElkIG9mIGFzc29jaWF0ZWRDYXJkSWRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZElkLCByZWFzb24pO1xuICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgZmxhc2hjYXJkICR7Y2FyZElkfWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSBmbGFzaGNhcmQgJHtjYXJkSWR9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gXHUyQjUwXHUyQjUwXHUyQjUwIFx1NTIyMFx1OTY2NFx1NjI3OVx1NkNFOFx1RkYwOFx1NTk4Mlx1Njc5Q1x1NjcwOVx1RkYwOVxuICAgIGlmICh1bml0LmFubm90YXRpb25JZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbih1bml0LmFubm90YXRpb25JZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBEZWxldGVkIGFubm90YXRpb24gJHt1bml0LmFubm90YXRpb25JZH1gKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBkZWxldGUgYW5ub3RhdGlvbiAke3VuaXQuYW5ub3RhdGlvbklkfTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFx1RDgzRFx1RENERCBcdTRGRERcdTVCNThcdTUyMzBcdTUyMjBcdTk2NjRcdTUzODZcdTUzRjJcbiAgICB0aGlzLmRlbGV0ZWRVbml0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICdub3RlJyxcbiAgICAgIGlkOiB1bml0LmlkLFxuICAgICAgdW5pdDogeyAuLi51bml0IH0sXG4gICAgICBkZWxldGVkQXQ6IERhdGUubm93KCksXG4gICAgICBkZWxldGVkQnk6IHJlYXNvbixcbiAgICAgIGFzc29jaWF0ZWRDYXJkSWRzOiBhc3NvY2lhdGVkQ2FyZElkc1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1NTNFQVx1NEZERFx1NzU1OTdcdTU5MjlcdTUxODVcdTc2ODRcdThCQjBcdTVGNTVcbiAgICBjb25zdCBzZXZlbkRheXNBZ28gPSBEYXRlLm5vdygpIC0gKDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICB0aGlzLmRlbGV0ZWRVbml0cyA9IHRoaXMuZGVsZXRlZFVuaXRzLmZpbHRlcihkID0+IGQuZGVsZXRlZEF0ID4gc2V2ZW5EYXlzQWdvKTtcbiAgICBcbiAgICB0aGlzLmNvbnRlbnRVbml0cy5kZWxldGUoaWQpO1xuICAgIFxuICAgIC8vIFx1NjZGNFx1NjVCMFx1NjU4N1x1NEVGNlx1N0QyMlx1NUYxNVxuICAgIGNvbnN0IGZpbGVVbml0cyA9IHRoaXMuZmlsZUluZGV4LmdldCh1bml0LnNvdXJjZS5maWxlKTtcbiAgICBpZiAoZmlsZVVuaXRzKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGZpbGVVbml0cy5pbmRleE9mKGlkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGZpbGVVbml0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICAgIGF3YWl0IHRoaXMucGVyc2lzdERlbGV0ZUhpc3RvcnkoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgVW5pdCAke2lkfSBhbmQgYWxsIGRlcGVuZGVuY2llcyBkZWxldGVkIHN1Y2Nlc3NmdWxseWApO1xuICB9XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1ODNCN1x1NTNENlx1NjcwMFx1OEZEMVx1NTIyMFx1OTY2NFx1NzY4NFx1N0IxNFx1OEJCMFxuZ2V0UmVjZW50bHlEZWxldGVkVW5pdHMoZGF5czogbnVtYmVyID0gNyk6IEFycmF5PHtcbiAgdHlwZTogJ25vdGUnO1xuICBpZDogc3RyaW5nO1xuICB1bml0OiBDb250ZW50VW5pdDtcbiAgZGVsZXRlZEF0OiBudW1iZXI7XG4gIGRlbGV0ZWRCeTogc3RyaW5nO1xuICBhc3NvY2lhdGVkQ2FyZElkczogc3RyaW5nW107XG59PiB7XG4gIGNvbnN0IGN1dG9mZiA9IERhdGUubm93KCkgLSAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICByZXR1cm4gdGhpcy5kZWxldGVkVW5pdHMuZmlsdGVyKGQgPT4gZC5kZWxldGVkQXQgPiBjdXRvZmYpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuZGVsZXRlZEF0IC0gYS5kZWxldGVkQXQpOyAvLyBcdTYzMDlcdTY1RjZcdTk1RjRcdTUwMTJcdTVFOEZcbn1cblxuLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU2MDYyXHU1OTBEXHU3QjE0XHU4QkIwXG5hc3luYyByZXN0b3JlQ29udGVudFVuaXQoZGVsZXRlZEl0ZW06IHR5cGVvZiB0aGlzLmRlbGV0ZWRVbml0c1swXSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NURGMlx1NUI1OFx1NTcyOFxuICAgIGlmICh0aGlzLmNvbnRlbnRVbml0cy5oYXMoZGVsZXRlZEl0ZW0udW5pdC5pZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2MDYyXHU1OTBEXHU3QjE0XHU4QkIwXG4gICAgdGhpcy5jb250ZW50VW5pdHMuc2V0KGRlbGV0ZWRJdGVtLnVuaXQuaWQsIGRlbGV0ZWRJdGVtLnVuaXQpO1xuICAgIFxuICAgIC8vIFx1NjA2Mlx1NTkwRFx1NjU4N1x1NEVGNlx1N0QyMlx1NUYxNVxuICAgIGlmICghdGhpcy5maWxlSW5kZXguaGFzKGRlbGV0ZWRJdGVtLnVuaXQuc291cmNlLmZpbGUpKSB7XG4gICAgICB0aGlzLmZpbGVJbmRleC5zZXQoZGVsZXRlZEl0ZW0udW5pdC5zb3VyY2UuZmlsZSwgW10pO1xuICAgIH1cbiAgICB0aGlzLmZpbGVJbmRleC5nZXQoZGVsZXRlZEl0ZW0udW5pdC5zb3VyY2UuZmlsZSkhLnB1c2goZGVsZXRlZEl0ZW0udW5pdC5pZCk7XG4gICAgXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gICAgXG4gICAgLy8gXHU0RUNFXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXHU0RTJEXHU3OUZCXHU5NjY0XG4gICAgdGhpcy5kZWxldGVkVW5pdHMgPSB0aGlzLmRlbGV0ZWRVbml0cy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBkZWxldGVkSXRlbS5pZCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0RGVsZXRlSGlzdG9yeSgpO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc3RvcmluZyBjb250ZW50IHVuaXQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBcdTY1QjBcdTU4OUVcdUZGMUFcdTZDMzhcdTRFNDVcdTUyMjBcdTk2NjRcdTdCMTRcdThCQjBcdUZGMDhcdTRFQ0VcdTUzODZcdTUzRjJcdTRFMkRcdTc5RkJcdTk2NjRcdUZGMDlcbmFzeW5jIHBlcm1hbmVudGx5RGVsZXRlQ29udGVudFVuaXQoZGVsZXRlZEl0ZW1JZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgdGhpcy5kZWxldGVkVW5pdHMgPSB0aGlzLmRlbGV0ZWRVbml0cy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBkZWxldGVkSXRlbUlkKTtcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3REZWxldGVIaXN0b3J5KCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGVybWFuZW50bHkgZGVsZXRpbmcgY29udGVudCB1bml0OicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU0RTAwXHU5NTJFXHU2RTA1XHU3QTdBXHU3QjE0XHU4QkIwXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXG5hc3luYyBjbGVhckRlbGV0ZUhpc3RvcnkoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgY29uc3QgY291bnQgPSB0aGlzLmRlbGV0ZWRVbml0cy5sZW5ndGg7XG4gIHRoaXMuZGVsZXRlZFVuaXRzID0gW107XG4gIGF3YWl0IHRoaXMucGVyc2lzdERlbGV0ZUhpc3RvcnkoKTtcbiAgcmV0dXJuIGNvdW50O1xufVxuXG5wcml2YXRlIGFzeW5jIHBlcnNpc3REZWxldGVIaXN0b3J5KCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2RlbGV0ZWQtdW5pdHMuanNvbmA7XG4gICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZGVsZXRlZFVuaXRzLCBudWxsLCAyKTtcbiAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGgsIGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBlcnNpc3RpbmcgZGVsZXRlIGhpc3Rvcnk6JywgZXJyb3IpO1xuICB9XG59XG5cbnByaXZhdGUgYXN5bmMgbG9hZERlbGV0ZUhpc3RvcnkoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vZGVsZXRlZC11bml0cy5qc29uYDtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgIGlmIChhd2FpdCBhZGFwdGVyLmV4aXN0cyhwYXRoKSkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFkYXB0ZXIucmVhZChwYXRoKTtcbiAgICAgIHRoaXMuZGVsZXRlZFVuaXRzID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIFxuICAgICAgLy8gXHU2RTA1XHU3NDA2XHU4RDg1XHU4RkM3N1x1NTkyOVx1NzY4NFx1OEJCMFx1NUY1NVxuICAgICAgY29uc3Qgc2V2ZW5EYXlzQWdvID0gRGF0ZS5ub3coKSAtICg3ICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgICB0aGlzLmRlbGV0ZWRVbml0cyA9IHRoaXMuZGVsZXRlZFVuaXRzLmZpbHRlcihkID0+IGQuZGVsZXRlZEF0ID4gc2V2ZW5EYXlzQWdvKTtcbiAgICAgIGF3YWl0IHRoaXMucGVyc2lzdERlbGV0ZUhpc3RvcnkoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBkZWxldGUgaGlzdG9yeTonLCBlcnJvcik7XG4gIH1cbn1cblxuXG4gIFxuXG5cblxuICAvKiogXHU1QkY5XHU1OTE2XHU3RURGXHU0RTAwXHU0RkREXHU1QjU4XHU1MTY1XHU1M0UzICovXG4gIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cbiAgXG4gIHByaXZhdGUgYXN5bmMgcGVyc2lzdCgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudFBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2NvbnRlbnQtdW5pdHMuanNvbmA7XG4gICAgICBjb25zdCB1bml0cyA9IEFycmF5LmZyb20odGhpcy5jb250ZW50VW5pdHMudmFsdWVzKCkpO1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHVuaXRzLCBudWxsLCAyKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShjb250ZW50UGF0aCwgZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFx1NEZERFx1NUI1OFx1N0QyMlx1NUYxNVxuICAgICAgY29uc3QgaW5kZXhQYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9pbmRleGVzL2ZpbGUtaW5kZXguanNvbmA7XG4gICAgICBjb25zdCBpbmRleERhdGEgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuZmlsZUluZGV4KSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoaW5kZXhQYXRoLCBpbmRleERhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwZXJzaXN0aW5nIGRhdGE6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuICAgIC8vIFx1RDgzRFx1REQyNyBcdTRGMThcdTUzMTYgOiBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUNcdTRGN0ZcdTc1MjhcdTRFOEJcdTUyQTFcbiAgICBhc3luYyB0cmFuc2FjdGlvbihvcGVyYXRpb25zOiAoKSA9PiBQcm9taXNlPHZvaWQ+KSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBvcGVyYXRpb25zKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gXHU1NkRFXHU2RURBXHU5MDNCXHU4RjkxXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gXG59IiwgIi8vIGV4dHJhY3Rpb24gZW5naW5lIHdpdGggZGVkdXBsaWNhdGlvblxuaW1wb3J0IHsgQXBwLCBURmlsZSwgTm90aWNlLCBFZGl0b3IsIE1lbnUgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBEYXRhTWFuYWdlciwgQ29udGVudFVuaXQgfSBmcm9tICcuL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEZsYXNoY2FyZE1hbmFnZXIgfSBmcm9tICcuL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgU2lkZWJhck92ZXJ2aWV3VmlldyB9IGZyb20gJy4uL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldyc7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICdzcmMvbWFpbic7XG5cbmV4cG9ydCBjbGFzcyBFeHRyYWN0aW9uRW5naW5lIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHA6IEFwcCxcbiAgICBwcml2YXRlIGRhdGFNYW5hZ2VyOiBEYXRhTWFuYWdlcixcbiAgICBwcml2YXRlIGZsYXNoY2FyZE1hbmFnZXI6IEZsYXNoY2FyZE1hbmFnZXIgLFxuICAgIHByaXZhdGUgcGx1Z2luPzogTGVhcm5pbmdTeXN0ZW1QbHVnaW4gXG4gICkge31cblxuICBcbiAgLyoqXG4gICAqIFx1NkNFOFx1NTE4Q1x1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVxuICAgKi9cbiAgcmVnaXN0ZXJDb250ZXh0TWVudShtZW51OiBNZW51LCBlZGl0b3I6IEVkaXRvciwgZmlsZTogVEZpbGUpIHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWxlY3Rpb24pIHJldHVybjtcblxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUoJ1x1RDgzRFx1RENERCBFeHRyYWN0IGFzIHRleHQgb25seScpXG4gICAgICAgIC5zZXRJY29uKCdmaWxlLXRleHQnKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5leHRyYWN0U2VsZWN0ZWRUZXh0KGVkaXRvciwgZmlsZSwgJ3RleHQnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdTI3NTMgRXh0cmFjdCBhcyBRQSBjYXJkJylcbiAgICAgICAgLnNldEljb24oJ2hlbHAtY2lyY2xlJylcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZXh0cmFjdFNlbGVjdGVkVGV4dChlZGl0b3IsIGZpbGUsICdRQScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUoJ1x1MjcwRlx1RkUwRiBFeHRyYWN0IGFzIENsb3plIGNhcmQnKVxuICAgICAgICAuc2V0SWNvbignaGlnaGxpZ2h0ZXInKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5leHRyYWN0U2VsZWN0ZWRUZXh0KGVkaXRvciwgZmlsZSwgJ2Nsb3plJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgXG4gIC8qKlxuICAgKiBcdTYzRDBcdTUzRDZcdTkwMDlcdTRFMkRcdTc2ODRcdTY1ODdcdTY3MkNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdFNlbGVjdGVkVGV4dChcbiAgICBlZGl0b3I6IEVkaXRvciwgXG4gICAgZmlsZTogVEZpbGUsIFxuICAgIGV4dHJhY3RUeXBlOiAndGV4dCcgfCAnUUEnIHwgJ2Nsb3plJ1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIG5ldyBOb3RpY2UoJ05vIHRleHQgc2VsZWN0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCdmcm9tJyk7XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXRGcm9tQ3Vyc29yKGNvbnRlbnQsIGN1cnNvci5saW5lLCBjdXJzb3IuY2gpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCB1bml0OiBDb250ZW50VW5pdDtcblxuICAgICAgc3dpdGNoIChleHRyYWN0VHlwZSkge1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICB1bml0ID0gdGhpcy5jcmVhdGVUZXh0VW5pdChmaWxlLCBzZWxlY3Rpb24sIG9mZnNldCwgY29udGVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1FBJzpcbiAgICAgICAgICB1bml0ID0gdGhpcy5jcmVhdGVRQVVuaXQoZmlsZSwgc2VsZWN0aW9uLCBvZmZzZXQsIGNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbG96ZSc6XG4gICAgICAgICAgdW5pdCA9IHRoaXMuY3JlYXRlQ2xvemVVbml0KGZpbGUsIHNlbGVjdGlvbiwgb2Zmc2V0LCBjb250ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU5MUNEXHU1OTBEXG4gICAgICBjb25zdCBleGlzdGluZ1VuaXQgPSBhd2FpdCB0aGlzLmZpbmREdXBsaWNhdGVVbml0KHVuaXQpO1xuICAgICAgaWYgKGV4aXN0aW5nVW5pdCkge1xuICAgICAgICBuZXcgTm90aWNlKGBcdTI2QTBcdUZFMEYgVGhpcyBjb250ZW50IHdhcyBhbHJlYWR5IGV4dHJhY3RlZGApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIDEuIFx1NTE0OFx1NEZERFx1NUI1OCBDb250ZW50VW5pdFxuICAgICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5zYXZlQ29udGVudFVuaXRzKFt1bml0XSk7XG4gICAgICBcbiAgICAgIC8vIDIuIFx1NTk4Mlx1Njc5Q1x1NjYyRiBRQSBcdTYyMTYgY2xvemVcdUZGMENcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcbiAgICAgIGlmIChleHRyYWN0VHlwZSA9PT0gJ1FBJyB8fCBleHRyYWN0VHlwZSA9PT0gJ2Nsb3plJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNhcmRUeXBlID0gZXh0cmFjdFR5cGUgPT09ICdRQScgPyAncWEnIDogJ2Nsb3plJztcbiAgICAgICAgICBjb25zdCBmbGFzaGNhcmQgPSBhd2FpdCB0aGlzLmZsYXNoY2FyZE1hbmFnZXIuY3JlYXRlRmxhc2hjYXJkRnJvbVVuaXQodW5pdCwge1xuICAgICAgICAgICAgY2FyZFR5cGU6IGNhcmRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBcdTZERkJcdTUyQTBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdThDMDNcdTc1MjhcbiAgICBpZiAodGhpcy5wbHVnaW4/LnVubG9ja1N5c3RlbSkge1xuICAgICAgaWYgKGV4dHJhY3RUeXBlID09PSAnUUEnKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbk5vdGVFeHRyYWN0ZWRBc1FBKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25Ob3RlRXh0cmFjdGVkQXNDbG96ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgICAgICAgIC8vIDMuIFx1NTE4RFx1NkIyMVx1NEZERFx1NUI1OCB1bml0XHVGRjA4XHU2NkY0XHU2NUIwIGZsYXNoY2FyZElkc1x1RkYwOVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyhbdW5pdF0pO1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tleHRyYWN0U2VsZWN0ZWRUZXh0XSBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAvLyBcdUQ4M0NcdURGQUYgXHU3RUFGXHU2NTg3XHU2NzJDXHU2M0QwXHU1M0Q2XHU0RTVGXHU3Qjk3XHU0RjVDXHU2M0QwXHU1M0Q2XHU0RUZCXHU1MkExXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbj8udW5sb2NrU3lzdGVtKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLm9uTm90ZUV4dHJhY3RlZEFzVGV4dCgpOyBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0eXBlTmFtZXMgPSB7XG4gICAgICAgIHRleHQ6ICd0ZXh0JyxcbiAgICAgICAgUUE6ICdRQSBjYXJkJyxcbiAgICAgICAgY2xvemU6ICdjbG96ZSBjYXJkJ1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZShgXHUyNzA1IEV4dHJhY3RlZCBhcyAke3R5cGVOYW1lc1tleHRyYWN0VHlwZV19YCk7XG4gICAgICBcbiAgICAgIC8vIDQuIFx1NTIzN1x1NjVCMFx1NjI0MFx1NjcwOVx1ODlDNlx1NTZGRVxuICAgICAgdGhpcy5yZWZyZXNoQWxsVmlld3MoKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBleHRyYWN0aW5nIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKGBcdTI3NEMgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERDk1IFx1NjdFNVx1NjI3RVx1OTFDRFx1NTkwRFx1NzY4NCBDb250ZW50VW5pdFxuICAgKiBcdTY4MzlcdTYzNkVcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTU0OENcdTRGNERcdTdGNkVcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTVERjJcdTVCNThcdTU3MjhcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmluZER1cGxpY2F0ZVVuaXQodW5pdDogQ29udGVudFVuaXQpOiBQcm9taXNlPENvbnRlbnRVbml0IHwgbnVsbD4ge1xuICAgIGNvbnN0IGFsbFVuaXRzID0gYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKTtcbiAgICBcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVCNThcdTU3MjhcdTc2RjhcdTU0MENcdTRGNERcdTdGNkVcdTc2ODQgdW5pdFxuICAgIGNvbnN0IGR1cGxpY2F0ZSA9IGFsbFVuaXRzLmZpbmQoZXhpc3RpbmcgPT4gXG4gICAgICBleGlzdGluZy5zb3VyY2UuZmlsZSA9PT0gdW5pdC5zb3VyY2UuZmlsZSAmJlxuICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLnN0YXJ0ID09PSB1bml0LnNvdXJjZS5wb3NpdGlvbi5zdGFydCAmJlxuICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLmVuZCA9PT0gdW5pdC5zb3VyY2UucG9zaXRpb24uZW5kICYmXG4gICAgICBleGlzdGluZy50eXBlID09PSB1bml0LnR5cGVcbiAgICApO1xuICAgIFxuICAgIHJldHVybiBkdXBsaWNhdGUgfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0NcdUREOTUgXHU2OEMwXHU2N0U1XHU1MTg1XHU1QkI5XHU2NjJGXHU1NDI2XHU5MUNEXHU1OTBEXHVGRjA4XHU1N0ZBXHU0RThFXHU1MTg1XHU1QkI5XHU3NkY4XHU0RjNDXHU1RUE2XHVGRjA5XG4gICAqL1xuICBwcml2YXRlIGlzQ29udGVudER1cGxpY2F0ZShjb250ZW50MTogc3RyaW5nLCBjb250ZW50Mjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZDEgPSBjb250ZW50MS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBub3JtYWxpemVkMiA9IGNvbnRlbnQyLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBub3JtYWxpemVkMSA9PT0gbm9ybWFsaXplZDI7XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU3RUFGXHU2NTg3XHU2NzJDXHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVRleHRVbml0KFxuICAgIGZpbGU6IFRGaWxlLFxuICAgIHNlbGVjdGlvbjogc3RyaW5nLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGZpbGVDb250ZW50OiBzdHJpbmdcbiAgKTogQ29udGVudFVuaXQge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihmaWxlQ29udGVudCwgb2Zmc2V0KTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBjb250ZW50OiBzZWxlY3Rpb24udHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IHNlbGVjdGlvbi50cmltKCksXG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgZmlsZTogZmlsZS5wYXRoLFxuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIHN0YXJ0OiBvZmZzZXQsXG4gICAgICAgICAgZW5kOiBvZmZzZXQgKyBzZWxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhmaWxlQ29udGVudCwgb2Zmc2V0KSxcbiAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAgICAgfSxcbiAgICAgIGV4dHJhY3RSdWxlOiB7XG4gICAgICAgIHJ1bGVJZDogJ3RleHQtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgVGV4dCBFeHRyYWN0JyxcbiAgICAgICAgZXh0cmFjdGVkQnk6ICdtYW51YWwnXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHRhZ3M6IHRoaXMuZXh0cmFjdFRhZ3MoZmlsZUNvbnRlbnQsIG9mZnNldClcbiAgICAgIH0sXG4gICAgICBmbGFzaGNhcmRJZHM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMUJcdTVFRkEgUUEgXHU1MzYxXHU3MjQ3XHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVFBVW5pdChcbiAgICBmaWxlOiBURmlsZSxcbiAgICBzZWxlY3Rpb246IHN0cmluZyxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBmaWxlQ29udGVudDogc3RyaW5nXG4gICk6IENvbnRlbnRVbml0IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oZmlsZUNvbnRlbnQsIG9mZnNldCk7XG4gICAgXG4gICAgLy8gXHU1QzFEXHU4QkQ1XHU1MjA2XHU1MjcyXHU2MjEwXHU5NUVFXHU5ODk4XHU1NDhDXHU3QjU0XHU2ODQ4XG4gICAgbGV0IHF1ZXN0aW9uOiBzdHJpbmcsIGFuc3dlcjogc3RyaW5nO1xuICAgIFxuICAgIGlmIChzZWxlY3Rpb24uaW5jbHVkZXMoJzo6JykpIHtcbiAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NTMwNVx1NTQyQiA6OiBcdTUyMDZcdTk2OTRcdTdCMjZcbiAgICAgIGNvbnN0IHBhcnRzID0gc2VsZWN0aW9uLnNwbGl0KCc6OicpO1xuICAgICAgcXVlc3Rpb24gPSBwYXJ0c1swXS50cmltKCk7XG4gICAgICBhbnN3ZXIgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc6OicpLnRyaW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1NDI2XHU1MjE5XHU2NTc0XHU0RTJBXHU5MDA5XHU0RTJEXHU2NTg3XHU2NzJDXHU0RjVDXHU0RTNBXHU5NUVFXHU5ODk4XHVGRjBDXHU3QjU0XHU2ODQ4XHU0RTNBXHU3QTdBXHVGRjA4XHU5NzAwXHU4OTgxXHU3NTI4XHU2MjM3XHU4ODY1XHU1MTQ1XHVGRjA5XG4gICAgICBxdWVzdGlvbiA9IHNlbGVjdGlvbi50cmltKCk7XG4gICAgICBhbnN3ZXIgPSAnW0Fuc3dlciBuZWVkZWRdJztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdHlwZTogJ1FBJyxcbiAgICAgIGNvbnRlbnQ6IHF1ZXN0aW9uLFxuICAgICAgYW5zd2VyOiBhbnN3ZXIsXG4gICAgICBmdWxsQ29udGV4dDogc2VsZWN0aW9uLnRyaW0oKSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG9mZnNldCxcbiAgICAgICAgICBlbmQ6IG9mZnNldCArIHNlbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICB9LFxuICAgICAgICBoZWFkaW5nOiB0aGlzLmZpbmRIZWFkaW5nKGZpbGVDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICBhbmNob3JMaW5rOiBgW1ske2ZpbGUuYmFzZW5hbWV9I14ke3RoaXMuZ2VuZXJhdGVCbG9ja0lkKCl9XV1gXG4gICAgICB9LFxuICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgcnVsZUlkOiAnUUEtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgUUEgQ2FyZCcsXG4gICAgICAgIGV4dHJhY3RlZEJ5OiAnbWFudWFsJ1xuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGZpbGVDb250ZW50LCBvZmZzZXQpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU1MzYxXHU3MjQ3XHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUNsb3plVW5pdChcbiAgICBmaWxlOiBURmlsZSxcbiAgICBzZWxlY3Rpb246IHN0cmluZyxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBmaWxlQ29udGVudDogc3RyaW5nXG4gICk6IENvbnRlbnRVbml0IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oZmlsZUNvbnRlbnQsIG9mZnNldCk7XG4gICAgY29uc3QgZnVsbFNlbnRlbmNlID0gdGhpcy5leHRyYWN0RnVsbFNlbnRlbmNlKGZpbGVDb250ZW50LCBvZmZzZXQsIHNlbGVjdGlvbi5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHR5cGU6ICdjbG96ZScsXG4gICAgICBjb250ZW50OiBzZWxlY3Rpb24udHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IGZ1bGxTZW50ZW5jZSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG9mZnNldCxcbiAgICAgICAgICBlbmQ6IG9mZnNldCArIHNlbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICB9LFxuICAgICAgICBoZWFkaW5nOiB0aGlzLmZpbmRIZWFkaW5nKGZpbGVDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICBhbmNob3JMaW5rOiBgW1ske2ZpbGUuYmFzZW5hbWV9I14ke3RoaXMuZ2VuZXJhdGVCbG9ja0lkKCl9XV1gXG4gICAgICB9LFxuICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgcnVsZUlkOiAnY2xvemUtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgQ2xvemUgQ2FyZCcsXG4gICAgICAgIGV4dHJhY3RlZEJ5OiAnbWFudWFsJ1xuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGZpbGVDb250ZW50LCBvZmZzZXQpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU0RUNFXHU1MTQ5XHU2ODA3XHU0RjREXHU3RjZFXHU4QkExXHU3Qjk3XHU2NTg3XHU0RUY2XHU1MDRGXHU3OUZCXHU5MUNGXG4gICAqL1xuICBwcml2YXRlIGdldE9mZnNldEZyb21DdXJzb3IoY29udGVudDogc3RyaW5nLCBsaW5lOiBudW1iZXIsIGNoOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lOyBpKyspIHtcbiAgICAgIG9mZnNldCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xuICAgIH1cbiAgICBcbiAgICBvZmZzZXQgKz0gY2g7XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNkJcdTYzQ0ZcdTUzNTVcdTRFMkFcdTY1ODdcdTRFRjZcbiAgICovXG4gIGFzeW5jIHNjYW5GaWxlKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICBjb25zdCB1bml0cyA9IGF3YWl0IHRoaXMuZXh0cmFjdENvbnRlbnQoZmlsZSwgY29udGVudCk7XG4gICAgICBcbiAgICAgIGlmICh1bml0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyh1bml0cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBxYUNvdW50ID0gdW5pdHMuZmlsdGVyKHUgPT4gdS50eXBlID09PSAnUUEnKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNsb3plQ291bnQgPSB1bml0cy5maWx0ZXIodSA9PiB1LnR5cGUgPT09ICdjbG96ZScpLmxlbmd0aDtcbiAgICAgICAgbmV3IE5vdGljZShgRXh0cmFjdGVkICR7cWFDb3VudH0gUUEgY2FyZHMgYW5kICR7Y2xvemVDb3VudH0gY2xvemUgY2FyZHMgZnJvbSAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVmcmVzaEFsbFZpZXdzKCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1bml0cy5sZW5ndGg7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzY2FuRmlsZV0gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZShgRXJyb3Igc2Nhbm5pbmcgZmlsZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XG4gIFxuICAvKipcbiAgICogXHU1MjM3XHU2NUIwXHU2MjQwXHU2NzA5XHU3NkY4XHU1MTczXHU4OUM2XHU1NkZFXG4gICAqL1xuICBwcml2YXRlIHJlZnJlc2hBbGxWaWV3cygpIHtcbiAgICB0aGlzLmFwcC53b3Jrc3BhY2UuaXRlcmF0ZUFsbExlYXZlcyhsZWFmID0+IHtcbiAgICAgIGNvbnN0IHZpZXdUeXBlID0gbGVhZi52aWV3LmdldFZpZXdUeXBlKCk7XG4gICAgICBpZiAodmlld1R5cGUgPT09ICdsZWFybmluZy1zeXN0ZW0tc2lkZWJhci1vdmVydmlldycgfHwgXG4gICAgICAgICAgdmlld1R5cGUgPT09ICdsZWFybmluZy1zeXN0ZW0tbWFpbi1vdmVydmlldycpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBsZWFmLnZpZXcgYXMgU2lkZWJhck92ZXJ2aWV3VmlldztcbiAgICAgICAgICAgIGlmICh2aWV3ICYmIHR5cGVvZiB2aWV3LnJlZnJlc2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgdmlldy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogXHU2MjZCXHU2M0NGXHU2NTc0XHU0RTJBIFZhdWx0XG4gICAqL1xuICBhc3luYyBzY2FuVmF1bHQoKTogUHJvbWlzZTx7IHNjYW5uZWQ6IG51bWJlcjsgZXh0cmFjdGVkOiBudW1iZXIgfT4ge1xuICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgIGxldCBzY2FubmVkID0gMDtcbiAgICBsZXQgZXh0cmFjdGVkID0gMDtcblxuICAgIG5ldyBOb3RpY2UoYFNjYW5uaW5nICR7ZmlsZXMubGVuZ3RofSBmaWxlcy4uLmApO1xuXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBjb25zdCBjb3VudCA9IGF3YWl0IHRoaXMuc2NhbkZpbGUoZmlsZSk7XG4gICAgICBzY2FubmVkKys7XG4gICAgICBleHRyYWN0ZWQgKz0gY291bnQ7XG4gICAgfVxuXG4gICAgbmV3IE5vdGljZShgU2NhbiBjb21wbGV0ZSEgRXh0cmFjdGVkICR7ZXh0cmFjdGVkfSBpdGVtcyBmcm9tICR7c2Nhbm5lZH0gZmlsZXMuYCk7XG5cbiAgICByZXR1cm4geyBzY2FubmVkLCBleHRyYWN0ZWQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0RcdUREMjcgXHU0RkVFXHU2NTM5OiBcdTUxNDhcdTRGRERcdTVCNTggdW5pdHNcdUZGMENcdTUxOERcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdUZGMENcdTU0MENcdTY1RjZcdThGQzdcdTZFRTRcdTkxQ0RcdTU5MERcdTk4NzlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdENvbnRlbnQoZmlsZTogVEZpbGUsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8Q29udGVudFVuaXRbXT4ge1xuICAgIGNvbnN0IHVuaXRzOiBDb250ZW50VW5pdFtdID0gW107XG4gICAgXG4gICAgLy8gMVx1RkUwRlx1MjBFMyBcdTUxNDhcdTYzRDBcdTUzRDZcdTYyNDBcdTY3MDkgdW5pdHNcdUZGMDhcdTRFMERcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdUZGMDlcbiAgICBjb25zdCBxYVVuaXRzID0gdGhpcy5leHRyYWN0UUFDYXJkcyhmaWxlLCBjb250ZW50KTtcbiAgICBjb25zdCBjbG96ZVVuaXRzID0gYXdhaXQgdGhpcy5leHRyYWN0Q2xvemVDYXJkcyhmaWxlLCBjb250ZW50KTtcblxuICAgIGNvbnN0IGFsbEV4dHJhY3RlZFVuaXRzID0gWy4uLnFhVW5pdHMsIC4uLmNsb3plVW5pdHNdO1xuICAgIFxuICAgIC8vIDJcdUZFMEZcdTIwRTMgXHVEODNDXHVERDk1IFx1OEZDN1x1NkVFNFx1OTFDRFx1NTkwRFx1NzY4NCB1bml0c1xuICAgIGNvbnN0IGV4aXN0aW5nVW5pdHMgPSBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpO1xuICAgIGNvbnN0IG5ld1VuaXRzID0gYXdhaXQgdGhpcy5maWx0ZXJEdXBsaWNhdGVVbml0cyhhbGxFeHRyYWN0ZWRVbml0cywgZXhpc3RpbmdVbml0cyk7XG4gICAgXG4gICAgaWYgKG5ld1VuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbmV3IE5vdGljZShgICR7ZmlsZS5uYW1lfTogTm8gbmV3IGNvbnRlbnQgdG8gZXh0cmFjdGApO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICBpZiAobmV3VW5pdHMubGVuZ3RoIDwgYWxsRXh0cmFjdGVkVW5pdHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gYWxsRXh0cmFjdGVkVW5pdHMubGVuZ3RoIC0gbmV3VW5pdHMubGVuZ3RoO1xuICAgICAgbmV3IE5vdGljZShgICR7ZmlsZS5uYW1lfTpTa2lwcGVkICR7c2tpcHBlZH0gZHVwbGljYXRlIGl0ZW1zYCk7XG4gICAgfVxuICAgIFxuICAgIHVuaXRzLnB1c2goLi4ubmV3VW5pdHMpO1xuICAgIFxuICAgIC8vIDNcdUZFMEZcdTIwRTMgXHU1MTQ4XHU0RkREXHU1QjU4XHU2MjQwXHU2NzA5XHU2NUIwIHVuaXRzIFx1NTIzMCBEYXRhTWFuYWdlclxuICAgIGlmICh1bml0cy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdHModW5pdHMpO1xuICAgIH1cbiAgICBcbiAgICAvLyA0XHVGRTBGXHUyMEUzIFx1NTE4RFx1NEUzQVx1NkJDRlx1NEUyQSB1bml0IFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVxuICAgIGZvciAoY29uc3QgdW5pdCBvZiB1bml0cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2FyZFR5cGUgPSB1bml0LnR5cGUgPT09ICdRQScgPyAncWEnIDogJ2Nsb3plJztcbiAgICAgICAgY29uc3QgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyLmNyZWF0ZUZsYXNoY2FyZEZyb21Vbml0KHVuaXQsIHtcbiAgICAgICAgICBjYXJkVHlwZTogY2FyZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZXh0cmFjdENvbnRlbnRdICBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFx1RDgzQ1x1REZBRiBcdTZERkJcdTUyQTAgLSBcdTdFREZcdThCQTFcdTYyNkJcdTYzQ0ZcdTYzRDBcdTUzRDZcdTc2ODRcdTdCMTRcdThCQjBcdTY1NzBcbmlmICh0aGlzLnBsdWdpbj8udW5sb2NrU3lzdGVtICYmIHVuaXRzLmxlbmd0aCA+IDApIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bml0cy5sZW5ndGg7IGkrKykge1xuICAgIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbk5vdGVTY2FubmVkKCk7XG4gIH1cbn1cbiAgICByZXR1cm4gdW5pdHM7XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERDk1IFx1OEZDN1x1NkVFNFx1OTFDRFx1NTkwRFx1NzY4NCB1bml0c1xuICAgKiBcdTY4MzlcdTYzNkVcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTMwMDFcdTRGNERcdTdGNkVcdTU0OENcdTUxODVcdTVCQjlcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTkxQ0RcdTU5MERcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmlsdGVyRHVwbGljYXRlVW5pdHMoXG4gICAgbmV3VW5pdHM6IENvbnRlbnRVbml0W10sIFxuICAgIGV4aXN0aW5nVW5pdHM6IENvbnRlbnRVbml0W11cbiAgKTogUHJvbWlzZTxDb250ZW50VW5pdFtdPiB7XG4gICAgY29uc3QgZmlsdGVyZWQ6IENvbnRlbnRVbml0W10gPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IG5ld1VuaXQgb2YgbmV3VW5pdHMpIHtcbiAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gZXhpc3RpbmdVbml0cy5zb21lKGV4aXN0aW5nID0+IHtcbiAgICAgICAgLy8gXHU2NUI5XHU1RjBGMTogXHU3NkY4XHU1NDBDXHU2NTg3XHU0RUY2ICsgXHU3NkY4XHU1NDBDXHU0RjREXHU3RjZFICsgXHU3NkY4XHU1NDBDXHU3QzdCXHU1NzhCXG4gICAgICAgIGNvbnN0IHNhbWVMb2NhdGlvbiA9IFxuICAgICAgICAgIGV4aXN0aW5nLnNvdXJjZS5maWxlID09PSBuZXdVbml0LnNvdXJjZS5maWxlICYmXG4gICAgICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLnN0YXJ0ID09PSBuZXdVbml0LnNvdXJjZS5wb3NpdGlvbi5zdGFydCAmJlxuICAgICAgICAgIGV4aXN0aW5nLnNvdXJjZS5wb3NpdGlvbi5lbmQgPT09IG5ld1VuaXQuc291cmNlLnBvc2l0aW9uLmVuZCAmJlxuICAgICAgICAgIGV4aXN0aW5nLnR5cGUgPT09IG5ld1VuaXQudHlwZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjVCOVx1NUYwRjI6IFx1NzZGOFx1NTQwQ1x1NjU4N1x1NEVGNiArIFx1NzZGOFx1NTQwQ1x1NTE4NVx1NUJCOSArIFx1NzZGOFx1NTQwQ1x1N0M3Qlx1NTc4Qlx1RkYwOFx1OTYzMlx1NkI2Mlx1NEY0RFx1N0Y2RVx1NTA0Rlx1NzlGQlx1RkYwOVxuICAgICAgICBjb25zdCBzYW1lQ29udGVudCA9IFxuICAgICAgICAgIGV4aXN0aW5nLnNvdXJjZS5maWxlID09PSBuZXdVbml0LnNvdXJjZS5maWxlICYmXG4gICAgICAgICAgZXhpc3RpbmcudHlwZSA9PT0gbmV3VW5pdC50eXBlICYmXG4gICAgICAgICAgdGhpcy5pc0NvbnRlbnREdXBsaWNhdGUoZXhpc3RpbmcuY29udGVudCwgbmV3VW5pdC5jb250ZW50KSAmJlxuICAgICAgICAgIHRoaXMuaXNDb250ZW50RHVwbGljYXRlKGV4aXN0aW5nLmZ1bGxDb250ZXh0IHx8ICcnLCBuZXdVbml0LmZ1bGxDb250ZXh0IHx8ICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjVCOVx1NUYwRjM6IFx1NUJGOVx1NEU4RSBRQSBcdTdDN0JcdTU3OEJcdUZGMENcdTk4OURcdTU5MTZcdTY4QzBcdTY3RTVcdTdCNTRcdTY4NDhcdTY2MkZcdTU0MjZcdTc2RjhcdTU0MENcbiAgICAgICAgY29uc3Qgc2FtZVFBID0gZXhpc3RpbmcudHlwZSA9PT0gJ1FBJyAmJiBuZXdVbml0LnR5cGUgPT09ICdRQScgJiZcbiAgICAgICAgICBleGlzdGluZy5zb3VyY2UuZmlsZSA9PT0gbmV3VW5pdC5zb3VyY2UuZmlsZSAmJlxuICAgICAgICAgIHRoaXMuaXNDb250ZW50RHVwbGljYXRlKGV4aXN0aW5nLmNvbnRlbnQsIG5ld1VuaXQuY29udGVudCkgJiZcbiAgICAgICAgICB0aGlzLmlzQ29udGVudER1cGxpY2F0ZShleGlzdGluZy5hbnN3ZXIgfHwgJycsIG5ld1VuaXQuYW5zd2VyIHx8ICcnKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzYW1lTG9jYXRpb24gfHwgc2FtZUNvbnRlbnQgfHwgc2FtZVFBO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgZmlsdGVyZWQucHVzaChuZXdVbml0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZpbHRlcmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MjcwNSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0FcdTRFRkJcdTUyQTFcdTVCOENcdTYyMTBcdTY4MDdcdThCQjBcbiAgICogXHU2MzkyXHU5NjY0OiBbY29tcGxldGlvbjo6IGRhdGVdLCBbZHVlOjogZGF0ZV0gXHU3QjQ5XHU0RUZCXHU1MkExXHU3NkY4XHU1MTczXHU3Njg0IDo6IFx1NjgzQ1x1NUYwRlxuICAgKi9cbiAgcHJpdmF0ZSBpc1Rhc2tDb21wbGV0aW9uKGxpbmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIFx1NTMzOVx1OTE0RFx1NEVGQlx1NTJBMVx1NjgwN1x1OEJCMDogLSBbIF0gXHU2MjE2IC0gW3hdIFx1NUYwMFx1NTkzNFx1NzY4NFx1ODg0QyxcdTRFMTRcdTUzMDVcdTU0MkIgOjogXG4gICAgY29uc3QgdGFza1BhdHRlcm4gPSAvXltcXHNdKi1cXHMqXFxbW3hcXHNdXFxdLio6Oi9pO1xuICAgIHJldHVybiB0YXNrUGF0dGVybi50ZXN0KGxpbmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MjcwNSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0FcdTY1RTVcdTY3MUYvXHU2NUY2XHU5NUY0XHU1QjU3XHU2QkI1XG4gICAqIFx1NjM5Mlx1OTY2NDogZGF0ZTE6OiAyMDIxLTAyLTI2VDE1OjE1LCBkYXRlMjo6IDIwMjEtMDQtMTcgMTg6MDAgXHU3QjQ5XHU2ODNDXHU1RjBGXG4gICAqL1xuICBwcml2YXRlIGlzRGF0ZVRpbWVGaWVsZChxdWVzdGlvbjogc3RyaW5nLCBhbnN3ZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIFx1NjhDMFx1NjdFNVx1OTVFRVx1OTg5OFx1OTBFOFx1NTIwNlx1NjYyRlx1NTQyNlx1NTMwNVx1NTQyQlx1NUUzOFx1ODlDMVx1NzY4NFx1NjVFNVx1NjcxRi9cdTY1RjZcdTk1RjRcdTVCNTdcdTZCQjVcdTU0MERcbiAgICBjb25zdCBkYXRlRmllbGRQYXR0ZXJuID0gL1xcYihkYXRlXFxkKnx0aW1lXFxkKnxjcmVhdGVkfHVwZGF0ZWR8bW9kaWZpZWR8c2NoZWR1bGVkfGR1ZXxjb21wbGV0aW9uKVxcYi9pO1xuICAgIFxuICAgIC8vIFx1NjhDMFx1NjdFNVx1N0I1NFx1Njg0OFx1OTBFOFx1NTIwNlx1NjYyRlx1NTQyNlx1NEUzQVx1NjVFNVx1NjcxRi9cdTY1RjZcdTk1RjRcdTY4M0NcdTVGMEZcbiAgICBjb25zdCBkYXRlVGltZVBhdHRlcm4gPSAvXlxccypcXGR7NH0tXFxkezJ9LVxcZHsyfShUfFxccylcXGR7Mn06XFxkezJ9fFxcZHs0fS1cXGR7Mn0tXFxkezJ9XFxzK1xcZHsyfTpcXGR7Mn0vO1xuICAgIGNvbnN0IGRhdGVPbmx5UGF0dGVybiA9IC9eXFxzKlxcZHs0fS1cXGR7Mn0tXFxkezJ9XFxzKiQvO1xuICAgIFxuICAgIHJldHVybiBkYXRlRmllbGRQYXR0ZXJuLnRlc3QocXVlc3Rpb24pICYmIFxuICAgICAgICAgICAoZGF0ZVRpbWVQYXR0ZXJuLnRlc3QoYW5zd2VyKSB8fCBkYXRlT25seVBhdHRlcm4udGVzdChhbnN3ZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTI3MDUgXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU0RTNBIEV4Y2FsaWRyYXcgXHU5QUQ4XHU0RUFFXG4gICAqIFx1NjM5Mlx1OTY2NDogPT1zd2l0Y2ggdG8gZXhjYWxpZHJhdyB2aWV3Li4uPT0gXHU4RkQ5XHU3QzdCXHU3Mjc5XHU1QjlBXHU5QUQ4XHU0RUFFXG4gICAqL1xuICBwcml2YXRlIGlzRXhjYWxpZHJhd0hpZ2hsaWdodChtYXRjaFRleHQ6IHN0cmluZywgbGluZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgLy8gXHU1OTgyXHU2NzlDXHU5QUQ4XHU0RUFFXHU1MTg1XHU1QkI5XHU1MzA1XHU1NDJCIGV4Y2FsaWRyYXcgXHU3NkY4XHU1MTczXHU1MTczXHU5NTJFXHU4QkNEXG4gICAgY29uc3QgZXhjYWxpZHJhd0tleXdvcmRzID0gL2V4Y2FsaWRyYXd8ZHJhd2luZ3xza2V0Y2gvaTtcbiAgICByZXR1cm4gZXhjYWxpZHJhd0tleXdvcmRzLnRlc3QobWF0Y2hUZXh0KSB8fCBleGNhbGlkcmF3S2V5d29yZHMudGVzdChsaW5lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTI3MDUgXHU2M0QwXHU1M0Q2IFFBIFx1NTM2MVx1NzI0NyAoXHU2ODNDXHU1RjBGOiBRdWVzdGlvbiA6OiBBbnN3ZXIpXG4gICAqIFx1NjVCMFx1NTg5RTogXHU4RkM3XHU2RUU0XHU0RUZCXHU1MkExXHU1QjhDXHU2MjEwXHU2ODA3XHU4QkIwXHU1NDhDXHU2NUU1XHU2NzFGXHU2NUY2XHU5NUY0XHU1QjU3XHU2QkI1XG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RRQUNhcmRzKGZpbGU6IFRGaWxlLCBjb250ZW50OiBzdHJpbmcpOiBDb250ZW50VW5pdFtdIHtcbiAgICBjb25zdCB1bml0czogQ29udGVudFVuaXRbXSA9IFtdO1xuICAgIGNvbnN0IHFhUmVnZXggPSAvXiguKz8pXFxzKjo6XFxzKiguKz8pJC9nbTtcbiAgICBsZXQgbWF0Y2g7XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gcWFSZWdleC5leGVjKGNvbnRlbnQpKSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgZnVsbE1hdGNoID0gbWF0Y2hbMF07XG4gICAgICBjb25zdCBxdWVzdGlvbiA9IG1hdGNoWzFdLnRyaW0oKTtcbiAgICAgIGNvbnN0IGFuc3dlciA9IG1hdGNoWzJdLnRyaW0oKTtcbiAgICAgIFxuICAgICAgLy8gXHUyNzA1IFx1OERGM1x1OEZDN1x1NEVGQlx1NTJBMVx1NUI4Q1x1NjIxMFx1NjgwN1x1OEJCMFxuICAgICAgaWYgKHRoaXMuaXNUYXNrQ29tcGxldGlvbihmdWxsTWF0Y2gpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTI3MDUgXHU4REYzXHU4RkM3XHU2NUU1XHU2NzFGXHU2NUY2XHU5NUY0XHU1QjU3XHU2QkI1XG4gICAgICBpZiAodGhpcy5pc0RhdGVUaW1lRmllbGQocXVlc3Rpb24sIGFuc3dlcikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBtYXRjaC5pbmRleCk7XG5cbiAgICAgIGNvbnN0IHVuaXQ6IENvbnRlbnRVbml0ID0ge1xuICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICAgIHR5cGU6ICdRQScsXG4gICAgICAgIGNvbnRlbnQ6IHF1ZXN0aW9uLFxuICAgICAgICBhbnN3ZXI6IGFuc3dlcixcbiAgICAgICAgZnVsbENvbnRleHQ6IGZ1bGxNYXRjaCxcbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgZmlsZTogZmlsZS5wYXRoLFxuICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICBzdGFydDogbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICBlbmQ6IG1hdGNoLmluZGV4ICsgZnVsbE1hdGNoLmxlbmd0aCxcbiAgICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhlYWRpbmc6IHRoaXMuZmluZEhlYWRpbmcoY29udGVudCwgbWF0Y2guaW5kZXgpLFxuICAgICAgICAgIGFuY2hvckxpbms6IGBbWyR7ZmlsZS5iYXNlbmFtZX0jXiR7dGhpcy5nZW5lcmF0ZUJsb2NrSWQoKX1dXWBcbiAgICAgICAgfSxcbiAgICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgICBydWxlSWQ6ICdRQScsXG4gICAgICAgICAgcnVsZU5hbWU6ICdRQSBDYXJkJyxcbiAgICAgICAgICBleHRyYWN0ZWRCeTogJ2F1dG8nXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGNvbnRlbnQsIG1hdGNoLmluZGV4KVxuICAgICAgICB9LFxuICAgICAgICBmbGFzaGNhcmRJZHM6IFtdXG4gICAgICB9O1xuXG4gICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgIH1cblxuICAgIHJldHVybiB1bml0cztcbiAgfVxuXG5cblxuICAvKipcbiAgICogXHU2M0QwXHU1M0Q2XHU1MzA1XHU1NDJCXHU5QUQ4XHU0RUFFXHU3Njg0XHU1QjhDXHU2NTc0XHU1M0U1XHU1QjUwXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RGdWxsU2VudGVuY2UoY29udGVudDogc3RyaW5nLCBoaWdobGlnaHRTdGFydDogbnVtYmVyLCBoaWdobGlnaHRMZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgc2VudGVuY2VFbmRzID0gL1suIT9cdTMwMDJcdUZGMDE/XFxuXS87XG4gICAgXG4gICAgbGV0IHN0YXJ0ID0gaGlnaGxpZ2h0U3RhcnQ7XG4gICAgd2hpbGUgKHN0YXJ0ID4gMCkge1xuICAgICAgY29uc3QgY2hhciA9IGNvbnRlbnRbc3RhcnQgLSAxXTtcbiAgICAgIGlmIChzZW50ZW5jZUVuZHMudGVzdChjaGFyKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXJ0LS07XG4gICAgfVxuICAgIFxuICAgIGxldCBlbmQgPSBoaWdobGlnaHRTdGFydCArIGhpZ2hsaWdodExlbmd0aDtcbiAgICB3aGlsZSAoZW5kIDwgY29udGVudC5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBjb250ZW50W2VuZF07XG4gICAgICBpZiAoc2VudGVuY2VFbmRzLnRlc3QoY2hhcikpIHtcbiAgICAgICAgZW5kKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZW5kKys7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKS50cmltKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU4QkExXHU3Qjk3XHU2NTg3XHU2NzJDXHU0RjREXHU3RjZFXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQ6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIpOiB7IGxpbmU6IG51bWJlcjsgY29sdW1uOiBudW1iZXIgfSB7XG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnN1YnN0cmluZygwLCBvZmZzZXQpLnNwbGl0KCdcXG4nKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbGluZXMubGVuZ3RoLFxuICAgICAgY29sdW1uOiBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGhcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjdFNVx1NjI3RVx1NjI0MFx1NTcyOFx1NjgwN1x1OTg5OFxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kSGVhZGluZyhjb250ZW50OiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGJlZm9yZUNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBwb3NpdGlvbik7XG4gICAgY29uc3QgaGVhZGluZ3MgPSBiZWZvcmVDb250ZW50Lm1hdGNoKC9eI3sxLDZ9IC4rJC9nbSk7XG4gICAgcmV0dXJuIGhlYWRpbmdzID8gaGVhZGluZ3NbaGVhZGluZ3MubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogXHU2M0QwXHU1M0Q2XHU5NjQ0XHU4RkQxXHU3Njg0XHU2ODA3XHU3QjdFXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RUYWdzKGNvbnRlbnQ6IHN0cmluZywgcG9zaXRpb246IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICBjb25zdCB0YWdzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgXG4gICAgLy8gMS4gXHU2M0QwXHU1M0Q2IFlBTUwgZnJvbnRtYXR0ZXIgXHU0RTJEXHU3Njg0IHRhZ3NcbiAgICBjb25zdCB5YW1sTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9eLS0tXFxuKFtcXHNcXFNdKj8pXFxuLS0tLyk7XG4gICAgaWYgKHlhbWxNYXRjaCkge1xuICAgICAgY29uc3QgeWFtbENvbnRlbnQgPSB5YW1sTWF0Y2hbMV07XG4gICAgICBjb25zdCB0YWdzTWF0Y2ggPSB5YW1sQ29udGVudC5tYXRjaCgvXnRhZ3M6XFxzKiguKykkL20pO1xuICAgICAgaWYgKHRhZ3NNYXRjaCkge1xuICAgICAgICBjb25zdCB0YWdDb250ZW50ID0gdGFnc01hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgaWYgKHRhZ0NvbnRlbnQuc3RhcnRzV2l0aCgnWycpKSB7XG4gICAgICAgICAgY29uc3QgYXJyYXlUYWdzID0gdGFnQ29udGVudC5tYXRjaCgvW1xcdy8tXSsvZyk7XG4gICAgICAgICAgYXJyYXlUYWdzPy5mb3JFYWNoKHRhZyA9PiB0YWdzLmFkZChgIyR7dGFnfWApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWdDb250ZW50LnNwbGl0KCcsJykuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IHRhZy50cmltKCk7XG4gICAgICAgICAgICBpZiAoY2xlYW5lZCkgdGFncy5hZGQoYCMke2NsZWFuZWR9YCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gMi4gXHU2M0QwXHU1M0Q2XHU1M0U1XHU1QjUwXHU2NzJCXHU1QzNFXHU3Njg0IGlubGluZSB0YWdzXG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnN1YnN0cmluZygwLCBwb3NpdGlvbikuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IGN1cnJlbnRMaW5lID0gbGluZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBsaW5lQ29udGVudCA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpW2N1cnJlbnRMaW5lXSB8fCAnJztcbiAgICBcbiAgICBjb25zdCBpbmxpbmVUYWdSZWdleCA9IC8jW1xcdy8tXSsvZztcbiAgICBjb25zdCBpbmxpbmVUYWdzID0gbGluZUNvbnRlbnQubWF0Y2goaW5saW5lVGFnUmVnZXgpO1xuICAgIGlubGluZVRhZ3M/LmZvckVhY2godGFnID0+IHRhZ3MuYWRkKHRhZykpO1xuICAgIFxuICAgIHJldHVybiBBcnJheS5mcm9tKHRhZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1NTUyRlx1NEUwMCBJRFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cblxuICAvKipcbiAgICogXHU3NTFGXHU2MjEwIEJsb2NrIElEXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlQmxvY2tJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgZXh0cmFjdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDYpfWA7XG4gIH1cblxuXG4vLyBcdTg4NjhcdTY4M0NcdTYzRDBcdTUzRDZcdTY1QjlcdTZDRDVcbi8qKlxuICogXHVEODNDXHVERDk1IFx1NjhDMFx1NkQ0Qlx1OUFEOFx1NEVBRVx1NjYyRlx1NTQyNlx1NTcyOFx1ODg2OFx1NjgzQ1x1NEUyRFxuICovXG5wcml2YXRlIGlzSW5UYWJsZShjb250ZW50OiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgY29uc3QgeyBsaW5lIH0gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIHBvc2l0aW9uKTtcbiAgY29uc3QgbGluZUluZGV4ID0gbGluZSAtIDE7XG5cbiAgLy8gXHU2OEMwXHU2N0U1XHU1RjUzXHU1MjREXHU4ODRDXHU2NjJGXHU1NDI2XHU0RTNBXHU4ODY4XHU2ODNDXHU4ODRDXHVGRjA4XHU1MzA1XHU1NDJCIHwgXHU1MjA2XHU5Njk0XHU3QjI2XHVGRjA5XG4gIGlmICghbGluZXNbbGluZUluZGV4XT8uaW5jbHVkZXMoJ3wnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gXHU2OEMwXHU2N0U1XHU1MjREXHU1NDBFXHU4ODRDXHU2NjJGXHU1NDI2XHU0RTVGXHU2NjJGXHU4ODY4XHU2ODNDXG4gIGNvbnN0IGhhc1ByZXZUYWJsZUxpbmUgPSBsaW5lID4gMCAmJiBsaW5lc1tsaW5lIC0gMV0/LmluY2x1ZGVzKCd8Jyk7XG4gIGNvbnN0IGhhc05leHRUYWJsZUxpbmUgPSBsaW5lIDwgbGluZXMubGVuZ3RoIC0gMSAmJiBsaW5lc1tsaW5lICsgMV0/LmluY2x1ZGVzKCd8Jyk7XG4gIFxuICBcblxuICByZXR1cm4gaGFzUHJldlRhYmxlTGluZSB8fCBoYXNOZXh0VGFibGVMaW5lO1xufVxuXG4vKipcbiAqIFx1RDgzQ1x1REQ5NSBcdTYzRDBcdTUzRDZcdTg4NjhcdTY4M0NcdTUzQ0FcdTUxNzZcdTlBRDhcdTRFQUVcdTRGRTFcdTYwNkZcbiAqL1xucHJpdmF0ZSBleHRyYWN0VGFibGVXaXRoSGlnaGxpZ2h0cyhcbiAgY29udGVudDogc3RyaW5nLCBcbiAgaGlnaGxpZ2h0UG9zaXRpb246IG51bWJlclxuKTogeyB0YWJsZUNvbnRlbnQ6IHN0cmluZzsgaGlnaGxpZ2h0Q291bnQ6IG51bWJlcjsgaGlnaGxpZ2h0Um93czogU2V0PG51bWJlcj47IGhpZ2hsaWdodENvbHVtbnM6IFNldDxudW1iZXI+IH0gfCBudWxsIHtcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgY29uc3QgeyBsaW5lOiBjdXJyZW50TGluZSB9ID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBoaWdobGlnaHRQb3NpdGlvbik7XG4gIFxuICAvLyBcdTYyN0VcdTUyMzBcdTg4NjhcdTY4M0NcdTc2ODRcdThENzdcdTU5Q0JcdTU0OENcdTdFRDNcdTY3NUZcdTRGNERcdTdGNkVcbiAgbGV0IHRhYmxlU3RhcnQgPSBjdXJyZW50TGluZTtcbiAgbGV0IHRhYmxlRW5kID0gY3VycmVudExpbmU7XG4gIFxuICB3aGlsZSAodGFibGVTdGFydCA+IDAgJiYgbGluZXNbdGFibGVTdGFydCAtIDFdPy5pbmNsdWRlcygnfCcpKSB7XG4gICAgdGFibGVTdGFydC0tO1xuICB9XG4gIFxuICB3aGlsZSAodGFibGVFbmQgPCBsaW5lcy5sZW5ndGggLSAxICYmIGxpbmVzW3RhYmxlRW5kICsgMV0/LmluY2x1ZGVzKCd8JykpIHtcbiAgICB0YWJsZUVuZCsrO1xuICB9XG4gIFxuICAvLyBcdTYzRDBcdTUzRDZcdTg4NjhcdTY4M0NcdTUxODVcdTVCQjlcbiAgY29uc3QgdGFibGVMaW5lcyA9IGxpbmVzLnNsaWNlKHRhYmxlU3RhcnQsIHRhYmxlRW5kICsgMSk7XG4gIGNvbnN0IHRhYmxlQ29udGVudCA9IHRhYmxlTGluZXMuam9pbignXFxuJyk7XG4gIFxuICAvLyBcdUQ4M0RcdUREMjcgXHU1MTQ4XHU2MjdFXHU1MjMwXHU1MjA2XHU5Njk0XHU3QjI2XHU4ODRDXHU3Njg0XHU0RjREXHU3RjZFXG4gIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gdGFibGVMaW5lcy5maW5kSW5kZXgoKGxpbmUsIGlkeCkgPT4ge1xuICAgIGlmIChpZHggPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBjZWxscyA9IGxpbmUuc3BsaXQoJ3wnKS5tYXAoYyA9PiBjLnRyaW0oKSkuZmlsdGVyKGMgPT4gYyk7XG4gICAgcmV0dXJuIGNlbGxzLmxlbmd0aCA+IDAgJiYgY2VsbHMuZXZlcnkoY2VsbCA9PiAvXlstOlxcc10rJC8udGVzdChjZWxsKSk7XG4gIH0pO1xuICBcbiAgLy8gXHU3RURGXHU4QkExXHU4ODY4XHU2ODNDXHU0RTJEXHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXG4gIGNvbnN0IGhpZ2hsaWdodFJlZ2V4ID0gLz09KC4rPyk9PS9nO1xuICBjb25zdCBoaWdobGlnaHRSb3dzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gIGNvbnN0IGhpZ2hsaWdodENvbHVtbnMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgbGV0IGhpZ2hsaWdodENvdW50ID0gMDtcbiAgXG4gIHRhYmxlTGluZXMuZm9yRWFjaCgobGluZSwgcm93SW5kZXgpID0+IHtcbiAgICAvLyBcdUQ4M0RcdUREMjcgXHU4REYzXHU4RkM3XHU1MjA2XHU5Njk0XHU3QjI2XHU4ODRDXG4gICAgaWYgKHJvd0luZGV4ID09PSBzZXBhcmF0b3JJbmRleCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjZWxscyA9IGxpbmUuc3BsaXQoJ3wnKS5tYXAoYyA9PiBjLnRyaW0oKSkuZmlsdGVyKGMgPT4gYyk7XG4gICAgXG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCwgY29sSW5kZXgpID0+IHtcbiAgICAgIGlmIChoaWdobGlnaHRSZWdleC50ZXN0KGNlbGwpKSB7XG4gICAgICAgIGhpZ2hsaWdodFJvd3MuYWRkKHJvd0luZGV4KTsgIC8vIFx1MjcwNSBcdTczQjBcdTU3Mjggcm93SW5kZXggXHU2NjJGXHU2QjYzXHU3ODZFXHU3Njg0XG4gICAgICAgIGhpZ2hsaWdodENvbHVtbnMuYWRkKGNvbEluZGV4KTtcbiAgICAgICAgaGlnaGxpZ2h0Q291bnQrKztcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIFxuICByZXR1cm4ge1xuICAgIHRhYmxlQ29udGVudCxcbiAgICBoaWdobGlnaHRDb3VudCxcbiAgICBoaWdobGlnaHRSb3dzLFxuICAgIGhpZ2hsaWdodENvbHVtbnNcbiAgfTtcbn1cblxuLyoqXG4gKiBcdUQ4M0NcdUREOTUgXHU2ODM5XHU2MzZFXHU5QUQ4XHU0RUFFXHU0RjREXHU3RjZFXHU2M0QwXHU1M0Q2XHU4ODY4XHU2ODNDXHU3Njg0XHU3Mjc5XHU1QjlBXHU5MEU4XHU1MjA2XG4gKi9cbnByaXZhdGUgZXh0cmFjdFRhYmxlUG9ydGlvbihcbiAgdGFibGVMaW5lczogc3RyaW5nW10sIFxuICBoaWdobGlnaHRSb3dzOiBTZXQ8bnVtYmVyPiwgXG4gIGhpZ2hsaWdodENvbHVtbnM6IFNldDxudW1iZXI+LFxuICBoaWdobGlnaHRDb3VudDogbnVtYmVyXG4pOiBzdHJpbmcge1xuICBjb25zdCB0b3RhbFJvd3MgPSB0YWJsZUxpbmVzLmxlbmd0aDtcbiAgXG4gIC8vIFx1RDgzRFx1REQyNyBcdTYyN0VcdTUyMzBcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcbiAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSB0YWJsZUxpbmVzLmZpbmRJbmRleCgobGluZSwgaWR4KSA9PiB7XG4gICAgaWYgKGlkeCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGNlbGxzID0gbGluZS5zcGxpdCgnfCcpLm1hcChjID0+IGMudHJpbSgpKS5maWx0ZXIoYyA9PiBjKTtcbiAgICByZXR1cm4gY2VsbHMubGVuZ3RoID4gMCAmJiBjZWxscy5ldmVyeShjZWxsID0+IC9eWy06XFxzXSskLy50ZXN0KGNlbGwpKTtcbiAgfSk7XG4gIFxuICAvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTYyN0VcdTUyMzAsXHU5RUQ4XHU4QkE0XHU3QjJDXHU0RThDXHU4ODRDXG4gIGNvbnN0IGFjdHVhbFNlcGFyYXRvckluZGV4ID0gc2VwYXJhdG9ySW5kZXggIT09IC0xID8gc2VwYXJhdG9ySW5kZXggOiAxO1xuICBcbiAgLy8gXHU2MEM1XHU1MUI1MTogXHU2NTc0XHU1MjE3XHU5QUQ4XHU0RUFFXG4gIGNvbnN0IGZpcnN0RGF0YVJvd0luZGV4ID0gYWN0dWFsU2VwYXJhdG9ySW5kZXggKyAxO1xuICBpZiAoZmlyc3REYXRhUm93SW5kZXggPCB0YWJsZUxpbmVzLmxlbmd0aCkge1xuICAgIGNvbnN0IGZpcnN0RGF0YVJvdyA9IHRhYmxlTGluZXNbZmlyc3REYXRhUm93SW5kZXhdO1xuICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gZmlyc3REYXRhUm93LnNwbGl0KCd8JykuZmlsdGVyKGMgPT4gYy50cmltKCkpLmxlbmd0aDtcbiAgICBcbiAgICBpZiAoaGlnaGxpZ2h0Q29sdW1ucy5zaXplID09PSBjb2x1bW5Db3VudCB8fCBoaWdobGlnaHRDb3VudCA+PSB0b3RhbFJvd3MgLSAyKSB7XG4gICAgICByZXR1cm4gdGFibGVMaW5lcy5qb2luKCdcXG4nKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFx1NjBDNVx1NTFCNTI6IFx1NTM1NVx1ODg0Q1x1OUFEOFx1NEVBRVxuICBpZiAoaGlnaGxpZ2h0Um93cy5zaXplID09PSAxKSB7XG4gICAgY29uc3QgaGlnaGxpZ2h0Um93ID0gQXJyYXkuZnJvbShoaWdobGlnaHRSb3dzKVswXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXG4gICAgICB0YWJsZUxpbmVzWzBdLFxuICAgICAgdGFibGVMaW5lc1thY3R1YWxTZXBhcmF0b3JJbmRleF0sXG4gICAgICB0YWJsZUxpbmVzW2hpZ2hsaWdodFJvd11cbiAgICBdO1xuICAgIHJldHVybiByZXN1bHQuam9pbignXFxuJyk7XG4gIH1cbiAgXG4gIC8vIFx1NjBDNVx1NTFCNTM6IFx1NTkxQVx1ODg0Q1x1OUFEOFx1NEVBRVxuICBjb25zdCByZXN1bHQgPSBbdGFibGVMaW5lc1swXSwgdGFibGVMaW5lc1thY3R1YWxTZXBhcmF0b3JJbmRleF1dO1xuICBoaWdobGlnaHRSb3dzLmZvckVhY2gocm93SW5kZXggPT4ge1xuICAgIGlmIChyb3dJbmRleCAhPT0gMCAmJiByb3dJbmRleCAhPT0gYWN0dWFsU2VwYXJhdG9ySW5kZXgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHRhYmxlTGluZXNbcm93SW5kZXhdKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0LmpvaW4oJ1xcbicpO1xufVxuXG5wcml2YXRlIGFzeW5jIGV4dHJhY3RDbG96ZUNhcmRzKGZpbGU6IFRGaWxlLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPENvbnRlbnRVbml0W10+IHtcbiAgY29uc3QgdW5pdHM6IENvbnRlbnRVbml0W10gPSBbXTtcbiAgY29uc3QgaGlnaGxpZ2h0UmVnZXggPSAvPT0oLis/KT09L2c7XG4gIGNvbnN0IHByb2Nlc3NlZFRhYmxlcyA9IG5ldyBTZXQ8c3RyaW5nPigpOyAvLyBcdThCQjBcdTVGNTVcdTVERjJcdTU5MDRcdTc0MDZcdTc2ODRcdTg4NjhcdTY4M0NcbiAgY29uc3QgcHJvY2Vzc2VkSGlnaGxpZ2h0cyA9IG5ldyBTZXQ8bnVtYmVyPigpOyAvLyBcdUQ4M0NcdUREOTUgXHU4QkIwXHU1RjU1XHU1REYyXHU1OTA0XHU3NDA2XHU3Njg0XHU5QUQ4XHU0RUFFXHU0RjREXHU3RjZFXG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gaGlnaGxpZ2h0UmVnZXguZXhlYyhjb250ZW50KSkgIT09IG51bGwpIHtcbiAgICBjb25zdCBleHRyYWN0ZWRUZXh0ID0gbWF0Y2hbMV07XG4gICAgY29uc3QgZnVsbE1hdGNoID0gbWF0Y2hbMF07XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcblxuICAgIC8vIFx1RDgzQ1x1REQ5NSBcdThERjNcdThGQzdcdTVERjJcdTU5MDRcdTc0MDZcdTc2ODRcdTlBRDhcdTRFQUVcbiAgICBpZiAocHJvY2Vzc2VkSGlnaGxpZ2h0cy5oYXMobWF0Y2guaW5kZXgpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU4ODRDXHU1MTg1XHU1QkI5XG4gICAgY29uc3QgbGluZVN0YXJ0ID0gY29udGVudC5sYXN0SW5kZXhPZignXFxuJywgbWF0Y2guaW5kZXgpICsgMTtcbiAgICBjb25zdCBsaW5lRW5kID0gY29udGVudC5pbmRleE9mKCdcXG4nLCBtYXRjaC5pbmRleCk7XG4gICAgY29uc3QgY3VycmVudExpbmUgPSBjb250ZW50LnN1YnN0cmluZyhsaW5lU3RhcnQsIGxpbmVFbmQgPT09IC0xID8gY29udGVudC5sZW5ndGggOiBsaW5lRW5kKTtcbiAgICBcbiAgICAvLyBcdTI3MDUgXHU4REYzXHU4RkM3IEV4Y2FsaWRyYXcgXHU5QUQ4XHU0RUFFXG4gICAgaWYgKHRoaXMuaXNFeGNhbGlkcmF3SGlnaGxpZ2h0KGV4dHJhY3RlZFRleHQsIGN1cnJlbnRMaW5lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1RDgzQ1x1REQ5NSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTU3MjhcdTg4NjhcdTY4M0NcdTRFMkRcbiAgICAvLyBcdUQ4M0NcdUREOTUgXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1NzI4XHU4ODY4XHU2ODNDXHU0RTJEXG4gICAgY29uc3QgaW5UYWJsZSA9IHRoaXMuaXNJblRhYmxlKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICBcbiAgICBpZiAoaW5UYWJsZSkge1xuICAgICAgY29uc3QgdGFibGVJbmZvID0gdGhpcy5leHRyYWN0VGFibGVXaXRoSGlnaGxpZ2h0cyhjb250ZW50LCBtYXRjaC5pbmRleCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzSW5UYWJsZShjb250ZW50LCBtYXRjaC5pbmRleCkpIHtcbiAgICAgIGNvbnN0IHRhYmxlSW5mbyA9IHRoaXMuZXh0cmFjdFRhYmxlV2l0aEhpZ2hsaWdodHMoY29udGVudCwgbWF0Y2guaW5kZXgpO1xuICAgICAgXG4gICAgICBpZiAodGFibGVJbmZvKSB7XG5cbiAgICAgICAgY29uc3QgdGFibGVLZXkgPSBgJHtmaWxlLnBhdGh9LSR7dGFibGVJbmZvLnRhYmxlQ29udGVudC5zdWJzdHJpbmcoMCwgNTApfWA7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTkwN0ZcdTUxNERcdTkxQ0RcdTU5MERcdTU5MDRcdTc0MDZcdTU0MENcdTRFMDBcdTRFMkFcdTg4NjhcdTY4M0NcbiAgICAgICAgaWYgKHByb2Nlc3NlZFRhYmxlcy5oYXModGFibGVLZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc2VkVGFibGVzLmFkZCh0YWJsZUtleSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdUQ4M0NcdUREOTUgXHU2ODA3XHU4QkIwXHU4RkQ5XHU0RTJBXHU4ODY4XHU2ODNDXHU1MTg1XHU3Njg0XHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXHU0RTNBXHU1REYyXHU1OTA0XHU3NDA2XG4gICAgICAgIGNvbnN0IHRhYmxlSGlnaGxpZ2h0cyA9IHRoaXMuZmluZEFsbEhpZ2hsaWdodHNJblRhYmxlKGNvbnRlbnQsIHRhYmxlSW5mby50YWJsZUNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgdGFibGVIaWdobGlnaHRzLmZvckVhY2gocG9zID0+IHByb2Nlc3NlZEhpZ2hsaWdodHMuYWRkKHBvcykpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgY29uc3QgeyBsaW5lOiBjdXJyZW50TGluZUluZGV4IH0gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVxuICAgICAgICBsZXQgdGFibGVTdGFydCA9IGN1cnJlbnRMaW5lSW5kZXg7XG4gICAgICAgIHdoaWxlICh0YWJsZVN0YXJ0ID4gMCAmJiBsaW5lc1t0YWJsZVN0YXJ0IC0gMV0/LmluY2x1ZGVzKCd8JykpIHtcbiAgICAgICAgICB0YWJsZVN0YXJ0LS07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhYmxlTGluZXMgPSB0YWJsZUluZm8udGFibGVDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkVGFibGUgPSB0aGlzLmV4dHJhY3RUYWJsZVBvcnRpb24oXG4gICAgICAgICAgdGFibGVMaW5lcyxcbiAgICAgICAgICB0YWJsZUluZm8uaGlnaGxpZ2h0Um93cyxcbiAgICAgICAgICB0YWJsZUluZm8uaGlnaGxpZ2h0Q29sdW1ucyxcbiAgICAgICAgICB0YWJsZUluZm8uaGlnaGxpZ2h0Q291bnRcbiAgICAgICAgKTtcblxuXG4gICAgICAgIC8vIFx1RDgzRFx1REQyNyBcdTlBOENcdThCQzFcdTYzRDBcdTUzRDZcdTc2ODRcdTg4NjhcdTY4M0NcdTY2MkZcdTU0MjZcdTUzMDVcdTU0MkJcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcbmNvbnN0IGV4dHJhY3RlZExpbmVzID0gZXh0cmFjdGVkVGFibGUuc3BsaXQoJ1xcbicpO1xuY29uc3QgaGFzU2VwYXJhdG9yID0gZXh0cmFjdGVkTGluZXMuc29tZShsaW5lID0+IHtcbiAgY29uc3QgY2VsbHMgPSBsaW5lLnNwbGl0KCd8JykubWFwKGMgPT4gYy50cmltKCkpLmZpbHRlcihjID0+IGMpO1xuICByZXR1cm4gY2VsbHMubGVuZ3RoID4gMCAmJiBjZWxscy5ldmVyeShjZWxsID0+IC9eWy06XFxzXSskLy50ZXN0KGNlbGwpKTtcbn0pO1xuXG4vLyBcdTU5ODJcdTY3OUNcdTdGM0FcdTVDMTFcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcdUZGMENcdTgxRUFcdTUyQThcdTZERkJcdTUyQTBcbmlmICghaGFzU2VwYXJhdG9yICYmIGV4dHJhY3RlZExpbmVzLmxlbmd0aCA+PSAyKSB7XG4gIGNvbnN0IGhlYWRlckNlbGxzID0gZXh0cmFjdGVkTGluZXNbMF0uc3BsaXQoJ3wnKS5tYXAoYyA9PiBjLnRyaW0oKSkuZmlsdGVyKGMgPT4gYyk7XG4gIGNvbnN0IHNlcGFyYXRvciA9ICd8ICcgKyBoZWFkZXJDZWxscy5tYXAoKCkgPT4gJy0tLScpLmpvaW4oJyB8ICcpICsgJyB8JztcbiAgZXh0cmFjdGVkTGluZXMuc3BsaWNlKDEsIDAsIHNlcGFyYXRvcik7XG4gIGNvbnN0IGV4dHJhY3RlZFRhYmxlID0gZXh0cmFjdGVkTGluZXMuam9pbignXFxuJyk7XG59XG4gICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1ODg2OFx1NjgzQ1x1NTcyOFx1NjU4N1x1Njg2M1x1NEUyRFx1NzY4NFx1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVxuICAgICAgICBsZXQgdGFibGVTdGFydE9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGVTdGFydDsgaSsrKSB7XG4gICAgICAgICAgdGFibGVTdGFydE9mZnNldCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdUQ4M0NcdUREOTUgXHU2NTM2XHU5NkM2XHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXHU1MTg1XHU1QkI5XG4gICAgICAgIGNvbnN0IGFsbEhpZ2hsaWdodHMgPSB0aGlzLmV4dHJhY3RBbGxIaWdobGlnaHRzRnJvbVRhYmxlKHRhYmxlSW5mby50YWJsZUNvbnRlbnQpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdW5pdDogQ29udGVudFVuaXQgPSB7XG4gICAgICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIHR5cGU6ICdjbG96ZScsXG4gICAgICAgICAgY29udGVudDogYWxsSGlnaGxpZ2h0cy5qb2luKCcsICcpLCAvLyBcdUQ4M0NcdUREOTUgXHU1MzA1XHU1NDJCXHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXG4gICAgICAgICAgZnVsbENvbnRleHQ6IGV4dHJhY3RlZFRhYmxlLCAvLyBcdTY2M0VcdTc5M0FcdTYzRDBcdTUzRDZcdTc2ODRcdTg4NjhcdTY4M0NcdTkwRThcdTUyMDZcbiAgICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIGZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIHN0YXJ0OiB0YWJsZVN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICBlbmQ6IHRhYmxlU3RhcnRPZmZzZXQgKyB0YWJsZUluZm8udGFibGVDb250ZW50Lmxlbmd0aCxcbiAgICAgICAgICAgICAgbGluZTogdGFibGVTdGFydFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRpbmc6IHRoaXMuZmluZEhlYWRpbmcoY29udGVudCwgbWF0Y2guaW5kZXgpLFxuICAgICAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgICAgIHJ1bGVJZDogJ2Nsb3plLXRhYmxlJyxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiAnVGFibGUgQ2xvemUgRGVsZXRpb24nLFxuICAgICAgICAgICAgZXh0cmFjdGVkQnk6ICdhdXRvJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHRhZ3M6IFsuLi50aGlzLmV4dHJhY3RUYWdzKGNvbnRlbnQsIG1hdGNoLmluZGV4KSwgJyN0YWJsZSddLFxuICAgICAgICAgICAgY3VzdG9tRGF0YToge1xuICAgICAgICAgICAgICB0YWJsZVR5cGU6ICdwYXJ0aWFsJyxcbiAgICAgICAgICAgICAgaGlnaGxpZ2h0Q291bnQ6IHRhYmxlSW5mby5oaWdobGlnaHRDb3VudCxcbiAgICAgICAgICAgICAgcm93Q291bnQ6IHRhYmxlSW5mby5oaWdobGlnaHRSb3dzLnNpemUsXG4gICAgICAgICAgICAgIGNvbHVtbkNvdW50OiB0YWJsZUluZm8uaGlnaGxpZ2h0Q29sdW1ucy5zaXplLFxuICAgICAgICAgICAgICBhbGxIaWdobGlnaHRzOiBhbGxIaWdobGlnaHRzIC8vIFx1RDgzQ1x1REQ5NSBcdTRGRERcdTVCNThcdTYyNDBcdTY3MDlcdTlBRDhcdTRFQUVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZsYXNoY2FyZElkczogW11cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHVuaXRzLnB1c2godW5pdCk7XG5cbi8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjkgLSBcdTYyNkJcdTYzQ0ZcdTUyMzBcdTg4NjhcdTY4M0NcbmlmICh0aGlzLnBsdWdpbj8udW5sb2NrU3lzdGVtKSB7XG4gIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vblRhYmxlU2Nhbm5lZCgpO1xufVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gXHU1MzlGXHU2NzA5XHU3Njg0XHU2NjZFXHU5MDFBXHU5QUQ4XHU0RUFFXHU1OTA0XHU3NDA2XHU5MDNCXHU4RjkxLi4uXG4gICAgY29uc3QgZnVsbFNlbnRlbmNlID0gdGhpcy5leHRyYWN0RnVsbFNlbnRlbmNlKGNvbnRlbnQsIG1hdGNoLmluZGV4LCBmdWxsTWF0Y2gubGVuZ3RoKTtcblxuICAgIGNvbnN0IHVuaXQ6IENvbnRlbnRVbml0ID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdHlwZTogJ2Nsb3plJyxcbiAgICAgIGNvbnRlbnQ6IGV4dHJhY3RlZFRleHQudHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IGZ1bGxTZW50ZW5jZSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG1hdGNoLmluZGV4LFxuICAgICAgICAgIGVuZDogbWF0Y2guaW5kZXggKyBmdWxsTWF0Y2gubGVuZ3RoLFxuICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhjb250ZW50LCBtYXRjaC5pbmRleCksXG4gICAgICAgIGFuY2hvckxpbms6IGBbWyR7ZmlsZS5iYXNlbmFtZX0jXiR7dGhpcy5nZW5lcmF0ZUJsb2NrSWQoKX1dXWBcbiAgICAgIH0sXG4gICAgICBleHRyYWN0UnVsZToge1xuICAgICAgICBydWxlSWQ6ICdjbG96ZScsXG4gICAgICAgIHJ1bGVOYW1lOiAnQ2xvemUgRGVsZXRpb24nLFxuICAgICAgICBleHRyYWN0ZWRCeTogJ2F1dG8nXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHRhZ3M6IHRoaXMuZXh0cmFjdFRhZ3MoY29udGVudCwgbWF0Y2guaW5kZXgpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG5cbiAgICB1bml0cy5wdXNoKHVuaXQpO1xuICB9XG5cbiAgcmV0dXJuIHVuaXRzO1xufVxuXG4vLyBcdUQ4M0NcdUREOTUgXHU2REZCXHU1MkEwXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1Olx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1NTE4NVx1NjI0MFx1NjcwOVx1OUFEOFx1NEVBRVx1NzY4NFx1NEY0RFx1N0Y2RVxucHJpdmF0ZSBmaW5kQWxsSGlnaGxpZ2h0c0luVGFibGUoXG4gIGNvbnRlbnQ6IHN0cmluZywgXG4gIHRhYmxlQ29udGVudDogc3RyaW5nLCBcbiAgY3VycmVudEhpZ2hsaWdodFBvczogbnVtYmVyXG4pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHBvc2l0aW9uczogbnVtYmVyW10gPSBbXTtcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgY29uc3QgeyBsaW5lOiBjdXJyZW50TGluZSB9ID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBjdXJyZW50SGlnaGxpZ2h0UG9zKTtcbiAgXG4gIC8vIFx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1ODMwM1x1NTZGNFxuICBsZXQgdGFibGVTdGFydCA9IGN1cnJlbnRMaW5lO1xuICBsZXQgdGFibGVFbmQgPSBjdXJyZW50TGluZTtcbiAgXG4gIHdoaWxlICh0YWJsZVN0YXJ0ID4gMCAmJiBsaW5lc1t0YWJsZVN0YXJ0IC0gMV0/LmluY2x1ZGVzKCd8JykpIHtcbiAgICB0YWJsZVN0YXJ0LS07XG4gIH1cbiAgd2hpbGUgKHRhYmxlRW5kIDwgbGluZXMubGVuZ3RoIC0gMSAmJiBsaW5lc1t0YWJsZUVuZCArIDFdPy5pbmNsdWRlcygnfCcpKSB7XG4gICAgdGFibGVFbmQrKztcbiAgfVxuICBcbiAgLy8gXHU4QkExXHU3Qjk3XHU4ODY4XHU2ODNDXHU4RDc3XHU1OUNCXHU1MDRGXHU3OUZCXG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYmxlU3RhcnQ7IGkrKykge1xuICAgIG9mZnNldCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xuICB9XG4gIFxuICAvLyBcdTU3MjhcdTg4NjhcdTY4M0NcdTgzMDNcdTU2RjRcdTUxODVcdTY3RTVcdTYyN0VcdTYyNDBcdTY3MDlcdTlBRDhcdTRFQUVcbiAgY29uc3QgaGlnaGxpZ2h0UmVnZXggPSAvPT0oLis/KT09L2c7XG4gIGxldCBtYXRjaDtcbiAgY29uc3QgdGFibGVFbmRPZmZzZXQgPSBvZmZzZXQgKyB0YWJsZUNvbnRlbnQubGVuZ3RoO1xuICBcbiAgd2hpbGUgKChtYXRjaCA9IGhpZ2hsaWdodFJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gICAgaWYgKG1hdGNoLmluZGV4ID49IG9mZnNldCAmJiBtYXRjaC5pbmRleCA8IHRhYmxlRW5kT2Zmc2V0KSB7XG4gICAgICBwb3NpdGlvbnMucHVzaChtYXRjaC5pbmRleCk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gcG9zaXRpb25zO1xufVxuXG4vLyBcdUQ4M0NcdUREOTUgXHU2REZCXHU1MkEwXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1Olx1NjNEMFx1NTNENlx1ODg2OFx1NjgzQ1x1NEUyRFx1NjI0MFx1NjcwOVx1OUFEOFx1NEVBRVx1NTE4NVx1NUJCOVxucHJpdmF0ZSBleHRyYWN0QWxsSGlnaGxpZ2h0c0Zyb21UYWJsZSh0YWJsZUNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgaGlnaGxpZ2h0czogc3RyaW5nW10gPSBbXTtcbiAgY29uc3QgaGlnaGxpZ2h0UmVnZXggPSAvPT0oLis/KT09L2c7XG4gIGxldCBtYXRjaDtcbiAgXG4gIHdoaWxlICgobWF0Y2ggPSBoaWdobGlnaHRSZWdleC5leGVjKHRhYmxlQ29udGVudCkpICE9PSBudWxsKSB7XG4gICAgaGlnaGxpZ2h0cy5wdXNoKG1hdGNoWzFdLnRyaW0oKSk7XG4gIH1cbiAgXG4gIHJldHVybiBoaWdobGlnaHRzO1xufVxuXG59IiwgIi8vIGFubm90YXRpb24gTWFuYWdlci50c1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5ub3RhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRhcmdldFR5cGU6ICdjb250ZW50JyB8ICdmaWxlJztcbiAgdGFyZ2V0SWQ6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBiYWRnZT86IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgY29sb3I6IHN0cmluZztcbiAgICBpY29uPzogc3RyaW5nO1xuICB9O1xuICBtZXRhZGF0YToge1xuICAgIGNyZWF0ZWRBdDogbnVtYmVyO1xuICAgIHVwZGF0ZWRBdDogbnVtYmVyO1xuICAgIGlzUGlubmVkPzogYm9vbGVhbjtcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uczogTWFwPHN0cmluZywgQW5ub3RhdGlvbj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZGF0YUZvbGRlcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luXG4gICkge1xuICAgIHRoaXMuZGF0YUZvbGRlciA9IGAke3RoaXMuYXBwLnZhdWx0LmNvbmZpZ0Rpcn0vcGx1Z2lucy9sZWFybmluZy1zeXN0ZW0vZGF0YWA7XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIGF3YWl0IHRoaXMubG9hZEFubm90YXRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MkEwXHU4RjdEXHU2MjQwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGxvYWRBbm5vdGF0aW9ucygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vYW5ub3RhdGlvbnMuanNvbmA7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQocGF0aCk7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBhbm5vdGF0aW9uIG9mIGFubm90YXRpb25zKSB7XG4gICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucy5zZXQoYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBhbm5vdGF0aW9uczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NkRGQlx1NTJBMFx1NTE4NVx1NUJCOVx1NjI3OVx1NkNFOFxuICAgKi9cbiAgYXN5bmMgYWRkQ29udGVudEFubm90YXRpb24oXG4gICAgY29udGVudFVuaXRJZDogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBiYWRnZT86IEFubm90YXRpb25bJ2JhZGdlJ11cbiAgKTogUHJvbWlzZTxBbm5vdGF0aW9uPiB7XG4gICAgY29uc3QgYW5ub3RhdGlvbjogQW5ub3RhdGlvbiA9IHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHRhcmdldFR5cGU6ICdjb250ZW50JyxcbiAgICAgIHRhcmdldElkOiBjb250ZW50VW5pdElkLFxuICAgICAgY29udGVudCxcbiAgICAgIGJhZGdlLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KClcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hbm5vdGF0aW9ucy5zZXQoYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbik7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4vLyBcdUQ4M0NcdURGQUYgXHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXHU2OEMwXHU2N0U1XHU3MEI5XG5hd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25Bbm5vdGF0aW9uQ29tcGxldGVkKCk7XG4gICAgLy8gXHU2NkY0XHU2NUIwIENvbnRlbnRVbml0IFx1NTE3M1x1ODA1NFxuICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY29udGVudFVuaXRJZCk7XG4gICAgaWYgKGNvbnRlbnRVbml0KSB7XG4gICAgICBjb250ZW50VW5pdC5hbm5vdGF0aW9uSWQgPSBhbm5vdGF0aW9uLmlkO1xuICAgICAgY29udGVudFVuaXQubWV0YWRhdGEudXBkYXRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdChjb250ZW50VW5pdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFubm90YXRpb247XG4gIH1cblxuICAvKipcbiAgICogXHU2REZCXHU1MkEwXHU2NTg3XHU0RUY2XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBhc3luYyBhZGRGaWxlQW5ub3RhdGlvbihcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IHN0cmluZ1xuICApOiBQcm9taXNlPEFubm90YXRpb24+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9uOiBBbm5vdGF0aW9uID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdGFyZ2V0VHlwZTogJ2ZpbGUnLFxuICAgICAgdGFyZ2V0SWQ6IGZpbGVQYXRoLFxuICAgICAgY29udGVudCxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYW5ub3RhdGlvbnMuc2V0KGFubm90YXRpb24uaWQsIGFubm90YXRpb24pO1xuICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuXG5cbi8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjlcbmF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkFubm90YXRpb25Db21wbGV0ZWQoKTtcbiAgICByZXR1cm4gYW5ub3RhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTYyNzlcdTZDRThcbiAgICovXG4gIGdldEFubm90YXRpb24oaWQ6IHN0cmluZyk6IEFubm90YXRpb24gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmFubm90YXRpb25zLmdldChpZCk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MTg1XHU1QkI5XHU3Njg0XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBnZXRDb250ZW50QW5ub3RhdGlvbihjb250ZW50VW5pdElkOiBzdHJpbmcpOiBBbm5vdGF0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNvbnRlbnRVbml0SWQpO1xuICAgIGlmICghY29udGVudFVuaXQ/LmFubm90YXRpb25JZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5hbm5vdGF0aW9ucy5nZXQoY29udGVudFVuaXQuYW5ub3RhdGlvbklkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTY1ODdcdTRFRjZcdTc2ODRcdTYyNDBcdTY3MDlcdTYyNzlcdTZDRThcbiAgICovXG4gIGdldEZpbGVBbm5vdGF0aW9ucyhmaWxlUGF0aDogc3RyaW5nKTogQW5ub3RhdGlvbltdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFubm90YXRpb25zLnZhbHVlcygpKS5maWx0ZXIoXG4gICAgICBhbm4gPT4gYW5uLnRhcmdldFR5cGUgPT09ICdmaWxlJyAmJiBhbm4udGFyZ2V0SWQgPT09IGZpbGVQYXRoXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTY2RjRcdTY1QjBcdTYyNzlcdTZDRThcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUFubm90YXRpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEFubm90YXRpb24+XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLmFubm90YXRpb25zLmdldChpZCk7XG4gICAgaWYgKCFhbm5vdGF0aW9uKSByZXR1cm47XG5cbiAgICBPYmplY3QuYXNzaWduKGFubm90YXRpb24sIHVwZGF0ZXMsIHtcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIC4uLmFubm90YXRpb24ubWV0YWRhdGEsXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MjIwXHU5NjY0XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBhc3luYyBkZWxldGVBbm5vdGF0aW9uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9uID0gdGhpcy5hbm5vdGF0aW9ucy5nZXQoaWQpO1xuICAgIGlmICghYW5ub3RhdGlvbikgcmV0dXJuO1xuXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NjJGXHU1MTg1XHU1QkI5XHU2Mjc5XHU2Q0U4XHVGRjBDXHU4OUUzXHU5NjY0XHU1MTczXHU4MDU0XG4gICAgaWYgKGFubm90YXRpb24udGFyZ2V0VHlwZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGFubm90YXRpb24udGFyZ2V0SWQpO1xuICAgICAgaWYgKGNvbnRlbnRVbml0KSB7XG4gICAgICAgIGNvbnRlbnRVbml0LmFubm90YXRpb25JZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0KGNvbnRlbnRVbml0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFubm90YXRpb25zLmRlbGV0ZShpZCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBnZXRBbGxBbm5vdGF0aW9ucygpOiBBbm5vdGF0aW9uW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYW5ub3RhdGlvbnMudmFsdWVzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjMwMVx1NEU0NVx1NTMxNlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwZXJzaXN0KCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9hbm5vdGF0aW9ucy5qc29uYDtcbiAgICAgIGNvbnN0IGFubm90YXRpb25zID0gQXJyYXkuZnJvbSh0aGlzLmFubm90YXRpb25zLnZhbHVlcygpKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShhbm5vdGF0aW9ucywgbnVsbCwgMik7XG4gICAgICBcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBlcnNpc3RpbmcgYW5ub3RhdGlvbnM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTc1MUZcdTYyMTBcdTU1MkZcdTRFMDAgSURcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgYW5uLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgfVxufSIsICIvLyBmbGFzaGNhcmQgbWFuYWdlci50c1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgRGF0YU1hbmFnZXIsIENvbnRlbnRVbml0IH0gZnJvbSAnLi9EYXRhTWFuYWdlcic7IFxuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hjYXJkIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ3FhJyB8ICdjbG96ZSc7XG4gIHNvdXJjZUNvbnRlbnRJZDogc3RyaW5nO1xuICBzb3VyY2VGaWxlOiBzdHJpbmc7XG4gIGFuY2hvckxpbms6IHN0cmluZztcbiAgXG4gIC8vIFx1NTM2MVx1NzI0N1x1NTE4NVx1NUJCOVxuICBmcm9udDogc3RyaW5nO1xuICBiYWNrOiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgXG4gIC8vIFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NEUxM1x1NzUyOFxuICBjbG96ZT86IHtcbiAgICBvcmlnaW5hbDogc3RyaW5nO1xuICAgIGRlbGV0aW9uczoge1xuICAgICAgaW5kZXg6IG51bWJlcjtcbiAgICAgIGFuc3dlcjogc3RyaW5nO1xuICAgICAgYWx0ZXJuYXRpdmVzPzogc3RyaW5nW107XG4gICAgfVtdO1xuICB9O1xuICBcbiAgLy8gXHU1MjA2XHU3RUM0XG4gIGRlY2s6IHN0cmluZztcbiAgdGFnczogc3RyaW5nW107XG4gIFxuICAvLyBcdTU5MERcdTRFNjBcdTY1NzBcdTYzNkVcbiAgc2NoZWR1bGluZzoge1xuICAgIGludGVydmFsOiBudW1iZXI7XG4gICAgZWFzZTogbnVtYmVyO1xuICAgIGR1ZTogbnVtYmVyO1xuICAgIGxhcHNlczogbnVtYmVyO1xuICAgIHJlcHM6IG51bWJlcjtcbiAgICBzdGF0ZTogJ25ldycgfCAnbGVhcm5pbmcnIHwgJ3JldmlldycgfCAncmVsZWFybmluZyc7XG4gIH07XG4gIFxuICAvLyBcdTdFREZcdThCQTFcbiAgc3RhdHM6IHtcbiAgICB0b3RhbFJldmlld3M6IG51bWJlcjtcbiAgICBjb3JyZWN0Q291bnQ6IG51bWJlcjtcbiAgICBhdmVyYWdlVGltZTogbnVtYmVyO1xuICAgIGxhc3RSZXZpZXc/OiBudW1iZXI7XG4gICAgZGlmZmljdWx0eTogbnVtYmVyO1xuICB9O1xuICBcbiAgbWV0YWRhdGE6IHtcbiAgICBjcmVhdGVkQXQ6IG51bWJlcjtcbiAgICB1cGRhdGVkQXQ6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXZpZXdMb2cge1xuICBpZDogc3RyaW5nO1xuICBmbGFzaGNhcmRJZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgY3ljbGU/OiBudW1iZXI7XG4gIHJlc3BvbnNlOiB7XG4gICAgdXNlckFuc3dlcj86IHN0cmluZyB8IHN0cmluZ1tdO1xuICAgIHRpbWVTcGVudDogbnVtYmVyO1xuICAgIGVhc2U6ICdhZ2FpbicgfCAnaGFyZCcgfCAnZ29vZCcgfCAnZWFzeSc7XG4gIH07XG4gIGdyYWRpbmc/OiB7XG4gICAgY29ycmVjdG5lc3M6ICdjb3JyZWN0JyB8ICdwYXJ0aWFsJyB8ICd3cm9uZyc7XG4gICAgc2ltaWxhcml0eT86IG51bWJlcjtcbiAgfTtcbiAgc2NoZWR1bGluZ0NoYW5nZToge1xuICAgIG9sZEludGVydmFsOiBudW1iZXI7XG4gICAgbmV3SW50ZXJ2YWw6IG51bWJlcjtcbiAgICBvbGRFYXNlOiBudW1iZXI7XG4gICAgbmV3RWFzZTogbnVtYmVyO1xuICB9O1xufVxuaW50ZXJmYWNlIERlbGV0ZWRJdGVtIHtcbiAgdHlwZTogJ2ZsYXNoY2FyZCcgfCAnbm90ZSc7XG4gIGlkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IGFueTtcbiAgZGVsZXRlZEF0OiBudW1iZXI7XG4gIGRlbGV0ZWRCeTogc3RyaW5nO1xuICBtZXRhZGF0YT86IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIEZsYXNoY2FyZE1hbmFnZXIge1xuICBwcml2YXRlIGZsYXNoY2FyZHM6IE1hcDxzdHJpbmcsIEZsYXNoY2FyZD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmV2aWV3TG9nczogUmV2aWV3TG9nW10gPSBbXTtcbiAgcHJpdmF0ZSBkYXRhRm9sZGVyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHA6IEFwcCxcbiAgICBwcml2YXRlIGRhdGFNYW5hZ2VyOiBEYXRhTWFuYWdlcixcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW5cbiAgKSB7XG4gICAgdGhpcy5kYXRhRm9sZGVyID0gYCR7dGhpcy5hcHAudmF1bHQuY29uZmlnRGlyfS9wbHVnaW5zL2xlYXJuaW5nLXN5c3RlbS9kYXRhYDtcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkRmxhc2hjYXJkcygpO1xuICAgIGF3YWl0IHRoaXMubG9hZFJldmlld0xvZ3MoKTtcbiAgICBhd2FpdCB0aGlzLmxvYWREZWxldGVIaXN0b3J5KCk7XG4gICAgYXdhaXQgdGhpcy5sb2FkRGVsZXRlSGlzdG9yeSgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3RURGXHU0RTAwXHU1MjFCXHU1RUZBXHU1MTY1XHU1M0UzID09PT09PT09PT09PT09PT09PT09XG4gIFxuICAvKipcbiAgICogXHVEODNDXHVERDk1IFx1N0VERlx1NEUwMFx1NTE2NVx1NTNFMzogXHU0RUNFIENvbnRlbnRVbml0IFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVxuICAgKiBcdTkwMDJcdTkxNERcdTYyNDBcdTY3MDlcdTU3M0FcdTY2NkY6IFx1NTNGM1x1OTUyRVx1NjNEMFx1NTNENlx1MzAwMVNjYW5cdTMwMDFcdTYyNzlcdTkxQ0ZcdTUyMUJcdTVFRkFcdTMwMDFcdTVGRUJcdTkwMUZcdTc1MUZcdTYyMTBcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUZsYXNoY2FyZEZyb21Vbml0KFxuICAgIHVuaXQ6IENvbnRlbnRVbml0LFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBjdXN0b21RdWVzdGlvbj86IHN0cmluZztcbiAgICAgIGN1c3RvbUFuc3dlcj86IHN0cmluZztcbiAgICAgIGNhcmRUeXBlPzogJ3FhJyB8ICdjbG96ZSc7XG4gICAgfVxuICApOiBQcm9taXNlPEZsYXNoY2FyZD4ge1xuICAgIFxuICAgIFxuICAgIGNvbnN0IGNhcmRUeXBlID0gb3B0aW9ucz8uY2FyZFR5cGUgfHwgKHVuaXQudHlwZSA9PT0gJ1FBJyA/ICdxYScgOiAnY2xvemUnKTtcbiAgXG4gICAgbGV0IGZsYXNoY2FyZDogRmxhc2hjYXJkO1xuICBcbiAgICBpZiAoY2FyZFR5cGUgPT09ICdxYScgfHwgdW5pdC50eXBlID09PSAnUUEnKSB7XG4gICAgICBjb25zdCBxdWVzdGlvbiA9IG9wdGlvbnM/LmN1c3RvbVF1ZXN0aW9uIHx8IHVuaXQuY29udGVudDtcbiAgICAgIGNvbnN0IGFuc3dlciA9IG9wdGlvbnM/LmN1c3RvbUFuc3dlciB8fCB1bml0LmFuc3dlciB8fCB1bml0LmNvbnRlbnQ7XG4gICAgICBcbiAgICAgIGZsYXNoY2FyZCA9IGF3YWl0IHRoaXMuY3JlYXRlUUFDYXJkKHVuaXQuaWQsIHF1ZXN0aW9uLCBhbnN3ZXIpO1xuICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRleHQgPSB1bml0LmZ1bGxDb250ZXh0IHx8IHVuaXQuY29udGVudDtcbiAgICAgIGNvbnN0IGFuc3dlciA9IG9wdGlvbnM/LmN1c3RvbUFuc3dlciB8fCB1bml0LmNvbnRlbnQ7XG4gICAgICBcbiAgICAgIGNvbnN0IGRlbGV0aW9ucyA9IFt7XG4gICAgICAgIGluZGV4OiB0ZXh0LmluZGV4T2YoYW5zd2VyKSxcbiAgICAgICAgYW5zd2VyOiBhbnN3ZXJcbiAgICAgIH1dO1xuICAgICAgXG5cbiAgICAgIGZsYXNoY2FyZCA9IGF3YWl0IHRoaXMuY3JlYXRlQ2xvemVDYXJkKHVuaXQuaWQsIHRleHQsIGRlbGV0aW9ucyk7XG4gICAgfVxuICBcbiAgICAvLyBcdUQ4M0NcdURGQUYgXHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXHU2OEMwXHU2N0U1XHU3MEI5XG5hd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25DYXJkRXh0cmFjdGVkKCk7XG4gIFxuICAgIHJldHVybiBmbGFzaGNhcmQ7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY4MzhcdTVGQzNcdTUyMUJcdTVFRkFcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU5NUVFXHU3QjU0XHU1MzYxXHVGRjA4XHU1NTJGXHU0RTAwXHU3MjQ4XHU2NzJDXHVGRjBDXHU1NDA4XHU1RTc2XHU0RTg2XHU2MjQwXHU2NzA5XHU1MjlGXHU4MEZEXHVGRjA5XG4gICAqL1xuICBhc3luYyBjcmVhdGVRQUNhcmQoXG4gICAgY29udGVudFVuaXRJZDogc3RyaW5nLFxuICAgIHF1ZXN0aW9uOiBzdHJpbmcsXG4gICAgYW5zd2VyOiBzdHJpbmcsXG4gICAgZGVjaz86IHN0cmluZ1xuICApOiBQcm9taXNlPEZsYXNoY2FyZD4ge1xuICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChjb250ZW50VW5pdElkKTtcbiAgICBpZiAoIWNvbnRlbnRVbml0KSB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgdW5pdCBub3QgZm91bmQnKTtcblxuICAgIGNvbnN0IGNhcmQ6IEZsYXNoY2FyZCA9IHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHR5cGU6ICdxYScsXG4gICAgICBzb3VyY2VDb250ZW50SWQ6IGNvbnRlbnRVbml0SWQsXG4gICAgICBzb3VyY2VGaWxlOiBjb250ZW50VW5pdC5zb3VyY2UuZmlsZSxcbiAgICAgIGFuY2hvckxpbms6IGNvbnRlbnRVbml0LnNvdXJjZS5hbmNob3JMaW5rLFxuICAgICAgZnJvbnQ6IHF1ZXN0aW9uLFxuICAgICAgYmFjazogYW5zd2VyLFxuICAgICAgZGVjazogZGVjayB8fCB0aGlzLmluZmVyRGVjayhjb250ZW50VW5pdC5zb3VyY2UuZmlsZSksXG4gICAgICB0YWdzOiBjb250ZW50VW5pdC5tZXRhZGF0YS50YWdzLFxuICAgICAgc2NoZWR1bGluZzogdGhpcy5pbml0aWFsaXplU2NoZWR1bGluZygpLFxuICAgICAgc3RhdHM6IHtcbiAgICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgICBkaWZmaWN1bHR5OiAwLjVcbiAgICAgIH0sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmZsYXNoY2FyZHMuc2V0KGNhcmQuaWQsIGNhcmQpO1xuICAgIFxuICAgIC8vIFx1NjZGNFx1NjVCMCBDb250ZW50VW5pdCBcdTUxNzNcdTgwNTRcbiAgICBjb250ZW50VW5pdC5mbGFzaGNhcmRJZHMucHVzaChjYXJkLmlkKTtcbiAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdHMoW2NvbnRlbnRVbml0XSk7XG4gICAgXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0Rmxhc2hjYXJkcygpO1xuICAgIC8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjlcbi8vIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkNhcmRFeHRyYWN0ZWQoKTtcbnJldHVybiBjYXJkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NTIxQlx1NUVGQVx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NTM2MVx1RkYwOFx1NTUyRlx1NEUwMFx1NzI0OFx1NjcyQ1x1RkYwQ1x1NTQwOFx1NUU3Nlx1NEU4Nlx1NjI0MFx1NjcwOVx1NTI5Rlx1ODBGRFx1RkYwOVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlQ2xvemVDYXJkKFxuICAgIGNvbnRlbnRVbml0SWQ6IHN0cmluZyxcbiAgICBvcmlnaW5hbDogc3RyaW5nLFxuICAgIGRlbGV0aW9uczogeyBpbmRleDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZzsgYWx0ZXJuYXRpdmVzPzogc3RyaW5nW10gfVtdXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNvbnRlbnRVbml0SWQpO1xuICAgIGlmICghY29udGVudFVuaXQpIHRocm93IG5ldyBFcnJvcignQ29udGVudCB1bml0IG5vdCBmb3VuZCcpO1xuICBcbiAgICAvLyBcdTIxOTAgXHU0RkVFXHU2NTM5XHU4RkQ5XHU5MUNDOlx1NjhDMFx1NkQ0Qlx1NjYyRlx1NTQyNlx1NEUzQVx1ODg2OFx1NjgzQ1xuICAgIGNvbnN0IGlzVGFibGUgPSB0aGlzLmlzVGFibGVGb3JtYXQob3JpZ2luYWwpO1xuICAgIFxuICAgIGNvbnN0IGZyb250ID0gaXNUYWJsZSBcbiAgICAgID8gb3JpZ2luYWwgIC8vIFx1MjE5MCBcdTg4NjhcdTY4M0NcdTc2RjRcdTYzQTVcdTRGN0ZcdTc1MjhcdTUzOUZcdTY1ODcsXHU0RkREXHU3NTU5ID09IFx1NjgwN1x1OEJCMFxuICAgICAgOiB0aGlzLmdlbmVyYXRlQ2xvemVUZXh0KG9yaWdpbmFsLCBkZWxldGlvbnMpOyAgLy8gXHUyMTkwIFx1OTc1RVx1ODg2OFx1NjgzQ1x1NjI0RFx1NjZGRlx1NjM2Mlx1NEUzQSBbLi4uXVxuICAgICAgXG4gICAgY29uc3QgYmFjayA9IGRlbGV0aW9ucy5tYXAoZCA9PiBkLmFuc3dlcik7XG4gIFxuICAgIC8vIFx1MjE5MCBcdTYyOEFcdTRFMEJcdTk3NjJcdThGRDlcdTRFOUJcdTRFRTNcdTc4MDFcdTg4NjVcdTUxNDVcdTVCOENcdTY1NzRcbiAgICBjb25zdCBjYXJkOiBGbGFzaGNhcmQgPSB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiAnY2xvemUnLFxuICAgICAgc291cmNlQ29udGVudElkOiBjb250ZW50VW5pdElkLFxuICAgICAgc291cmNlRmlsZTogY29udGVudFVuaXQuc291cmNlLmZpbGUsXG4gICAgICBhbmNob3JMaW5rOiBjb250ZW50VW5pdC5zb3VyY2UuYW5jaG9yTGluayxcbiAgICAgIGZyb250LFxuICAgICAgYmFjayxcbiAgICAgIGNsb3plOiB7XG4gICAgICAgIG9yaWdpbmFsLFxuICAgICAgICBkZWxldGlvbnNcbiAgICAgIH0sXG4gICAgICBkZWNrOiB0aGlzLmluZmVyRGVjayhjb250ZW50VW5pdC5zb3VyY2UuZmlsZSksXG4gICAgICB0YWdzOiBjb250ZW50VW5pdC5tZXRhZGF0YS50YWdzLFxuICAgICAgc2NoZWR1bGluZzogdGhpcy5pbml0aWFsaXplU2NoZWR1bGluZygpLFxuICAgICAgc3RhdHM6IHtcbiAgICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgICBkaWZmaWN1bHR5OiAwLjVcbiAgICAgIH0sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH07XG4gIFxuICAgIHRoaXMuZmxhc2hjYXJkcy5zZXQoY2FyZC5pZCwgY2FyZCk7XG4gICAgXG4gICAgY29udGVudFVuaXQuZmxhc2hjYXJkSWRzLnB1c2goY2FyZC5pZCk7XG4gICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5zYXZlQ29udGVudFVuaXRzKFtjb250ZW50VW5pdF0pO1xuICAgIFxuICAgIGF3YWl0IHRoaXMucGVyc2lzdEZsYXNoY2FyZHMoKTtcbiAgICAvLyBcdUQ4M0NcdURGQUYgXHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXHU2OEMwXHU2N0U1XHU3MEI5XG4vLyBhd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25DYXJkRXh0cmFjdGVkKCk7XG4gICAgcmV0dXJuIGNhcmQ7ICAvLyBcdTIxOTAgXHU1RkM1XHU5ODdCXHU2NzA5XHU4RkQ5XHU0RTAwXHU4ODRDIVxuICB9IFxuICBcbiAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENVxuICBwcml2YXRlIGlzVGFibGVGb3JtYXQodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0ZXh0IHx8ICF0ZXh0LnRyaW0oKSkgcmV0dXJuIGZhbHNlOyAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1N0E3QVx1NTAzQ1x1NjhDMFx1NjdFNVxuICAgIFxuICAgIGNvbnN0IGxpbmVzID0gdGV4dC50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIGlmIChsaW5lcy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgaGFzU2VwYXJhdG9yID0gbGluZXMuc29tZShsaW5lID0+IC9eXFx8P1tcXHMtOnxdK1xcfD8kLy50ZXN0KGxpbmUudHJpbSgpKSk7XG4gICAgY29uc3QgcGlwZUxpbmVzID0gbGluZXMuZmlsdGVyKGxpbmUgPT4gbGluZS5pbmNsdWRlcygnfCcpKS5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIGhhc1NlcGFyYXRvciB8fCBwaXBlTGluZXMgPj0gbGluZXMubGVuZ3RoICogMC43O1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2N0U1XHU4QkUyXHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1OTVFQVx1NTM2MVxuICAgKi9cbiAgZ2V0Rmxhc2hjYXJkKGlkOiBzdHJpbmcpOiBGbGFzaGNhcmQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmZsYXNoY2FyZHMuZ2V0KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTk1RUFcdTUzNjFcbiAgICovXG4gIGdldEFsbEZsYXNoY2FyZHMoKTogRmxhc2hjYXJkW10ge1xuICAgIGNvbnN0IGNhcmRzID0gQXJyYXkuZnJvbSh0aGlzLmZsYXNoY2FyZHMudmFsdWVzKCkpO1xuICAgIHJldHVybiBjYXJkcztcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTRFQ0FcdTY1RTVcdTVGODVcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDdcbiAgICovXG4gIGdldER1ZUNhcmRzKCk6IEZsYXNoY2FyZFtdIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZmxhc2hjYXJkcy52YWx1ZXMoKSlcbiAgICAgIC5maWx0ZXIoY2FyZCA9PiBjYXJkLnNjaGVkdWxpbmcuZHVlIDw9IG5vdylcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGFQcmlvcml0eSA9IHRoaXMuZ2V0Q2FyZFByaW9yaXR5KGEpO1xuICAgICAgICBjb25zdCBiUHJpb3JpdHkgPSB0aGlzLmdldENhcmRQcmlvcml0eShiKTtcbiAgICAgICAgcmV0dXJuIGJQcmlvcml0eSAtIGFQcmlvcml0eTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NjVCMFx1NTM2MVx1NzI0N1xuICAgKi9cbiAgZ2V0TmV3Q2FyZHMoKTogRmxhc2hjYXJkW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZmxhc2hjYXJkcy52YWx1ZXMoKSlcbiAgICAgIC5maWx0ZXIoY2FyZCA9PiBjYXJkLnNjaGVkdWxpbmcuc3RhdGUgPT09ICduZXcnKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NjZGNFx1NjVCMFx1NTQ4Q1x1NTIyMFx1OTY2NCA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdTY2RjRcdTY1QjBcdTUzNjFcdTcyNDdcdUZGMDhcdTU5MERcdTRFNjBcdTU0MEVcdUZGMDlcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUNhcmQoY2FyZDogRmxhc2hjYXJkKSB7XG4gICAgdGhpcy5mbGFzaGNhcmRzLnNldChjYXJkLmlkLCBjYXJkKTtcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3RGbGFzaGNhcmRzKCk7XG4gIH1cblxuLyoqXG4gKiBcdTUyMjBcdTk2NjRcdTUzNjFcdTcyNDdcbiAqL1xuYXN5bmMgZGVsZXRlQ2FyZChpZDogc3RyaW5nLCByZWFzb246ICd1c2VyLWRlbGV0ZWQnIHwgJ25vdGUtZGVsZXRlZCcgfCAnZmlsZS1kZWxldGVkJyA9ICd1c2VyLWRlbGV0ZWQnKSB7XG4gIGNvbnN0IGNhcmQgPSB0aGlzLmZsYXNoY2FyZHMuZ2V0KGlkKTtcbiAgaWYgKCFjYXJkKSByZXR1cm47XG5cbiAgLy8gXHVEODNEXHVERDI3IFx1ODlFM1x1OTY2NCBDb250ZW50VW5pdCBcdTUxNzNcdTgwNTRcbiAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNhcmQuc291cmNlQ29udGVudElkKTtcbiAgaWYgKGNvbnRlbnRVbml0KSB7XG4gICAgY29uc3QgaW5kZXggPSBjb250ZW50VW5pdC5mbGFzaGNhcmRJZHMuaW5kZXhPZihpZCk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIGNvbnRlbnRVbml0LmZsYXNoY2FyZElkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5zYXZlQ29udGVudFVuaXRzKFtjb250ZW50VW5pdF0pO1xuICAgIH1cbiAgfVxuICAvLyBcdTJCNTAgXHU2REZCXHU1MkEwXHU1MjMwXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXG4gIGF3YWl0IHRoaXMuYWRkVG9EZWxldGVIaXN0b3J5KHtcbiAgICB0eXBlOiAnZmxhc2hjYXJkJyxcbiAgICBpZDogY2FyZC5pZCxcbiAgICBjb250ZW50OiB7XG4gICAgICBmcm9udDogY2FyZC5mcm9udCxcbiAgICAgIGJhY2s6IHR5cGVvZiBjYXJkLmJhY2sgPT09ICdzdHJpbmcnID8gY2FyZC5iYWNrIDogY2FyZC5iYWNrLmpvaW4oJywgJyksXG4gICAgICBzb3VyY2VGaWxlOiBjYXJkLnNvdXJjZUZpbGUsXG4gICAgICBzb3VyY2VDb250ZW50SWQ6IGNhcmQuc291cmNlQ29udGVudElkLFxuICAgICAgY2FyZFR5cGU6IGNhcmQudHlwZSxcbiAgICAgIGZ1bGxDYXJkOiB7IC4uLmNhcmQgfSAvLyBcdTRGRERcdTVCNThcdTVCOENcdTY1NzRcdTUzNjFcdTcyNDdcdTY1NzBcdTYzNkVcdTRFRTVcdTRGQkZcdTYwNjJcdTU5MERcbiAgICB9LFxuICAgIGRlbGV0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICBkZWxldGVkQnk6IHJlYXNvbixcbiAgICBtZXRhZGF0YToge1xuICAgICAgZGVjazogY2FyZC5kZWNrLFxuICAgICAgc3RhdHM6IGNhcmQuc3RhdHNcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFx1MkI1MCBcdTUyMjBcdTk2NjRcdThCRTVcdTUzNjFcdTcyNDdcdTc2ODRcdTYyNDBcdTY3MDlcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgdGhpcy5yZXZpZXdMb2dzID0gdGhpcy5yZXZpZXdMb2dzLmZpbHRlcihsb2cgPT4gbG9nLmZsYXNoY2FyZElkICE9PSBpZCk7XG4gIGF3YWl0IHRoaXMucGVyc2lzdFJldmlld0xvZ3MoKTsgLy8gXHU0RkREXHU1QjU4XHU2NkY0XHU2NUIwXHU1NDBFXHU3Njg0XHU2NUU1XHU1RkQ3XG5cbiAgLy8gXHU1MjIwXHU5NjY0XHU5NUVBXHU1MzYxXG4gIHRoaXMuZmxhc2hjYXJkcy5kZWxldGUoaWQpO1xuICBhd2FpdCB0aGlzLnBlcnNpc3RGbGFzaGNhcmRzKCk7XG59XG5cbnByaXZhdGUgZGVsZXRlZEl0ZW1zOiBEZWxldGVkSXRlbVtdID0gW107XG5cbi8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1NkRGQlx1NTJBMFx1NTIzMFx1NTIyMFx1OTY2NFx1NTM4Nlx1NTNGMlxucHJpdmF0ZSBhc3luYyBhZGRUb0RlbGV0ZUhpc3RvcnkoaXRlbTogRGVsZXRlZEl0ZW0pIHtcbiAgdGhpcy5kZWxldGVkSXRlbXMucHVzaChpdGVtKTtcbiAgXG4gIC8vIFx1NTNFQVx1NEZERFx1NzU1OVx1NjcwMFx1OEZEMTdcdTU5MjlcdTc2ODRcdTUyMjBcdTk2NjRcdThCQjBcdTVGNTVcbiAgY29uc3Qgc2V2ZW5EYXlzQWdvID0gRGF0ZS5ub3coKSAtICg3ICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gIHRoaXMuZGVsZXRlZEl0ZW1zID0gdGhpcy5kZWxldGVkSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5kZWxldGVkQXQgPiBzZXZlbkRheXNBZ28pO1xuICBcbiAgYXdhaXQgdGhpcy5wZXJzaXN0RGVsZXRlSGlzdG9yeSgpO1xufVxuXG4vLyBcdTY1QjBcdTU4OUVcdUZGMUFcdTgzQjdcdTUzRDZcdTY3MDBcdThGRDFcdTUyMjBcdTk2NjRcbmdldFJlY2VudGx5RGVsZXRlZChkYXlzOiBudW1iZXIgPSA3KTogRGVsZXRlZEl0ZW1bXSB7XG4gIGNvbnN0IGN1dG9mZiA9IERhdGUubm93KCkgLSAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICByZXR1cm4gdGhpcy5kZWxldGVkSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5kZWxldGVkQXQgPiBjdXRvZmYpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuZGVsZXRlZEF0IC0gYS5kZWxldGVkQXQpOyBcbn1cblxuXG4vLyBcdTY1QjBcdTU4OUVcdUZGMUFcdTYwNjJcdTU5MERcdTk1RUFcdTUzNjFcbmFzeW5jIHJlc3RvcmVGbGFzaGNhcmQoZGVsZXRlZEl0ZW06IERlbGV0ZWRJdGVtKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgaWYgKGRlbGV0ZWRJdGVtLnR5cGUgIT09ICdmbGFzaGNhcmQnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgY2FyZCA9IGRlbGV0ZWRJdGVtLmNvbnRlbnQuZnVsbENhcmQgYXMgRmxhc2hjYXJkO1xuICAgIFxuICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NURGMlx1NUI1OFx1NTcyOFxuICAgIGlmICh0aGlzLmZsYXNoY2FyZHMuaGFzKGNhcmQuaWQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NjA2Mlx1NTkwRFx1OTVFQVx1NTM2MVxuICAgIHRoaXMuZmxhc2hjYXJkcy5zZXQoY2FyZC5pZCwgY2FyZCk7XG4gICAgXG4gICAgLy8gXHU2MDYyXHU1OTBEIENvbnRlbnRVbml0IFx1NTE3M1x1ODA1NFxuICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChjYXJkLnNvdXJjZUNvbnRlbnRJZCk7XG4gICAgaWYgKGNvbnRlbnRVbml0ICYmICFjb250ZW50VW5pdC5mbGFzaGNhcmRJZHMuaW5jbHVkZXMoY2FyZC5pZCkpIHtcbiAgICAgIGNvbnRlbnRVbml0LmZsYXNoY2FyZElkcy5wdXNoKGNhcmQuaWQpO1xuICAgICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5zYXZlQ29udGVudFVuaXRzKFtjb250ZW50VW5pdF0pO1xuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3RGbGFzaGNhcmRzKCk7XG4gICAgXG4gICAgLy8gXHU0RUNFXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXHU0RTJEXHU3OUZCXHU5NjY0XG4gICAgdGhpcy5kZWxldGVkSXRlbXMgPSB0aGlzLmRlbGV0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBkZWxldGVkSXRlbS5pZCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0RGVsZXRlSGlzdG9yeSgpO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc3RvcmluZyBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBcdTY1QjBcdTU4OUVcdUZGMUFcdTZDMzhcdTRFNDVcdTUyMjBcdTk2NjRcdTk1RUFcdTUzNjFcdUZGMDhcdTRFQ0VcdTUzODZcdTUzRjJcdTRFMkRcdTc5RkJcdTk2NjRcdUZGMDlcbmFzeW5jIHBlcm1hbmVudGx5RGVsZXRlRmxhc2hjYXJkKGRlbGV0ZWRJdGVtSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIHRoaXMuZGVsZXRlZEl0ZW1zID0gdGhpcy5kZWxldGVkSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gZGVsZXRlZEl0ZW1JZCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0RGVsZXRlSGlzdG9yeSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBlcm1hbmVudGx5IGRlbGV0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1NEUwMFx1OTUyRVx1NkUwNVx1N0E3QVx1NTIyMFx1OTY2NFx1NTM4Nlx1NTNGMlxuYXN5bmMgY2xlYXJEZWxldGVIaXN0b3J5KCk6IFByb21pc2U8bnVtYmVyPiB7XG4gIGNvbnN0IGNvdW50ID0gdGhpcy5kZWxldGVkSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS50eXBlID09PSAnZmxhc2hjYXJkJykubGVuZ3RoO1xuICB0aGlzLmRlbGV0ZWRJdGVtcyA9IHRoaXMuZGVsZXRlZEl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSAhPT0gJ2ZsYXNoY2FyZCcpO1xuICBhd2FpdCB0aGlzLnBlcnNpc3REZWxldGVIaXN0b3J5KCk7XG4gIHJldHVybiBjb3VudDtcbn1cblxuLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU2MzAxXHU0RTQ1XHU1MzE2XHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXG5wcml2YXRlIGFzeW5jIHBlcnNpc3REZWxldGVIaXN0b3J5KCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2RlbGV0ZS1oaXN0b3J5Lmpzb25gO1xuICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmRlbGV0ZWRJdGVtcywgbnVsbCwgMik7XG4gICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwZXJzaXN0aW5nIGRlbGV0ZSBoaXN0b3J5OicsIGVycm9yKTtcbiAgfVxufVxuXG5wcml2YXRlIGFzeW5jIGxvYWREZWxldGVIaXN0b3J5KCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2RlbGV0ZS1oaXN0b3J5Lmpzb25gO1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuXG4gICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgYWRhcHRlci5yZWFkKHBhdGgpO1xuICAgICAgdGhpcy5kZWxldGVkSXRlbXMgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgXG4gICAgICAvLyBcdTZFMDVcdTc0MDZcdThEODVcdThGQzc3XHU1OTI5XHU3Njg0XHU4QkIwXHU1RjU1XG4gICAgICBjb25zdCBzZXZlbkRheXNBZ28gPSBEYXRlLm5vdygpIC0gKDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgIHRoaXMuZGVsZXRlZEl0ZW1zID0gdGhpcy5kZWxldGVkSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5kZWxldGVkQXQgPiBzZXZlbkRheXNBZ28pO1xuICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0RGVsZXRlSGlzdG9yeSgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGRlbGV0ZSBoaXN0b3J5OicsIGVycm9yKTtcbiAgfVxufVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NTkwRFx1NEU2MFx1NjVFNVx1NUZENyA9PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFx1OEJCMFx1NUY1NVx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICovXG5hc3luYyBsb2dSZXZpZXcobG9nOiBSZXZpZXdMb2cpIHtcbiAgLy8gXHVEODNEXHVEQzQ3IFx1Nzg2RVx1NEZERFx1NTQ2OFx1NjcxRlx1NUI1N1x1NkJCNVx1NUI1OFx1NTcyOFx1NEUxNFx1NkI2M1x1Nzg2RVxuICBpZiAoIWxvZy5jeWNsZSkge1xuICAgIGxvZy5jeWNsZSA9IHRoaXMucGx1Z2luLmFuYWx5dGljc0VuZ2luZT8uZ2V0Q3VycmVudEN5Y2xlTnVtYmVyKCkgfHwgMTtcbiAgfVxuICBcbiAgdGhpcy5yZXZpZXdMb2dzLnB1c2gobG9nKTtcbiAgXG4gIC8vIFx1NEZERFx1NjMwMVx1NjVFNVx1NUZEN1x1NjU3MFx1OTFDRlx1NTcyOFx1NTQwOFx1NzQwNlx1ODMwM1x1NTZGNFxuICBpZiAodGhpcy5yZXZpZXdMb2dzLmxlbmd0aCA+IDEwMDApIHtcbiAgICB0aGlzLnJldmlld0xvZ3MgPSB0aGlzLnJldmlld0xvZ3Muc2xpY2UoLTEwMDApO1xuICB9XG4gIFxuICBhd2FpdCB0aGlzLnBlcnNpc3RSZXZpZXdMb2dzKCk7XG59XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NTM2MVx1NzI0N1x1NzY4NFx1NTkwRFx1NEU2MFx1NTM4Nlx1NTNGMlxuICAgKi9cbiAgZ2V0Q2FyZFJldmlld0hpc3RvcnkoY2FyZElkOiBzdHJpbmcpOiBSZXZpZXdMb2dbXSB7XG4gICAgcmV0dXJuIHRoaXMucmV2aWV3TG9ncy5maWx0ZXIobG9nID0+IGxvZy5mbGFzaGNhcmRJZCA9PT0gY2FyZElkKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1N0VERlx1OEJBMSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTdFREZcdThCQTFcdTY1NzBcdTYzNkVcbiAgICovXG4gIGdldFN0YXRzKCkge1xuICAgIGNvbnN0IGFsbCA9IHRoaXMuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICAgIGNvbnN0IGR1ZSA9IHRoaXMuZ2V0RHVlQ2FyZHMoKTtcbiAgICBjb25zdCBuZXdDYXJkcyA9IHRoaXMuZ2V0TmV3Q2FyZHMoKTtcbiAgICBcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgY29uc3QgcmV2aWV3ZWRUb2RheSA9IHRoaXMucmV2aWV3TG9ncy5maWx0ZXIoXG4gICAgICBsb2cgPT4gbG9nLnRpbWVzdGFtcCA+PSB0b2RheVxuICAgICkubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsOiBhbGwubGVuZ3RoLFxuICAgICAgbmV3OiBuZXdDYXJkcy5sZW5ndGgsXG4gICAgICBkdWU6IGR1ZS5sZW5ndGgsXG4gICAgICByZXZpZXdlZFRvZGF5LFxuICAgICAgdG90YWxSZXZpZXdzOiB0aGlzLnJldmlld0xvZ3MubGVuZ3RoXG4gICAgfTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NzlDMVx1NjcwOVx1NURFNVx1NTE3N1x1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdTUyQTBcdThGN0RcdTk1RUFcdTUzNjFcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbG9hZEZsYXNoY2FyZHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2ZsYXNoY2FyZHMuanNvbmA7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQocGF0aCk7XG4gICAgICAgIGNvbnN0IGZsYXNoY2FyZHM6IEZsYXNoY2FyZFtdID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgY2FyZCBvZiBmbGFzaGNhcmRzKSB7XG4gICAgICAgICAgdGhpcy5mbGFzaGNhcmRzLnNldChjYXJkLmlkLCBjYXJkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGZsYXNoY2FyZHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyQTBcdThGN0RcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbG9hZFJldmlld0xvZ3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L3Jldmlldy1sb2dzLmpzb25gO1xuICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG5cbiAgICAgIGlmIChhd2FpdCBhZGFwdGVyLmV4aXN0cyhwYXRoKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgYWRhcHRlci5yZWFkKHBhdGgpO1xuICAgICAgICB0aGlzLnJldmlld0xvZ3MgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHJldmlldyBsb2dzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFEXHU1OUNCXHU1MzE2XHU4QzAzXHU1RUE2XHU1M0MyXHU2NTcwXG4gICAqL1xuICBwcml2YXRlIGluaXRpYWxpemVTY2hlZHVsaW5nKCk6IEZsYXNoY2FyZFsnc2NoZWR1bGluZyddIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW50ZXJ2YWw6IDAsXG4gICAgICBlYXNlOiAyLjUsXG4gICAgICBkdWU6IERhdGUubm93KCksXG4gICAgICBsYXBzZXM6IDAsXG4gICAgICByZXBzOiAwLFxuICAgICAgc3RhdGU6ICduZXcnXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTc1MUZcdTYyMTBcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTY1ODdcdTY3MkNcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVDbG96ZVRleHQoXG4gICAgb3JpZ2luYWw6IHN0cmluZyxcbiAgICBkZWxldGlvbnM6IHsgaW5kZXg6IG51bWJlcjsgYW5zd2VyOiBzdHJpbmcgfVtdXG4gICk6IHN0cmluZyB7XG4gICAgbGV0IHJlc3VsdCA9IG9yaWdpbmFsO1xuICAgIGNvbnN0IHNvcnRlZCA9IFsuLi5kZWxldGlvbnNdLnNvcnQoKGEsIGIpID0+IGIuaW5kZXggLSBhLmluZGV4KTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGRlbGV0aW9uIG9mIHNvcnRlZCkge1xuICAgICAgY29uc3QgYmVmb3JlID0gcmVzdWx0LnN1YnN0cmluZygwLCBkZWxldGlvbi5pbmRleCk7XG4gICAgICBjb25zdCBhZnRlciA9IHJlc3VsdC5zdWJzdHJpbmcoZGVsZXRpb24uaW5kZXggKyBkZWxldGlvbi5hbnN3ZXIubGVuZ3RoKTtcbiAgICAgIHJlc3VsdCA9IGAke2JlZm9yZX1bLi4uXSR7YWZ0ZXJ9YDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYzQThcdTY1QURcdTUzNjFcdTdFQzRcdTU0MERcdTc5RjBcbiAgICovXG4gIHByaXZhdGUgaW5mZXJEZWNrKGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhcnRzID0gZmlsZVBhdGguc3BsaXQoJy8nKTtcbiAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMSA/IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdIDogJ0RlZmF1bHQnO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NTM2MVx1NzI0N1x1NEYxOFx1NTE0OFx1N0VBN1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRDYXJkUHJpb3JpdHkoY2FyZDogRmxhc2hjYXJkKTogbnVtYmVyIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IG92ZXJkdWUgPSBNYXRoLm1heCgwLCBub3cgLSBjYXJkLnNjaGVkdWxpbmcuZHVlKTtcbiAgICBjb25zdCBkYXlzT3ZlcmR1ZSA9IG92ZXJkdWUgLyAoMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgXG4gICAgaWYgKGNhcmQuc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycpIHJldHVybiAxMDAgKyBkYXlzT3ZlcmR1ZTtcbiAgICBpZiAoY2FyZC5zY2hlZHVsaW5nLnN0YXRlID09PSAncmVsZWFybmluZycpIHJldHVybiAyMDAgKyBkYXlzT3ZlcmR1ZTtcbiAgICByZXR1cm4gZGF5c092ZXJkdWU7XG4gIH1cblxuICAvKipcbiAgICogXHU2MzAxXHU0RTQ1XHU1MzE2XHU5NUVBXHU1MzYxXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHBlcnNpc3RGbGFzaGNhcmRzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9mbGFzaGNhcmRzLmpzb25gO1xuICAgICAgY29uc3QgZmxhc2hjYXJkcyA9IEFycmF5LmZyb20odGhpcy5mbGFzaGNhcmRzLnZhbHVlcygpKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShmbGFzaGNhcmRzLCBudWxsLCAyKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1x1Mjc0QyBFcnJvciBwZXJzaXN0aW5nIGZsYXNoY2FyZHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYzMDFcdTRFNDVcdTUzMTZcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcGVyc2lzdFJldmlld0xvZ3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L3Jldmlldy1sb2dzLmpzb25gO1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMucmV2aWV3TG9ncywgbnVsbCwgMik7XG4gICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGgsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwZXJzaXN0aW5nIHJldmlldyBsb2dzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU3NTFGXHU2MjEwXHU1NTJGXHU0RTAwIElEXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGNhcmQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG59IiwgImltcG9ydCB7IE1vZGFsLCBOb3RpY2UsIEJ1dHRvbkNvbXBvbmVudCwgTWVudSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcbmltcG9ydCB7IFJlY2VudGx5RGVsZXRlZFN0eWxlIH0gZnJvbSAnLi4vc3R5bGUvcmVjZW50bHlEZWxldGVkU3R5bGUnO1xuXG5cblxuZXhwb3J0IGNsYXNzIFJlY2VudGx5RGVsZXRlZE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luO1xuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHtcbiAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBSZWNlbnRseURlbGV0ZWRTdHlsZS5pbmplY3QoKTtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ3JlY2VudGx5LWRlbGV0ZWQtbW9kYWwnKTtcbiAgICBcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgLy8gXHU2ODA3XHU5ODk4XG4gICAgY29uc3QgaGVhZGVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ21vZGFsLXRpdGxlJyB9KTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiB0KCdyZWNlbnREZWxldGUudGl0bGUnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkgfSk7XG5cbiAgICAvLyBcdTVERTVcdTUxNzdcdTY4MEZcbiAgICBjb25zdCB0b29sYmFyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3JlY2VudGx5LWRlbGV0ZWQtdG9vbGJhcicgfSk7XG4gICAgXG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLmdldFN0YXRzKCk7XG4gICAgY29uc3Qgc3RhdHNUZXh0ID0gdG9vbGJhci5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLXN0YXRzJyB9KTtcbiAgICBzdGF0c1RleHQuaW5uZXJIVE1MID0gYFxuICAgICAgXHVEODNEXHVEQ0REICR7c3RhdHMubm90ZXN9ICR7dCgnY29uZmlybS5ub3RlcycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKX0gXHUyMDIyIFxuICAgICAgXHVEODNDXHVEQ0NGICR7c3RhdHMuY2FyZHN9ICR7dCgnY29uZmlybS5mbGFzaGNhcmRzJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfVxuICAgIGA7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gdG9vbGJhci5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWFjdGlvbnMnIH0pO1xuICAgIFxuICAgIG5ldyBCdXR0b25Db21wb25lbnQoYWN0aW9ucylcbiAgICAgIC5zZXRCdXR0b25UZXh0KHQoJ3JlY2VudERlbGV0ZS5jbGVhckFsbCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSlcbiAgICAgIC5zZXRXYXJuaW5nKClcbiAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGNvbmZpcm0odCgnY29uZmlybS5jbGVhckFsbERlbGV0ZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5jbGVhckFsbCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIFx1NTE4NVx1NUJCOVx1NTMzQVx1NTdERlxuICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAncmVjZW50bHktZGVsZXRlZC1jb250ZW50JyB9KTtcblxuICAgIGNvbnN0IGRlbGV0ZWROb3RlcyA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldFJlY2VudGx5RGVsZXRlZFVuaXRzKCk7XG4gICAgY29uc3QgZGVsZXRlZENhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRSZWNlbnRseURlbGV0ZWQoKTtcblxuICAgIGlmIChkZWxldGVkTm90ZXMubGVuZ3RoID09PSAwICYmIGRlbGV0ZWRDYXJkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucmVuZGVyRW1wdHkoY29udGVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRlbGV0ZWROb3Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnJlbmRlckRlbGV0ZWROb3Rlcyhjb250ZW50LCBkZWxldGVkTm90ZXMpO1xuICAgIH1cblxuICAgIGlmIChkZWxldGVkQ2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5yZW5kZXJEZWxldGVkQ2FyZHMoY29udGVudCwgZGVsZXRlZENhcmRzKTtcbiAgICB9XG4gIH1cblxuXG5cbiAgcHJpdmF0ZSByZW5kZXJFbXB0eShjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgZW1wdHkgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZW1wdHktZGVsZXRlZCcgfSk7XG4gICAgZW1wdHkuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LWljb25cIj5cdUQ4M0NcdURGODk8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS10ZXh0XCI+JHt0KCdyZWNlbnREZWxldGUuZW1wdHknLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSl9PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZW1wdHktaGludFwiPiR7dCgncmVjZW50RGVsZXRlLmVtcHR5SGludCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKX08L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJEZWxldGVkTm90ZXMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgaXRlbXM6IGFueVtdKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLXNlY3Rpb24nIH0pO1xuICAgIFxuICAgIGNvbnN0IGhlYWRlciA9IHNlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnc2VjdGlvbi1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5pbm5lckhUTUwgPSBgXG4gICAgICA8aDM+XHVEODNEXHVEQ0REICR7dCgnY29uZmlybS5ub3RlcycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKX0gKCR7aXRlbXMubGVuZ3RofSk8L2gzPlxuICAgIGA7XG5cbiAgICBjb25zdCBsaXN0ID0gc2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWxpc3QnIH0pO1xuXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgaXRlbUVsID0gbGlzdC5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0nIH0pO1xuICAgICAgXG4gICAgICAvLyBcdTVERTZcdTRGQTdcdTRGRTFcdTYwNkZcbiAgICAgIGNvbnN0IGluZm8gPSBpdGVtRWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVsZXRlZC1pdGVtLWluZm8nIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBjb250ZW50ID0gaW5mby5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0tY29udGVudCcgfSk7XG4gICAgICBjb250ZW50LnRleHRDb250ZW50ID0gaXRlbS51bml0LmNvbnRlbnQuc3Vic3RyaW5nKDAsIDE1MCkgKyBcbiAgICAgICAgKGl0ZW0udW5pdC5jb250ZW50Lmxlbmd0aCA+IDE1MCA/ICcuLi4nIDogJycpO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRhID0gaW5mby5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0tbWV0YScgfSk7XG4gICAgICBtZXRhLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJkZWxldGVkLXRpbWVcIj4ke3RoaXMuZm9ybWF0VGltZShpdGVtLmRlbGV0ZWRBdCl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImRlbGV0ZWQtc291cmNlXCI+XHVEODNEXHVEQ0M0ICR7aXRlbS51bml0LnNvdXJjZS5maWxlfTwvc3Bhbj5cbiAgICAgICAgJHtpdGVtLmFzc29jaWF0ZWRDYXJkSWRzLmxlbmd0aCA+IDAgPyBcbiAgICAgICAgICBgPHNwYW4gY2xhc3M9XCJkZWxldGVkLWNhcmRzXCI+XHVEODNDXHVEQ0NGICR7aXRlbS5hc3NvY2lhdGVkQ2FyZElkcy5sZW5ndGh9ICR7dCgnY29uZmlybS5mbGFzaGNhcmRzJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfTwvc3Bhbj5gIFxuICAgICAgICAgIDogJyd9XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZGVsZXRlZC1yZWFzb25cIj4ke3RoaXMuZ2V0RGVsZXRlUmVhc29uKGl0ZW0uZGVsZXRlZEJ5KX08L3NwYW4+XG4gICAgICBgO1xuXG4gICAgICAvLyBcdTUzRjNcdTRGQTdcdTY0Q0RcdTRGNUNcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBpdGVtRWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVsZXRlZC1pdGVtLWFjdGlvbnMnIH0pO1xuICAgICAgXG4gICAgICAvLyBcdTYwNjJcdTU5MERcdTYzMDlcdTk0QUVcbiAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYWN0aW9ucylcbiAgICAgICAgLnNldEJ1dHRvblRleHQodCgncmVjZW50RGVsZXRlLnJlc3RvcmUnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpXG4gICAgICAgIC5zZXRJY29uKCdyb3RhdGUtY2N3JylcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVzdG9yZU5vdGUoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBcdTY2RjRcdTU5MUFcdTY0Q0RcdTRGNUNcdTYzMDlcdTk0QUVcbiAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoYWN0aW9ucylcbiAgICAgICAgLnNldEljb24oJ21vcmUtdmVydGljYWwnKVxuICAgICAgICAub25DbGljaygoZSkgPT4ge1xuICAgICAgICAgIHRoaXMuc2hvd05vdGVNZW51KGUsIGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRGVsZXRlZENhcmRzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGl0ZW1zOiBhbnlbXSkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZGVsZXRlZC1zZWN0aW9uJyB9KTtcbiAgICBcbiAgICBjb25zdCBoZWFkZXIgPSBzZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ3NlY3Rpb24taGVhZGVyJyB9KTtcbiAgICBoZWFkZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGgzPlx1RDgzQ1x1RENDRiAke3QoJ2NvbmZpcm0uZmxhc2hjYXJkcycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKX0gKCR7aXRlbXMubGVuZ3RofSk8L2gzPlxuICAgIGA7XG5cbiAgICBjb25zdCBsaXN0ID0gc2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWxpc3QnIH0pO1xuXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgaXRlbUVsID0gbGlzdC5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0nIH0pO1xuICAgICAgXG4gICAgICAvLyBcdTVERTZcdTRGQTdcdTRGRTFcdTYwNkZcbiAgICAgIGNvbnN0IGluZm8gPSBpdGVtRWwuY3JlYXRlRGl2KHsgY2xzOiAnZGVsZXRlZC1pdGVtLWluZm8nIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBjb250ZW50ID0gaW5mby5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0tY29udGVudCcgfSk7XG4gICAgICBjb250ZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZnJvbnRcIj48c3Ryb25nPlE6PC9zdHJvbmc+ICR7aXRlbS5jb250ZW50LmZyb250LnN1YnN0cmluZygwLCAxMDApfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1iYWNrXCI+PHN0cm9uZz5BOjwvc3Ryb25nPiAke1xuICAgICAgICAgIHR5cGVvZiBpdGVtLmNvbnRlbnQuYmFjayA9PT0gJ3N0cmluZycgXG4gICAgICAgICAgICA/IGl0ZW0uY29udGVudC5iYWNrLnN1YnN0cmluZygwLCAxMDApIFxuICAgICAgICAgICAgOiBpdGVtLmNvbnRlbnQuYmFja1xuICAgICAgICB9PC9kaXY+XG4gICAgICBgO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRhID0gaW5mby5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0tbWV0YScgfSk7XG4gICAgICBtZXRhLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJkZWxldGVkLXRpbWVcIj4ke3RoaXMuZm9ybWF0VGltZShpdGVtLmRlbGV0ZWRBdCl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImRlbGV0ZWQtc291cmNlXCI+XHVEODNEXHVEQ0M0ICR7aXRlbS5jb250ZW50LnNvdXJjZUZpbGV9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImRlbGV0ZWQtdHlwZVwiPiR7aXRlbS5jb250ZW50LmNhcmRUeXBlID09PSAncWEnID8gJ1EmQScgOiB0KCdzdGF0cy50eXBlLmNsb3plJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJkZWxldGVkLXJlYXNvblwiPiR7dGhpcy5nZXREZWxldGVSZWFzb24oaXRlbS5kZWxldGVkQnkpfTwvc3Bhbj5cbiAgICAgIGA7XG5cbiAgICAgIC8vIFx1NTNGM1x1NEZBN1x1NjRDRFx1NEY1Q1xuICAgICAgY29uc3QgYWN0aW9ucyA9IGl0ZW1FbC5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0tYWN0aW9ucycgfSk7XG4gICAgICBcbiAgICAgIC8vIFx1NjA2Mlx1NTkwRFx1NjMwOVx1OTRBRVxuICAgICAgbmV3IEJ1dHRvbkNvbXBvbmVudChhY3Rpb25zKVxuICAgICAgICAuc2V0QnV0dG9uVGV4dCh0KCdyZWNlbnREZWxldGUucmVzdG9yZScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSlcbiAgICAgICAgLnNldEljb24oJ3JvdGF0ZS1jY3cnKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZXN0b3JlQ2FyZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFx1NjZGNFx1NTkxQVx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVxuICAgICAgbmV3IEJ1dHRvbkNvbXBvbmVudChhY3Rpb25zKVxuICAgICAgICAuc2V0SWNvbignbW9yZS12ZXJ0aWNhbCcpXG4gICAgICAgIC5vbkNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zaG93Q2FyZE1lbnUoZSwgaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93Tm90ZU1lbnUoZXZlbnQ6IE1vdXNlRXZlbnQsIGl0ZW06IGFueSkge1xuICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuXG4gICAgbWVudS5hZGRJdGVtKChtZW51SXRlbSkgPT5cbiAgICAgIG1lbnVJdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdyZWNlbnREZWxldGUucmVzdG9yZScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSlcbiAgICAgICAgLnNldEljb24oJ3JvdGF0ZS1jY3cnKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZXN0b3JlTm90ZShpdGVtKTtcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgbWVudS5hZGRJdGVtKChtZW51SXRlbSkgPT5cbiAgICAgIG1lbnVJdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdyZWNlbnREZWxldGUuZGVsZXRlUGVybWFuZW50bHknLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpXG4gICAgICAgIC5zZXRJY29uKCd0cmFzaCcpXG4gICAgICAgIC5zZXRXYXJuaW5nKHRydWUpXG4gICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBlcm1hbmVudGx5RGVsZXRlTm90ZShpdGVtKTtcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgbWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd0NhcmRNZW51KGV2ZW50OiBNb3VzZUV2ZW50LCBpdGVtOiBhbnkpIHtcbiAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcblxuICAgIG1lbnUuYWRkSXRlbSgobWVudUl0ZW0pID0+XG4gICAgICBtZW51SXRlbVxuICAgICAgICAuc2V0VGl0bGUodCgncmVjZW50RGVsZXRlLnJlc3RvcmUnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpXG4gICAgICAgIC5zZXRJY29uKCdyb3RhdGUtY2N3JylcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVzdG9yZUNhcmQoaXRlbSk7XG4gICAgICAgIH0pXG4gICAgKTtcblxuICAgIG1lbnUuYWRkSXRlbSgobWVudUl0ZW0pID0+XG4gICAgICBtZW51SXRlbVxuICAgICAgICAuc2V0VGl0bGUodCgncmVjZW50RGVsZXRlLmRlbGV0ZVBlcm1hbmVudGx5JywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKVxuICAgICAgICAuc2V0SWNvbigndHJhc2gnKVxuICAgICAgICAuc2V0V2FybmluZyh0cnVlKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wZXJtYW5lbnRseURlbGV0ZUNhcmQoaXRlbSk7XG4gICAgICAgIH0pXG4gICAgKTtcblxuICAgIG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc3RvcmVOb3RlKGl0ZW06IGFueSkge1xuICAgIFxuICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5yZXN0b3JlQ29udGVudFVuaXQoaXRlbSk7XG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIC8vIFx1MjcwNSBcdTgxRUFcdTUyQThcdTYwNjJcdTU5MERcdTUxNzNcdTgwNTRcdTc2ODRcdTk1RUFcdTUzNjFcbiAgICAgIGlmIChpdGVtLmFzc29jaWF0ZWRDYXJkSWRzICYmIGl0ZW0uYXNzb2NpYXRlZENhcmRJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCByZXN0b3JlZCA9IGF3YWl0IHRoaXMucmVzdG9yZUFzc29jaWF0ZWRDYXJkcyhpdGVtLmFzc29jaWF0ZWRDYXJkSWRzKTtcbiAgICAgICAgaWYgKHJlc3RvcmVkID4gMCkge1xuICAgICAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLm5vdGVSZXN0b3JlZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSArIFxuICAgICAgICAgICAgYCAoJHtyZXN0b3JlZH0gJHt0KCdjb25maXJtLmZsYXNoY2FyZHMnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSl9ICR7dCgnbm90aWNlLmNhcmRSZXN0b3JlZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKX0pYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2Uubm90ZVJlc3RvcmVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2Uubm90ZVJlc3RvcmVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIHRoaXMucGx1Z2luLnJlZnJlc2hPdmVydmlldygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5yZXN0b3JlRmFpbGVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc3RvcmVDYXJkKGl0ZW06IGFueSkge1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnJlc3RvcmVGbGFzaGNhcmQoaXRlbSk7XG4gICAgXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLmNhcmRSZXN0b3JlZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgdGhpcy5wbHVnaW4ucmVmcmVzaE92ZXJ2aWV3KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLnJlc3RvcmVGYWlsZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcGVybWFuZW50bHlEZWxldGVOb3RlKGl0ZW06IGFueSkge1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5wZXJtYW5lbnRseURlbGV0ZUNvbnRlbnRVbml0KGl0ZW0uaWQpO1xuICAgIFxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5wZXJtYW5lbnRseURlbGV0ZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZGVsZXRlRmFpbGVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHBlcm1hbmVudGx5RGVsZXRlQ2FyZChpdGVtOiBhbnkpIHtcbiAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5wZXJtYW5lbnRseURlbGV0ZUZsYXNoY2FyZChpdGVtLmlkKTtcbiAgICBcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UucGVybWFuZW50bHlEZWxldGVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLmRlbGV0ZUZhaWxlZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXN0b3JlQXNzb2NpYXRlZENhcmRzKGNhcmRJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBcbiAgICBjb25zdCBkZWxldGVkQ2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldFJlY2VudGx5RGVsZXRlZCgpO1xuICAgIFxuICAgIGxldCByZXN0b3JlZCA9IDA7XG4gICAgXG4gICAgZm9yIChjb25zdCBjYXJkSWQgb2YgY2FyZElkcykge1xuICAgICAgY29uc3QgZGVsZXRlZENhcmQgPSBkZWxldGVkQ2FyZHMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGNhcmRJZCk7XG4gICAgICBcbiAgICAgIGlmIChkZWxldGVkQ2FyZCkge1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5yZXN0b3JlRmxhc2hjYXJkKGRlbGV0ZWRDYXJkKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHJlc3RvcmVkKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdG9yZWQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNsZWFyQWxsKCkge1xuICAgIGNvbnN0IG5vdGVzQ291bnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5jbGVhckRlbGV0ZUhpc3RvcnkoKTtcbiAgICBjb25zdCBjYXJkc0NvdW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5jbGVhckRlbGV0ZUhpc3RvcnkoKTtcbiAgICBcbiAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5hbGxEZWxldGVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UsIHtcbiAgICAgIG5vdGVzOiBub3Rlc0NvdW50LFxuICAgICAgY2FyZHM6IGNhcmRzQ291bnRcbiAgICB9KSk7XG4gICAgXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3RhdHMoKSB7XG4gICAgY29uc3QgZGVsZXRlZE5vdGVzID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0UmVjZW50bHlEZWxldGVkVW5pdHMoKTtcbiAgICBjb25zdCBkZWxldGVkQ2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldFJlY2VudGx5RGVsZXRlZCgpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBub3RlczogZGVsZXRlZE5vdGVzLmxlbmd0aCxcbiAgICAgIGNhcmRzOiBkZWxldGVkQ2FyZHMubGVuZ3RoXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0VGltZSh0aW1lc3RhbXA6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBkaWZmID0gbm93IC0gdGltZXN0YW1wO1xuICAgIFxuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGRpZmYgLyA2MDAwMCk7XG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGRpZmYgLyAzNjAwMDAwKTtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihkaWZmIC8gODY0MDAwMDApO1xuICAgIFxuICAgIGlmIChtaW51dGVzIDwgMSkgcmV0dXJuIHQoJ3RpbWUuanVzdE5vdycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKTtcbiAgICBpZiAobWludXRlcyA8IDYwKSByZXR1cm4gdCgndGltZS5taW51dGVzQWdvJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UsIHsgbWludXRlcyB9KTtcbiAgICBpZiAoaG91cnMgPCAyNCkgcmV0dXJuIHQoJ3RpbWUuaG91cnNBZ28nLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSwgeyBob3VycyB9KTtcbiAgICByZXR1cm4gdCgndGltZS5kYXlzQWdvJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UsIHsgZGF5cyB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGVsZXRlUmVhc29uKHJlYXNvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCByZWFzb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ3VzZXItZGVsZXRlZCc6IHQoJ2RlbGV0ZVJlYXNvbi51c2VyJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpLFxuICAgICAgJ25vdGUtZGVsZXRlZCc6IHQoJ2RlbGV0ZVJlYXNvbi5ub3RlJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpLFxuICAgICAgJ2ZpbGUtZGVsZXRlZCc6IHQoJ2RlbGV0ZVJlYXNvbi5maWxlJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpXG4gICAgfTtcbiAgICByZXR1cm4gcmVhc29uc1tyZWFzb25dIHx8IHJlYXNvbjtcbiAgfVxufSIsICJleHBvcnQgY2xhc3MgUmVjZW50bHlEZWxldGVkU3R5bGUge1xuICAgIHByaXZhdGUgc3RhdGljIHN0eWxlSWQgPSAncmVjZW50bHktZGVsZXRlZC1zdHlsZXMnO1xuICAgIHByaXZhdGUgc3RhdGljIGluamVjdGVkID0gZmFsc2U7XG4gIFxuICAgIHN0YXRpYyBpbmplY3QoKSB7XG4gICAgICBpZiAodGhpcy5pbmplY3RlZCkgcmV0dXJuO1xuICBcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHlsZUlkKTtcbiAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICBleGlzdGluZy5yZW1vdmUoKTtcbiAgICAgIH1cbiAgXG4gICAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlRWwuaWQgPSB0aGlzLnN0eWxlSWQ7XG4gICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gdGhpcy5nZXRTdHlsZXMoKTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG4gIFxuICAgICAgdGhpcy5pbmplY3RlZCA9IHRydWU7XG4gICAgfVxuICBcbiAgICBzdGF0aWMgcmVtb3ZlKCkge1xuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3R5bGVJZCk7XG4gICAgICBpZiAoc3R5bGVFbCkge1xuICAgICAgICBzdHlsZUVsLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmplY3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3R5bGVzKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gYFxuICAgICAgICAgIC8qIFx1NUYzOVx1N0E5N1x1NTdGQVx1Nzg0MFx1NjgzN1x1NUYwRiAqL1xuICAgIC5yZWNlbnRseS1kZWxldGVkLW1vZGFsIHtcbiAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuXG4gICAgLnJlY2VudGx5LWRlbGV0ZWQtbW9kYWwgLm1vZGFsLWNvbnRlbnQge1xuICAgICAgbWF4LWhlaWdodDogODB2aDtcbiAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgIH1cblxuICAgIC5yZWNlbnRseS1kZWxldGVkLW1vZGFsIC5tb2RhbC10aXRsZSB7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgcGFkZGluZy1ib3R0b206IDEycHg7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIH1cblxuICAgIC5yZWNlbnRseS1kZWxldGVkLW1vZGFsIC5tb2RhbC10aXRsZSBoMiB7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBmb250LXNpemU6IDEuM2VtO1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICBcbiAgICAgICAgLnJlY2VudGx5LWRlbGV0ZWQtY29udGFpbmVyIHtcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICB9XG4gIFxuICAgICAgICAucmVjZW50bHktZGVsZXRlZC10b29sYmFyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZGVsZXRlZC1zdGF0cyB7XG4gICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLWFjdGlvbnMge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLXNlY3Rpb24ge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMycHg7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5zZWN0aW9uLWhlYWRlciB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLnNlY3Rpb24taGVhZGVyIGgzIHtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjFlbTtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZGVsZXRlZC1saXN0IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZGVsZXRlZC1pdGVtIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZGVsZXRlZC1pdGVtOmhvdmVyIHtcbiAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtaXRlbS1pbmZvIHtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLWl0ZW0tY29udGVudCB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICAgICAgICB9XG4gIFxuICAgICAgICAuY2FyZC1mcm9udCwgXG4gICAgICAgIC5jYXJkLWJhY2sge1xuICAgICAgICAgIG1hcmdpbjogNHB4IDA7XG4gICAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5jYXJkLWZyb250IHN0cm9uZyxcbiAgICAgICAgLmNhcmQtYmFjayBzdHJvbmcge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLWl0ZW0tbWV0YSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtaXRlbS1tZXRhIHNwYW4ge1xuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLXRpbWUge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLXJlYXNvbiB7XG4gICAgICAgICAgcGFkZGluZzogMnB4IDhweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLWl0ZW0tYWN0aW9ucyB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmVtcHR5LWRlbGV0ZWQge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBwYWRkaW5nOiA2MHB4IDIwcHg7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5lbXB0eS1pY29uIHtcbiAgICAgICAgICBmb250LXNpemU6IDRlbTtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmVtcHR5LXRleHQge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmVtcHR5LWhpbnQge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICB9XG4gIFxuICAgICAgICAvKiBcdTU0Q0RcdTVFOTRcdTVGMEZcdThCQkVcdThCQTEgKi9cbiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAgICAgLnJlY2VudGx5LWRlbGV0ZWQtY29udGFpbmVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgICAgfVxuICBcbiAgICAgICAgICAuZGVsZXRlZC1pdGVtIHtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgICAgfVxuICBcbiAgICAgICAgICAuZGVsZXRlZC1pdGVtLWluZm8ge1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgLmRlbGV0ZWQtaXRlbS1hY3Rpb25zIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGA7XG4gICAgfVxuICB9Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFDQUEsbUJBS2EsaUJBOFJBO0FBcFNiO0FBQUE7QUFDQSxJQUFBQSxvQkFBNEM7QUFLckMsSUFBTSxrQkFBTixjQUE4Qix3QkFBTTtBQUFBLE1BUXpDLFlBQ0UsS0FDUSxRQUNSLGFBQ0EsUUFDQTtBQUNBLGNBQU0sR0FBRztBQUpEO0FBUFYsYUFBUSxpQkFBeUI7QUFDakMsYUFBUSxZQUFvQjtBQUM1QixhQUFRLGFBQXFCO0FBVTNCLGFBQUssY0FBYztBQUNuQixhQUFLLFNBQVM7QUFHZCxhQUFLLHFCQUFxQixLQUFLLE9BQU8sa0JBQWtCO0FBQUEsVUFDdEQsWUFBWTtBQUFBLFFBQ2Q7QUFFQSxZQUFJLEtBQUssb0JBQW9CO0FBQzNCLGVBQUssaUJBQWlCLEtBQUssbUJBQW1CO0FBQzlDLGNBQUksS0FBSyxtQkFBbUIsT0FBTztBQUNqQyxpQkFBSyxZQUFZLEtBQUssbUJBQW1CLE1BQU07QUFDL0MsaUJBQUssYUFBYSxLQUFLLG1CQUFtQixNQUFNO0FBQUEsVUFDbEQ7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLE1BRUEsU0FBUztBQUNQLGNBQU0sRUFBRSxVQUFVLElBQUk7QUFFdEIsa0JBQVUsU0FBUyxrQkFBa0I7QUFDckMsa0JBQVUsU0FBUyxNQUFNO0FBQUEsVUFDdkIsTUFBTSxLQUFLLHFCQUFxQixvQkFBb0I7QUFBQSxRQUN0RCxDQUFDO0FBR0QsY0FBTSxpQkFBaUIsVUFBVSxVQUFVLEVBQUUsS0FBSyw2QkFBNkIsQ0FBQztBQUNoRix1QkFBZSxTQUFTLE1BQU0sRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNsRCx1QkFBZSxTQUFTLGNBQWMsRUFBRSxNQUFNLEtBQUssWUFBWSxRQUFRLENB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QTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQSt5Q1Q7QUFDRjtBQW4xQ1csWUFDTSxVQUFVO0FBRGhCLFlBRU0sYUFBYTs7O0FDSnpCLElBQU0sY0FBTixNQUFrQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3JCLE9BQU8sU0FBZTtBQUNwQixRQUFJLEtBQUssY0FBYyxTQUFTLGVBQWUsS0FBSyxPQUFPLEdBQUc7QUFDNUQ7QUFBQSxJQUNGO0FBRUEsVUFBTSxVQUFVLFNBQVMsY0FBYyxPQUFPO0FBQzlDLFlBQVEsS0FBSyxLQUFLO0FBQ2xCLFlBQVEsY0FBYyxLQUFLLFVBQVU7QUFDckMsYUFBUyxLQUFLLFlBQVksT0FBTztBQUVqQyxTQUFLLGFBQWE7QUFBQSxFQUNwQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsT0FBTyxTQUFlO0FBQ3BCLFVBQU0sVUFBVSxTQUFTLGVBQWUsS0FBSyxPQUFPO0FBQ3BELFFBQUksU0FBUztBQUNYLGNBQVEsT0FBTztBQUNmLFdBQUssYUFBYTtBQUFBLElBQ3BCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsT0FBZSxZQUFvQjtBQUNqQyxXQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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QUFTLGNBQWMsT0FBTztBQUM5QyxZQUFRLGNBQWM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7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QUFLLEtBQUs7QUFDbEIsWUFBUSxjQUFjLEtBQUssVUFBVTtBQUNyQyxhQUFTLEtBQUssWUFBWSxPQUFPO0FBRWpDLFNBQUssV0FBVztBQUFBLEVBQ2xCO0FBQUEsRUFFQSxPQUFPLFNBQVM7QUFDZCxVQUFNLFVBQVUsU0FBUyxlQUFlLEtBQUssT0FBTztBQUNwRCxRQUFJLFNBQVM7QUFDWCxjQUFRLE9BQU87QUFBQSxJQUNqQjtBQUNBLFNBQUssV0FBVztBQUFBLEVBQ2xCO0FBQUEsRUFFQSxPQUFlLFlBQW9CO0FBQ2pDLFdBQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQTJMVDtBQUNGO0FBek5XLHFCQUNNLFVBQVU7QUFEaEIscUJBRU0sV0FBVzs7O0FES3ZCLElBQU0sdUJBQU4sY0FBbUMsd0JBQU07QUFBQSxFQUc5QyxZQUFZLFFBQThCO0FBQ3hDLFVBQU0sT0FBTyxHQUFHO0FBQ2hCLFNBQUssU0FBUztBQUFBLEVBQ2hCO0FBQUEsRUFFQSxTQUFTO0FBQ1AseUJBQXFCLE9BQU87QUFDNUIsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixjQUFVLE1BQU07QUFDaEIsY0FBVSxTQUFTLHdCQUF3QjtBQUUzQyxTQUFLLE9BQU87QUFBQSxFQUNkO0FBQUEsRUFFQSxVQUFVO0FBQ1IsVUFBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixjQUFVLE1BQU07QUFBQSxFQUNsQjtBQUFBLEVBRVEsU0FBUztBQUNmLFVBQU0sRUFBRSxVQUFVLElBQUk7QUFDdEIsY0FBVSxNQUFNO0FBR2hCLFVBQU0sU0FBUyxVQUFVLFVBQVUsRUFBRSxLQUFLLGNBQWMsQ0FBQztBQUN6RCxXQUFPLFNBQVMsTUFBTSxFQUFFLE1BQU0sRUFBRSxzQkFBc0IsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUFFLENBQUM7QUFHdEYsVUFBTSxVQUFVLFVBQVUsVUFBVSxFQUFFLEtBQUssMkJBQTJCLENBQUM7QUFFdkUsVUFBTSxRQUFRLEtBQUssU0FBUztBQUM1QixVQUFNLFlBQVksUUFBUSxVQUFVLEVBQUUsS0FBSyxnQkFBZ0IsQ0FBQztBQUM1RCxjQUFVLFlBQVk7QUFBQSxrQkFDZixNQUFNLFNBQVMsRUFBRSxpQkFBaUIsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUFBLGtCQUMvRCxNQUFNLFNBQVMsRUFBRSxzQkFBc0IsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUFBO0FBRzNFLFVBQU0sVUFBVSxRQUFRLFVBQVUsRUFBRSxLQUFLLGtCQUFrQixDQUFDO0FBRTVELFFBQUksa0NBQWdCLE9BQU8sRUFDeEIsY0FBYyxFQUFFLHlCQUF5QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFDdkUsV0FBVyxFQUNYLFFBQVEsWUFBWTtBQUNuQixVQUFJLFFBQVEsRUFBRSwyQkFBMkIsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDLEdBQUc7QUFDeEUsY0FBTSxLQUFLLFNBQVM7QUFBQSxNQUN0QjtBQUFBLElBQ0YsQ0FBQztBQUdILFVBQU0sVUFBVSxVQUFVLFVBQVUsRUFBRSxLQUFLLDJCQUEyQixDQUFDO0FBRXZFLFVBQU0sZUFBZSxLQUFLLE9BQU8sWUFBWSx3QkFBd0I7QUFDckUsVUFBTSxlQUFlLEtBQUssT0FBTyxpQkFBaUIsbUJBQW1CO0FBRXJFLFFBQUksYUFBYSxXQUFXLEtBQUssYUFBYSxXQUFXLEdBQUc7QUFDMUQsV0FBSyxZQUFZLE9BQU87QUFDeEI7QUFBQSxJQUNGO0FBRUEsUUFBSSxhQUFhLFNBQVMsR0FBRztBQUMzQixXQUFLLG1CQUFtQixTQUFTLFlBQVk7QUFBQSxJQUMvQztBQUVBLFFBQUksYUFBYSxTQUFTLEdBQUc7QUFDM0IsV0FBSyxtQkFBbUIsU0FBUyxZQUFZO0FBQUEsSUFDL0M7QUFBQSxFQUNGO0FBQUEsRUFJUSxZQUFZLFdBQXdCO0FBQzFDLFVBQU0sUUFBUSxVQUFVLFVBQVUsRUFBRSxLQUFLLGdCQUFnQixDQUFDO0FBQzFELFVBQU0sWUFBWTtBQUFBO0FBQUEsZ0NBRVUsRUFBRSxzQkFBc0IsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUFBLGdDQUNyRCxFQUFFLDBCQUEwQixLQUFLLE9BQU8sU0FBUyxRQUFRO0FBQUE7QUFBQSxFQUV2RjtBQUFBLEVBRVEsbUJBQW1CLFdBQXdCLE9BQWM7QUFDL0QsVUFBTSxVQUFVLFVBQVUsVUFBVSxFQUFFLEtBQUssa0JBQWtCLENBQUM7QUFFOUQsVUFBTSxTQUFTLFFBQVEsVUFBVSxFQUFFLEtBQUssaUJBQWlCLENBQUM7QUFDMUQsV0FBTyxZQUFZO0FBQUEsc0JBQ1IsRUFBRSxpQkFBaUIsS0FBSyxPQUFPLFNBQVMsUUFBUSxNQUFNLE1BQU07QUFBQTtBQUd2RSxVQUFNLE9BQU8sUUFBUSxVQUFVLEVBQUUsS0FBSyxlQUFlLENBQUM7QUFFdEQsVUFBTSxRQUFRLENBQUMsU0FBUztBQUN0QixZQUFNLFNBQVMsS0FBSyxVQUFVLEVBQUUsS0FBSyxlQUFlLENBQUM7QUFHckQsWUFBTSxPQUFPLE9BQU8sVUFBVSxFQUFFLEtBQUssb0JBQW9CLENBQUM7QUFFMUQsWUFBTSxVQUFVLEtBQUssVUFBVSxFQUFFLEtBQUssdUJBQXVCLENBQUM7QUFDOUQsY0FBUSxjQUFjLEtBQUssS0FBSyxRQUFRLFVBQVUsR0FBRyxHQUFHLEtBQ3JELEtBQUssS0FBSyxRQUFRLFNBQVMsTUFBTSxRQUFRO0FBRTVDLFlBQU0sT0FBTyxLQUFLLFVBQVUsRUFBRSxLQUFLLG9CQUFvQixDQUFDO0FBQ3hELFdBQUssWUFBWTtBQUFBLHFDQUNjLEtBQUssV0FBVyxLQUFLLFNBQVM7QUFBQSxpREFDekIsS0FBSyxLQUFLLE9BQU87QUFBQSxVQUNqRCxLQUFLLGtCQUFrQixTQUFTLElBQ2hDLHlDQUFrQyxLQUFLLGtCQUFrQixVQUFVLEVBQUUsc0JBQXNCLEtBQUssT0FBTyxTQUFTLFFBQVEsYUFDdEg7QUFBQSx1Q0FDMkIsS0FBSyxnQkFBZ0IsS0FBSyxTQUFTO0FBQUE7QUFJcEUsWUFBTSxVQUFVLE9BQU8sVUFBVSxFQUFFLEtBQUssdUJBQXVCLENBQUM7QUFHaEUsVUFBSSxrQ0FBZ0IsT0FBTyxFQUN4QixjQUFjLEVBQUUsd0JBQXdCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQyxFQUN0RSxRQUFRLFlBQVksRUFDcEIsUUFBUSxZQUFZO0FBQ25CLGNBQU0sS0FBSyxZQUFZLElBQUk7QUFBQSxNQUM3QixDQUFDO0FBR0gsVUFBSSxrQ0FBZ0IsT0FBTyxFQUN4QixRQUFRLGVBQWUsRUFDdkIsUUFBUSxDQUFDLE1BQU07QUFDZCxhQUFLLGFBQWEsR0FBRyxJQUFJO0FBQUEsTUFDM0IsQ0FBQztBQUFBLElBQ0wsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUVRLG1CQUFtQixXQUF3QixPQUFjO0FBQy9ELFVBQU0sVUFBVSxVQUFVLFVBQVUsRUFBRSxLQUFLLGtCQUFrQixDQUFDO0FBRTlELFVBQU0sU0FBUyxRQUFRLFVBQVUsRUFBRSxLQUFLLGlCQUFpQixDQUFDO0FBQzFELFdBQU8sWUFBWTtBQUFBLHNCQUNSLEVBQUUsc0JBQXNCLEtBQUssT0FBTyxTQUFTLFFBQVEsTUFBTSxNQUFNO0FBQUE7QUFHNUUsVUFBTSxPQUFPLFFBQVEsVUFBVSxFQUFFLEtBQUssZUFBZSxDQUFDO0FBRXRELFVBQU0sUUFBUSxDQUFDLFNBQVM7QUFDdEIsWUFBTSxTQUFTLEtBQUssVUFBVSxFQUFFLEtBQUssZUFBZSxDQUFDO0FBR3JELFlBQU0sT0FBTyxPQUFPLFVBQVUsRUFBRSxLQUFLLG9CQUFvQixDQUFDO0FBRTFELFlBQU0sVUFBVSxLQUFLLFVBQVUsRUFBRSxLQUFLLHVCQUF1QixDQUFDO0FBQzlELGNBQVEsWUFBWTtBQUFBLHNEQUM0QixLQUFLLFFBQVEsTUFBTSxVQUFVLEdBQUcsR0FBRztBQUFBLHFEQUUvRSxPQUFPLEtBQUssUUFBUSxTQUFTLFdBQ3pCLEtBQUssUUFBUSxLQUFLLFVBQVUsR0FBRyxHQUFHLElBQ2xDLEtBQUssUUFBUTtBQUFBO0FBSXJCLFlBQU0sT0FBTyxLQUFLLFVBQVUsRUFBRSxLQUFLLG9CQUFvQixDQUFDO0FBQ3hELFdBQUssWUFBWTtBQUFBLHFDQUNjLEtBQUssV0FBVyxLQUFLLFNBQVM7QUFBQSxpREFDekIsS0FBSyxRQUFRO0FBQUEscUNBQ2xCLEtBQUssUUFBUSxhQUFhLE9BQU8sUUFBUSxFQUFFLG9CQUFvQixLQUFLLE9BQU8sU0FBUyxRQUFRO0FBQUEsdUNBQzFGLEtBQUssZ0JBQWdCLEtBQUssU0FBUztBQUFBO0FBSXBFLFlBQU0sVUFBVSxPQUFPLFVBQVUsRUFBRSxLQUFLLHVCQUF1QixDQUFDO0FBR2hFLFVBQUksa0NBQWdCLE9BQU8sRUFDeEIsY0FBYyxFQUFFLHdCQUF3QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFDdEUsUUFBUSxZQUFZLEVBQ3BCLFFBQVEsWUFBWTtBQUNuQixjQUFNLEtBQUssWUFBWSxJQUFJO0FBQUEsTUFDN0IsQ0FBQztBQUdILFVBQUksa0NBQWdCLE9BQU8sRUFDeEIsUUFBUSxlQUFlLEVBQ3ZCLFFBQVEsQ0FBQyxNQUFNO0FBQ2QsYUFBSyxhQUFhLEdBQUcsSUFBSTtBQUFBLE1BQzNCLENBQUM7QUFBQSxJQUNMLENBQUM7QUFBQSxFQUNIO0FBQUEsRUFFUSxhQUFhLE9BQW1CLE1BQVc7QUFDakQsVUFBTSxPQUFPLElBQUksdUJBQUs7QUFFdEIsU0FBSztBQUFBLE1BQVEsQ0FBQyxhQUNaLFNBQ0csU0FBUyxFQUFFLHdCQUF3QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFDakUsUUFBUSxZQUFZLEVBQ3BCLFFBQVEsWUFBWTtBQUNuQixjQUFNLEtBQUssWUFBWSxJQUFJO0FBQUEsTUFDN0IsQ0FBQztBQUFBLElBQ0w7QUFFQSxTQUFLO0FBQUEsTUFBUSxDQUFDLGFBQ1osU0FDRyxTQUFTLEVBQUUsa0NBQWtDLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQyxFQUMzRSxRQUFRLE9BQU8sRUFDZixXQUFXLElBQUksRUFDZixRQUFRLFlBQVk7QUFDbkIsY0FBTSxLQUFLLHNCQUFzQixJQUFJO0FBQUEsTUFDdkMsQ0FBQztBQUFBLElBQ0w7QUFFQSxTQUFLLGlCQUFpQixLQUFLO0FBQUEsRUFDN0I7QUFBQSxFQUVRLGFBQWEsT0FBbUIsTUFBVztBQUNqRCxVQUFNLE9BQU8sSUFBSSx1QkFBSztBQUV0QixTQUFLO0FBQUEsTUFBUSxDQUFDLGFBQ1osU0FDRyxTQUFTLEVBQUUsd0JBQXdCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQyxFQUNqRSxRQUFRLFlBQVksRUFDcEIsUUFBUSxZQUFZO0FBQ25CLGNBQU0sS0FBSyxZQUFZLElBQUk7QUFBQSxNQUM3QixDQUFDO0FBQUEsSUFDTDtBQUVBLFNBQUs7QUFBQSxNQUFRLENBQUMsYUFDWixTQUNHLFNBQVMsRUFBRSxrQ0FBa0MsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDLEVBQzNFLFFBQVEsT0FBTyxFQUNmLFdBQVcsSUFBSSxFQUNmLFFBQVEsWUFBWTtBQUNuQixjQUFNLEtBQUssc0JBQXNCLElBQUk7QUFBQSxNQUN2QyxDQUFDO0FBQUEsSUFDTDtBQUVBLFNBQUssaUJBQWlCLEtBQUs7QUFBQSxFQUM3QjtBQUFBLEVBRUEsTUFBYyxZQUFZLE1BQVc7QUFFbkMsVUFBTSxVQUFVLE1BQU0sS0FBSyxPQUFPLFlBQVksbUJBQW1CLElBQUk7QUFDckUsUUFBSSxTQUFTO0FBRVgsVUFBSSxLQUFLLHFCQUFxQixLQUFLLGtCQUFrQixTQUFTLEdBQUc7QUFDL0QsY0FBTSxXQUFXLE1BQU0sS0FBSyx1QkFBdUIsS0FBSyxpQkFBaUI7QUFDekUsWUFBSSxXQUFXLEdBQUc7QUFDaEIsY0FBSSx5QkFBTyxFQUFFLHVCQUF1QixLQUFLLE9BQU8sU0FBUyxRQUFRLElBQy9ELEtBQUssWUFBWSxFQUFFLHNCQUFzQixLQUFLLE9BQU8sU0FBUyxRQUFRLEtBQUssRUFBRSx1QkFBdUIsS0FBSyxPQUFPLFNBQVMsUUFBUSxJQUFJO0FBQUEsUUFDekksT0FBTztBQUNMLGNBQUkseUJBQU8sRUFBRSx1QkFBdUIsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDO0FBQUEsUUFDcEU7QUFBQSxNQUNGLE9BQU87QUFDTCxZQUFJLHlCQUFPLEVBQUUsdUJBQXVCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUFBLE1BQ3BFO0FBRUEsV0FBSyxPQUFPO0FBQ1osV0FBSyxPQUFPLGdCQUFnQjtBQUFBLElBQzlCLE9BQU87QUFDTCxVQUFJLHlCQUFPLEVBQUUsd0JBQXdCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUFBLElBQ3JFO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYyxZQUFZLE1BQVc7QUFDbkMsVUFBTSxVQUFVLE1BQU0sS0FBSyxPQUFPLGlCQUFpQixpQkFBaUIsSUFBSTtBQUV4RSxRQUFJLFNBQVM7QUFDWCxVQUFJLHlCQUFPLEVBQUUsdUJBQXVCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUNsRSxXQUFLLE9BQU87QUFDWixXQUFLLE9BQU8sZ0JBQWdCO0FBQUEsSUFDOUIsT0FBTztBQUNMLFVBQUkseUJBQU8sRUFBRSx3QkFBd0IsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDO0FBQUEsSUFDckU7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFjLHNCQUFzQixNQUFXO0FBQzdDLFVBQU0sVUFBVSxNQUFNLEtBQUssT0FBTyxZQUFZLDZCQUE2QixLQUFLLEVBQUU7QUFFbEYsUUFBSSxTQUFTO0FBQ1gsVUFBSSx5QkFBTyxFQUFFLDZCQUE2QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUM7QUFDeEUsV0FBSyxPQUFPO0FBQUEsSUFDZCxPQUFPO0FBQ0wsVUFBSSx5QkFBTyxFQUFFLHVCQUF1QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUM7QUFBQSxJQUNwRTtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQWMsc0JBQXNCLE1BQVc7QUFDN0MsVUFBTSxVQUFVLE1BQU0sS0FBSyxPQUFPLGlCQUFpQiwyQkFBMkIsS0FBSyxFQUFFO0FBRXJGLFFBQUksU0FBUztBQUNYLFVBQUkseUJBQU8sRUFBRSw2QkFBNkIsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDO0FBQ3hFLFdBQUssT0FBTztBQUFBLElBQ2QsT0FBTztBQUNMLFVBQUkseUJBQU8sRUFBRSx1QkFBdUIsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDO0FBQUEsSUFDcEU7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFjLHVCQUF1QixTQUFvQztBQUV2RSxVQUFNLGVBQWUsS0FBSyxPQUFPLGlCQUFpQixtQkFBbUI7QUFFckUsUUFBSSxXQUFXO0FBRWYsZUFBVyxVQUFVLFNBQVM7QUFDNUIsWUFBTSxjQUFjLGFBQWEsS0FBSyxVQUFRLEtBQUssT0FBTyxNQUFNO0FBRWhFLFVBQUksYUFBYTtBQUNmLGNBQU0sVUFBVSxNQUFNLEtBQUssT0FBTyxpQkFBaUIsaUJBQWlCLFdBQVc7QUFDL0UsWUFBSTtBQUFTO0FBQUEsTUFDZixPQUFPO0FBQUEsTUFDUDtBQUFBLElBQ0Y7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUFBLEVBRUEsTUFBYyxXQUFXO0FBQ3ZCLFVBQU0sYUFBYSxNQUFNLEtBQUssT0FBTyxZQUFZLG1CQUFtQjtBQUNwRSxVQUFNLGFBQWEsTUFBTSxLQUFLLE9BQU8saUJBQWlCLG1CQUFtQjtBQUV6RSxRQUFJLHlCQUFPLEVBQUUscUJBQXFCLEtBQUssT0FBTyxTQUFTLFVBQVU7QUFBQSxNQUMvRCxPQUFPO0FBQUEsTUFDUCxPQUFPO0FBQUEsSUFDVCxDQUFDLENBQUM7QUFFRixTQUFLLE9BQU87QUFBQSxFQUNkO0FBQUEsRUFFUSxXQUFXO0FBQ2pCLFVBQU0sZUFBZSxLQUFLLE9BQU8sWUFBWSx3QkFBd0I7QUFDckUsVUFBTSxlQUFlLEtBQUssT0FBTyxpQkFBaUIsbUJBQW1CO0FBRXJFLFdBQU87QUFBQSxNQUNMLE9BQU8sYUFBYTtBQUFBLE1BQ3BCLE9BQU8sYUFBYTtBQUFBLElBQ3RCO0FBQUEsRUFDRjtBQUFBLEVBRVEsV0FBVyxXQUEyQjtBQUM1QyxVQUFNLE1BQU0sS0FBSyxJQUFJO0FBQ3JCLFVBQU0sT0FBTyxNQUFNO0FBRW5CLFVBQU0sVUFBVSxLQUFLLE1BQU0sT0FBTyxHQUFLO0FBQ3ZDLFVBQU0sUUFBUSxLQUFLLE1BQU0sT0FBTyxJQUFPO0FBQ3ZDLFVBQU0sT0FBTyxLQUFLLE1BQU0sT0FBTyxLQUFRO0FBRXZDLFFBQUksVUFBVTtBQUFHLGFBQU8sRUFBRSxnQkFBZ0IsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUN2RSxRQUFJLFVBQVU7QUFBSSxhQUFPLEVBQUUsbUJBQW1CLEtBQUssT0FBTyxTQUFTLFVBQVUsRUFBRSxRQUFRLENBQUM7QUFDeEYsUUFBSSxRQUFRO0FBQUksYUFBTyxFQUFFLGlCQUFpQixLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQUUsTUFBTSxDQUFDO0FBQ2xGLFdBQU8sRUFBRSxnQkFBZ0IsS0FBSyxPQUFPLFNBQVMsVUFBVSxFQUFFLEtBQUssQ0FBQztBQUFBLEVBQ2xFO0FBQUEsRUFFUSxnQkFBZ0IsUUFBd0I7QUFDOUMsVUFBTSxVQUFrQztBQUFBLE1BQ3RDLGdCQUFnQixFQUFFLHFCQUFxQixLQUFLLE9BQU8sU0FBUyxRQUFRO0FBQUEsTUFDcEUsZ0JBQWdCLEVBQUUscUJBQXFCLEtBQUssT0FBTyxTQUFTLFFBQVE7QUFBQSxNQUNwRSxnQkFBZ0IsRUFBRSxxQkFBcUIsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUFBLElBQ3RFO0FBQ0EsV0FBTyxRQUFRLE1BQU0sS0FBSztBQUFBLEVBQzVCO0FBQ0Y7OztBL0JuVkEsSUFBTSxtQkFBMkM7QUFBQSxFQUMvQyxtQkFBbUI7QUFBQSxFQUNuQixVQUFVO0FBQUEsRUFDVixhQUFhO0FBQUEsRUFDYixXQUFXO0FBQUE7QUFFYjtBQUVBLElBQXFCLHVCQUFyQixjQUFrRCx5QkFBTztBQUFBLEVBVXZELE1BQU0sU0FBUztBQUNiLFlBQVEsSUFBSSxnQ0FBZ0M7QUFFNUMsVUFBTSxLQUFLLGFBQWE7QUFDeEIsU0FBSyxxQkFBcUI7QUFHMUIsU0FBSyxlQUFlLElBQUksYUFBYSxLQUFLLEtBQUssSUFBSTtBQUNuRCxVQUFNLEtBQUssYUFBYSxXQUFXO0FBR25DLFNBQUssY0FBYyxJQUFJLFlBQVksS0FBSyxLQUFLLElBQUk7QUFDakQsVUFBTSxLQUFLLFlBQVksV0FBVztBQUVsQyxTQUFLLG9CQUFvQixJQUFJLGtCQUFrQixLQUFLLEtBQUssSUFBSTtBQUM3RCxVQUFNLEtBQUssa0JBQWtCLFdBQVc7QUFFeEMsU0FBSyxtQkFBbUIsSUFBSTtBQUFBLE1BQzFCLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUNBLFVBQU0sS0FBSyxpQkFBaUIsV0FBVztBQUV2QyxTQUFLLG1CQUFtQixJQUFJO0FBQUEsTUFDMUIsS0FBSztBQUFBLE1BQ0wsS0FBSztBQUFBLE1BQ0wsS0FBSztBQUFBLE1BQ0w7QUFBQSxJQUNGO0FBR0EsU0FBSztBQUFBLE1BQ0g7QUFBQSxNQUNBLENBQUMsU0FBUyxJQUFJLG9CQUFvQixNQUFNLE1BQU0sS0FBSztBQUFBLElBQ3JEO0FBRUEsU0FBSztBQUFBLE1BQ0g7QUFBQSxNQUNBLENBQUMsU0FBUyxJQUFJLG9CQUFvQixNQUFNLE1BQU0sSUFBSTtBQUFBLElBQ3BEO0FBRUEsU0FBSztBQUFBLE1BQ0g7QUFBQSxNQUNBLENBQUMsU0FBUyxJQUFJLFdBQVcsTUFBTSxJQUFJO0FBQUEsSUFDckM7QUFFQSxTQUFLO0FBQUEsTUFDSDtBQUFBLE1BQ0EsQ0FBQyxTQUFTLElBQUksVUFBVSxNQUFNLElBQUk7QUFBQSxJQUNwQztBQUdKLFNBQUs7QUFBQSxNQUNILEtBQUssSUFBSSxNQUFNLEdBQUcsVUFBVSxPQUFPLFNBQVM7QUFDMUMsWUFBSSxnQkFBZ0IsMkJBQVMsS0FBSyxjQUFjLE1BQU07QUFDcEQsZ0JBQU0sUUFBUSxVQUFVLG1CQUFtQixLQUFLLE1BQU0sSUFBSTtBQUUxRCxjQUFJLE1BQU0sUUFBUSxLQUFLLE1BQU0sUUFBUSxHQUFHO0FBRXRDLGtCQUFNLFFBQVEsS0FBSyxZQUFZLG1CQUFtQixFQUMvQyxPQUFPLE9BQUssRUFBRSxPQUFPLFNBQVMsS0FBSyxJQUFJO0FBRTFDLHVCQUFXLFFBQVEsT0FBTztBQUV4Qix5QkFBVyxVQUFVLEtBQUssY0FBYztBQUN0QyxzQkFBTSxLQUFLLGlCQUFpQixXQUFXLFFBQVEsY0FBYztBQUFBLGNBQy9EO0FBRUEsb0JBQU0sS0FBSyxZQUFZLGtCQUFrQixLQUFLLElBQUksY0FBYztBQUFBLFlBQ2xFO0FBR0EsZ0JBQUkseUJBQU8sRUFBRSw0QkFBNEIsS0FBSyxTQUFTLFVBQVU7QUFBQSxjQUMvRCxPQUFPLE1BQU07QUFBQSxjQUNiLE9BQU8sTUFBTTtBQUFBLFlBQ2YsQ0FBQyxHQUFHLEdBQUk7QUFBQSxVQUVWO0FBQUEsUUFDRjtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0g7QUFFSSxTQUFLLGNBQWMsSUFBSSxZQUFZLEtBQUssS0FBSyxJQUFJLENBQUM7QUFHbEQsU0FBSyxZQUFZO0FBRXJCLFNBQUs7QUFBQSxNQUNILEtBQUssSUFBSSxVQUFVLEdBQUcsZUFBZSxDQUFDLE1BQU0sUUFBUSxTQUFTO0FBQzNELFlBQUksZ0JBQWdCLGtDQUFnQixLQUFLLE1BQU07QUFDN0MsZUFBSyxpQkFBaUIsb0JBQW9CLE1BQU0sUUFBUSxLQUFLLElBQUk7QUFBQSxRQUNuRTtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0g7QUFFSSxTQUFLLGNBQWMsZUFBZSxtQ0FBbUMsTUFBTTtBQUN6RSxXQUFLLHdCQUF3QjtBQUFBLElBQy9CLENBQUM7QUFFRCxTQUFLLGNBQWMsVUFBVSxnQkFBZ0IsTUFBTTtBQUNqRCxVQUFJLENBQUMsS0FBSyxhQUFhLGNBQWMsZUFBZSxjQUFjLEdBQUc7QUFDbkU7QUFBQSxNQUNGO0FBQ0EsV0FBSyxlQUFlO0FBQUEsSUFDdEIsQ0FBQztBQUdELFNBQUssZUFBZTtBQUVwQixTQUFLLGtCQUFrQixJQUFJLGdCQUFnQixJQUFJO0FBRS9DLFlBQVEsSUFBSSwrQkFBK0I7QUFBQSxFQUM3QztBQUFBLEVBRUEsV0FBVztBQUNULFlBQVEsSUFBSSxrQ0FBa0M7QUFNOUMsVUFBTSxVQUFVLFNBQVMsZUFBZSwwQkFBMEI7QUFDbEUsUUFBSSxTQUFTO0FBQ1gsY0FBUSxPQUFPO0FBQUEsSUFDakI7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDbkIsVUFBTSxPQUFPLE1BQU0sS0FBSyxTQUFTO0FBQ2pDLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixJQUFJO0FBRXhELFNBQUsscUJBQXFCO0FBQUEsRUFDNUI7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNuQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNuQztBQUFBLEVBRVEsY0FBYztBQUNwQixTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsWUFBWTtBQUV4QixZQUFJLENBQUMsS0FBSyxhQUFhLGNBQWMsYUFBYSxtQkFBbUIsR0FBRztBQUN0RTtBQUFBLFFBQ0Y7QUFDSSxjQUFNLGFBQWEsS0FBSyxJQUFJLFVBQVUsY0FBYztBQUNwRCxZQUFJLENBQUM7QUFBWTtBQUNqQixjQUFNLEtBQUssaUJBQWlCLFNBQVMsVUFBVTtBQUMvQyxhQUFLLGdCQUFnQjtBQUFBLE1BQ3ZCO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFFeEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGNBQWMsbUJBQW1CLEdBQUc7QUFDdkU7QUFBQSxRQUNGO0FBQ0ksY0FBTSxLQUFLLGlCQUFpQixVQUFVO0FBQ3RDLGFBQUssZ0JBQWdCO0FBQUEsTUFDdkI7QUFBQSxJQUNGLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNkLGFBQUssd0JBQXdCO0FBQUEsTUFDL0I7QUFBQSxJQUNGLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsWUFBWTtBQUV4QixZQUFJLENBQUMsS0FBSyxhQUFhLGNBQWMsdUJBQXVCLHNDQUFzQyxHQUFHO0FBQ25HO0FBQUEsUUFDRjtBQUNJLGNBQU0sS0FBSyxlQUFlO0FBQUEsTUFDNUI7QUFBQSxJQUNGLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsWUFBWTtBQUV4QixZQUFJLENBQUMsS0FBSyxhQUFhLGNBQWMsY0FBYyxpQkFBaUIsR0FBRztBQUNyRTtBQUFBLFFBQ0Y7QUFDSSxjQUFNLGFBQWEsS0FBSyxJQUFJLFVBQVUsY0FBYztBQUNwRCxZQUFJLENBQUM7QUFBWTtBQUVqQixjQUFNLEVBQUUscUJBQUFDLHFCQUFvQixJQUFJLE1BQU07QUFDdEMsY0FBTSxRQUFRLElBQUlBO0FBQUEsVUFDaEIsS0FBSztBQUFBLFVBQ0w7QUFBQSxVQUNBLFdBQVc7QUFBQSxVQUNYLE1BQU0sS0FBSyxnQkFBZ0I7QUFBQSxRQUM3QjtBQUNBLGNBQU0sS0FBSztBQUFBLE1BQ2I7QUFBQSxJQUNGLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUVsQixZQUFJLENBQUMsS0FBSyxhQUFhLGNBQWMsZUFBZSxrQkFBa0IsR0FBRztBQUN2RTtBQUFBLFFBQ0Y7QUFDSSxhQUFLLGVBQWU7QUFBQSxNQUN0QjtBQUFBLElBQ0YsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2QsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBRWxCLFlBQUksQ0FBQyxLQUFLLGFBQWEsY0FBYyxjQUFjLFlBQVksR0FBRztBQUNoRTtBQUFBLFFBQ0Y7QUFFSSxhQUFLLGNBQWM7QUFBQSxNQUNyQjtBQUFBLElBQ0YsQ0FBQztBQUNELFNBQUssV0FBVztBQUFBLE1BQ2QsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxZQUFZO0FBQ3BCLGFBQUsseUJBQXlCO0FBQUEsTUFDaEM7QUFBQSxJQUVGLENBQUM7QUFBQSxFQUVIO0FBQUEsRUFDQSxNQUFNLDJCQUEyQjtBQUMvQixVQUFNLFFBQVEsSUFBSSxxQkFBcUIsSUFBSTtBQUMzQyxVQUFNLEtBQUs7QUFBQSxFQUNiO0FBQUEsRUFFQSxNQUFNLG1CQUFtQjtBQUN2QixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFHM0IsUUFBSSxPQUFPLFVBQVUsZ0JBQWdCLHVCQUF1QixFQUFFLENBQUM7QUFFL0QsUUFBSSxDQUFDLE1BQU07QUFFVCxhQUFPLFVBQVUsUUFBUSxLQUFLO0FBQzlCLFlBQU0sS0FBSyxhQUFhO0FBQUEsUUFDdEIsTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLE1BQ1YsQ0FBQztBQUFBLElBQ0g7QUFFQSxjQUFVLFdBQVcsSUFBSTtBQUFBLEVBQzNCO0FBQUEsRUFFQSxNQUFNLGlCQUFpQjtBQUNyQixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFDM0IsVUFBTSxpQkFBaUIsVUFBVSxnQkFBZ0IsdUJBQXVCO0FBR3hFLFVBQU0sYUFBYSxVQUFVO0FBQzdCLFVBQU0sdUJBQXVCLGNBQzNCLFdBQVcsS0FBSyxZQUFZLE1BQU07QUFFcEMsUUFBSSxlQUFlLFNBQVMsS0FBSyxzQkFBc0I7QUFFckQscUJBQWUsUUFBUSxVQUFRO0FBQzdCLGFBQUssT0FBTztBQUFBLE1BQ2QsQ0FBQztBQUFBLElBQ0gsV0FBVyxlQUFlLFNBQVMsS0FBSyxDQUFDLHNCQUFzQjtBQUU3RCxnQkFBVSxXQUFXLGVBQWUsQ0FBQyxDQUFDO0FBQUEsSUFDeEMsT0FBTztBQUVMLFlBQU0sT0FBTyxVQUFVLFFBQVEsS0FBSztBQUNwQyxZQUFNLEtBQUssYUFBYTtBQUFBLFFBQ3RCLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxNQUNWLENBQUM7QUFDRCxnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMzQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sMEJBQTBCO0FBQzlCLFVBQU0sRUFBRSxVQUFVLElBQUksS0FBSztBQUUzQixRQUFJLE9BQTZCO0FBQ2pDLFVBQU0sU0FBUyxVQUFVLGdCQUFnQiwwQkFBMEI7QUFFbkUsUUFBSSxPQUFPLFNBQVMsR0FBRztBQUNyQixhQUFPLE9BQU8sQ0FBQztBQUFBLElBQ2pCLE9BQU87QUFFTCxhQUFPLFVBQVUsYUFBYSxLQUFLO0FBQ25DLGFBQU0sNkJBQU0sYUFBYTtBQUFBLFFBQ3ZCLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxNQUNWO0FBQUEsSUFDRjtBQUVBLFFBQUksTUFBTTtBQUNSLGdCQUFVLFdBQVcsSUFBSTtBQUFBLElBQzNCO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBTSxpQkFBaUI7QUFDckIsVUFBTSxRQUFRLEtBQUssaUJBQWlCLFNBQVM7QUFFN0MsUUFBSSxNQUFNLFFBQVEsR0FBRztBQUNuQixVQUFJLHlCQUFPLDBCQUEwQjtBQUNyQztBQUFBLElBQ0Y7QUFFQSxVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFDM0IsUUFBSSxPQUE2QjtBQUNqQyxVQUFNLFNBQVMsVUFBVSxnQkFBZ0IsZ0JBQWdCO0FBRXpELFFBQUksT0FBTyxTQUFTLEdBQUc7QUFDckIsYUFBTyxPQUFPLENBQUM7QUFBQSxJQUNqQixPQUFPO0FBQ0wsYUFBTyxVQUFVLFFBQVEsSUFBSTtBQUM3QixhQUFNLDZCQUFNLGFBQWE7QUFBQSxRQUN2QixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFFQSxRQUFJLE1BQU07QUFDUixnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMzQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sZ0JBQWdCO0FBQ3BCLFVBQU0sRUFBRSxVQUFVLElBQUksS0FBSztBQUMzQixRQUFJLE9BQTZCO0FBQ2pDLFVBQU0sU0FBUyxVQUFVLGdCQUFnQixlQUFlO0FBRXhELFFBQUksT0FBTyxTQUFTLEdBQUc7QUFDckIsYUFBTyxPQUFPLENBQUM7QUFBQSxJQUNqQixPQUFPO0FBQ0wsYUFBTyxVQUFVLFFBQVEsS0FBSztBQUM5QixhQUFNLDZCQUFNLGFBQWE7QUFBQSxRQUN2QixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFFQSxRQUFJLE1BQU07QUFDUixnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMzQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLGtCQUFrQjtBQUVoQixVQUFNLGdCQUFnQixLQUFLLElBQUksVUFBVSxnQkFBZ0IsMEJBQTBCO0FBQ25GLGtCQUFjLFFBQVEsVUFBUTtBQUM1QixZQUFNLE9BQU8sS0FBSztBQUNsQixVQUFJLFFBQVEsT0FBTyxLQUFLLFlBQVksWUFBWTtBQUM5QyxhQUFLLFFBQVE7QUFBQSxNQUNmO0FBQUEsSUFDRixDQUFDO0FBR0QsVUFBTSxhQUFhLEtBQUssSUFBSSxVQUFVLGdCQUFnQix1QkFBdUI7QUFDN0UsZUFBVyxRQUFRLFVBQVE7QUFDekIsWUFBTSxPQUFPLEtBQUs7QUFDbEIsVUFBSSxRQUFRLE9BQU8sS0FBSyxZQUFZLFlBQVk7QUFDOUMsYUFBSyxRQUFRO0FBQUEsTUFDZjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUVRLGlCQUFpQjtBQUN2QixVQUFNLGdCQUFnQixLQUFLLGlCQUFpQjtBQUM1QyxrQkFBYyxTQUFTLHdCQUF3QjtBQUUvQyxVQUFNLGVBQWUsTUFBTTtBQUN6QixZQUFNLFFBQVEsS0FBSyxpQkFBaUIsU0FBUztBQUM3QyxvQkFBYyxRQUFRLGFBQU0sTUFBTSxTQUFTO0FBQzNDLG9CQUFjLFFBQVEsR0FBRyxNQUFNO0FBQUEsRUFBNkIsTUFBTTtBQUFBLElBQ3BFO0FBR0EsaUJBQWE7QUFHYixTQUFLO0FBQUEsTUFDSCxPQUFPLFlBQVksY0FBYyxHQUFLO0FBQUEsSUFDeEM7QUFHQSxrQkFBYyxpQkFBaUIsU0FBUyxNQUFNO0FBQzVDLFdBQUssZUFBZTtBQUFBLElBQ3RCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQSxFQUdPLDBCQUFtQztBQUN4QyxXQUFPLEtBQUssSUFBSSxVQUFVLGdCQUFnQiwwQkFBMEIsRUFBRSxTQUFTO0FBQUEsRUFDakY7QUFBQSxFQUVPLHVCQUFnQztBQUNyQyxXQUFPLEtBQUssSUFBSSxVQUFVLGdCQUFnQix1QkFBdUIsRUFBRSxTQUFTO0FBQUEsRUFDOUU7QUFBQSxFQUNRLHVCQUF1QjtBQUU3QixVQUFNLGVBQWdCLEtBQUssSUFBWSxNQUFNLFVBQVUsVUFBVSxLQUM1QyxhQUFhLFFBQVEsVUFBVSxLQUMvQjtBQUdyQixVQUFNLGVBQStCLGFBQWEsV0FBVyxJQUFJLElBQUksVUFBVTtBQUcvRSxRQUFJLENBQUMsS0FBSyxTQUFTLFlBQVksS0FBSyxTQUFTLGFBQWEsY0FBYztBQUN0RSxXQUFLLFNBQVMsV0FBVztBQUN6QixXQUFLLGFBQWE7QUFBQSxJQUNwQjtBQUFBLEVBQ0Y7QUFDRjsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImNvdW50IiwgImNhcmRzIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInVuaXRzIiwgInVuaXQiLCAiY2FyZCIsICJpbXBvcnRfb2JzaWRpYW4iLCAic2ltaWxhcml0eSIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJfYSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInJlc3VsdCIsICJleHRyYWN0ZWRUYWJsZSIsICJ1bml0IiwgIml0ZW0iLCAiaW1wb3J0X29ic2lkaWFuIiwgIkZpbGVBbm5vdGF0aW9uTW9kYWwiXQp9Cg==
