/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/ui/view/AnnotationModal.ts
var AnnotationModal_exports = {};
__export(AnnotationModal_exports, {
  AnnotationModal: () => AnnotationModal,
  FileAnnotationModal: () => FileAnnotationModal
});
var import_obsidian14, AnnotationModal, FileAnnotationModal;
var init_AnnotationModal = __esm({
  "src/ui/view/AnnotationModal.ts"() {
    import_obsidian14 = require("obsidian");
    AnnotationModal = class extends import_obsidian14.Modal {
      constructor(app, plugin, contentUnit, onSave) {
        super(app);
        this.plugin = plugin;
        this.annotationText = "";
        this.badgeText = "";
        this.badgeColor = "#5B9BD5";
        this.contentUnit = contentUnit;
        this.onSave = onSave;
        this.existingAnnotation = this.plugin.annotationManager.getContentAnnotation(
          contentUnit.id
        );
        if (this.existingAnnotation) {
          this.annotationText = this.existingAnnotation.content;
          if (this.existingAnnotation.badge) {
            this.badgeText = this.existingAnnotation.badge.text;
            this.badgeColor = this.existingAnnotation.badge.color;
          }
        }
      }
      onOpen() {
        const { contentEl } = this;
        contentEl.addClass("annotation-modal");
        contentEl.createEl("h2", {
          text: this.existingAnnotation ? "Edit Annotation" : "Add Annotation"
        });
        const contentPreview = contentEl.createDiv({ cls: "annotation-content-preview" });
        contentPreview.createEl("h3", { text: "Content:" });
        contentPreview.createEl("blockquote", { text: this.contentUnit.content });
        new import_obsidian14.Setting(contentEl).setName("Annotation").setDesc("Add your notes or comments about this content").addTextArea((text) => {
          text.setPlaceholder("Enter your annotation here...").setValue(this.annotationText).onChange((value) => {
            this.annotationText = value;
          });
          text.inputEl.rows = 6;
          text.inputEl.style.width = "100%";
        });
        contentEl.createEl("h3", { text: "Badge (Optional)" });
        new import_obsidian14.Setting(contentEl).setName("Badge text").setDesc('Short text to display as a badge (e.g., "\u91CD\u8981", "\u5F85\u590D\u4E60")').addText(
          (text) => text.setPlaceholder("Badge text").setValue(this.badgeText).onChange((value) => {
            this.badgeText = value;
            this.updateBadgePreview();
          })
        );
        new import_obsidian14.Setting(contentEl).setName("Badge color").setDesc("Choose a color for the badge").addDropdown((dropdown) => {
          dropdown.addOption("#5B9BD5", "\u{1F535} Blue").addOption("#70AD47", "\u{1F7E2} Green").addOption("#FFC000", "\u{1F7E1} Yellow").addOption("#FF6B6B", "\u{1F534} Red").addOption("#C78BFF", "\u{1F7E3} Purple").addOption("#FF9F43", "\u{1F7E0} Orange").setValue(this.badgeColor).onChange((value) => {
            this.badgeColor = value;
            this.updateBadgePreview();
          });
        });
        const badgePreview = contentEl.createDiv({ cls: "badge-preview-container" });
        badgePreview.createEl("span", { text: "Preview: ", cls: "preview-label" });
        const badgeEl = badgePreview.createEl("span", { cls: "badge-preview" });
        this.badgePreviewEl = badgeEl;
        this.updateBadgePreview();
        const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
        if (this.existingAnnotation) {
          const deleteBtn = buttonContainer.createEl("button", {
            text: "Delete",
            cls: "mod-warning"
          });
          deleteBtn.addEventListener("click", async () => {
            await this.deleteAnnotation();
          });
        }
        const cancelBtn = buttonContainer.createEl("button", { text: "Cancel" });
        cancelBtn.addEventListener("click", () => {
          this.close();
        });
        const saveBtn = buttonContainer.createEl("button", {
          text: "Save",
          cls: "mod-cta"
        });
        saveBtn.addEventListener("click", async () => {
          await this.saveAnnotation();
        });
        this.addStyles();
      }
      updateBadgePreview() {
        if (!this.badgePreviewEl)
          return;
        if (this.badgeText) {
          this.badgePreviewEl.textContent = this.badgeText;
          this.badgePreviewEl.style.backgroundColor = this.badgeColor;
          this.badgePreviewEl.style.display = "inline-block";
        } else {
          this.badgePreviewEl.textContent = "No badge";
          this.badgePreviewEl.style.backgroundColor = "transparent";
          this.badgePreviewEl.style.color = "var(--text-muted)";
        }
      }
      async saveAnnotation() {
        if (!this.annotationText.trim()) {
          new import_obsidian14.Notice("Please enter annotation text");
          return;
        }
        try {
          let annotation;
          if (this.existingAnnotation) {
            await this.plugin.annotationManager.updateAnnotation(
              this.existingAnnotation.id,
              {
                content: this.annotationText,
                badge: this.badgeText ? {
                  text: this.badgeText,
                  color: this.badgeColor
                } : void 0
              }
            );
            annotation = this.plugin.annotationManager.getAnnotation(
              this.existingAnnotation.id
            );
            new import_obsidian14.Notice("Annotation updated");
          } else {
            annotation = await this.plugin.annotationManager.addContentAnnotation(
              this.contentUnit.id,
              this.annotationText,
              this.badgeText ? {
                text: this.badgeText,
                color: this.badgeColor
              } : void 0
            );
            new import_obsidian14.Notice("Annotation added");
          }
          this.onSave(annotation);
          this.close();
        } catch (error) {
          console.error("Error saving annotation:", error);
          new import_obsidian14.Notice("Error saving annotation");
        }
      }
      async deleteAnnotation() {
        if (!this.existingAnnotation)
          return;
        try {
          await this.plugin.annotationManager.deleteAnnotation(
            this.existingAnnotation.id
          );
          new import_obsidian14.Notice("Annotation deleted");
          this.close();
          this.onSave(null);
        } catch (error) {
          console.error("Error deleting annotation:", error);
          new import_obsidian14.Notice("Error deleting annotation");
        }
      }
      addStyles() {
        const styleEl = document.createElement("style");
        styleEl.textContent = `
      .annotation-modal {
        padding: 20px;
      }

      .annotation-content-preview {
        margin: 20px 0;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 6px;
      }

      .annotation-content-preview h3 {
        margin-top: 0;
        margin-bottom: 10px;
        font-size: 0.9em;
        color: var(--text-muted);
      }

      .annotation-content-preview blockquote {
        margin: 0;
        padding: 10px;
        border-left: 3px solid var(--interactive-accent);
        background: var(--background-primary);
        border-radius: 4px;
      }

      .badge-preview-container {
        margin: 10px 0;
        padding: 10px;
        background: var(--background-secondary);
        border-radius: 4px;
      }

      .preview-label {
        color: var(--text-muted);
        margin-right: 10px;
      }

      .badge-preview {
        padding: 4px 10px;
        border-radius: 12px;
        color: white;
        font-size: 0.85em;
        font-weight: 500;
      }

      .modal-button-container {
        display: flex;
        gap: 10px;
        justify-content: flex-end;
        margin-top: 20px;
      }

      .modal-button-container button {
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
      }
    `;
        document.head.appendChild(styleEl);
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    };
    FileAnnotationModal = class extends import_obsidian14.Modal {
      constructor(app, plugin, filePath, onSave) {
        super(app);
        this.plugin = plugin;
        this.existingAnnotations = [];
        this.annotationText = "";
        this.filePath = filePath;
        this.onSave = onSave;
        this.existingAnnotations = this.plugin.annotationManager.getFileAnnotations(filePath);
      }
      onOpen() {
        var _a;
        const { contentEl } = this;
        contentEl.createEl("h2", { text: "File Annotations" });
        const fileName = ((_a = this.filePath.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || this.filePath;
        contentEl.createEl("p", {
          text: `File: ${fileName}`,
          cls: "file-name"
        });
        if (this.existingAnnotations.length > 0) {
          const existingSection = contentEl.createDiv({ cls: "existing-annotations" });
          existingSection.createEl("h3", { text: "Existing Annotations" });
          this.existingAnnotations.forEach((annotation) => {
            const annotationCard = existingSection.createDiv({ cls: "annotation-card" });
            annotationCard.createEl("p", { text: annotation.content });
            const date = new Date(annotation.metadata.createdAt).toLocaleDateString();
            annotationCard.createEl("small", {
              text: `Created: ${date}`,
              cls: "annotation-date"
            });
            const deleteBtn = annotationCard.createEl("button", {
              text: "\u{1F5D1} Delete",
              cls: "delete-annotation-btn"
            });
            deleteBtn.addEventListener("click", async () => {
              await this.deleteAnnotation(annotation.id);
              this.close();
              this.onSave();
            });
          });
        }
        contentEl.createEl("h3", { text: "Add New Annotation" });
        new import_obsidian14.Setting(contentEl).setName("Annotation").setDesc("Add notes about this file").addTextArea((text) => {
          text.setPlaceholder("Enter file annotation...").setValue(this.annotationText).onChange((value) => {
            this.annotationText = value;
          });
          text.inputEl.rows = 4;
          text.inputEl.style.width = "100%";
        });
        const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
        const cancelBtn = buttonContainer.createEl("button", { text: "Cancel" });
        cancelBtn.addEventListener("click", () => {
          this.close();
        });
        const saveBtn = buttonContainer.createEl("button", {
          text: "Save",
          cls: "mod-cta"
        });
        saveBtn.addEventListener("click", async () => {
          await this.saveAnnotation();
        });
      }
      async saveAnnotation() {
        if (!this.annotationText.trim()) {
          new import_obsidian14.Notice("Please enter annotation text");
          return;
        }
        try {
          await this.plugin.annotationManager.addFileAnnotation(
            this.filePath,
            this.annotationText
          );
          new import_obsidian14.Notice("File annotation added");
          this.close();
          this.onSave();
        } catch (error) {
          console.error("Error saving file annotation:", error);
          new import_obsidian14.Notice("Error saving file annotation");
        }
      }
      async deleteAnnotation(id) {
        try {
          await this.plugin.annotationManager.deleteAnnotation(id);
          new import_obsidian14.Notice("Annotation deleted");
        } catch (error) {
          console.error("Error deleting annotation:", error);
          new import_obsidian14.Notice("Error deleting annotation");
        }
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LearningSystemPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian15 = require("obsidian");

// src/ui/view/SettingsTab.ts
var import_obsidian = require("obsidian");
var SettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Learning System Settings" });
    new import_obsidian.Setting(containerEl).setName("Enable extraction").setDesc("Enable automatic content extraction").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.extractionEnabled).onChange(async (value) => {
        this.plugin.settings.extractionEnabled = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Auto scan").setDesc("Automatically scan files when they are opened").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoScan).onChange(async (value) => {
        this.plugin.settings.autoScan = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Default deck").setDesc("Default deck name for new flashcards").addText(
      (text) => text.setPlaceholder("Default").setValue(this.plugin.settings.defaultDeck).onChange(async (value) => {
        this.plugin.settings.defaultDeck = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Language / \u8BED\u8A00").setDesc("Select interface language / \u9009\u62E9\u754C\u9762\u8BED\u8A00").addDropdown(
      (dropdown) => dropdown.addOption("en", "English").addOption("zh-CN", "\u7B80\u4F53\u4E2D\u6587").setValue(this.plugin.settings.language).onChange(async (value) => {
        this.plugin.settings.language = value;
        await this.plugin.saveSettings();
        this.plugin.refreshOverview();
        new import_obsidian.Notice("Language updated. Some changes require reload. / \u8BED\u8A00\u5DF2\u66F4\u65B0,\u90E8\u5206\u66F4\u6539\u9700\u8981\u91CD\u65B0\u52A0\u8F7D\u3002");
      })
    );
  }
};

// src/ui/style/sidebarStyle.ts
var StyleLoader = class {
  /**
   * 注入样式到页面
   */
  static inject() {
    if (this.isInjected || document.getElementById(this.styleId)) {
      return;
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.isInjected = true;
  }
  /**
   * 移除样式
   */
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
      this.isInjected = false;
    }
  }
  /**
   * 获取所有样式（从这里统一管理）
   */
  static getStyles() {
    return `
  /* ==================== CSS \u53D8\u91CF\u914D\u7F6E ==================== */
  .learning-overview-container {
    --overview-sidebar-width: 250px;
    --overview-card-gap: 8px;
    --overview-border-radius: 6px;
    --overview-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* ==================== \u5168\u5C40\u5BB9\u5668 ==================== */
  .learning-overview-container {
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: var(--background-primary);
  }
  
  /* ==================== \u4FA7\u8FB9\u680F\u6A21\u5F0F ==================== */
  .learning-overview-container[data-mode="sidebar"] {
    padding: 0;
  }
  
  .sidebar-toolbar {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
    flex-shrink: 0;
    position: relative;
    z-index: 10;
  }
  
  .sidebar-content-list {
    flex: 1;
    overflow-y: auto;
    padding: var(--overview-card-gap);
    position: relative;
    z-index: 1;
  }
  
  /* ==================== \u5DE5\u5177\u680F\u7EC4\u4EF6 ==================== */
  .search-container {
    margin-bottom: 10px;
      pointer-events: auto;
  }
  
  .search-input {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    font-size: 13px;
    background: var(--background-primary);
    color: var(--text-normal);
    transition: var(--overview-transition);
      pointer-events: auto;
  }
  
  .search-input:focus {
    outline: none;
    border-color: var(--interactive-accent);
  }
  
  .filter-chips {
    display: flex;
    gap: 6px;
    margin-bottom: 10px;
  }
  
  .filter-chip {
    flex: 1;
    text-align: center;
    padding: 6px 8px;
    font-size: 11px;
    border-radius: 12px;
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    border: 1px solid transparent;
  }
  
  .filter-chip:hover {
    background: var(--background-modifier-hover);
  }
  
  .filter-chip.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    font-weight: 600;
    border-color: var(--interactive-accent);
  }
  
  .group-switcher {
    display: flex;
    gap: 6px;
    margin-bottom: 10px;
  }
  
  .group-btn {
    flex: 1;
    text-align: center;
    padding: 6px;
    font-size: 16px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    border: 1px solid transparent;
  }
  
  .group-btn:hover {
    background: var(--background-modifier-hover);
  }
  
  .group-btn.active {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    transform: scale(1.05);
  }
  
  /* ==================== \u6279\u91CF\u64CD\u4F5C ==================== */
  .stats-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 3px;
  }
  
.stats-left {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.stats-center {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  justify-content: flex-start;
}

.stats-right {
  display: flex;
  align-items: center;
  gap: 1px;
  flex-shrink: 0;
  margin-left: auto; /* \u63A8\u5230\u6700\u53F3\u4FA7 */
}

.header-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

/* \u590D\u4E60\u68C0\u67E5\u6309\u94AE\u6837\u5F0F */
.review-check-btn-stats {
  width: 32px;
  height: 32px;
  padding: 0;
  cursor: pointer;
  font-size: 14px;
  transition: var(--overview-transition);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
   background-color: transparent;
   border:none;
}

.review-check-btn-stats:hover {
  background: var(--interactive-accent);
  color: white;
  border-color: var(--interactive-accent);
  transform: scale(1.1);
}

.review-check-btn-stats:active {
  transform: scale(0.95);
}

/* \u5982\u679C\u6709\u5F85\u590D\u4E60\u5361\u7247,\u6DFB\u52A0\u63D0\u793A\u52A8\u753B */
.review-check-btn-stats.has-due {
  animation: bellRing 2s ease-in-out infinite;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-color: #667eea;
}

@keyframes bellRing {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30% {
    transform: rotate(-10deg);
  }
  20%, 40% {
    transform: rotate(10deg);
  }
  50% {
    transform: rotate(0deg);
  }
}

  .batch-create-cards-btn-sidebar,
  .batch-delete-btn-sidebar,
  .cancel-selection-btn-sidebar {
    padding: 6px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 11px;
    font-weight: 500;
    white-space: nowrap;
  }
  
  .batch-create-cards-btn-sidebar:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }
  
  .batch-delete-btn-sidebar:hover {
    background: var(--color-red);
    color: white;
    border-color: var(--color-red);
  }
  
  .cancel-selection-btn-sidebar:hover {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
    border-color: var(--text-muted);
  }
  
  .batch-create-cards-btn-header,
  .batch-delete-btn-header,
  .cancel-selection-btn-header {
    padding: 8px 16px;
    font-size: 13px;
    border-radius: var(--overview-border-radius);
    border: 1px solid var(--background-modifier-border);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
    white-space: nowrap;
  }
  
  .batch-create-cards-btn-header:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }
  
  .batch-delete-btn-header:hover {
    background: var(--color-red);
    color: white;
    border-color: var(--color-red);
  }
  
  .cancel-selection-btn-header:hover {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
    border-color: var(--text-muted);
  }
  
  .select-all-btn-sidebar {
    padding: 6px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 11px;
    font-weight: 500;
    flex-shrink: 0;
  }
  
  .select-all-btn-sidebar:hover,
  .select-all-btn-sidebar.completed {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    color: white;
  }
  
  .select-all-btn-header {
    padding: 8px 16px;
    font-size: 13px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  }
  
  .select-all-btn-header:hover,
  .select-all-btn-header.completed {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    border-color: var(--interactive-accent);
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  }
  
  .stats-badge {
    text-align: center;
    font-size: 11px;
    color: var(--text-muted);
    padding: 4px;
    flex: 1;
  }
  
  .batch-actions {
    display: flex;
    gap: 6px;
    margin-top: 10px;
    flex-wrap: wrap;
    padding: 8px;
    background: var(--background-secondary-alt);
    border-radius: var(--overview-border-radius);
    animation: slideDown 0.2s ease;
  }
  
  /* ==================== \u5361\u7247\u6837\u5F0F ==================== */
  .compact-card {
    display: flex;
    gap: 8px;
    padding: 10px;
    margin: 4px 0;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    transition: var(--overview-transition);
  }
  
  .compact-card:hover {
    border-color: var(--interactive-accent);
    background: var(--background-primary-alt);
    transform: translateX(2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .card-indicator {
    width: 4px;
    border-radius: 2px;
    background: var(--background-modifier-border);
    flex-shrink: 0;
    transition: var(--overview-transition);
  }
  
  .card-indicator.type-qa {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #10b981 50%, #10b981 100%);
  }
  
  .card-indicator.type-cloze {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #FFF176 50%, #FFF176 100%);
  }
  
  .card-indicator.type-text {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #6b7280 50%, #6b7280 100%);
  }
  
  .card-indicator.type-qa.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #10b981 50%, #10b981 100%);
  }
  
  .card-indicator.type-cloze.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #FFF176 50%, #FFF176 100%);
  }
  
  .card-indicator.type-text.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #6b7280 50%, #6b7280 100%);
  }
  
  .type-indicator {
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
  }
  
  .type-indicator.type-qa {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
  }
  
  .type-indicator.type-cloze {
    background: rgba(255, 241, 118, 0.2);
    color: #FFF176;
  }
  
  .type-indicator.type-text {
    background: rgba(107, 114, 128, 0.2);
    color: #6b7280;
  }
  
  .card-content {
    flex: 1;
    min-width: 0;
  }
  
  .card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2px;
  }
  
  .card-tools {
    display: flex;
    gap: 4px;
  }
  
  .tool-btn {
    cursor: pointer;
    font-size: 14px;
    padding: 4px;
    border-radius: 4px;
    transition: var(--overview-transition);
  }
  
  .tool-btn:hover {
    background: var(--background-modifier-hover);
  }
  
  .annotation-btn {
    cursor: pointer;
    font-size: 13px;
  }
  

  
  .note-text {
    font-size: 12px;
    line-height: 1.6;
    color: var(--text-normal);
    cursor: pointer;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    overflow-wrap: break-word;
    margin-bottom: 6px;
  }
  
  .note-text:hover {
    color: var(--interactive-accent);
  }
  
  .qa-question {
    font-weight: 500;
    color: var(--text-normal);
  }
  
  .qa-separator {
    color: var(--text-muted);
    margin: 0 4px;
  }
  
  .qa-answer {
    color: var(--text-accent);
    font-style: italic;
  }
  
  .cloze-highlight {
    color: #f59e0b;
    font-weight: 500;
    padding: 1px 3px;
    border-radius: 3px;
  }
  
  .annotation-preview {
    font-size: 11px;
    line-height: 1.4;
    color: var(--text-muted);
    padding: 6px 8px;
    background: var(--background-secondary);
    border-radius: 4px;
    margin-top: 6px;
    border-left: 3px solid var(--interactive-accent);
    cursor: pointer;
    transition: var(--overview-transition);
  }
  
  .annotation-preview:hover {
    background: var(--background-modifier-hover);
  }
  
  .card-meta {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 8px;
  }
  
  .tag {
    padding: 2px 6px;
    background: var(--tag-background);
    color: var(--tag-color);
    border-radius: 4px;
    font-size: 10px;
    font-weight: 500;
  }
  
  .badge {
    padding: 2px 6px;
    background: var(--background-modifier-border);
    border-radius: 4px;
    font-size: 10px;
  }
  
  .group-header {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 8px;
    background: var(--background-secondary);
    border-radius: var(--overview-border-radius);
    margin-bottom: 6px;
    font-size: 12px;
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  
/* ==================== \u6279\u6CE8\u7F16\u8F91\u5668 ==================== */
.inline-annotation-editor {
  display: block !important;
  visibility: visible !important;
  margin-top: 8px;
  padding: 0;
  background: transparent;
}
  
  .inline-annotation-textarea {
    width: 100%;
    min-height: 80px;
    padding: 12px 14px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-primary-alt);
    color: var(--text-normal);
    font-family: var(--font-text);
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
    transition: var(--overview-transition);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .inline-annotation-textarea:focus {
    outline: none;
    border-color: var(--interactive-accent);
    background: var(--background-primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }
  
  .inline-annotation-textarea::placeholder {
    color: var(--text-faint);
    font-style: italic;
  }
  
  .inline-annotation-hint {
    margin-top: 6px;
    font-size: 11px;
    color: var(--text-faint);
    font-style: italic;
    text-align: left;
  }
  
  .grid-card .inline-annotation-editor {
    margin-top: 8px;
  }
  
  .grid-card .inline-annotation-textarea {
    min-height: 100px;
    font-size: 14px;
    padding: 8px 14px;
  }
  
  /* ==================== \u4E3B\u754C\u9762\u5E03\u5C40 ==================== */
  .main-layout {
    display: grid;
    grid-template-columns: var(--overview-sidebar-width) 1fr;
    gap: 1px;
    height: 100%;
    background: var(--background-modifier-border);
  }
  
  .left-panel {
    background: var(--background-primary);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
  }
  
  .right-panel {
    background: var(--background-primary);
    overflow-y: auto;
    padding: var(--overview-card-gap);
  }
  
  .fixed-entries {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  
  .entry-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: var(--overview-border-radius);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 13px;
    font-weight: 500;
    background: var(--background-secondary);
  }
  
  .entry-btn:hover {
    background: var(--background-modifier-hover);
    transform: translateX(2px);
  }
  
  .entry-btn.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  /* ==================== \u4E3B\u754C\u9762\u5DE5\u5177\u680F ==================== */
  .main-toolbar {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
  }
  
  .search-input-main {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    font-size: 13px;
    background: var(--background-primary);
    color: var(--text-normal);
    margin-bottom: 10px;
    transition: var(--overview-transition);
  }
  
  .search-input-main:focus {
    outline: none;
    border-color: var(--interactive-accent);
  }
  
  .group-switcher-main {
    display: flex;
    gap: 6px;
  }
  
  .group-btn-main {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    padding: 8px 10px;
    font-size: 12px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
  }
  
  .group-btn-main:hover {
    background: var(--background-modifier-hover);
    transform: translateY(-1px);
  }
  
  .group-btn-main.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  .batch-actions-main {
    display: flex;
    gap: 8px;
    margin-top: 10px;
    flex-wrap: wrap;
  }
  
  .batch-actions-main .batch-mode-btn,
  .batch-actions-main .select-all-btn,
  .batch-actions-main .batch-delete-btn,
  .batch-actions-main .batch-create-cards-btn {
    padding: 8px 16px;
    font-size: 12px;
  }
  
  .batch-actions-main .select-all-btn:hover {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    color: white;
  }
  
  .panel-title {
    font-size: 13px;
    font-weight: 600;
    padding: 12px;
    margin: 0;
    color: var(--text-muted);
  }
  
  .file-list {
    padding: 0 8px 8px 8px;
    flex: 1;
    overflow-y: auto;
  }
  
  .file-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 10px;
    border-radius: var(--overview-border-radius);
    cursor: pointer;
    transition: var(--overview-transition);
    margin-bottom: 4px;
  }
  
  .file-item:hover {
    background: var(--background-modifier-hover);
  }
  
  .file-item.selected {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  .file-icon {
    font-size: 14px;
  }
  
  .file-name {
    flex: 1;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  .file-count {
    font-size: 11px;
    padding: 2px 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  
  .file-item.selected .file-count {
    background: rgba(255, 255, 255, 0.2);
  }
  
  /* ==================== \u7F51\u683C\u5E03\u5C40 ==================== */
  .grid-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--background-modifier-border);
  }
  
  .grid-header h2 {
    font-size: 18px;
    font-weight: 600;
    margin: 0;
  }
  
  .content-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: var(--overview-card-gap);
  }
  
  .grid-card {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: var(--overview-card-gap);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .grid-card:hover {
    border-color: var(--interactive-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
  
  .grid-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--background-modifier-border);
  }
  
  .grid-card-tools {
    display: flex;
    gap: 4px;
  }
  
  .tool-btn-grid {
    cursor: pointer;
    font-size: 16px;
    padding: 4px 6px;
    border-radius: 4px;
    transition: var(--overview-transition);
  }
  
  .tool-btn-grid:hover {
    background: var(--background-modifier-hover);
    transform: scale(1.1);
  }
  
  .grid-note-text {
    font-size: 13px;
    line-height: 1.6;
    color: var(--text-normal);
    cursor: pointer;
    margin-bottom: 10px;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    overflow-wrap: break-word;
  }
  
  .grid-note-text:hover {
    color: var(--interactive-accent);
  }
  
  .grid-annotation {
    font-size: 12px;
    line-height: 1.5;
    color: var(--text-muted);
    padding: 10px;
    background: var(--background-secondary);
    border-radius: 4px;
    border-left: 3px solid var(--interactive-accent);
    margin-top: 10px;
    cursor: pointer;
    transition: var(--overview-transition);
  }
  
  .grid-annotation:hover {
    background: var(--background-modifier-hover);
  }
  
  .grid-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 10px;
  }
  
  .tag-grid {
    padding: 4px 8px;
    background: var(--tag-background);
    color: var(--tag-color);
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
  }
  
  .grid-card-meta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 10px;
    border-top: 1px solid var(--background-modifier-border);
    font-size: 11px;
  }
  
  .doc-name {
    font-size: 11px;
    color: var(--text-muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .line-info {
    color: var(--text-muted);
  }
  
  .badge-grid {
    padding: 3px 8px;
    background: var(--background-secondary);
    border-radius: 4px;
  }
  
  /* ==================== \u95EA\u5361\u6837\u5F0F ==================== */
  .flashcard-item {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 16px;
    transition: var(--overview-transition);
  }
  
  .flashcard-item:hover {
    border-color: var(--interactive-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .flashcard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }
  
  .flashcard-type {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
  }
  
  .flashcard-type.qa {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
  }
  
  .flashcard-type.cloze {
    background: rgba(255, 241, 118, 0.2);
    color: #FFF176;
  }
  
  .flashcard-body {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  
  .flashcard-question,
  .flashcard-answer {
    font-size: 13px;
    line-height: 1.5;
  }
  
  /* ==================== \u7A7A\u72B6\u6001 ==================== */
  .empty-state {
    text-align: center;
    padding: 40px 20px;
    color: var(--text-muted);
    font-size: 14px;
    position: relative;
    z-index: 1;
  }
  
  .empty-hint {
    text-align: center;
    padding: 20px;
    color: var(--text-muted);
    font-size: 13px;
  }
  
  .empty-right-panel {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: var(--text-muted);
  }
  
  .empty-icon {
    font-size: 48px;
    margin-bottom: 16px;
  }
  
  .empty-text {
    font-size: 14px;
  }
  
  /* ==================== \u52A8\u753B ==================== */
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* ==================== \u54CD\u5E94\u5F0F ==================== */
  @media (max-width: 768px) {
    .main-layout {
      grid-template-columns: 1fr;
    }
  
    .left-panel {
      display: none;
    }
  
    .content-grid {
      grid-template-columns: 1fr;
    }
    }


/* \u590D\u4E60\u56FE\u6807*/


.review-check-btn {
  width: 36px;
  height: 36px;
  padding: 0;
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--overview-border-radius);
  background: var(--background-secondary);
  cursor: pointer;
  font-size: 18px;
  transition: var(--overview-transition);
  flex-shrink: 0;
}

.review-check-btn:hover {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  transform: scale(1.05);
}
@keyframes pulse {
  0%, 100% {
    opacity: 0.85;
  }
  50% {
    opacity: 1;
  }
}

/* \u590D\u4E60\u63D0\u9192\u5177\u4F53\u6837\u5F0F */
.content-list-review-reminder {

}

.reminder-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.reminder-icon {
  font-size: 24px;
}

.reminder-text strong {
  font-size: 16px;
  font-weight: 600;
}

.reminder-progress {
  margin-bottom: 12px;
}

.progress-bar {
  height: 8px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 4px;
}

.progress-fill {
  height: 100%;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 4px;
  transition: width 0.3s ease;
}

.progress-text {
  font-size: 13px;
  opacity: 0.9;
}

.reminder-stats {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}



.streak-info {
  opacity: 0.95;
}

.reminder-actions {
  display: flex;
  justify-content: flex-end;
}

.reminder-btn.primary {

  font-weight: 500;
  cursor: pointer;
}

.reminder-btn.primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* \u5361\u7247\u4E2D\u8868\u683C\u7684\u5B8C\u5F62\u586B\u7A7A\u9AD8\u4EAE - \u6A59\u8272 */
.learning-system-table .card-cloze-highlight {
  background-color: rgba(255, 140, 0, 0.25);
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 500;
}
    
  /* ==================== \u7B49\u7EA7\u5FBD\u7AE0\u56FE\u6807 ==================== */
.level-badge-icon {
  padding: 4px 6px ;
  color: var(--text-muted);
  border-radius: 7px;
  font-size: 0.85em;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-right: 0px;
  user-select: none;
}

.level-badge-icon:hover {
  transform: translateY(-2px);
}

/* ==================== \u7B49\u7EA7\u4FE1\u606F\u6A21\u6001\u6846 ==================== */
.level-info-modal {
  padding: 20px;
  max-width: 600px;
}

.level-info-modal h2 {
  text-align: center;
  margin-bottom: 24px;
  font-size: 1.8em;
}

.level-info-modal h3 {
  margin-top: 20px;
  margin-bottom: 12px;
  color: var(--text-muted);
  font-size: 1.1em;
}

.progress-section,
.stats-section,
.milestones-section {
  margin-bottom: 24px;
}

.progress-box {
  padding: 16px;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 4px solid var(--interactive-accent);
  line-height: 1.8;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.stats-grid .stat-item {
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.stat-icon {
  font-size: 1.5em;
}

.stat-label {
  font-size: 0.85em;
  color: var(--text-muted);
}

.stat-value {
  font-size: 1.3em;
  font-weight: bold;
  color: var(--text-accent);
}

.milestones-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.milestone-item {
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 3px solid var(--interactive-accent);
}

.milestone-message {
  font-weight: 500;
  margin-bottom: 4px;
}

.milestone-date {
  font-size: 0.85em;
  color: var(--text-muted);
}

.modal-footer {
  margin-top: 24px;
  display: flex;
  justify-content: center;
}

.modal-footer button {
  padding: 8px 24px;
  background: var(--interactive-accent);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1em;
}

.modal-footer button:hover {
  background: var(--interactive-accent-hover);
}
  
      `;
  }
};
StyleLoader.styleId = "learning-sideOverview-styles";
StyleLoader.isInjected = false;

// src/ui/style/reviewStyle.ts
var reviewStyle = class {
  /**
   * 注入样式到页面
   */
  static inject() {
    if (this.isInjected || document.getElementById(this.styleId)) {
      return;
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.isInjected = true;
  }
  /**
   * 移除样式
   */
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
      this.isInjected = false;
    }
  }
  /**
   * 获取所有样式（从这里统一管理）
   */
  static getStyles() {
    return `
       .review-container {
        padding: 16px;
        max-width: 800px;
        margin: 0 auto;
      }

      .empty-state {
        text-align: center;
        padding: 40px 20px;
      }

      .empty-state h2 {
        font-size: 1.8em;
        margin-bottom: 8px;
      }

      .stats-summary {
        margin: 20px 0;
        padding: 16px;
        background: var(--background-secondary);
        border-radius: 8px;
        text-align: left;
        max-width: 300px;
        margin-left: auto;
        margin-right: auto;
      }

      .progress-bar {
        margin-bottom: 20px;
      }

      .progress-stats {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
      }

      .progress-text {
        font-weight: 300;
        font-size: 0.9em;
      }

      .bar-container {
        height: 6px;
        background: var(--background-secondary);
        border-radius: 3px;
        overflow: hidden;
      }

      .bar {
        height: 100%;
        background: var(--interactive-accent);
        transition: width 0.3s ease;
      }

      .card-area {
        background: var(--background-primary);
        border: 2px solid var(--background-modifier-border);
        border-radius: 10px;
        padding: 20px;
        min-height: 350px;
        position: relative;
      }

      .top-actions-bar {
        position: absolute;
        top: 16px;
        right: 16px;
        display: flex;
        gap: 6px;
        z-index: 10;
      }

      .top-action-btn {
        width: 32px;
        height: 32px;
        border: 1px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        color: var(--text-normal);
        padding: 0;
      }

      .top-action-btn:hover {
        background: var(--background-modifier-hover);
        border-color: var(--interactive-accent);
      }

      .more-dropdown {
        position: absolute;
        top: 38px;
        right: 0;
        background: var(--background-primary);
        border: 1px solid var(--background-modifier-border);
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        min-width: 150px;
        z-index: 100;
      }

      .dropdown-item {
        padding: 8px 14px;
        cursor: pointer;
        transition: background 0.2s;
        white-space: nowrap;
        font-size: 0.9em;
      }

      .dropdown-item:hover {
        background: var(--background-modifier-hover);
      }

      .delete-item:hover {
        background: var(--background-modifier-error-hover);
        color: var(--color-red);
      }

      .card-info {
        display: flex;
        gap: 10px;
        margin-bottom: 16px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--background-modifier-border);
        padding-right: 80px;
      }

      .card-type, .card-deck {
        padding: 3px 10px;
        background: var(--background-secondary);
        border-radius: 10px;
        font-size: 0.85em;
      }

      .question-area, .answer-area {
        margin: 16px 0;
      }

      .question-text {
        font-size: 1.2em;
        line-height: 1.5;
        padding: 14px;
        background: var(--background-secondary);
        border-radius: 6px;
      }

      .cloze-input-area, .qa-input-area {
        margin: 16px 0;
      }

      .cloze-input-area h4, .qa-input-area h4 {
        margin-bottom: 10px;
        color: var(--text-muted);
        font-size: 0.9em;
      }
        
.qa-answer-input {
  width: 100%;
  min-height: 120px;
  padding: 12px;
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.95em;
  font-family: inherit;
  resize: vertical;
  line-height: 1.5;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.qa-answer-input:focus {
  outline: none;
}

.qa-answer-input::placeholder {
  color: var(--text-faint);
  font-style: italic;
}
      .input-group {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
      }

      .cloze-input {
        flex: 1;
        padding: 8px 12px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        font-size: 0.95em;
      }

      .cloze-input:focus, .qa-input:focus {
        outline: none;
      }

      .qa-input {
        width: 100%;
        min-height: 100px;
        padding: 10px 12px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        font-size: 0.95em;
        font-family: inherit;
        resize: vertical;
        line-height: 1.5;
      }

      .question-review {
        margin-bottom: 12px;
        padding: 10px;
        background: var(--background-secondary-alt);
        border-radius: 6px;
      }

      .question-review h4 {
        margin: 0 0 6px 0;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .review-text {
        color: var(--text-muted);
        font-size: 0.95em;
      }

      .full-text {
        font-size: 1.1em;
        line-height: 1.5;
        padding: 12px;
        background: var(--background-secondary);
        border-radius: 6px;
        margin-bottom: 12px;
      }

      .answer-comparison {
      font-size:13px;
        padding: 10px;
        background: var(--background-secondary-alt);
        border-radius: 6px;
        margin-top: 12px;
      }

      .answer-comparison h4 {
        margin: 0 0 8px 0;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .comparison-item {
        background: var(--background-primary);
        border-radius: 4px;
      }

      .user-answer {
        font-weight: 500;
        padding: 2px 6px;
        border-radius: 3px;
      }

      .user-answer.correct {
       background-color: rgba(40, 167, 69, 0.1)  !important;
        color:  #2ea043;
      }

      .user-answer.partial {
         background-color: rgba(255, 193, 7, 0.15) !important;
        color: #ff9f0a;
      }

      .user-answer.wrong {
        background-color: rgba(220, 53, 69, 0.1) !important;
        color: #e5534b;
      }

      .correct-answer {
        color: var(--text-accent);
        font-weight: 500;
      }

      .similarity-info {
        color: var(--text-muted);
        font-style: italic;
        font-size: 0.85em;
      }

      .qa-columns-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-bottom: 12px;
      }

      .qa-column {
        display: flex;
        flex-direction: column;
      }

      .column-label {
        margin: 0 0 8px 0 !important;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .qa-user-answer, .qa-correct-answer {
        padding: 12px;
        border-radius: 6px;
        white-space: pre-wrap;
        word-break: break-word;
        font-size: 0.95em;
        line-height: 1.5;
        min-height: 60px;
      }

      .qa-correct-answer {
        background: var(--background-secondary);
      }

      .qa-user-answer.correct {
        background: #4caf50 !important;
        color: white !important;
      }

      .qa-user-answer.partial {
        background: #FFC000 !important;
        color: white !important;
      }

      .qa-user-answer.wrong {
        background: #f44336 !important;
        color: white !important;
      }

      .qa-user-answer.no-answer {
        background: var(--background-secondary);
        color: var(--text-muted);
        font-style: italic;
        border: 2px dashed var(--background-modifier-border);
      }

      .button-area {
        display: flex;
        gap: 12px;
        justify-content: center;
        margin-top: 20px;
      }

      /* ============================================================================
         Action Row - \u6309\u94AE\u5E03\u5C40
         ============================================================================ */
      .action-row {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
        padding: 0 20px;
        min-height: 60px;
      }

      /* \u4E2D\u95F4\u7684\u4E3B\u8981\u6309\u94AE(\u8BC4\u7EA7\u6216\u663E\u793A\u7B54\u6848) */
      .action-row .rating-buttons,
      .action-row .show-answer-btn {
        flex: 0 1 auto;
      }

      /* \u7FFB\u9875\u6309\u94AE\u5B9A\u4F4D\u5230\u5DE6\u4E0B\u89D2\u548C\u53F3\u4E0B\u89D2 */

      .show-answer-btn {
        padding: 10px 32px;
        font-size: 1em;
        border: 2px solid var(--interactive-accent);
        border-radius: 8px;
        background: var(--interactive-accent);
        color: var(--text-on-accent);
        cursor: pointer;
        transition: all 0.2s;
        font-weight: 500;
      }

      .show-answer-btn:hover {
        background: var(--interactive-accent-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
/* \u7FFB\u9875\u6309\u94AE - \u7EAF\u6587\u672C\u6837\u5F0F */
    button.nav-btn {
        padding: 8px 12px;
        background: transparent; !important
        border: none;!important
        cursor: pointer;
        font-size: 1.2em;
       color: var(--text-muted) !important;
        transition: all 0.2s;
        box-shadow: none;!important
      }

     button.nav-btn:hover {
        background: transparent;!important
        border: none !important
        color: var(--text-normal) !important;
        transform: scale(1.2);
        box-shadow: none;!important
      }

      .nav-btn:active {
        transform: scale(1.1);
      }

      /* action-row \u4E2D\u7684\u5B9A\u4F4D */
      .action-row .nav-btn {
        position: absolute;
      }

      .action-row .prev-btn {
        left: 0px;
      }

      .action-row .next-btn {
        right: 0px;
      }

      .prev-btn:hover {
        padding-left: 8px;
        transform: translateX(-3px) scale(1.2);
      }

      .next-btn:hover {
        padding-right: 8px;
        transform: translateX(3px) scale(1.2);
      }


      
      .show-answer-btn {
        padding: 10px 32px;
        font-size: 1em;
      }

      .rating-area {
        margin: 15px 0 10px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 40px; 
      }

      .rating-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
      }

      .rating-btn {
        flex: 1;
        max-width: 120px;
        padding: 14px 8px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 8px;
        background: var(--background-primary);
        cursor: pointer;
        transition: all 0.2s;
      }

      .rating-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .rating-red:hover { 
        border-color: var(--color-red);
        background: var(--background-modifier-error-hover);
      }

      .rating-orange:hover { 
        border-color: #FFC000;
        background: rgba(255, 192, 0, 0.1);
      }

      .rating-blue:hover { 
        border-color: var(--interactive-accent);
        background: var(--background-modifier-hover);
      }

      .rating-green:hover { 
        border-color: var(--color-green);
        background: var(--background-modifier-success-hover);
      }

      .rating-label {
        font-weight: 600;
        font-size: 1em;
        margin-bottom: 4px;
      }

      .rating-interval {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .rating-hotkey {
        font-size: 0.75em;
        color: var(--text-muted);
        margin-top: 4px;
        opacity: 0.7;
      }

      .rating-btn:hover .rating-hotkey {
        opacity: 1;
        color: var(--text-normal);
      }

   

      .cloze-blank {
        display: inline-block;
        min-width: 60px;
        padding: 2px 8px;
        color: var(--text-muted);
        font-family: monospace;
        font-size: 0.9em;
      }

          

      .table-answer, .table-question {
        padding: 0 !important;
      }

      .cloze-table-columns {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
        margin-bottom: 16px;
      }

      .user-answer-cell {
        display: inline;
        padding: 0px 4px;
        border-radius: 3px;
        font-weight: 600;
      }

      .user-answer-cell.correct {
         color: #2ea043;
      }

      .user-answer-cell.partial {
        color: #ff9f0a;

      }

      .user-answer-cell.wrong {
       color: #e5534b;

      }

      /* \u8868\u683C\u5355\u5143\u683C\u6B63\u786E\u6027\u989C\u8272 */
.learning-system-table.user-answer-table td.cell-correct,
.learning-system-table.user-answer-table th.cell-correct {
  background-color: rgba(40, 167, 69, 0.1);
}

.learning-system-table.user-answer-table td.cell-partial,
.learning-system-table.user-answer-table th.cell-partial {
  background-color: rgba(255, 193, 7, 0.15);
}

.learning-system-table.user-answer-table td.cell-wrong,
.learning-system-table.user-answer-table th.cell-wrong {
  background-color: rgba(220, 53, 69, 0.1);
}

.learning-system-table.user-answer-table .user-answer-cell {
  font-weight: 500;
}
// \u5728 reviewStyle.inject() \u4E2D\u6DFB\u52A0\u63D0\u793A\u6837\u5F0F

.cloze-input-hint {
  font-size: 0.85em;
  color: var(--text-muted);
  margin-bottom: 12px;
  padding: 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  border-left: 3px solid var(--interactive-accent);
}
// \u5728 reviewStyle.inject() \u65B9\u6CD5\u4E2D\u6DFB\u52A0:

/* \u5355\u4E2A\u8F93\u5165\u6846\u6837\u5F0F */
.single-input-group {
  margin-bottom: 16px;
}

.cloze-single-input {
  width: 100%;
  padding: 12px;
  font-size: 14px;
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  color: var(--text-normal);
  transition: border-color 0.2s;
}

.cloze-single-input:focus {
  outline: none;
}



.cloze-input-hint code {
  background: var(--background-modifier-border);
  padding: 2px 6px;
  border-radius: 3px;
  font-family: var(--font-monospace);
  font-size: 0.9em;
}

/* \u9884\u89C8\u533A\u57DF */
.answer-preview-area {
  margin-top: 16px;
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 6px;
}

.answer-preview-area h5 {
  margin: 0 0 8px 0;
  font-size: 0.9em;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.preview-list {
  margin: 0;
  padding-left: 24px;
  list-style: decimal;
}

.preview-item {
  padding: 6px 8px;
  margin-bottom: 4px;
  border-radius: 4px;
  font-family: var(--font-monospace);
  font-size: 0.9em;
}

.preview-item.filled {
  background: var(--background-primary);
  color: var(--text-normal);
  font-weight: 500;
}

.preview-item.empty {
  background: transparent;
  color: var(--text-faint);
  font-style: italic;
}


/* ============================================================================
   Table Styles
   ============================================================================ */
.learning-system-table {
  width: 100%;
  border-collapse: collapse;
  margin: 8px 0;
  font-size: 13px;
}

.learning-system-table th,
.learning-system-table td {
  line-height: 1.4;
  height: 22px;        
  padding: 2px 4px;
  text-align: left;
   vertical-align: middle;
  border: 1px solid var(--background-modifier-border);
}

.learning-system-table th {
  background: var(--background-secondary);
  font-weight: 400;
  color: var(--text-normal);
}

.learning-system-table td {
  color: var(--text-normal);
}

.learning-system-table tr:hover td {
  background: var(--background-modifier-hover);
}

/* \u2190 \u65B0\u589E:\u88AB\u6316\u7A7A\u7684\u5355\u5143\u683C\u80CC\u666F\u8272(\u663E\u793A\u7B54\u6848\u524D) */
.learning-system-table td:has(.cloze-blank),
.learning-system-table th:has(.cloze-blank) {
  background-color: rgba(80, 126, 91, 0.1);
}
.learning-system-table th.has-cloze {
  background-color: rgba(40, 167, 69, 0.15) !important;
  border-left: 2px solid rgba(40, 167, 69, 0.6);
}
/* \u2190 \u65B0\u589E:\u88AB\u6316\u7A7A\u7684\u5355\u5143\u683C\u80CC\u666F\u8272(\u663E\u793A\u7B54\u6848\u540E,\u5DF2\u63ED\u793A) */
.learning-system-table td:has(span.revealed),
.learning-system-table th:has(span.revealed)
{
  background-color: rgba(70, 113, 80, 0.15);
  border-left: 2px solid rgba(40, 167, 69, 0.5);
}

/* User Answer Table - Cell correctness background */
.user-answer-table td.cell-correct {
  background-color: rgba(76, 125, 85, 0.15);
}

/* \u9884\u89C8\u7B54\u6848\u7684\u6837\u5F0F */
.preview-answer {

  color: #4a9eff;
  padding: 2px 6px;
  border-radius: 3px;
  font-weight: 500;
}

.preview-table .cloze-blank {
  color: #666;
  padding: 2px 8px;
  border-radius: 3px;
}

/* \u5361\u7247\u4E2D\u8868\u683C\u7684\u5B8C\u5F62\u586B\u7A7A\u9AD8\u4EAE - \u6A59\u8272 */
.learning-system-table .card-cloze-highlight {
  background-color: rgba(255, 140, 0, 0.25);
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 500;
}
`;
  }
};
reviewStyle.styleId = "learning-review-styles";
reviewStyle.isInjected = false;

// src/i18n/translations.ts
var translations = {
  en: {
    // View titles
    "view.overview": "Learning Overview",
    "view.review": "Review",
    "view.stats": "Statistics",
    // Toolbar
    "toolbar.search": "Search...",
    "toolbar.filter.all": "All",
    "toolbar.filter.annotated": "Annotated",
    "toolbar.filter.flashcards": "Flashcards",
    "toolbar.group.file": "By File",
    "toolbar.group.annotation": "By Annotation",
    "toolbar.group.tag": "By Tag",
    "toolbar.group.date": "By Date",
    "toolbar.checkReview": "Check Review",
    // Batch actions
    "batch.selectAll": "Select All",
    "batch.create": "Create Flashcards",
    "batch.delete": "Delete",
    "batch.cancel": "Cancel",
    // Fixed entries
    "entry.allNotes": "All Notes",
    "entry.cardList": "Card List",
    // Level names
    "level.1": "Collector",
    "level.2": "Thinker",
    "level.3": "Memorizer",
    "level.4": "Trainer",
    "level.5": "Analyst",
    "level.current": "Current Level",
    "level.clickDetails": "Click for details",
    // Review reminder
    "review.today": "Today's Review",
    "review.start": "Start Review",
    "review.justDue": "\u23F0 Just due, review while hot",
    "review.delayed": "\u26A0\uFE0F Review delayed {hours} hours",
    "review.urgentHours": "\u26A0\uFE0F Review delayed {hours} hours, recommend priority",
    "review.urgentDays": "\u{1F6A8} Review delayed {days} days, clear ASAP",
    "review.streak": "\u{1F525} Day {days} streak!",
    // Notices
    "notice.noSelection": "\u26A0\uFE0F No items selected",
    "notice.noDueCards": "No cards due for review!",
    "notice.deleted": "\u{1F5D1}\uFE0F Deleted",
    "notice.saved": "\u2705 Saved",
    // Commands
    "command.scanFile": "Scan current file for content",
    "command.scanVault": "Scan entire vault",
    "command.openOverview": "Open Learning Overview(Sidebar)",
    "command.openMainOverview": "Toggle Learning Overview (Main View)",
    "command.addAnnotation": "Add file annotation",
    "command.startReview": "Start flashcard review",
    "command.showStats": "Show flashcard statistics",
    // Ribbons
    "ribbon.overview": "Open Learning Overview(Sidebar)",
    "ribbon.review": "Start Review",
    // Context menu
    "menu.jumpToSource": "Jump to Source",
    "menu.toggleAnnotation": "Toggle Annotation",
    "menu.editFlashcard": "Edit Flashcard",
    "menu.quickGenerate": "Quick Generate",
    "menu.createQA": "Create Q&A",
    "menu.createCloze": "Create Cloze",
    "menu.viewStats": "View Stats",
    "menu.delete": "Delete",
    // Status bar
    "status.due": "{count} due",
    "status.tooltip": "{due} cards due for review\n{new} new cards",
    // Misc
    "empty.noContent": "No content yet",
    "empty.noDocuments": "No documents",
    "fileList.title": "\u{1F4C1} Documents",
    "notice.fileNotFound": "\u274C Source file not found",
    "notice.jumpedToSource": "\u2705 Jumped to source",
    "notice.jumpFailed": "\u274C Jump failed",
    "notice.flashcardNotFound": "\u26A0\uFE0F Flashcard not found",
    "notice.alreadyHasFlashcards": "\u26A0\uFE0F Selected notes already have flashcards",
    "notice.batchDeleted": "\u2705 Deleted {success} items{failed, plural, =0 {} other {, {failed} failed}}",
    "confirm.deleteNote": "Delete this note?",
    "confirm.deleteFlashcard": "Delete this flashcard?",
    "confirm.batchDeleteNotes": "Delete {count} selected notes?",
    "confirm.batchDeleteFlashcards": "Delete {count} selected flashcards?",
    "toolbar.checkReview.tooltip": "\u68C0\u67E5\u662F\u5426\u6709\u9700\u8981\u590D\u4E60\u7684\u5361\u7247",
    "batch.deselectAll": "Deselect All",
    "batch.deselectAll.tooltip": "Deselect all items on current page",
    "batch.selectAll.tooltip": "Select all {count} items",
    "batch.noItems": "No items to select",
    "batch.selectAnnotationFirst": 'Please select "Annotated" or "Not Annotated" first',
    "batch.create.tooltip": "Batch create flashcards",
    "batch.delete.tooltip": "Batch delete",
    "batch.cancel.tooltip": "Exit batch mode and clear all selections"
  },
  "zh-CN": {
    // View titles
    "view.overview": "\u5B66\u4E60\u6982\u89C8",
    "view.review": "\u590D\u4E60",
    "view.stats": "\u7EDF\u8BA1",
    // Toolbar
    "toolbar.search": "\u641C\u7D22...",
    "toolbar.filter.all": "\u5168\u90E8",
    "toolbar.filter.annotated": "\u6709\u6279\u6CE8",
    "toolbar.filter.flashcards": "\u6709\u95EA\u5361",
    "toolbar.group.file": "\u6309\u6587\u4EF6",
    "toolbar.group.annotation": "\u6309\u6279\u6CE8",
    "toolbar.group.tag": "\u6309\u6807\u7B7E",
    "toolbar.group.date": "\u6309\u65E5\u671F",
    "toolbar.checkReview": "\u68C0\u67E5\u590D\u4E60",
    // Batch actions
    "batch.selectAll": "\u5168\u9009",
    "batch.create": "\u521B\u5EFA\u95EA\u5361",
    "batch.delete": "\u5220\u9664",
    "batch.cancel": "\u53D6\u6D88",
    // Fixed entries
    "entry.allNotes": "\u5168\u90E8\u7B14\u8BB0",
    "entry.cardList": "\u95EA\u5361\u5217\u8868",
    // Level names
    "level.1": "\u91C7\u96C6\u8005",
    "level.2": "\u601D\u8003\u8005",
    "level.3": "\u8BB0\u5FC6\u5E08",
    "level.4": "\u8BAD\u7EC3\u8005",
    "level.5": "\u5206\u6790\u5E08",
    "level.current": "\u5F53\u524D\u7B49\u7EA7",
    "level.clickDetails": "\u70B9\u51FB\u67E5\u770B\u8BE6\u60C5",
    // Review reminder
    "review.today": "\u4ECA\u65E5\u590D\u4E60",
    "review.start": "\u5F00\u59CB\u590D\u4E60",
    "review.justDue": "\u23F0 \u521A\u521A\u5230\u671F,\u8D81\u70ED\u590D\u4E60",
    "review.delayed": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6",
    "review.urgentHours": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6,\u5EFA\u8BAE\u4F18\u5148\u5B8C\u6210",
    "review.urgentDays": "\u{1F6A8} \u590D\u4E60\u5DF2\u5EF6\u540E {days} \u5929,\u5EFA\u8BAE\u5C3D\u5FEB\u6E05\u7A7A",
    "review.streak": "\u{1F525} \u8FDE\u7EED\u590D\u4E60\u7B2C {days} \u5929!",
    // Notices
    "notice.noSelection": "\u26A0\uFE0F \u8BF7\u5148\u9009\u62E9\u9879\u76EE",
    "notice.noDueCards": "\u6682\u65E0\u9700\u8981\u590D\u4E60\u7684\u5361\u7247!",
    "notice.deleted": "\u{1F5D1}\uFE0F \u5DF2\u5220\u9664",
    "notice.saved": "\u2705 \u5DF2\u4FDD\u5B58",
    // Commands
    "command.scanFile": "\u626B\u63CF\u5F53\u524D\u6587\u4EF6",
    "command.scanVault": "\u626B\u63CF\u6574\u4E2A\u4ED3\u5E93",
    "command.openOverview": "\u6253\u5F00\u5B66\u4E60\u6982\u89C8(\u4FA7\u8FB9\u680F)",
    "command.openMainOverview": "\u5207\u6362\u5B66\u4E60\u6982\u89C8(\u4E3B\u89C6\u56FE)",
    "command.addAnnotation": "\u6DFB\u52A0\u6587\u4EF6\u6279\u6CE8",
    "command.startReview": "\u5F00\u59CB\u95EA\u5361\u590D\u4E60",
    "command.showStats": "\u663E\u793A\u95EA\u5361\u7EDF\u8BA1",
    // Ribbons
    "ribbon.overview": "\u6253\u5F00\u5B66\u4E60\u6982\u89C8(\u4FA7\u8FB9\u680F)",
    "ribbon.review": "\u5F00\u59CB\u590D\u4E60",
    // Context menu
    "menu.jumpToSource": "\u8DF3\u8F6C\u5230\u6E90",
    "menu.toggleAnnotation": "\u5207\u6362\u6279\u6CE8",
    "menu.editFlashcard": "\u7F16\u8F91\u95EA\u5361",
    "menu.quickGenerate": "\u5FEB\u901F\u751F\u6210",
    "menu.createQA": "\u521B\u5EFA\u95EE\u7B54",
    "menu.createCloze": "\u521B\u5EFA\u586B\u7A7A",
    "menu.viewStats": "\u67E5\u770B\u7EDF\u8BA1",
    "menu.delete": "\u5220\u9664",
    // Status bar
    "status.due": "{count} \u5F20\u5F85\u590D\u4E60",
    "status.tooltip": "{due} \u5F20\u5361\u7247\u5F85\u590D\u4E60\n{new} \u5F20\u65B0\u5361\u7247",
    // Misc
    "empty.noContent": "\u6682\u65E0\u5185\u5BB9",
    "empty.noDocuments": "\u6682\u65E0\u6587\u6863",
    "fileList.title": "\u{1F4C1} \u6587\u6863\u5217\u8868",
    "notice.fileNotFound": "\u274C \u6E90\u6587\u4EF6\u4E0D\u5B58\u5728",
    "notice.jumpedToSource": "\u2705 \u5DF2\u8DF3\u8F6C\u5230\u6E90\u6587\u4EF6",
    "notice.jumpFailed": "\u274C \u8DF3\u8F6C\u5931\u8D25",
    "notice.flashcardNotFound": "\u26A0\uFE0F \u627E\u4E0D\u5230\u5BF9\u5E94\u7684\u95EA\u5361",
    "notice.alreadyHasFlashcards": "\u26A0\uFE0F \u9009\u4E2D\u7684\u7B14\u8BB0\u90FD\u5DF2\u521B\u5EFA\u8FC7\u95EA\u5361",
    "notice.batchDeleted": "\u2705 \u5DF2\u5220\u9664 {success} \u9879{failed, plural, =0 {} other {\uFF0C{failed} \u9879\u5931\u8D25}}",
    "confirm.deleteNote": "\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u7B14\u8BB0\u5417\uFF1F",
    "confirm.deleteFlashcard": "\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u5F20\u95EA\u5361\u5417\uFF1F",
    "confirm.batchDeleteNotes": "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 {count} \u6761\u7B14\u8BB0\u5417\uFF1F",
    "confirm.batchDeleteFlashcards": "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 {count} \u5F20\u95EA\u5361\u5417\uFF1F",
    "toolbar.checkReview.tooltip": "\u68C0\u67E5\u662F\u5426\u6709\u9700\u8981\u590D\u4E60\u7684\u5361\u7247",
    "batch.deselectAll": "\u53D6\u6D88\u5168\u9009",
    "batch.deselectAll.tooltip": "\u53D6\u6D88\u5F53\u524D\u9875\u9762\u7684\u5168\u9009",
    "batch.selectAll.tooltip": "\u5168\u9009\u5F53\u524D {count} \u9879",
    "batch.noItems": "\u6CA1\u6709\u53EF\u9009\u9879",
    "batch.selectAnnotationFirst": '\u8BF7\u5148\u9009\u62E9"\u6709\u6279\u6CE8"\u6216"\u65E0\u6279\u6CE8"',
    "batch.create.tooltip": "\u6279\u91CF\u5236\u5361",
    "batch.delete.tooltip": "\u6279\u91CF\u5220\u9664",
    "batch.cancel.tooltip": "\u9000\u51FA\u6279\u91CF\u6A21\u5F0F\u5E76\u6E05\u7A7A\u6240\u6709\u9009\u62E9"
  }
};
function t(key, language = "en", params) {
  let text = translations[language][key] || translations["en"][key] || key;
  if (params) {
    Object.entries(params).forEach(([paramKey, value]) => {
      text = text.replace(`{${paramKey}}`, String(value));
    });
  }
  return text;
}

// src/core/QuickFlashcardCreator.ts
var import_obsidian2 = require("obsidian");
var QuickFlashcardCreator = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  /**
   * 从提取内容一键创建问答卡
   * 如果有批注，使用批注作为答案
   */
  async createQuickQACard(contentUnit) {
    try {
      const annotation = this.plugin.annotationManager.getContentAnnotation(contentUnit.id);
      let question;
      let answer;
      if (annotation && annotation.content) {
        if (this.isQuestion(annotation.content)) {
          question = this.generateDefaultQuestion(contentUnit);
          answer = annotation.content;
        } else {
          question = this.generateDefaultQuestion(contentUnit);
          answer = annotation.content;
        }
      } else {
        question = this.generateDefaultQuestion(contentUnit);
        answer = contentUnit.content;
      }
      const card = await this.plugin.flashcardManager.createQACard(
        contentUnit.id,
        question,
        answer
      );
      new import_obsidian2.Notice(`\u2705 Flashcard created! (Q&A)`);
    } catch (error) {
      console.error("Error creating quick flashcard:", error);
      new import_obsidian2.Notice("\u274C Failed to create flashcard");
    }
  }
  /**
   * 从提取内容一键创建完形填空卡
   * 自动识别关键词
   */
  async createQuickClozeCard(contentUnit) {
    try {
      const keywords = this.extractKeywords(contentUnit.content);
      if (keywords.length === 0) {
        new import_obsidian2.Notice("\u26A0\uFE0F No keywords found for cloze deletion");
        return;
      }
      const deletions = keywords.map((keyword) => {
        const index = contentUnit.content.indexOf(keyword.word);
        return {
          index,
          answer: keyword.word
        };
      }).filter((d) => d.index !== -1);
      if (deletions.length === 0) {
        new import_obsidian2.Notice("\u26A0\uFE0F Could not create cloze deletions");
        return;
      }
      const card = await this.plugin.flashcardManager.createClozeCard(
        contentUnit.id,
        contentUnit.content,
        deletions
      );
      new import_obsidian2.Notice(`\u2705 Flashcard created! (Cloze with ${deletions.length} blanks)`);
    } catch (error) {
      console.error("Error creating quick cloze card:", error);
      new import_obsidian2.Notice("\u274C Failed to create flashcard");
    }
  }
  /**
   * 智能创建闪卡（自动判断类型）
   */
  async createSmartCard(contentUnit) {
    const annotation = this.plugin.annotationManager.getContentAnnotation(contentUnit.id);
    if (annotation && this.isQuestion(annotation.content)) {
      await this.createQuickQACard(contentUnit);
      return;
    }
    if (contentUnit.content.length < 200) {
      await this.createQuickQACard(contentUnit);
      return;
    }
    await this.createQuickClozeCard(contentUnit);
  }
  /**
   * 批量创建闪卡
   */
  async createBatchCards(contentUnits, type = "smart") {
    let success = 0;
    let failed = 0;
    for (const unit of contentUnits) {
      try {
        switch (type) {
          case "qa":
            await this.createQuickQACard(unit);
            break;
          case "cloze":
            await this.createQuickClozeCard(unit);
            break;
          case "smart":
            await this.createSmartCard(unit);
            break;
        }
        success++;
      } catch (error) {
        console.error("Error creating card:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 判断文本是否是问题
   */
  isQuestion(text) {
    const questionWords = ["what", "why", "how", "when", "where", "who", "which"];
    const lowerText = text.toLowerCase().trim();
    if (lowerText.endsWith("?"))
      return true;
    for (const word of questionWords) {
      if (lowerText.startsWith(word + " "))
        return true;
    }
    if (text.includes("\u4EC0\u4E48") || text.includes("\u4E3A\u4EC0\u4E48") || text.includes("\u600E\u4E48") || text.includes("\u5982\u4F55") || text.includes("\u5417\uFF1F") || text.includes("\u5462\uFF1F")) {
      return true;
    }
    return false;
  }
  /**
   * 生成默认问题
   */
  generateDefaultQuestion(contentUnit) {
    if (contentUnit.source.heading) {
      const heading = contentUnit.source.heading.replace(/^#+\s*/, "");
      return `What is the key point about "${heading}"?`;
    }
    if (contentUnit.content.length < 50) {
      return `What does "${contentUnit.content}" mean?`;
    } else if (contentUnit.content.length < 150) {
      const firstWords = contentUnit.content.substring(0, 30) + "...";
      return `Explain: "${firstWords}"`;
    } else {
      return `What are the key points in this content?`;
    }
  }
  /**
   * 提取关键词（用于完形填空）
   */
  extractKeywords(text) {
    const words = text.match(/\b[A-Za-z]{3,}\b/g) || [];
    const stopWords = /* @__PURE__ */ new Set([
      "the",
      "is",
      "at",
      "which",
      "on",
      "a",
      "an",
      "and",
      "or",
      "but",
      "in",
      "with",
      "to",
      "for",
      "of",
      "as",
      "by",
      "this",
      "that",
      "from",
      "they",
      "we",
      "say",
      "her",
      "she",
      "he",
      "will",
      "my",
      "one",
      "all",
      "would",
      "there",
      "their",
      "what",
      "so",
      "up",
      "out",
      "if",
      "about",
      "who",
      "get",
      "which",
      "go",
      "me",
      "when",
      "make",
      "can",
      "like",
      "time",
      "no",
      "just",
      "him",
      "know",
      "take",
      "people",
      "into",
      "year",
      "your",
      "good",
      "some",
      "could",
      "them",
      "see",
      "other"
    ]);
    const wordFreq = /* @__PURE__ */ new Map();
    words.forEach((word) => {
      const lower = word.toLowerCase();
      if (!stopWords.has(lower) && word.length > 3) {
        wordFreq.set(word, (wordFreq.get(word) || 0) + 1);
      }
    });
    const scored = Array.from(wordFreq.entries()).map(([word, freq]) => {
      let score = freq;
      if (word.length > 8)
        score += 2;
      else if (word.length > 6)
        score += 1;
      if (word[0] === word[0].toUpperCase())
        score += 1;
      return { word, score };
    });
    return scored.sort((a, b) => b.score - a.score).slice(0, 3);
  }
};

// src/ui/view/SidebarOverviewView.ts
var import_obsidian9 = require("obsidian");

// src/ui/state/ViewState.ts
var ViewState = class {
  constructor(forceMainMode = false) {
    // 显示状态
    this.forceMainMode = false;
    this.displayMode = "sidebar";
    this.viewType = "notes";
    // 过滤和分组
    this.searchQuery = "";
    this.filterMode = "all";
    this.groupMode = "file";
    this.selectedFile = null;
    // 批量操作
    this.batchMode = false;
    this.selectedUnitIds = /* @__PURE__ */ new Set();
    this.selectedCardIds = /* @__PURE__ */ new Set();
    // UI状态
    this.activeMenuId = null;
    this.savedScrollPosition = 0;
    this.shouldRestoreScroll = false;
    // 性能优化
    this.searchDebounceTimer = null;
    this.isRendering = false;
    // 添加缓存
    this.dueFlashcardsCount = 0;
    this.forceMainMode = forceMainMode;
    this.displayMode = forceMainMode ? "main" : "sidebar";
  }
  // 状态重置方法
  clearSelection() {
    this.selectedUnitIds.clear();
    this.selectedCardIds.clear();
    this.batchMode = false;
  }
  // 切换批量模式
  toggleBatchMode() {
    this.batchMode = !this.batchMode;
    if (!this.batchMode) {
      this.clearSelection();
    }
  }
  // 搜索相关
  setSearchQuery(query) {
    this.searchQuery = query;
  }
  // 过滤器切换
  setFilterMode(mode) {
    if (this.filterMode !== mode) {
      this.filterMode = mode;
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 分组模式切换
  setGroupMode(mode) {
    if (this.groupMode !== mode) {
      this.groupMode = mode;
      if (this.displayMode !== "sidebar") {
        this.selectedFile = null;
      }
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 视图类型切换
  setViewType(type) {
    if (this.viewType !== type) {
      this.viewType = type;
      this.selectedFile = null;
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 批量选择
  toggleUnitSelection(unitId) {
    if (this.selectedUnitIds.has(unitId)) {
      this.selectedUnitIds.delete(unitId);
    } else {
      this.selectedUnitIds.add(unitId);
    }
  }
  toggleCardSelection(cardId) {
    if (this.selectedCardIds.has(cardId)) {
      this.selectedCardIds.delete(cardId);
    } else {
      this.selectedCardIds.add(cardId);
    }
  }
  // 全选逻辑
  selectAllUnits(units) {
    units.forEach((unit) => this.selectedUnitIds.add(unit.id));
    this.batchMode = true;
  }
  selectAllCards(cards) {
    cards.forEach((card) => this.selectedCardIds.add(card.id));
    this.batchMode = true;
  }
  // 取消全选
  deselectAllUnits(units) {
    units.forEach((unit) => this.selectedUnitIds.delete(unit.id));
  }
  deselectAllCards(cards) {
    cards.forEach((card) => this.selectedCardIds.delete(card.id));
  }
  // 判断是否全选
  isAllSelected(items) {
    if (items.length === 0)
      return false;
    if (this.viewType === "cards") {
      return items.every(
        (card) => this.selectedCardIds.has(card.id)
      );
    } else {
      return items.every(
        (unit) => this.selectedUnitIds.has(unit.id)
      );
    }
  }
  // 获取选中数量
  getSelectedCount() {
    return this.viewType === "cards" ? this.selectedCardIds.size : this.selectedUnitIds.size;
  }
  // 复习提醒
  updateDueCount(flashcardManager) {
    this.dueFlashcardsCount = flashcardManager.getDueCards().length;
  }
};

// src/ui/components/Toolbar.ts
var Toolbar = class {
  constructor(state, callbacks, language = "en") {
    this.state = state;
    this.onSearchChange = callbacks.onSearchChange;
    this.onFilterChange = callbacks.onFilterChange;
    this.onGroupChange = callbacks.onGroupChange;
    this.onCheckReview = callbacks.onCheckReview;
    this.checkFilterHasNotes = callbacks.checkFilterHasNotes;
    this.checkGroupHasNotes = callbacks.checkGroupHasNotes;
    this.language = language;
  }
  t(key, params) {
    return t(key, this.language, params);
  }
  /**
   * 渲染侧边栏工具栏
   */
  renderSidebarToolbar(container) {
    const toolbar = container.createDiv({ cls: "sidebar-toolbar" });
    this.renderSearchBox(toolbar);
    this.renderFilterChips(toolbar);
    this.renderGroupSwitcher(toolbar);
    this.renderStatsRow(toolbar);
    return toolbar;
  }
  /**
   * 渲染主界面工具栏
   */
  renderMainToolbar(container) {
    const toolbar = container.createDiv({ cls: "main-toolbar" });
    this.renderSearchBox(toolbar, true);
    this.renderGroupSwitcher(toolbar, true);
    return toolbar;
  }
  renderSearchBox(container, isMain = false) {
    const searchContainer = container.createDiv({ cls: "search-container" });
    const searchInput = searchContainer.createEl("input", {
      type: "text",
      placeholder: this.t("toolbar.search"),
      cls: isMain ? "search-input-main" : "search-input"
    });
    searchInput.value = this.state.searchQuery;
    searchContainer.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
    }, true);
    searchContainer.addEventListener("mouseup", (e) => {
      e.stopPropagation();
      e.preventDefault();
      searchInput.focus();
    });
    searchContainer.addEventListener("click", (e) => {
      e.stopPropagation();
      e.preventDefault();
    });
    searchInput.addEventListener("input", (e) => {
      e.stopPropagation();
      const value = e.target.value;
      this.onSearchChange(value);
    });
    searchInput.addEventListener("dblclick", (e) => {
      e.stopPropagation();
      e.preventDefault();
      searchInput.select();
    });
    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        e.stopPropagation();
        searchInput.value = "";
        this.onSearchChange("");
      }
    });
  }
  renderFilterChips(container) {
    const filters = container.createDiv({ cls: "filter-chips" });
    const filterOptions = [
      { mode: "all", icon: "\u{1F4DD}", label: "notes", tooltip: "allNotes" },
      { mode: "annotated", icon: "\u{1F4AC}", label: "annotated", tooltip: "annotated" },
      { mode: "flashcards", icon: "\u{1F0CF}", label: "flashcards", tooltip: "flashcards" }
    ];
    filterOptions.forEach(({ mode, icon, label, tooltip }) => {
      const hasNotes = this.checkFilterHasNotes ? this.checkFilterHasNotes(mode) : true;
      const isActive = this.state.filterMode === mode;
      const chip = filters.createDiv({
        cls: `filter-chip ${isActive ? "active" : ""} ${!hasNotes ? "disabled" : ""}`,
        text: `${icon}`
      });
      if (!hasNotes) {
        chip.setAttribute("title", "No notes of this type in the current file");
        chip.style.opacity = "0.4";
        chip.style.cursor = "not-allowed";
      } else {
        chip.setAttribute("title", tooltip);
      }
      chip.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.onFilterChange(mode);
      });
    });
  }
  renderGroupSwitcher(container, isMain = false) {
    const groupSwitcher = container.createDiv({
      cls: isMain ? "group-switcher-main" : "group-switcher"
    });
    const groupOptions = isMain ? [
      { mode: "file", icon: "\u{1F4C1}", label: "file", tooltip: "by file" },
      { mode: "annotation", icon: "\u{1F4AC}", label: "annotattion", tooltip: "by annotation" },
      { mode: "tag", icon: "\u{1F3F7}\uFE0F", label: "tag", tooltip: "by tag" },
      { mode: "date", icon: "\u{1F4C5}", label: "date", tooltip: "by date" }
    ] : [
      { mode: "file", icon: "\u{1F4C1}", tooltip: "by file" },
      { mode: "tag", icon: "\u{1F3F7}\uFE0F", tooltip: "by tag" },
      { mode: "date", icon: "\u{1F4C5}", tooltip: "by date" }
    ];
    groupOptions.forEach(({ mode, icon, label, tooltip }) => {
      const hasNotes = this.state.displayMode === "sidebar" && this.checkGroupHasNotes ? this.checkGroupHasNotes(mode) : true;
      const isActive = this.state.groupMode === mode;
      const btn = groupSwitcher.createDiv({
        cls: `${isMain ? "group-btn-main" : "group-btn"} ${isActive ? "active" : ""} ${!hasNotes ? "disabled" : ""}`
      });
      btn.innerHTML = isMain ? `${icon} ` : icon;
      if (!hasNotes) {
        btn.setAttribute("title", "Notes in the current file cannot be grouped this way");
        btn.style.opacity = "0.4";
        btn.style.cursor = "not-allowed";
      } else {
        btn.setAttribute("title", tooltip);
      }
      btn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.onGroupChange(mode);
      });
    });
  }
  renderStatsRow(container) {
    const statsRow = container.createDiv({ cls: "stats-row" });
    statsRow.setAttribute("data-stats-container", "true");
  }
  // 新增:渲染复习检查按钮的方法
  renderReviewCheckButton(container) {
    if (!this.onCheckReview)
      return null;
    const reviewBtn = container.createEl("button", {
      cls: "review-check-btn-stats",
      attr: {
        "aria-label": "Check for Cards to Review"
      }
    });
    reviewBtn.innerHTML = "\u{1F514}";
    reviewBtn.addEventListener("mousedown", (e) => {
      var _a;
      e.stopPropagation();
      e.preventDefault();
      (_a = this.onCheckReview) == null ? void 0 : _a.call(this);
    });
    return reviewBtn;
  }
  hasNotesForFilter(mode) {
    return true;
  }
  hasNotesForGroup(mode) {
    return true;
  }
};

// src/ui/components/BatchActions.ts
var BatchActions = class {
  constructor(state, callbacks, toolbar, language = "en") {
    this.state = state;
    this.callbacks = callbacks;
    this.toolbar = toolbar;
    this.language = language;
  }
  t(key, params) {
    return t(key, this.language, params);
  }
  /**
   * 渲染全选按钮
   */
  renderSelectAllButton(container, visibleItems, styleClass) {
    const btnClass = styleClass === "sidebar" ? "select-all-btn-sidebar" : "select-all-btn-header";
    const isAllChecked = this.state.isAllSelected(visibleItems);
    const itemCount = visibleItems.length;
    const selectAllBtn = container.createEl("button", {
      text: isAllChecked ? `\u2713 ${this.t("batch.deselectAll")}` : `\u2610 ${this.t("batch.selectAll")}`,
      cls: `${btnClass} ${isAllChecked ? "completed" : ""}`,
      title: isAllChecked ? this.t("batch.deselectAll.tooltip") : this.t("batch.selectAll.tooltip", { count: itemCount })
    });
    const shouldDisable = itemCount === 0 || this.state.groupMode === "annotation" && this.state.displayMode === "main" && !this.state.selectedFile;
    if (shouldDisable) {
      selectAllBtn.disabled = true;
      selectAllBtn.style.opacity = "0.5";
      selectAllBtn.style.cursor = "not-allowed";
      selectAllBtn.title = itemCount === 0 ? this.t("batch.noItems") : this.t("batch.selectAnnotationFirst");
    }
    selectAllBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (isAllChecked) {
        this.callbacks.onDeselectAll();
      } else {
        this.callbacks.onSelectAll();
      }
    });
    return selectAllBtn;
  }
  // 新增:渲染复习检查按钮(独立方法)
  renderReviewCheckButton(container, mode) {
    if (mode === "sidebar" && this.toolbar) {
      this.toolbar.renderReviewCheckButton(container);
    }
  }
  /**
   * 渲染批量操作按钮组
   */
  renderActionButtons(container, styleClass) {
    if (!this.state.batchMode)
      return;
    const btnPrefix = styleClass === "sidebar" ? "sidebar" : "header";
    if (this.state.viewType === "notes") {
      const count2 = this.state.selectedUnitIds.size;
      const createBtn = this.createButton(
        container,
        styleClass === "sidebar" ? `\u26A1(${count2})` : `\u26A1 ${this.t("batch.create")} (${count2})`,
        `batch-create-cards-btn-${btnPrefix}`,
        this.t("batch.create.tooltip"),
        () => {
          if (this.state.selectedUnitIds.size === 0) {
            this.callbacks.onBatchCreate();
          } else {
            this.callbacks.onBatchCreate();
          }
        }
      );
      createBtn.addEventListener("mouseenter", (e) => {
        e.stopPropagation();
        e.preventDefault();
        createBtn.style.background = "var(--interactive-accent)";
        createBtn.style.color = "white";
      });
      createBtn.addEventListener("mouseleave", (e) => {
        e.stopPropagation();
        e.preventDefault();
        createBtn.style.background = "var(--background-secondary)";
        createBtn.style.color = "";
      });
    }
    const count = this.state.getSelectedCount();
    const deleteBtn = this.createButton(
      container,
      styleClass === "sidebar" ? `\u{1F5D1}\uFE0F(${count})` : `\u{1F5D1}\uFE0F ${this.t("batch.delete")} (${count})`,
      `batch-delete-btn-${btnPrefix}`,
      this.t("batch.delete.tooltip"),
      () => this.callbacks.onBatchDelete()
    );
    deleteBtn.addEventListener("mouseenter", (e) => {
      e.stopPropagation();
      e.preventDefault();
      deleteBtn.style.background = "var(--color-red)";
      deleteBtn.style.color = "white";
    });
    deleteBtn.addEventListener("mouseleave", (e) => {
      e.stopPropagation();
      e.preventDefault();
      deleteBtn.style.background = "var(--background-secondary)";
      deleteBtn.style.color = "";
    });
    const cancelBtn = this.createButton(
      container,
      styleClass === "sidebar" ? "\u2715" : `\u2715 ${this.t("batch.cancel")}`,
      `cancel-selection-btn-${btnPrefix}`,
      this.t("batch.cancel.tooltip"),
      () => this.callbacks.onCancel()
    );
  }
  createButton(container, text, className, title, onClick) {
    const btn = container.createEl("button", {
      text,
      cls: className,
      title
    });
    btn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      onClick();
    });
    return btn;
  }
  /**
   * 渲染批量选择 Checkbox
   */
  renderCheckbox(container, itemId, isSelected, onChange) {
    const checkbox = container.createEl("input", {
      type: "checkbox",
      cls: "batch-checkbox"
    });
    checkbox.setAttribute("data-item-id", itemId);
    checkbox.checked = isSelected;
    checkbox.addEventListener("change", (e) => {
      e.stopPropagation();
      e.preventDefault();
      onChange(e.target.checked);
    });
    return checkbox;
  }
};

// src/ui/components/ContentCard.ts
var ContentCard = class {
  constructor(state, callbacks) {
    this.state = state;
    this.callbacks = callbacks;
  }
  /**
   * 渲染紧凑卡片（侧边栏模式）
   */
  renderCompact(container, unit) {
    const card = container.createDiv({ cls: "compact-card" });
    card.setAttribute("data-unit-id", unit.id);
    const existingCard = container.querySelector(`[data-unit-id="${unit.id}"]`);
    if ((existingCard == null ? void 0 : existingCard.getAttribute("data-editing")) === "true") {
      console.log("\u23ED\uFE0F [Card] Skipping render - card is editing");
      return;
    }
    card.addEventListener("mousedown", (e) => {
      console.log("\u{1F5B1}\uFE0F [Card] Mousedown event", {
        unitId: unit.id,
        target: e.target.className,
        button: e.button
      });
      if (e.button !== 0) {
        return;
      }
      const target = e.target;
      if (target.closest(".card-tools") || target.closest(".batch-checkbox") || target.closest(".annotation-btn")) {
        console.log("\u{1F5B1}\uFE0F [Card] Ignored - excluded element");
        return;
      }
      if (target.closest(".inline-annotation-editor")) {
        console.log("\u{1F5B1}\uFE0F [Card] Ignored - editor");
        return;
      }
      if (target.closest(".note-text") || target.closest(".annotation-preview")) {
        console.log("\u{1F5B1}\uFE0F [Card] Opening annotation");
        e.stopPropagation();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    }, false);
    if (this.state.batchMode) {
      this.renderCheckbox(card, unit.id, this.state.selectedUnitIds.has(unit.id));
    }
    this.renderIndicator(card, unit);
    const content = card.createDiv({ cls: "card-content" });
    this.renderCardHeader(content, card, unit);
    this.renderCardContent(content, unit);
    this.renderAnnotationPreview(content, card, unit);
    this.renderCardMeta(content, unit);
  }
  /**
   * 渲染网格卡片（主界面模式）
   */
  renderGrid(container, unit) {
    const card = container.createDiv({ cls: "grid-card" });
    card.setAttribute("data-unit-id", unit.id);
    card.addEventListener("click", (e) => {
      const target = e.target;
      if (target.closest(".grid-card-tools") || target.closest(".batch-checkbox") || target.closest(".grid-card-header") || target.closest(".doc-name")) {
        return;
      }
      if (target.closest(".grid-card-content")) {
        e.stopPropagation();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    });
    card.style.cursor = "default";
    if (this.state.batchMode) {
      this.renderCheckbox(card, unit.id, this.state.selectedUnitIds.has(unit.id));
    }
    const header = card.createDiv({ cls: "grid-card-header" });
    this.renderTypeIndicator(header, unit);
    const fileName = this.renderFileName(header, unit);
    fileName.onclick = (e) => {
      console.log("\u{1F3AF} [FileName] Clicked");
      e.stopPropagation();
      this.callbacks.onJumpToSource(unit);
    };
    fileName.style.cursor = "pointer";
    this.renderGridTools(header, unit);
    const content = card.createDiv({ cls: "grid-card-content" });
    content.style.cursor = "pointer";
    this.renderGridContent(content, card, unit);
    this.renderGridAnnotation(content, card, unit);
    this.renderGridTags(content, unit);
    const meta = card.createDiv({ cls: "grid-card-meta" });
    this.renderGridMeta(meta, unit);
  }
  /**
   * 渲染闪卡网格
   */
  renderFlashcardGrid(container, card) {
    const cardEl = container.createDiv({ cls: "grid-card flashcard-grid-card" });
    if (this.state.batchMode) {
      this.renderCheckbox(cardEl, card.id, this.state.selectedCardIds.has(card.id));
    }
    const header = cardEl.createDiv({ cls: "grid-card-header" });
    header.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (!e.target.closest(".batch-checkbox")) {
        if (this.callbacks.onJumpToFlashcard) {
          this.callbacks.onJumpToFlashcard(card);
        }
      }
    });
    const tools = header.createDiv({ cls: "grid-card-tools" });
    const moreBtn = tools.createDiv({ cls: "tool-btn-grid" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.callbacks.onFlashcardContextMenu) {
        this.callbacks.onFlashcardContextMenu(e, card);
      }
    });
    const content = cardEl.createDiv({ cls: "grid-card-content" });
    this.renderFlashcardContent(content, card);
    const meta = cardEl.createDiv({ cls: "grid-card-meta" });
    this.renderFlashcardMeta(meta, card);
  }
  // ========== 私有渲染方法 ==========
  renderCheckbox(card, itemId, isChecked) {
    const checkbox = card.createEl("input", {
      type: "checkbox",
      cls: "batch-checkbox"
    });
    checkbox.setAttribute("data-item-id", itemId);
    checkbox.checked = isChecked;
    checkbox.addEventListener("change", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (e.target.checked) {
        if (this.state.viewType === "cards") {
          this.state.selectedCardIds.add(itemId);
        } else {
          this.state.selectedUnitIds.add(itemId);
        }
      } else {
        if (this.state.viewType === "cards") {
          this.state.selectedCardIds.delete(itemId);
        } else {
          this.state.selectedUnitIds.delete(itemId);
        }
      }
    });
  }
  renderIndicator(card, unit) {
    const indicator = card.createDiv({ cls: "card-indicator" });
    if (unit.type === "QA") {
      indicator.addClass("type-qa");
    } else if (unit.type === "cloze") {
      indicator.addClass("type-cloze");
    } else if (unit.type === "text") {
      indicator.addClass("type-text");
    }
    if (unit.annotationId)
      indicator.addClass("has-annotation");
    if (unit.flashcardIds.length > 0)
      indicator.addClass("has-flashcard");
  }
  renderCardHeader(content, card, unit) {
    const header = content.createDiv({ cls: "card-header" });
    const annotationBtn = header.createDiv({ cls: "annotation-btn" });
    this.renderSideLine(annotationBtn, unit);
    annotationBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      this.callbacks.onJumpToSource(unit);
    });
    annotationBtn.style.cursor = "pointer";
    const tools = header.createDiv({ cls: "card-tools" });
    tools.addEventListener("mousedown", (e) => {
      e.stopPropagation();
    });
    if (!this.state.batchMode) {
      const flashcardBtn = tools.createDiv({ cls: "tool-btn flashcard-btn" });
      flashcardBtn.innerHTML = "\u26A1";
      flashcardBtn.setAttribute("aria-label", "Generate Flashcards");
      flashcardBtn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        this.callbacks.onQuickFlashcard(unit);
      });
    }
    const moreBtn = tools.createDiv({ cls: "tool-btn more-btn" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      this.callbacks.onShowContextMenu(e, unit);
    });
  }
  renderCardContent(content, unit) {
    const noteText = content.createDiv({ cls: "note-text" });
    if (this.isTableContent(unit.fullContext || unit.content)) {
      this.renderMarkdownContent(noteText, unit);
    } else {
      let displayHTML = this.formatContent(unit);
      noteText.innerHTML = displayHTML;
    }
    noteText.style.cursor = "pointer";
  }
  formatContent(unit) {
    if (unit.type === "QA" && unit.answer) {
      return `<span class="qa-question">${unit.content}</span> <span class="qa-separator">::</span> <span class="qa-answer">${unit.answer}</span>`;
    } else if (unit.type === "cloze" && unit.fullContext) {
      let context = unit.fullContext.replace(/==/g, "");
      const answer = unit.content;
      return context.replace(
        answer,
        `<span class="cloze-highlight">${answer}</span>`
      );
    } else {
      return unit.content;
    }
  }
  renderSideLine(meta, unit) {
    meta.createSpan({ text: `L${unit.source.position.line}`, cls: "line-info" });
  }
  renderAnnotationPreview(content, card, unit) {
    if (!this.callbacks.getAnnotationContent)
      return;
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (!annotationContent)
      return;
    const existingPreview = content.querySelector(".annotation-preview");
    if (existingPreview) {
      console.log("\u23ED\uFE0F [Card] Preview already exists");
      return;
    }
    const existingEditor = content.querySelector(".inline-annotation-editor");
    if (existingEditor) {
      console.log("\u23ED\uFE0F [Card] Editor exists, skipping preview");
      return;
    }
    console.log("\u270F\uFE0F [Card] Creating annotation preview for:", unit.id);
    const annEl = content.createDiv({ cls: "annotation-preview" });
    const displayText = annotationContent.length > 60 ? annotationContent.substring(0, 60) + "..." : annotationContent;
    annEl.textContent = `\u{1F4AC} ${displayText}`;
    annEl.addEventListener("click", (e) => {
      e.stopPropagation();
      this.callbacks.onToggleAnnotation(card, unit);
    });
    annEl.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        e.stopPropagation();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    });
    const noteText = content.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", annEl);
    } else {
      content.appendChild(annEl);
    }
    annEl.setAttribute("tabindex", "0");
  }
  renderCardMeta(content, unit) {
    const meta = content.createDiv({ cls: "card-meta" });
    if (unit.flashcardIds.length > 0) {
      meta.createSpan({
        text: `\u{1F0CF} ${unit.flashcardIds.length}`,
        cls: "badge"
      });
    }
    if (unit.metadata.tags.length > 0) {
      unit.metadata.tags.slice(0, 2).forEach((tag) => {
        meta.createSpan({ text: `#${tag}`, cls: "tag" });
      });
      if (unit.metadata.tags.length > 2) {
        meta.createSpan({
          text: `+${unit.metadata.tags.length - 2}`,
          cls: "tag-more"
        });
      }
    }
  }
  renderTypeIndicator(header, unit) {
    const typeIndicator = header.createDiv({ cls: "type-indicator" });
    if (unit.type === "QA") {
      typeIndicator.addClass("type-qa");
      typeIndicator.textContent = "Q&A";
    } else if (unit.type === "cloze") {
      typeIndicator.addClass("type-cloze");
      typeIndicator.textContent = "Cloze";
    } else {
      typeIndicator.addClass("type-text");
      typeIndicator.textContent = "Text";
    }
  }
  renderFileName(header, unit) {
    var _a;
    const fileName = ((_a = unit.source.file.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || "";
    const fileNameSpan = header.createSpan({ text: fileName, cls: "doc-name" });
    return fileNameSpan;
  }
  renderGridTools(header, unit) {
    const tools = header.createDiv({ cls: "grid-card-tools" });
    if (!this.state.batchMode) {
      const flashcardBtn = tools.createDiv({ cls: "tool-btn-grid" });
      flashcardBtn.innerHTML = "\u26A1";
      flashcardBtn.setAttribute("aria-label", "Generate Flashcards");
      flashcardBtn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onQuickFlashcard(unit);
      });
    }
    const moreBtn = tools.createDiv({ cls: "tool-btn-grid" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      this.callbacks.onShowContextMenu(e, unit);
    });
  }
  renderGridContent(content, card, unit) {
    const noteText = content.createDiv({ cls: "grid-note-text" });
    if (this.isTableContent(unit.fullContext || unit.content)) {
      this.renderMarkdownContent(noteText, unit);
    } else {
      noteText.innerHTML = this.formatContent(unit);
    }
    noteText.addEventListener("click", (e) => {
      console.log("\u{1F3AF} [NoteText] Click Event!", {
        target: e.target.tagName,
        unitId: unit.id
      });
      e.stopPropagation();
      this.callbacks.onToggleAnnotation(card, unit);
    });
    noteText.style.cursor = "pointer";
  }
  renderGridAnnotation(content, card, unit) {
    if (!this.callbacks.getAnnotationContent)
      return;
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (annotationContent) {
      const annEl = content.createDiv({ cls: "grid-annotation" });
      annEl.innerHTML = `<strong>\u6279\u6CE8\uFF1A</strong>${annotationContent}`;
      annEl.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
      });
      annEl.addEventListener("click", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onToggleAnnotation(card, unit);
      });
    }
  }
  renderGridTags(content, unit) {
    if (unit.metadata.tags.length > 0) {
      const tags = content.createDiv({ cls: "grid-tags" });
      unit.metadata.tags.forEach((tag) => {
        tags.createSpan({ text: `#${tag}`, cls: "tag-grid" });
      });
    }
  }
  renderGridMeta(meta, unit) {
    meta.createSpan({ text: `L${unit.source.position.line}`, cls: "line-info" });
    if (unit.flashcardIds.length > 0) {
      meta.createSpan({
        text: `\u{1F0CF} ${unit.flashcardIds.length}`,
        cls: "badge-grid"
      });
    }
  }
  renderFlashcardContent(content, card) {
    const question = content.createDiv({ cls: "flashcard-question" });
    question.innerHTML = `<strong>\u95EE\u9898\uFF1A</strong>${card.front}`;
    const answer = content.createDiv({ cls: "flashcard-answer" });
    const answerText = Array.isArray(card.back) ? card.back.join(", ") : card.back;
    answer.innerHTML = `<strong>\u7B54\u6848\uFF1A</strong>${answerText}`;
  }
  renderFlashcardMeta(meta, card) {
    meta.createSpan({
      text: this.formatDate(new Date(card.metadata.createdAt)),
      cls: "flashcard-date"
    });
  }
  formatDate(date) {
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
  // 🆕 添加表格检测方法
  isTableContent(content) {
    var _a;
    if (!content)
      return false;
    const lines = content.trim().split("\n");
    return lines.length >= 2 && lines.every((line) => line.includes("|")) && !!((_a = lines[1]) == null ? void 0 : _a.match(/^\s*\|[\s:-]+\|/));
  }
  // 🆕 添加 Markdown 渲染方法
  renderMarkdownContent(container, unit) {
    container.empty();
    let content = unit.fullContext || unit.content;
    if (this.isTableContent(content)) {
      this.renderTableWithHighlights(container, content);
    } else {
      const { MarkdownRenderer } = require("obsidian");
      content = content.replace(/==([^=]+)==/g, '<span class="highlight">$1</span>');
      MarkdownRenderer.renderMarkdown(content, container, unit.source.file, null);
    }
  }
  // 🆕 添加手动表格渲染方法
  renderTableWithHighlights(container, markdown) {
    const lines = markdown.trim().split("\n");
    const table = container.createEl("table", { cls: "learning-system-table" });
    const headerCells = lines[0].split("|").map((c) => c.trim()).filter((c) => c);
    const thead = table.createEl("thead");
    const headerRow = thead.createEl("tr");
    headerCells.forEach((cell, index) => {
      const th = headerRow.createEl("th");
      if (cell.includes("==")) {
        const processed = cell.replace(
          /==([^=]+)==/g,
          '<span style="background-color: rgba(255, 140, 0, 0.25); padding: 2px 4px; border-radius: 3px; font-weight: 500;">$1</span>'
        );
        th.innerHTML = processed;
      } else {
        th.textContent = cell;
      }
    });
    const tbody = table.createEl("tbody");
    for (let i = 2; i < lines.length; i++) {
      const cells = lines[i].split("|").map((c) => c.trim()).filter((c) => c);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell, index) => {
        const td = row.createEl("td");
        if (cell.includes("==")) {
          const processed = cell.replace(
            /==([^=]+)==/g,
            '<span style="background-color: rgba(255, 140, 0, 0.25); padding: 2px 4px; border-radius: 3px; font-weight: 500;">$1</span>'
          );
          td.innerHTML = processed;
        } else {
          td.textContent = cell;
        }
      });
    }
  }
};

// src/ui/components/ContentList.ts
var ContentList = class {
  constructor(state, cardCallbacks) {
    this.state = state;
    this.cardRenderer = new ContentCard(state, cardCallbacks);
  }
  /**
   * 渲染紧凑列表（侧边栏模式）
   */
  renderCompactList(container, units) {
    const editingUnitIds = /* @__PURE__ */ new Set();
    container.querySelectorAll('.compact-card[data-editing="true"]').forEach((card) => {
      const unitId = card.getAttribute("data-unit-id");
      if (unitId) {
        editingUnitIds.add(unitId);
        console.log("\u{1F512} [List] Unit is being edited:", unitId);
      }
    });
    const editingCardsMap = /* @__PURE__ */ new Map();
    editingUnitIds.forEach((unitId) => {
      const card = container.querySelector(`[data-unit-id="${unitId}"]`);
      if (card) {
        editingCardsMap.set(unitId, card);
      }
    });
    const allElements = Array.from(container.children);
    allElements.forEach((el) => {
      const unitId = el.getAttribute("data-unit-id");
      if (!unitId || !editingUnitIds.has(unitId)) {
        el.remove();
      }
    });
    if (units.length === 0 && editingUnitIds.size === 0) {
      this.renderEmptyState(container);
      return;
    }
    const grouped = this.groupUnits(units);
    grouped.forEach(({ groupKey, units: groupUnits }) => {
      const groupEl = container.createDiv({ cls: "content-group" });
      this.renderGroupHeader(groupEl, groupKey, groupUnits.length);
      groupUnits.forEach((unit) => {
        const existingCard = editingCardsMap.get(unit.id);
        if (existingCard) {
          console.log("\u267B\uFE0F [List] Reusing editing card:", unit.id);
          groupEl.appendChild(existingCard);
        } else {
          this.cardRenderer.renderCompact(groupEl, unit);
        }
      });
    });
  }
  /**
  * 渲染紧凑列表（侧边栏模式 - 不分组）
  */
  renderCompactListWithoutGrouping(container, units) {
    const existingCards = container.querySelectorAll(".compact-card, .group-section, .empty-state");
    existingCards.forEach((el) => el.remove());
    if (units.length === 0) {
      this.renderEmptyState(container);
      return;
    }
    units.forEach((unit) => {
      this.cardRenderer.renderCompact(container, unit);
    });
  }
  /**
   * 渲染内容网格（主界面模式）
   */
  renderContentGrid(container, units) {
    container.empty();
    if (units.length === 0) {
      this.renderEmptyState(container);
      return;
    }
    units.forEach((unit) => {
      this.cardRenderer.renderGrid(container, unit);
    });
  }
  /**
   * 渲染闪卡网格
   */
  renderFlashcardsGrid(container, cards) {
    container.empty();
    if (cards.length === 0) {
      container.createDiv({
        text: "\u{1F4ED} \u8BE5\u5206\u7EC4\u4E0B\u6682\u65E0\u95EA\u5361",
        cls: "empty-state"
      });
      return;
    }
    cards.forEach((card) => {
      this.cardRenderer.renderFlashcardGrid(container, card);
    });
  }
  /**
   * 分组笔记单元
   */
  groupUnits(units) {
    const grouped = /* @__PURE__ */ new Map();
    units.forEach((unit) => {
      const keys = this.getGroupKeys(unit);
      keys.forEach((key) => {
        if (!grouped.has(key)) {
          grouped.set(key, []);
        }
        grouped.get(key).push(unit);
      });
    });
    return this.sortGroups(grouped);
  }
  /**
   * 分组闪卡
   */
  groupFlashcards(cards, getUnit) {
    const grouped = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      const unit = getUnit(card.sourceContentId);
      const keys = this.getFlashcardGroupKeys(card, unit);
      keys.forEach((key) => {
        if (!grouped.has(key)) {
          grouped.set(key, []);
        }
        grouped.get(key).push(card);
      });
    });
    return Array.from(grouped.entries()).map(([groupKey, cards2]) => ({ groupKey, cards: cards2 })).sort((a, b) => {
      if (this.state.groupMode === "annotation") {
        if (a.groupKey === "\u6709\u6279\u6CE8")
          return -1;
        if (b.groupKey === "\u6709\u6279\u6CE8")
          return 1;
        return 0;
      }
      if (this.state.groupMode === "date") {
        return b.groupKey.localeCompare(a.groupKey);
      }
      return b.cards.length - a.cards.length;
    });
  }
  /**
   * 获取单元的分组键
   */
  getGroupKeys(unit) {
    switch (this.state.groupMode) {
      case "file":
        return [unit.source.file];
      case "annotation":
        return [unit.annotationId ? "\u6709\u6279\u6CE8" : "\u65E0\u6279\u6CE8"];
      case "tag":
        return unit.metadata.tags.length > 0 ? unit.metadata.tags : ["\u672A\u5206\u7C7B"];
      case "date":
        return [this.formatDate(new Date(unit.metadata.createdAt))];
      default:
        return ["\u672A\u5206\u7EC4"];
    }
  }
  /**
   * 获取闪卡的分组键
   */
  getFlashcardGroupKeys(card, unit) {
    switch (this.state.groupMode) {
      case "file":
        return [card.sourceFile];
      case "annotation":
        if (unit && unit.annotationId) {
          return ["\u6709\u6279\u6CE8"];
        } else {
          return ["\u65E0\u6279\u6CE8"];
        }
      case "tag":
        if (unit && unit.metadata.tags.length > 0) {
          return unit.metadata.tags;
        } else if (card.tags && card.tags.length > 0) {
          return card.tags;
        } else if (card.deck) {
          return [card.deck];
        } else {
          return ["\u672A\u5206\u7C7B"];
        }
      case "date":
        return [this.formatDate(new Date(card.metadata.createdAt))];
      default:
        return ["\u672A\u5206\u7EC4"];
    }
  }
  /**
   * 排序分组
   */
  sortGroups(grouped) {
    return Array.from(grouped.entries()).map(([groupKey, units]) => ({ groupKey, units })).sort((a, b) => {
      if (this.state.groupMode === "annotation") {
        if (a.groupKey === "\u6709\u6279\u6CE8")
          return -1;
        if (b.groupKey === "\u6709\u6279\u6CE8")
          return 1;
        return 0;
      }
      if (this.state.groupMode === "date") {
        return b.groupKey.localeCompare(a.groupKey);
      }
      return b.units.length - a.units.length;
    });
  }
  /**
   * 渲染分组头部
   */
  renderGroupHeader(container, groupKey, count) {
    const header = container.createDiv({ cls: "group-header" });
    header.createSpan({
      text: this.getGroupIcon(this.state.groupMode),
      cls: "group-icon"
    });
    header.createSpan({ text: groupKey, cls: "group-title" });
    header.createSpan({ text: `${count}`, cls: "group-count" });
  }
  /**
   * 渲染空状态
   */
  renderEmptyState(container) {
    const emptyDiv = container.createDiv({ cls: "empty-state" });
    if (this.state.selectedFile && this.state.displayMode === "sidebar") {
      emptyDiv.innerHTML = `
        <div style="padding: 20px; text-align: center;">
          <div style="font-size: 32px; margin-bottom: 10px;">\u{1F4ED}</div>
          <div style="color: var(--text-muted);">\u5F53\u524D\u6587\u6863\u6682\u65E0\u7B14\u8BB0</div>
          <div style="font-size: 12px; color: var(--text-faint); margin-top: 8px;">
            ${this.state.filterMode !== "all" ? "\u5C1D\u8BD5\u5207\u6362\u5176\u4ED6\u8FC7\u6EE4\u5668\u67E5\u770B" : "\u5F00\u59CB\u9AD8\u4EAE\u6587\u672C\u6765\u521B\u5EFA\u7B14\u8BB0"}
          </div>
        </div>
      `;
    } else {
      emptyDiv.textContent = "\u6682\u65E0\u5185\u5BB9";
    }
  }
  /**
   * 获取分组图标
   */
  getGroupIcon(mode) {
    switch (mode) {
      case "file":
        return "\u{1F4C4}";
      case "annotation":
        return "\u{1F4AC}";
      case "tag":
        return "\u{1F3F7}\uFE0F";
      case "date":
        return "\u{1F4C5}";
      default:
        return "\u{1F4C1}";
    }
  }
  /**
   * 格式化日期
   */
  formatDate(date) {
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
};

// src/ui/components/AnnotationEditor.ts
var AnnotationEditor = class {
  constructor(callbacks) {
    this.activeEditors = /* @__PURE__ */ new Map();
    this.toggleLock = /* @__PURE__ */ new Map();
    this.isOpening = false;
    this.callbacks = callbacks;
  }
  /**
   * 切换内联批注编辑器
   */
  toggle(cardEl, unit) {
    if (this.isOpening) {
      console.log("\u{1F512} [Toggle] Blocked - another editor is opening");
      return;
    }
    const now = Date.now();
    const lastToggle = this.toggleLock.get(unit.id) || 0;
    if (now - lastToggle < 200) {
      console.log("\u{1F504} [Toggle] Debounced - too soon");
      return;
    }
    this.toggleLock.set(unit.id, now);
    console.log("\u{1F504} [Toggle] Called for unit:", unit.id);
    const existingEditor = cardEl.querySelector(".inline-annotation-editor");
    const isCurrentEditing = !!existingEditor;
    console.log("\u{1F504} [Toggle] Editor exists:", isCurrentEditing);
    if (isCurrentEditing) {
      console.log("\u{1F504} [Toggle] Closing current editor");
      this.close(cardEl, unit);
      return;
    }
    const content = cardEl.querySelector(".card-content, .grid-card-content");
    const oldPreviews = content == null ? void 0 : content.querySelectorAll(".annotation-preview, .grid-annotation");
    if (oldPreviews && oldPreviews.length > 0) {
      console.log("\u{1F9F9} [Toggle] Cleaning up", oldPreviews.length, "stale previews");
      oldPreviews.forEach((el) => el.remove());
    }
    this.closeAllOthers(unit.id);
    console.log("\u{1F504} [Toggle] Opening new editor");
    this.open(cardEl, unit);
  }
  /**
   * 关闭除指定 unitId 外的所有编辑器
   */
  closeAllOthers(currentUnitId) {
    const allEditingCards = document.querySelectorAll('[data-editing="true"]');
    if (allEditingCards.length > 0) {
      console.log("\u{1F504} [CloseOthers] Closing editors:", allEditingCards.length);
      allEditingCards.forEach((card) => {
        const unitId = card.getAttribute("data-unit-id");
        if (unitId && unitId !== currentUnitId) {
          const unit = { id: unitId };
          this.close(card, unit);
        }
      });
    }
  }
  /**
   * 打开编辑器
   */
  open(cardEl, unit) {
    var _a;
    this.isOpening = true;
    console.log("\u{1F4DD} [Editor] Opening editor for unit:", unit.id);
    cardEl.setAttribute("data-editing", "true");
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    const content = cardEl.querySelector(".card-content, .grid-card-content");
    const existingPreviews = content == null ? void 0 : content.querySelectorAll(".annotation-preview, .grid-annotation");
    existingPreviews == null ? void 0 : existingPreviews.forEach((el) => el.remove());
    const existingEditors = content == null ? void 0 : content.querySelectorAll(".inline-annotation-editor");
    existingEditors == null ? void 0 : existingEditors.forEach((el) => el.remove());
    const editor = this.createEditor(unit.id, annotationContent || "");
    const noteText = content == null ? void 0 : content.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", editor);
    } else {
      content == null ? void 0 : content.appendChild(editor);
    }
    console.log("\u{1F50D} [Editor] Immediately after insert:", {
      editorInDOM: document.body.contains(editor),
      editorParent: (_a = editor.parentElement) == null ? void 0 : _a.className,
      cardEditing: cardEl.getAttribute("data-editing")
    });
    const textarea = editor.querySelector("textarea");
    textarea.focus();
    textarea.setSelectionRange(textarea.value.length, textarea.value.length);
    this.activeEditors.set(unit.id, editor);
    setTimeout(() => {
      var _a2;
      console.log("\u{1F50D} [Editor] After 50ms:", {
        editorInDOM: document.body.contains(editor),
        editorParent: (_a2 = editor.parentElement) == null ? void 0 : _a2.className,
        cardEditing: cardEl.getAttribute("data-editing")
      });
    }, 50);
    setTimeout(() => {
      var _a2;
      console.log("\u{1F50D} [Editor] After 100ms:", {
        editorInDOM: document.body.contains(editor),
        editorParent: (_a2 = editor.parentElement) == null ? void 0 : _a2.className,
        cardEditing: cardEl.getAttribute("data-editing")
      });
    }, 100);
    setTimeout(() => {
      var _a2;
      console.log("\u{1F50D} [Editor] After 250ms (post-lock):", {
        editorInDOM: document.body.contains(editor),
        editorParent: (_a2 = editor.parentElement) == null ? void 0 : _a2.className,
        cardEditing: cardEl.getAttribute("data-editing"),
        hasPreview: !!cardEl.querySelector(".annotation-preview")
      });
      if (!document.body.contains(editor)) {
        console.error("\u{1F6A8} [Editor] EDITOR WAS REMOVED!");
      }
      if (cardEl.querySelector(".annotation-preview")) {
        console.error("\u{1F6A8} [Editor] PREVIEW WAS RECREATED!");
      }
    }, 250);
    setTimeout(() => {
      this.isOpening = false;
      console.log("\u{1F513} [Editor] Global lock released");
    }, 200);
    console.log("\u{1F4DD} [Editor] Editor opened successfully");
  }
  /**
   * 关闭编辑器
   */
  close(cardEl, unit) {
    console.log("\u274C [Editor] Close called", { unitId: unit.id });
    const editor = cardEl.querySelector(".inline-annotation-editor");
    if (!editor) {
      cardEl.removeAttribute("data-editing");
      this.activeEditors.delete(unit.id);
      return;
    }
    editor.remove();
    this.activeEditors.delete(unit.id);
    cardEl.removeAttribute("data-editing");
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (annotationContent) {
      const content = cardEl.querySelector(".card-content, .grid-card-content");
      const oldPreview = content == null ? void 0 : content.querySelector(".annotation-preview, .grid-annotation");
      if (oldPreview) {
        oldPreview.remove();
      }
      if (content) {
        this.recreatePreview(content, cardEl, unit, annotationContent);
        console.log("\u2705 [Editor] Preview recreated immediately");
      }
    }
  }
  /**
   * 创建编辑器元素
   */
  createEditor(unitId, defaultValue) {
    const editor = document.createElement("div");
    editor.className = "inline-annotation-editor";
    const textarea = document.createElement("textarea");
    textarea.className = "inline-annotation-textarea";
    textarea.placeholder = "Add comment...";
    textarea.value = defaultValue;
    textarea.setAttribute("data-unit-id", unitId);
    const hint = document.createElement("div");
    hint.className = "inline-annotation-hint";
    hint.textContent = "Shift + Enter to insert a new line";
    editor.appendChild(textarea);
    editor.appendChild(hint);
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.type === "attributes" && mutation.attributeName === "style") {
          console.error("\u{1F6A8} [Editor] Style was modified!", {
            oldValue: mutation.oldValue,
            newValue: editor.getAttribute("style"),
            stack: new Error().stack
          });
        }
      });
    });
    observer.observe(editor, {
      attributes: true,
      attributeOldValue: true,
      attributeFilter: ["style"]
    });
    this.bindEditorEvents(textarea, unitId);
    return editor;
  }
  /**
   * 绑定编辑器事件
   */
  bindEditorEvents(textarea, unitId) {
    console.log("\u{1F517} [Editor] Binding events for unit:", unitId);
    let hasFocused = false;
    const onFirstFocus = () => {
      console.log("\u2705 [Editor] First focus confirmed for unit:", unitId);
      hasFocused = true;
      textarea.removeEventListener("focus", onFirstFocus);
    };
    textarea.addEventListener("focus", onFirstFocus);
    setTimeout(() => {
      textarea.addEventListener("blur", async (e) => {
        if (!hasFocused) {
          console.log("\u23ED\uFE0F [Editor] Ignoring blur - never focused");
          return;
        }
        console.log("\u{1F441}\uFE0F [Editor] Blur event for unit:", unitId);
        const relatedTarget = e.relatedTarget;
        const editor = textarea.closest(".inline-annotation-editor");
        const card = editor == null ? void 0 : editor.closest(".compact-card, .grid-card");
        if (!relatedTarget || !editor.contains(relatedTarget)) {
          setTimeout(async () => {
            if (editor.parentElement && card) {
              console.log("\u{1F4BE} [Editor] Saving and closing on blur for unit:", unitId);
              await this.callbacks.onSave(unitId, textarea.value.trim());
              const unit = { id: unitId };
              this.close(card, unit);
            }
          }, 100);
        }
      });
    }, 300);
    textarea.addEventListener("keydown", async (e) => {
      if (e.key === "Tab") {
        console.log("\u2328\uFE0F [Editor] Tab key pressed for unit:", unitId);
        e.preventDefault();
        const editor = textarea.closest(".inline-annotation-editor");
        await this.save(editor, unitId, textarea.value);
      }
    });
    textarea.addEventListener("mousedown", (e) => {
      e.stopPropagation();
    });
    textarea.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  }
  /**
   * 保存批注
   */
  async save(editorEl, unitId, text) {
    console.log("\u{1F4BE} [Save] Saving annotation for unit:", unitId);
    console.log("\u{1F4BE} [Save] Editor element:", editorEl);
    console.log("\u{1F4BE} [Save] Editor parent before save:", editorEl.parentElement);
    const trimmedText = text.trim();
    await this.callbacks.onSave(unitId, trimmedText);
    console.log("\u{1F4BE} [Save] After callback - Editor parent:", editorEl.parentElement);
    const card = editorEl.closest(".compact-card, .grid-card");
    editorEl.remove();
    this.activeEditors.delete(unitId);
    console.log("\u{1F4BE} [Save] Editor removed");
    if (trimmedText && card) {
      const content = card.querySelector(".card-content, .grid-card-content");
      if (content) {
        const latestContent = this.callbacks.getAnnotationContent(unitId);
        if (latestContent) {
          this.recreatePreview(content, card, { id: unitId }, latestContent);
        }
        const indicator = card.querySelector(".card-indicator");
        if (indicator && !indicator.classList.contains("has-annotation")) {
          indicator.classList.add("has-annotation");
        }
      }
    } else if (!trimmedText && card) {
      const indicator = card.querySelector(".card-indicator");
      if (indicator && indicator.classList.contains("has-annotation")) {
        indicator.classList.remove("has-annotation");
      }
    }
  }
  /**
   * 重新创建批注预览
   */
  recreatePreview(contentEl, cardEl, unit, annotationText) {
    const existingPreview = contentEl.querySelector(".annotation-preview, .grid-annotation");
    if (existingPreview) {
      existingPreview.remove();
    }
    const isGridCard = cardEl.classList.contains("grid-card");
    const annEl = document.createElement("div");
    annEl.className = isGridCard ? "grid-annotation" : "annotation-preview";
    if (isGridCard) {
      annEl.innerHTML = `<strong>\u6279\u6CE8\uFF1A</strong>${annotationText}`;
    } else {
      const displayText = annotationText.length > 60 ? annotationText.substring(0, 60) + "..." : annotationText;
      annEl.textContent = `\u{1F4AC} ${displayText}`;
    }
    annEl.addEventListener("click", (e) => {
      e.stopPropagation();
      this.toggle(cardEl, unit);
    });
    annEl.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        e.stopPropagation();
        this.toggle(cardEl, unit);
      }
    });
    const noteText = contentEl.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", annEl);
    } else {
      contentEl.appendChild(annEl);
    }
    annEl.setAttribute("tabindex", "0");
    annEl.focus();
  }
  /**
   * 关闭所有活动的编辑器
   */
  closeAll() {
    this.activeEditors.forEach((editor) => {
      editor.remove();
    });
    this.activeEditors.clear();
  }
};

// src/ui/service/sideOverviewService.ts
var import_obsidian3 = require("obsidian");
var sideOverviewService = class {
  constructor(plugin, state) {
    this.plugin = plugin;
    this.state = state;
  }
  /**
   * 跳转到笔记的源文件位置
   */
  async jumpToSource(unit, app) {
    const file = app.vault.getAbstractFileByPath(unit.source.file);
    if (!(file instanceof import_obsidian3.TFile)) {
      new import_obsidian3.Notice("\u26A0\uFE0F \u6587\u4EF6\u4E0D\u5B58\u5728");
      return;
    }
    this.state.shouldRestoreScroll = true;
    const leaf = app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = app.workspace.getActiveViewOfType(import_obsidian3.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          const line = unit.source.position.line;
          const lineCount = editor.lineCount();
          const validLine = Math.min(line, lineCount - 1);
          editor.setCursor({ line: validLine, ch: 0 });
          editor.scrollIntoView(
            { from: { line: validLine, ch: 0 }, to: { line: validLine, ch: 0 } },
            true
          );
          setTimeout(() => {
            var _a;
            try {
              const lineLength = ((_a = editor.getLine(validLine)) == null ? void 0 : _a.length) || 0;
              editor.setSelection(
                { line: validLine, ch: 0 },
                { line: validLine, ch: lineLength }
              );
            } catch (e) {
              console.error("Selection error:", e);
            }
          }, 100);
        }
      }
    }, 200);
  }
  /**
   * 保存或删除批注
   */
  async saveAnnotation(unitId, content) {
    const trimmedText = content.trim();
    const annotation = this.plugin.annotationManager.getContentAnnotation(unitId);
    if (trimmedText) {
      if (annotation) {
        await this.plugin.annotationManager.updateAnnotation(annotation.id, {
          content: trimmedText
        });
      } else {
        await this.plugin.annotationManager.addContentAnnotation(unitId, trimmedText);
      }
    } else if (annotation) {
      await this.plugin.annotationManager.deleteAnnotation(annotation.id);
      new import_obsidian3.Notice("\u{1F5D1}\uFE0F \u6279\u6CE8\u5DF2\u5220\u9664");
    }
  }
  /**
   * AI 快速生成闪卡
   */
  async quickGenerateFlashcard(unit) {
    try {
      const creator = new QuickFlashcardCreator(this.plugin);
      await creator.createSmartCard(unit);
      await new Promise((resolve) => setTimeout(resolve, 150));
      new import_obsidian3.Notice("\u26A1 \u95EA\u5361\u5DF2\u751F\u6210");
    } catch (error) {
      new import_obsidian3.Notice("\u274C \u751F\u6210\u95EA\u5361\u5931\u8D25");
      console.error(error);
    }
  }
  /**
   * 批量删除笔记
   */
  async batchDeleteNotes(unitIds) {
    let success = 0;
    let failed = 0;
    for (const unitId of unitIds) {
      try {
        const unit = this.plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          if (unit.flashcardIds.length > 0) {
            for (const cardId of unit.flashcardIds) {
              await this.plugin.flashcardManager.deleteCard(cardId);
            }
          }
        }
        await this.plugin.dataManager.deleteContentUnit(unitId);
        success++;
      } catch (error) {
        console.error("Error deleting note:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 批量删除闪卡
   */
  async batchDeleteFlashcards(cardIds) {
    let success = 0;
    let failed = 0;
    for (const cardId of cardIds) {
      try {
        await this.plugin.flashcardManager.deleteCard(cardId);
        success++;
      } catch (error) {
        console.error("Error deleting flashcard:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 获取批注内容
   */
  getAnnotationContent(unitId) {
    const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
    return ann == null ? void 0 : ann.content;
  }
  /**
   * 跳转到闪卡的源文件
   */
  async jumpToFlashcardSource(cardId, app) {
    const card = this.plugin.flashcardManager.getFlashcard(cardId);
    if (!card) {
      new import_obsidian3.Notice("\u26A0\uFE0F \u627E\u4E0D\u5230\u95EA\u5361");
      return;
    }
    const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
    if (unit) {
      await this.jumpToSource(unit, app);
    } else {
      const file = app.vault.getAbstractFileByPath(card.sourceFile);
      if (file instanceof import_obsidian3.TFile) {
        await app.workspace.getLeaf(false).openFile(file);
        new import_obsidian3.Notice("\u2705 \u5DF2\u6253\u5F00\u6E90\u6587\u4EF6");
      } else {
        new import_obsidian3.Notice("\u26A0\uFE0F \u627E\u4E0D\u5230\u539F\u59CB\u7B14\u8BB0");
      }
    }
  }
  /**
   * 激活统计视图
   */
  activateStatsView() {
    this.plugin.activateStats();
  }
};

// src/ui/components/modals/ManualFlashcardModal.ts
var import_obsidian4 = require("obsidian");
var ManualFlashcardModal = class extends import_obsidian4.Modal {
  constructor(app, plugin, unit, type) {
    super(app);
    this.question = "";
    this.answer = "";
    this.plugin = plugin;
    this.unit = unit;
    this.type = type;
    if (type === "qa") {
      this.question = unit.type === "QA" ? unit.content : unit.content;
      this.answer = unit.type === "QA" && unit.answer ? unit.answer : "";
    } else {
      this.question = unit.fullContext || unit.content;
      this.answer = unit.content;
    }
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("manual-flashcard-modal");
    contentEl.createEl("h2", {
      text: this.type === "qa" ? "\u270F\uFE0F \u521B\u5EFA QA \u95EA\u5361" : "\u270F\uFE0F \u521B\u5EFA\u586B\u7A7A\u95EA\u5361"
    });
    contentEl.createEl("p", {
      text: this.type === "qa" ? "\u521B\u5EFA\u4E00\u5F20\u95EE\u7B54\u5361\u7247\uFF0C\u53EF\u4EE5\u81EA\u5B9A\u4E49\u95EE\u9898\u548C\u7B54\u6848" : "\u521B\u5EFA\u4E00\u5F20\u586B\u7A7A\u5361\u7247\uFF0C\u5728\u5B8C\u6574\u6587\u672C\u4E2D\u6807\u8BB0\u8981\u6316\u7A7A\u7684\u5185\u5BB9",
      cls: "modal-description"
    });
    new import_obsidian4.Setting(contentEl).setName(this.type === "qa" ? "\u95EE\u9898 (Front)" : "\u5B8C\u6574\u6587\u672C").setDesc(this.type === "qa" ? "\u5361\u7247\u6B63\u9762\u663E\u793A\u7684\u95EE\u9898" : "\u5305\u542B\u7B54\u6848\u7684\u5B8C\u6574\u53E5\u5B50\u6216\u6BB5\u843D").addTextArea((text) => {
      text.setValue(this.question).setPlaceholder(
        this.type === "qa" ? "\u4F8B\u5982: \u4EC0\u4E48\u662F\u95F4\u9694\u91CD\u590D?" : "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D\u662F\u4E00\u79CD\u5B66\u4E60\u6280\u672F"
      ).onChange((value) => this.question = value);
      text.inputEl.rows = 4;
      text.inputEl.style.width = "100%";
    });
    new import_obsidian4.Setting(contentEl).setName(this.type === "qa" ? "\u7B54\u6848 (Back)" : "\u6316\u7A7A\u5185\u5BB9").setDesc(this.type === "qa" ? "\u5361\u7247\u80CC\u9762\u663E\u793A\u7684\u7B54\u6848" : "\u8981\u88AB\u6316\u7A7A\u7684\u5173\u952E\u8BCD\u6216\u77ED\u8BED").addTextArea((text) => {
      text.setValue(this.answer).setPlaceholder(
        this.type === "qa" ? "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D\u662F\u4E00\u79CD\u5B66\u4E60\u6280\u672F..." : "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D"
      ).onChange((value) => this.answer = value);
      text.inputEl.rows = 3;
      text.inputEl.style.width = "100%";
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    new import_obsidian4.Setting(buttonContainer).addButton(
      (btn) => btn.setButtonText("\u53D6\u6D88").onClick(() => this.close())
    ).addButton(
      (btn) => btn.setButtonText("\u521B\u5EFA\u95EA\u5361").setCta().onClick(async () => await this.createFlashcard())
    );
  }
  async createFlashcard() {
    if (!this.question.trim()) {
      new import_obsidian4.Notice("\u26A0\uFE0F \u95EE\u9898/\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A");
      return;
    }
    if (!this.answer.trim()) {
      new import_obsidian4.Notice("\u26A0\uFE0F \u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A");
      return;
    }
    try {
      await this.plugin.flashcardManager.createFlashcardFromUnit(
        this.unit,
        {
          customQuestion: this.question.trim(),
          customAnswer: this.answer.trim(),
          cardType: this.type
        }
      );
      new import_obsidian4.Notice(
        this.type === "qa" ? "\u2705 QA \u95EA\u5361\u5DF2\u521B\u5EFA" : "\u2705 \u586B\u7A7A\u95EA\u5361\u5DF2\u521B\u5EFA"
      );
      this.close();
      this.refreshOverviewView();
    } catch (error) {
      new import_obsidian4.Notice("\u274C \u521B\u5EFA\u95EA\u5361\u5931\u8D25");
      console.error("Error creating flashcard:", error);
    }
  }
  refreshOverviewView() {
    var _a, _b;
    const view = ((_a = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW)[0]) == null ? void 0 : _a.view) || ((_b = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0]) == null ? void 0 : _b.view);
    if (view && "refresh" in view) {
      view.refresh();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/modals/EditFlashcardModal.ts
var import_obsidian5 = require("obsidian");
var EditFlashcardModal = class extends import_obsidian5.Modal {
  constructor(app, plugin, card) {
    super(app);
    this.plugin = plugin;
    this.card = card;
    this.front = card.front;
    this.back = Array.isArray(card.back) ? card.back.join(", ") : card.back;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("edit-flashcard-modal");
    contentEl.createEl("h2", {
      text: "\u270F\uFE0F \u7F16\u8F91\u95EA\u5361"
    });
    contentEl.createEl("p", {
      text: `\u7F16\u8F91 ${this.card.type === "qa" ? "Q&A" : "\u586B\u7A7A"}\u5361\u7247\u5185\u5BB9`,
      cls: "modal-description"
    });
    const infoDiv = contentEl.createDiv({ cls: "card-info" });
    infoDiv.innerHTML = `
      <div style="background: var(--background-secondary); padding: 10px; border-radius: 6px; margin-bottom: 15px;">
        <div style="font-size: 0.9em; color: var(--text-muted);">
          \u{1F4C1} ${this.card.sourceFile.split("/").pop()}<br>
          \u{1F4DA} \u5361\u7EC4: ${this.card.deck}<br>
          \u{1F4CA} \u590D\u4E60: ${this.card.stats.totalReviews}\u6B21 | \u6B63\u786E: ${this.card.stats.correctCount}\u6B21
        </div>
      </div>
    `;
    new import_obsidian5.Setting(contentEl).setName(this.card.type === "qa" ? "\u95EE\u9898 (Front)" : "\u5B8C\u6574\u6587\u672C").setDesc("\u5361\u7247\u6B63\u9762\u663E\u793A\u7684\u5185\u5BB9").addTextArea((text) => {
      text.setValue(this.front).onChange((value) => this.front = value);
      text.inputEl.rows = 4;
      text.inputEl.style.width = "100%";
    });
    new import_obsidian5.Setting(contentEl).setName(this.card.type === "qa" ? "\u7B54\u6848 (Back)" : "\u6316\u7A7A\u7B54\u6848").setDesc(this.card.type === "qa" ? "\u5361\u7247\u80CC\u9762\u663E\u793A\u7684\u7B54\u6848" : "\u591A\u4E2A\u7B54\u6848\u7528\u9017\u53F7\u5206\u9694").addTextArea((text) => {
      text.setValue(this.back).onChange((value) => this.back = value);
      text.inputEl.rows = 3;
      text.inputEl.style.width = "100%";
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    new import_obsidian5.Setting(buttonContainer).addButton(
      (btn) => btn.setButtonText("\u53D6\u6D88").onClick(() => this.close())
    ).addButton(
      (btn) => btn.setButtonText("\u4FDD\u5B58").setCta().onClick(async () => await this.saveFlashcard())
    );
  }
  async saveFlashcard() {
    if (!this.front.trim()) {
      new import_obsidian5.Notice("\u26A0\uFE0F \u95EE\u9898/\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A");
      return;
    }
    if (!this.back.trim()) {
      new import_obsidian5.Notice("\u26A0\uFE0F \u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A");
      return;
    }
    try {
      this.card.front = this.front.trim();
      if (this.card.type === "cloze") {
        this.card.back = this.back.split(",").map((s) => s.trim()).filter((s) => s);
      } else {
        this.card.back = this.back.trim();
      }
      this.card.metadata.updatedAt = Date.now();
      await this.plugin.flashcardManager.updateCard(this.card);
      new import_obsidian5.Notice("\u2705 \u95EA\u5361\u5DF2\u66F4\u65B0");
      this.close();
      this.refreshOverviewView();
    } catch (error) {
      new import_obsidian5.Notice("\u274C \u4FDD\u5B58\u5931\u8D25");
      console.error("Error updating flashcard:", error);
    }
  }
  refreshOverviewView() {
    var _a, _b;
    const view = ((_a = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW)[0]) == null ? void 0 : _a.view) || ((_b = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0]) == null ? void 0 : _b.view);
    if (view && "refresh" in view) {
      view.refresh();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/ContextMenuBuilder.ts
var import_obsidian6 = require("obsidian");
var ContextMenuBuilder = class {
  /**
   * 构建内容单元的右键菜单
   */
  static buildContentUnitMenu(unit, callbacks) {
    const menu = new import_obsidian6.Menu();
    menu.addItem(
      (item) => item.setTitle("\u{1F4D6} \u8DF3\u8F6C\u5230\u539F\u6587").setIcon("arrow-up-right").onClick(() => callbacks.onJumpToSource(unit))
    );
    menu.addItem(
      (item) => item.setTitle("\u{1F4AC} \u7F16\u8F91\u6279\u6CE8").setIcon("message-square").onClick(() => callbacks.onToggleAnnotation(unit))
    );
    menu.addSeparator();
    if (unit.flashcardIds.length > 0) {
      menu.addItem(
        (item) => item.setTitle("\u270F\uFE0F \u7F16\u8F91\u95EA\u5361").setIcon("pencil").onClick(() => callbacks.onEditFlashcard(unit))
      );
    }
    menu.addItem(
      (item) => item.setTitle("\u26A1 \u751F\u6210\u95EA\u5361").setIcon("zap").onClick(() => callbacks.onQuickGenerate(unit))
    );
    menu.addItem(
      (item) => item.setTitle("\u2795 \u521B\u5EFA QA \u95EA\u5361").setIcon("plus").onClick(() => callbacks.onCreateQA(unit))
    );
    menu.addItem(
      (item) => item.setTitle("\u2795 \u521B\u5EFA\u586B\u7A7A\u95EA\u5361").setIcon("plus").onClick(() => callbacks.onCreateCloze(unit))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle("\u{1F4CA} \u67E5\u770B\u7EDF\u8BA1").setIcon("bar-chart").onClick(() => callbacks.onViewStats())
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle("\u{1F5D1}\uFE0F \u5220\u9664\u7B14\u8BB0").setIcon("trash").onClick(() => callbacks.onDelete(unit))
    );
    return menu;
  }
  /**
   * 构建闪卡的右键菜单
   */
  static buildFlashcardMenu(card, callbacks) {
    const menu = new import_obsidian6.Menu();
    menu.addItem(
      (item) => item.setTitle("\u{1F4D6} \u8DF3\u8F6C\u5230\u539F\u6587").setIcon("arrow-up-right").onClick(() => callbacks.onJumpToSource(card))
    );
    menu.addItem(
      (item) => item.setTitle("\u270F\uFE0F \u7F16\u8F91\u5361\u7247").setIcon("pencil").onClick(() => callbacks.onEdit(card))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle("\u{1F4CA} \u67E5\u770B\u7EDF\u8BA1").setIcon("bar-chart").onClick(() => callbacks.onViewStats(card))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle("\u{1F5D1}\uFE0F \u5220\u9664\u5361\u7247").setIcon("trash").onClick(() => callbacks.onDelete(card))
    );
    return menu;
  }
  /**
   * 格式化闪卡统计信息
   */
  static formatFlashcardStats(card) {
    var _a;
    const createdDate = new Date(card.metadata.createdAt).toLocaleString("zh-CN");
    const lastReview = card.stats.lastReview ? new Date(card.stats.lastReview).toLocaleString("zh-CN") : "\u672A\u590D\u4E60";
    const nextReview = new Date(card.scheduling.due).toLocaleString("zh-CN");
    const accuracy = card.stats.totalReviews > 0 ? (card.stats.correctCount / card.stats.totalReviews * 100).toFixed(1) : "0";
    return `\u{1F4CA} \u95EA\u5361\u7EDF\u8BA1
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
\u{1F4C1} \u6587\u4EF6: ${card.sourceFile.split("/").pop()}
\u{1F0CF} \u7C7B\u578B: ${card.type === "qa" ? "Q&A" : "\u586B\u7A7A"}
\u{1F4DA} \u5361\u7EC4: ${card.deck}
\u{1F3F7}\uFE0F \u6807\u7B7E: ${((_a = card.tags) == null ? void 0 : _a.length) > 0 ? card.tags.join(", ") : "\u65E0"}
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
\u{1F4C8} \u590D\u4E60\u6B21\u6570: ${card.stats.totalReviews}
\u2705 \u6B63\u786E\u6B21\u6570: ${card.stats.correctCount}
\u{1F4CA} \u6B63\u786E\u7387: ${accuracy}%
\u23F1\uFE0F \u5E73\u5747\u7528\u65F6: ${card.stats.averageTime.toFixed(1)}\u79D2
\u{1F3AF} \u96BE\u5EA6: ${(card.stats.difficulty * 100).toFixed(0)}%
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
\u{1F4C5} \u521B\u5EFA\u65F6\u95F4: ${createdDate}
\u{1F504} \u4E0A\u6B21\u590D\u4E60: ${lastReview}
\u23F0 \u4E0B\u6B21\u590D\u4E60: ${nextReview}
\u{1F4CF} \u95F4\u9694: ${card.scheduling.interval}\u5929
\u{1F4AA} \u719F\u7EC3\u5EA6: ${card.scheduling.ease.toFixed(2)}`;
  }
};

// src/ui/components/modals/BatchCreateModal.ts
var import_obsidian7 = require("obsidian");
var BatchCreateModal = class extends import_obsidian7.Modal {
  constructor(app, plugin, quickCreator, units, onComplete) {
    super(app);
    this.plugin = plugin;
    this.quickCreator = quickCreator;
    this.units = units;
    this.onComplete = onComplete;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "\u26A1 \u6279\u91CF\u521B\u5EFA\u95EA\u5361" });
    contentEl.createEl("p", {
      text: `\u4E3A ${this.units.length} \u6761\u672A\u521B\u5EFA\u95EA\u5361\u7684\u7B14\u8BB0\u521B\u5EFA\u95EA\u5361`
    });
    const typeContainer = contentEl.createDiv({ cls: "type-select-container" });
    typeContainer.createEl("h3", { text: "\u5361\u7247\u7C7B\u578B" });
    let selectedType = "smart";
    const types = [
      { value: "smart", label: "\u26A1 \u667A\u80FD\u8BC6\u522B", desc: "\u81EA\u52A8\u9009\u62E9\u6700\u5408\u9002\u7684\u7C7B\u578B" },
      { value: "qa", label: "\u{1F4DD} \u95EE\u7B54\u5361\u7247", desc: "\u95EE\u9898\u548C\u7B54\u6848\u683C\u5F0F" },
      { value: "cloze", label: "\u270F\uFE0F \u586B\u7A7A\u5361\u7247", desc: "\u6316\u7A7A\u586B\u7A7A" }
    ];
    types.forEach((type) => {
      const option = typeContainer.createDiv({ cls: "type-option" });
      const radio = option.createEl("input", {
        type: "radio",
        value: type.value,
        attr: { name: "card-type" }
      });
      if (type.value === "smart")
        radio.checked = true;
      const label = option.createDiv({ cls: "type-label" });
      label.createEl("strong", { text: type.label });
      label.createEl("div", { text: type.desc, cls: "type-desc" });
      option.addEventListener("click", () => {
        radio.checked = true;
        selectedType = type.value;
      });
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    const cancelBtn = buttonContainer.createEl("button", { text: "\u53D6\u6D88" });
    cancelBtn.addEventListener("click", () => this.close());
    const createBtn = buttonContainer.createEl("button", {
      text: `\u521B\u5EFA ${this.units.length} \u5F20\u5361\u7247`,
      cls: "mod-cta"
    });
    createBtn.addEventListener("click", async () => {
      await this.batchCreate(selectedType);
    });
    this.addStyles();
  }
  async batchCreate(type) {
    const { success, failed } = await this.quickCreator.createBatchCards(this.units, type);
    new import_obsidian7.Notice(`\u2705 \u5DF2\u521B\u5EFA ${success} \u5F20\u95EA\u5361\uFF01${failed > 0 ? `\uFF08${failed} \u5F20\u5931\u8D25\uFF09` : ""}`);
    this.close();
    this.onComplete();
  }
  addStyles() {
    const styleEl = document.createElement("style");
    styleEl.textContent = `
      .type-select-container {
        margin: 20px 0;
      }

      .type-option {
        padding: 15px;
        margin: 10px 0;
        background: var(--background-secondary);
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .type-option:hover {
        border-color: var(--interactive-accent);
        background: var(--background-modifier-hover);
      }

      .type-option input[type="radio"] {
        margin-right: 10px;
      }

      .type-label {
        display: inline-block;
        vertical-align: top;
      }

      .type-desc {
        font-size: 0.9em;
        color: var(--text-muted);
        margin-top: 4px;
      }
    `;
    document.head.appendChild(styleEl);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/core/UnlockSystem.ts
var import_obsidian8 = require("obsidian");
var UnlockSystem = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.dataPath = `${this.app.vault.configDir}/plugins/learning-system/data/unlock-progress.json`;
  }
  async initialize() {
    await this.loadProgress();
    this.updateDailyStreak();
  }
  // ==================== 核心检查点 ====================
  /**
   * 🎯 卡片提取完成时调用
   */
  async onCardExtracted() {
    console.trace("[UnlockSystem] onCardExtracted \u88AB\u8C03\u7528");
    this.progress.stats.cardsExtracted++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 批注完成时调用
   */
  async onAnnotationCompleted() {
    this.progress.stats.annotationsCompleted++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 卡片复习完成时调用
   */
  async onCardReviewed() {
    this.progress.stats.cardsReviewed++;
    this.updateDailyStreak();
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 扫描表格时调用
   */
  async onTableScanned() {
    this.progress.stats.tablesScanned++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 访问统计页面时调用
   */
  async onStatsPageVisited() {
    if (!this.progress.stats.statsPageVisited) {
      this.progress.stats.statsPageVisited = true;
      await this.checkLevelUp();
      await this.saveProgress();
    }
  }
  // ==================== 功能权限检查 ====================
  /**
   * 检查功能是否解锁
   */
  isFeatureUnlocked(feature) {
    const level = this.progress.currentLevel;
    const featureMap = {
      // Lv1
      "extract-single": 1,
      "sidebar-basic": 1,
      // Lv2
      "extract-batch": 2,
      "annotation": 2,
      "filter-by-type": 2,
      // Lv3
      "scan-vault": 3,
      "scan-file": 3,
      "review-page": 3,
      "review-reminder": 3,
      "extract-table": 3,
      // Lv4
      "stats-page": 4,
      // Lv5
      "advanced-analytics": 5,
      "community": 5
    };
    const requiredLevel = featureMap[feature] || 1;
    return level >= requiredLevel;
  }
  /**
   * 尝试使用功能(如果未解锁则提示)
   */
  tryUseFeature(feature, featureName) {
    console.log(`[UnlockSystem] \u68C0\u67E5\u529F\u80FD: ${feature}, \u5F53\u524D\u7B49\u7EA7: ${this.progress.currentLevel}`);
    if (this.isFeatureUnlocked(feature)) {
      console.log(`[UnlockSystem] \u2705 ${feature} \u5DF2\u89E3\u9501`);
      return true;
    }
    const requiredLevel = this.getFeatureRequiredLevel(feature);
    const nextSteps = this.getNextStepsForLevel(this.progress.currentLevel);
    console.log(`[UnlockSystem] \u274C ${feature} \u9700\u8981 Lv${requiredLevel}, \u5F53\u524D Lv${this.progress.currentLevel}`);
    new UnlockNoticeModal(this.app, featureName, requiredLevel, nextSteps).open();
    return false;
  }
  // ==================== 等级检查和升级 ====================
  async checkLevelUp() {
    const oldLevel = this.progress.currentLevel;
    let newLevel = oldLevel;
    if (oldLevel === 1 && this.canUpgradeToLevel2()) {
      newLevel = 2;
    } else if (oldLevel === 2 && this.canUpgradeToLevel3()) {
      newLevel = 3;
    } else if (oldLevel === 3 && this.canUpgradeToLevel4()) {
      newLevel = 4;
    } else if (oldLevel === 4 && this.canUpgradeToLevel5()) {
      newLevel = 5;
    }
    if (newLevel > oldLevel) {
      await this.levelUp(newLevel);
    }
  }
  canUpgradeToLevel2() {
    return this.progress.stats.cardsExtracted >= 10;
  }
  canUpgradeToLevel3() {
    return this.progress.stats.annotationsCompleted >= 5;
  }
  canUpgradeToLevel4() {
    return this.progress.stats.cardsReviewed >= 10 && this.progress.stats.tablesScanned >= 2;
  }
  canUpgradeToLevel5() {
    return this.progress.stats.cardsReviewed >= 70 && this.progress.stats.consecutiveDays >= 7 && this.progress.stats.totalDays >= 21 && this.progress.stats.statsPageVisited;
  }
  async levelUp(newLevel) {
    this.progress.currentLevel = newLevel;
    this.progress.levelUnlockedAt[newLevel] = Date.now();
    const messages = {
      1: "\u{1F389} \u6B22\u8FCE\u6210\u4E3A\u91C7\u96C6\u8005!",
      2: "\u{1F393} \u5347\u7EA7\u4E3A\u601D\u8003\u8005!\n\u89E3\u9501: \u6279\u6CE8\u529F\u80FD\u3001\u6279\u91CF\u64CD\u4F5C",
      3: "\u{1F9E0} \u6210\u4E3A\u8BB0\u5FC6\u5E08!\n\u89E3\u9501: \u626B\u63CF\u529F\u80FD\u3001\u590D\u4E60\u7CFB\u7EDF",
      4: "\u{1F4AA} \u664B\u5347\u8BAD\u7EC3\u8005!\n\u89E3\u9501: \u7EDF\u8BA1\u5206\u6790",
      5: "\u{1F3C6} \u8FBE\u6210\u5206\u6790\u5E08!\n\u6240\u6709\u529F\u80FD\u5DF2\u89E3\u9501"
    };
    const milestone = {
      level: newLevel,
      unlockedAt: Date.now(),
      message: messages[newLevel]
    };
    this.progress.milestones.push(milestone);
    new import_obsidian8.Notice(messages[newLevel], 1e4);
    await this.saveProgress();
  }
  // ==================== 日常连续天数 ====================
  updateDailyStreak() {
    const today = new Date().toISOString().split("T")[0];
    const lastActive = this.progress.stats.lastActiveDate;
    if (lastActive !== today) {
      const yesterday = new Date();
      yesterday.setDate(yesterday.getDate() - 1);
      const yesterdayStr = yesterday.toISOString().split("T")[0];
      if (lastActive === yesterdayStr) {
        this.progress.stats.consecutiveDays++;
      } else if (!lastActive) {
        this.progress.stats.consecutiveDays = 1;
      } else {
        this.progress.stats.consecutiveDays = 1;
      }
      this.progress.stats.totalDays++;
      this.progress.stats.lastActiveDate = today;
    }
  }
  // ==================== 辅助方法 ====================
  getCurrentLevel() {
    return this.progress.currentLevel;
  }
  getProgress() {
    return this.progress;
  }
  getNextStepsForLevel(level) {
    const stats = this.progress.stats;
    switch (level) {
      case 1:
        return `\u{1F4E6} \u63D0\u53D6\u5361\u7247: ${stats.cardsExtracted}/10`;
      case 2:
        return `\u{1F4DD} \u5B8C\u6210\u6279\u6CE8: ${stats.annotationsCompleted}/5`;
      case 3:
        return `\u{1F504} \u590D\u4E60\u5361\u7247: ${stats.cardsReviewed}/30
\u{1F525} \u8FDE\u7EED\u4F7F\u7528\u5929\u6570: ${stats.consecutiveDays}/7`;
      case 4:
        return `\u{1F4CB} \u626B\u63CF\u6DFB\u52A0\u8868\u683C: ${stats.tablesScanned}/2
\u{1F4CA} \u8BBF\u95EE\u7EDF\u8BA1\u9875: ${stats.statsPageVisited ? "\u2713" : "\u2717"}
 \u{1F4C8} \u603B\u4F7F\u7528\u5929\u6570: ${stats.totalDays}/21`;
      case 5:
        return `\u{1F389} \u606D\u559C\u89E3\u9501\u6240\u6709\u529F\u80FD!

\u{1F52E} \u667A\u56CA\u56E2\u529F\u80FD\u5C1A\u672A\u5F00\u653E
\u8FBE\u5230\u4EBA\u6570\u4E0E\u6BB5\u4F4D\u6761\u4EF6\u540E\u5F00\u542F
\u{1F517} <a href="https://jz-quartz.pages.dev/6.about/%E6%99%BA%E5%9B%8A%E5%9B%A2" target="_blank">\u4E86\u89E3\u667A\u56CA\u56E2\uFF08\u70B9\u51FB\u67E5\u770B\uFF09</a>`;
      default:
        return "";
    }
  }
  getFeatureRequiredLevel(feature) {
    if (["extract-single", "sidebar-basic"].includes(feature))
      return 1;
    if (["extract-batch", "annotation", "filter-by-type"].includes(feature))
      return 2;
    if (["scan-vault", "scan-file", "review-page", "review-reminder", "extract-table"].includes(feature))
      return 3;
    if (feature === "stats-page")
      return 4;
    return 5;
  }
  // ==================== 数据持久化 ====================
  async loadProgress() {
    try {
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(this.dataPath)) {
        const data = await adapter.read(this.dataPath);
        const saved = JSON.parse(data);
        saved.unlockedFeatures = new Set(saved.unlockedFeatures || []);
        this.progress = saved;
      } else {
        this.progress = this.createDefaultProgress();
      }
    } catch (error) {
      console.error("Error loading unlock progress:", error);
      this.progress = this.createDefaultProgress();
    }
  }
  async saveProgress() {
    try {
      const adapter = this.app.vault.adapter;
      const toSave = {
        ...this.progress,
        unlockedFeatures: Array.from(this.progress.unlockedFeatures)
      };
      const data = JSON.stringify(toSave, null, 2);
      await adapter.write(this.dataPath, data);
    } catch (error) {
      console.error("Error saving unlock progress:", error);
    }
  }
  createDefaultProgress() {
    return {
      currentLevel: 1,
      stats: {
        cardsExtracted: 0,
        annotationsCompleted: 0,
        cardsReviewed: 0,
        tablesScanned: 0,
        consecutiveDays: 0,
        totalDays: 0,
        statsPageVisited: false,
        lastActiveDate: ""
      },
      unlockedFeatures: /* @__PURE__ */ new Set(["extract-single", "sidebar-basic"]),
      levelUnlockedAt: { 1: Date.now() },
      milestones: [{
        level: 1,
        unlockedAt: Date.now(),
        message: "\u{1F389} \u6B22\u8FCE\u6210\u4E3A\u91C7\u96C6\u8005!"
      }]
    };
  }
};
var UnlockNoticeModal = class extends import_obsidian8.Modal {
  constructor(app, featureName, requiredLevel, nextSteps) {
    super(app);
    this.featureName = featureName;
    this.requiredLevel = requiredLevel;
    this.nextSteps = nextSteps;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "\u{1F512} \u529F\u80FD\u672A\u89E3\u9501" });
    contentEl.createEl("p", {
      text: `"${this.featureName}" \u9700\u8981 Lv${this.requiredLevel} \u89E3\u9501`
    });
    contentEl.createEl("h3", { text: "\u5F53\u524D\u8FDB\u5EA6:" });
    const container = contentEl.createDiv();
    container.style.padding = "10px";
    container.style.backgroundColor = "var(--background-secondary)";
    container.style.borderRadius = "5px";
    container.style.lineHeight = "1.8";
    container.innerHTML = this.nextSteps.replace(/\n/g, "<br>");
    const divider = contentEl.createEl("div");
    divider.style.width = "100%";
    divider.style.height = "2px";
    divider.style.backgroundColor = "#666";
    divider.style.margin = "20px 0";
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var LevelInfoModal = class extends import_obsidian8.Modal {
  constructor(app, progress, unlockSystem) {
    super(app);
    this.progress = progress;
    this.unlockSystem = unlockSystem;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("level-info-modal");
    const levelNames = {
      1: "\u91C7\u96C6\u8005",
      2: "\u601D\u8003\u8005",
      3: "\u8BB0\u5FC6\u5E08",
      4: "\u8BAD\u7EC3\u8005",
      5: "\u5206\u6790\u5E08"
    };
    contentEl.createEl("h2", {
      text: `\u{1F3C6} Lv${this.progress.currentLevel} ${levelNames[this.progress.currentLevel]}`
    });
    const progressSection = contentEl.createDiv({ cls: "progress-section" });
    const progressBox = progressSection.createDiv({ cls: "progress-box" });
    const progressText = this.unlockSystem.getNextStepsForLevel(this.progress.currentLevel);
    progressBox.innerHTML = progressText.replace(/\n/g, "<br>");
    const statsSection = contentEl.createDiv({ cls: "stats-section" });
    statsSection.createEl("h4", { text: "\u7D2F\u8BA1\u7EDF\u8BA1" });
    const statsGrid = statsSection.createDiv({ cls: "stats-grid" });
    const stats = [
      { icon: "\u{1F4E6}", label: "\u63D0\u53D6\u5361\u7247", value: this.progress.stats.cardsExtracted },
      { icon: "\u{1F4DD}", label: "\u5B8C\u6210\u6279\u6CE8", value: this.progress.stats.annotationsCompleted },
      { icon: "\u{1F504}", label: "\u590D\u4E60\u5361\u7247", value: this.progress.stats.cardsReviewed },
      { icon: "\u{1F4CB}", label: "\u626B\u63CF\u8868\u683C", value: this.progress.stats.tablesScanned },
      { icon: "\u{1F525}", label: "\u8FDE\u7EED\u5929\u6570", value: this.progress.stats.consecutiveDays },
      { icon: "\u{1F4C5}", label: "\u603B\u4F7F\u7528\u5929\u6570", value: this.progress.stats.totalDays }
    ];
    stats.forEach((stat) => {
      const item = statsGrid.createDiv({ cls: "stat-item" });
      item.innerHTML = `
          <span class="stat-icon">${stat.icon}</span>
          <span class="stat-label">${stat.label}</span>
          <span class="stat-value">${stat.value}</span>
        `;
    });
    if (this.progress.milestones.length > 0) {
      const milestonesSection = contentEl.createDiv({ cls: "milestones-section" });
      milestonesSection.createEl("h4", {
        text: "\u{1F3AF} \u6210\u5C31\u91CC\u7A0B\u7891"
      });
      const milestonesList = milestonesSection.createDiv({ cls: "milestones-list" });
      this.progress.milestones.slice().reverse().forEach((milestone) => {
        const item = milestonesList.createDiv({ cls: "milestone-item" });
        const date = new Date(milestone.unlockedAt).toLocaleDateString("zh-CN");
        item.innerHTML = `
              <div class="milestone-message">${date} ${milestone.message} </div>
            `;
      });
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/view/SidebarOverviewView.ts
var VIEW_TYPE_SIDEBAR_OVERVIEW = "learning-system-sidebar-overview";
var VIEW_TYPE_MAIN_OVERVIEW = "learning-system-main-overview";
var SidebarOverviewView = class extends import_obsidian9.ItemView {
  constructor(leaf, plugin, forceMainMode = false) {
    super(leaf);
    this.isOpeningEditor = false;
    this.plugin = plugin;
    this._forceMainMode = forceMainMode;
    this.state = new ViewState(forceMainMode);
    this.initializeComponents();
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      this.state.selectedFile = activeFile.path;
    }
    this.setupResizeListener();
  }
  // ==================== 生命周期方法 ====================
  getViewType() {
    const forceMainMode = this._forceMainMode || false;
    return forceMainMode ? VIEW_TYPE_MAIN_OVERVIEW : VIEW_TYPE_SIDEBAR_OVERVIEW;
  }
  getDisplayText() {
    return "Learning Overview";
  }
  getIcon() {
    return "book-marked";
  }
  async onOpen() {
    console.log("[OverviewView] Opening view...");
    this.detectDisplayMode();
    const editor = document.querySelector(".cm-editor");
    if (editor) {
      const stopEditorCapture = (e) => {
        const target = e.target;
        if (target.closest(".learning-overview-container")) {
          e.stopPropagation();
          e.stopImmediatePropagation();
        }
      };
      editor.addEventListener("mousedown", stopEditorCapture, true);
      editor.addEventListener("click", stopEditorCapture, true);
    }
    const editorContainer = document.querySelector(".cm-content");
    if (editorContainer) {
      editorContainer.style.pointerEvents = "auto";
      editorContainer.addEventListener("mousedown", (e) => {
        const searchBox = document.querySelector(".search-container");
        if (searchBox && searchBox.contains(e.target)) {
          e.stopPropagation();
          e.preventDefault();
        }
      }, true);
    }
    if (this.state.displayMode === "sidebar") {
      const activeFile = this.app.workspace.getActiveFile();
      if (activeFile) {
        this.state.selectedFile = activeFile.path;
        console.log("[SidebarView] Initial file:", activeFile.path);
      }
    }
    if (!this.state.forceMainMode) {
      this.registerActiveLeafChange();
    }
    this.state.updateDueCount(this.plugin.flashcardManager);
    this.render();
    StyleLoader.inject();
    reviewStyle.inject();
    await new Promise((resolve) => setTimeout(resolve, 100));
  }
  async onClose() {
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
    }
    this.annotationEditor.closeAll();
  }
  // ==================== 初始化方法 ====================
  initializeComponents() {
    this.overviewService = new sideOverviewService(this.plugin, this.state);
    this.toolbar = new Toolbar(this.state, {
      onSearchChange: (query) => this.handleSearchChange(query),
      onFilterChange: (mode) => this.handleFilterChange(mode),
      onGroupChange: (mode) => this.handleGroupChange(mode),
      onCheckReview: () => this.checkReviewReminder(),
      checkFilterHasNotes: (mode) => this.checkFilterHasNotes(mode),
      checkGroupHasNotes: (mode) => this.checkGroupHasNotes(mode)
    }, this.plugin.settings.language);
    const batchCallbacks = {
      onSelectAll: () => this.handleSelectAll(),
      onDeselectAll: () => this.handleDeselectAll(),
      onBatchCreate: () => this.handleBatchCreate(),
      onBatchDelete: () => this.handleBatchDelete(),
      onCancel: () => this.handleBatchCancel()
    };
    this.batchActions = new BatchActions(this.state, batchCallbacks, this.toolbar, this.plugin.settings.language);
    const cardCallbacks = {
      onJumpToSource: (unit) => this.jumpToSource(unit),
      onJumpToFlashcard: (card) => this.jumpToFlashcardSource(card),
      onToggleAnnotation: (card, unit) => {
        if (!this.plugin.unlockSystem.tryUseFeature("annotation", "Annotation")) {
          return;
        }
        this.isOpeningEditor = true;
        console.log("\u{1F512} [View] Editor lock enabled");
        this.annotationEditor.toggle(card, unit);
        setTimeout(() => {
          this.isOpeningEditor = false;
          console.log("\u{1F513} [View] Editor lock disabled");
        }, 1500);
      },
      onQuickFlashcard: (unit) => this.quickGenerateFlashcard(unit),
      onShowContextMenu: (event, unit) => this.showContextMenu(event, unit),
      onFlashcardContextMenu: (event, card) => this.showFlashcardContextMenu(event, card),
      getAnnotationContent: (unitId) => {
        const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
        return ann == null ? void 0 : ann.content;
      },
      getContentUnit: (unitId) => {
        const allUnits = this.plugin.dataManager.getAllContentUnits();
        const unit = this.plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          return unit;
        } else {
          return void 0;
        }
      }
    };
    this.contentList = new ContentList(this.state, cardCallbacks);
    const annotationCallbacks = {
      onSave: async (unitId, content) => {
        await this.saveAnnotation(unitId, content);
      },
      onCancel: (unitId) => {
      },
      getAnnotationContent: (unitId) => {
        const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
        return ann == null ? void 0 : ann.content;
      }
    };
    this.annotationEditor = new AnnotationEditor(annotationCallbacks);
  }
  setupResizeListener() {
    let resizeTimer;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimer);
      resizeTimer = window.setTimeout(() => {
        this.detectDisplayMode();
        this.render();
      }, 150);
    });
  }
  registerActiveLeafChange() {
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", () => {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile && this.state.displayMode === "sidebar") {
          this.state.selectedFile = activeFile.path;
          this.refresh();
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("file-open", (file) => {
        if (file && this.state.displayMode === "sidebar") {
          this.state.selectedFile = file.path;
          console.log("[SidebarView] File opened:", file.path);
          this.refresh();
        }
      })
    );
  }
  // ==================== 显示模式检测 ====================
  detectDisplayMode() {
    if (this.state.forceMainMode) {
      this.state.displayMode = "main";
      return;
    }
    const parentSplit = this.leaf.parentSplit;
    const isLeftSidebar = (parentSplit == null ? void 0 : parentSplit.type) === "split" && this.app.workspace.leftSplit === parentSplit;
    const isRightSidebar = (parentSplit == null ? void 0 : parentSplit.type) === "split" && this.app.workspace.rightSplit === parentSplit;
    const width = this.containerEl.clientWidth;
    const isNarrow = width < 500;
    const isSidebar = isLeftSidebar || isRightSidebar || isNarrow;
    this.state.displayMode = isSidebar ? "sidebar" : "main";
  }
  // ==================== 渲染方法 ====================
  refresh() {
    const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
    if (hasActiveEditors || this.isOpeningEditor) {
      console.log("\u23F8\uFE0F [Refresh] Blocked");
      return;
    }
    if (this.state.isRendering) {
      requestAnimationFrame(() => this.refresh());
      return;
    }
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
      this.state.searchDebounceTimer = null;
    }
    this.state.shouldRestoreScroll = true;
    this.render();
  }
  render() {
    if (this.state.isRendering)
      return;
    this.state.isRendering = true;
    const container = this.containerEl.children[1];
    if (this.state.displayMode === "sidebar") {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        this.state.savedScrollPosition = contentList.scrollTop;
      }
    }
    container.empty();
    container.addClass("learning-overview-container");
    container.setAttribute("data-mode", this.state.displayMode);
    if (this.state.displayMode === "sidebar") {
      this.renderSidebarMode(container);
    } else {
      this.renderMainMode(container);
    }
    if (this.state.displayMode === "sidebar" && this.state.shouldRestoreScroll) {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        requestAnimationFrame(() => {
          contentList.scrollTop = this.state.savedScrollPosition;
        });
      }
    }
    this.state.isRendering = false;
  }
  // src/ui/SidebarOverviewView.ts
  renderSidebarMode(container) {
    const toolbarEl = this.toolbar.renderSidebarToolbar(container);
    let statsRow = toolbarEl.querySelector(".stats-row");
    if (!statsRow) {
      statsRow = toolbarEl.createDiv({ cls: "stats-row" });
      statsRow.setAttribute("data-stats-container", "true");
    }
    const currentFileUnits = this.getFilteredUnits();
    const items = this.state.viewType === "cards" ? this.getFilteredCardsForCurrentFile() : currentFileUnits;
    const leftActions = statsRow.createDiv({ cls: "stats-left" });
    this.batchActions.renderSelectAllButton(leftActions, items, "sidebar");
    const centerActions = statsRow.createDiv({ cls: "stats-center" });
    this.batchActions.renderActionButtons(centerActions, "sidebar");
    const progress = this.plugin.unlockSystem.getProgress();
    const shouldShowFullBadge = this.shouldShowFullLevelBadge(progress);
    if (shouldShowFullBadge) {
      const levelBadge = container.createDiv({ cls: "level-badge" });
      const levelNames = {
        1: "Collector",
        2: "Thinker",
        3: "Memorizer",
        4: "Trainer",
        5: "Analyst"
      };
      const levelName = levelNames[progress.currentLevel] || "";
      levelBadge.textContent = `Lv${progress.currentLevel} ${levelName}`;
      levelBadge.style.fontSize = "1em";
      const progressText = container.createDiv({ cls: "progress-text" });
      progressText.innerHTML = this.plugin.unlockSystem.getNextStepsForLevel(progress.currentLevel).replace(/\n/g, "<br>");
      progressText.style.fontSize = "0.93em";
      const divider = container.createDiv({ cls: "level-divider" });
      divider.style.width = "calc(100% - 24px)";
      divider.style.height = "1px";
      divider.style.backgroundColor = "var(--background-modifier-border)";
      divider.style.margin = "12px auto";
    }
    const rightActions = statsRow.createDiv({ cls: "stats-right" });
    if (!shouldShowFullBadge && progress.currentLevel === 5) {
      this.renderLevelBadge(rightActions, progress);
    }
    this.batchActions.renderReviewCheckButton(rightActions, "sidebar");
    const contentListEl = container.createDiv({ cls: "sidebar-content-list" });
    this.contentList.renderCompactList(contentListEl, currentFileUnits);
    this.insertReviewReminderAtTop(contentListEl);
  }
  renderMainMode(container) {
    const layout = container.createDiv({ cls: "main-layout" });
    const leftPanel = layout.createDiv({ cls: "left-panel" });
    this.renderLeftPanel(leftPanel);
    const rightPanel = layout.createDiv({ cls: "right-panel" });
    this.renderRightPanel(rightPanel);
  }
  renderLeftPanel(container) {
    this.toolbar.renderMainToolbar(container);
    this.renderFixedEntries(container);
    this.renderFileList(container);
  }
  renderRightPanel(container) {
    if (this.state.viewType === "cards") {
      this.renderFlashcardsView(container);
      return;
    }
    if (!this.state.selectedFile) {
      const units = this.getFilteredUnits();
      const grouped = this.contentList.groupUnits(units);
      if (grouped.length > 0) {
        this.state.selectedFile = grouped[0].groupKey;
      }
    }
    if (!this.state.selectedFile) {
      this.renderEmptyRightPanel(container);
      return;
    }
    const header = container.createDiv({ cls: "grid-header" });
    header.createEl("h2", { text: this.state.selectedFile || "\u5185\u5BB9" });
    const headerActions = header.createDiv({ cls: "header-actions" });
    const visibleItems = this.getVisibleItems();
    const items = visibleItems.units || [];
    this.batchActions.renderActionButtons(headerActions, "header");
    this.batchActions.renderSelectAllButton(headerActions, items, "header");
    const gridContainer = container.createDiv({ cls: "content-grid" });
    const filteredUnits = this.getFilteredUnitsForSelectedGroup();
    this.contentList.renderContentGrid(gridContainer, filteredUnits);
  }
  renderFlashcardsView(container) {
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    if (!this.state.selectedFile) {
      const grouped = this.contentList.groupFlashcards(
        flashcards,
        (id) => this.plugin.dataManager.getContentUnit(id)
      );
      if (grouped.length > 0) {
        this.state.selectedFile = grouped[0].groupKey;
      }
    }
    if (!this.state.selectedFile) {
      this.renderEmptyRightPanel(container);
      return;
    }
    const header = container.createDiv({ cls: "grid-header" });
    header.createEl("h2", { text: this.state.selectedFile || "\u95EA\u5361" });
    const headerActions = header.createDiv({ cls: "header-actions" });
    const visibleItems = this.getVisibleItems();
    const items = visibleItems.cards || [];
    this.batchActions.renderActionButtons(headerActions, "header");
    this.batchActions.renderSelectAllButton(headerActions, items, "header");
    const gridContainer = container.createDiv({ cls: "content-grid" });
    const filteredCards = this.getFilteredCardsForSelectedGroup();
    this.contentList.renderFlashcardsGrid(gridContainer, filteredCards);
  }
  renderFixedEntries(container) {
    const entries = container.createDiv({ cls: "fixed-entries" });
    const allNotesBtn = entries.createDiv({
      cls: `entry-btn ${this.state.viewType === "notes" ? "active" : ""}`
    });
    allNotesBtn.innerHTML = "\u{1F4DD} <span>All Notes</span>";
    allNotesBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.state.setViewType("notes")) {
        this.render();
      }
    });
    const cardListBtn = entries.createDiv({
      cls: `entry-btn ${this.state.viewType === "cards" ? "active" : ""}`
    });
    cardListBtn.innerHTML = "\u{1F0CF} <span>Card List</span>";
    cardListBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.state.setViewType("cards")) {
        this.render();
      }
    });
  }
  renderFileList(container) {
    container.createEl("h3", { text: this.t("fileList.title"), cls: "panel-title" });
    const fileListContainer = container.createDiv({ cls: "file-list" });
    this.renderFileListContent(fileListContainer);
  }
  renderFileListContent(container) {
    container.empty();
    let grouped;
    if (this.state.viewType === "cards") {
      const flashcards = this.plugin.flashcardManager.getAllFlashcards();
      const cardGroups = this.contentList.groupFlashcards(
        flashcards,
        (id) => this.plugin.dataManager.getContentUnit(id)
      );
      grouped = cardGroups.map((g) => ({
        groupKey: g.groupKey,
        count: g.cards.length
      }));
    } else {
      const units = this.getFilteredUnits();
      const unitGroups = this.contentList.groupUnits(units);
      grouped = unitGroups.map((g) => ({
        groupKey: g.groupKey,
        count: g.units.length
      }));
    }
    if (grouped.length === 0) {
      container.createDiv({ text: this.t("empty.noDocuments"), cls: "empty-hint" });
      return;
    }
    if (!this.state.selectedFile && grouped.length > 0) {
      this.state.selectedFile = grouped[0].groupKey;
    }
    grouped.forEach(({ groupKey, count }) => {
      const fileItem = container.createDiv({
        cls: `file-item ${this.state.selectedFile === groupKey ? "selected" : ""}`
      });
      fileItem.innerHTML = `
        <span class="file-icon">${this.getGroupIcon()}</span>
        <span class="file-name">${groupKey}</span>
        <span class="file-count">${count}</span>
      `;
      fileItem.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        if (this.state.selectedFile !== groupKey) {
          this.annotationEditor.closeAll();
          this.state.selectedFile = groupKey;
          const allItems = container.querySelectorAll(".file-item");
          allItems.forEach((item) => item.removeClass("selected"));
          fileItem.addClass("selected");
          this.refreshRightPanel();
        }
      });
    });
  }
  renderEmptyRightPanel(container) {
    const empty = container.createDiv({ cls: "empty-right-panel" });
    empty.innerHTML = `
      <div class="empty-icon">\u{1F4ED}</div>
      <div class="empty-text">${this.t("empty.noContent")}</div>
    `;
  }
  // ==================== 事件处理方法 ====================
  handleSearchChange(query) {
    this.state.setSearchQuery(query);
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
    }
    this.state.searchDebounceTimer = window.setTimeout(() => {
      const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
      if (hasActiveEditors) {
        console.log("\u23F8\uFE0F [Search] Refresh cancelled - editors active");
        return;
      }
      this.state.clearSelection();
      this.refreshContentOnly();
    }, 300);
  }
  // 添加新方法:只刷新内容列表
  refreshContentOnly() {
    if (this.isOpeningEditor) {
      console.log("\u23F8\uFE0F [Refresh] Skipped - opening editor");
      return;
    }
    const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
    if (hasActiveEditors) {
      console.log("\u23F8\uFE0F [Refresh] Skipped - editors are active");
      return;
    }
    const container = this.containerEl.children[1];
    if (this.state.displayMode === "sidebar") {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        const scrollPos = contentList.scrollTop;
        const editingCards = /* @__PURE__ */ new Map();
        contentList.querySelectorAll(".inline-annotation-editor").forEach((editor) => {
          const card = editor.closest("[data-unit-id]");
          if (card) {
            const unitId = card.getAttribute("data-unit-id");
            if (unitId) {
              editingCards.set(unitId, editor.cloneNode(true));
            }
          }
        });
        contentList.empty();
        const currentFileUnits = this.getFilteredUnits();
        this.contentList.renderCompactList(contentList, currentFileUnits);
        this.insertReviewReminderAtTop(contentList);
        if (editingCards.size > 0) {
          requestAnimationFrame(() => {
            editingCards.forEach((editor, unitId) => {
              const card = contentList.querySelector(`[data-unit-id="${unitId}"]`);
              if (card) {
                card.setAttribute("data-editing", "true");
                const preview = card.querySelector(".annotation-preview");
                if (preview) {
                  preview.replaceWith(editor);
                  const textarea = editor.querySelector("textarea");
                  if (textarea) {
                    this.annotationEditor["bindEditorEvents"](textarea, unitId);
                    requestAnimationFrame(() => {
                      textarea.focus();
                    });
                  }
                }
              }
            });
          });
        }
        contentList.scrollTop = scrollPos;
      }
    } else {
      this.refreshRightPanel();
      const fileListContainer = container.querySelector(".file-list");
      if (fileListContainer) {
        this.renderFileListContent(fileListContainer);
      }
    }
  }
  handleFilterChange(mode) {
    if (this.state.setFilterMode(mode)) {
      this.state.shouldRestoreScroll = false;
      this.render();
    }
  }
  handleGroupChange(mode) {
    if (this.state.setGroupMode(mode)) {
      this.render();
    }
  }
  handleSelectAll() {
    const visible = this.getVisibleItems();
    if (this.state.viewType === "cards") {
      const cards = visible.cards || [];
      if (cards.length === 0) {
        new import_obsidian9.Notice(this.t("notice.noSelection"));
        return;
      }
      this.state.selectAllCards(cards);
    } else {
      const units = visible.units || [];
      if (units.length === 0) {
        new import_obsidian9.Notice(this.t("notice.noSelection"));
        return;
      }
      this.state.selectAllUnits(units);
    }
    this.render();
  }
  handleDeselectAll() {
    const visible = this.getVisibleItems();
    if (this.state.viewType === "cards") {
      this.state.deselectAllCards(visible.cards || []);
    } else {
      this.state.deselectAllUnits(visible.units || []);
    }
    this.render();
  }
  handleBatchCreate() {
    if (this.state.selectedUnitIds.size === 0) {
      new import_obsidian9.Notice(this.t("notice.noSelection"));
      return;
    }
    this.batchCreateFlashcards();
  }
  handleBatchDelete() {
    if (this.state.getSelectedCount() === 0) {
      new import_obsidian9.Notice(this.t("notice.noSelection"));
      return;
    }
    if (this.state.viewType === "cards") {
      this.batchDeleteFlashcards();
    } else {
      this.batchDeleteNotes();
    }
  }
  handleBatchCancel() {
    this.state.clearSelection();
    this.render();
  }
  // ==================== 数据获取方法 ====================
  getFilteredUnits() {
    let units = this.plugin.dataManager.getAllContentUnits();
    if (this.state.displayMode === "sidebar" && this.state.selectedFile) {
      units = units.filter((unit) => unit.source.file === this.state.selectedFile);
    }
    if (this.state.searchQuery) {
      const query = this.state.searchQuery.toLowerCase();
      units = units.filter(
        (unit) => unit.content.toLowerCase().includes(query) || unit.source.file.toLowerCase().includes(query) || unit.metadata.tags.some((tag) => tag.toLowerCase().includes(query))
      );
    }
    if (this.state.filterMode === "annotated") {
      units = units.filter((u) => u.annotationId);
    } else if (this.state.filterMode === "flashcards") {
      units = units.filter((u) => u.flashcardIds.length > 0);
    }
    return units;
  }
  getFilteredUnitsForSelectedGroup() {
    const units = this.getFilteredUnits();
    const selected = this.state.selectedFile;
    if (!selected)
      return [];
    return units.filter((unit) => {
      if (this.state.groupMode === "file") {
        return unit.source.file === selected;
      } else if (this.state.groupMode === "annotation") {
        const hasAnnotation = selected === "\u6709\u6279\u6CE8";
        return hasAnnotation ? !!unit.annotationId : !unit.annotationId;
      } else if (this.state.groupMode === "tag") {
        return unit.metadata.tags.includes(selected);
      } else if (this.state.groupMode === "date") {
        return this.formatDate(new Date(unit.metadata.createdAt)) === selected;
      }
      return false;
    });
  }
  getFilteredCardsForSelectedGroup() {
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    const selected = this.state.selectedFile;
    if (!selected)
      return [];
    return flashcards.filter((card) => {
      if (this.state.groupMode === "file") {
        return card.sourceFile === this.state.selectedFile;
      } else if (this.state.groupMode === "annotation") {
        const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
        const hasAnnotation = this.state.selectedFile === "\u6709\u6279\u6CE8";
        return hasAnnotation ? unit && !!unit.annotationId : !unit || !unit.annotationId;
      } else if (this.state.groupMode === "tag") {
        const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
        return unit && unit.metadata.tags.includes(selected) || card.tags && card.tags.includes(selected) || card.deck === this.state.selectedFile || this.state.selectedFile === "\u672A\u5206\u7C7B" && (!card.tags || card.tags.length === 0) && !card.deck && (!unit || !unit.metadata.tags || unit.metadata.tags.length === 0);
      } else if (this.state.groupMode === "date") {
        return this.formatDate(new Date(card.metadata.createdAt)) === this.state.selectedFile;
      }
      return false;
    });
  }
  getVisibleItems() {
    if (this.state.viewType === "cards") {
      const cards = this.getFilteredCardsForSelectedGroup();
      return { cards };
    } else {
      const units = this.state.displayMode === "sidebar" ? this.getFilteredUnits() : this.getFilteredUnitsForSelectedGroup();
      return { units };
    }
  }
  // ==================== 业务逻辑方法 ====================
  async jumpToSource(unit) {
    await this.overviewService.jumpToSource(unit, this.app);
  }
  async jumpToFlashcardSource(card) {
    try {
      const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
      if (unit) {
        await this.jumpToSource(unit);
        return;
      }
      const file = this.app.vault.getAbstractFileByPath(card.sourceFile);
      if (!(file instanceof import_obsidian9.TFile)) {
        new import_obsidian9.Notice(this.t("notice.fileNotFound"));
        return;
      }
      const leaf = this.app.workspace.getLeaf(false);
      await leaf.openFile(file);
      if (card.anchorLink) {
        const blockIdMatch = card.anchorLink.match(/\^\S+/);
        if (blockIdMatch) {
          const blockId = blockIdMatch[0].substring(1);
          await new Promise((resolve) => setTimeout(resolve, 100));
          const view = this.app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView);
          if (view && view.editor) {
            const editor = view.editor;
            const content = editor.getValue();
            const lines = content.split("\n");
            for (let i = 0; i < lines.length; i++) {
              if (lines[i].includes(`^${blockId}`)) {
                editor.setCursor({ line: i, ch: 0 });
                editor.scrollIntoView({ from: { line: i, ch: 0 }, to: { line: i, ch: 0 } }, true);
                break;
              }
            }
          }
        }
      }
      new import_obsidian9.Notice(this.t("notice.jumpedToSource"));
    } catch (error) {
      console.error("Error jumping to flashcard source:", error);
      new import_obsidian9.Notice(this.t("notice.jumpFailed"));
    }
  }
  async saveAnnotation(unitId, content) {
    await this.overviewService.saveAnnotation(unitId, content);
  }
  async quickGenerateFlashcard(unit) {
    await this.overviewService.quickGenerateFlashcard(unit);
    requestAnimationFrame(() => {
      this.refresh();
    });
  }
  // ==================== 右键菜单 ====================
  showContextMenu(event, unit) {
    const callbacks = {
      onJumpToSource: (unit2) => this.jumpToSource(unit2),
      onToggleAnnotation: (unit2) => {
        if (!this.plugin.unlockSystem.tryUseFeature("annotation", "Annotation")) {
          return;
        }
        const card = event.target;
        const cardEl = card.closest(".compact-card, .grid-card");
        if (cardEl) {
          this.annotationEditor.toggle(cardEl, unit2);
        }
      },
      onEditFlashcard: (unit2) => {
        const cardId = unit2.flashcardIds[0];
        const card = this.plugin.flashcardManager.getFlashcard(cardId);
        if (card) {
          new EditFlashcardModal(this.app, this.plugin, card).open();
        } else {
          new import_obsidian9.Notice(this.t("notice.flashcardNotFound"));
        }
      },
      onQuickGenerate: (unit2) => this.quickGenerateFlashcard(unit2),
      onCreateQA: (unit2) => {
        new ManualFlashcardModal(this.app, this.plugin, unit2, "qa").open();
      },
      onCreateCloze: (unit2) => {
        new ManualFlashcardModal(this.app, this.plugin, unit2, "cloze").open();
      },
      onViewStats: () => {
        this.plugin.activateStats();
      },
      onDelete: async (unit2) => {
        if (confirm(this.t("confirm.deleteNote"))) {
          if (unit2.flashcardIds.length > 0) {
            for (const cardId of unit2.flashcardIds) {
              await this.plugin.flashcardManager.deleteCard(cardId);
            }
          }
          await this.plugin.dataManager.deleteContentUnit(unit2.id);
          new import_obsidian9.Notice(this.t("notice.deleted"));
          this.refresh();
        }
      }
    };
    const menu = ContextMenuBuilder.buildContentUnitMenu(unit, callbacks);
    menu.showAtMouseEvent(event);
  }
  openManualFlashcardModal(unit, type) {
    new ManualFlashcardModal(this.app, this.plugin, unit, type).open();
  }
  showFlashcardContextMenu(event, card) {
    const callbacks = {
      onJumpToSource: async (card2) => {
        await this.overviewService.jumpToFlashcardSource(card2.id, this.app);
      },
      onEdit: (card2) => {
        new EditFlashcardModal(this.app, this.plugin, card2).open();
      },
      onViewStats: (card2) => {
        const statsText = ContextMenuBuilder.formatFlashcardStats(card2);
        new import_obsidian9.Notice(statsText, 1e4);
      },
      onDelete: async (card2) => {
        if (confirm(this.t("confirm.deleteFlashcard"))) {
          await this.plugin.flashcardManager.deleteCard(card2.id);
          new import_obsidian9.Notice(this.t("notice.deleted"));
        }
      }
    };
    const menu = ContextMenuBuilder.buildFlashcardMenu(card, callbacks);
    menu.showAtMouseEvent(event);
  }
  openEditFlashcardModal(card) {
    new EditFlashcardModal(this.app, this.plugin, card).open();
  }
  // ==================== 批量操作 ====================
  async batchCreateFlashcards() {
    const units = Array.from(this.state.selectedUnitIds).map((id) => this.plugin.dataManager.getContentUnit(id)).filter((u) => u !== void 0 && u.flashcardIds.length === 0);
    if (units.length === 0) {
      new import_obsidian9.Notice(this.t("notice.alreadyHasFlashcards"));
      return;
    }
    const quickCreator = new QuickFlashcardCreator(this.plugin);
    const modal = new BatchCreateModal(
      this.app,
      this.plugin,
      quickCreator,
      units,
      () => {
        this.state.clearSelection();
        this.refresh();
      }
    );
    modal.open();
  }
  async batchDeleteNotes() {
    if (!confirm(this.t("confirm.batchDeleteNotes", { count: this.state.selectedUnitIds.size }))) {
      return;
    }
    const { success, failed } = await this.overviewService.batchDeleteNotes(
      this.state.selectedUnitIds
    );
    this.state.clearSelection();
    new import_obsidian9.Notice(this.t("notice.batchDeleted", { success, failed: failed > 0 ? failed : 0 }));
    this.refresh();
  }
  async batchDeleteFlashcards() {
    if (!confirm(this.t("confirm.batchDeleteFlashcards", { count: this.state.selectedCardIds.size }))) {
      return;
    }
    let success = 0;
    let failed = 0;
    for (const cardId of this.state.selectedCardIds) {
      try {
        await this.plugin.flashcardManager.deleteCard(cardId);
        success++;
      } catch (error) {
        console.error("Error deleting flashcard:", error);
        failed++;
      }
    }
    this.state.clearSelection();
    new import_obsidian9.Notice(this.t("notice.batchDeleted", { success, failed: failed > 0 ? failed : 0 }));
    this.refresh();
  }
  // ==================== 工具方法 ====================
  refreshRightPanel() {
    const container = this.containerEl.children[1];
    const rightPanel = container.querySelector(".right-panel");
    if (rightPanel) {
      rightPanel.empty();
      this.renderRightPanel(rightPanel);
    }
  }
  getFilteredCardsForCurrentFile() {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return [];
    }
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    return flashcards.filter((card) => card.sourceFile === this.state.selectedFile);
  }
  checkFilterHasNotes(mode) {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return true;
    }
    const units = this.plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === this.state.selectedFile);
    if (mode === "all") {
      return units.length > 0;
    } else if (mode === "annotated") {
      return units.some((u) => u.annotationId);
    } else if (mode === "flashcards") {
      return units.some((u) => u.flashcardIds.length > 0);
    }
    return true;
  }
  checkGroupHasNotes(mode) {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return true;
    }
    const units = this.plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === this.state.selectedFile);
    if (units.length === 0)
      return false;
    if (mode === "file") {
      return true;
    } else if (mode === "tag") {
      return units.some((u) => u.metadata.tags.length > 0);
    } else if (mode === "date") {
      return true;
    } else if (mode === "annotation") {
      return units.some((u) => u.annotationId);
    }
    return true;
  }
  getGroupIcon() {
    switch (this.state.groupMode) {
      case "file":
        return "\u{1F4C4}";
      case "annotation":
        return "\u{1F4AC}";
      case "tag":
        return "\u{1F3F7}\uFE0F";
      case "date":
        return "\u{1F4C5}";
      default:
        return "\u{1F4C1}";
    }
  }
  formatDate(date) {
    if (!date)
      return "";
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
  // ==================== 等级徽章显示 ====================
  /**
   * 判断是否显示完整的等级徽章
   * Lv1-4: 始终显示
   * Lv5: 达成后30分钟内显示，之后隐藏
   */
  shouldShowFullLevelBadge(progress) {
    if (progress.currentLevel < 5) {
      return true;
    }
    const lv5UnlockedTime = progress.levelUnlockedAt[5];
    if (!lv5UnlockedTime) {
      return false;
    }
    const now = Date.now();
    const thirtyMinutes = 30 * 60 * 1e3;
    return now - lv5UnlockedTime < thirtyMinutes;
  }
  /**
   * 渲染小型等级徽章（Lv5专用）
   */
  renderLevelBadge(container, progress) {
    const levelBadge = container.createDiv({ cls: "level-badge-icon" });
    const levelName = this.t(`level.${progress.currentLevel}`);
    levelBadge.textContent = `Lv${progress.currentLevel}`;
    levelBadge.title = `${this.t("level.current")}: ${levelName} - ${this.t("level.clickDetails")}`;
    levelBadge.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      new LevelInfoModal(this.app, progress, this.plugin.unlockSystem).open();
    });
  }
  // ==================== 复习检查 ====================
  // 每日提醒复习
  // 手动触发复习提醒检查
  checkReviewReminder() {
    const isDismissed = this.isReminderDismissedToday();
    if (isDismissed) {
      localStorage.removeItem("learning-system-reminder-dismissed");
    } else {
      this.markReminderDismissed();
    }
    this.refresh();
  }
  startReview() {
    this.plugin.activateReview();
  }
  markReminderDismissed() {
    const today = new Date().toDateString();
    localStorage.setItem("learning-system-reminder-dismissed", today);
  }
  isReminderDismissedToday() {
    const today = new Date().toDateString();
    const dismissed = localStorage.getItem("learning-system-reminder-dismissed");
    return dismissed === today;
  }
  insertReviewReminderAtTop(container) {
    if (this.isReminderDismissedToday())
      return;
    const dueCount = this.plugin.flashcardManager.getDueCards().length;
    if (dueCount === 0)
      return;
    const banner = this.createReviewBanner(dueCount);
    container.insertBefore(banner, container.firstChild);
    const divider2 = document.createElement("div");
    divider2.className = "review-divider";
    divider2.style.width = "100%";
    divider2.style.height = "1px";
    divider2.style.backgroundColor = "var(--background-modifier-border)";
    divider2.style.margin = "12px 0";
    if (banner.nextSibling) {
      container.insertBefore(divider2, banner.nextSibling);
    } else {
      container.appendChild(divider2);
    }
  }
  createReviewBanner(count) {
    const banner = document.createElement("div");
    banner.className = "content-list-review-reminder";
    const dueCards = this.plugin.flashcardManager.getDueCards();
    const actualDueCount = dueCards.length;
    const allCards = this.plugin.flashcardManager.getAllFlashcards();
    const today = new Date().setHours(0, 0, 0, 0);
    const todayDueCardIds = new Set(
      allCards.filter((card) => {
        const dueDate = new Date(card.scheduling.due).setHours(0, 0, 0, 0);
        return dueDate <= today;
      }).map((card) => card.id)
    );
    const reviewedToday = allCards.filter((card) => {
      if (!card.stats.lastReview)
        return false;
      const lastReviewDate = new Date(card.stats.lastReview).setHours(0, 0, 0, 0);
      return lastReviewDate === today && todayDueCardIds.has(card.id);
    }).length;
    const totalToday = reviewedToday + actualDueCount;
    const progressPercent = totalToday > 0 ? Math.round(reviewedToday / totalToday * 100) : 0;
    const mostUrgent = dueCards.length > 0 ? dueCards.reduce(
      (earliest, card) => card.scheduling.due < earliest ? card.scheduling.due : earliest,
      Date.now()
    ) : Date.now();
    const hoursSinceDue = Math.floor((Date.now() - mostUrgent) / (1e3 * 60 * 60));
    const delayText = this.getDelayText(hoursSinceDue);
    const streakDays = this.getReviewStreak();
    banner.innerHTML = `
  <div class="reminder-header">
    <div class="reminder-text">
      <strong>\u4ECA\u65E5\u590D\u4E60:${reviewedToday} / ${totalToday}</strong>  
    </div>
  </div>
  
  <div class="reminder-stats">
    <div class="stat-item delay-warning">
      ${delayText}
    </div>
    ${streakDays > 0 ? `
      <div class="stat-item streak-info">
        \u{1F525} \u8FDE\u7EED\u590D\u4E60\u7B2C ${streakDays} \u5929!
      </div>
    ` : ""}
  </div>
  
  <div class="reminder-actions">
    <button class="reminder-btn primary">\u5F00\u59CB\u590D\u4E60</button>
  </div>
`;
    banner.style.fontSize = "0.85em";
    const actions = banner.querySelector(".reminder-actions");
    if (actions) {
      actions.style.display = "flex";
      actions.style.justifyContent = "center";
    }
    banner.querySelector(".primary").addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      this.startReview();
      banner.remove();
      this.markReminderDismissed();
    });
    return banner;
  }
  // 新增辅助方法 1: 获取延后提示文本
  getDelayText(hoursSinceDue) {
    if (hoursSinceDue < 1) {
      return "\u23F0 \u521A\u521A\u5230\u671F\uFF0C\u8D81\u70ED\u590D\u4E60";
    } else if (hoursSinceDue < 6) {
      return `\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E ${hoursSinceDue} \u5C0F\u65F6\uFF0C\u73B0\u5728\u5904\u7406\u521A\u597D`;
    } else if (hoursSinceDue < 24) {
      return `\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E ${hoursSinceDue} \u5C0F\u65F6\uFF0C\u5EFA\u8BAE\u4F18\u5148\u5B8C\u6210`;
    } else {
      const days = Math.floor(hoursSinceDue / 24);
      return `\u{1F6A8} \u590D\u4E60\u5DF2\u5EF6\u540E ${days} \u5929\uFF0C\u5EFA\u8BAE\u5C3D\u5FEB\u6E05\u7A7A`;
    }
  }
  // 新增辅助方法 2: 获取连续复习天数
  getReviewStreak() {
    const allCards = this.plugin.flashcardManager.getAllFlashcards();
    const reviewDates = /* @__PURE__ */ new Set();
    allCards.forEach((card) => {
      if (card.stats.lastReview) {
        const dateStr = new Date(card.stats.lastReview).toLocaleDateString("zh-CN");
        reviewDates.add(dateStr);
      }
    });
    let streak = 0;
    let checkDate = new Date();
    while (streak < 365) {
      const dateStr = checkDate.toLocaleDateString("zh-CN");
      if (reviewDates.has(dateStr)) {
        streak++;
        checkDate.setDate(checkDate.getDate() - 1);
      } else {
        break;
      }
    }
    return streak;
  }
  t(key, params) {
    return t(key, this.plugin.settings.language, params);
  }
};

// src/ui/view/ReviewView.ts
var import_obsidian11 = require("obsidian");

// src/core/CardScheduler.ts
var CardScheduler = class {
  /**
   * 计算下次复习时间（基于 SM-2 算法）
   */
  schedule(card, ease, timeSpent, userAnswer) {
    const oldScheduling = { ...card.scheduling };
    const newScheduling = { ...card.scheduling };
    const now = Date.now();
    card.stats.totalReviews++;
    card.stats.lastReview = now;
    const totalTime = card.stats.averageTime * (card.stats.totalReviews - 1) + timeSpent;
    card.stats.averageTime = totalTime / card.stats.totalReviews;
    switch (ease) {
      case "again":
        this.scheduleAgain(newScheduling, card.stats);
        break;
      case "hard":
        this.scheduleHard(newScheduling, card.stats);
        break;
      case "good":
        this.scheduleGood(newScheduling, card.stats);
        break;
      case "easy":
        this.scheduleEasy(newScheduling, card.stats);
        break;
    }
    card.scheduling = newScheduling;
    card.metadata.updatedAt = now;
    const reviewLog = {
      flashcardId: card.id,
      timestamp: now,
      response: {
        userAnswer,
        timeSpent,
        ease
      },
      schedulingChange: {
        oldInterval: oldScheduling.interval,
        newInterval: newScheduling.interval,
        oldEase: oldScheduling.ease,
        newEase: newScheduling.ease
      }
    };
    return { updatedCard: card, reviewLog };
  }
  /**
   * Again - 完全忘记
   */
  scheduleAgain(scheduling, stats) {
    scheduling.interval = 1;
    scheduling.ease = Math.max(1.3, scheduling.ease - 0.2);
    scheduling.due = Date.now() + scheduling.interval * 60 * 1e3;
    scheduling.lapses++;
    scheduling.reps++;
    if (scheduling.state === "new") {
      scheduling.state = "learning";
    } else {
      scheduling.state = "relearning";
    }
    stats.difficulty = Math.min(1, stats.difficulty + 0.1);
  }
  /**
   * Hard - 困难
   */
  scheduleHard(scheduling, stats) {
    scheduling.reps++;
    if (scheduling.state === "new" || scheduling.state === "learning") {
      scheduling.interval = 10;
      scheduling.due = Date.now() + 10 * 60 * 1e3;
      scheduling.state = "learning";
    } else {
      scheduling.interval = Math.max(1, scheduling.interval * 1.2);
      scheduling.ease = Math.max(1.3, scheduling.ease - 0.15);
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    }
    stats.difficulty = Math.min(1, stats.difficulty + 0.05);
    stats.correctCount += 0.5;
  }
  /**
   * Good - 正确
   */
  scheduleGood(scheduling, stats) {
    scheduling.reps++;
    stats.correctCount++;
    if (scheduling.state === "new") {
      scheduling.interval = 1;
      scheduling.due = Date.now() + 1 * 24 * 60 * 60 * 1e3;
      scheduling.state = "learning";
    } else if (scheduling.state === "learning") {
      if (scheduling.interval < 1) {
        scheduling.interval = 1;
      } else {
        scheduling.interval = 3;
      }
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else {
      scheduling.interval = scheduling.interval * scheduling.ease;
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.ease = scheduling.ease + 0.1;
      scheduling.state = "review";
    }
    stats.difficulty = Math.max(0, stats.difficulty - 0.05);
  }
  /**
   * Easy - 非常简单
   */
  scheduleEasy(scheduling, stats) {
    scheduling.reps++;
    stats.correctCount++;
    if (scheduling.state === "new") {
      scheduling.interval = 4;
      scheduling.due = Date.now() + 4 * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else if (scheduling.state === "learning") {
      scheduling.interval = 7;
      scheduling.due = Date.now() + 7 * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else {
      scheduling.interval = scheduling.interval * (scheduling.ease + 0.3);
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.ease = scheduling.ease + 0.15;
      scheduling.state = "review";
    }
    stats.difficulty = Math.max(0, stats.difficulty - 0.1);
  }
  /**
   * 评估用户答案（用于输入答案模式）
   */
  /**
   * 评估用户答案(用于输入答案模式)
   */
  evaluateAnswer(correctAnswer, userAnswer) {
    if (Array.isArray(correctAnswer) && Array.isArray(userAnswer)) {
      let correctCount = 0;
      const total = correctAnswer.length;
      for (let i = 0; i < total; i++) {
        const evaluation = this.evaluateSingleAnswer(
          correctAnswer[i],
          userAnswer[i] || ""
        );
        if (evaluation.similarity >= 0.9)
          correctCount++;
        else if (evaluation.similarity >= 0.6)
          correctCount += 0.5;
      }
      const overallSimilarity = correctCount / total;
      if (overallSimilarity >= 0.9) {
        return { correctness: "correct", similarity: overallSimilarity };
      } else if (overallSimilarity >= 0.6) {
        return { correctness: "partial", similarity: overallSimilarity };
      } else {
        return { correctness: "wrong", similarity: overallSimilarity };
      }
    }
    return this.evaluateSingleAnswer(
      correctAnswer,
      userAnswer
    );
  }
  /**
   * 🆕 评估单个答案(支持 "/" 分隔的多个正确答案)
   */
  evaluateSingleAnswer(correctAnswer, userAnswer) {
    const correct = this.normalize(correctAnswer);
    const user = this.normalize(userAnswer);
    if (user.length === 0) {
      return { correctness: "wrong", similarity: 0 };
    }
    if (correctAnswer.includes("/") || correctAnswer.includes("|")) {
      const alternatives = correctAnswer.split(/[\/|]/).map((alt) => this.normalize(alt.trim())).filter((alt) => alt.length > 0);
      let maxSimilarity = 0;
      for (const alternative of alternatives) {
        if (user === alternative) {
          return { correctness: "correct", similarity: 1 };
        }
        const similarity2 = this.calculateSimilarity(alternative, user);
        maxSimilarity = Math.max(maxSimilarity, similarity2);
      }
      if (maxSimilarity >= 0.9) {
        return { correctness: "correct", similarity: maxSimilarity };
      } else if (maxSimilarity >= 0.7) {
        return { correctness: "partial", similarity: maxSimilarity };
      } else {
        return { correctness: "wrong", similarity: maxSimilarity };
      }
    }
    const lengthRatio = Math.min(user.length, correct.length) / Math.max(user.length, correct.length);
    if (lengthRatio < 0.3 && user.length < 6) {
      return { correctness: "wrong", similarity: 0 };
    }
    const similarity = this.calculateSimilarity(correct, user);
    const coverage = this.calculateTokenCoverage(correct, user);
    if (similarity >= 0.9) {
      return { correctness: "correct", similarity };
    }
    if (similarity < 0.7 && coverage >= 0.6) {
      return { correctness: "partial", similarity };
    }
    if (similarity >= 0.7) {
      return { correctness: "partial", similarity };
    }
    return { correctness: "wrong", similarity };
  }
  /**
   * 标准化文本
   */
  normalize(text) {
    return text.toLowerCase().trim().replace(/\s+/g, " ").replace(/\n+/g, " ").replace(/[，。！？、；：""''（）《》【】\.,!?;:"'()\[\]{}]/g, "");
  }
  /**
   * 计算相似度（Levenshtein 距离）
   */
  calculateSimilarity(str1, str2) {
    if (str1 === str2)
      return 1;
    if (str1.length === 0 || str2.length === 0)
      return 0;
    const matrix = [];
    for (let i = 0; i <= str2.length; i++) {
      matrix[i] = [i];
    }
    for (let j = 0; j <= str1.length; j++) {
      matrix[0][j] = j;
    }
    for (let i = 1; i <= str2.length; i++) {
      for (let j = 1; j <= str1.length; j++) {
        if (str2.charAt(i - 1) === str1.charAt(j - 1)) {
          matrix[i][j] = matrix[i - 1][j - 1];
        } else {
          matrix[i][j] = Math.min(
            matrix[i - 1][j - 1] + 1,
            // 替换
            matrix[i][j - 1] + 1,
            // 插入
            matrix[i - 1][j] + 1
            // 删除
          );
        }
      }
    }
    const distance = matrix[str2.length][str1.length];
    const maxLength = Math.max(str1.length, str2.length);
    return 1 - distance / maxLength;
  }
  /**
   * 计算关键词覆盖率
   * 用户答案中命中了多少标准答案的词
   */
  calculateTokenCoverage(correct, user) {
    const correctTokens = correct.split(" ").filter((t2) => t2.length > 1);
    const userTokens = new Set(user.split(" "));
    if (correctTokens.length === 0)
      return 0;
    let hit = 0;
    for (const token of correctTokens) {
      if (userTokens.has(token))
        hit++;
    }
    return hit / correctTokens.length;
  }
  /**
   * 根据相似度建议难度
   */
  suggestEase(similarity) {
    if (similarity >= 0.8)
      return "easy";
    if (similarity >= 0.7)
      return "good";
    if (similarity >= 0.5)
      return "hard";
    return "again";
  }
};

// src/ui/components/modals/FlashcardEditModal.ts
var import_obsidian10 = require("obsidian");
var FlashcardEditModal = class extends import_obsidian10.Modal {
  constructor(app, card, onSubmit) {
    super(app);
    this.card = card;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    var _a, _b;
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h3", { text: "\u7F16\u8F91\u95EA\u5361" });
    contentEl.createEl("label", { text: "\u95EE\u9898" });
    const questionInput = contentEl.createEl("textarea");
    questionInput.value = this.card.front;
    contentEl.createEl("label", { text: "\u7B54\u6848" });
    const answerInput = contentEl.createEl("textarea");
    answerInput.value = this.card.type === "cloze" ? (_b = (_a = this.card.back) == null ? void 0 : _a[0]) != null ? _b : "" : this.card.back;
    const saveBtn = contentEl.createEl("button", { text: "\u4FDD\u5B58" });
    saveBtn.onclick = () => {
      this.onSubmit(
        questionInput.value.trim(),
        answerInput.value.trim()
      );
      this.close();
    };
  }
  onClose() {
    this.contentEl.empty();
  }
};

// src/ui/state/reviewStateManager.ts
var ReviewStateManager = class {
  // ✅ 新增缓存
  constructor() {
    this.answerCache = /* @__PURE__ */ new Map();
    this.state = this.createInitialState();
  }
  createInitialState() {
    return {
      showAnswer: false,
      startTime: 0,
      userAnswers: [],
      userAnswer: ""
    };
  }
  getState() {
    return this.state;
  }
  reset() {
    this.state = this.createInitialState();
  }
  // ✅ 保存当前卡片的答案到缓存
  saveAnswerToCache(cardId) {
    this.answerCache.set(cardId, {
      userAnswer: this.state.userAnswer,
      userAnswers: [...this.state.userAnswers]
    });
  }
  // ✅ 从缓存恢复答案
  restoreAnswerFromCache(cardId) {
    const cached = this.answerCache.get(cardId);
    if (cached) {
      this.state.userAnswer = cached.userAnswer;
      this.state.userAnswers = [...cached.userAnswers];
    } else {
    }
  }
  // ✅ 清除指定卡片的缓存
  clearCache(cardId) {
    this.answerCache.delete(cardId);
  }
  updateForNewCard(newCard, isSameCard, direction) {
    if (!isSameCard) {
      if (direction === "prev") {
        this.restoreAnswerFromCache(newCard.id);
      } else {
        this.state.showAnswer = false;
        this.state.userAnswer = "";
        if (newCard.type === "cloze" && newCard.cloze) {
          this.state.userAnswers = new Array(
            newCard.cloze.deletions.length
          ).fill("");
        } else {
          this.state.userAnswers = [];
        }
      }
    }
    this.state.startTime = Date.now();
  }
  setShowAnswer(show) {
    this.state.showAnswer = show;
  }
  setUserAnswer(answer) {
    this.state.userAnswer = answer;
  }
  setUserAnswers(answers) {
    this.state.userAnswers = answers;
  }
  updateUserAnswerAtIndex(index, value) {
    this.state.userAnswers[index] = value;
  }
  ensureUserAnswersLength(length) {
    if (this.state.userAnswers.length < length) {
      this.state.userAnswers = new Array(length).fill("");
    }
  }
  getTimeSpent() {
    return (Date.now() - this.state.startTime) / 1e3;
  }
};

// src/ui/components/TableRenderer.ts
var TableRenderer = class {
  // 检测是否为表格格式
  static isTableFormat(text) {
    const lines = text.trim().split("\n");
    if (lines.length < 2)
      return false;
    const hasSeparator = lines.some((line) => /^\|?[\s-:|]+\|?$/.test(line.trim()));
    const pipeLines = lines.filter((line) => line.includes("|")).length;
    return hasSeparator || pipeLines >= lines.length * 0.7;
  }
  // 渲染表格
  static renderTable(markdown, showAnswer = false) {
    const container = document.createElement("div");
    if (!(markdown == null ? void 0 : markdown.trim())) {
      container.textContent = "(empty table)";
      return container;
    }
    const lines = markdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = markdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table"
    });
    const separatorIndex = this.findSeparatorIndex(lines);
    if (separatorIndex > 0) {
      this.renderTableWithHeader(table, lines, separatorIndex, showAnswer);
    } else {
      this.renderTableWithoutHeader(table, lines, showAnswer);
    }
    return container;
  }
  // 查找分隔符位置
  static findSeparatorIndex(lines) {
    return lines.findIndex((line) => {
      const cleaned = line.replace(/[\s|]/g, "");
      return cleaned.length >= 3 && /^[-:]+$/.test(cleaned);
    });
  }
  // 渲染带表头的表格
  static renderTableWithHeader(table, lines, separatorIndex, showAnswer) {
    const headerCells = this.parseCells(lines[separatorIndex - 1]);
    const thead = table.createEl("thead");
    const headerRow = thead.createEl("tr");
    headerCells.forEach((cell) => {
      const th = headerRow.createEl("th");
      th.innerHTML = this.processCellContent(cell, showAnswer);
    });
    const tbody = table.createEl("tbody");
    for (let i = separatorIndex + 1; i < lines.length; i++) {
      this.renderTableRow(tbody, lines[i], showAnswer);
    }
  }
  // 渲染无表头的表格
  static renderTableWithoutHeader(table, lines, showAnswer) {
    const tbody = table.createEl("tbody");
    lines.forEach((line) => this.renderTableRow(tbody, line, showAnswer));
  }
  // 渲染单行
  static renderTableRow(tbody, line, showAnswer) {
    if (!line.trim())
      return;
    const cells = this.parseCells(line);
    if (cells.length === 0)
      return;
    const row = tbody.createEl("tr");
    cells.forEach((cell) => {
      const td = row.createEl("td");
      td.innerHTML = this.processCellContent(cell, showAnswer);
    });
  }
  // 解析单元格
  static parseCells(line) {
    let trimmed = line.trim();
    if (trimmed.startsWith("|"))
      trimmed = trimmed.slice(1);
    if (trimmed.endsWith("|"))
      trimmed = trimmed.slice(0, -1);
    const cells = trimmed.split("|").map((c) => c.trim()).filter((c) => c.length > 0);
    return cells;
  }
  // 处理单元格内容
  static processCellContent(cell, showAnswer) {
    if (!cell.includes("==")) {
      return cell;
    }
    if (showAnswer) {
      const result = cell.replace(/==([^=]+)==/g, '<span class="revealed">$1</span>');
      return result;
    } else {
      const result = cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>');
      return result;
    }
  }
  // 渲染带用户答案的表格（完形填空用）
  static renderTableWithUserAnswers(originalMarkdown, deletions, userAnswers, scheduler) {
    const container = document.createElement("div");
    const lines = originalMarkdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = originalMarkdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table user-answer-table"
    });
    const separatorIndex = this.findSeparatorIndex(lines);
    let deletionIndex = 0;
    if (separatorIndex > 0) {
      const headerCells = this.parseCells(lines[separatorIndex - 1]);
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      let headerIndex = 0;
      headerCells.forEach((cell) => {
        const th = headerRow.createEl("th");
        const result = this.processCellWithUserAnswerAndClass(
          cell,
          deletions,
          userAnswers,
          deletionIndex,
          scheduler
        );
        th.innerHTML = result.html;
        if (result.correctnessClass) {
          th.classList.add(result.correctnessClass);
        }
        if (cell.includes("==")) {
          deletionIndex++;
        }
      });
    }
    const tbody = table.createEl("tbody");
    const startRow = separatorIndex > 0 ? separatorIndex + 1 : 0;
    for (let i = startRow; i < lines.length; i++) {
      const line = lines[i];
      if (!line.trim())
        continue;
      const cells = this.parseCells(line);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell) => {
        const td = row.createEl("td");
        const result = this.processCellWithUserAnswerAndClass(
          cell,
          deletions,
          userAnswers,
          deletionIndex,
          scheduler
        );
        td.innerHTML = result.html;
        if (result.correctnessClass) {
          td.classList.add(result.correctnessClass);
        }
        if (cell.includes("==")) {
          deletionIndex++;
        }
      });
    }
    return container;
  }
  // 处理带用户答案的单元格
  static processCellWithUserAnswer(cell, deletions, userAnswers, deletionIndex, scheduler) {
    if (!cell.includes("=="))
      return cell;
    const match = cell.match(/==([^=]+)==/);
    if (!match || deletionIndex >= deletions.length) {
      return cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>');
    }
    const correctAnswer = deletions[deletionIndex].answer;
    const userAnswer = userAnswers[deletionIndex] || "";
    const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
    const displayText = userAnswer || "(empty)";
    const correctnessClass = evaluation.correctness;
    return cell.replace(
      /==([^=]+)==/g,
      `<span class="user-answer-cell ${correctnessClass}">${displayText}</span>`
    );
  }
  // 处理带用户答案的单元格(返回 HTML 和正确性类)
  static processCellWithUserAnswerAndClass(cell, deletions, userAnswers, deletionIndex, scheduler) {
    const match = cell.match(/==([^=]+)==/);
    if (!match) {
      return { html: cell, correctnessClass: null };
    }
    if (!match || deletionIndex >= deletions.length) {
      return {
        html: cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>'),
        correctnessClass: null
      };
    }
    const correctAnswer = deletions[deletionIndex].answer;
    const userAnswer = userAnswers[deletionIndex] || "";
    const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
    const displayText = userAnswer || "(empty)";
    const correctnessClass = evaluation.correctness;
    const html = cell.replace(
      /==([^=]+)==/g,
      `<span class="user-answer-cell ${correctnessClass}">${displayText}</span>`
    );
    return { html, correctnessClass: `cell-${correctnessClass}` };
  }
};

// src/ui/components/reviewCardRender.ts
var ClozeCardRenderer = class {
  renderQuestion(container, card, state, updateState) {
    var _a;
    const questionText = container.createDiv({ cls: "question-text" });
    const isTable = TableRenderer.isTableFormat(card.front);
    if (isTable) {
      const tableEl = this.renderTableWithInputPreview(
        card.front,
        ((_a = card.cloze) == null ? void 0 : _a.deletions) || [],
        state
      );
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    } else {
      const tableEl = TableRenderer.renderTable(card.front, false);
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    }
    if (card.cloze) {
      const actualBlankCount = (card.cloze.original.match(/==[^=]+==/g) || []).length;
      const blankCount = Math.max(actualBlankCount, card.cloze.deletions.length);
      if (state.userAnswers.length !== blankCount) {
        state.userAnswers = new Array(blankCount).fill("");
      }
      const inputArea = container.createDiv({ cls: "cloze-input-area" });
      inputArea.createEl("h4", { text: `Fill in the blanks (${blankCount} total):` });
      const hint = inputArea.createEl("div", { cls: "cloze-input-hint" });
      const singleInputGroup = inputArea.createDiv({ cls: "single-input-group" });
      const initialValue = state.userAnswers.filter((a) => a).join(" | ");
      const input = singleInputGroup.createEl("input", {
        type: "text",
        placeholder: `Enter all ${blankCount} answers separated by |, comma, or spaces...`,
        cls: "cloze-single-input",
        value: initialValue
      });
      const updatePreview = (inputValue) => {
        var _a2;
        const parts = this.parseMultipleAnswers(inputValue, blankCount);
        updateState.setUserAnswers(parts);
        if (isTable) {
          questionText.empty();
          const updatedTableEl = this.renderTableWithInputPreview(
            card.front,
            ((_a2 = card.cloze) == null ? void 0 : _a2.deletions) || [],
            state
          );
          questionText.appendChild(updatedTableEl);
        }
      };
      input.addEventListener("input", (e) => {
        const inputValue = e.target.value;
        updatePreview(inputValue);
      });
      updatePreview(initialValue);
      setTimeout(() => input.focus(), 50);
    }
  }
  // ← 添加新方法:渲染带输入预览的表格
  renderTableWithInputPreview(markdown, deletions, state) {
    const container = document.createElement("div");
    if (!(markdown == null ? void 0 : markdown.trim())) {
      container.textContent = "(empty table)";
      return container;
    }
    const lines = markdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = markdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table preview-table"
    });
    const separatorIndex = lines.findIndex((line) => {
      const cleaned = line.replace(/[\s|]/g, "");
      return cleaned.length >= 3 && /^[-:]+$/.test(cleaned);
    });
    let deletionIndex = 0;
    if (separatorIndex > 0) {
      const headerCells = this.parseCells(lines[separatorIndex - 1]);
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      headerCells.forEach((cell) => {
        const th = headerRow.createEl("th");
        const rendered = this.renderCellWithPreview(cell, state.userAnswers, deletionIndex);
        th.innerHTML = rendered.html;
        if (rendered.hasBlank)
          deletionIndex++;
      });
    }
    const tbody = table.createEl("tbody");
    const startRow = separatorIndex > 0 ? separatorIndex + 1 : 0;
    for (let i = startRow; i < lines.length; i++) {
      const line = lines[i];
      if (!line.trim())
        continue;
      const cells = this.parseCells(line);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell) => {
        const td = row.createEl("td");
        const rendered = this.renderCellWithPreview(cell, state.userAnswers, deletionIndex);
        td.innerHTML = rendered.html;
        if (rendered.hasBlank)
          deletionIndex++;
      });
    }
    return container;
  }
  // ← 添加辅助方法:解析单元格
  parseCells(line) {
    let trimmed = line.trim();
    if (trimmed.startsWith("|"))
      trimmed = trimmed.slice(1);
    if (trimmed.endsWith("|"))
      trimmed = trimmed.slice(0, -1);
    return trimmed.split("|").map((c) => c.trim()).filter((c) => c.length > 0);
  }
  // ← 添加辅助方法:渲染带预览的单元格
  renderCellWithPreview(cell, userAnswers, deletionIndex) {
    const match = cell.match(/==([^=]+)==/);
    if (!match) {
      return { html: cell, hasBlank: false };
    }
    const userAnswer = userAnswers[deletionIndex] || "";
    const displayText = userAnswer ? `<span class="preview-answer">${userAnswer}</span>` : '<span class="cloze-blank"></span>';
    const html = cell.replace(/==([^=]+)==/g, displayText);
    return { html, hasBlank: true };
  }
  // ← 添加新的辅助方法:解析多答案输入
  parseMultipleAnswers(input, expectedCount) {
    if (!input.trim()) {
      return new Array(expectedCount).fill("");
    }
    let normalized = input.replace(/,/g, "|").replace(/,/g, "|").replace(/\s{2,}/g, "|");
    const parts = normalized.split("|").map((s) => s.trim());
    const result = new Array(expectedCount).fill("");
    for (let i = 0; i < Math.min(parts.length, expectedCount); i++) {
      result[i] = parts[i];
    }
    return result;
  }
  renderAnswer(container, card, state, scheduler) {
    if (!card.cloze)
      return;
    const answerArea = container.createDiv({ cls: "answer-area" });
    const isOriginalTable = TableRenderer.isTableFormat(card.cloze.original);
    if (isOriginalTable) {
      this.renderTableAnswer(answerArea, card, state, scheduler);
    } else {
      this.renderTextAnswer(answerArea, card, state, scheduler);
    }
  }
  renderTableAnswer(answerArea, card, state, scheduler) {
    const columnsContainer = answerArea.createDiv({ cls: "cloze-table-columns" });
    const correctColumn = columnsContainer.createDiv({ cls: "qa-column" });
    correctColumn.createEl("h4", { text: "Correct Answer:", cls: "column-label" });
    const correctDiv = correctColumn.createDiv({ cls: "comparison-item" });
    const tableEl = TableRenderer.renderTable(card.cloze.original, true);
    correctDiv.appendChild(tableEl);
    correctDiv.classList.add("table-answer");
    const userColumn = columnsContainer.createDiv({ cls: "qa-column" });
    userColumn.createEl("h4", { text: "Your Answer:", cls: "column-label" });
    const userDiv = userColumn.createDiv({ cls: "comparison-item" });
    const actualAnswers = this.extractClozeAnswers(card.cloze.original);
    const constructedDeletions = actualAnswers.map((answer) => ({ answer }));
    const normalizedAnswers = new Array(actualAnswers.length).fill("");
    for (let i = 0; i < Math.min(state.userAnswers.length, normalizedAnswers.length); i++) {
      normalizedAnswers[i] = state.userAnswers[i] || "";
    }
    const userTableEl = TableRenderer.renderTableWithUserAnswers(
      card.cloze.original,
      constructedDeletions,
      // ← 使用构建的 deletions
      normalizedAnswers,
      scheduler
    );
    userDiv.appendChild(userTableEl);
    userDiv.classList.add("table-answer");
    this.renderDetailedComparison(answerArea, card, state, scheduler);
  }
  renderTextAnswer(answerArea, card, state, scheduler) {
    const fullText = answerArea.createDiv({ cls: "full-text" });
    fullText.textContent = card.cloze.original;
    this.renderDetailedComparison(answerArea, card, state, scheduler);
  }
  renderDetailedComparison(answerArea, card, state, scheduler) {
    if (state.userAnswers.length === 0)
      return;
    const comparison = answerArea.createDiv({ cls: "answer-comparison" });
    comparison.createEl("h4", { text: "Answer Details:" });
    const actualAnswers = this.extractClozeAnswers(card.cloze.original);
    const maxCount = Math.max(actualAnswers.length, state.userAnswers.length);
    for (let index = 0; index < maxCount; index++) {
      const item = comparison.createDiv({ cls: "comparison-item" });
      item.createSpan({ text: `${index + 1}. ` });
      const userAnswer = state.userAnswers[index] || "";
      const correctAnswer = actualAnswers[index] || "";
      if (!correctAnswer) {
        item.createEl("span", {
          text: userAnswer || "(empty)",
          cls: "user-answer  ${evaluation.correctness}"
        });
        item.createSpan({ text: " \u2192 " });
        item.createEl("span", {
          text: "(no blank here)",
          cls: "correct-answer"
        });
        continue;
      }
      const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
      item.createEl("span", {
        text: userAnswer || "(empty)",
        cls: `user-answer ${evaluation.correctness}`
      });
      item.createSpan({ text: " \u2192 " });
      item.createEl("span", {
        text: correctAnswer,
        cls: "correct-answer"
      });
      if (evaluation.correctness === "partial") {
        item.createEl("small", {
          text: ` (${Math.round(evaluation.similarity * 100)}% match)`,
          cls: "similarity-info"
        });
      }
    }
  }
  // ← 添加新方法:从原始文本提取所有挖空答案
  extractClozeAnswers(originalText) {
    const matches = originalText.match(/==([^=]+)==/g);
    if (!matches)
      return [];
    return matches.map((match) => {
      return match.replace(/==/g, "").trim();
    });
  }
};
var QACardRenderer = class {
  renderQuestion(container, card, state, updateState) {
    const questionText = container.createDiv({ cls: "question-text" });
    const isTable = TableRenderer.isTableFormat(card.front);
    if (isTable) {
      const tableEl = TableRenderer.renderTable(card.front, false);
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    } else {
      questionText.textContent = card.front;
    }
    const inputArea = container.createDiv({ cls: "qa-input-area" });
    inputArea.createEl("h4", { text: "Your Answer:" });
    const textarea = inputArea.createEl("textarea", {
      placeholder: "Type your answer here...",
      cls: "qa-input",
      value: state.userAnswer
    });
    textarea.addEventListener("input", (e) => {
      updateState.setUserAnswer(e.target.value);
    });
    setTimeout(() => textarea.focus(), 50);
  }
  renderAnswer(container, card, state, scheduler) {
    const answerArea = container.createDiv({ cls: "answer-area" });
    const correctAnswer = Array.isArray(card.back) ? card.back[0] || card.back.join("\n") : card.back;
    const isTable = TableRenderer.isTableFormat(correctAnswer);
    const evaluation = state.userAnswer.trim() ? scheduler.evaluateAnswer(correctAnswer, state.userAnswer) : null;
    const comparison = answerArea.createDiv({
      cls: "answer-comparison qa-comparison"
    });
    const columnsContainer = comparison.createDiv({ cls: "qa-columns-container" });
    this.renderCorrectAnswerColumn(columnsContainer, correctAnswer, isTable);
    this.renderUserAnswerColumn(
      columnsContainer,
      state.userAnswer,
      isTable,
      evaluation
    );
    if ((evaluation == null ? void 0 : evaluation.correctness) === "partial") {
      const similarityInfo = comparison.createEl("div", {
        cls: "similarity-info qa-similarity"
      });
      similarityInfo.textContent = `Similarity: ${Math.round(evaluation.similarity * 100)}%`;
    }
  }
  renderCorrectAnswerColumn(container, correctAnswer, isTable) {
    const correctColumn = container.createDiv({ cls: "qa-column" });
    correctColumn.createEl("h4", { text: "Correct Answer:", cls: "column-label" });
    const correctAnswerDiv = correctColumn.createDiv({ cls: "comparison-item" });
    if (isTable) {
      const tableEl = TableRenderer.renderTable(correctAnswer, true);
      correctAnswerDiv.appendChild(tableEl);
      correctAnswerDiv.classList.add("table-answer");
    } else {
      correctAnswerDiv.createEl("div", {
        text: correctAnswer,
        cls: "correct-answer qa-correct-answer"
      });
    }
  }
  renderUserAnswerColumn(container, userAnswer, isTable, evaluation) {
    const userColumn = container.createDiv({ cls: "qa-column" });
    userColumn.createEl("h4", { text: "Your Answer:", cls: "column-label" });
    const userAnswerDiv = userColumn.createDiv({ cls: "comparison-item" });
    const isUserAnswerTable = TableRenderer.isTableFormat(userAnswer.trim());
    const shouldRenderAsTable = isUserAnswerTable || isTable && userAnswer.trim();
    if (shouldRenderAsTable && userAnswer.trim()) {
      try {
        const userTableEl = TableRenderer.renderTable(userAnswer, true);
        userAnswerDiv.appendChild(userTableEl);
        userAnswerDiv.classList.add("table-answer");
        if (evaluation) {
          userAnswerDiv.classList.add("user-answer", evaluation.correctness);
        }
      } catch (error) {
        this.renderTextUserAnswer(userAnswerDiv, userAnswer, evaluation);
      }
    } else {
      this.renderTextUserAnswer(userAnswerDiv, userAnswer, evaluation);
    }
  }
  renderTextUserAnswer(container, userAnswer, evaluation) {
    const userAnswerElement = container.createEl("div", {
      text: userAnswer.trim() || "(no answer provided)",
      cls: "qa-user-answer"
    });
    if (evaluation) {
      userAnswerElement.classList.add("user-answer", evaluation.correctness);
    } else {
      userAnswerElement.classList.add("no-answer");
    }
  }
};
var CardRendererFactory = class {
  static getRenderer(cardType) {
    const renderer = this.renderers.get(cardType);
    if (!renderer) {
      throw new Error(`Unknown card type: ${cardType}`);
    }
    return renderer;
  }
};
CardRendererFactory.renderers = /* @__PURE__ */ new Map([
  ["cloze", new ClozeCardRenderer()],
  ["qa", new QACardRenderer()]
]);

// src/ui/view/ReviewView.ts
var VIEW_TYPE_REVIEW = "learning-system-review";
var ReviewView = class extends import_obsidian11.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.dueCards = [];
    this.currentCardIndex = 0;
    this.currentCard = null;
    this.stateManager = new ReviewStateManager();
    // ============================================================================
    // 键盘处理
    // ============================================================================
    this.keyboardHandler = (e) => {
      const target = e.target;
      const isInInput = target.tagName === "INPUT" || target.tagName === "TEXTAREA";
      if (e.key === "Tab") {
        e.preventDefault();
        if (e.shiftKey) {
          this.go("prev");
        } else {
          this.go("next");
        }
        return;
      }
      if (this.stateManager.getState().showAnswer && !isInInput) {
        const ratingMap = {
          "1": "again",
          "2": "hard",
          "3": "good",
          "4": "easy"
        };
        if (ratingMap[e.key]) {
          e.preventDefault();
          this.submitReview(ratingMap[e.key]);
        }
      }
    };
    this.plugin = plugin;
    this.scheduler = new CardScheduler();
  }
  getViewType() {
    return VIEW_TYPE_REVIEW;
  }
  getDisplayText() {
    return "Flashcard Review";
  }
  getIcon() {
    return "layers";
  }
  async onOpen() {
    await this.loadDueCards();
    reviewStyle.inject();
    this.render();
    this.registerKeyboardHandlers();
  }
  async onClose() {
    document.removeEventListener("keydown", this.keyboardHandler);
  }
  // ============================================================================
  // 状态管理
  // ============================================================================
  resetReviewState() {
    this.stateManager.reset();
  }
  updateCurrentCard(direction = "next") {
    var _a;
    const newCard = this.dueCards[this.currentCardIndex];
    const isSameCard = ((_a = this.currentCard) == null ? void 0 : _a.id) === (newCard == null ? void 0 : newCard.id);
    this.stateManager.updateForNewCard(newCard, isSameCard, direction);
    this.currentCard = newCard;
  }
  // ============================================================================
  // 数据加载
  // ============================================================================
  async loadDueCards() {
    this.dueCards = this.plugin.flashcardManager.getDueCards();
    this.currentCardIndex = 0;
    this.resetReviewState();
    this.stateManager.reset();
    this.updateCurrentCard("next");
  }
  // ============================================================================
  // 渲染逻辑
  // ============================================================================
  render() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("review-container");
    if (this.dueCards.length === 0) {
      this.renderNoDueCards(container);
      return;
    }
    this.renderProgress(container);
    const cardArea = container.createDiv({ cls: "card-area" });
    this.renderTopActions(cardArea);
    if (this.stateManager.getState().showAnswer) {
      this.renderAnswerView(cardArea);
    } else {
      this.renderQuestionView(cardArea);
    }
  }
  renderNoDueCards(container) {
    const emptyState = container.createDiv({ cls: "empty-state" });
    emptyState.createEl("h2", { text: "\u{1F389} All Done!" });
    emptyState.createEl("p", { text: "No cards due for review right now." });
    const stats = this.plugin.flashcardManager.getStats();
    const statsDiv = emptyState.createDiv({ cls: "stats-summary" });
    statsDiv.createEl("p", { text: `Total cards: ${stats.total}` });
    statsDiv.createEl("p", { text: `New cards: ${stats.new}` });
    statsDiv.createEl("p", { text: `Reviewed today: ${stats.reviewedToday}` });
    const closeBtn = emptyState.createEl("button", {
      text: "Close Review",
      cls: "mod-cta"
    });
    closeBtn.onclick = () => {
      var _a;
      (_a = this.leaf) == null ? void 0 : _a.detach();
    };
  }
  renderProgress(container) {
    const progressBar = container.createDiv({ cls: "progress-bar" });
    const stats = progressBar.createDiv({ cls: "progress-stats" });
    stats.createSpan({
      text: `${this.currentCardIndex + 1} / ${this.dueCards.length}`,
      cls: "progress-text"
    });
    const barContainer = progressBar.createDiv({ cls: "bar-container" });
    const bar = barContainer.createDiv({ cls: "bar" });
    const progress = (this.currentCardIndex + 1) / this.dueCards.length * 100;
    bar.style.width = `${progress}%`;
  }
  renderTopActions(container) {
    const actionsBar = container.createDiv({ cls: "top-actions-bar" });
    const jumpBtn = actionsBar.createEl("button", {
      cls: "top-action-btn jump-icon-btn",
      attr: { "aria-label": "Jump to Source" }
    });
    jumpBtn.innerHTML = "\u2197";
    jumpBtn.addEventListener("click", () => this.jumpToSource());
    this.renderMoreMenu(actionsBar);
  }
  renderMoreMenu(actionsBar) {
    const moreBtn = actionsBar.createEl("button", {
      cls: "top-action-btn more-btn",
      attr: { "aria-label": "More actions" }
    });
    moreBtn.innerHTML = "\u22EF";
    const dropdown = actionsBar.createDiv({ cls: "more-dropdown" });
    dropdown.style.display = "none";
    const menuItems = [
      {
        label: "\u270F\uFE0F Edit Card",
        onClick: () => this.editCurrentFlashcard()
      },
      {
        label: "\u{1F504} Reset Card Stats",
        onClick: async () => {
          if (this.currentCard && confirm("\u786E\u5B9A\u8981\u91CD\u7F6E\u8FD9\u5F20\u5361\u7247\u7684\u5B66\u4E60\u8FDB\u5EA6\u5417\uFF1F")) {
            await this.resetCardStats(this.currentCard.id);
          }
        }
      },
      {
        label: "\u{1F4DA} Reset Deck Stats",
        onClick: async () => {
          if (this.currentCard) {
            const deckName = this.currentCard.deck;
            if (confirm(`\u786E\u5B9A\u8981\u91CD\u7F6E\u5361\u7EC4"${deckName}"\u7684\u6240\u6709\u5B66\u4E60\u8FDB\u5EA6\u5417\uFF1F`)) {
              await this.plugin.analyticsEngine.clearDeckStats(deckName);
              new import_obsidian11.Notice(`\u2705 \u5361\u7EC4"${deckName}"\u7684\u7EDF\u8BA1\u5DF2\u91CD\u7F6E`);
              await this.loadDueCards();
              this.render();
            }
          }
        }
      },
      {
        label: "\u{1F5D1}\uFE0F Delete Card",
        onClick: async () => {
          if (this.currentCard && confirm("\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u5F20\u95EA\u5361\u5417\uFF1F")) {
            await this.deleteFlashcard(this.currentCard.id);
          }
        },
        className: "delete-item"
      }
    ];
    menuItems.forEach((item) => {
      const menuItem = dropdown.createEl("div", {
        cls: `dropdown-item ${item.className || ""}`
      });
      menuItem.innerHTML = item.label;
      menuItem.addEventListener("click", () => {
        item.onClick();
        dropdown.style.display = "none";
      });
    });
    moreBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      dropdown.style.display = dropdown.style.display === "none" ? "block" : "none";
    });
    document.addEventListener("click", () => {
      dropdown.style.display = "none";
    });
    dropdown.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  }
  renderQuestionView(container) {
    if (!this.currentCard)
      return;
    this.renderCardInfo(container);
    const questionArea = container.createDiv({ cls: "question-area" });
    questionArea.createEl("h3", { text: "Question" });
    const renderer = CardRendererFactory.getRenderer(this.currentCard.type);
    renderer.renderQuestion(
      questionArea,
      this.currentCard,
      this.stateManager.getState(),
      {
        setUserAnswer: (answer) => {
          this.stateManager.setUserAnswer(answer);
        },
        setUserAnswers: (answers) => {
          this.stateManager.setUserAnswers(answers);
        }
      }
    );
    const actionRow = container.createDiv({ cls: "action-row" });
    this.renderNavigationButton(actionRow, "prev");
    this.renderShowAnswerButton(actionRow);
    this.renderNavigationButton(actionRow, "next");
  }
  renderAnswerView(container) {
    var _a;
    if (!this.currentCard)
      return;
    this.renderCardInfo(container);
    const isQuestionTable = TableRenderer.isTableFormat(this.currentCard.front);
    const isAnswerTable = this.currentCard.type === "cloze" ? TableRenderer.isTableFormat(((_a = this.currentCard.cloze) == null ? void 0 : _a.original) || "") : TableRenderer.isTableFormat(
      Array.isArray(this.currentCard.back) ? this.currentCard.back[0] || "" : this.currentCard.back
    );
    if (!isQuestionTable && !isAnswerTable) {
      this.renderQuestionReview(container);
    }
    const renderer = CardRendererFactory.getRenderer(this.currentCard.type);
    renderer.renderAnswer(container, this.currentCard, this.stateManager.getState(), this.scheduler);
    const actionRow = container.createDiv({ cls: "action-row" });
    this.renderNavigationButton(actionRow, "prev");
    this.renderRatingButtons(actionRow);
    this.renderNavigationButton(actionRow, "next");
  }
  renderCardInfo(container) {
    if (!this.currentCard)
      return;
    const cardInfo = container.createDiv({ cls: "card-info" });
    cardInfo.createSpan({
      text: this.currentCard.type === "qa" ? "\u{1F4DD} Q&A" : "\u270F\uFE0F Cloze",
      cls: "card-type"
    });
    cardInfo.createSpan({
      text: `Deck: ${this.currentCard.deck}`,
      cls: "card-deck"
    });
  }
  renderQuestionReview(container) {
    if (!this.currentCard)
      return;
    const questionReview = container.createDiv({ cls: "question-review" });
    questionReview.createEl("h4", { text: "Question:" });
    const reviewTextDiv = questionReview.createDiv({ cls: "review-text" });
    const isQuestionTable = TableRenderer.isTableFormat(this.currentCard.front);
    if (isQuestionTable) {
      const tableEl = TableRenderer.renderTable(this.currentCard.front, false);
      reviewTextDiv.appendChild(tableEl);
      reviewTextDiv.classList.add("table-question");
    } else {
      reviewTextDiv.textContent = this.currentCard.front;
    }
  }
  renderShowAnswerButton(container) {
    const showAnswerBtn = container.createEl("button", {
      text: "Show Answer",
      cls: "mod-cta show-answer-btn",
      attr: { title: "Press Enter or Tab" }
    });
    showAnswerBtn.addEventListener("click", () => {
      this.stateManager.setShowAnswer(true);
      this.render();
    });
  }
  renderRatingButtons(container) {
    const buttonGroup = container.createDiv({ cls: "rating-buttons" });
    const ratings = [
      { ease: "again", label: "Again\n < 1 min", color: "red", key: "1" },
      { ease: "hard", label: "Hard\n < 10 min", color: "orange", key: "2" },
      { ease: "good", label: "Good\n 1 day", color: "blue", key: "3" },
      { ease: "easy", label: "Easy\n 4 days", color: "green", key: "4" }
    ];
    ratings.forEach(({ ease, label, color, key }) => {
      const btn = buttonGroup.createEl("button", {
        cls: `rating-btn rating-${color}`,
        attr: { title: `Press ${key}` }
      });
      const lines = label.split("\n");
      btn.createEl("div", { text: lines[0], cls: "rating-label" });
      btn.createEl("div", { text: lines[1], cls: "rating-interval" });
      btn.createEl("div", { text: `(${key})`, cls: "rating-hotkey" });
      btn.addEventListener("click", () => this.submitReview(ease));
    });
  }
  renderNavigationButton(container, type) {
    const btn = container.createEl("button", {
      cls: `nav-btn ${type}-btn`,
      text: type === "prev" ? "\u2190" : "\u2192"
    });
    btn.addEventListener("click", () => {
      this.go(type);
    });
  }
  go(direction) {
    var _a;
    const state = this.stateManager.getState();
    if (direction === "next") {
      if (!state.showAnswer) {
        const hasCurrentInput = ((_a = this.currentCard) == null ? void 0 : _a.type) === "cloze" ? state.userAnswers.some((ans) => ans && ans.trim() !== "") : state.userAnswer.trim() !== "";
        if (!hasCurrentInput) {
          this.stateManager.reset();
        }
        this.stateManager.setShowAnswer(true);
      } else {
        if (this.currentCardIndex < this.dueCards.length - 1) {
          if (this.currentCard) {
            this.stateManager.saveAnswerToCache(this.currentCard.id);
          }
          this.currentCardIndex++;
          this.currentCard = this.dueCards[this.currentCardIndex];
          this.resetReviewState();
          this.updateCurrentCard("next");
        } else {
          new import_obsidian11.Notice("Already at last card");
        }
      }
    }
    if (direction === "prev") {
      if (state.showAnswer) {
        this.stateManager.setShowAnswer(false);
        this.stateManager.reset();
        this.stateManager.setShowAnswer(false);
      } else {
        if (this.currentCardIndex > 0) {
          if (this.currentCard) {
            this.stateManager.saveAnswerToCache(this.currentCard.id);
          }
          this.currentCardIndex--;
          this.stateManager.reset();
          this.updateCurrentCard("prev");
          this.stateManager.setShowAnswer(true);
        } else {
          new import_obsidian11.Notice("Already at first card");
        }
      }
    }
    this.render();
  }
  // ============================================================================
  // 交互处理
  // ============================================================================
  async submitReview(ease) {
    if (!this.currentCard)
      return;
    const timeSpent = (Date.now() - this.stateManager.getState().startTime) / 1e3;
    const userAnswer = this.currentCard.type === "cloze" ? this.stateManager.getState().userAnswers : this.currentCard.type === "qa" ? this.stateManager.getState().userAnswer : void 0;
    const { updatedCard, reviewLog } = this.scheduler.schedule(
      this.currentCard,
      ease,
      timeSpent,
      userAnswer
    );
    await this.plugin.flashcardManager.updateCard(updatedCard);
    await this.plugin.flashcardManager.logReview({
      id: `log-${Date.now()}`,
      ...reviewLog
    });
    await this.plugin.unlockSystem.onCardReviewed();
    this.stateManager.clearCache(this.currentCard.id);
    this.dueCards.splice(this.currentCardIndex, 1);
    this.resetReviewState();
    if (this.dueCards.length === 0) {
      this.currentCard = null;
      new import_obsidian11.Notice(`\u2705 Review session complete!`);
      this.render();
    } else {
      if (this.currentCardIndex >= this.dueCards.length) {
        this.currentCardIndex = this.dueCards.length - 1;
      }
      this.updateCurrentCard("next");
      this.render();
    }
  }
  async jumpToSource() {
    if (!this.currentCard)
      return;
    const file = this.app.vault.getAbstractFileByPath(this.currentCard.sourceFile);
    if (!(file instanceof import_obsidian11.TFile)) {
      new import_obsidian11.Notice("Source file not found");
      return;
    }
    const contentUnit = this.plugin.dataManager.getContentUnit(
      this.currentCard.sourceContentId
    );
    if (!contentUnit) {
      new import_obsidian11.Notice("Source content not found");
      return;
    }
    const leaf = this.app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian11.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          editor.setCursor({ line: contentUnit.source.position.line, ch: 0 });
          editor.scrollIntoView({
            from: { line: contentUnit.source.position.line, ch: 0 },
            to: { line: contentUnit.source.position.line, ch: 0 }
          }, true);
        }
      }
    }, 100);
  }
  async deleteFlashcard(cardId) {
    var _a;
    try {
      await this.plugin.flashcardManager.deleteCard(cardId);
      new import_obsidian11.Notice("\u{1F5D1}\uFE0F \u95EA\u5361\u5DF2\u5220\u9664");
      this.dueCards = this.dueCards.filter((card) => card.id !== cardId);
      if (((_a = this.currentCard) == null ? void 0 : _a.id) === cardId) {
        if (this.currentCardIndex >= this.dueCards.length) {
          this.currentCardIndex = Math.max(0, this.dueCards.length - 1);
        }
        this.currentCard = null;
      }
      await this.loadDueCards();
      this.render();
    } catch (error) {
      console.error("Error deleting flashcard:", error);
      new import_obsidian11.Notice("\u274C \u5220\u9664\u95EA\u5361\u5931\u8D25");
    }
  }
  editCurrentFlashcard() {
    if (!this.currentCard)
      return;
    const modal = new FlashcardEditModal(
      this.app,
      this.currentCard,
      async (question, answer) => {
        try {
          const updatedCard = {
            ...this.currentCard,
            front: question,
            back: this.currentCard.type === "cloze" ? [answer] : answer,
            metadata: {
              ...this.currentCard.metadata,
              updatedAt: Date.now()
            }
          };
          await this.plugin.flashcardManager.updateCard(updatedCard);
          new import_obsidian11.Notice("\u2705 \u95EA\u5361\u5DF2\u66F4\u65B0");
          this.currentCard = updatedCard;
          this.render();
        } catch (error) {
          console.error("Error updating flashcard:", error);
          new import_obsidian11.Notice("\u274C \u66F4\u65B0\u95EA\u5361\u5931\u8D25");
        }
      }
    );
    modal.open();
  }
  async resetCardStats(cardId) {
    try {
      const card = this.plugin.flashcardManager.getFlashcard(cardId);
      if (!card)
        return;
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
      const logs = this.plugin.flashcardManager["reviewLogs"] || [];
      this.plugin.flashcardManager["reviewLogs"] = logs.filter(
        (log) => log.flashcardId !== cardId
      );
      await this.plugin.dataManager.save();
      new import_obsidian11.Notice("\u2705 \u5361\u7247\u7EDF\u8BA1\u5DF2\u91CD\u7F6E");
      this.currentCard = card;
      this.render();
    } catch (error) {
      console.error("Error resetting card stats:", error);
      new import_obsidian11.Notice("\u274C \u91CD\u7F6E\u7EDF\u8BA1\u5931\u8D25");
    }
  }
  registerKeyboardHandlers() {
    document.addEventListener("keydown", this.keyboardHandler);
  }
  // ============================================================================
  // 样式
  // ============================================================================
};

// src/ui/view/StatsView.ts
var import_obsidian12 = require("obsidian");

// src/core/AnalyticsEngine.ts
var AnalyticsEngine = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  /**
   * 获取每日统计
   */
  getDailyStats(days = 30) {
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const stats = /* @__PURE__ */ new Map();
    for (let i = 0; i < days; i++) {
      const date = new Date();
      date.setDate(date.getDate() - i);
      const dateKey = date.toISOString().split("T")[0];
      stats.set(dateKey, {
        date: dateKey,
        reviewed: 0,
        correctCount: 0,
        correctRate: 0,
        timeSpent: 0,
        newCards: 0
      });
    }
    logs.forEach((log) => {
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      const stat = stats.get(date);
      if (!stat)
        return;
      stat.reviewed++;
      stat.timeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        stat.correctCount++;
      } else if (log.response.ease === "hard") {
        stat.correctCount += 0.5;
      }
      const card = this.plugin.flashcardManager.getFlashcard(log.flashcardId);
      if (card && card.stats.totalReviews === 1) {
        stat.newCards++;
      }
    });
    stats.forEach((stat) => {
      if (stat.reviewed > 0) {
        stat.correctRate = stat.correctCount / stat.reviewed;
      }
    });
    return Array.from(stats.values()).sort(
      (a, b) => a.date.localeCompare(b.date)
    );
  }
  /**
   * 获取周统计
   */
  getWeeklyStats() {
    const now = new Date();
    const thisWeekStart = new Date(now);
    thisWeekStart.setDate(now.getDate() - now.getDay());
    thisWeekStart.setHours(0, 0, 0, 0);
    const lastWeekStart = new Date(thisWeekStart);
    lastWeekStart.setDate(lastWeekStart.getDate() - 7);
    const thisWeek = this.calculateWeekStats(thisWeekStart);
    const lastWeek = this.calculateWeekStats(lastWeekStart);
    return { thisWeek, lastWeek };
  }
  calculateWeekStats(startDate) {
    const endDate = new Date(startDate);
    endDate.setDate(endDate.getDate() + 7);
    const logs = (this.plugin.flashcardManager["reviewLogs"] || []).filter(
      (log) => log.timestamp >= startDate.getTime() && log.timestamp < endDate.getTime()
    );
    let totalCorrect = 0;
    let totalTimeSpent = 0;
    logs.forEach((log) => {
      totalTimeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        totalCorrect++;
      } else if (log.response.ease === "hard") {
        totalCorrect += 0.5;
      }
    });
    const averageCorrectRate = logs.length > 0 ? totalCorrect / logs.length : 0;
    const streak = this.calculateStreak();
    return {
      startDate: startDate.toISOString().split("T")[0],
      endDate: endDate.toISOString().split("T")[0],
      totalReviews: logs.length,
      averageCorrectRate,
      totalTimeSpent,
      streak
    };
  }
  /**
   * 计算连续学习天数
   */
  calculateStreak() {
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    if (logs.length === 0)
      return 0;
    const dates = /* @__PURE__ */ new Set();
    logs.forEach((log) => {
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      dates.add(date);
    });
    const sortedDates = Array.from(dates).sort().reverse();
    let streak = 0;
    const today = new Date().toISOString().split("T")[0];
    for (let i = 0; i < sortedDates.length; i++) {
      const expectedDate = new Date();
      expectedDate.setDate(expectedDate.getDate() - i);
      const expected = expectedDate.toISOString().split("T")[0];
      if (sortedDates[i] === expected) {
        streak++;
      } else {
        break;
      }
    }
    return streak;
  }
  /**
   * 获取卡组统计
   */
  getDeckStats() {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const deckMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      if (!deckMap.has(card.deck)) {
        deckMap.set(card.deck, []);
      }
      deckMap.get(card.deck).push(card);
    });
    const stats = [];
    const now = Date.now();
    deckMap.forEach((deckCards, deckName) => {
      const dueCards = deckCards.filter((c) => c.scheduling.due <= now).length;
      const newCards = deckCards.filter((c) => c.scheduling.state === "new").length;
      const totalCorrect = deckCards.reduce(
        (sum, c) => sum + c.stats.correctCount,
        0
      );
      const totalReviews = deckCards.reduce(
        (sum, c) => sum + c.stats.totalReviews,
        0
      );
      const correctRate = totalReviews > 0 ? totalCorrect / totalReviews : 0;
      const totalInterval = deckCards.reduce(
        (sum, c) => sum + c.scheduling.interval,
        0
      );
      const averageInterval = deckCards.length > 0 ? totalInterval / deckCards.length : 0;
      stats.push({
        deckName,
        totalCards: deckCards.length,
        dueCards,
        newCards,
        correctRate,
        averageInterval
      });
    });
    return stats.sort((a, b) => b.totalCards - a.totalCards);
  }
  /**
   * 获取难点卡片
   */
  getDifficultCards(limit = 10) {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const difficultCards = [];
    cards.forEach((card) => {
      const cardLogs = logs.filter((log) => log.flashcardId === card.id);
      const errorCount = cardLogs.filter(
        (log) => log.response.ease === "again"
      ).length;
      if (errorCount === 0 && card.stats.difficulty < 0.7)
        return;
      const errorLogs = cardLogs.filter((log) => log.response.ease === "again");
      const lastError = errorLogs.length > 0 ? errorLogs[errorLogs.length - 1].timestamp : 0;
      const pattern = this.detectErrorPattern(card, cardLogs);
      difficultCards.push({
        card,
        errorCount,
        lastError,
        averageTime: card.stats.averageTime,
        pattern
      });
    });
    return difficultCards.sort((a, b) => {
      if (a.errorCount !== b.errorCount) {
        return b.errorCount - a.errorCount;
      }
      if (a.card.stats.difficulty !== b.card.stats.difficulty) {
        return b.card.stats.difficulty - a.card.stats.difficulty;
      }
      return b.lastError - a.lastError;
    }).slice(0, limit);
  }
  detectErrorPattern(card, logs) {
    if (logs.length < 3)
      return "unknown";
    if (card.stats.averageTime > 60) {
      return "calculation";
    }
    if (card.scheduling.interval < 3 && card.scheduling.lapses > 2) {
      return "memory";
    }
    const recentLogs = logs.slice(-5);
    const recentFailures = recentLogs.filter(
      (log) => log.response.ease === "again"
    ).length;
    if (recentFailures >= 3) {
      return "concept";
    }
    return "unknown";
  }
  /**
   * 获取标签统计
   */
  getTagStats() {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const tagMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      card.tags.forEach((tag) => {
        if (!tagMap.has(tag)) {
          tagMap.set(tag, { total: 0, correct: 0, reviews: 0 });
        }
        const stat = tagMap.get(tag);
        stat.total++;
        stat.correct += card.stats.correctCount;
        stat.reviews += card.stats.totalReviews;
      });
    });
    const stats = Array.from(tagMap.entries()).map(([tag, data]) => ({
      tag,
      count: data.total,
      correctRate: data.reviews > 0 ? data.correct / data.reviews : 0
    }));
    return stats.sort((a, b) => b.count - a.count);
  }
  /**
   * 生成学习报告
   */
  generateReport(days = 7) {
    const dailyStats = this.getDailyStats(days);
    const { thisWeek, lastWeek } = this.getWeeklyStats();
    const difficultCards = this.getDifficultCards(5);
    const deckStats = this.getDeckStats();
    const totalReviewed = dailyStats.reduce((sum, s) => sum + s.reviewed, 0);
    const totalCorrect = dailyStats.reduce((sum, s) => sum + s.correctCount, 0);
    const averageCorrectRate = totalReviewed > 0 ? totalCorrect / totalReviewed : 0;
    const totalTime = dailyStats.reduce((sum, s) => sum + s.timeSpent, 0);
    const recentDays = dailyStats.slice(-7);
    const olderDays = dailyStats.slice(-14, -7);
    const recentRate = this.calculateAverageRate(recentDays);
    const olderRate = this.calculateAverageRate(olderDays);
    const trend = recentRate > olderRate ? "\u{1F4C8} improving" : recentRate < olderRate ? "\u{1F4C9} declining" : "\u27A1\uFE0F stable";
    let report = `# \u{1F4CA} Learning Report

`;
    report += `**Period:** Last ${days} days
`;
    report += `**Generated:** ${new Date().toLocaleString()}

`;
    report += `## \u{1F3AF} Overall Performance

`;
    report += `- **Cards Reviewed:** ${totalReviewed}
`;
    report += `- **Correct Rate:** ${(averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- **Study Time:** ${this.formatTime(totalTime)}
`;
    report += `- **Current Streak:** ${thisWeek.streak} days \u{1F525}
`;
    report += `- **Trend:** ${trend}

`;
    report += `## \u{1F4C8} Week Comparison

`;
    report += `### This Week
`;
    report += `- Reviews: ${thisWeek.totalReviews}
`;
    report += `- Correct Rate: ${(thisWeek.averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- Time: ${this.formatTime(thisWeek.totalTimeSpent)}

`;
    report += `### Last Week
`;
    report += `- Reviews: ${lastWeek.totalReviews}
`;
    report += `- Correct Rate: ${(lastWeek.averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- Time: ${this.formatTime(lastWeek.totalTimeSpent)}

`;
    const reviewChange = thisWeek.totalReviews - lastWeek.totalReviews;
    const rateChange = (thisWeek.averageCorrectRate - lastWeek.averageCorrectRate) * 100;
    if (reviewChange > 0) {
      report += `\u{1F4AA} You reviewed **${reviewChange} more cards** this week!
`;
    }
    if (rateChange > 5) {
      report += `\u{1F389} Your accuracy improved by **${rateChange.toFixed(1)}%**!
`;
    }
    report += `
`;
    if (difficultCards.length > 0) {
      report += `## \u26A0\uFE0F Cards Needing Attention

`;
      difficultCards.forEach((dc, i) => {
        const patternEmoji = {
          "concept": "\u{1F9E0}",
          "memory": "\u{1F4AD}",
          "calculation": "\u{1F522}",
          "unknown": "\u2753"
        };
        report += `${i + 1}. **${dc.card.front.substring(0, 50)}${dc.card.front.length > 50 ? "..." : ""}**
`;
        report += `   - Errors: ${dc.errorCount} | Pattern: ${patternEmoji[dc.pattern]} ${dc.pattern}
`;
        report += `   - Avg Time: ${dc.averageTime.toFixed(1)}s | Difficulty: ${(dc.card.stats.difficulty * 100).toFixed(0)}%

`;
      });
    }
    report += `## \u{1F4DA} Deck Overview

`;
    deckStats.forEach((deck) => {
      report += `### ${deck.deckName}
`;
      report += `- Total: ${deck.totalCards} | Due: ${deck.dueCards} | New: ${deck.newCards}
`;
      report += `- Correct Rate: ${(deck.correctRate * 100).toFixed(1)}%
`;
      report += `- Avg Interval: ${deck.averageInterval.toFixed(1)} days

`;
    });
    report += `## \u{1F4A1} Recommendations

`;
    if (averageCorrectRate < 0.7) {
      report += `- \u26A1 Your correct rate is below 70%. Consider reviewing difficult cards more frequently.
`;
    }
    if (difficultCards.length > 5) {
      report += `- \u{1F4D6} You have many difficult cards. Try breaking complex concepts into smaller flashcards.
`;
    }
    if (thisWeek.streak > 7) {
      report += `- \u{1F389} Amazing streak! Keep up the consistency!
`;
    }
    if (totalTime / totalReviewed > 30) {
      report += `- \u23F1\uFE0F Average review time is high. Consider simplifying card content.
`;
    }
    if (deckStats.some((d) => d.dueCards > d.totalCards * 0.5)) {
      report += `- \u{1F4C5} Some decks have many overdue cards. Focus on catching up with these.
`;
    }
    return report;
  }
  calculateAverageRate(stats) {
    const total = stats.reduce((sum, s) => sum + s.reviewed, 0);
    const correct = stats.reduce((sum, s) => sum + s.correctCount, 0);
    return total > 0 ? correct / total : 0;
  }
  formatTime(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor(seconds % 3600 / 60);
    if (hours > 0) {
      return `${hours}h ${minutes}m`;
    }
    return `${minutes}m`;
  }
  /**
   * 获取热力图数据（用于日历视图）
   */
  getHeatmapData(days = 90) {
    const dailyStats = this.getDailyStats(days);
    const maxReviews = Math.max(...dailyStats.map((s) => s.reviewed));
    return dailyStats.map((stat) => ({
      date: stat.date,
      count: stat.reviewed,
      intensity: maxReviews > 0 ? stat.reviewed / maxReviews : 0
    }));
  }
  /**
  * 清除所有统计数据
  */
  async clearAllStats() {
    this.plugin.flashcardManager["reviewLogs"] = [];
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        // 使用 ease 而不是 easeFactor
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    await this.plugin.dataManager.save();
  }
  /**
   * 清除指定天数之前的统计数据
   */
  async clearStatsBeforeDate(daysAgo) {
    const cutoffDate = new Date();
    cutoffDate.setDate(cutoffDate.getDate() - daysAgo);
    const cutoffTimestamp = cutoffDate.getTime();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    this.plugin.flashcardManager["reviewLogs"] = logs.filter(
      (log) => log.timestamp >= cutoffTimestamp
    );
    await this.plugin.dataManager.save();
  }
  /**
   * 清除特定卡组的统计数据
   */
  async clearDeckStats(deckName) {
    const cards = this.plugin.flashcardManager.getAllFlashcards().filter((card) => card.deck === deckName);
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        // 使用 ease
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    const cardIds = new Set(cards.map((c) => c.id));
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    this.plugin.flashcardManager["reviewLogs"] = logs.filter(
      (log) => !cardIds.has(log.flashcardId)
    );
    await this.plugin.dataManager.save();
  }
};

// src/ui/view/StatsView.ts
var VIEW_TYPE_STATS = "learning-system-stats";
var StatsView = class extends import_obsidian12.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.currentTab = "overview";
    this.plugin = plugin;
    this.analytics = new AnalyticsEngine(plugin);
  }
  getViewType() {
    return VIEW_TYPE_STATS;
  }
  getDisplayText() {
    return "Learning Statistics";
  }
  getIcon() {
    return "bar-chart";
  }
  async onOpen() {
    await this.plugin.unlockSystem.onStatsPageVisited();
    this.render();
    this.addStyles();
  }
  async onClose() {
  }
  render() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("stats-container");
    const header = container.createDiv({ cls: "stats-header" });
    header.createEl("h2", { text: "\u{1F4CA} Learning Statistics" });
    const refreshBtn = header.createEl("button", {
      text: "\u27F3",
      cls: "refresh-btn"
    });
    refreshBtn.addEventListener("click", () => this.render());
    this.renderTabs(container);
    const content = container.createDiv({ cls: "stats-content" });
    switch (this.currentTab) {
      case "overview":
        this.renderOverview(content);
        break;
      case "trends":
        this.renderTrends(content);
        break;
      case "decks":
        this.renderDecks(content);
        break;
      case "difficult":
        this.renderDifficult(content);
        break;
    }
  }
  renderTabs(container) {
    const tabs = container.createDiv({ cls: "stats-tabs" });
    const tabConfigs = [
      { id: "overview", label: "\u{1F4CA} Overview" },
      { id: "trends", label: "\u{1F4C8} Trends" },
      { id: "decks", label: "\u{1F4DA} Decks" },
      { id: "difficult", label: "\u26A0\uFE0F Difficult" }
    ];
    tabConfigs.forEach((config) => {
      const tab = tabs.createDiv({
        cls: `tab ${this.currentTab === config.id ? "active" : ""}`
      });
      tab.textContent = config.label;
      tab.addEventListener("click", () => {
        this.currentTab = config.id;
        this.render();
      });
    });
  }
  renderOverview(container) {
    const stats = this.plugin.flashcardManager.getStats();
    const { thisWeek, lastWeek } = this.analytics.getWeeklyStats();
    const dailyStats = this.analytics.getDailyStats(7);
    const metricsGrid = container.createDiv({ cls: "metrics-grid" });
    this.createMetricCard(metricsGrid, {
      title: "Total Cards",
      value: stats.total.toString(),
      icon: "\u{1F0CF}"
    });
    this.createMetricCard(metricsGrid, {
      title: "Due Today",
      value: stats.due.toString(),
      icon: "\u{1F4C5}"
    });
    this.createMetricCard(metricsGrid, {
      title: "Reviewed Today",
      value: stats.reviewedToday.toString(),
      icon: "\u2705"
    });
    const streak = this.analytics.calculateStreak();
    this.createMetricCard(metricsGrid, {
      title: "Current Streak",
      value: `${streak} days`,
      icon: "\u{1F525}"
    });
    const weekComparison = container.createDiv({ cls: "week-comparison" });
    weekComparison.createEl("h3", { text: "This Week vs Last Week" });
    const comparisonGrid = weekComparison.createDiv({ cls: "comparison-grid" });
    const reviewChange = thisWeek.totalReviews - lastWeek.totalReviews;
    const reviewChangePercent = lastWeek.totalReviews > 0 ? (reviewChange / lastWeek.totalReviews * 100).toFixed(1) : "0";
    this.createComparisonItem(comparisonGrid, {
      label: "Reviews",
      thisWeek: thisWeek.totalReviews,
      lastWeek: lastWeek.totalReviews,
      change: reviewChange,
      changePercent: reviewChangePercent
    });
    const rateChange = (thisWeek.averageCorrectRate - lastWeek.averageCorrectRate) * 100;
    this.createComparisonItem(comparisonGrid, {
      label: "Correct Rate",
      thisWeek: `${(thisWeek.averageCorrectRate * 100).toFixed(1)}%`,
      lastWeek: `${(lastWeek.averageCorrectRate * 100).toFixed(1)}%`,
      change: rateChange,
      changePercent: rateChange.toFixed(1)
    });
    const recentActivity = container.createDiv({ cls: "recent-activity" });
    recentActivity.createEl("h3", { text: "Last 7 Days Activity" });
    const activityChart = recentActivity.createDiv({ cls: "activity-chart" });
    this.renderSimpleBarChart(activityChart, dailyStats);
    const reportSection = container.createDiv({ cls: "report-section" });
    const reportBtn = reportSection.createEl("button", {
      text: "\u{1F4C4} Generate Full Report",
      cls: "mod-cta"
    });
    reportBtn.addEventListener("click", () => this.generateAndShowReport());
    const clearBtn = reportSection.createEl("button", {
      text: "\u{1F5D1}\uFE0F Clear Statistics",
      cls: "mod-warning"
    });
    clearBtn.style.marginLeft = "10px";
    clearBtn.addEventListener("click", () => this.showClearStatsModal());
  }
  renderTrends(container) {
    container.createEl("h3", { text: "Performance Trends" });
    const dailyStats = this.analytics.getDailyStats(30);
    const correctRateSection = container.createDiv({ cls: "chart-section" });
    correctRateSection.createEl("h4", { text: "Correct Rate (Last 30 Days)" });
    const correctRateChart = correctRateSection.createDiv({ cls: "line-chart" });
    this.renderLineChart(correctRateChart, dailyStats, "correctRate");
    const reviewsSection = container.createDiv({ cls: "chart-section" });
    reviewsSection.createEl("h4", { text: "Daily Reviews" });
    const reviewsChart = reviewsSection.createDiv({ cls: "bar-chart" });
    this.renderBarChart(reviewsChart, dailyStats);
    const heatmapSection = container.createDiv({ cls: "chart-section" });
    heatmapSection.createEl("h4", { text: "Study Activity Calendar" });
    const heatmap = heatmapSection.createDiv({ cls: "heatmap" });
    this.renderHeatmap(heatmap);
  }
  renderDecks(container) {
    container.createEl("h3", { text: "Deck Statistics" });
    const deckStats = this.analytics.getDeckStats();
    if (deckStats.length === 0) {
      container.createDiv({
        text: "No decks yet. Create some flashcards to see deck statistics!",
        cls: "empty-message"
      });
      return;
    }
    const decksGrid = container.createDiv({ cls: "decks-grid" });
    deckStats.forEach((deck) => {
      const deckCard = decksGrid.createDiv({ cls: "deck-card" });
      const header = deckCard.createDiv({ cls: "deck-card-header" });
      header.createEl("h4", { text: deck.deckName });
      header.createSpan({
        text: `${deck.totalCards} cards`,
        cls: "deck-badge"
      });
      const stats = deckCard.createDiv({ cls: "deck-card-stats" });
      this.createStatRow(stats, "Due", deck.dueCards.toString(), "\u{1F4C5}");
      this.createStatRow(stats, "New", deck.newCards.toString(), "\u{1F195}");
      this.createStatRow(
        stats,
        "Correct Rate",
        `${(deck.correctRate * 100).toFixed(1)}%`,
        "\u2705"
      );
      this.createStatRow(
        stats,
        "Avg Interval",
        `${deck.averageInterval.toFixed(1)} days`,
        "\u{1F4CA}"
      );
      const progress = deckCard.createDiv({ cls: "deck-progress" });
      const masteredCount = deck.totalCards - deck.dueCards - deck.newCards;
      const masteredPercent = masteredCount / deck.totalCards * 100;
      const progressBar = progress.createDiv({ cls: "progress-bar-container" });
      const bar = progressBar.createDiv({ cls: "progress-bar-fill" });
      bar.style.width = `${masteredPercent}%`;
      progress.createDiv({
        text: `${masteredPercent.toFixed(0)}% mastered`,
        cls: "progress-label"
      });
    });
  }
  renderDifficult(container) {
    container.createEl("h3", { text: "Cards Needing Attention" });
    const difficultCards = this.analytics.getDifficultCards(10);
    if (difficultCards.length === 0) {
      container.createDiv({
        text: "\u{1F389} No difficult cards! Great job!",
        cls: "empty-message"
      });
      return;
    }
    const cardsList = container.createDiv({ cls: "difficult-cards-list" });
    difficultCards.forEach((dc, index) => {
      const cardItem = cardsList.createDiv({ cls: "difficult-card-item" });
      const rank = cardItem.createDiv({ cls: "card-rank" });
      rank.textContent = `${index + 1}`;
      const content = cardItem.createDiv({ cls: "card-content" });
      const question = content.createDiv({ cls: "card-question" });
      question.textContent = dc.card.front.substring(0, 80) + (dc.card.front.length > 80 ? "..." : "");
      const meta = content.createDiv({ cls: "card-meta" });
      const patternEmoji = {
        "concept": "\u{1F9E0}",
        "memory": "\u{1F4AD}",
        "calculation": "\u{1F522}",
        "unknown": "\u2753"
      };
      meta.createSpan({
        text: `${patternEmoji[dc.pattern]} ${dc.pattern}`,
        cls: "pattern-badge"
      });
      meta.createSpan({
        text: `${dc.errorCount} errors`,
        cls: "error-count"
      });
      meta.createSpan({
        text: `${dc.averageTime.toFixed(1)}s avg`,
        cls: "avg-time"
      });
      const difficultyBar = content.createDiv({ cls: "difficulty-bar-container" });
      const diffBar = difficultyBar.createDiv({ cls: "difficulty-bar" });
      diffBar.style.width = `${dc.card.stats.difficulty * 100}%`;
      const actions = cardItem.createDiv({ cls: "card-actions" });
      const jumpBtn = actions.createEl("button", {
        text: "\u2197",
        cls: "action-btn-small"
      });
      jumpBtn.addEventListener("click", () => this.jumpToCard(dc.card));
      const reviewBtn = actions.createEl("button", {
        text: "\u{1F504}",
        cls: "action-btn-small"
      });
      reviewBtn.addEventListener("click", () => {
        this.plugin.activateReview();
      });
      const deleteBtn = actions.createEl("button", {
        text: "\u{1F5D1}\uFE0F",
        cls: "action-btn-small delete-btn"
      });
      deleteBtn.addEventListener("click", async () => {
        if (confirm("\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u5F20\u95EA\u5361\u5417\uFF1F")) {
          await this.deleteFlashcard(dc.card.id);
        }
      });
    });
  }
  createMetricCard(container, config) {
    const card = container.createDiv({ cls: "metric-card" });
    card.createDiv({ text: config.icon, cls: "metric-icon" });
    const content = card.createDiv({ cls: "metric-content" });
    content.createDiv({ text: config.title, cls: "metric-title" });
    content.createDiv({ text: config.value, cls: "metric-value" });
  }
  createComparisonItem(container, config) {
    const item = container.createDiv({ cls: "comparison-item" });
    item.createDiv({ text: config.label, cls: "comparison-label" });
    const values = item.createDiv({ cls: "comparison-values" });
    values.createSpan({
      text: `${config.thisWeek}`,
      cls: "this-week"
    });
    values.createSpan({ text: " vs ", cls: "vs" });
    values.createSpan({
      text: `${config.lastWeek}`,
      cls: "last-week"
    });
    const changeClass = config.change > 0 ? "positive" : config.change < 0 ? "negative" : "neutral";
    const changeIcon = config.change > 0 ? "\u2197" : config.change < 0 ? "\u2198" : "\u2192";
    item.createDiv({
      text: `${changeIcon} ${config.changePercent}%`,
      cls: `change ${changeClass}`
    });
  }
  createStatRow(container, label, value, icon) {
    const row = container.createDiv({ cls: "stat-row" });
    row.createSpan({ text: icon, cls: "stat-icon" });
    row.createSpan({ text: label, cls: "stat-label" });
    row.createSpan({ text: value, cls: "stat-value" });
  }
  renderSimpleBarChart(container, data) {
    const maxValue = Math.max(...data.map((d) => d.reviewed));
    data.forEach((stat) => {
      const bar = container.createDiv({ cls: "simple-bar" });
      const date = new Date(stat.date);
      const dayName = date.toLocaleDateString("en-US", { weekday: "short" });
      bar.createDiv({ text: dayName, cls: "bar-label" });
      const barContainer = bar.createDiv({ cls: "bar-container" });
      const barFill = barContainer.createDiv({ cls: "bar-fill" });
      const height = maxValue > 0 ? stat.reviewed / maxValue * 100 : 0;
      barFill.style.height = `${height}%`;
      bar.createDiv({ text: stat.reviewed.toString(), cls: "bar-value" });
    });
  }
  renderBarChart(container, data) {
    const chart = container.createDiv({ cls: "chart-canvas" });
    const maxValue = Math.max(...data.map((d) => d.reviewed));
    data.forEach((stat) => {
      const barGroup = chart.createDiv({ cls: "bar-group" });
      const barContainer = barGroup.createDiv({ cls: "bar" });
      const height = maxValue > 0 ? stat.reviewed / maxValue * 100 : 0;
      barContainer.style.height = `${height}%`;
      barContainer.title = `${stat.reviewed} reviews`;
      const barLabel = barGroup.createDiv({ cls: "bar-label" });
      const date = new Date(stat.date);
      barLabel.textContent = date.getDate().toString();
    });
  }
  renderLineChart(container, data, key) {
    const chart = container.createDiv({ cls: "line-chart-canvas" });
    const points = data.map((stat, i) => {
      const x = i / (data.length - 1) * 100;
      const y = 100 - stat[key] * 100;
      return { x, y, value: stat[key] };
    });
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", "0 0 100 100");
    svg.setAttribute("preserveAspectRatio", "none");
    svg.style.width = "100%";
    svg.style.height = "200px";
    const pathData = points.map(
      (p, i) => `${i === 0 ? "M" : "L"} ${p.x} ${p.y}`
    ).join(" ");
    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
    path.setAttribute("d", pathData);
    path.setAttribute("fill", "none");
    path.setAttribute("stroke", "var(--interactive-accent)");
    path.setAttribute("stroke-width", "2");
    svg.appendChild(path);
    chart.appendChild(svg);
    const labelsContainer = container.createDiv({ cls: "chart-labels" });
    data.forEach((stat, i) => {
      if (i % Math.ceil(data.length / 7) === 0) {
        const chartLabel = labelsContainer.createDiv({ cls: "chart-label" });
        const date = new Date(stat.date);
        chartLabel.textContent = `${date.getMonth() + 1}/${date.getDate()}`;
      }
    });
  }
  renderHeatmap(container) {
    const heatmapData = this.analytics.getHeatmapData(90);
    const weeks = [];
    let currentWeek = [];
    heatmapData.forEach((day, i) => {
      currentWeek.push(day);
      if (currentWeek.length === 7 || i === heatmapData.length - 1) {
        weeks.push(currentWeek);
        currentWeek = [];
      }
    });
    weeks.forEach((week) => {
      const weekRow = container.createDiv({ cls: "heatmap-week" });
      week.forEach((day) => {
        const cell = weekRow.createDiv({ cls: "heatmap-cell" });
        const level = Math.ceil(day.intensity * 4);
        cell.addClass(`level-${level}`);
        cell.title = `${day.date}: ${day.count} reviews`;
      });
    });
  }
  async jumpToCard(card) {
    const file = this.app.vault.getAbstractFileByPath(card.sourceFile);
    if (!(file instanceof import_obsidian12.TFile))
      return;
    const contentUnit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
    if (!contentUnit)
      return;
    const leaf = this.app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian12.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          editor.setCursor({ line: contentUnit.source.position.line, ch: 0 });
          editor.scrollIntoView({
            from: { line: contentUnit.source.position.line, ch: 0 },
            to: { line: contentUnit.source.position.line, ch: 0 }
          }, true);
        }
      }
    }, 100);
  }
  async deleteFlashcard(cardId) {
    try {
      await this.plugin.flashcardManager.deleteCard(cardId);
      new import_obsidian12.Notice("\u{1F5D1}\uFE0F \u95EA\u5361\u5DF2\u5220\u9664");
      this.render();
    } catch (error) {
      console.error("Error deleting flashcard:", error);
      new import_obsidian12.Notice("\u274C \u5220\u9664\u95EA\u5361\u5931\u8D25");
    }
  }
  showClearStatsModal() {
    var _a, _b, _c, _d, _e;
    const modal = document.createElement("div");
    modal.className = "modal-container";
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">Clear Statistics</div>
        <div class="modal-content">
          <p>Choose what statistics to clear:</p>
          <div class="clear-options">
            <button class="clear-option-btn" data-action="all">
              \u{1F5D1}\uFE0F Clear All Statistics
              <span class="option-desc">Reset all cards and review logs</span>
            </button>
            <button class="clear-option-btn" data-action="old">
              \u{1F4C5} Clear Old Data (30+ days)
              <span class="option-desc">Keep recent 30 days only</span>
            </button>
            <button class="clear-option-btn" data-action="deck">
              \u{1F4DA} Clear Specific Deck
              <span class="option-desc">Choose a deck to reset</span>
            </button>
          </div>
        </div>
        <div class="modal-button-container">
          <button class="mod-cta cancel-btn">Cancel</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => {
      modal.remove();
    });
    (_b = modal.querySelector('[data-action="all"]')) == null ? void 0 : _b.addEventListener("click", async () => {
      if (confirm("\u26A0\uFE0F This will reset ALL statistics and card progress. Are you sure?")) {
        await this.analytics.clearAllStats();
        new import_obsidian12.Notice("\u2705 All statistics cleared");
        modal.remove();
        this.render();
      }
    });
    (_c = modal.querySelector('[data-action="old"]')) == null ? void 0 : _c.addEventListener("click", async () => {
      if (confirm("Clear statistics older than 30 days?")) {
        await this.analytics.clearStatsBeforeDate(30);
        new import_obsidian12.Notice("\u2705 Old statistics cleared");
        modal.remove();
        this.render();
      }
    });
    (_d = modal.querySelector('[data-action="deck"]')) == null ? void 0 : _d.addEventListener("click", () => {
      modal.remove();
      this.showDeckSelectionModal();
    });
    (_e = modal.querySelector(".modal-bg")) == null ? void 0 : _e.addEventListener("click", () => {
      modal.remove();
    });
  }
  showDeckSelectionModal() {
    var _a, _b;
    const deckStats = this.analytics.getDeckStats();
    if (deckStats.length === 0) {
      new import_obsidian12.Notice("No decks available");
      return;
    }
    const modal = document.createElement("div");
    modal.className = "modal-container";
    let optionsHtml = "";
    deckStats.forEach((deck) => {
      optionsHtml += `
        <button class="clear-option-btn deck-option" data-deck="${deck.deckName}">
          \u{1F4DA} ${deck.deckName}
          <span class="option-desc">${deck.totalCards} cards</span>
        </button>
      `;
    });
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">Select Deck to Clear</div>
        <div class="modal-content">
          <div class="clear-options">
            ${optionsHtml}
          </div>
        </div>
        <div class="modal-button-container">
          <button class="mod-cta cancel-btn">Cancel</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => {
      modal.remove();
    });
    modal.querySelectorAll(".deck-option").forEach((btn) => {
      btn.addEventListener("click", async () => {
        const deckName = btn.dataset.deck;
        if (deckName && confirm(`Clear statistics for deck "${deckName}"?`)) {
          await this.analytics.clearDeckStats(deckName);
          new import_obsidian12.Notice(`\u2705 Statistics cleared for ${deckName}`);
          modal.remove();
          this.render();
        }
      });
    });
    (_b = modal.querySelector(".modal-bg")) == null ? void 0 : _b.addEventListener("click", () => {
      modal.remove();
    });
  }
  async generateAndShowReport() {
    const report = this.analytics.generateReport(30);
    const fileName = `Learning Report ${new Date().toISOString().split("T")[0]}.md`;
    try {
      let file = this.app.vault.getAbstractFileByPath(fileName);
      if (file instanceof import_obsidian12.TFile) {
        if (!confirm(`Report "${fileName}" already exists. Overwrite?`)) {
          return;
        }
        await this.app.vault.modify(file, report);
      } else {
        file = await this.app.vault.create(fileName, report);
      }
      const leaf = this.app.workspace.getLeaf(false);
      await leaf.openFile(file);
      new import_obsidian12.Notice("\u{1F4CA} Report generated!");
    } catch (error) {
      console.error("Error generating report:", error);
      new import_obsidian12.Notice("\u274C Failed to generate report");
    }
  }
  addStyles() {
    const styleEl = document.createElement("style");
    styleEl.textContent = `
      .stats-container {
        padding: 20px;
        overflow-y: auto;
      }

      .stats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .stats-header h2 {
        margin: 0;
      }

      .stats-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 20px;
        border-bottom: 2px solid var(--background-modifier-border);
      }

      .tab {
        padding: 10px 20px;
        cursor: pointer;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
        user-select: none;
      }

      .tab:hover {
        background: var(--background-modifier-hover);
      }

      .tab.active {
        border-bottom-color: var(--interactive-accent);
        color: var(--interactive-accent);
        font-weight: 600;
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
      }

      .metric-card {
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
        display: flex;
        gap: 15px;
        align-items: center;
      }

      .metric-icon {
        font-size: 32px;
      }

      .metric-content {
        flex: 1;
      }

      .metric-title {
        font-size: 0.9em;
        color: var(--text-muted);
        margin-bottom: 5px;
      }

      .metric-value {
        font-size: 1.8em;
        font-weight: 600;
      }

      .week-comparison {
        margin-bottom: 30px;
      }

      .comparison-grid {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 15px;
      }

      .comparison-item {
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 6px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .comparison-label {
        font-weight: 500;
      }

      .comparison-values {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .this-week {
        font-weight: 600;
        font-size: 1.1em;
      }

      .last-week {
        color: var(--text-muted);
      }

      .change {
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.9em;
        font-weight: 500;
      }

      .change.positive {
        background: var(--background-modifier-success);
        color: var(--text-on-accent);
      }

      .change.negative {
        background: var(--background-modifier-error);
        color: white;
      }

      .chart-section {
        margin-bottom: 30px;
      }

      .recent-activity .activity-chart {
        display: flex;
        justify-content: space-around;
        align-items: flex-end;
        height: 150px;
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
      }

      .simple-bar {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        flex: 1;
      }

      .simple-bar .bar-container {
        width: 100%;
        height: 100px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
      }

      .simple-bar .bar-fill {
        width: 60%;
        background: var(--interactive-accent);
        border-radius: 4px 4px 0 0;
        transition: height 0.3s;
      }

      .bar-label, .bar-value {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .heatmap {
        display: flex;
        flex-direction: column;
        gap: 4px;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 8px;
      }

      .heatmap-week {
        display: flex;
        gap: 4px;
      }

      .heatmap-cell {
        width: 12px;
        height: 12px;
        background: var(--background-primary);
        border-radius: 2px;
        cursor: pointer;
      }

      .heatmap-cell.level-1 { background: rgba(94, 156, 235, 0.3); }
      .heatmap-cell.level-2 { background: rgba(94, 156, 235, 0.5); }
      .heatmap-cell.level-3 { background: rgba(94, 156, 235, 0.7); }
      .heatmap-cell.level-4 { background: rgba(94, 156, 235, 1); }

      .decks-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 15px;
      }

      .deck-card {
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
        border: 1px solid var(--background-modifier-border);
      }

      .deck-card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--background-modifier-border);
      }

      .deck-card-header h4 {
        margin: 0;
      }

      .deck-badge {
        padding: 4px 10px;
        background: var(--interactive-accent);
        color: white;
        border-radius: 12px;
        font-size: 0.85em;
      }

      .deck-card-stats {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 15px;
      }

      .stat-row {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .stat-icon {
        width: 20px;
      }

      .stat-label {
        flex: 1;
        color: var(--text-muted);
      }

      .stat-value {
        font-weight: 500;
      }

      .deck-progress {
        margin-top: 15px;
      }

      .progress-bar-container {
        height: 8px;
        background: var(--background-primary);
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 5px;
      }

      .progress-bar-fill {
        height: 100%;
        background: var(--interactive-accent);
        transition: width 0.3s;
      }

      .progress-label {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .difficult-cards-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .difficult-card-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 8px;
        border: 1px solid var(--background-modifier-border);
      }

      .card-rank {
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--interactive-accent);
        color: white;
        border-radius: 50%;
        font-weight: 600;
        flex-shrink: 0;
      }

      .card-content {
        flex: 1;
      }

      .card-question {
        font-weight: 500;
        margin-bottom: 8px;
      }

      .card-meta {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom:8px;
      } 

.pattern-badge, .error-count, .avg-time {
    padding: 3px 10px;
    background: var(--background-primary);
    border-radius: 12px;
    font-size: 0.85em;
  }

  .difficulty-bar-container {
    height: 6px;
    background: var(--background-primary);
    border-radius: 3px;
    overflow: hidden;
  }

  .difficulty-bar {
    height: 100%;
    background: linear-gradient(to right, var(--color-green), var(--color-yellow), var(--color-red));
    transition: width 0.3s;
  }

  .card-actions {
    display: flex;
    gap: 8px;
  }

  .action-btn-small {
    padding: 6px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn-small:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }

  .action-btn-small.delete-btn:hover {
    background: var(--color-red);
    border-color: var(--color-red);
    color: white;
  }

  .empty-message {
    text-align: center;
    padding: 40px;
    color: var(--text-muted);
    font-size: 1.1em;
  }

  .report-section {
    text-align: center;
    margin-top: 30px;
    padding: 20px;
  }

  .chart-canvas {
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    height: 200px;
    padding: 20px;
    background: var(--background-secondary);
    border-radius: 8px;
    margin-bottom: 10px;
  }

  .bar-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    height: 100%;
  }

  .bar-group .bar {
    width: 80%;
    background: var(--interactive-accent);
    border-radius: 4px 4px 0 0;
    transition: height 0.3s;
    margin-top: auto;
  }

  .line-chart-canvas {
    background: var(--background-secondary);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 10px;
  }

  .chart-labels {
    display: flex;
    justify-content: space-around;
    padding: 10px 20px;
    background: var(--background-secondary);
    border-radius: 8px;
  }

  .chart-label {
    font-size: 0.85em;
    color: var(--text-muted);
  }
    .modal-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-bg {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
}

.modal {
  position: relative;
  background: var(--background-primary);
  border-radius: 8px;
  padding: 20px;
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.modal-title {
  font-size: 1.5em;
  font-weight: 600;
  margin-bottom: 15px;
}

.modal-content {
  margin-bottom: 20px;
}

.clear-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 15px;
}

.clear-option-btn {
  padding: 15px;
  background: var(--background-secondary);
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  cursor: pointer;
  text-align: left;
  transition: all 0.2s;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.clear-option-btn:hover {
  border-color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

.option-desc {
  font-size: 0.85em;
  color: var(--text-muted);
}

.modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}
`;
    document.head.appendChild(styleEl);
  }
};

// src/core/DataManager.ts
var DataManager = class {
  // 5分钟
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.contentUnits = /* @__PURE__ */ new Map();
    this.fileIndex = /* @__PURE__ */ new Map();
    this.CACHE_TTL = 5 * 60 * 1e3;
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.ensureDataFolder();
    await this.loadData();
  }
  async ensureDataFolder() {
    const adapter = this.app.vault.adapter;
    if (!await adapter.exists(this.dataFolder)) {
      await adapter.mkdir(this.dataFolder);
    }
    const subfolders = ["indexes", "config", "cache"];
    for (const folder of subfolders) {
      const path = `${this.dataFolder}/${folder}`;
      if (!await adapter.exists(path)) {
        await adapter.mkdir(path);
      }
    }
  }
  async loadData() {
    try {
      const contentPath = `${this.dataFolder}/content-units.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(contentPath)) {
        const data = await adapter.read(contentPath);
        const units = JSON.parse(data);
        for (const unit of units) {
          this.contentUnits.set(unit.id, unit);
          if (!this.fileIndex.has(unit.source.file)) {
            this.fileIndex.set(unit.source.file, []);
          }
          this.fileIndex.get(unit.source.file).push(unit.id);
        }
      }
    } catch (error) {
      console.error("Error loading data:", error);
    }
  }
  async saveContentUnit(unit) {
    this.contentUnits.set(unit.id, unit);
    if (!this.fileIndex.has(unit.source.file)) {
      this.fileIndex.set(unit.source.file, []);
    }
    if (!this.fileIndex.get(unit.source.file).includes(unit.id)) {
      this.fileIndex.get(unit.source.file).push(unit.id);
    }
    await this.persist();
  }
  async saveContentUnits(units) {
    for (const unit of units) {
      this.contentUnits.set(unit.id, unit);
      if (!this.fileIndex.has(unit.source.file)) {
        this.fileIndex.set(unit.source.file, []);
      }
      if (!this.fileIndex.get(unit.source.file).includes(unit.id)) {
        this.fileIndex.get(unit.source.file).push(unit.id);
      }
    }
    await this.persist();
  }
  getContentUnit(id) {
    return this.contentUnits.get(id);
  }
  getContentUnitsByFile(filePath) {
    const ids = this.fileIndex.get(filePath) || [];
    return ids.map((id) => this.contentUnits.get(id)).filter(Boolean);
  }
  getContentUnitsByType(type) {
    return Array.from(this.contentUnits.values()).filter((unit) => unit.type === type);
  }
  getAllContentUnits(page, size) {
    const all = Array.from(this.contentUnits.values());
    if (!page || !size)
      return all;
    return all.slice(page * size, (page + 1) * size);
  }
  async deleteContentUnit(id) {
    const unit = this.contentUnits.get(id);
    if (unit) {
      this.contentUnits.delete(id);
      const fileUnits = this.fileIndex.get(unit.source.file);
      if (fileUnits) {
        const index = fileUnits.indexOf(id);
        if (index > -1) {
          fileUnits.splice(index, 1);
        }
      }
      await this.persist();
    }
  }
  /** 对外统一保存入口 */
  async save() {
    await this.persist();
  }
  async persist() {
    try {
      const contentPath = `${this.dataFolder}/content-units.json`;
      const units = Array.from(this.contentUnits.values());
      const data = JSON.stringify(units, null, 2);
      await this.app.vault.adapter.write(contentPath, data);
      const indexPath = `${this.dataFolder}/indexes/file-index.json`;
      const indexData = JSON.stringify(
        Object.fromEntries(this.fileIndex),
        null,
        2
      );
      await this.app.vault.adapter.write(indexPath, indexData);
    } catch (error) {
      console.error("Error persisting data:", error);
    }
  }
  // 🔧 优化 : 批量操作使用事务
  async transaction(operations) {
    try {
      await operations();
      await this.persist();
    } catch (error) {
      await this.loadData();
      throw error;
    }
  }
};

// src/core/ExtractionEngine.ts
var import_obsidian13 = require("obsidian");
var ExtractionEngine = class {
  constructor(app, dataManager, flashcardManager, plugin) {
    this.app = app;
    this.dataManager = dataManager;
    this.flashcardManager = flashcardManager;
    this.plugin = plugin;
  }
  /**
   * 注册右键菜单
   */
  registerContextMenu(menu, editor, file) {
    const selection = editor.getSelection();
    if (!selection)
      return;
    menu.addItem((item) => {
      item.setTitle("\u{1F4DD} Extract as text only").setIcon("file-text").onClick(async () => {
        await this.extractSelectedText(editor, file, "text");
      });
    });
    menu.addItem((item) => {
      item.setTitle("\u2753 Extract as QA card").setIcon("help-circle").onClick(async () => {
        await this.extractSelectedText(editor, file, "QA");
      });
    });
    menu.addItem((item) => {
      item.setTitle("\u270F\uFE0F Extract as Cloze card").setIcon("highlighter").onClick(async () => {
        await this.extractSelectedText(editor, file, "cloze");
      });
    });
  }
  /**
   * 提取选中的文本
   */
  async extractSelectedText(editor, file, extractType) {
    var _a;
    const selection = editor.getSelection();
    if (!selection) {
      new import_obsidian13.Notice("No text selected");
      return;
    }
    const cursor = editor.getCursor("from");
    const content = await this.app.vault.read(file);
    const offset = this.getOffsetFromCursor(content, cursor.line, cursor.ch);
    try {
      let unit;
      switch (extractType) {
        case "text":
          unit = this.createTextUnit(file, selection, offset, content);
          break;
        case "QA":
          unit = this.createQAUnit(file, selection, offset, content);
          break;
        case "cloze":
          unit = this.createClozeUnit(file, selection, offset, content);
          break;
      }
      const existingUnit = await this.findDuplicateUnit(unit);
      if (existingUnit) {
        new import_obsidian13.Notice(`\u26A0\uFE0F This content was already extracted`);
        return;
      }
      await this.dataManager.saveContentUnits([unit]);
      if (extractType === "QA" || extractType === "cloze") {
        try {
          const cardType = extractType === "QA" ? "qa" : "cloze";
          const flashcard = await this.flashcardManager.createFlashcardFromUnit(unit, {
            cardType
          });
          await this.dataManager.saveContentUnits([unit]);
        } catch (error) {
          console.error("[extractSelectedText] \u521B\u5EFA\u95EA\u5361\u5931\u8D25:", error);
        }
      } else if (extractType === "text") {
        if ((_a = this.plugin) == null ? void 0 : _a.unlockSystem) {
          await this.plugin.unlockSystem.onCardExtracted();
        }
      }
      const typeNames = {
        text: "text",
        QA: "QA card",
        cloze: "cloze card"
      };
      new import_obsidian13.Notice(`\u2705 Extracted as ${typeNames[extractType]}`);
      this.refreshAllViews();
    } catch (error) {
      console.error("Error extracting selection:", error);
      new import_obsidian13.Notice(`\u274C Error: ${error.message}`);
    }
  }
  /**
   * 🆕 查找重复的 ContentUnit
   * 根据文件路径和位置判断是否已存在
   */
  async findDuplicateUnit(unit) {
    const allUnits = await this.dataManager.getAllContentUnits();
    const duplicate = allUnits.find(
      (existing) => existing.source.file === unit.source.file && existing.source.position.start === unit.source.position.start && existing.source.position.end === unit.source.position.end && existing.type === unit.type
    );
    return duplicate || null;
  }
  /**
   * 🆕 检查内容是否重复（基于内容相似度）
   */
  isContentDuplicate(content1, content2) {
    const normalized1 = content1.trim().toLowerCase();
    const normalized2 = content2.trim().toLowerCase();
    return normalized1 === normalized2;
  }
  /**
   * 创建纯文本单元
   */
  createTextUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    return {
      id: this.generateId(),
      type: "text",
      content: selection.trim(),
      fullContext: selection.trim(),
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "text-manual",
        ruleName: "Manual Text Extract",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 创建 QA 卡片单元
   */
  createQAUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    let question, answer;
    if (selection.includes("::")) {
      const parts = selection.split("::");
      question = parts[0].trim();
      answer = parts.slice(1).join("::").trim();
    } else {
      question = selection.trim();
      answer = "[Answer needed]";
    }
    return {
      id: this.generateId(),
      type: "QA",
      content: question,
      answer,
      fullContext: selection.trim(),
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "QA-manual",
        ruleName: "Manual QA Card",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 创建完形填空卡片单元
   */
  createClozeUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    const fullSentence = this.extractFullSentence(fileContent, offset, selection.length);
    return {
      id: this.generateId(),
      type: "cloze",
      content: selection.trim(),
      fullContext: fullSentence,
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "cloze-manual",
        ruleName: "Manual Cloze Card",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 从光标位置计算文件偏移量
   */
  getOffsetFromCursor(content, line, ch) {
    const lines = content.split("\n");
    let offset = 0;
    for (let i = 0; i < line; i++) {
      offset += lines[i].length + 1;
    }
    offset += ch;
    return offset;
  }
  /**
   * 扫描单个文件
   */
  async scanFile(file) {
    try {
      const content = await this.app.vault.read(file);
      const units = await this.extractContent(file, content);
      if (units.length > 0) {
        await this.dataManager.saveContentUnits(units);
        const qaCount = units.filter((u) => u.type === "QA").length;
        const clozeCount = units.filter((u) => u.type === "cloze").length;
        new import_obsidian13.Notice(`Extracted ${qaCount} QA cards and ${clozeCount} cloze cards from ${file.name}`);
        setTimeout(() => {
          this.refreshAllViews();
        }, 100);
      }
      return units.length;
    } catch (error) {
      console.error("[scanFile] \u9519\u8BEF:", error);
      new import_obsidian13.Notice(`Error scanning file: ${error.message}`);
      return 0;
    }
  }
  /**
   * 刷新所有相关视图
   */
  refreshAllViews() {
    this.app.workspace.iterateAllLeaves((leaf) => {
      const viewType = leaf.view.getViewType();
      if (viewType === "learning-system-sidebar-overview" || viewType === "learning-system-main-overview") {
        const view = leaf.view;
        if (view && typeof view.refresh === "function") {
          view.refresh();
        }
      }
    });
  }
  /**
   * 扫描整个 Vault
   */
  async scanVault() {
    const files = this.app.vault.getMarkdownFiles();
    let scanned = 0;
    let extracted = 0;
    new import_obsidian13.Notice(`Scanning ${files.length} files...`);
    for (const file of files) {
      const count = await this.scanFile(file);
      scanned++;
      extracted += count;
    }
    new import_obsidian13.Notice(`Scan complete! Extracted ${extracted} items from ${scanned} files.`);
    return { scanned, extracted };
  }
  /**
   * 🔧 修改: 先保存 units，再创建闪卡，同时过滤重复项
   */
  async extractContent(file, content) {
    const units = [];
    const qaUnits = this.extractQACards(file, content);
    const clozeUnits = await this.extractClozeCards(file, content);
    const allExtractedUnits = [...qaUnits, ...clozeUnits];
    const existingUnits = await this.dataManager.getAllContentUnits();
    const newUnits = await this.filterDuplicateUnits(allExtractedUnits, existingUnits);
    if (newUnits.length === 0) {
      new import_obsidian13.Notice(` ${file.name}: \u6CA1\u6709\u65B0\u5185\u5BB9\u9700\u8981\u63D0\u53D6`);
      return [];
    }
    if (newUnits.length < allExtractedUnits.length) {
      const skipped = allExtractedUnits.length - newUnits.length;
      new import_obsidian13.Notice(` ${file.name}: \u8DF3\u8FC7 ${skipped} \u4E2A\u91CD\u590D\u9879`);
    }
    units.push(...newUnits);
    if (units.length > 0) {
      await this.dataManager.saveContentUnits(units);
    }
    for (const unit of units) {
      try {
        const cardType = unit.type === "QA" ? "qa" : "cloze";
        const flashcard = await this.flashcardManager.createFlashcardFromUnit(unit, {
          cardType
        });
      } catch (error) {
        console.error("[extractContent] \u521B\u5EFA\u95EA\u5361\u5931\u8D25:", error);
      }
    }
    return units;
  }
  /**
   * 🆕 过滤重复的 units
   * 根据文件路径、位置和内容判断是否重复
   */
  async filterDuplicateUnits(newUnits, existingUnits) {
    const filtered = [];
    for (const newUnit of newUnits) {
      const isDuplicate = existingUnits.some((existing) => {
        const sameLocation = existing.source.file === newUnit.source.file && existing.source.position.start === newUnit.source.position.start && existing.source.position.end === newUnit.source.position.end && existing.type === newUnit.type;
        const sameContent = existing.source.file === newUnit.source.file && existing.type === newUnit.type && this.isContentDuplicate(existing.content, newUnit.content) && this.isContentDuplicate(existing.fullContext || "", newUnit.fullContext || "");
        const sameQA = existing.type === "QA" && newUnit.type === "QA" && existing.source.file === newUnit.source.file && this.isContentDuplicate(existing.content, newUnit.content) && this.isContentDuplicate(existing.answer || "", newUnit.answer || "");
        return sameLocation || sameContent || sameQA;
      });
      if (!isDuplicate) {
        filtered.push(newUnit);
      }
    }
    return filtered;
  }
  /**
   * ✅ 检查是否为任务完成标记
   * 排除: [completion:: date], [due:: date] 等任务相关的 :: 格式
   */
  isTaskCompletion(line) {
    const taskPattern = /^[\s]*-\s*\[[x\s]\].*::/i;
    return taskPattern.test(line);
  }
  /**
   * ✅ 检查是否为日期/时间字段
   * 排除: date1:: 2021-02-26T15:15, date2:: 2021-04-17 18:00 等格式
   */
  isDateTimeField(question, answer) {
    const dateFieldPattern = /\b(date\d*|time\d*|created|updated|modified|scheduled|due|completion)\b/i;
    const dateTimePattern = /^\s*\d{4}-\d{2}-\d{2}(T|\s)\d{2}:\d{2}|\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}/;
    const dateOnlyPattern = /^\s*\d{4}-\d{2}-\d{2}\s*$/;
    return dateFieldPattern.test(question) && (dateTimePattern.test(answer) || dateOnlyPattern.test(answer));
  }
  /**
   * ✅ 检查是否为 Excalidraw 高亮
   * 排除: ==switch to excalidraw view...== 这类特定高亮
   */
  isExcalidrawHighlight(matchText, line) {
    const excalidrawKeywords = /excalidraw|drawing|sketch/i;
    return excalidrawKeywords.test(matchText) || excalidrawKeywords.test(line);
  }
  /**
   * ✅ 提取 QA 卡片 (格式: Question :: Answer)
   * 新增: 过滤任务完成标记和日期时间字段
   */
  extractQACards(file, content) {
    const units = [];
    const qaRegex = /^(.+?)\s*::\s*(.+?)$/gm;
    let match;
    while ((match = qaRegex.exec(content)) !== null) {
      const fullMatch = match[0];
      const question = match[1].trim();
      const answer = match[2].trim();
      if (this.isTaskCompletion(fullMatch)) {
        continue;
      }
      if (this.isDateTimeField(question, answer)) {
        continue;
      }
      const position = this.calculatePosition(content, match.index);
      const unit = {
        id: this.generateId(),
        type: "QA",
        content: question,
        answer,
        fullContext: fullMatch,
        source: {
          file: file.path,
          position: {
            start: match.index,
            end: match.index + fullMatch.length,
            line: position.line
          },
          heading: this.findHeading(content, match.index),
          anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
        },
        extractRule: {
          ruleId: "QA",
          ruleName: "QA Card",
          extractedBy: "auto"
        },
        metadata: {
          createdAt: Date.now(),
          updatedAt: Date.now(),
          tags: this.extractTags(content, match.index)
        },
        flashcardIds: []
      };
      units.push(unit);
    }
    return units;
  }
  /**
   * ✅ 提取完形填空卡 (格式: ==highlight==)
   * 新增: 过滤 Excalidraw 高亮
   */
  // private extractClozeCards(file: TFile, content: string): ContentUnit[] {
  //   const units: ContentUnit[] = [];
  //   const highlightRegex = /==(.+?)==/g;
  //   let match;
  //   while ((match = highlightRegex.exec(content)) !== null) {
  //     const extractedText = match[1];
  //     const fullMatch = match[0];
  //     const position = this.calculatePosition(content, match.index);
  //     // 获取当前行内容
  //     const lineStart = content.lastIndexOf('\n', match.index) + 1;
  //     const lineEnd = content.indexOf('\n', match.index);
  //     const currentLine = content.substring(lineStart, lineEnd === -1 ? content.length : lineEnd);
  //     // ✅ 跳过 Excalidraw 高亮
  //     if (this.isExcalidrawHighlight(extractedText, currentLine)) {
  //       continue;
  //     }
  //     const fullSentence = this.extractFullSentence(content, match.index, fullMatch.length);
  //     const unit: ContentUnit = {
  //       id: this.generateId(),
  //       type: 'cloze',
  //       content: extractedText.trim(),
  //       fullContext: fullSentence,
  //       source: {
  //         file: file.path,
  //         position: {
  //           start: match.index,
  //           end: match.index + fullMatch.length,
  //           line: position.line
  //         },
  //         heading: this.findHeading(content, match.index),
  //         anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
  //       },
  //       extractRule: {
  //         ruleId: 'cloze',
  //         ruleName: 'Cloze Deletion',
  //         extractedBy: 'auto'
  //       },
  //       metadata: {
  //         createdAt: Date.now(),
  //         updatedAt: Date.now(),
  //         tags: this.extractTags(content, match.index)
  //       },
  //       flashcardIds: []
  //     };
  //     units.push(unit);
  //   }
  //   return units;
  // }
  /**
   * 提取包含高亮的完整句子
   */
  extractFullSentence(content, highlightStart, highlightLength) {
    const sentenceEnds = /[.!?。！?\n]/;
    let start = highlightStart;
    while (start > 0) {
      const char = content[start - 1];
      if (sentenceEnds.test(char)) {
        break;
      }
      start--;
    }
    let end = highlightStart + highlightLength;
    while (end < content.length) {
      const char = content[end];
      if (sentenceEnds.test(char)) {
        end++;
        break;
      }
      end++;
    }
    return content.substring(start, end).trim();
  }
  /**
   * 计算文本位置
   */
  calculatePosition(content, offset) {
    const lines = content.substring(0, offset).split("\n");
    return {
      line: lines.length - 1,
      column: lines[lines.length - 1].length
    };
  }
  /**
   * 查找所在标题
   */
  findHeading(content, position) {
    const beforeContent = content.substring(0, position);
    const headings = beforeContent.match(/^#{1,6} .+$/gm);
    return headings ? headings[headings.length - 1] : void 0;
  }
  /**
   * 提取附近的标签
   */
  extractTags(content, position) {
    const tags = /* @__PURE__ */ new Set();
    const yamlMatch = content.match(/^---\n([\s\S]*?)\n---/);
    if (yamlMatch) {
      const yamlContent = yamlMatch[1];
      const tagsMatch = yamlContent.match(/^tags:\s*(.+)$/m);
      if (tagsMatch) {
        const tagContent = tagsMatch[1].trim();
        if (tagContent.startsWith("[")) {
          const arrayTags = tagContent.match(/[\w/-]+/g);
          arrayTags == null ? void 0 : arrayTags.forEach((tag) => tags.add(`#${tag}`));
        } else {
          tagContent.split(",").forEach((tag) => {
            const cleaned = tag.trim();
            if (cleaned)
              tags.add(`#${cleaned}`);
          });
        }
      }
    }
    const lines = content.substring(0, position).split("\n");
    const currentLine = lines.length - 1;
    const lineContent = content.split("\n")[currentLine] || "";
    const inlineTagRegex = /#[\w/-]+/g;
    const inlineTags = lineContent.match(inlineTagRegex);
    inlineTags == null ? void 0 : inlineTags.forEach((tag) => tags.add(tag));
    return Array.from(tags);
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
  /**
   * 生成 Block ID
   */
  generateBlockId() {
    return `extract-${Date.now()}-${Math.random().toString(36).substr(2, 6)}`;
  }
  // 表格提取方法
  /**
   * 🆕 检测高亮是否在表格中
   */
  isInTable(content, position) {
    var _a, _b, _c;
    const lines = content.split("\n");
    const { line } = this.calculatePosition(content, position);
    if (!((_a = lines[line]) == null ? void 0 : _a.includes("|"))) {
      return false;
    }
    const hasPrevTableLine = line > 0 && ((_b = lines[line - 1]) == null ? void 0 : _b.includes("|"));
    const hasNextTableLine = line < lines.length - 1 && ((_c = lines[line + 1]) == null ? void 0 : _c.includes("|"));
    return hasPrevTableLine || hasNextTableLine;
  }
  /**
   * 🆕 提取表格及其高亮信息
   */
  extractTableWithHighlights(content, highlightPosition) {
    var _a, _b;
    const lines = content.split("\n");
    const { line: currentLine } = this.calculatePosition(content, highlightPosition);
    let tableStart = currentLine;
    let tableEnd = currentLine;
    while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
      tableStart--;
    }
    while (tableEnd < lines.length - 1 && ((_b = lines[tableEnd + 1]) == null ? void 0 : _b.includes("|"))) {
      tableEnd++;
    }
    const tableLines = lines.slice(tableStart, tableEnd + 1);
    const tableContent = tableLines.join("\n");
    const highlightRegex = /==(.+?)==/g;
    const highlightRows = /* @__PURE__ */ new Set();
    const highlightColumns = /* @__PURE__ */ new Set();
    let highlightCount = 0;
    tableLines.forEach((line, rowIndex) => {
      const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
      if (cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell))) {
        return;
      }
      cells.forEach((cell, colIndex) => {
        if (highlightRegex.test(cell)) {
          highlightRows.add(rowIndex);
          highlightColumns.add(colIndex);
          highlightCount++;
        }
      });
    });
    return {
      tableContent,
      highlightCount,
      highlightRows,
      highlightColumns
    };
  }
  /**
   * 🆕 根据高亮位置提取表格的特定部分
   */
  extractTablePortion(tableLines, highlightRows, highlightColumns, highlightCount) {
    const totalRows = tableLines.length;
    const separatorIndex = tableLines.findIndex((line, idx) => {
      if (idx === 0)
        return false;
      const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
      return cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell));
    });
    const actualSeparatorIndex = separatorIndex !== -1 ? separatorIndex : 1;
    const firstDataRow = tableLines[separatorIndex + 1] || tableLines[1];
    const columnCount = firstDataRow.split("|").filter((c) => c.trim()).length;
    if (highlightColumns.size === columnCount || highlightCount >= totalRows - 1) {
      return tableLines.join("\n");
    }
    if (highlightRows.size === 1) {
      const highlightRow = Array.from(highlightRows)[0];
      const result2 = [
        tableLines[0],
        // 表头
        tableLines[separatorIndex],
        // 分隔符
        tableLines[highlightRow]
        // 高亮行
      ];
      return result2.join("\n");
    }
    const result = [tableLines[0], tableLines[separatorIndex]];
    highlightRows.forEach((rowIndex) => {
      if (rowIndex !== 0 && rowIndex !== separatorIndex) {
        result.push(tableLines[rowIndex]);
      }
    });
    return result.join("\n");
  }
  async extractClozeCards(file, content) {
    var _a, _b;
    const units = [];
    const highlightRegex = /==(.+?)==/g;
    const processedTables = /* @__PURE__ */ new Set();
    const processedHighlights = /* @__PURE__ */ new Set();
    let match;
    while ((match = highlightRegex.exec(content)) !== null) {
      const extractedText = match[1];
      const fullMatch = match[0];
      const position = this.calculatePosition(content, match.index);
      if (processedHighlights.has(match.index)) {
        continue;
      }
      const lineStart = content.lastIndexOf("\n", match.index) + 1;
      const lineEnd = content.indexOf("\n", match.index);
      const currentLine = content.substring(lineStart, lineEnd === -1 ? content.length : lineEnd);
      if (this.isExcalidrawHighlight(extractedText, currentLine)) {
        continue;
      }
      if (this.isInTable(content, match.index)) {
        const tableInfo = this.extractTableWithHighlights(content, match.index);
        if (tableInfo) {
          const tableKey = `${file.path}-${tableInfo.tableContent.substring(0, 50)}`;
          if (processedTables.has(tableKey)) {
            continue;
          }
          processedTables.add(tableKey);
          const tableHighlights = this.findAllHighlightsInTable(content, tableInfo.tableContent, match.index);
          tableHighlights.forEach((pos) => processedHighlights.add(pos));
          const lines = content.split("\n");
          const { line: currentLine2 } = this.calculatePosition(content, match.index);
          let tableStart = currentLine2;
          while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
            tableStart--;
          }
          const tableLines = tableInfo.tableContent.split("\n");
          const extractedTable = this.extractTablePortion(
            tableLines,
            tableInfo.highlightRows,
            tableInfo.highlightColumns,
            tableInfo.highlightCount
          );
          const extractedLines = extractedTable.split("\n");
          const hasSeparator = extractedLines.some((line) => {
            const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
            return cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell));
          });
          if (!hasSeparator && extractedLines.length >= 2) {
            const headerCells = extractedLines[0].split("|").map((c) => c.trim()).filter((c) => c);
            const separator = "| " + headerCells.map(() => "---").join(" | ") + " |";
            extractedLines.splice(1, 0, separator);
            const extractedTable2 = extractedLines.join("\n");
          }
          let tableStartOffset = 0;
          for (let i = 0; i < tableStart; i++) {
            tableStartOffset += lines[i].length + 1;
          }
          const allHighlights = this.extractAllHighlightsFromTable(tableInfo.tableContent);
          const unit2 = {
            id: this.generateId(),
            type: "cloze",
            content: allHighlights.join(", "),
            // 🆕 包含所有高亮
            fullContext: extractedTable,
            // 显示提取的表格部分
            source: {
              file: file.path,
              position: {
                start: tableStartOffset,
                end: tableStartOffset + tableInfo.tableContent.length,
                line: tableStart
              },
              heading: this.findHeading(content, match.index),
              anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
            },
            extractRule: {
              ruleId: "cloze-table",
              ruleName: "Table Cloze Deletion",
              extractedBy: "auto"
            },
            metadata: {
              createdAt: Date.now(),
              updatedAt: Date.now(),
              tags: [...this.extractTags(content, match.index), "#table"],
              customData: {
                tableType: "partial",
                highlightCount: tableInfo.highlightCount,
                rowCount: tableInfo.highlightRows.size,
                columnCount: tableInfo.highlightColumns.size,
                allHighlights
                // 🆕 保存所有高亮
              }
            },
            flashcardIds: []
          };
          units.push(unit2);
          if ((_b = this.plugin) == null ? void 0 : _b.unlockSystem) {
            await this.plugin.unlockSystem.onTableScanned();
          }
          continue;
        }
      }
      const fullSentence = this.extractFullSentence(content, match.index, fullMatch.length);
      const unit = {
        id: this.generateId(),
        type: "cloze",
        content: extractedText.trim(),
        fullContext: fullSentence,
        source: {
          file: file.path,
          position: {
            start: match.index,
            end: match.index + fullMatch.length,
            line: position.line
          },
          heading: this.findHeading(content, match.index),
          anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
        },
        extractRule: {
          ruleId: "cloze",
          ruleName: "Cloze Deletion",
          extractedBy: "auto"
        },
        metadata: {
          createdAt: Date.now(),
          updatedAt: Date.now(),
          tags: this.extractTags(content, match.index)
        },
        flashcardIds: []
      };
      units.push(unit);
    }
    return units;
  }
  // 🆕 添加辅助方法:找到表格内所有高亮的位置
  findAllHighlightsInTable(content, tableContent, currentHighlightPos) {
    var _a, _b;
    const positions = [];
    const lines = content.split("\n");
    const { line: currentLine } = this.calculatePosition(content, currentHighlightPos);
    let tableStart = currentLine;
    let tableEnd = currentLine;
    while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
      tableStart--;
    }
    while (tableEnd < lines.length - 1 && ((_b = lines[tableEnd + 1]) == null ? void 0 : _b.includes("|"))) {
      tableEnd++;
    }
    let offset = 0;
    for (let i = 0; i < tableStart; i++) {
      offset += lines[i].length + 1;
    }
    const highlightRegex = /==(.+?)==/g;
    let match;
    const tableEndOffset = offset + tableContent.length;
    while ((match = highlightRegex.exec(content)) !== null) {
      if (match.index >= offset && match.index < tableEndOffset) {
        positions.push(match.index);
      }
    }
    return positions;
  }
  // 🆕 添加辅助方法:提取表格中所有高亮内容
  extractAllHighlightsFromTable(tableContent) {
    const highlights = [];
    const highlightRegex = /==(.+?)==/g;
    let match;
    while ((match = highlightRegex.exec(tableContent)) !== null) {
      highlights.push(match[1].trim());
    }
    return highlights;
  }
};

// src/core/AnnotationManager.ts
var AnnotationManager = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.annotations = /* @__PURE__ */ new Map();
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.loadAnnotations();
  }
  /**
   * 加载所有批注
   */
  async loadAnnotations() {
    try {
      const path = `${this.dataFolder}/annotations.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        const annotations = JSON.parse(data);
        for (const annotation of annotations) {
          this.annotations.set(annotation.id, annotation);
        }
      }
    } catch (error) {
      console.error("Error loading annotations:", error);
    }
  }
  /**
   * 添加内容批注
   */
  async addContentAnnotation(contentUnitId, content, badge) {
    const annotation = {
      id: this.generateId(),
      targetType: "content",
      targetId: contentUnitId,
      content,
      badge,
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.annotations.set(annotation.id, annotation);
    await this.persist();
    await this.plugin.unlockSystem.onAnnotationCompleted();
    const contentUnit = this.plugin.dataManager.getContentUnit(contentUnitId);
    if (contentUnit) {
      contentUnit.annotationId = annotation.id;
      contentUnit.metadata.updatedAt = Date.now();
      await this.plugin.dataManager.saveContentUnit(contentUnit);
    }
    return annotation;
  }
  /**
   * 添加文件批注
   */
  async addFileAnnotation(filePath, content) {
    const annotation = {
      id: this.generateId(),
      targetType: "file",
      targetId: filePath,
      content,
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.annotations.set(annotation.id, annotation);
    await this.persist();
    await this.plugin.unlockSystem.onAnnotationCompleted();
    return annotation;
  }
  /**
   * 获取批注
   */
  getAnnotation(id) {
    return this.annotations.get(id);
  }
  /**
   * 获取内容的批注
   */
  getContentAnnotation(contentUnitId) {
    const contentUnit = this.plugin.dataManager.getContentUnit(contentUnitId);
    if (!(contentUnit == null ? void 0 : contentUnit.annotationId))
      return void 0;
    return this.annotations.get(contentUnit.annotationId);
  }
  /**
   * 获取文件的所有批注
   */
  getFileAnnotations(filePath) {
    return Array.from(this.annotations.values()).filter(
      (ann) => ann.targetType === "file" && ann.targetId === filePath
    );
  }
  /**
   * 更新批注
   */
  async updateAnnotation(id, updates) {
    const annotation = this.annotations.get(id);
    if (!annotation)
      return;
    Object.assign(annotation, updates, {
      metadata: {
        ...annotation.metadata,
        updatedAt: Date.now()
      }
    });
    await this.persist();
  }
  /**
   * 删除批注
   */
  async deleteAnnotation(id) {
    const annotation = this.annotations.get(id);
    if (!annotation)
      return;
    if (annotation.targetType === "content") {
      const contentUnit = this.plugin.dataManager.getContentUnit(annotation.targetId);
      if (contentUnit) {
        contentUnit.annotationId = void 0;
        await this.plugin.dataManager.saveContentUnit(contentUnit);
      }
    }
    this.annotations.delete(id);
    await this.persist();
  }
  /**
   * 获取所有批注
   */
  getAllAnnotations() {
    return Array.from(this.annotations.values());
  }
  /**
   * 持久化
   */
  async persist() {
    try {
      const path = `${this.dataFolder}/annotations.json`;
      const annotations = Array.from(this.annotations.values());
      const data = JSON.stringify(annotations, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting annotations:", error);
    }
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `ann-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
};

// src/core/FlashcardManager.ts
var FlashcardManager = class {
  constructor(app, dataManager, plugin) {
    this.app = app;
    this.dataManager = dataManager;
    this.plugin = plugin;
    this.flashcards = /* @__PURE__ */ new Map();
    this.reviewLogs = [];
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.loadFlashcards();
    await this.loadReviewLogs();
  }
  // ==================== 统一创建入口 ====================
  /**
   * 🆕 统一入口: 从 ContentUnit 创建闪卡
   * 适配所有场景: 右键提取、Scan、批量创建、快速生成
   */
  async createFlashcardFromUnit(unit, options) {
    const cardType = (options == null ? void 0 : options.cardType) || (unit.type === "QA" ? "qa" : "cloze");
    let flashcard;
    if (cardType === "qa" || unit.type === "QA") {
      const question = (options == null ? void 0 : options.customQuestion) || unit.content;
      const answer = (options == null ? void 0 : options.customAnswer) || unit.answer || unit.content;
      flashcard = await this.createQACard(unit.id, question, answer);
    } else {
      const text = unit.fullContext || unit.content;
      const answer = (options == null ? void 0 : options.customAnswer) || unit.content;
      const deletions = [{
        index: text.indexOf(answer),
        answer
      }];
      flashcard = await this.createClozeCard(unit.id, text, deletions);
    }
    await this.plugin.unlockSystem.onCardExtracted();
    return flashcard;
  }
  // ==================== 核心创建方法 ====================
  /**
   * 创建问答卡（唯一版本，合并了所有功能）
   */
  async createQACard(contentUnitId, question, answer, deck) {
    const contentUnit = this.dataManager.getContentUnit(contentUnitId);
    if (!contentUnit)
      throw new Error("Content unit not found");
    const card = {
      id: this.generateId(),
      type: "qa",
      sourceContentId: contentUnitId,
      sourceFile: contentUnit.source.file,
      anchorLink: contentUnit.source.anchorLink,
      front: question,
      back: answer,
      deck: deck || this.inferDeck(contentUnit.source.file),
      tags: contentUnit.metadata.tags,
      scheduling: this.initializeScheduling(),
      stats: {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        difficulty: 0.5
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.flashcards.set(card.id, card);
    contentUnit.flashcardIds.push(card.id);
    await this.dataManager.saveContentUnits([contentUnit]);
    await this.persistFlashcards();
    return card;
  }
  /**
   * 创建完形填空卡（唯一版本，合并了所有功能）
   */
  async createClozeCard(contentUnitId, original, deletions) {
    const contentUnit = this.dataManager.getContentUnit(contentUnitId);
    if (!contentUnit)
      throw new Error("Content unit not found");
    const isTable = this.isTableFormat(original);
    const front = isTable ? original : this.generateClozeText(original, deletions);
    const back = deletions.map((d) => d.answer);
    const card = {
      id: this.generateId(),
      type: "cloze",
      sourceContentId: contentUnitId,
      sourceFile: contentUnit.source.file,
      anchorLink: contentUnit.source.anchorLink,
      front,
      back,
      cloze: {
        original,
        deletions
      },
      deck: this.inferDeck(contentUnit.source.file),
      tags: contentUnit.metadata.tags,
      scheduling: this.initializeScheduling(),
      stats: {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        difficulty: 0.5
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.flashcards.set(card.id, card);
    contentUnit.flashcardIds.push(card.id);
    await this.dataManager.saveContentUnits([contentUnit]);
    await this.persistFlashcards();
    return card;
  }
  // ← 添加辅助方法
  isTableFormat(text) {
    if (!text || !text.trim())
      return false;
    const lines = text.trim().split("\n");
    if (lines.length < 2)
      return false;
    const hasSeparator = lines.some((line) => /^\|?[\s-:|]+\|?$/.test(line.trim()));
    const pipeLines = lines.filter((line) => line.includes("|")).length;
    return hasSeparator || pipeLines >= lines.length * 0.7;
  }
  // ==================== 查询方法 ====================
  /**
   * 获取闪卡
   */
  getFlashcard(id) {
    return this.flashcards.get(id);
  }
  /**
   * 获取所有闪卡
   */
  getAllFlashcards() {
    return Array.from(this.flashcards.values());
  }
  /**
   * 获取今日待复习的卡片
   */
  getDueCards() {
    const now = Date.now();
    return Array.from(this.flashcards.values()).filter((card) => card.scheduling.due <= now).sort((a, b) => {
      const aPriority = this.getCardPriority(a);
      const bPriority = this.getCardPriority(b);
      return bPriority - aPriority;
    });
  }
  /**
   * 获取新卡片
   */
  getNewCards() {
    return Array.from(this.flashcards.values()).filter((card) => card.scheduling.state === "new");
  }
  // ==================== 更新和删除 ====================
  /**
   * 更新卡片（复习后）
   */
  async updateCard(card) {
    this.flashcards.set(card.id, card);
    await this.persistFlashcards();
  }
  /**
   * 删除卡片
   */
  async deleteCard(id) {
    const card = this.flashcards.get(id);
    if (!card)
      return;
    const contentUnit = this.dataManager.getContentUnit(card.sourceContentId);
    if (contentUnit) {
      const index = contentUnit.flashcardIds.indexOf(id);
      if (index > -1) {
        contentUnit.flashcardIds.splice(index, 1);
        await this.dataManager.saveContentUnits([contentUnit]);
      }
    }
    this.reviewLogs = this.reviewLogs.filter((log) => log.flashcardId !== id);
    await this.persistReviewLogs();
    this.flashcards.delete(id);
    await this.persistFlashcards();
  }
  // ==================== 复习日志 ====================
  /**
   * 记录复习日志
   */
  async logReview(log) {
    this.reviewLogs.push(log);
    if (this.reviewLogs.length > 1e3) {
      this.reviewLogs = this.reviewLogs.slice(-1e3);
    }
    await this.persistReviewLogs();
  }
  /**
   * 获取卡片的复习历史
   */
  getCardReviewHistory(cardId) {
    return this.reviewLogs.filter((log) => log.flashcardId === cardId);
  }
  // ==================== 统计 ====================
  /**
   * 获取统计数据
   */
  getStats() {
    const all = this.getAllFlashcards();
    const due = this.getDueCards();
    const newCards = this.getNewCards();
    const today = new Date().setHours(0, 0, 0, 0);
    const reviewedToday = this.reviewLogs.filter(
      (log) => log.timestamp >= today
    ).length;
    return {
      total: all.length,
      new: newCards.length,
      due: due.length,
      reviewedToday,
      totalReviews: this.reviewLogs.length
    };
  }
  // ==================== 私有工具方法 ====================
  /**
   * 加载闪卡
   */
  async loadFlashcards() {
    try {
      const path = `${this.dataFolder}/flashcards.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        const flashcards = JSON.parse(data);
        for (const card of flashcards) {
          this.flashcards.set(card.id, card);
        }
      }
    } catch (error) {
      console.error("Error loading flashcards:", error);
    }
  }
  /**
   * 加载复习日志
   */
  async loadReviewLogs() {
    try {
      const path = `${this.dataFolder}/review-logs.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        this.reviewLogs = JSON.parse(data);
      }
    } catch (error) {
      console.error("Error loading review logs:", error);
    }
  }
  /**
   * 初始化调度参数
   */
  initializeScheduling() {
    return {
      interval: 0,
      ease: 2.5,
      due: Date.now(),
      lapses: 0,
      reps: 0,
      state: "new"
    };
  }
  /**
   * 生成完形填空文本
   */
  generateClozeText(original, deletions) {
    let result = original;
    const sorted = [...deletions].sort((a, b) => b.index - a.index);
    for (const deletion of sorted) {
      const before = result.substring(0, deletion.index);
      const after = result.substring(deletion.index + deletion.answer.length);
      result = `${before}[...]${after}`;
    }
    return result;
  }
  /**
   * 推断卡组名称
   */
  inferDeck(filePath) {
    const parts = filePath.split("/");
    return parts.length > 1 ? parts[parts.length - 2] : "Default";
  }
  /**
   * 获取卡片优先级
   */
  getCardPriority(card) {
    const now = Date.now();
    const overdue = Math.max(0, now - card.scheduling.due);
    const daysOverdue = overdue / (24 * 60 * 60 * 1e3);
    if (card.scheduling.state === "new")
      return 100 + daysOverdue;
    if (card.scheduling.state === "relearning")
      return 200 + daysOverdue;
    return daysOverdue;
  }
  /**
   * 持久化闪卡
   */
  async persistFlashcards() {
    try {
      const path = `${this.dataFolder}/flashcards.json`;
      const flashcards = Array.from(this.flashcards.values());
      const data = JSON.stringify(flashcards, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting flashcards:", error);
    }
  }
  /**
   * 持久化复习日志
   */
  async persistReviewLogs() {
    try {
      const path = `${this.dataFolder}/review-logs.json`;
      const data = JSON.stringify(this.reviewLogs, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting review logs:", error);
    }
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `card-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  extractionEnabled: true,
  autoScan: false,
  defaultDeck: "Default",
  language: "en"
};
var LearningSystemPlugin = class extends import_obsidian15.Plugin {
  async onload() {
    console.log("Loading Learning System Plugin");
    await this.loadSettings();
    this.unlockSystem = new UnlockSystem(this.app, this);
    await this.unlockSystem.initialize();
    console.log(`[UnlockSystem] \u5F53\u524D\u7B49\u7EA7: Lv${this.unlockSystem.getCurrentLevel()}`);
    this.dataManager = new DataManager(this.app, this);
    await this.dataManager.initialize();
    this.annotationManager = new AnnotationManager(this.app, this);
    await this.annotationManager.initialize();
    this.flashcardManager = new FlashcardManager(
      this.app,
      this.dataManager,
      this
    );
    await this.flashcardManager.initialize();
    this.extractionEngine = new ExtractionEngine(
      this.app,
      this.dataManager,
      this.flashcardManager,
      this
    );
    this.registerView(
      VIEW_TYPE_SIDEBAR_OVERVIEW,
      (leaf) => new SidebarOverviewView(leaf, this, false)
    );
    this.registerView(
      VIEW_TYPE_MAIN_OVERVIEW,
      (leaf) => new SidebarOverviewView(leaf, this, true)
    );
    this.registerView(
      VIEW_TYPE_REVIEW,
      (leaf) => new ReviewView(leaf, this)
    );
    this.registerView(
      VIEW_TYPE_STATS,
      (leaf) => new StatsView(leaf, this)
    );
    this.registerEvent(
      this.app.workspace.on("editor-menu", (menu, editor, view) => {
        if (view instanceof import_obsidian15.MarkdownView) {
          const file = view.file;
          if (file) {
            this.extractionEngine.registerContextMenu(menu, editor, file);
          }
        }
      })
    );
    this.addSettingTab(new SettingsTab(this.app, this));
    this.addCommands();
    this.addRibbonIcon("layout-list", "Open Learning Overview(Sidebar)", () => {
      this.activateSidebarOverview();
    });
    this.addRibbonIcon("layers", "Start Review", () => {
      if (!this.unlockSystem.tryUseFeature("review-page", "Start Review")) {
        return;
      }
      this.activateReview();
    });
    this.setupStatusBar();
    this.analyticsEngine = new AnalyticsEngine(this);
    console.log("Learning System Plugin loaded");
  }
  onunload() {
    console.log("Unloading Learning System Plugin");
    const styleEl = document.getElementById("learning-overview-styles");
    if (styleEl) {
      styleEl.remove();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  addCommands() {
    this.addCommand({
      id: "scan-current-file",
      name: "Scan current file for content",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("scan-file", "Scan Current File")) {
          return;
        }
        const activeFile = this.app.workspace.getActiveFile();
        if (!activeFile)
          return;
        await this.extractionEngine.scanFile(activeFile);
        this.refreshOverview();
      }
    });
    this.addCommand({
      id: "scan-vault",
      name: "Scan entire vault",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("scan-vault", "Scan Entire Vault")) {
          return;
        }
        await this.extractionEngine.scanVault();
        this.refreshOverview();
      }
    });
    this.addCommand({
      id: "open-overview",
      name: "Open Learning Overview(Sidebar)",
      callback: () => {
        this.activateSidebarOverview();
      }
    });
    this.addCommand({
      id: "open-main-overview",
      name: "Toggle Learning Overview (Main View)",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("open-main- overview", "Toggle Learning Overview (Main View)")) {
          return;
        }
        await this.toggleMainView();
      }
    });
    this.addCommand({
      id: "add-file-annotation",
      name: "Add file annotation",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("annotation", "File Annotation")) {
          return;
        }
        const activeFile = this.app.workspace.getActiveFile();
        if (!activeFile)
          return;
        const { FileAnnotationModal: FileAnnotationModal2 } = await Promise.resolve().then(() => (init_AnnotationModal(), AnnotationModal_exports));
        const modal = new FileAnnotationModal2(
          this.app,
          this,
          activeFile.path,
          () => this.refreshOverview()
        );
        modal.open();
      }
    });
    this.addCommand({
      id: "start-review",
      name: "Start flashcard review",
      callback: () => {
        if (!this.unlockSystem.tryUseFeature("review-page", "Flashcard Review")) {
          return;
        }
        this.activateReview();
      }
    });
    this.addCommand({
      id: "show-stats",
      name: "Show flashcard statistics",
      callback: () => {
        if (!this.unlockSystem.tryUseFeature("stats-page", "Statistics")) {
          return;
        }
        this.activateStats();
      }
    });
  }
  async activateMainView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0];
    if (!leaf) {
      leaf = workspace.getLeaf("tab");
      await leaf.setViewState({
        type: VIEW_TYPE_MAIN_OVERVIEW,
        active: true
      });
    }
    workspace.revealLeaf(leaf);
  }
  async toggleMainView() {
    const { workspace } = this.app;
    const existingLeaves = workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW);
    const activeLeaf = workspace.activeLeaf;
    const isMainOverviewActive = activeLeaf && activeLeaf.view.getViewType() === VIEW_TYPE_MAIN_OVERVIEW;
    if (existingLeaves.length > 0 && isMainOverviewActive) {
      existingLeaves.forEach((leaf) => {
        leaf.detach();
      });
    } else if (existingLeaves.length > 0 && !isMainOverviewActive) {
      workspace.revealLeaf(existingLeaves[0]);
    } else {
      const leaf = workspace.getLeaf("tab");
      await leaf.setViewState({
        type: VIEW_TYPE_MAIN_OVERVIEW,
        active: true
      });
      workspace.revealLeaf(leaf);
    }
  }
  async activateSidebarOverview() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_SIDEBAR_OVERVIEW,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async activateReview() {
    const stats = this.flashcardManager.getStats();
    if (stats.due === 0) {
      new import_obsidian15.Notice("No cards due for review!");
      return;
    }
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_REVIEW);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getLeaf(true);
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_REVIEW,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async activateStats() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_STATS);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getLeaf("tab");
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_STATS,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  refreshOverview() {
    const sidebarLeaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW);
    sidebarLeaves.forEach((leaf) => {
      const view = leaf.view;
      if (view && typeof view.refresh === "function") {
        view.refresh();
      }
    });
    const mainLeaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW);
    mainLeaves.forEach((leaf) => {
      const view = leaf.view;
      if (view && typeof view.refresh === "function") {
        view.refresh();
      }
    });
  }
  setupStatusBar() {
    const statusBarItem = this.addStatusBarItem();
    statusBarItem.addClass("learning-system-status");
    const updateStatus = () => {
      const stats = this.flashcardManager.getStats();
      statusBarItem.setText(`\u{1F0CF} ${stats.due} due`);
      statusBarItem.title = `${stats.due} cards due for review
${stats.new} new cards`;
    };
    updateStatus();
    this.registerInterval(
      window.setInterval(updateStatus, 6e4)
    );
    statusBarItem.addEventListener("click", () => {
      this.activateReview();
    });
  }
  // 辅助方法：检查视图是否激活
  isSidebarOverviewActive() {
    return this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW).length > 0;
  }
  isMainOverviewActive() {
    return this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW).length > 0;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3VpL3ZpZXcvQW5ub3RhdGlvbk1vZGFsLnRzIiwgInNyYy9tYWluLnRzIiwgInNyYy91aS92aWV3L1NldHRpbmdzVGFiLnRzIiwgInNyYy91aS9zdHlsZS9zaWRlYmFyU3R5bGUudHMiLCAic3JjL3VpL3N0eWxlL3Jldmlld1N0eWxlLnRzIiwgInNyYy9pMThuL3RyYW5zbGF0aW9ucy50cyIsICJzcmMvY29yZS9RdWlja0ZsYXNoY2FyZENyZWF0b3IudHMiLCAic3JjL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldy50cyIsICJzcmMvdWkvc3RhdGUvVmlld1N0YXRlLnRzIiwgInNyYy91aS9jb21wb25lbnRzL1Rvb2xiYXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvQmF0Y2hBY3Rpb25zLnRzIiwgInNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRDYXJkLnRzIiwgInNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzIiwgInNyYy91aS9jb21wb25lbnRzL0Fubm90YXRpb25FZGl0b3IudHMiLCAic3JjL3VpL3NlcnZpY2Uvc2lkZU92ZXJ2aWV3U2VydmljZS50cyIsICJzcmMvdWkvY29tcG9uZW50cy9tb2RhbHMvTWFudWFsRmxhc2hjYXJkTW9kYWwudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvbW9kYWxzL0VkaXRGbGFzaGNhcmRNb2RhbC50cyIsICJzcmMvdWkvY29tcG9uZW50cy9Db250ZXh0TWVudUJ1aWxkZXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvbW9kYWxzL0JhdGNoQ3JlYXRlTW9kYWwudHMiLCAic3JjL2NvcmUvVW5sb2NrU3lzdGVtLnRzIiwgInNyYy91aS92aWV3L1Jldmlld1ZpZXcudHMiLCAic3JjL2NvcmUvQ2FyZFNjaGVkdWxlci50cyIsICJzcmMvdWkvY29tcG9uZW50cy9tb2RhbHMvRmxhc2hjYXJkRWRpdE1vZGFsLnRzIiwgInNyYy91aS9zdGF0ZS9yZXZpZXdTdGF0ZU1hbmFnZXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvVGFibGVSZW5kZXJlci50cyIsICJzcmMvdWkvY29tcG9uZW50cy9yZXZpZXdDYXJkUmVuZGVyLnRzIiwgInNyYy91aS92aWV3L1N0YXRzVmlldy50cyIsICJzcmMvY29yZS9BbmFseXRpY3NFbmdpbmUudHMiLCAic3JjL2NvcmUvRGF0YU1hbmFnZXIudHMiLCAic3JjL2NvcmUvRXh0cmFjdGlvbkVuZ2luZS50cyIsICJzcmMvY29yZS9Bbm5vdGF0aW9uTWFuYWdlci50cyIsICJzcmMvY29yZS9GbGFzaGNhcmRNYW5hZ2VyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBhbm5vdGF0aW9uTW9kYWwudHNcbmltcG9ydCB7IEFwcCwgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvQW5ub3RhdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBjb250ZW50VW5pdDogQ29udGVudFVuaXQ7XG4gIHByaXZhdGUgZXhpc3RpbmdBbm5vdGF0aW9uPzogQW5ub3RhdGlvbjtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uVGV4dDogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgYmFkZ2VUZXh0OiBzdHJpbmcgPSAnJztcbiAgcHJpdmF0ZSBiYWRnZUNvbG9yOiBzdHJpbmcgPSAnIzVCOUJENSc7XG4gIHByaXZhdGUgb25TYXZlOiAoYW5ub3RhdGlvbjogQW5ub3RhdGlvbikgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sXG4gICAgY29udGVudFVuaXQ6IENvbnRlbnRVbml0LFxuICAgIG9uU2F2ZTogKGFubm90YXRpb246IEFubm90YXRpb24pID0+IHZvaWRcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLmNvbnRlbnRVbml0ID0gY29udGVudFVuaXQ7XG4gICAgdGhpcy5vblNhdmUgPSBvblNhdmU7XG5cbiAgICAvLyBcdTUyQTBcdThGN0RcdTczQjBcdTY3MDlcdTYyNzlcdTZDRThcbiAgICB0aGlzLmV4aXN0aW5nQW5ub3RhdGlvbiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKFxuICAgICAgY29udGVudFVuaXQuaWRcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uKSB7XG4gICAgICB0aGlzLmFubm90YXRpb25UZXh0ID0gdGhpcy5leGlzdGluZ0Fubm90YXRpb24uY29udGVudDtcbiAgICAgIGlmICh0aGlzLmV4aXN0aW5nQW5ub3RhdGlvbi5iYWRnZSkge1xuICAgICAgICB0aGlzLmJhZGdlVGV4dCA9IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmJhZGdlLnRleHQ7XG4gICAgICAgIHRoaXMuYmFkZ2VDb2xvciA9IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmJhZGdlLmNvbG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2Fubm90YXRpb24tbW9kYWwnKTtcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyBcbiAgICAgIHRleHQ6IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uID8gJ0VkaXQgQW5ub3RhdGlvbicgOiAnQWRkIEFubm90YXRpb24nIFxuICAgIH0pO1xuXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU1MzlGXHU2NTg3XHU1MTg1XHU1QkI5XG4gICAgY29uc3QgY29udGVudFByZXZpZXcgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYW5ub3RhdGlvbi1jb250ZW50LXByZXZpZXcnIH0pO1xuICAgIGNvbnRlbnRQcmV2aWV3LmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NvbnRlbnQ6JyB9KTtcbiAgICBjb250ZW50UHJldmlldy5jcmVhdGVFbCgnYmxvY2txdW90ZScsIHsgdGV4dDogdGhpcy5jb250ZW50VW5pdC5jb250ZW50IH0pO1xuXG4gICAgLy8gXHU2Mjc5XHU2Q0U4XHU2NTg3XHU2NzJDXHU1MzNBXHU1N0RGXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoJ0Fubm90YXRpb24nKVxuICAgICAgLnNldERlc2MoJ0FkZCB5b3VyIG5vdGVzIG9yIGNvbW1lbnRzIGFib3V0IHRoaXMgY29udGVudCcpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHlvdXIgYW5ub3RhdGlvbiBoZXJlLi4uJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5hbm5vdGF0aW9uVGV4dClcbiAgICAgICAgICAub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9uVGV4dCA9IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSA2O1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcblxuICAgIC8vIFx1ODlEMlx1NjgwN1x1OEJCRVx1N0Y2RVxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdCYWRnZSAoT3B0aW9uYWwpJyB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgIC5zZXROYW1lKCdCYWRnZSB0ZXh0JylcbiAgICAgIC5zZXREZXNjKCdTaG9ydCB0ZXh0IHRvIGRpc3BsYXkgYXMgYSBiYWRnZSAoZS5nLiwgXCJcdTkxQ0RcdTg5ODFcIiwgXCJcdTVGODVcdTU5MERcdTRFNjBcIiknKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdCYWRnZSB0ZXh0JylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5iYWRnZVRleHQpXG4gICAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmFkZ2VUZXh0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhZGdlUHJldmlldygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoJ0JhZGdlIGNvbG9yJylcbiAgICAgIC5zZXREZXNjKCdDaG9vc2UgYSBjb2xvciBmb3IgdGhlIGJhZGdlJylcbiAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG4gICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgLmFkZE9wdGlvbignIzVCOUJENScsICdcdUQ4M0RcdUREMzUgQmx1ZScpXG4gICAgICAgICAgLmFkZE9wdGlvbignIzcwQUQ0NycsICdcdUQ4M0RcdURGRTIgR3JlZW4nKVxuICAgICAgICAgIC5hZGRPcHRpb24oJyNGRkMwMDAnLCAnXHVEODNEXHVERkUxIFllbGxvdycpXG4gICAgICAgICAgLmFkZE9wdGlvbignI0ZGNkI2QicsICdcdUQ4M0RcdUREMzQgUmVkJylcbiAgICAgICAgICAuYWRkT3B0aW9uKCcjQzc4QkZGJywgJ1x1RDgzRFx1REZFMyBQdXJwbGUnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJyNGRjlGNDMnLCAnXHVEODNEXHVERkUwIE9yYW5nZScpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuYmFkZ2VDb2xvcilcbiAgICAgICAgICAub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5iYWRnZUNvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhZGdlUHJldmlldygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAvLyBcdTg5RDJcdTY4MDdcdTk4ODRcdTg5QzhcbiAgICBjb25zdCBiYWRnZVByZXZpZXcgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYmFkZ2UtcHJldmlldy1jb250YWluZXInIH0pO1xuICAgIGJhZGdlUHJldmlldy5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogJ1ByZXZpZXc6ICcsIGNsczogJ3ByZXZpZXctbGFiZWwnIH0pO1xuICAgIGNvbnN0IGJhZGdlRWwgPSBiYWRnZVByZXZpZXcuY3JlYXRlRWwoJ3NwYW4nLCB7IGNsczogJ2JhZGdlLXByZXZpZXcnIH0pO1xuICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwgPSBiYWRnZUVsO1xuICAgIHRoaXMudXBkYXRlQmFkZ2VQcmV2aWV3KCk7XG5cbiAgICAvLyBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cbiAgICAvLyBcdTUyMjBcdTk2NjRcdTYzMDlcdTk0QUVcdUZGMDhcdTU5ODJcdTY3OUNcdTY2MkZcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICBpZiAodGhpcy5leGlzdGluZ0Fubm90YXRpb24pIHtcbiAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgICAgdGV4dDogJ0RlbGV0ZScsXG4gICAgICAgIGNsczogJ21vZC13YXJuaW5nJ1xuICAgICAgfSk7XG4gICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlQW5ub3RhdGlvbigpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnIH0pO1xuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNhdmVCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAnU2F2ZScsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnNhdmVBbm5vdGF0aW9uKCk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTY4MzdcdTVGMEZcbiAgICB0aGlzLmFkZFN0eWxlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBiYWRnZVByZXZpZXdFbDogSFRNTEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB1cGRhdGVCYWRnZVByZXZpZXcoKSB7XG4gICAgaWYgKCF0aGlzLmJhZGdlUHJldmlld0VsKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5iYWRnZVRleHQpIHtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwudGV4dENvbnRlbnQgPSB0aGlzLmJhZGdlVGV4dDtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWRnZUNvbG9yO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwudGV4dENvbnRlbnQgPSAnTm8gYmFkZ2UnO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzYXZlQW5ub3RhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuYW5ub3RhdGlvblRleHQudHJpbSgpKSB7XG4gICAgICBuZXcgTm90aWNlKCdQbGVhc2UgZW50ZXIgYW5ub3RhdGlvbiB0ZXh0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBhbm5vdGF0aW9uOiBBbm5vdGF0aW9uO1xuXG4gICAgICBpZiAodGhpcy5leGlzdGluZ0Fubm90YXRpb24pIHtcbiAgICAgICAgLy8gXHU2NkY0XHU2NUIwXHU3M0IwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLnVwZGF0ZUFubm90YXRpb24oXG4gICAgICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb24uaWQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29udGVudDogdGhpcy5hbm5vdGF0aW9uVGV4dCxcbiAgICAgICAgICAgIGJhZGdlOiB0aGlzLmJhZGdlVGV4dCA/IHtcbiAgICAgICAgICAgICAgdGV4dDogdGhpcy5iYWRnZVRleHQsXG4gICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmJhZGdlQ29sb3JcbiAgICAgICAgICAgIH0gOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRBbm5vdGF0aW9uKFxuICAgICAgICAgIHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmlkXG4gICAgICAgICkhO1xuICAgICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIHVwZGF0ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NjI3OVx1NkNFOFxuICAgICAgICBhbm5vdGF0aW9uID0gYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuYWRkQ29udGVudEFubm90YXRpb24oXG4gICAgICAgICAgdGhpcy5jb250ZW50VW5pdC5pZCxcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25UZXh0LFxuICAgICAgICAgIHRoaXMuYmFkZ2VUZXh0ID8ge1xuICAgICAgICAgICAgdGV4dDogdGhpcy5iYWRnZVRleHQsXG4gICAgICAgICAgICBjb2xvcjogdGhpcy5iYWRnZUNvbG9yXG4gICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICApO1xuICAgICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGFkZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub25TYXZlKGFubm90YXRpb24pO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBzYXZpbmcgYW5ub3RhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlQW5ub3RhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbihcbiAgICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb24uaWRcbiAgICAgICk7XG4gICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGRlbGV0ZWQnKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMub25TYXZlKG51bGwgYXMgYW55KTsgLy8gXHU5MDFBXHU3N0U1XHU1MjIwXHU5NjY0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGFubm90YXRpb246JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnRXJyb3IgZGVsZXRpbmcgYW5ub3RhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBgXG4gICAgICAuYW5ub3RhdGlvbi1tb2RhbCB7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbm5vdGF0aW9uLWNvbnRlbnQtcHJldmlldyB7XG4gICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIH1cblxuICAgICAgLmFubm90YXRpb24tY29udGVudC1wcmV2aWV3IGgzIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICAuYW5ub3RhdGlvbi1jb250ZW50LXByZXZpZXcgYmxvY2txdW90ZSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC5iYWRnZS1wcmV2aWV3LWNvbnRhaW5lciB7XG4gICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIH1cblxuICAgICAgLnByZXZpZXctbGFiZWwge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgIH1cblxuICAgICAgLmJhZGdlLXByZXZpZXcge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLm1vZGFsLWJ1dHRvbi1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5tb2RhbC1idXR0b24tY29udGFpbmVyIGJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICBgO1xuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBcdTY1ODdcdTRFRjZcdTYyNzlcdTZDRThcdTZBMjFcdTYwMDFcdTY4NDZcbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVBbm5vdGF0aW9uTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgZmlsZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBleGlzdGluZ0Fubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uVGV4dDogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgb25TYXZlOiAoKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbixcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIG9uU2F2ZTogKCkgPT4gdm9pZFxuICApIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMuZmlsZVBhdGggPSBmaWxlUGF0aDtcbiAgICB0aGlzLm9uU2F2ZSA9IG9uU2F2ZTtcblxuICAgIC8vIFx1NTJBMFx1OEY3RFx1NzNCMFx1NjcwOVx1NjI3OVx1NkNFOFxuICAgIHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9ucyA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldEZpbGVBbm5vdGF0aW9ucyhmaWxlUGF0aCk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0ZpbGUgQW5ub3RhdGlvbnMnIH0pO1xuXG4gICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLmZpbGVQYXRoLnNwbGl0KCcvJykucG9wKCk/LnJlcGxhY2UoJy5tZCcsICcnKSB8fCB0aGlzLmZpbGVQYXRoO1xuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiBgRmlsZTogJHtmaWxlTmFtZX1gLFxuICAgICAgY2xzOiAnZmlsZS1uYW1lJ1xuICAgIH0pO1xuXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU3M0IwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAgaWYgKHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBleGlzdGluZ1NlY3Rpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZXhpc3RpbmctYW5ub3RhdGlvbnMnIH0pO1xuICAgICAgZXhpc3RpbmdTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0V4aXN0aW5nIEFubm90YXRpb25zJyB9KTtcblxuICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb25zLmZvckVhY2goYW5ub3RhdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25DYXJkID0gZXhpc3RpbmdTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2Fubm90YXRpb24tY2FyZCcgfSk7XG4gICAgICAgIGFubm90YXRpb25DYXJkLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBhbm5vdGF0aW9uLmNvbnRlbnQgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYW5ub3RhdGlvbi5tZXRhZGF0YS5jcmVhdGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgICAgICBhbm5vdGF0aW9uQ2FyZC5jcmVhdGVFbCgnc21hbGwnLCB7IFxuICAgICAgICAgIHRleHQ6IGBDcmVhdGVkOiAke2RhdGV9YCxcbiAgICAgICAgICBjbHM6ICdhbm5vdGF0aW9uLWRhdGUnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGFubm90YXRpb25DYXJkLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgdGV4dDogJ1x1RDgzRFx1REREMSBEZWxldGUnLFxuICAgICAgICAgIGNsczogJ2RlbGV0ZS1hbm5vdGF0aW9uLWJ0bidcbiAgICAgICAgfSk7XG4gICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUFubm90YXRpb24oYW5ub3RhdGlvbi5pZCk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIHRoaXMub25TYXZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gXHU2NUIwXHU2Mjc5XHU2Q0U4XHU4RjkzXHU1MTY1XG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0FkZCBOZXcgQW5ub3RhdGlvbicgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSgnQW5ub3RhdGlvbicpXG4gICAgICAuc2V0RGVzYygnQWRkIG5vdGVzIGFib3V0IHRoaXMgZmlsZScpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGZpbGUgYW5ub3RhdGlvbi4uLicpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuYW5ub3RhdGlvblRleHQpXG4gICAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYW5ub3RhdGlvblRleHQgPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRleHQuaW5wdXRFbC5yb3dzID0gNDtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgfSk7XG5cbiAgICAvLyBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cbiAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc2F2ZUJ0biA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgIHRleHQ6ICdTYXZlJyxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZUFubm90YXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2F2ZUFubm90YXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLmFubm90YXRpb25UZXh0LnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIGVudGVyIGFubm90YXRpb24gdGV4dCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5hZGRGaWxlQW5ub3RhdGlvbihcbiAgICAgICAgdGhpcy5maWxlUGF0aCxcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uVGV4dFxuICAgICAgKTtcbiAgICAgIG5ldyBOb3RpY2UoJ0ZpbGUgYW5ub3RhdGlvbiBhZGRlZCcpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy5vblNhdmUoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGZpbGUgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBzYXZpbmcgZmlsZSBhbm5vdGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVBbm5vdGF0aW9uKGlkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbihpZCk7XG4gICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGRlbGV0ZWQnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBkZWxldGluZyBhbm5vdGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBtYWluLnRzXG5pbXBvcnQgeyBQbHVnaW4sIFRGaWxlLCBXb3Jrc3BhY2VMZWFmLCBOb3RpY2UsIE1hcmtkb3duVmlldyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFNldHRpbmdzVGFiIH0gZnJvbSAnLi91aS92aWV3L1NldHRpbmdzVGFiJztcbmltcG9ydCB7IFNpZGViYXJPdmVydmlld1ZpZXcsIFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXLCBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyAgfSBmcm9tICcuL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldyc7XG5pbXBvcnQgeyBSZXZpZXdWaWV3LCBWSUVXX1RZUEVfUkVWSUVXIH0gZnJvbSAnLi91aS92aWV3L1Jldmlld1ZpZXcnO1xuaW1wb3J0IHsgU3RhdHNWaWV3LCBWSUVXX1RZUEVfU1RBVFMgfSBmcm9tICcuL3VpL3ZpZXcvU3RhdHNWaWV3JztcbmltcG9ydCB7IERhdGFNYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEV4dHJhY3Rpb25FbmdpbmUgfSBmcm9tICcuL2NvcmUvRXh0cmFjdGlvbkVuZ2luZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uTWFuYWdlciB9IGZyb20gJy4vY29yZS9Bbm5vdGF0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmRNYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgQW5hbHl0aWNzRW5naW5lIH0gZnJvbSAnLi9jb3JlL0FuYWx5dGljc0VuZ2luZSc7XG5pbXBvcnQgeyBVbmxvY2tTeXN0ZW0gfSBmcm9tICcuL2NvcmUvVW5sb2NrU3lzdGVtJztcblxuaW50ZXJmYWNlIExlYXJuaW5nU3lzdGVtU2V0dGluZ3Mge1xuICBleHRyYWN0aW9uRW5hYmxlZDogYm9vbGVhbjtcbiAgYXV0b1NjYW46IGJvb2xlYW47XG4gIGRlZmF1bHREZWNrOiBzdHJpbmc7XG4gIGxhbmd1YWdlOiAnZW4nIHwgJ3poLUNOJzsgXG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IExlYXJuaW5nU3lzdGVtU2V0dGluZ3MgPSB7XG4gIGV4dHJhY3Rpb25FbmFibGVkOiB0cnVlLFxuICBhdXRvU2NhbjogZmFsc2UsXG4gIGRlZmF1bHREZWNrOiAnRGVmYXVsdCcsXG4gICAgbGFuZ3VhZ2U6ICdlbidcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExlYXJuaW5nU3lzdGVtUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgc2V0dGluZ3M6IExlYXJuaW5nU3lzdGVtU2V0dGluZ3M7XG4gIGRhdGFNYW5hZ2VyOiBEYXRhTWFuYWdlcjtcbiAgZXh0cmFjdGlvbkVuZ2luZTogRXh0cmFjdGlvbkVuZ2luZTtcbiAgYW5ub3RhdGlvbk1hbmFnZXI6IEFubm90YXRpb25NYW5hZ2VyO1xuICBmbGFzaGNhcmRNYW5hZ2VyOiBGbGFzaGNhcmRNYW5hZ2VyO1xuICBhbmFseXRpY3NFbmdpbmU6IEFuYWx5dGljc0VuZ2luZTtcbiAgdW5sb2NrU3lzdGVtOiBVbmxvY2tTeXN0ZW07XG5cblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ0xvYWRpbmcgTGVhcm5pbmcgU3lzdGVtIFBsdWdpbicpO1xuICBcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICBcbiAgICAvLyBcdUQ4M0RcdUREMjUgMS4gXHU2NzAwXHU0RjE4XHU1MTQ4Olx1NTIxRFx1NTlDQlx1NTMxNlx1ODlFM1x1OTUwMVx1N0NGQlx1N0VERlxuICAgIHRoaXMudW5sb2NrU3lzdGVtID0gbmV3IFVubG9ja1N5c3RlbSh0aGlzLmFwcCwgdGhpcyk7XG4gICAgYXdhaXQgdGhpcy51bmxvY2tTeXN0ZW0uaW5pdGlhbGl6ZSgpO1xuICAgIGNvbnNvbGUubG9nKGBbVW5sb2NrU3lzdGVtXSBcdTVGNTNcdTUyNERcdTdCNDlcdTdFQTc6IEx2JHt0aGlzLnVubG9ja1N5c3RlbS5nZXRDdXJyZW50TGV2ZWwoKX1gKTtcbiAgXG4gICAgLy8gMi4gXHU1MjFEXHU1OUNCXHU1MzE2XHU2ODM4XHU1RkMzXHU2QTIxXHU1NzU3XG4gICAgdGhpcy5kYXRhTWFuYWdlciA9IG5ldyBEYXRhTWFuYWdlcih0aGlzLmFwcCwgdGhpcyk7XG4gICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5pbml0aWFsaXplKCk7XG4gIFxuICAgIHRoaXMuYW5ub3RhdGlvbk1hbmFnZXIgPSBuZXcgQW5ub3RhdGlvbk1hbmFnZXIodGhpcy5hcHAsIHRoaXMpO1xuICAgIGF3YWl0IHRoaXMuYW5ub3RhdGlvbk1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICBcbiAgICB0aGlzLmZsYXNoY2FyZE1hbmFnZXIgPSBuZXcgRmxhc2hjYXJkTWFuYWdlcihcbiAgICAgIHRoaXMuYXBwLFxuICAgICAgdGhpcy5kYXRhTWFuYWdlcixcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIGF3YWl0IHRoaXMuZmxhc2hjYXJkTWFuYWdlci5pbml0aWFsaXplKCk7XG4gIFxuICAgIHRoaXMuZXh0cmFjdGlvbkVuZ2luZSA9IG5ldyBFeHRyYWN0aW9uRW5naW5lKFxuICAgICAgdGhpcy5hcHAsXG4gICAgICB0aGlzLmRhdGFNYW5hZ2VyLFxuICAgICAgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyLFxuICAgICAgdGhpc1xuICAgICk7XG4gIFxuICAgIC8vIDMuIFx1NkNFOFx1NTE4Q1x1ODlDNlx1NTZGRVxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxuICAgICAgVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcsXG4gICAgICAobGVhZikgPT4gbmV3IFNpZGViYXJPdmVydmlld1ZpZXcobGVhZiwgdGhpcywgZmFsc2UpXG4gICAgKTtcbiAgICBcbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhcbiAgICAgIFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXLFxuICAgICAgKGxlYWYpID0+IG5ldyBTaWRlYmFyT3ZlcnZpZXdWaWV3KGxlYWYsIHRoaXMsIHRydWUpXG4gICAgKTtcbiAgXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICBWSUVXX1RZUEVfUkVWSUVXLFxuICAgICAgKGxlYWYpID0+IG5ldyBSZXZpZXdWaWV3KGxlYWYsIHRoaXMpXG4gICAgKTtcbiAgXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICBWSUVXX1RZUEVfU1RBVFMsXG4gICAgICAobGVhZikgPT4gbmV3IFN0YXRzVmlldyhsZWFmLCB0aGlzKVxuICAgICk7XG4gIFxuICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbignZWRpdG9yLW1lbnUnLCAobWVudSwgZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTWFya2Rvd25WaWV3KSB7XG4gICAgICAgICAgY29uc3QgZmlsZSA9IHZpZXcuZmlsZTtcbiAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgdGhpcy5leHRyYWN0aW9uRW5naW5lLnJlZ2lzdGVyQ29udGV4dE1lbnUobWVudSwgZWRpdG9yLCBmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuICAgIFxuICAgIC8vIFx1RDgzRFx1REQyNSA0LiBcdTczQjBcdTU3MjhcdTYyNERcdTZDRThcdTUxOENcdTU0N0RcdTRFRTQoXHU3ODZFXHU0RkREIHVubG9ja1N5c3RlbSBcdTVERjJcdTVDMzFcdTdFRUEpXG4gICAgdGhpcy5hZGRDb21tYW5kcygpO1xuICBcbiAgICAvLyA1LiBSaWJib24gXHU1NkZFXHU2ODA3KFx1NUUyNlx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNSlcbiAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2xheW91dC1saXN0JywgJ09wZW4gTGVhcm5pbmcgT3ZlcnZpZXcoU2lkZWJhciknLCAoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRlU2lkZWJhck92ZXJ2aWV3KCk7XG4gICAgfSk7XG4gIFxuICAgIHRoaXMuYWRkUmliYm9uSWNvbignbGF5ZXJzJywgJ1N0YXJ0IFJldmlldycsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgncmV2aWV3LXBhZ2UnLCAnU3RhcnQgUmV2aWV3JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5hY3RpdmF0ZVJldmlldygpO1xuICAgIH0pO1xuICBcbiAgICAvLyA2LiBcdTcyQjZcdTYwMDFcdTY4MEZcbiAgICB0aGlzLnNldHVwU3RhdHVzQmFyKCk7XG4gICAgXG4gICAgdGhpcy5hbmFseXRpY3NFbmdpbmUgPSBuZXcgQW5hbHl0aWNzRW5naW5lKHRoaXMpO1xuICBcbiAgICBjb25zb2xlLmxvZygnTGVhcm5pbmcgU3lzdGVtIFBsdWdpbiBsb2FkZWQnKTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdVbmxvYWRpbmcgTGVhcm5pbmcgU3lzdGVtIFBsdWdpbicpO1xuICAgIFxuICAgIC8vIFx1NTNFQVx1NTcyOFx1NjNEMlx1NEVGNlx1NUI4Q1x1NTE2OFx1NTM3OFx1OEY3RFx1NjVGNlx1NjI0RFx1NkUwNVx1NzQwNlx1NjI0MFx1NjcwOVx1ODlDNlx1NTZGRVxuICAgIC8vIFx1NkNFOFx1NjEwRlx1RkYxQVx1OEZEOVx1OTFDQ1x1NEUwRFx1ODk4MVx1NTIyMFx1OTY2NFx1NzI3OVx1NUI5QVx1ODlDNlx1NTZGRVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1OEJBOSBPYnNpZGlhbiBcdTgxRUFcdTVERjFcdTdCQTFcdTc0MDZcbiAgICAvLyBcdTUzRUFcdTZFMDVcdTc0MDZcdTYzRDJcdTRFRjZcdTdFQTdcdTUyMkJcdTc2ODRcdThENDRcdTZFOTBcbiAgICBcbiAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXJuaW5nLW92ZXJ2aWV3LXN0eWxlcycpO1xuICAgIGlmIChzdHlsZUVsKSB7XG4gICAgICBzdHlsZUVsLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRDb21tYW5kcygpIHtcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdzY2FuLWN1cnJlbnQtZmlsZScsXG4gICAgICBuYW1lOiAnU2NhbiBjdXJyZW50IGZpbGUgZm9yIGNvbnRlbnQnLFxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBcdTY3NDNcdTk2NTBcdTY4QzBcdTY3RTVcbiAgICBpZiAoIXRoaXMudW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ3NjYW4tZmlsZScsICdTY2FuIEN1cnJlbnQgRmlsZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgaWYgKCFhY3RpdmVGaWxlKSByZXR1cm47XG4gICAgICAgIGF3YWl0IHRoaXMuZXh0cmFjdGlvbkVuZ2luZS5zY2FuRmlsZShhY3RpdmVGaWxlKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoT3ZlcnZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ3NjYW4tdmF1bHQnLFxuICAgICAgbmFtZTogJ1NjYW4gZW50aXJlIHZhdWx0JyxcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBcdUQ4M0NcdURGQUYgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gICAgaWYgKCF0aGlzLnVubG9ja1N5c3RlbS50cnlVc2VGZWF0dXJlKCdzY2FuLXZhdWx0JywgJ1NjYW4gRW50aXJlIFZhdWx0JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuZXh0cmFjdGlvbkVuZ2luZS5zY2FuVmF1bHQoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoT3ZlcnZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ29wZW4tb3ZlcnZpZXcnLFxuICAgICAgbmFtZTogJ09wZW4gTGVhcm5pbmcgT3ZlcnZpZXcoU2lkZWJhciknLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVNpZGViYXJPdmVydmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnb3Blbi1tYWluLW92ZXJ2aWV3JyxcbiAgICAgIG5hbWU6ICdUb2dnbGUgTGVhcm5pbmcgT3ZlcnZpZXcgKE1haW4gVmlldyknLFxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnb3Blbi1tYWluLSBvdmVydmlldycsICdUb2dnbGUgTGVhcm5pbmcgT3ZlcnZpZXcgKE1haW4gVmlldyknKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy50b2dnbGVNYWluVmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnYWRkLWZpbGUtYW5ub3RhdGlvbicsXG4gICAgICBuYW1lOiAnQWRkIGZpbGUgYW5ub3RhdGlvbicsXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAvLyBcdUQ4M0NcdURGQUYgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gICAgaWYgKCF0aGlzLnVubG9ja1N5c3RlbS50cnlVc2VGZWF0dXJlKCdhbm5vdGF0aW9uJywgJ0ZpbGUgQW5ub3RhdGlvbicpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgaWYgKCFhY3RpdmVGaWxlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgeyBGaWxlQW5ub3RhdGlvbk1vZGFsIH0gPSBhd2FpdCBpbXBvcnQoJy4vdWkvdmlldy9Bbm5vdGF0aW9uTW9kYWwnKTtcbiAgICAgICAgY29uc3QgbW9kYWwgPSBuZXcgRmlsZUFubm90YXRpb25Nb2RhbChcbiAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIGFjdGl2ZUZpbGUucGF0aCxcbiAgICAgICAgICAoKSA9PiB0aGlzLnJlZnJlc2hPdmVydmlldygpXG4gICAgICAgICk7XG4gICAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ3N0YXJ0LXJldmlldycsXG4gICAgICBuYW1lOiAnU3RhcnQgZmxhc2hjYXJkIHJldmlldycsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgncmV2aWV3LXBhZ2UnLCAnRmxhc2hjYXJkIFJldmlldycpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlUmV2aWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdzaG93LXN0YXRzJyxcbiAgICAgIG5hbWU6ICdTaG93IGZsYXNoY2FyZCBzdGF0aXN0aWNzJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBcdUQ4M0NcdURGQUYgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gICAgaWYgKCF0aGlzLnVubG9ja1N5c3RlbS50cnlVc2VGZWF0dXJlKCdzdGF0cy1wYWdlJywgJ1N0YXRpc3RpY3MnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2YXRlU3RhdHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgYXN5bmMgYWN0aXZhdGVNYWluVmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVERjJcdTdFQ0ZcdTY3MDlcdTRFM0JcdTc1NENcdTk3NjJcdTg5QzZcdTU2RkVcdTYyNTNcdTVGMDBcbiAgICBsZXQgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpWzBdO1xuICAgIFxuICAgIGlmICghbGVhZikge1xuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU2ODA3XHU3QjdFXHU5ODc1XG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuICAgICAgYXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gIH1cblxuICBhc3luYyB0b2dnbGVNYWluVmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgY29uc3QgZXhpc3RpbmdMZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXKTtcbiAgICBcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTc2ODRcdTk4NzVcdTk3NjJcdTY2MkZcdTU0MjZcdTY2MkZcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcbiAgICBjb25zdCBhY3RpdmVMZWFmID0gd29ya3NwYWNlLmFjdGl2ZUxlYWY7XG4gICAgY29uc3QgaXNNYWluT3ZlcnZpZXdBY3RpdmUgPSBhY3RpdmVMZWFmICYmIFxuICAgICAgYWN0aXZlTGVhZi52aWV3LmdldFZpZXdUeXBlKCkgPT09IFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXO1xuICAgIFxuICAgIGlmIChleGlzdGluZ0xlYXZlcy5sZW5ndGggPiAwICYmIGlzTWFpbk92ZXJ2aWV3QWN0aXZlKSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcdTZCNjNcdTU3MjhcdTY2M0VcdTc5M0FcdTRFMTRcdTY2MkZcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTk4NzVcdTk3NjJcdUZGMENcdTUyMTlcdTUxNzNcdTk1RURcdTVCODNcbiAgICAgIGV4aXN0aW5nTGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICAgIGxlYWYuZGV0YWNoKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV4aXN0aW5nTGVhdmVzLmxlbmd0aCA+IDAgJiYgIWlzTWFpbk92ZXJ2aWV3QWN0aXZlKSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcdTVCNThcdTU3MjhcdTRGNDZcdTRFMERcdTY2MkZcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTk4NzVcdTk3NjJcdUZGMENcdTUyMTlcdTZGQzBcdTZEM0JcdTVCODNcbiAgICAgIHdvcmtzcGFjZS5yZXZlYWxMZWFmKGV4aXN0aW5nTGVhdmVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1OTgyXHU2NzlDXHU0RTNCXHU3NTRDXHU5NzYyXHU2QTIxXHU1RjBGXHU0RTBEXHU1QjU4XHU1NzI4XHVGRjBDXHU1MjE5XHU1MjFCXHU1RUZBXHU1RTc2XHU2NjNFXHU3OTNBXG4gICAgICBjb25zdCBsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuICAgICAgYXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVNpZGViYXJPdmVydmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgXG4gICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXKTtcblxuICAgIGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1NzI4XHU1M0YzXHU0RkE3XHU4RkI5XHU2ODBGXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU4OUM2XHU1NkZFXG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICBhd2FpdCBsZWFmPy5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGVhZikge1xuICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVSZXZpZXcoKSB7XG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLmZsYXNoY2FyZE1hbmFnZXIuZ2V0U3RhdHMoKTtcbiAgICBcbiAgICBpZiAoc3RhdHMuZHVlID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKCdObyBjYXJkcyBkdWUgZm9yIHJldmlldyEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9SRVZJRVcpO1xuXG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICBsZWFmID0gbGVhdmVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG4gICAgICBhd2FpdCBsZWFmPy5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfUkVWSUVXLFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChsZWFmKSB7XG4gICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVN0YXRzKCkge1xuICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcbiAgICBsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NUQVRTKTtcblxuICAgIGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcbiAgICAgIGF3YWl0IGxlYWY/LnNldFZpZXdTdGF0ZSh7XG4gICAgICAgIHR5cGU6IFZJRVdfVFlQRV9TVEFUUyxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGVhZikge1xuICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaE92ZXJ2aWV3KCkge1xuICAgIC8vIFx1NTIzN1x1NjVCMFx1NEZBN1x1OEZCOVx1NjgwRlx1ODlDNlx1NTZGRVxuICAgIGNvbnN0IHNpZGViYXJMZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXKTtcbiAgICBzaWRlYmFyTGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICBjb25zdCB2aWV3ID0gbGVhZi52aWV3IGFzIFNpZGViYXJPdmVydmlld1ZpZXc7XG4gICAgICBpZiAodmlldyAmJiB0eXBlb2Ygdmlldy5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZpZXcucmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTUyMzdcdTY1QjBcdTRFM0JcdTc1NENcdTk3NjJcdTg5QzZcdTU2RkVcbiAgICBjb25zdCBtYWluTGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyk7XG4gICAgbWFpbkxlYXZlcy5mb3JFYWNoKGxlYWYgPT4ge1xuICAgICAgY29uc3QgdmlldyA9IGxlYWYudmlldyBhcyBTaWRlYmFyT3ZlcnZpZXdWaWV3O1xuICAgICAgaWYgKHZpZXcgJiYgdHlwZW9mIHZpZXcucmVmcmVzaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2aWV3LnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBTdGF0dXNCYXIoKSB7XG4gICAgY29uc3Qgc3RhdHVzQmFySXRlbSA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuICAgIHN0YXR1c0Jhckl0ZW0uYWRkQ2xhc3MoJ2xlYXJuaW5nLXN5c3RlbS1zdGF0dXMnKTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVTdGF0dXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0cyA9IHRoaXMuZmxhc2hjYXJkTWFuYWdlci5nZXRTdGF0cygpO1xuICAgICAgc3RhdHVzQmFySXRlbS5zZXRUZXh0KGBcdUQ4M0NcdURDQ0YgJHtzdGF0cy5kdWV9IGR1ZWApO1xuICAgICAgc3RhdHVzQmFySXRlbS50aXRsZSA9IGAke3N0YXRzLmR1ZX0gY2FyZHMgZHVlIGZvciByZXZpZXdcXG4ke3N0YXRzLm5ld30gbmV3IGNhcmRzYDtcbiAgICB9O1xuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU2NkY0XHU2NUIwXG4gICAgdXBkYXRlU3RhdHVzKCk7XG5cbiAgICAvLyBcdTZCQ0ZcdTUyMDZcdTk0OUZcdTY2RjRcdTY1QjBcdTRFMDBcdTZCMjFcbiAgICB0aGlzLnJlZ2lzdGVySW50ZXJ2YWwoXG4gICAgICB3aW5kb3cuc2V0SW50ZXJ2YWwodXBkYXRlU3RhdHVzLCA2MDAwMClcbiAgICApO1xuXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU2MjUzXHU1RjAwXHU1OTBEXHU0RTYwXG4gICAgc3RhdHVzQmFySXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuYWN0aXZhdGVSZXZpZXcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENVx1RkYxQVx1NjhDMFx1NjdFNVx1ODlDNlx1NTZGRVx1NjYyRlx1NTQyNlx1NkZDMFx1NkQzQlxuICBwdWJsaWMgaXNTaWRlYmFyT3ZlcnZpZXdBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBwdWJsaWMgaXNNYWluT3ZlcnZpZXdBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpLmxlbmd0aCA+IDA7XG4gIH1cbn0iLCAiLy8gU2V0dGluZ3NUYWIudHNcbmltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcbmltcG9ydCB7IHQgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luKSB7XG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdMZWFybmluZyBTeXN0ZW0gU2V0dGluZ3MnIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnRW5hYmxlIGV4dHJhY3Rpb24nKVxuICAgICAgLnNldERlc2MoJ0VuYWJsZSBhdXRvbWF0aWMgY29udGVudCBleHRyYWN0aW9uJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHRyYWN0aW9uRW5hYmxlZClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZXh0cmFjdGlvbkVuYWJsZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnQXV0byBzY2FuJylcbiAgICAgIC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IHNjYW4gZmlsZXMgd2hlbiB0aGV5IGFyZSBvcGVuZWQnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TY2FuKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvU2NhbiA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdEZWZhdWx0IGRlY2snKVxuICAgICAgLnNldERlc2MoJ0RlZmF1bHQgZGVjayBuYW1lIGZvciBuZXcgZmxhc2hjYXJkcycpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHQnKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0RGVjaylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdERlY2sgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gXHU1NzI4IGRpc3BsYXkoKSBcdTY1QjlcdTZDRDVcdTRFMkRcdTZERkJcdTUyQTBcbm5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuLnNldE5hbWUoJ0xhbmd1YWdlIC8gXHU4QkVEXHU4QTAwJylcbi5zZXREZXNjKCdTZWxlY3QgaW50ZXJmYWNlIGxhbmd1YWdlIC8gXHU5MDA5XHU2MkU5XHU3NTRDXHU5NzYyXHU4QkVEXHU4QTAwJylcbi5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuICAuYWRkT3B0aW9uKCdlbicsICdFbmdsaXNoJylcbiAgLmFkZE9wdGlvbignemgtQ04nLCAnXHU3QjgwXHU0RjUzXHU0RTJEXHU2NTg3JylcbiAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKVxuICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgPSB2YWx1ZSBhcyAnZW4nIHwgJ3poLUNOJztcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICBcbiAgICAvLyBcdTUyMzdcdTY1QjBcdTYyNDBcdTY3MDlcdTg5QzZcdTU2RkVcbiAgICB0aGlzLnBsdWdpbi5yZWZyZXNoT3ZlcnZpZXcoKTtcbiAgICBuZXcgTm90aWNlKCdMYW5ndWFnZSB1cGRhdGVkLiBTb21lIGNoYW5nZXMgcmVxdWlyZSByZWxvYWQuIC8gXHU4QkVEXHU4QTAwXHU1REYyXHU2NkY0XHU2NUIwLFx1OTBFOFx1NTIwNlx1NjZGNFx1NjUzOVx1OTcwMFx1ODk4MVx1OTFDRFx1NjVCMFx1NTJBMFx1OEY3RFx1MzAwMicpO1xuICB9KVxuKTtcbiAgfVxufSIsICIvLyBzcmMvdWkvc3R5bGVzL1N0eWxlTG9hZGVyLnRzXG5cbi8qKlxuICogXHU2ODM3XHU1RjBGXHU1MkEwXHU4RjdEXHU1NjY4IC0gXHU4RDFGXHU4RDIzXHU2Q0U4XHU1MTY1XHU1NDhDXHU3QkExXHU3NDA2IENTU1xuICovXG5leHBvcnQgY2xhc3MgU3R5bGVMb2FkZXIge1xuICAgIHByaXZhdGUgc3RhdGljIHN0eWxlSWQgPSAnbGVhcm5pbmctc2lkZU92ZXJ2aWV3LXN0eWxlcyc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNJbmplY3RlZCA9IGZhbHNlO1xuICBcbiAgICAvKipcbiAgICAgKiBcdTZDRThcdTUxNjVcdTY4MzdcdTVGMEZcdTUyMzBcdTk4NzVcdTk3NjJcbiAgICAgKi9cbiAgICBzdGF0aWMgaW5qZWN0KCk6IHZvaWQge1xuICAgICAgaWYgKHRoaXMuaXNJbmplY3RlZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0eWxlSWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlRWwuaWQgPSB0aGlzLnN0eWxlSWQ7XG4gICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gdGhpcy5nZXRTdHlsZXMoKTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG4gICAgICBcbiAgICAgIHRoaXMuaXNJbmplY3RlZCA9IHRydWU7XG4gICAgfVxuICBcbiAgICAvKipcbiAgICAgKiBcdTc5RkJcdTk2NjRcdTY4MzdcdTVGMEZcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlKCk6IHZvaWQge1xuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3R5bGVJZCk7XG4gICAgICBpZiAoc3R5bGVFbCkge1xuICAgICAgICBzdHlsZUVsLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmlzSW5qZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIFx1ODNCN1x1NTNENlx1NjI0MFx1NjcwOVx1NjgzN1x1NUYwRlx1RkYwOFx1NEVDRVx1OEZEOVx1OTFDQ1x1N0VERlx1NEUwMFx1N0JBMVx1NzQwNlx1RkYwOVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldFN0eWxlcygpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIGBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gQ1NTIFx1NTNEOFx1OTFDRlx1OTE0RFx1N0Y2RSA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAubGVhcm5pbmctb3ZlcnZpZXctY29udGFpbmVyIHtcbiAgICAtLW92ZXJ2aWV3LXNpZGViYXItd2lkdGg6IDI1MHB4O1xuICAgIC0tb3ZlcnZpZXctY2FyZC1nYXA6IDhweDtcbiAgICAtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAtLW92ZXJ2aWV3LXRyYW5zaXRpb246IGFsbCAwLjJzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NTE2OFx1NUM0MFx1NUJCOVx1NTY2OCA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAubGVhcm5pbmctb3ZlcnZpZXctY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5sZWFybmluZy1vdmVydmlldy1jb250YWluZXJbZGF0YS1tb2RlPVwic2lkZWJhclwiXSB7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuICBcbiAgLnNpZGViYXItdG9vbGJhciB7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDEwO1xuICB9XG4gIFxuICAuc2lkZWJhci1jb250ZW50LWxpc3Qge1xuICAgIGZsZXg6IDE7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBwYWRkaW5nOiB2YXIoLS1vdmVydmlldy1jYXJkLWdhcCk7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NURFNVx1NTE3N1x1NjgwRlx1N0VDNFx1NEVGNiA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAuc2VhcmNoLWNvbnRhaW5lciB7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICB9XG4gIFxuICAuc2VhcmNoLWlucHV0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICB9XG4gIFxuICAuc2VhcmNoLWlucHV0OmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuICBcbiAgLmZpbHRlci1jaGlwcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDZweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG4gIFxuICAuZmlsdGVyLWNoaXAge1xuICAgIGZsZXg6IDE7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDZweCA4cHg7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgfVxuICBcbiAgLmZpbHRlci1jaGlwOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgfVxuICBcbiAgLmZpbHRlci1jaGlwLmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG4gIFxuICAuZ3JvdXAtc3dpdGNoZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA2cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfVxuICBcbiAgLmdyb3VwLWJ0biB7XG4gICAgZmxleDogMTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogNnB4O1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICB9XG4gIFxuICAuZ3JvdXAtYnRuOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgfVxuICBcbiAgLmdyb3VwLWJ0bi5hY3RpdmUge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NjI3OVx1OTFDRlx1NjRDRFx1NEY1QyA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAuc3RhdHMtcm93IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGdhcDogM3B4O1xuICB9XG4gIFxuLnN0YXRzLWxlZnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDZweDtcbiAgZmxleC1zaHJpbms6IDA7XG59XG5cbi5zdGF0cy1jZW50ZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDZweDtcbiAgZmxleDogMTtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuXG4uc3RhdHMtcmlnaHQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDFweDtcbiAgZmxleC1zaHJpbms6IDA7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvOyAvKiBcdTYzQThcdTUyMzBcdTY3MDBcdTUzRjNcdTRGQTcgKi9cbn1cblxuLmhlYWRlci1hY3Rpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiA4cHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi8qIFx1NTkwRFx1NEU2MFx1NjhDMFx1NjdFNVx1NjMwOVx1OTRBRVx1NjgzN1x1NUYwRiAqL1xuLnJldmlldy1jaGVjay1idG4tc3RhdHMge1xuICB3aWR0aDogMzJweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIGZsZXgtc2hyaW5rOiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDE7XG4gICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgIGJvcmRlcjpub25lO1xufVxuXG4ucmV2aWV3LWNoZWNrLWJ0bi1zdGF0czpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG59XG5cbi5yZXZpZXctY2hlY2stYnRuLXN0YXRzOmFjdGl2ZSB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMC45NSk7XG59XG5cbi8qIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NUY4NVx1NTkwRFx1NEU2MFx1NTM2MVx1NzI0NyxcdTZERkJcdTUyQTBcdTYzRDBcdTc5M0FcdTUyQThcdTc1M0IgKi9cbi5yZXZpZXctY2hlY2stYnRuLXN0YXRzLmhhcy1kdWUge1xuICBhbmltYXRpb246IGJlbGxSaW5nIDJzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1jb2xvcjogIzY2N2VlYTtcbn1cblxuQGtleWZyYW1lcyBiZWxsUmluZyB7XG4gIDAlLCAxMDAlIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgfVxuICAxMCUsIDMwJSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoLTEwZGVnKTtcbiAgfVxuICAyMCUsIDQwJSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMTBkZWcpO1xuICB9XG4gIDUwJSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cbn1cblxuICAuYmF0Y2gtY3JlYXRlLWNhcmRzLWJ0bi1zaWRlYmFyLFxuICAuYmF0Y2gtZGVsZXRlLWJ0bi1zaWRlYmFyLFxuICAuY2FuY2VsLXNlbGVjdGlvbi1idG4tc2lkZWJhciB7XG4gICAgcGFkZGluZzogNnB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbiAgXG4gIC5iYXRjaC1jcmVhdGUtY2FyZHMtYnRuLXNpZGViYXI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuICBcbiAgLmJhdGNoLWRlbGV0ZS1idG4tc2lkZWJhcjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcmVkKTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci1yZWQpO1xuICB9XG4gIFxuICAuY2FuY2VsLXNlbGVjdGlvbi1idG4tc2lkZWJhcjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG4gIFxuICAuYmF0Y2gtY3JlYXRlLWNhcmRzLWJ0bi1oZWFkZXIsXG4gIC5iYXRjaC1kZWxldGUtYnRuLWhlYWRlcixcbiAgLmNhbmNlbC1zZWxlY3Rpb24tYnRuLWhlYWRlciB7XG4gICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgfVxuICBcbiAgLmJhdGNoLWNyZWF0ZS1jYXJkcy1idG4taGVhZGVyOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5iYXRjaC1kZWxldGUtYnRuLWhlYWRlcjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcmVkKTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci1yZWQpO1xuICB9XG4gIFxuICAuY2FuY2VsLXNlbGVjdGlvbi1idG4taGVhZGVyOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIH1cbiAgXG4gIC5zZWxlY3QtYWxsLWJ0bi1zaWRlYmFyIHtcbiAgICBwYWRkaW5nOiA2cHggMTJweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBmbGV4LXNocmluazogMDtcbiAgfVxuICBcbiAgLnNlbGVjdC1hbGwtYnRuLXNpZGViYXI6aG92ZXIsXG4gIC5zZWxlY3QtYWxsLWJ0bi1zaWRlYmFyLmNvbXBsZXRlZCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICB9XG4gIFxuICAuc2VsZWN0LWFsbC1idG4taGVhZGVyIHtcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xuICB9XG4gIFxuICAuc2VsZWN0LWFsbC1idG4taGVhZGVyOmhvdmVyLFxuICAuc2VsZWN0LWFsbC1idG4taGVhZGVyLmNvbXBsZXRlZCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XG4gICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gIH1cbiAgXG4gIC5zdGF0cy1iYWRnZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgcGFkZGluZzogNHB4O1xuICAgIGZsZXg6IDE7XG4gIH1cbiAgXG4gIC5iYXRjaC1hY3Rpb25zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogNnB4O1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIHBhZGRpbmc6IDhweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGFuaW1hdGlvbjogc2xpZGVEb3duIDAuMnMgZWFzZTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU1MzYxXHU3MjQ3XHU2ODM3XHU1RjBGID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5jb21wYWN0LWNhcmQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA4cHg7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBtYXJnaW46IDRweCAwO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAuY29tcGFjdC1jYXJkOmhvdmVyIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCk7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDJweCk7XG4gICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuICBcbiAgLmNhcmQtaW5kaWNhdG9yIHtcbiAgICB3aWR0aDogNHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC5jYXJkLWluZGljYXRvci50eXBlLXFhIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB0cmFuc3BhcmVudCAwJSwgdHJhbnNwYXJlbnQgNTAlLCAjMTBiOTgxIDUwJSwgIzEwYjk4MSAxMDAlKTtcbiAgfVxuICBcbiAgLmNhcmQtaW5kaWNhdG9yLnR5cGUtY2xvemUge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHRyYW5zcGFyZW50IDAlLCB0cmFuc3BhcmVudCA1MCUsICNGRkYxNzYgNTAlLCAjRkZGMTc2IDEwMCUpO1xuICB9XG4gIFxuICAuY2FyZC1pbmRpY2F0b3IudHlwZS10ZXh0IHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB0cmFuc3BhcmVudCAwJSwgdHJhbnNwYXJlbnQgNTAlLCAjNmI3MjgwIDUwJSwgIzZiNzI4MCAxMDAlKTtcbiAgfVxuICBcbiAgLmNhcmQtaW5kaWNhdG9yLnR5cGUtcWEuaGFzLWFubm90YXRpb24ge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICMzYjgyZjYgMCUsICMzYjgyZjYgNTAlLCAjMTBiOTgxIDUwJSwgIzEwYjk4MSAxMDAlKTtcbiAgfVxuICBcbiAgLmNhcmQtaW5kaWNhdG9yLnR5cGUtY2xvemUuaGFzLWFubm90YXRpb24ge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICMzYjgyZjYgMCUsICMzYjgyZjYgNTAlLCAjRkZGMTc2IDUwJSwgI0ZGRjE3NiAxMDAlKTtcbiAgfVxuICBcbiAgLmNhcmQtaW5kaWNhdG9yLnR5cGUtdGV4dC5oYXMtYW5ub3RhdGlvbiB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzNiODJmNiAwJSwgIzNiODJmNiA1MCUsICM2YjcyODAgNTAlLCAjNmI3MjgwIDEwMCUpO1xuICB9XG4gIFxuICAudHlwZS1pbmRpY2F0b3Ige1xuICAgIHBhZGRpbmc6IDJweCA4cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBmb250LXNpemU6IDEwcHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICB9XG4gIFxuICAudHlwZS1pbmRpY2F0b3IudHlwZS1xYSB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgxNiwgMTg1LCAxMjksIDAuMik7XG4gICAgY29sb3I6ICMxMGI5ODE7XG4gIH1cbiAgXG4gIC50eXBlLWluZGljYXRvci50eXBlLWNsb3plIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjQxLCAxMTgsIDAuMik7XG4gICAgY29sb3I6ICNGRkYxNzY7XG4gIH1cbiAgXG4gIC50eXBlLWluZGljYXRvci50eXBlLXRleHQge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMTA3LCAxMTQsIDEyOCwgMC4yKTtcbiAgICBjb2xvcjogIzZiNzI4MDtcbiAgfVxuICBcbiAgLmNhcmQtY29udGVudCB7XG4gICAgZmxleDogMTtcbiAgICBtaW4td2lkdGg6IDA7XG4gIH1cbiAgXG4gIC5jYXJkLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gIH1cbiAgXG4gIC5jYXJkLXRvb2xzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogNHB4O1xuICB9XG4gIFxuICAudG9vbC1idG4ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgcGFkZGluZzogNHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLnRvb2wtYnRuOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgfVxuICBcbiAgLmFubm90YXRpb24tYnRuIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICB9XG4gIFxuXG4gIFxuICAubm90ZS10ZXh0IHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgbWFyZ2luLWJvdHRvbTogNnB4O1xuICB9XG4gIFxuICAubm90ZS10ZXh0OmhvdmVyIHtcbiAgICBjb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuICBcbiAgLnFhLXF1ZXN0aW9uIHtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gIH1cbiAgXG4gIC5xYS1zZXBhcmF0b3Ige1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBtYXJnaW46IDAgNHB4O1xuICB9XG4gIFxuICAucWEtYW5zd2VyIHtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgfVxuICBcbiAgLmNsb3plLWhpZ2hsaWdodCB7XG4gICAgY29sb3I6ICNmNTllMGI7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBwYWRkaW5nOiAxcHggM3B4O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgfVxuICBcbiAgLmFubm90YXRpb24tcHJldmlldyB7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIHBhZGRpbmc6IDZweCA4cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLmFubm90YXRpb24tcHJldmlldzpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gIH1cbiAgXG4gIC5jYXJkLW1ldGEge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgZ2FwOiA2cHg7XG4gICAgbWFyZ2luLXRvcDogOHB4O1xuICB9XG4gIFxuICAudGFnIHtcbiAgICBwYWRkaW5nOiAycHggNnB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXRhZy1iYWNrZ3JvdW5kKTtcbiAgICBjb2xvcjogdmFyKC0tdGFnLWNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZm9udC1zaXplOiAxMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cbiAgXG4gIC5iYWRnZSB7XG4gICAgcGFkZGluZzogMnB4IDZweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgfVxuICBcbiAgLmdyb3VwLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogNnB4O1xuICAgIHBhZGRpbmc6IDZweCA4cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgIHRvcDogMDtcbiAgICB6LWluZGV4OiAxMDtcbiAgfVxuICBcbi8qID09PT09PT09PT09PT09PT09PT09IFx1NjI3OVx1NkNFOFx1N0YxNlx1OEY5MVx1NTY2OCA9PT09PT09PT09PT09PT09PT09PSAqL1xuLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvciB7XG4gIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogOHB4O1xuICBwYWRkaW5nOiAwO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbiAgXG4gIC5pbmxpbmUtYW5ub3RhdGlvbi10ZXh0YXJlYSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWluLWhlaWdodDogODBweDtcbiAgICBwYWRkaW5nOiAxMnB4IDE0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeS1hbHQpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGV4dCk7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgcmVzaXplOiB2ZXJ0aWNhbDtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB9XG4gIFxuICAuaW5saW5lLWFubm90YXRpb24tdGV4dGFyZWE6Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gIH1cbiAgXG4gIC5pbmxpbmUtYW5ub3RhdGlvbi10ZXh0YXJlYTo6cGxhY2Vob2xkZXIge1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWZhaW50KTtcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIH1cbiAgXG4gIC5pbmxpbmUtYW5ub3RhdGlvbi1oaW50IHtcbiAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWZhaW50KTtcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgfVxuICBcbiAgLmdyaWQtY2FyZCAuaW5saW5lLWFubm90YXRpb24tZWRpdG9yIHtcbiAgICBtYXJnaW4tdG9wOiA4cHg7XG4gIH1cbiAgXG4gIC5ncmlkLWNhcmQgLmlubGluZS1hbm5vdGF0aW9uLXRleHRhcmVhIHtcbiAgICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgcGFkZGluZzogOHB4IDE0cHg7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NEUzQlx1NzU0Q1x1OTc2Mlx1NUUwM1x1NUM0MCA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAubWFpbi1sYXlvdXQge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiB2YXIoLS1vdmVydmlldy1zaWRlYmFyLXdpZHRoKSAxZnI7XG4gICAgZ2FwOiAxcHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgfVxuICBcbiAgLmxlZnQtcGFuZWwge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cbiAgXG4gIC5yaWdodC1wYW5lbCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIHBhZGRpbmc6IHZhcigtLW92ZXJ2aWV3LWNhcmQtZ2FwKTtcbiAgfVxuICBcbiAgLmZpeGVkLWVudHJpZXMge1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiA2cHg7XG4gIH1cbiAgXG4gIC5lbnRyeS1idG4ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDhweDtcbiAgICBwYWRkaW5nOiAxMHB4IDEycHg7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgfVxuICBcbiAgLmVudHJ5LWJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDJweCk7XG4gIH1cbiAgXG4gIC5lbnRyeS1idG4uYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1NEUzQlx1NzU0Q1x1OTc2Mlx1NURFNVx1NTE3N1x1NjgwRiA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAubWFpbi10b29sYmFyIHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgfVxuICBcbiAgLnNlYXJjaC1pbnB1dC1tYWluIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAuc2VhcmNoLWlucHV0LW1haW46Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG4gIFxuICAuZ3JvdXAtc3dpdGNoZXItbWFpbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDZweDtcbiAgfVxuICBcbiAgLmdyb3VwLWJ0bi1tYWluIHtcbiAgICBmbGV4OiAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBnYXA6IDRweDtcbiAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gIFxuICAuZ3JvdXAtYnRuLW1haW46aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcbiAgfVxuICBcbiAgLmdyb3VwLWJ0bi1tYWluLmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICB9XG4gIFxuICAuYmF0Y2gtYWN0aW9ucy1tYWluIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogOHB4O1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICB9XG4gIFxuICAuYmF0Y2gtYWN0aW9ucy1tYWluIC5iYXRjaC1tb2RlLWJ0bixcbiAgLmJhdGNoLWFjdGlvbnMtbWFpbiAuc2VsZWN0LWFsbC1idG4sXG4gIC5iYXRjaC1hY3Rpb25zLW1haW4gLmJhdGNoLWRlbGV0ZS1idG4sXG4gIC5iYXRjaC1hY3Rpb25zLW1haW4gLmJhdGNoLWNyZWF0ZS1jYXJkcy1idG4ge1xuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgfVxuICBcbiAgLmJhdGNoLWFjdGlvbnMtbWFpbiAuc2VsZWN0LWFsbC1idG46aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuICBcbiAgLnBhbmVsLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICAgIG1hcmdpbjogMDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIH1cbiAgXG4gIC5maWxlLWxpc3Qge1xuICAgIHBhZGRpbmc6IDAgOHB4IDhweCA4cHg7XG4gICAgZmxleDogMTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICB9XG4gIFxuICAuZmlsZS1pdGVtIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiA4cHg7XG4gICAgcGFkZGluZzogOHB4IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgfVxuICBcbiAgLmZpbGUtaXRlbTpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gIH1cbiAgXG4gIC5maWxlLWl0ZW0uc2VsZWN0ZWQge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgfVxuICBcbiAgLmZpbGUtaWNvbiB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG4gIFxuICAuZmlsZS1uYW1lIHtcbiAgICBmbGV4OiAxO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbiAgXG4gIC5maWxlLWNvdW50IHtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgcGFkZGluZzogMnB4IDZweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgfVxuICBcbiAgLmZpbGUtaXRlbS5zZWxlY3RlZCAuZmlsZS1jb3VudCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTdGNTFcdTY4M0NcdTVFMDNcdTVDNDAgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLmdyaWQtaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDEycHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgfVxuICBcbiAgLmdyaWQtaGVhZGVyIGgyIHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBtYXJnaW46IDA7XG4gIH1cbiAgXG4gIC5jb250ZW50LWdyaWQge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjQwcHgsIDFmcikpO1xuICAgIGdhcDogdmFyKC0tb3ZlcnZpZXctY2FyZC1nYXApO1xuICB9XG4gIFxuICAuZ3JpZC1jYXJkIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgcGFkZGluZzogdmFyKC0tb3ZlcnZpZXctY2FyZC1nYXApO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7XG4gICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuICBcbiAgLmdyaWQtY2FyZDpob3ZlciB7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gIH1cbiAgXG4gIC5ncmlkLWNhcmQtaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gICAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICB9XG4gIFxuICAuZ3JpZC1jYXJkLXRvb2xzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogNHB4O1xuICB9XG4gIFxuICAudG9vbC1idG4tZ3JpZCB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBwYWRkaW5nOiA0cHggNnB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLnRvb2wtYnRuLWdyaWQ6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbiAgfVxuICBcbiAgLmdyaWQtbm90ZS10ZXh0IHtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcbiAgfVxuICBcbiAgLmdyaWQtbm90ZS10ZXh0OmhvdmVyIHtcbiAgICBjb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuICBcbiAgLmdyaWQtYW5ub3RhdGlvbiB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC5ncmlkLWFubm90YXRpb246aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICB9XG4gIFxuICAuZ3JpZC10YWdzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBnYXA6IDZweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICB9XG4gIFxuICAudGFnLWdyaWQge1xuICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tdGFnLWJhY2tncm91bmQpO1xuICAgIGNvbG9yOiB2YXIoLS10YWctY29sb3IpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuICBcbiAgLmdyaWQtY2FyZC1tZXRhIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICB9XG4gIFxuICAuZG9jLW5hbWUge1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIGxldHRlci1zcGFjaW5nOiAwLjVweDtcbiAgfVxuICBcbiAgLmxpbmUtaW5mbyB7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG4gIFxuICAuYmFkZ2UtZ3JpZCB7XG4gICAgcGFkZGluZzogM3B4IDhweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTk1RUFcdTUzNjFcdTY4MzdcdTVGMEYgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLmZsYXNoY2FyZC1pdGVtIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgcGFkZGluZzogMTZweDtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLmZsYXNoY2FyZC1pdGVtOmhvdmVyIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbiAgXG4gIC5mbGFzaGNhcmQtaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gIH1cbiAgXG4gIC5mbGFzaGNhcmQtdHlwZSB7XG4gICAgcGFkZGluZzogNHB4IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgfVxuICBcbiAgLmZsYXNoY2FyZC10eXBlLnFhIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE2LCAxODUsIDEyOSwgMC4yKTtcbiAgICBjb2xvcjogIzEwYjk4MTtcbiAgfVxuICBcbiAgLmZsYXNoY2FyZC10eXBlLmNsb3plIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjQxLCAxMTgsIDAuMik7XG4gICAgY29sb3I6ICNGRkYxNzY7XG4gIH1cbiAgXG4gIC5mbGFzaGNhcmQtYm9keSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMTBweDtcbiAgfVxuICBcbiAgLmZsYXNoY2FyZC1xdWVzdGlvbixcbiAgLmZsYXNoY2FyZC1hbnN3ZXIge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBsaW5lLWhlaWdodDogMS41O1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTdBN0FcdTcyQjZcdTYwMDEgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLmVtcHR5LXN0YXRlIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogNDBweCAyMHB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbiAgXG4gIC5lbXB0eS1oaW50IHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICB9XG4gIFxuICAuZW1wdHktcmlnaHQtcGFuZWwge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIH1cbiAgXG4gIC5lbXB0eS1pY29uIHtcbiAgICBmb250LXNpemU6IDQ4cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgfVxuICBcbiAgLmVtcHR5LXRleHQge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU1MkE4XHU3NTNCID09PT09PT09PT09PT09PT09PT09ICovXG4gIEBrZXlmcmFtZXMgc2xpZGVEb3duIHtcbiAgICBmcm9tIHtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwcHgpO1xuICAgIH1cbiAgICB0byB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xuICAgIH1cbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU1NENEXHU1RTk0XHU1RjBGID09PT09PT09PT09PT09PT09PT09ICovXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIC5tYWluLWxheW91dCB7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICB9XG4gIFxuICAgIC5sZWZ0LXBhbmVsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICBcbiAgICAuY29udGVudC1ncmlkIHtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgIH1cbiAgICB9XG5cblxuLyogXHU1OTBEXHU0RTYwXHU1NkZFXHU2ODA3Ki9cblxuXG4ucmV2aWV3LWNoZWNrLWJ0biB7XG4gIHdpZHRoOiAzNnB4O1xuICBoZWlnaHQ6IDM2cHg7XG4gIHBhZGRpbmc6IDA7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXNpemU6IDE4cHg7XG4gIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICBmbGV4LXNocmluazogMDtcbn1cblxuLnJldmlldy1jaGVjay1idG46aG92ZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG59XG5Aa2V5ZnJhbWVzIHB1bHNlIHtcbiAgMCUsIDEwMCUge1xuICAgIG9wYWNpdHk6IDAuODU7XG4gIH1cbiAgNTAlIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG59XG5cbi8qIFx1NTkwRFx1NEU2MFx1NjNEMFx1OTE5Mlx1NTE3N1x1NEY1M1x1NjgzN1x1NUYwRiAqL1xuLmNvbnRlbnQtbGlzdC1yZXZpZXctcmVtaW5kZXIge1xuXG59XG5cbi5yZW1pbmRlci1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDhweDtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbn1cblxuLnJlbWluZGVyLWljb24ge1xuICBmb250LXNpemU6IDI0cHg7XG59XG5cbi5yZW1pbmRlci10ZXh0IHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLnJlbWluZGVyLXByb2dyZXNzIHtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbn1cblxuLnByb2dyZXNzLWJhciB7XG4gIGhlaWdodDogOHB4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xufVxuXG4ucHJvZ3Jlc3MtZmlsbCB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcbn1cblxuLnByb2dyZXNzLXRleHQge1xuICBmb250LXNpemU6IDEzcHg7XG4gIG9wYWNpdHk6IDAuOTtcbn1cblxuLnJlbWluZGVyLXN0YXRzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiA2cHg7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG59XG5cblxuXG4uc3RyZWFrLWluZm8ge1xuICBvcGFjaXR5OiAwLjk1O1xufVxuXG4ucmVtaW5kZXItYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG5cbi5yZW1pbmRlci1idG4ucHJpbWFyeSB7XG5cbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ucmVtaW5kZXItYnRuLnByaW1hcnk6aG92ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7XG59XG5cbi8qIFx1NTM2MVx1NzI0N1x1NEUyRFx1ODg2OFx1NjgzQ1x1NzY4NFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1OUFEOFx1NEVBRSAtIFx1NkE1OVx1ODI3MiAqL1xuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSAuY2FyZC1jbG96ZS1oaWdobGlnaHQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTQwLCAwLCAwLjI1KTtcbiAgcGFkZGluZzogMnB4IDRweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBmb250LXdlaWdodDogNTAwO1xufVxuICAgIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTdCNDlcdTdFQTdcdTVGQkRcdTdBRTBcdTU2RkVcdTY4MDcgPT09PT09PT09PT09PT09PT09PT0gKi9cbi5sZXZlbC1iYWRnZS1pY29uIHtcbiAgcGFkZGluZzogNHB4IDZweCA7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xuICBmb250LXNpemU6IDAuODVlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG5cbi5sZXZlbC1iYWRnZS1pY29uOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PSBcdTdCNDlcdTdFQTdcdTRGRTFcdTYwNkZcdTZBMjFcdTYwMDFcdTY4NDYgPT09PT09PT09PT09PT09PT09PT0gKi9cbi5sZXZlbC1pbmZvLW1vZGFsIHtcbiAgcGFkZGluZzogMjBweDtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbn1cblxuLmxldmVsLWluZm8tbW9kYWwgaDIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gIGZvbnQtc2l6ZTogMS44ZW07XG59XG5cbi5sZXZlbC1pbmZvLW1vZGFsIGgzIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICBmb250LXNpemU6IDEuMWVtO1xufVxuXG4ucHJvZ3Jlc3Mtc2VjdGlvbixcbi5zdGF0cy1zZWN0aW9uLFxuLm1pbGVzdG9uZXMtc2VjdGlvbiB7XG4gIG1hcmdpbi1ib3R0b206IDI0cHg7XG59XG5cbi5wcm9ncmVzcy1ib3gge1xuICBwYWRkaW5nOiAxNnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBsaW5lLWhlaWdodDogMS44O1xufVxuXG4uc3RhdHMtZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpO1xuICBnYXA6IDEycHg7XG59XG5cbi5zdGF0cy1ncmlkIC5zdGF0LWl0ZW0ge1xuICBwYWRkaW5nOiAxMnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA0cHg7XG59XG5cbi5zdGF0LWljb24ge1xuICBmb250LXNpemU6IDEuNWVtO1xufVxuXG4uc3RhdC1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG59XG5cbi5zdGF0LXZhbHVlIHtcbiAgZm9udC1zaXplOiAxLjNlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG59XG5cbi5taWxlc3RvbmVzLWxpc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEycHg7XG59XG5cbi5taWxlc3RvbmUtaXRlbSB7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG59XG5cbi5taWxlc3RvbmUtbWVzc2FnZSB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbn1cblxuLm1pbGVzdG9uZS1kYXRlIHtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbn1cblxuLm1vZGFsLWZvb3RlciB7XG4gIG1hcmdpbi10b3A6IDI0cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4ubW9kYWwtZm9vdGVyIGJ1dHRvbiB7XG4gIHBhZGRpbmc6IDhweCAyNHB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMWVtO1xufVxuXG4ubW9kYWwtZm9vdGVyIGJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG59XG4gIFxuICAgICAgYDtcbiAgICB9XG4gIH0iLCAiLyoqXG4gKiBcdTY4MzdcdTVGMEZcdTUyQTBcdThGN0RcdTU2NjggLSBcdThEMUZcdThEMjNcdTZDRThcdTUxNjVcdTU0OENcdTdCQTFcdTc0MDYgQ1NTXG4gKi9cbmV4cG9ydCBjbGFzcyByZXZpZXdTdHlsZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgc3R5bGVJZCA9ICdsZWFybmluZy1yZXZpZXctc3R5bGVzJztcbiAgICBwcml2YXRlIHN0YXRpYyBpc0luamVjdGVkID0gZmFsc2U7XG4gIFxuICAgIC8qKlxuICAgICAqIFx1NkNFOFx1NTE2NVx1NjgzN1x1NUYwRlx1NTIzMFx1OTg3NVx1OTc2MlxuICAgICAqL1xuICAgIHN0YXRpYyBpbmplY3QoKTogdm9pZCB7XG4gICAgICBpZiAodGhpcy5pc0luamVjdGVkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3R5bGVJZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbC5pZCA9IHRoaXMuc3R5bGVJZDtcbiAgICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSB0aGlzLmdldFN0eWxlcygpO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgICAgIFxuICAgICAgdGhpcy5pc0luamVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIFx1NzlGQlx1OTY2NFx1NjgzN1x1NUYwRlxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmUoKTogdm9pZCB7XG4gICAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHlsZUlkKTtcbiAgICAgIGlmIChzdHlsZUVsKSB7XG4gICAgICAgIHN0eWxlRWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuaXNJbmplY3RlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgXG4gICAgLyoqXG4gICAgICogXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU2ODM3XHU1RjBGXHVGRjA4XHU0RUNFXHU4RkQ5XHU5MUNDXHU3RURGXHU0RTAwXHU3QkExXHU3NDA2XHVGRjA5XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3R5bGVzKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gYFxuICAgICAgIC5yZXZpZXctY29udGFpbmVyIHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgbWF4LXdpZHRoOiA4MDBweDtcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICB9XG5cbiAgICAgIC5lbXB0eS1zdGF0ZSB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogNDBweCAyMHB4O1xuICAgICAgfVxuXG4gICAgICAuZW1wdHktc3RhdGUgaDIge1xuICAgICAgICBmb250LXNpemU6IDEuOGVtO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0cy1zdW1tYXJ5IHtcbiAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICAucHJvZ3Jlc3MtYmFyIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgIH1cblxuICAgICAgLnByb2dyZXNzLXN0YXRzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5wcm9ncmVzcy10ZXh0IHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgIH1cblxuICAgICAgLmJhci1jb250YWluZXIge1xuICAgICAgICBoZWlnaHQ6IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5iYXIge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtYXJlYSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgbWluLWhlaWdodDogMzUwcHg7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIH1cblxuICAgICAgLnRvcC1hY3Rpb25zLWJhciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAxNnB4O1xuICAgICAgICByaWdodDogMTZweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA2cHg7XG4gICAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgfVxuXG4gICAgICAudG9wLWFjdGlvbi1idG4ge1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgIH1cblxuICAgICAgLnRvcC1hY3Rpb24tYnRuOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgIH1cblxuICAgICAgLm1vcmUtZHJvcGRvd24ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMzhweDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICAgIG1pbi13aWR0aDogMTUwcHg7XG4gICAgICAgIHotaW5kZXg6IDEwMDtcbiAgICAgIH1cblxuICAgICAgLmRyb3Bkb3duLWl0ZW0ge1xuICAgICAgICBwYWRkaW5nOiA4cHggMTRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICB9XG5cbiAgICAgIC5kcm9wZG93bi1pdGVtOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICB9XG5cbiAgICAgIC5kZWxldGUtaXRlbTpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3ItaG92ZXIpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItcmVkKTtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtaW5mbyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMTBweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDEycHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDgwcHg7XG4gICAgICB9XG5cbiAgICAgIC5jYXJkLXR5cGUsIC5jYXJkLWRlY2sge1xuICAgICAgICBwYWRkaW5nOiAzcHggMTBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgIH1cblxuICAgICAgLnF1ZXN0aW9uLWFyZWEsIC5hbnN3ZXItYXJlYSB7XG4gICAgICAgIG1hcmdpbjogMTZweCAwO1xuICAgICAgfVxuXG4gICAgICAucXVlc3Rpb24tdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICAgIHBhZGRpbmc6IDE0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgfVxuXG4gICAgICAuY2xvemUtaW5wdXQtYXJlYSwgLnFhLWlucHV0LWFyZWEge1xuICAgICAgICBtYXJnaW46IDE2cHggMDtcbiAgICAgIH1cblxuICAgICAgLmNsb3plLWlucHV0LWFyZWEgaDQsIC5xYS1pbnB1dC1hcmVhIGg0IHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgfVxuICAgICAgICBcbi5xYS1hbnN3ZXItaW5wdXQge1xuICB3aWR0aDogMTAwJTtcbiAgbWluLWhlaWdodDogMTIwcHg7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICBmb250LXNpemU6IDAuOTVlbTtcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gIHJlc2l6ZTogdmVydGljYWw7XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzLCBib3gtc2hhZG93IDAuMnM7XG59XG5cbi5xYS1hbnN3ZXItaW5wdXQ6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4ucWEtYW5zd2VyLWlucHV0OjpwbGFjZWhvbGRlciB7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWZhaW50KTtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuICAgICAgLmlucHV0LWdyb3VwIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIH1cblxuICAgICAgLmNsb3plLWlucHV0IHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICAgIH1cblxuICAgICAgLmNsb3plLWlucHV0OmZvY3VzLCAucWEtaW5wdXQ6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuXG4gICAgICAucWEtaW5wdXQge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWluLWhlaWdodDogMTAwcHg7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMTJweDtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICAgICAgcmVzaXplOiB2ZXJ0aWNhbDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgIH1cblxuICAgICAgLnF1ZXN0aW9uLXJldmlldyB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIH1cblxuICAgICAgLnF1ZXN0aW9uLXJldmlldyBoNCB7XG4gICAgICAgIG1hcmdpbjogMCAwIDZweCAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAucmV2aWV3LXRleHQge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgICAgfVxuXG4gICAgICAuZnVsbC10ZXh0IHtcbiAgICAgICAgZm9udC1zaXplOiAxLjFlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gICAgICB9XG5cbiAgICAgIC5hbnN3ZXItY29tcGFyaXNvbiB7XG4gICAgICBmb250LXNpemU6MTNweDtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAxMnB4O1xuICAgICAgfVxuXG4gICAgICAuYW5zd2VyLWNvbXBhcmlzb24gaDQge1xuICAgICAgICBtYXJnaW46IDAgMCA4cHggMDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgIH1cblxuICAgICAgLmNvbXBhcmlzb24taXRlbSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgcGFkZGluZzogMnB4IDZweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXIuY29ycmVjdCB7XG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg0MCwgMTY3LCA2OSwgMC4xKSAgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6ICAjMmVhMDQzO1xuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXIucGFydGlhbCB7XG4gICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTkzLCA3LCAwLjE1KSAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogI2ZmOWYwYTtcbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyLndyb25nIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMjAsIDUzLCA2OSwgMC4xKSAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogI2U1NTM0YjtcbiAgICAgIH1cblxuICAgICAgLmNvcnJlY3QtYW5zd2VyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLnNpbWlsYXJpdHktaW5mbyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgIH1cblxuICAgICAgLnFhLWNvbHVtbnMtY29udGFpbmVyIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gICAgICB9XG5cbiAgICAgIC5xYS1jb2x1bW4ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfVxuXG4gICAgICAuY29sdW1uLWxhYmVsIHtcbiAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDAgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgIH1cblxuICAgICAgLnFhLXVzZXItYW5zd2VyLCAucWEtY29ycmVjdC1hbnN3ZXIge1xuICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICAgICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG4gICAgICB9XG5cbiAgICAgIC5xYS1jb3JyZWN0LWFuc3dlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLnFhLXVzZXItYW5zd2VyLmNvcnJlY3Qge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjNGNhZjUwICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICAucWEtdXNlci1hbnN3ZXIucGFydGlhbCB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNGRkMwMDAgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5xYS11c2VyLWFuc3dlci53cm9uZyB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmNDQzMzYgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5xYS11c2VyLWFuc3dlci5uby1hbnN3ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgICBib3JkZXI6IDJweCBkYXNoZWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLWFyZWEge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICBBY3Rpb24gUm93IC0gXHU2MzA5XHU5NEFFXHU1RTAzXHU1QzQwXG4gICAgICAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAuYWN0aW9uLXJvdyB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIHBhZGRpbmc6IDAgMjBweDtcbiAgICAgICAgbWluLWhlaWdodDogNjBweDtcbiAgICAgIH1cblxuICAgICAgLyogXHU0RTJEXHU5NUY0XHU3Njg0XHU0RTNCXHU4OTgxXHU2MzA5XHU5NEFFKFx1OEJDNFx1N0VBN1x1NjIxNlx1NjYzRVx1NzkzQVx1N0I1NFx1Njg0OCkgKi9cbiAgICAgIC5hY3Rpb24tcm93IC5yYXRpbmctYnV0dG9ucyxcbiAgICAgIC5hY3Rpb24tcm93IC5zaG93LWFuc3dlci1idG4ge1xuICAgICAgICBmbGV4OiAwIDEgYXV0bztcbiAgICAgIH1cblxuICAgICAgLyogXHU3RkZCXHU5ODc1XHU2MzA5XHU5NEFFXHU1QjlBXHU0RjREXHU1MjMwXHU1REU2XHU0RTBCXHU4OUQyXHU1NDhDXHU1M0YzXHU0RTBCXHU4OUQyICovXG5cbiAgICAgIC5zaG93LWFuc3dlci1idG4ge1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDMycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5zaG93LWFuc3dlci1idG46aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICAgIH1cbi8qIFx1N0ZGQlx1OTg3NVx1NjMwOVx1OTRBRSAtIFx1N0VBRlx1NjU4N1x1NjcyQ1x1NjgzN1x1NUYwRiAqL1xuICAgIGJ1dHRvbi5uYXYtYnRuIHtcbiAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyAhaW1wb3J0YW50XG4gICAgICAgIGJvcmRlcjogbm9uZTshaW1wb3J0YW50XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAxLjJlbTtcbiAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCkgIWltcG9ydGFudDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7IWltcG9ydGFudFxuICAgICAgfVxuXG4gICAgIGJ1dHRvbi5uYXYtYnRuOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IWltcG9ydGFudFxuICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudFxuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpICFpbXBvcnRhbnQ7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTshaW1wb3J0YW50XG4gICAgICB9XG5cbiAgICAgIC5uYXYtYnRuOmFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbiAgICAgIH1cblxuICAgICAgLyogYWN0aW9uLXJvdyBcdTRFMkRcdTc2ODRcdTVCOUFcdTRGNEQgKi9cbiAgICAgIC5hY3Rpb24tcm93IC5uYXYtYnRuIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgfVxuXG4gICAgICAuYWN0aW9uLXJvdyAucHJldi1idG4ge1xuICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hY3Rpb24tcm93IC5uZXh0LWJ0biB7XG4gICAgICAgIHJpZ2h0OiAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5wcmV2LWJ0bjpob3ZlciB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogOHB4O1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTNweCkgc2NhbGUoMS4yKTtcbiAgICAgIH1cblxuICAgICAgLm5leHQtYnRuOmhvdmVyIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogOHB4O1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoM3B4KSBzY2FsZSgxLjIpO1xuICAgICAgfVxuXG5cbiAgICAgIFxuICAgICAgLnNob3ctYW5zd2VyLWJ0biB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMzJweDtcbiAgICAgICAgZm9udC1zaXplOiAxZW07XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctYXJlYSB7XG4gICAgICAgIG1hcmdpbjogMTVweCAwIDEwcHggMDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGdhcDogNDBweDsgXG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctYnV0dG9ucyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMjBweDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctYnRuIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWF4LXdpZHRoOiAxMjBweDtcbiAgICAgICAgcGFkZGluZzogMTRweCA4cHg7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWJ0bjpob3ZlciB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICAgICAgYm94LXNoYWRvdzogMCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctcmVkOmhvdmVyIHsgXG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3ItcmVkKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvci1ob3Zlcik7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctb3JhbmdlOmhvdmVyIHsgXG4gICAgICAgIGJvcmRlci1jb2xvcjogI0ZGQzAwMDtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE5MiwgMCwgMC4xKTtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1ibHVlOmhvdmVyIHsgXG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctZ3JlZW46aG92ZXIgeyBcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci1ncmVlbik7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2Vzcy1ob3Zlcik7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctbGFiZWwge1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWludGVydmFsIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1ob3RrZXkge1xuICAgICAgICBmb250LXNpemU6IDAuNzVlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBtYXJnaW4tdG9wOiA0cHg7XG4gICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1idG46aG92ZXIgLnJhdGluZy1ob3RrZXkge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgfVxuXG4gICBcblxuICAgICAgLmNsb3plLWJsYW5rIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBtaW4td2lkdGg6IDYwcHg7XG4gICAgICAgIHBhZGRpbmc6IDJweCA4cHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgIH1cblxuICAgICAgICAgIFxuXG4gICAgICAudGFibGUtYW5zd2VyLCAudGFibGUtcXVlc3Rpb24ge1xuICAgICAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5jbG96ZS10YWJsZS1jb2x1bW5zIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyLWNlbGwge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICAgIHBhZGRpbmc6IDBweCA0cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyLWNlbGwuY29ycmVjdCB7XG4gICAgICAgICBjb2xvcjogIzJlYTA0MztcbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyLWNlbGwucGFydGlhbCB7XG4gICAgICAgIGNvbG9yOiAjZmY5ZjBhO1xuXG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlci1jZWxsLndyb25nIHtcbiAgICAgICBjb2xvcjogI2U1NTM0YjtcblxuICAgICAgfVxuXG4gICAgICAvKiBcdTg4NjhcdTY4M0NcdTUzNTVcdTUxNDNcdTY4M0NcdTZCNjNcdTc4NkVcdTYwMjdcdTk4OUNcdTgyNzIgKi9cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUudXNlci1hbnN3ZXItdGFibGUgdGQuY2VsbC1jb3JyZWN0LFxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZS51c2VyLWFuc3dlci10YWJsZSB0aC5jZWxsLWNvcnJlY3Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQwLCAxNjcsIDY5LCAwLjEpO1xufVxuXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlLnVzZXItYW5zd2VyLXRhYmxlIHRkLmNlbGwtcGFydGlhbCxcbi5sZWFybmluZy1zeXN0ZW0tdGFibGUudXNlci1hbnN3ZXItdGFibGUgdGguY2VsbC1wYXJ0aWFsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE5MywgNywgMC4xNSk7XG59XG5cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUudXNlci1hbnN3ZXItdGFibGUgdGQuY2VsbC13cm9uZyxcbi5sZWFybmluZy1zeXN0ZW0tdGFibGUudXNlci1hbnN3ZXItdGFibGUgdGguY2VsbC13cm9uZyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjIwLCA1MywgNjksIDAuMSk7XG59XG5cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUudXNlci1hbnN3ZXItdGFibGUgLnVzZXItYW5zd2VyLWNlbGwge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuLy8gXHU1NzI4IHJldmlld1N0eWxlLmluamVjdCgpIFx1NEUyRFx1NkRGQlx1NTJBMFx1NjNEMFx1NzkzQVx1NjgzN1x1NUYwRlxuXG4uY2xvemUtaW5wdXQtaGludCB7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG4gIHBhZGRpbmc6IDhweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJvcmRlci1sZWZ0OiAzcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbn1cbi8vIFx1NTcyOCByZXZpZXdTdHlsZS5pbmplY3QoKSBcdTY1QjlcdTZDRDVcdTRFMkRcdTZERkJcdTUyQTA6XG5cbi8qIFx1NTM1NVx1NEUyQVx1OEY5M1x1NTE2NVx1Njg0Nlx1NjgzN1x1NUYwRiAqL1xuLnNpbmdsZS1pbnB1dC1ncm91cCB7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbi5jbG96ZS1zaW5nbGUtaW5wdXQge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTJweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnM7XG59XG5cbi5jbG96ZS1zaW5nbGUtaW5wdXQ6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufVxuXG5cblxuLmNsb3plLWlucHV0LWhpbnQgY29kZSB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgcGFkZGluZzogMnB4IDZweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuICBmb250LXNpemU6IDAuOWVtO1xufVxuXG4vKiBcdTk4ODRcdTg5QzhcdTUzM0FcdTU3REYgKi9cbi5hbnN3ZXItcHJldmlldy1hcmVhIHtcbiAgbWFyZ2luLXRvcDogMTZweDtcbiAgcGFkZGluZzogMTJweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG59XG5cbi5hbnN3ZXItcHJldmlldy1hcmVhIGg1IHtcbiAgbWFyZ2luOiAwIDAgOHB4IDA7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xufVxuXG4ucHJldmlldy1saXN0IHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLWxlZnQ6IDI0cHg7XG4gIGxpc3Qtc3R5bGU6IGRlY2ltYWw7XG59XG5cbi5wcmV2aWV3LWl0ZW0ge1xuICBwYWRkaW5nOiA2cHggOHB4O1xuICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtbW9ub3NwYWNlKTtcbiAgZm9udC1zaXplOiAwLjllbTtcbn1cblxuLnByZXZpZXctaXRlbS5maWxsZWQge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4ucHJldmlldy1pdGVtLmVtcHR5IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWZhaW50KTtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgIFRhYmxlIFN0eWxlc1xuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBtYXJnaW46IDhweCAwO1xuICBmb250LXNpemU6IDEzcHg7XG59XG5cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGgsXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRkIHtcbiAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgaGVpZ2h0OiAyMnB4OyAgICAgICAgXG4gIHBhZGRpbmc6IDJweCA0cHg7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG59XG5cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGgge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG59XG5cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGQge1xuICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xufVxuXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRyOmhvdmVyIHRkIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG59XG5cbi8qIFx1MjE5MCBcdTY1QjBcdTU4OUU6XHU4OEFCXHU2MzE2XHU3QTdBXHU3Njg0XHU1MzU1XHU1MTQzXHU2ODNDXHU4MENDXHU2NjZGXHU4MjcyKFx1NjYzRVx1NzkzQVx1N0I1NFx1Njg0OFx1NTI0RCkgKi9cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGQ6aGFzKC5jbG96ZS1ibGFuayksXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRoOmhhcyguY2xvemUtYmxhbmspIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg4MCwgMTI2LCA5MSwgMC4xKTtcbn1cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGguaGFzLWNsb3plIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg0MCwgMTY3LCA2OSwgMC4xNSkgIWltcG9ydGFudDtcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCByZ2JhKDQwLCAxNjcsIDY5LCAwLjYpO1xufVxuLyogXHUyMTkwIFx1NjVCMFx1NTg5RTpcdTg4QUJcdTYzMTZcdTdBN0FcdTc2ODRcdTUzNTVcdTUxNDNcdTY4M0NcdTgwQ0NcdTY2NkZcdTgyNzIoXHU2NjNFXHU3OTNBXHU3QjU0XHU2ODQ4XHU1NDBFLFx1NURGMlx1NjNFRFx1NzkzQSkgKi9cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGQ6aGFzKHNwYW4ucmV2ZWFsZWQpLFxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0aDpoYXMoc3Bhbi5yZXZlYWxlZClcbntcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg3MCwgMTEzLCA4MCwgMC4xNSk7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgcmdiYSg0MCwgMTY3LCA2OSwgMC41KTtcbn1cblxuLyogVXNlciBBbnN3ZXIgVGFibGUgLSBDZWxsIGNvcnJlY3RuZXNzIGJhY2tncm91bmQgKi9cbi51c2VyLWFuc3dlci10YWJsZSB0ZC5jZWxsLWNvcnJlY3Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDc2LCAxMjUsIDg1LCAwLjE1KTtcbn1cblxuLyogXHU5ODg0XHU4OUM4XHU3QjU0XHU2ODQ4XHU3Njg0XHU2ODM3XHU1RjBGICovXG4ucHJldmlldy1hbnN3ZXIge1xuXG4gIGNvbG9yOiAjNGE5ZWZmO1xuICBwYWRkaW5nOiAycHggNnB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5wcmV2aWV3LXRhYmxlIC5jbG96ZS1ibGFuayB7XG4gIGNvbG9yOiAjNjY2O1xuICBwYWRkaW5nOiAycHggOHB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG59XG5cbi8qIFx1NTM2MVx1NzI0N1x1NEUyRFx1ODg2OFx1NjgzQ1x1NzY4NFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1OUFEOFx1NEVBRSAtIFx1NkE1OVx1ODI3MiAqL1xuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSAuY2FyZC1jbG96ZS1oaWdobGlnaHQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTQwLCAwLCAwLjI1KTtcbiAgcGFkZGluZzogMnB4IDRweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBmb250LXdlaWdodDogNTAwO1xufVxuYFxuICAgICAgO1xufVxuICB9IiwgImV4cG9ydCB0eXBlIExhbmd1YWdlID0gJ2VuJyB8ICd6aC1DTic7XG5cbi8vIFx1NUI5QVx1NEU0OVx1N0ZGQlx1OEJEMVx1OTUyRVx1N0M3Qlx1NTc4QlxudHlwZSBUcmFuc2xhdGlvbktleSA9IFxuICB8ICd2aWV3Lm92ZXJ2aWV3J1xuICB8ICd2aWV3LnJldmlldydcbiAgfCAndmlldy5zdGF0cydcbiAgfCAndG9vbGJhci5zZWFyY2gnXG4gIHwgJ3Rvb2xiYXIuZmlsdGVyLmFsbCdcbiAgfCAndG9vbGJhci5maWx0ZXIuYW5ub3RhdGVkJ1xuICB8ICd0b29sYmFyLmZpbHRlci5mbGFzaGNhcmRzJ1xuICB8ICd0b29sYmFyLmdyb3VwLmZpbGUnXG4gIHwgJ3Rvb2xiYXIuZ3JvdXAuYW5ub3RhdGlvbidcbiAgfCAndG9vbGJhci5ncm91cC50YWcnXG4gIHwgJ3Rvb2xiYXIuZ3JvdXAuZGF0ZSdcbiAgfCAndG9vbGJhci5jaGVja1JldmlldydcbiAgfCAnYmF0Y2guc2VsZWN0QWxsJ1xuICB8ICdiYXRjaC5jcmVhdGUnXG4gIHwgJ2JhdGNoLmRlbGV0ZSdcbiAgfCAnYmF0Y2guY2FuY2VsJ1xuICB8ICdlbnRyeS5hbGxOb3RlcydcbiAgfCAnZW50cnkuY2FyZExpc3QnXG4gIHwgJ2xldmVsLjEnXG4gIHwgJ2xldmVsLjInXG4gIHwgJ2xldmVsLjMnXG4gIHwgJ2xldmVsLjQnXG4gIHwgJ2xldmVsLjUnXG4gIHwgJ2xldmVsLmN1cnJlbnQnXG4gIHwgJ2xldmVsLmNsaWNrRGV0YWlscydcbiAgfCAncmV2aWV3LnRvZGF5J1xuICB8ICdyZXZpZXcuc3RhcnQnXG4gIHwgJ3Jldmlldy5qdXN0RHVlJ1xuICB8ICdyZXZpZXcuZGVsYXllZCdcbiAgfCAncmV2aWV3LnVyZ2VudEhvdXJzJ1xuICB8ICdyZXZpZXcudXJnZW50RGF5cydcbiAgfCAncmV2aWV3LnN0cmVhaydcbiAgfCAnbm90aWNlLm5vU2VsZWN0aW9uJ1xuICB8ICdub3RpY2Uubm9EdWVDYXJkcydcbiAgfCAnbm90aWNlLmRlbGV0ZWQnXG4gIHwgJ25vdGljZS5zYXZlZCdcbiAgfCAnY29tbWFuZC5zY2FuRmlsZSdcbiAgfCAnY29tbWFuZC5zY2FuVmF1bHQnXG4gIHwgJ2NvbW1hbmQub3Blbk92ZXJ2aWV3J1xuICB8ICdjb21tYW5kLm9wZW5NYWluT3ZlcnZpZXcnXG4gIHwgJ2NvbW1hbmQuYWRkQW5ub3RhdGlvbidcbiAgfCAnY29tbWFuZC5zdGFydFJldmlldydcbiAgfCAnY29tbWFuZC5zaG93U3RhdHMnXG4gIHwgJ3JpYmJvbi5vdmVydmlldydcbiAgfCAncmliYm9uLnJldmlldydcbiAgfCAnbWVudS5qdW1wVG9Tb3VyY2UnXG4gIHwgJ21lbnUudG9nZ2xlQW5ub3RhdGlvbidcbiAgfCAnbWVudS5lZGl0Rmxhc2hjYXJkJ1xuICB8ICdtZW51LnF1aWNrR2VuZXJhdGUnXG4gIHwgJ21lbnUuY3JlYXRlUUEnXG4gIHwgJ21lbnUuY3JlYXRlQ2xvemUnXG4gIHwgJ21lbnUudmlld1N0YXRzJ1xuICB8ICdtZW51LmRlbGV0ZSdcbiAgfCAnc3RhdHVzLmR1ZSdcbiAgfCAnc3RhdHVzLnRvb2x0aXAnXG4gIHwgJ2VtcHR5Lm5vQ29udGVudCdcbiAgfCAnZW1wdHkubm9Eb2N1bWVudHMnXG4gIHwgJ2ZpbGVMaXN0LnRpdGxlJ1xuXG4gIHwgJ25vdGljZS5maWxlTm90Rm91bmQnXG58ICdub3RpY2UuanVtcGVkVG9Tb3VyY2UnXG58ICdub3RpY2UuanVtcEZhaWxlZCdcbnwgJ25vdGljZS5mbGFzaGNhcmROb3RGb3VuZCdcbnwgJ25vdGljZS5hbHJlYWR5SGFzRmxhc2hjYXJkcydcbnwgJ25vdGljZS5iYXRjaERlbGV0ZWQnXG58ICdjb25maXJtLmRlbGV0ZU5vdGUnXG58ICdjb25maXJtLmRlbGV0ZUZsYXNoY2FyZCdcbnwgJ2NvbmZpcm0uYmF0Y2hEZWxldGVOb3RlcydcbnwgJ2NvbmZpcm0uYmF0Y2hEZWxldGVGbGFzaGNhcmRzJ1xuICBcbnwgJ3Rvb2xiYXIuY2hlY2tSZXZpZXcudG9vbHRpcCdcblxufCAnYmF0Y2guZGVzZWxlY3RBbGwnXG58ICdiYXRjaC5kZXNlbGVjdEFsbC50b29sdGlwJ1xufCAnYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnXG58ICdiYXRjaC5ub0l0ZW1zJ1xufCAnYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0J1xufCAnYmF0Y2guY3JlYXRlLnRvb2x0aXAnXG58ICdiYXRjaC5kZWxldGUudG9vbHRpcCdcbnwgJ2JhdGNoLmNhbmNlbC50b29sdGlwJ1xuXG4vLyBcdTVCOUFcdTRFNDlcdTdGRkJcdThCRDFcdTVCNTdcdTUxNzhcdTdDN0JcdTU3OEJcbnR5cGUgVHJhbnNsYXRpb25EaWN0ID0gUmVjb3JkPFRyYW5zbGF0aW9uS2V5LCBzdHJpbmc+ICYge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmc7IC8vIFx1NkRGQlx1NTJBMFx1N0QyMlx1NUYxNVx1N0I3RVx1NTQwRFx1NEVFNVx1NjUyRlx1NjMwMVx1NTJBOFx1NjAwMVx1OTUyRVxufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zbGF0aW9uczogUmVjb3JkPExhbmd1YWdlLCBUcmFuc2xhdGlvbkRpY3Q+ID0ge1xuICBlbjoge1xuICAgIC8vIFZpZXcgdGl0bGVzXG4gICAgJ3ZpZXcub3ZlcnZpZXcnOiAnTGVhcm5pbmcgT3ZlcnZpZXcnLFxuICAgICd2aWV3LnJldmlldyc6ICdSZXZpZXcnLFxuICAgICd2aWV3LnN0YXRzJzogJ1N0YXRpc3RpY3MnLFxuICAgIFxuICAgIC8vIFRvb2xiYXJcbiAgICAndG9vbGJhci5zZWFyY2gnOiAnU2VhcmNoLi4uJyxcbiAgICAndG9vbGJhci5maWx0ZXIuYWxsJzogJ0FsbCcsXG4gICAgJ3Rvb2xiYXIuZmlsdGVyLmFubm90YXRlZCc6ICdBbm5vdGF0ZWQnLFxuICAgICd0b29sYmFyLmZpbHRlci5mbGFzaGNhcmRzJzogJ0ZsYXNoY2FyZHMnLFxuICAgICd0b29sYmFyLmdyb3VwLmZpbGUnOiAnQnkgRmlsZScsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAuYW5ub3RhdGlvbic6ICdCeSBBbm5vdGF0aW9uJyxcbiAgICAndG9vbGJhci5ncm91cC50YWcnOiAnQnkgVGFnJyxcbiAgICAndG9vbGJhci5ncm91cC5kYXRlJzogJ0J5IERhdGUnLFxuICAgICd0b29sYmFyLmNoZWNrUmV2aWV3JzogJ0NoZWNrIFJldmlldycsXG4gICAgXG4gICAgLy8gQmF0Y2ggYWN0aW9uc1xuICAgICdiYXRjaC5zZWxlY3RBbGwnOiAnU2VsZWN0IEFsbCcsXG4gICAgJ2JhdGNoLmNyZWF0ZSc6ICdDcmVhdGUgRmxhc2hjYXJkcycsXG4gICAgJ2JhdGNoLmRlbGV0ZSc6ICdEZWxldGUnLFxuICAgICdiYXRjaC5jYW5jZWwnOiAnQ2FuY2VsJyxcbiAgICBcbiAgICAvLyBGaXhlZCBlbnRyaWVzXG4gICAgJ2VudHJ5LmFsbE5vdGVzJzogJ0FsbCBOb3RlcycsXG4gICAgJ2VudHJ5LmNhcmRMaXN0JzogJ0NhcmQgTGlzdCcsXG4gICAgXG4gICAgLy8gTGV2ZWwgbmFtZXNcbiAgICAnbGV2ZWwuMSc6ICdDb2xsZWN0b3InLFxuICAgICdsZXZlbC4yJzogJ1RoaW5rZXInLFxuICAgICdsZXZlbC4zJzogJ01lbW9yaXplcicsXG4gICAgJ2xldmVsLjQnOiAnVHJhaW5lcicsXG4gICAgJ2xldmVsLjUnOiAnQW5hbHlzdCcsXG4gICAgJ2xldmVsLmN1cnJlbnQnOiAnQ3VycmVudCBMZXZlbCcsXG4gICAgJ2xldmVsLmNsaWNrRGV0YWlscyc6ICdDbGljayBmb3IgZGV0YWlscycsXG4gICAgXG4gICAgLy8gUmV2aWV3IHJlbWluZGVyXG4gICAgJ3Jldmlldy50b2RheSc6ICdUb2RheVxcJ3MgUmV2aWV3JyxcbiAgICAncmV2aWV3LnN0YXJ0JzogJ1N0YXJ0IFJldmlldycsXG4gICAgJ3Jldmlldy5qdXN0RHVlJzogJ1x1MjNGMCBKdXN0IGR1ZSwgcmV2aWV3IHdoaWxlIGhvdCcsXG4gICAgJ3Jldmlldy5kZWxheWVkJzogJ1x1MjZBMFx1RkUwRiBSZXZpZXcgZGVsYXllZCB7aG91cnN9IGhvdXJzJyxcbiAgICAncmV2aWV3LnVyZ2VudEhvdXJzJzogJ1x1MjZBMFx1RkUwRiBSZXZpZXcgZGVsYXllZCB7aG91cnN9IGhvdXJzLCByZWNvbW1lbmQgcHJpb3JpdHknLFxuICAgICdyZXZpZXcudXJnZW50RGF5cyc6ICdcdUQ4M0RcdURFQTggUmV2aWV3IGRlbGF5ZWQge2RheXN9IGRheXMsIGNsZWFyIEFTQVAnLFxuICAgICdyZXZpZXcuc3RyZWFrJzogJ1x1RDgzRFx1REQyNSBEYXkge2RheXN9IHN0cmVhayEnLFxuICAgIFxuICAgIC8vIE5vdGljZXNcbiAgICAnbm90aWNlLm5vU2VsZWN0aW9uJzogJ1x1MjZBMFx1RkUwRiBObyBpdGVtcyBzZWxlY3RlZCcsXG4gICAgJ25vdGljZS5ub0R1ZUNhcmRzJzogJ05vIGNhcmRzIGR1ZSBmb3IgcmV2aWV3IScsXG4gICAgJ25vdGljZS5kZWxldGVkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBEZWxldGVkJyxcbiAgICAnbm90aWNlLnNhdmVkJzogJ1x1MjcwNSBTYXZlZCcsXG4gICAgXG4gICAgLy8gQ29tbWFuZHNcbiAgICAnY29tbWFuZC5zY2FuRmlsZSc6ICdTY2FuIGN1cnJlbnQgZmlsZSBmb3IgY29udGVudCcsXG4gICAgJ2NvbW1hbmQuc2NhblZhdWx0JzogJ1NjYW4gZW50aXJlIHZhdWx0JyxcbiAgICAnY29tbWFuZC5vcGVuT3ZlcnZpZXcnOiAnT3BlbiBMZWFybmluZyBPdmVydmlldyhTaWRlYmFyKScsXG4gICAgJ2NvbW1hbmQub3Blbk1haW5PdmVydmlldyc6ICdUb2dnbGUgTGVhcm5pbmcgT3ZlcnZpZXcgKE1haW4gVmlldyknLFxuICAgICdjb21tYW5kLmFkZEFubm90YXRpb24nOiAnQWRkIGZpbGUgYW5ub3RhdGlvbicsXG4gICAgJ2NvbW1hbmQuc3RhcnRSZXZpZXcnOiAnU3RhcnQgZmxhc2hjYXJkIHJldmlldycsXG4gICAgJ2NvbW1hbmQuc2hvd1N0YXRzJzogJ1Nob3cgZmxhc2hjYXJkIHN0YXRpc3RpY3MnLFxuICAgIFxuICAgIC8vIFJpYmJvbnNcbiAgICAncmliYm9uLm92ZXJ2aWV3JzogJ09wZW4gTGVhcm5pbmcgT3ZlcnZpZXcoU2lkZWJhciknLFxuICAgICdyaWJib24ucmV2aWV3JzogJ1N0YXJ0IFJldmlldycsXG4gICAgXG4gICAgLy8gQ29udGV4dCBtZW51XG4gICAgJ21lbnUuanVtcFRvU291cmNlJzogJ0p1bXAgdG8gU291cmNlJyxcbiAgICAnbWVudS50b2dnbGVBbm5vdGF0aW9uJzogJ1RvZ2dsZSBBbm5vdGF0aW9uJyxcbiAgICAnbWVudS5lZGl0Rmxhc2hjYXJkJzogJ0VkaXQgRmxhc2hjYXJkJyxcbiAgICAnbWVudS5xdWlja0dlbmVyYXRlJzogJ1F1aWNrIEdlbmVyYXRlJyxcbiAgICAnbWVudS5jcmVhdGVRQSc6ICdDcmVhdGUgUSZBJyxcbiAgICAnbWVudS5jcmVhdGVDbG96ZSc6ICdDcmVhdGUgQ2xvemUnLFxuICAgICdtZW51LnZpZXdTdGF0cyc6ICdWaWV3IFN0YXRzJyxcbiAgICAnbWVudS5kZWxldGUnOiAnRGVsZXRlJyxcbiAgICBcbiAgICAvLyBTdGF0dXMgYmFyXG4gICAgJ3N0YXR1cy5kdWUnOiAne2NvdW50fSBkdWUnLFxuICAgICdzdGF0dXMudG9vbHRpcCc6ICd7ZHVlfSBjYXJkcyBkdWUgZm9yIHJldmlld1xcbntuZXd9IG5ldyBjYXJkcycsXG4gICAgXG4gICAgLy8gTWlzY1xuICAgICdlbXB0eS5ub0NvbnRlbnQnOiAnTm8gY29udGVudCB5ZXQnLFxuICAgICdlbXB0eS5ub0RvY3VtZW50cyc6ICdObyBkb2N1bWVudHMnLFxuICAgICdmaWxlTGlzdC50aXRsZSc6ICdcdUQ4M0RcdURDQzEgRG9jdW1lbnRzJyxcblxuICAgICdub3RpY2UuZmlsZU5vdEZvdW5kJzogJ1x1Mjc0QyBTb3VyY2UgZmlsZSBub3QgZm91bmQnLFxuJ25vdGljZS5qdW1wZWRUb1NvdXJjZSc6ICdcdTI3MDUgSnVtcGVkIHRvIHNvdXJjZScsXG4nbm90aWNlLmp1bXBGYWlsZWQnOiAnXHUyNzRDIEp1bXAgZmFpbGVkJyxcbidub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIEZsYXNoY2FyZCBub3QgZm91bmQnLFxuJ25vdGljZS5hbHJlYWR5SGFzRmxhc2hjYXJkcyc6ICdcdTI2QTBcdUZFMEYgU2VsZWN0ZWQgbm90ZXMgYWxyZWFkeSBoYXZlIGZsYXNoY2FyZHMnLFxuJ25vdGljZS5iYXRjaERlbGV0ZWQnOiAnXHUyNzA1IERlbGV0ZWQge3N1Y2Nlc3N9IGl0ZW1ze2ZhaWxlZCwgcGx1cmFsLCA9MCB7fSBvdGhlciB7LCB7ZmFpbGVkfSBmYWlsZWR9fScsXG4nY29uZmlybS5kZWxldGVOb3RlJzogJ0RlbGV0ZSB0aGlzIG5vdGU/Jyxcbidjb25maXJtLmRlbGV0ZUZsYXNoY2FyZCc6ICdEZWxldGUgdGhpcyBmbGFzaGNhcmQ/Jyxcbidjb25maXJtLmJhdGNoRGVsZXRlTm90ZXMnOiAnRGVsZXRlIHtjb3VudH0gc2VsZWN0ZWQgbm90ZXM/Jyxcbidjb25maXJtLmJhdGNoRGVsZXRlRmxhc2hjYXJkcyc6ICdEZWxldGUge2NvdW50fSBzZWxlY3RlZCBmbGFzaGNhcmRzPycsXG4gXG4ndG9vbGJhci5jaGVja1Jldmlldy50b29sdGlwJzogJ1x1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NjcwOVx1OTcwMFx1ODk4MVx1NTkwRFx1NEU2MFx1NzY4NFx1NTM2MVx1NzI0NycsXG5cbidiYXRjaC5kZXNlbGVjdEFsbCc6ICdEZXNlbGVjdCBBbGwnLFxuJ2JhdGNoLmRlc2VsZWN0QWxsLnRvb2x0aXAnOiAnRGVzZWxlY3QgYWxsIGl0ZW1zIG9uIGN1cnJlbnQgcGFnZScsXG4nYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnOiAnU2VsZWN0IGFsbCB7Y291bnR9IGl0ZW1zJyxcbidiYXRjaC5ub0l0ZW1zJzogJ05vIGl0ZW1zIHRvIHNlbGVjdCcsXG4nYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0JzogJ1BsZWFzZSBzZWxlY3QgXCJBbm5vdGF0ZWRcIiBvciBcIk5vdCBBbm5vdGF0ZWRcIiBmaXJzdCcsXG4nYmF0Y2guY3JlYXRlLnRvb2x0aXAnOiAnQmF0Y2ggY3JlYXRlIGZsYXNoY2FyZHMnLFxuJ2JhdGNoLmRlbGV0ZS50b29sdGlwJzogJ0JhdGNoIGRlbGV0ZScsXG4nYmF0Y2guY2FuY2VsLnRvb2x0aXAnOiAnRXhpdCBiYXRjaCBtb2RlIGFuZCBjbGVhciBhbGwgc2VsZWN0aW9ucycsXG5cblxuXG59LFxuXG4gIFxuICAnemgtQ04nOiB7XG4gICAgLy8gVmlldyB0aXRsZXNcbiAgICAndmlldy5vdmVydmlldyc6ICdcdTVCNjZcdTRFNjBcdTY5ODJcdTg5QzgnLFxuICAgICd2aWV3LnJldmlldyc6ICdcdTU5MERcdTRFNjAnLFxuICAgICd2aWV3LnN0YXRzJzogJ1x1N0VERlx1OEJBMScsXG4gICAgXG4gICAgLy8gVG9vbGJhclxuICAgICd0b29sYmFyLnNlYXJjaCc6ICdcdTY0MUNcdTdEMjIuLi4nLFxuICAgICd0b29sYmFyLmZpbHRlci5hbGwnOiAnXHU1MTY4XHU5MEU4JyxcbiAgICAndG9vbGJhci5maWx0ZXIuYW5ub3RhdGVkJzogJ1x1NjcwOVx1NjI3OVx1NkNFOCcsXG4gICAgJ3Rvb2xiYXIuZmlsdGVyLmZsYXNoY2FyZHMnOiAnXHU2NzA5XHU5NUVBXHU1MzYxJyxcbiAgICAndG9vbGJhci5ncm91cC5maWxlJzogJ1x1NjMwOVx1NjU4N1x1NEVGNicsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAuYW5ub3RhdGlvbic6ICdcdTYzMDlcdTYyNzlcdTZDRTgnLFxuICAgICd0b29sYmFyLmdyb3VwLnRhZyc6ICdcdTYzMDlcdTY4MDdcdTdCN0UnLFxuICAgICd0b29sYmFyLmdyb3VwLmRhdGUnOiAnXHU2MzA5XHU2NUU1XHU2NzFGJyxcbiAgICAndG9vbGJhci5jaGVja1Jldmlldyc6ICdcdTY4QzBcdTY3RTVcdTU5MERcdTRFNjAnLFxuICAgIFxuICAgIC8vIEJhdGNoIGFjdGlvbnNcbiAgICAnYmF0Y2guc2VsZWN0QWxsJzogJ1x1NTE2OFx1OTAwOScsXG4gICAgJ2JhdGNoLmNyZWF0ZSc6ICdcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjEnLFxuICAgICdiYXRjaC5kZWxldGUnOiAnXHU1MjIwXHU5NjY0JyxcbiAgICAnYmF0Y2guY2FuY2VsJzogJ1x1NTNENlx1NkQ4OCcsXG4gICAgXG4gICAgLy8gRml4ZWQgZW50cmllc1xuICAgICdlbnRyeS5hbGxOb3Rlcyc6ICdcdTUxNjhcdTkwRThcdTdCMTRcdThCQjAnLFxuICAgICdlbnRyeS5jYXJkTGlzdCc6ICdcdTk1RUFcdTUzNjFcdTUyMTdcdTg4NjgnLFxuICAgIFxuICAgIC8vIExldmVsIG5hbWVzXG4gICAgJ2xldmVsLjEnOiAnXHU5MUM3XHU5NkM2XHU4MDA1JyxcbiAgICAnbGV2ZWwuMic6ICdcdTYwMURcdTgwMDNcdTgwMDUnLFxuICAgICdsZXZlbC4zJzogJ1x1OEJCMFx1NUZDNlx1NUUwOCcsXG4gICAgJ2xldmVsLjQnOiAnXHU4QkFEXHU3RUMzXHU4MDA1JyxcbiAgICAnbGV2ZWwuNSc6ICdcdTUyMDZcdTY3OTBcdTVFMDgnLFxuICAgICdsZXZlbC5jdXJyZW50JzogJ1x1NUY1M1x1NTI0RFx1N0I0OVx1N0VBNycsXG4gICAgJ2xldmVsLmNsaWNrRGV0YWlscyc6ICdcdTcwQjlcdTUxRkJcdTY3RTVcdTc3MEJcdThCRTZcdTYwQzUnLFxuICAgIFxuICAgIC8vIFJldmlldyByZW1pbmRlclxuICAgICdyZXZpZXcudG9kYXknOiAnXHU0RUNBXHU2NUU1XHU1OTBEXHU0RTYwJyxcbiAgICAncmV2aWV3LnN0YXJ0JzogJ1x1NUYwMFx1NTlDQlx1NTkwRFx1NEU2MCcsXG4gICAgJ3Jldmlldy5qdXN0RHVlJzogJ1x1MjNGMCBcdTUyMUFcdTUyMUFcdTUyMzBcdTY3MUYsXHU4RDgxXHU3MEVEXHU1OTBEXHU0RTYwJyxcbiAgICAncmV2aWV3LmRlbGF5ZWQnOiAnXHUyNkEwXHVGRTBGIFx1NTkwRFx1NEU2MFx1NURGMlx1NUVGNlx1NTQwRSB7aG91cnN9IFx1NUMwRlx1NjVGNicsXG4gICAgJ3Jldmlldy51cmdlbnRIb3Vycyc6ICdcdTI2QTBcdUZFMEYgXHU1OTBEXHU0RTYwXHU1REYyXHU1RUY2XHU1NDBFIHtob3Vyc30gXHU1QzBGXHU2NUY2LFx1NUVGQVx1OEJBRVx1NEYxOFx1NTE0OFx1NUI4Q1x1NjIxMCcsXG4gICAgJ3Jldmlldy51cmdlbnREYXlzJzogJ1x1RDgzRFx1REVBOCBcdTU5MERcdTRFNjBcdTVERjJcdTVFRjZcdTU0MEUge2RheXN9IFx1NTkyOSxcdTVFRkFcdThCQUVcdTVDM0RcdTVGRUJcdTZFMDVcdTdBN0EnLFxuICAgICdyZXZpZXcuc3RyZWFrJzogJ1x1RDgzRFx1REQyNSBcdThGREVcdTdFRURcdTU5MERcdTRFNjBcdTdCMkMge2RheXN9IFx1NTkyOSEnLFxuICAgIFxuICAgIC8vIE5vdGljZXNcbiAgICAnbm90aWNlLm5vU2VsZWN0aW9uJzogJ1x1MjZBMFx1RkUwRiBcdThCRjdcdTUxNDhcdTkwMDlcdTYyRTlcdTk4NzlcdTc2RUUnLFxuICAgICdub3RpY2Uubm9EdWVDYXJkcyc6ICdcdTY2ODJcdTY1RTBcdTk3MDBcdTg5ODFcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDchJyxcbiAgICAnbm90aWNlLmRlbGV0ZWQnOiAnXHVEODNEXHVEREQxXHVGRTBGIFx1NURGMlx1NTIyMFx1OTY2NCcsXG4gICAgJ25vdGljZS5zYXZlZCc6ICdcdTI3MDUgXHU1REYyXHU0RkREXHU1QjU4JyxcbiAgICBcbiAgICAvLyBDb21tYW5kc1xuICAgICdjb21tYW5kLnNjYW5GaWxlJzogJ1x1NjI2Qlx1NjNDRlx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNicsXG4gICAgJ2NvbW1hbmQuc2NhblZhdWx0JzogJ1x1NjI2Qlx1NjNDRlx1NjU3NFx1NEUyQVx1NEVEM1x1NUU5MycsXG4gICAgJ2NvbW1hbmQub3Blbk92ZXJ2aWV3JzogJ1x1NjI1M1x1NUYwMFx1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOChcdTRGQTdcdThGQjlcdTY4MEYpJyxcbiAgICAnY29tbWFuZC5vcGVuTWFpbk92ZXJ2aWV3JzogJ1x1NTIwN1x1NjM2Mlx1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOChcdTRFM0JcdTg5QzZcdTU2RkUpJyxcbiAgICAnY29tbWFuZC5hZGRBbm5vdGF0aW9uJzogJ1x1NkRGQlx1NTJBMFx1NjU4N1x1NEVGNlx1NjI3OVx1NkNFOCcsXG4gICAgJ2NvbW1hbmQuc3RhcnRSZXZpZXcnOiAnXHU1RjAwXHU1OUNCXHU5NUVBXHU1MzYxXHU1OTBEXHU0RTYwJyxcbiAgICAnY29tbWFuZC5zaG93U3RhdHMnOiAnXHU2NjNFXHU3OTNBXHU5NUVBXHU1MzYxXHU3RURGXHU4QkExJyxcbiAgICBcbiAgICAvLyBSaWJib25zXG4gICAgJ3JpYmJvbi5vdmVydmlldyc6ICdcdTYyNTNcdTVGMDBcdTVCNjZcdTRFNjBcdTY5ODJcdTg5QzgoXHU0RkE3XHU4RkI5XHU2ODBGKScsXG4gICAgJ3JpYmJvbi5yZXZpZXcnOiAnXHU1RjAwXHU1OUNCXHU1OTBEXHU0RTYwJyxcbiAgICBcbiAgICAvLyBDb250ZXh0IG1lbnVcbiAgICAnbWVudS5qdW1wVG9Tb3VyY2UnOiAnXHU4REYzXHU4RjZDXHU1MjMwXHU2RTkwJyxcbiAgICAnbWVudS50b2dnbGVBbm5vdGF0aW9uJzogJ1x1NTIwN1x1NjM2Mlx1NjI3OVx1NkNFOCcsXG4gICAgJ21lbnUuZWRpdEZsYXNoY2FyZCc6ICdcdTdGMTZcdThGOTFcdTk1RUFcdTUzNjEnLFxuICAgICdtZW51LnF1aWNrR2VuZXJhdGUnOiAnXHU1RkVCXHU5MDFGXHU3NTFGXHU2MjEwJyxcbiAgICAnbWVudS5jcmVhdGVRQSc6ICdcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTQnLFxuICAgICdtZW51LmNyZWF0ZUNsb3plJzogJ1x1NTIxQlx1NUVGQVx1NTg2Qlx1N0E3QScsXG4gICAgJ21lbnUudmlld1N0YXRzJzogJ1x1NjdFNVx1NzcwQlx1N0VERlx1OEJBMScsXG4gICAgJ21lbnUuZGVsZXRlJzogJ1x1NTIyMFx1OTY2NCcsXG4gICAgXG4gICAgLy8gU3RhdHVzIGJhclxuICAgICdzdGF0dXMuZHVlJzogJ3tjb3VudH0gXHU1RjIwXHU1Rjg1XHU1OTBEXHU0RTYwJyxcbiAgICAnc3RhdHVzLnRvb2x0aXAnOiAne2R1ZX0gXHU1RjIwXHU1MzYxXHU3MjQ3XHU1Rjg1XHU1OTBEXHU0RTYwXFxue25ld30gXHU1RjIwXHU2NUIwXHU1MzYxXHU3MjQ3JyxcbiAgICBcbiAgICAvLyBNaXNjXG4gICAgJ2VtcHR5Lm5vQ29udGVudCc6ICdcdTY2ODJcdTY1RTBcdTUxODVcdTVCQjknLFxuICAgICdlbXB0eS5ub0RvY3VtZW50cyc6ICdcdTY2ODJcdTY1RTBcdTY1ODdcdTY4NjMnLFxuICAgICdmaWxlTGlzdC50aXRsZSc6ICdcdUQ4M0RcdURDQzEgXHU2NTg3XHU2ODYzXHU1MjE3XHU4ODY4JyxcblxuICAgICdub3RpY2UuZmlsZU5vdEZvdW5kJzogJ1x1Mjc0QyBcdTZFOTBcdTY1ODdcdTRFRjZcdTRFMERcdTVCNThcdTU3MjgnLFxuJ25vdGljZS5qdW1wZWRUb1NvdXJjZSc6ICdcdTI3MDUgXHU1REYyXHU4REYzXHU4RjZDXHU1MjMwXHU2RTkwXHU2NTg3XHU0RUY2Jyxcbidub3RpY2UuanVtcEZhaWxlZCc6ICdcdTI3NEMgXHU4REYzXHU4RjZDXHU1OTMxXHU4RDI1Jyxcbidub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIFx1NjI3RVx1NEUwRFx1NTIzMFx1NUJGOVx1NUU5NFx1NzY4NFx1OTVFQVx1NTM2MScsXG4nbm90aWNlLmFscmVhZHlIYXNGbGFzaGNhcmRzJzogJ1x1MjZBMFx1RkUwRiBcdTkwMDlcdTRFMkRcdTc2ODRcdTdCMTRcdThCQjBcdTkwRkRcdTVERjJcdTUyMUJcdTVFRkFcdThGQzdcdTk1RUFcdTUzNjEnLFxuJ25vdGljZS5iYXRjaERlbGV0ZWQnOiAnXHUyNzA1IFx1NURGMlx1NTIyMFx1OTY2NCB7c3VjY2Vzc30gXHU5ODc5e2ZhaWxlZCwgcGx1cmFsLCA9MCB7fSBvdGhlciB7XHVGRjBDe2ZhaWxlZH0gXHU5ODc5XHU1OTMxXHU4RDI1fX0nLFxuJ2NvbmZpcm0uZGVsZXRlTm90ZSc6ICdcdTc4NkVcdTVCOUFcdTg5ODFcdTUyMjBcdTk2NjRcdThGRDlcdTY3NjFcdTdCMTRcdThCQjBcdTU0MTdcdUZGMUYnLFxuJ2NvbmZpcm0uZGVsZXRlRmxhc2hjYXJkJzogJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NFx1OEZEOVx1NUYyMFx1OTVFQVx1NTM2MVx1NTQxN1x1RkYxRicsXG4nY29uZmlybS5iYXRjaERlbGV0ZU5vdGVzJzogJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NFx1OTAwOVx1NEUyRFx1NzY4NCB7Y291bnR9IFx1Njc2MVx1N0IxNFx1OEJCMFx1NTQxN1x1RkYxRicsXG4nY29uZmlybS5iYXRjaERlbGV0ZUZsYXNoY2FyZHMnOiAnXHU3ODZFXHU1QjlBXHU4OTgxXHU1MjIwXHU5NjY0XHU5MDA5XHU0RTJEXHU3Njg0IHtjb3VudH0gXHU1RjIwXHU5NUVBXHU1MzYxXHU1NDE3XHVGRjFGJyxcblxuJ3Rvb2xiYXIuY2hlY2tSZXZpZXcudG9vbHRpcCc6ICdcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTY3MDlcdTk3MDBcdTg5ODFcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDcnLFxuXG4nYmF0Y2guZGVzZWxlY3RBbGwnOiAnXHU1M0Q2XHU2RDg4XHU1MTY4XHU5MDA5JyxcbidiYXRjaC5kZXNlbGVjdEFsbC50b29sdGlwJzogJ1x1NTNENlx1NkQ4OFx1NUY1M1x1NTI0RFx1OTg3NVx1OTc2Mlx1NzY4NFx1NTE2OFx1OTAwOScsXG4nYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnOiAnXHU1MTY4XHU5MDA5XHU1RjUzXHU1MjREIHtjb3VudH0gXHU5ODc5JyxcbidiYXRjaC5ub0l0ZW1zJzogJ1x1NkNBMVx1NjcwOVx1NTNFRlx1OTAwOVx1OTg3OScsXG4nYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0JzogJ1x1OEJGN1x1NTE0OFx1OTAwOVx1NjJFOVwiXHU2NzA5XHU2Mjc5XHU2Q0U4XCJcdTYyMTZcIlx1NjVFMFx1NjI3OVx1NkNFOFwiJyxcbidiYXRjaC5jcmVhdGUudG9vbHRpcCc6ICdcdTYyNzlcdTkxQ0ZcdTUyMzZcdTUzNjEnLFxuJ2JhdGNoLmRlbGV0ZS50b29sdGlwJzogJ1x1NjI3OVx1OTFDRlx1NTIyMFx1OTY2NCcsXG4nYmF0Y2guY2FuY2VsLnRvb2x0aXAnOiAnXHU5MDAwXHU1MUZBXHU2Mjc5XHU5MUNGXHU2QTIxXHU1RjBGXHU1RTc2XHU2RTA1XHU3QTdBXHU2MjQwXHU2NzA5XHU5MDA5XHU2MkU5JyxcblxuICB9XG59IGFzIGNvbnN0O1xuXG5leHBvcnQgZnVuY3Rpb24gdChrZXk6IHN0cmluZywgbGFuZ3VhZ2U6IExhbmd1YWdlID0gJ2VuJywgcGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyB7XG4gIGxldCB0ZXh0ID0gdHJhbnNsYXRpb25zW2xhbmd1YWdlXVtrZXldIHx8IHRyYW5zbGF0aW9uc1snZW4nXVtrZXldIHx8IGtleTtcbiAgXG4gIC8vIFx1NjZGRlx1NjM2Mlx1NTNDMlx1NjU3MFxuICBpZiAocGFyYW1zKSB7XG4gICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChbcGFyYW1LZXksIHZhbHVlXSkgPT4ge1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShgeyR7cGFyYW1LZXl9fWAsIFN0cmluZyh2YWx1ZSkpO1xuICAgIH0pO1xuICB9XG4gIFxuICByZXR1cm4gdGV4dDtcbn0iLCAiLy8gcXVpY2sgZmxhc2hjYXJkICBjcmVhdG9yXG5pbXBvcnQgeyBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBBbm5vdGF0aW9uIH0gZnJvbSAnLi4vY29yZS9Bbm5vdGF0aW9uTWFuYWdlcic7XG5cbi8qKlxuICogXHU0RTAwXHU5NTJFXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXHU1REU1XHU1MTc3XHU3QzdCXG4gKi9cbmV4cG9ydCBjbGFzcyBRdWlja0ZsYXNoY2FyZENyZWF0b3Ige1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHt9XG5cbiAgLyoqXG4gICAqIFx1NEVDRVx1NjNEMFx1NTNENlx1NTE4NVx1NUJCOVx1NEUwMFx1OTUyRVx1NTIxQlx1NUVGQVx1OTVFRVx1N0I1NFx1NTM2MVxuICAgKiBcdTU5ODJcdTY3OUNcdTY3MDlcdTYyNzlcdTZDRThcdUZGMENcdTRGN0ZcdTc1MjhcdTYyNzlcdTZDRThcdTRGNUNcdTRFM0FcdTdCNTRcdTY4NDhcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVF1aWNrUUFDYXJkKGNvbnRlbnRVbml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhbm5vdGF0aW9uID0gdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZ2V0Q29udGVudEFubm90YXRpb24oY29udGVudFVuaXQuaWQpO1xuICAgICAgXG4gICAgICBsZXQgcXVlc3Rpb246IHN0cmluZztcbiAgICAgIGxldCBhbnN3ZXI6IHN0cmluZztcblxuICAgICAgaWYgKGFubm90YXRpb24gJiYgYW5ub3RhdGlvbi5jb250ZW50KSB7XG4gICAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NjI3OVx1NkNFOFx1RkYwQ1x1NEY3Rlx1NzUyOFx1NjI3OVx1NkNFOFx1NTE4NVx1NUJCOVx1NEY1Q1x1NEUzQVx1N0I1NFx1Njg0OFxuICAgICAgICAvLyBcdTY4QzBcdTY3RTVcdTYyNzlcdTZDRThcdTY2MkZcdTU0MjZcdTY2MkZcdTk1RUVcdTk4OThcdTVGNjJcdTVGMEZcbiAgICAgICAgaWYgKHRoaXMuaXNRdWVzdGlvbihhbm5vdGF0aW9uLmNvbnRlbnQpKSB7XG4gICAgICAgICAgLy8gXHU2Mjc5XHU2Q0U4XHU2NjJGXHU5NUVFXHU5ODk4XHVGRjBDXHU3NTFGXHU2MjEwXHU5RUQ4XHU4QkE0XHU5NUVFXHU5ODk4XHVGRjBDXHU2Mjc5XHU2Q0U4XHU1MTg1XHU1QkI5XHU0RjVDXHU0RTNBXHU3QjU0XHU2ODQ4XG4gICAgICAgICAgcXVlc3Rpb24gPSB0aGlzLmdlbmVyYXRlRGVmYXVsdFF1ZXN0aW9uKGNvbnRlbnRVbml0KTtcbiAgICAgICAgICBhbnN3ZXIgPSBhbm5vdGF0aW9uLmNvbnRlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gXHU2Mjc5XHU2Q0U4XHU0RTBEXHU2NjJGXHU5NUVFXHU5ODk4XHU1RjYyXHU1RjBGXHVGRjBDXHU3NTFGXHU2MjEwXHU5RUQ4XHU4QkE0XHU5NUVFXHU5ODk4XHVGRjBDXHU2Mjc5XHU2Q0U4XHU1MTg1XHU1QkI5XHU0RjVDXHU0RTNBXHU3QjU0XHU2ODQ4XG4gICAgICAgICAgcXVlc3Rpb24gPSB0aGlzLmdlbmVyYXRlRGVmYXVsdFF1ZXN0aW9uKGNvbnRlbnRVbml0KTtcbiAgICAgICAgICBhbnN3ZXIgPSBhbm5vdGF0aW9uLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NkNBMVx1NjcwOVx1NjI3OVx1NkNFOFx1RkYwQ1x1NEY3Rlx1NzUyOFx1OUVEOFx1OEJBNFx1NkEyMVx1NUYwRlxuICAgICAgICBxdWVzdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZWZhdWx0UXVlc3Rpb24oY29udGVudFVuaXQpO1xuICAgICAgICBhbnN3ZXIgPSBjb250ZW50VW5pdC5jb250ZW50O1xuICAgICAgfVxuXG4gICAgICAvLyBcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcbiAgICAgIGNvbnN0IGNhcmQgPSBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmNyZWF0ZVFBQ2FyZChcbiAgICAgICAgY29udGVudFVuaXQuaWQsXG4gICAgICAgIHF1ZXN0aW9uLFxuICAgICAgICBhbnN3ZXJcbiAgICAgICk7XG5cbiAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBGbGFzaGNhcmQgY3JlYXRlZCEgKFEmQSlgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcXVpY2sgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1Mjc0QyBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTRFQ0VcdTYzRDBcdTUzRDZcdTUxODVcdTVCQjlcdTRFMDBcdTk1MkVcdTUyMUJcdTVFRkFcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTUzNjFcbiAgICogXHU4MUVBXHU1MkE4XHU4QkM2XHU1MjJCXHU1MTczXHU5NTJFXHU4QkNEXG4gICAqL1xuICBhc3luYyBjcmVhdGVRdWlja0Nsb3plQ2FyZChjb250ZW50VW5pdDogQ29udGVudFVuaXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5d29yZHMgPSB0aGlzLmV4dHJhY3RLZXl3b3Jkcyhjb250ZW50VW5pdC5jb250ZW50KTtcbiAgICAgIFxuICAgICAgaWYgKGtleXdvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgTm8ga2V5d29yZHMgZm91bmQgZm9yIGNsb3plIGRlbGV0aW9uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gXHU2MjdFXHU1MjMwXHU1MTczXHU5NTJFXHU4QkNEXHU1NzI4XHU2NTg3XHU2NzJDXHU0RTJEXHU3Njg0XHU0RjREXHU3RjZFXG4gICAgICBjb25zdCBkZWxldGlvbnMgPSBrZXl3b3Jkcy5tYXAoa2V5d29yZCA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY29udGVudFVuaXQuY29udGVudC5pbmRleE9mKGtleXdvcmQud29yZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgYW5zd2VyOiBrZXl3b3JkLndvcmRcbiAgICAgICAgfTtcbiAgICAgIH0pLmZpbHRlcihkID0+IGQuaW5kZXggIT09IC0xKTtcblxuICAgICAgaWYgKGRlbGV0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmV3IE5vdGljZSgnXHUyNkEwXHVGRTBGIENvdWxkIG5vdCBjcmVhdGUgY2xvemUgZGVsZXRpb25zJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU1MzYxXG4gICAgICBjb25zdCBjYXJkID0gYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5jcmVhdGVDbG96ZUNhcmQoXG4gICAgICAgIGNvbnRlbnRVbml0LmlkLFxuICAgICAgICBjb250ZW50VW5pdC5jb250ZW50LFxuICAgICAgICBkZWxldGlvbnNcbiAgICAgICk7XG5cbiAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBGbGFzaGNhcmQgY3JlYXRlZCEgKENsb3plIHdpdGggJHtkZWxldGlvbnMubGVuZ3RofSBibGFua3MpYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHF1aWNrIGNsb3plIGNhcmQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzRDIEZhaWxlZCB0byBjcmVhdGUgZmxhc2hjYXJkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NjY3QVx1ODBGRFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1RkYwOFx1ODFFQVx1NTJBOFx1NTIyNFx1NjVBRFx1N0M3Qlx1NTc4Qlx1RkYwOVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlU21hcnRDYXJkKGNvbnRlbnRVbml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRDb250ZW50QW5ub3RhdGlvbihjb250ZW50VW5pdC5pZCk7XG5cbiAgICAvLyBcdTU5ODJcdTY3OUNcdTY3MDlcdTk1RUVcdTk4OThcdTVGNjJcdTVGMEZcdTc2ODRcdTYyNzlcdTZDRThcdUZGMENcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTRcdTUzNjFcbiAgICBpZiAoYW5ub3RhdGlvbiAmJiB0aGlzLmlzUXVlc3Rpb24oYW5ub3RhdGlvbi5jb250ZW50KSkge1xuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVRdWlja1FBQ2FyZChjb250ZW50VW5pdCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU1MTg1XHU1QkI5XHU4RjgzXHU3N0VEXHU0RTE0XHU1MzA1XHU1NDJCXHU1MTczXHU5NTJFXHU0RkUxXHU2MDZGXHVGRjBDXHU1MjFCXHU1RUZBXHU5NUVFXHU3QjU0XHU1MzYxXG4gICAgaWYgKGNvbnRlbnRVbml0LmNvbnRlbnQubGVuZ3RoIDwgMjAwKSB7XG4gICAgICBhd2FpdCB0aGlzLmNyZWF0ZVF1aWNrUUFDYXJkKGNvbnRlbnRVbml0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBcdTU5ODJcdTY3OUNcdTUxODVcdTVCQjlcdThGODNcdTk1N0ZcdUZGMENcdTUyMUJcdTVFRkFcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTUzNjFcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZVF1aWNrQ2xvemVDYXJkKGNvbnRlbnRVbml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNzlcdTkxQ0ZcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUJhdGNoQ2FyZHMoXG4gICAgY29udGVudFVuaXRzOiBDb250ZW50VW5pdFtdLFxuICAgIHR5cGU6ICdxYScgfCAnY2xvemUnIHwgJ3NtYXJ0JyA9ICdzbWFydCdcbiAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfT4ge1xuICAgIGxldCBzdWNjZXNzID0gMDtcbiAgICBsZXQgZmFpbGVkID0gMDtcblxuICAgIGZvciAoY29uc3QgdW5pdCBvZiBjb250ZW50VW5pdHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3FhJzpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlUXVpY2tRQUNhcmQodW5pdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjbG96ZSc6XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVF1aWNrQ2xvemVDYXJkKHVuaXQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc21hcnQnOlxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVTbWFydENhcmQodW5pdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdWNjZXNzKys7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBjYXJkOicsIGVycm9yKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzcywgZmFpbGVkIH07XG4gIH1cblxuICAvKipcbiAgICogXHU1MjI0XHU2NUFEXHU2NTg3XHU2NzJDXHU2NjJGXHU1NDI2XHU2NjJGXHU5NUVFXHU5ODk4XG4gICAqL1xuICBwcml2YXRlIGlzUXVlc3Rpb24odGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcXVlc3Rpb25Xb3JkcyA9IFsnd2hhdCcsICd3aHknLCAnaG93JywgJ3doZW4nLCAnd2hlcmUnLCAnd2hvJywgJ3doaWNoJ107XG4gICAgY29uc3QgbG93ZXJUZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBcbiAgICAvLyBcdTRFRTVcdTk1RUVcdTUzRjdcdTdFRDNcdTVDM0VcbiAgICBpZiAobG93ZXJUZXh0LmVuZHNXaXRoKCc/JykpIHJldHVybiB0cnVlO1xuICAgIFxuICAgIC8vIFx1NEVFNVx1NzU5MVx1OTVFRVx1OEJDRFx1NUYwMFx1NTkzNFxuICAgIGZvciAoY29uc3Qgd29yZCBvZiBxdWVzdGlvbldvcmRzKSB7XG4gICAgICBpZiAobG93ZXJUZXh0LnN0YXJ0c1dpdGgod29yZCArICcgJykpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTRFMkRcdTY1ODdcdTk1RUVcdTUzRTVcdTcyNzlcdTVGODFcbiAgICBpZiAodGV4dC5pbmNsdWRlcygnXHU0RUMwXHU0RTQ4JykgfHwgdGV4dC5pbmNsdWRlcygnXHU0RTNBXHU0RUMwXHU0RTQ4JykgfHwgXG4gICAgICAgIHRleHQuaW5jbHVkZXMoJ1x1NjAwRVx1NEU0OCcpIHx8IHRleHQuaW5jbHVkZXMoJ1x1NTk4Mlx1NEY1NScpIHx8XG4gICAgICAgIHRleHQuaW5jbHVkZXMoJ1x1NTQxN1x1RkYxRicpIHx8IHRleHQuaW5jbHVkZXMoJ1x1NTQ2Mlx1RkYxRicpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1OUVEOFx1OEJBNFx1OTVFRVx1OTg5OFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZURlZmF1bHRRdWVzdGlvbihjb250ZW50VW5pdDogQ29udGVudFVuaXQpOiBzdHJpbmcge1xuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NjgwN1x1OTg5OFx1RkYwQ1x1NEY3Rlx1NzUyOFx1NjgwN1x1OTg5OFx1NzUxRlx1NjIxMFx1OTVFRVx1OTg5OFxuICAgIGlmIChjb250ZW50VW5pdC5zb3VyY2UuaGVhZGluZykge1xuICAgICAgY29uc3QgaGVhZGluZyA9IGNvbnRlbnRVbml0LnNvdXJjZS5oZWFkaW5nLnJlcGxhY2UoL14jK1xccyovLCAnJyk7XG4gICAgICByZXR1cm4gYFdoYXQgaXMgdGhlIGtleSBwb2ludCBhYm91dCBcIiR7aGVhZGluZ31cIj9gO1xuICAgIH1cblxuICAgIC8vIFx1NjgzOVx1NjM2RVx1NTE4NVx1NUJCOVx1OTU3Rlx1NUVBNlx1NzUxRlx1NjIxMFx1NEUwRFx1NTQwQ1x1NzY4NFx1OTVFRVx1OTg5OFxuICAgIGlmIChjb250ZW50VW5pdC5jb250ZW50Lmxlbmd0aCA8IDUwKSB7XG4gICAgICByZXR1cm4gYFdoYXQgZG9lcyBcIiR7Y29udGVudFVuaXQuY29udGVudH1cIiBtZWFuP2A7XG4gICAgfSBlbHNlIGlmIChjb250ZW50VW5pdC5jb250ZW50Lmxlbmd0aCA8IDE1MCkge1xuICAgICAgY29uc3QgZmlyc3RXb3JkcyA9IGNvbnRlbnRVbml0LmNvbnRlbnQuc3Vic3RyaW5nKDAsIDMwKSArICcuLi4nO1xuICAgICAgcmV0dXJuIGBFeHBsYWluOiBcIiR7Zmlyc3RXb3Jkc31cImA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgV2hhdCBhcmUgdGhlIGtleSBwb2ludHMgaW4gdGhpcyBjb250ZW50P2A7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NjNEMFx1NTNENlx1NTE3M1x1OTUyRVx1OEJDRFx1RkYwOFx1NzUyOFx1NEU4RVx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1RkYwOVxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0S2V5d29yZHModGV4dDogc3RyaW5nKTogQXJyYXk8eyB3b3JkOiBzdHJpbmc7IHNjb3JlOiBudW1iZXIgfT4ge1xuICAgIC8vIFx1NTIwNlx1OEJDRFxuICAgIGNvbnN0IHdvcmRzID0gdGV4dC5tYXRjaCgvXFxiW0EtWmEtel17Myx9XFxiL2cpIHx8IFtdO1xuICAgIFxuICAgIC8vIFx1NUUzOFx1ODlDMVx1NTA1Q1x1NzUyOFx1OEJDRFxuICAgIGNvbnN0IHN0b3BXb3JkcyA9IG5ldyBTZXQoW1xuICAgICAgJ3RoZScsICdpcycsICdhdCcsICd3aGljaCcsICdvbicsICdhJywgJ2FuJywgJ2FuZCcsICdvcicsICdidXQnLFxuICAgICAgJ2luJywgJ3dpdGgnLCAndG8nLCAnZm9yJywgJ29mJywgJ2FzJywgJ2J5JywgJ3RoaXMnLCAndGhhdCcsXG4gICAgICAnZnJvbScsICd0aGV5JywgJ3dlJywgJ3NheScsICdoZXInLCAnc2hlJywgJ2hlJywgJ3dpbGwnLCAnbXknLFxuICAgICAgJ29uZScsICdhbGwnLCAnd291bGQnLCAndGhlcmUnLCAndGhlaXInLCAnd2hhdCcsICdzbycsICd1cCcsICdvdXQnLFxuICAgICAgJ2lmJywgJ2Fib3V0JywgJ3dobycsICdnZXQnLCAnd2hpY2gnLCAnZ28nLCAnbWUnLCAnd2hlbicsICdtYWtlJyxcbiAgICAgICdjYW4nLCAnbGlrZScsICd0aW1lJywgJ25vJywgJ2p1c3QnLCAnaGltJywgJ2tub3cnLCAndGFrZScsICdwZW9wbGUnLFxuICAgICAgJ2ludG8nLCAneWVhcicsICd5b3VyJywgJ2dvb2QnLCAnc29tZScsICdjb3VsZCcsICd0aGVtJywgJ3NlZScsICdvdGhlcidcbiAgICBdKTtcblxuICAgIC8vIFx1OEJDRFx1OTg5MVx1N0VERlx1OEJBMVxuICAgIGNvbnN0IHdvcmRGcmVxID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICB3b3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xuICAgICAgY29uc3QgbG93ZXIgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIXN0b3BXb3Jkcy5oYXMobG93ZXIpICYmIHdvcmQubGVuZ3RoID4gMykge1xuICAgICAgICB3b3JkRnJlcS5zZXQod29yZCwgKHdvcmRGcmVxLmdldCh3b3JkKSB8fCAwKSArIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gXHU4QkExXHU3Qjk3XHU1MjA2XHU2NTcwXHVGRjA4XHU4MDAzXHU4NjUxXHU5ODkxXHU3Mzg3XHUzMDAxXHU5NTdGXHU1RUE2XHUzMDAxXHU1OTI3XHU1MTk5XHVGRjA5XG4gICAgY29uc3Qgc2NvcmVkID0gQXJyYXkuZnJvbSh3b3JkRnJlcS5lbnRyaWVzKCkpLm1hcCgoW3dvcmQsIGZyZXFdKSA9PiB7XG4gICAgICBsZXQgc2NvcmUgPSBmcmVxO1xuICAgICAgXG4gICAgICAvLyBcdTk1N0ZcdThCQ0RcdTUyQTBcdTUyMDZcbiAgICAgIGlmICh3b3JkLmxlbmd0aCA+IDgpIHNjb3JlICs9IDI7XG4gICAgICBlbHNlIGlmICh3b3JkLmxlbmd0aCA+IDYpIHNjb3JlICs9IDE7XG4gICAgICBcbiAgICAgIC8vIFx1OTk5Nlx1NUI1N1x1NkJDRFx1NTkyN1x1NTE5OVx1NTJBMFx1NTIwNlx1RkYwOFx1NTNFRlx1ODBGRFx1NjYyRlx1NEUxM1x1NjcwOVx1NTQwRFx1OEJDRFx1RkYwOVxuICAgICAgaWYgKHdvcmRbMF0gPT09IHdvcmRbMF0udG9VcHBlckNhc2UoKSkgc2NvcmUgKz0gMTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgd29yZCwgc2NvcmUgfTtcbiAgICB9KTtcblxuICAgIC8vIFx1NjM5Mlx1NUU4Rlx1NUU3Nlx1OEZENFx1NTZERVx1NTI0RDNcdTRFMkFcdTUxNzNcdTk1MkVcdThCQ0RcbiAgICByZXR1cm4gc2NvcmVkXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpXG4gICAgICAuc2xpY2UoMCwgMyk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL1NpZGViYXJPdmVydmlld1ZpZXcudHMgLSBcdTkxQ0RcdTY3ODRcdTU0MEVcdTcyNDhcdTY3MkNcbmltcG9ydCB7IFN0eWxlTG9hZGVyIH0gZnJvbSAnLi4vc3R5bGUvc2lkZWJhclN0eWxlJ1xuaW1wb3J0IHsgcmV2aWV3U3R5bGUgfSBmcm9tICcuLi9zdHlsZS9yZXZpZXdTdHlsZSc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuXG5pbXBvcnQgeyBRdWlja0ZsYXNoY2FyZENyZWF0b3IgfSBmcm9tICcuLi8uLi9jb3JlL1F1aWNrRmxhc2hjYXJkQ3JlYXRvcic7XG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIE1lbnUsIE5vdGljZSwgTW9kYWwsIFNldHRpbmcsIFRleHRBcmVhQ29tcG9uZW50LCBCdXR0b25Db21wb25lbnQsQXBwLCBNYXJrZG93blZpZXd9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5cbi8vIFx1NUJGQ1x1NTE2NVx1NjVCMFx1NzY4NFx1N0VDNFx1NEVGNlx1NTQ4Q1x1NzJCNlx1NjAwMVx1N0JBMVx1NzQwNlxuaW1wb3J0IHsgRmlsdGVyTW9kZSwgR3JvdXBNb2RlLCBWaWV3U3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9WaWV3U3RhdGUnO1xuaW1wb3J0IHsgVG9vbGJhciB9ICBmcm9tICcuLi9jb21wb25lbnRzL1Rvb2xiYXInO1xuaW1wb3J0IHsgQmF0Y2hBY3Rpb25zLCBCYXRjaEFjdGlvbkNhbGxiYWNrcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvQmF0Y2hBY3Rpb25zJztcbmltcG9ydCB7IENvbnRlbnRMaXN0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZW50TGlzdCc7XG5pbXBvcnQgeyBDb250ZW50Q2FyZCwgQ2FyZENhbGxiYWNrcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGVudENhcmQnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbkVkaXRvciwgQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvQW5ub3RhdGlvbkVkaXRvcic7XG5pbXBvcnQgeyBzaWRlT3ZlcnZpZXdTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZS9zaWRlT3ZlcnZpZXdTZXJ2aWNlJztcbmltcG9ydCB7IE1hbnVhbEZsYXNoY2FyZE1vZGFsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbHMvTWFudWFsRmxhc2hjYXJkTW9kYWwnO1xuaW1wb3J0IHsgRWRpdEZsYXNoY2FyZE1vZGFsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbHMvRWRpdEZsYXNoY2FyZE1vZGFsJztcbmltcG9ydCB7IFxuICBDb250ZXh0TWVudUJ1aWxkZXIsIFxuICBDb250ZW50VW5pdE1lbnVDYWxsYmFja3MsIFxuICBGbGFzaGNhcmRNZW51Q2FsbGJhY2tzIFxufSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRleHRNZW51QnVpbGRlcic7XG5pbXBvcnQgeyBCYXRjaENyZWF0ZU1vZGFsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbHMvQmF0Y2hDcmVhdGVNb2RhbCc7XG5pbXBvcnQgeyBMZXZlbEluZm9Nb2RhbCAsVW5sb2NrUHJvZ3Jlc3N9IGZyb20gJy4uLy4uL2NvcmUvVW5sb2NrU3lzdGVtJ1xuXG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVyA9ICdsZWFybmluZy1zeXN0ZW0tc2lkZWJhci1vdmVydmlldyc7XG5leHBvcnQgY29uc3QgVklFV19UWVBFX01BSU5fT1ZFUlZJRVcgPSAnbGVhcm5pbmctc3lzdGVtLW1haW4tb3ZlcnZpZXcnO1xuXG5leHBvcnQgY2xhc3MgU2lkZWJhck92ZXJ2aWV3VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbjtcbiAgXG4gIC8vIFx1NEY3Rlx1NzUyOFx1NzJCNlx1NjAwMVx1N0JBMVx1NzQwNlx1NTY2OFxuICBwcml2YXRlIHN0YXRlOiBWaWV3U3RhdGU7XG4gIFxuICAvLyBcdTRGN0ZcdTc1MjhcdTdFQzRcdTRFRjZcbiAgcHJpdmF0ZSB0b29sYmFyOiBUb29sYmFyO1xuICBwcml2YXRlIGJhdGNoQWN0aW9uczogQmF0Y2hBY3Rpb25zO1xuICBwcml2YXRlIGNvbnRlbnRMaXN0OiBDb250ZW50TGlzdDtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uRWRpdG9yOiBBbm5vdGF0aW9uRWRpdG9yO1xuICBwcml2YXRlIG92ZXJ2aWV3U2VydmljZTogc2lkZU92ZXJ2aWV3U2VydmljZTsgXG5cbiAgcHJpdmF0ZSBfZm9yY2VNYWluTW9kZTogYm9vbGVhbjtcblxuICBwcml2YXRlIGlzT3BlbmluZ0VkaXRvcjogYm9vbGVhbiA9IGZhbHNlO1xuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luLCBmb3JjZU1haW5Nb2RlID0gZmFsc2UpIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICBcbiAgICB0aGlzLl9mb3JjZU1haW5Nb2RlID0gZm9yY2VNYWluTW9kZTtcbiAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTcyQjZcdTYwMDFcbiAgICB0aGlzLnN0YXRlID0gbmV3IFZpZXdTdGF0ZShmb3JjZU1haW5Nb2RlKTtcbiAgICBcbiAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTdFQzRcdTRFRjZcbiAgICB0aGlzLmluaXRpYWxpemVDb21wb25lbnRzKCk7XG4gICAgXG4gICAgXG4gICAgLy8gXHU4QkJFXHU3RjZFXHU1MjFEXHU1OUNCXHU5MDA5XHU0RTJEXHU2NTg3XHU0RUY2XG4gICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgaWYgKGFjdGl2ZUZpbGUpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gYWN0aXZlRmlsZS5wYXRoO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTc2RDFcdTU0MkNcdTdBOTdcdTUzRTNcdTU5MjdcdTVDMEZcdTUzRDhcdTUzMTZcdUZGMDhcdTk2MzJcdTYyOTZcdUZGMDlcbiAgICB0aGlzLnNldHVwUmVzaXplTGlzdGVuZXIoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NzUxRlx1NTQ3RFx1NTQ2OFx1NjcxRlx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XG4gICAgY29uc3QgZm9yY2VNYWluTW9kZSA9IHRoaXMuX2ZvcmNlTWFpbk1vZGUgfHwgZmFsc2U7XG4gICAgcmV0dXJuIGZvcmNlTWFpbk1vZGUgXG4gICAgICA/IFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXIFxuICAgICAgOiBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVztcbiAgfVxuXG4gIGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdMZWFybmluZyBPdmVydmlldyc7XG4gIH1cblxuICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdib29rLW1hcmtlZCc7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgY29uc29sZS5sb2coJ1tPdmVydmlld1ZpZXddIE9wZW5pbmcgdmlldy4uLicpO1xuICAgIFxuICAgICAgICB0aGlzLmRldGVjdERpc3BsYXlNb2RlKCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY20tZWRpdG9yJyk7XG4gICAgICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgICBjb25zdCBzdG9wRWRpdG9yQ2FwdHVyZSA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5sZWFybmluZy1vdmVydmlldy1jb250YWluZXInKSkge1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN0b3BFZGl0b3JDYXB0dXJlLCB0cnVlKTtcbiAgICAgICAgICBlZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wRWRpdG9yQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAvLyBcdTc5ODFcdTc1MjhcdTdGMTZcdThGOTFcdTU2NjhcdTgxRUFcdTUyQThcdTgwNUFcdTcxMjZcbiAgICBjb25zdCBlZGl0b3JDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY20tY29udGVudCcpO1xuICAgIGlmIChlZGl0b3JDb250YWluZXIpIHtcbiAgICAgIChlZGl0b3JDb250YWluZXIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICBlZGl0b3JDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgLy8gXHU1OTgyXHU2NzlDXHU3MEI5XHU1MUZCXHU3Njg0XHU2NjJGXHU2NDFDXHU3RDIyXHU2ODQ2XHU1MzNBXHU1N0RGXHVGRjBDXHU0RTBEXHU4QkE5XHU3RjE2XHU4RjkxXHU1NjY4XHU1OTA0XHU3NDA2XG4gICAgICAgIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtY29udGFpbmVyJyk7XG4gICAgICAgIGlmIChzZWFyY2hCb3ggJiYgc2VhcmNoQm94LmNvbnRhaW5zKGUudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTc4NkVcdTRGRERcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdTRFMEJcdThCQkVcdTdGNkVcdTVGNTNcdTUyNERcdTZEM0JcdTUyQThcdTY1ODdcdTRFRjZcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ3NpZGViYXInKSB7XG4gICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgIGlmIChhY3RpdmVGaWxlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gYWN0aXZlRmlsZS5wYXRoO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NpZGViYXJWaWV3XSBJbml0aWFsIGZpbGU6JywgYWN0aXZlRmlsZS5wYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gXHU2Q0U4XHU1MThDXHU0RThCXHU0RUY2XHU3NkQxXHU1NDJDXG4gICAgaWYgKCF0aGlzLnN0YXRlLmZvcmNlTWFpbk1vZGUpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXJBY3RpdmVMZWFmQ2hhbmdlKCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUudXBkYXRlRHVlQ291bnQodGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlcik7XG4gICAgXG4gICAgLy8gXHU1MTQ4XHU2RTMyXHU2N0QzXHU3NTRDXHU5NzYyXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgICBTdHlsZUxvYWRlci5pbmplY3QoKTtcbiAgICByZXZpZXdTdHlsZS5pbmplY3QoKTtcbiAgICBcbiAgICAvLyBcdTc1NENcdTk3NjJcdTZFMzJcdTY3RDNcdTU0MEVcdTUxOERcdTY4QzBcdTY3RTVcdTU5MERcdTRFNjBcdTYzRDBcdTkxOTJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gIH1cbiAgXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgLy8gXHU2RTA1XHU3NDA2XHU1QjlBXHU2NUY2XHU1NjY4XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciAhPT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnN0YXRlLnNlYXJjaERlYm91bmNlVGltZXIpO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTUxNzNcdTk1RURcdTYyNDBcdTY3MDlcdTZEM0JcdTUyQThcdTc2ODRcdTdGMTZcdThGOTFcdTU2NjhcbiAgICB0aGlzLmFubm90YXRpb25FZGl0b3IuY2xvc2VBbGwoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NTIxRFx1NTlDQlx1NTMxNlx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUNvbXBvbmVudHMoKTogdm9pZCB7XG4gICAgdGhpcy5vdmVydmlld1NlcnZpY2UgPSBuZXcgc2lkZU92ZXJ2aWV3U2VydmljZSh0aGlzLnBsdWdpbiwgdGhpcy5zdGF0ZSk7XG4gICAgLy8gXHU1REU1XHU1MTc3XHU2ODBGXHU1NkRFXHU4QzAzXG4gICAgdGhpcy50b29sYmFyID0gbmV3IFRvb2xiYXIodGhpcy5zdGF0ZSwge1xuICAgICAgb25TZWFyY2hDaGFuZ2U6IChxdWVyeSkgPT4gdGhpcy5oYW5kbGVTZWFyY2hDaGFuZ2UocXVlcnkpLFxuICAgICAgb25GaWx0ZXJDaGFuZ2U6IChtb2RlKSA9PiB0aGlzLmhhbmRsZUZpbHRlckNoYW5nZShtb2RlKSxcbiAgICAgIG9uR3JvdXBDaGFuZ2U6IChtb2RlKSA9PiB0aGlzLmhhbmRsZUdyb3VwQ2hhbmdlKG1vZGUpLFxuICAgICAgb25DaGVja1JldmlldzogKCkgPT4gdGhpcy5jaGVja1Jldmlld1JlbWluZGVyKCksXG5cbiAgICAgIGNoZWNrRmlsdGVySGFzTm90ZXM6IChtb2RlKSA9PiB0aGlzLmNoZWNrRmlsdGVySGFzTm90ZXMobW9kZSksXG4gICAgICBjaGVja0dyb3VwSGFzTm90ZXM6IChtb2RlKSA9PiB0aGlzLmNoZWNrR3JvdXBIYXNOb3Rlcyhtb2RlKVxuICAgIH0sIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKTsgXG4gICAgXG4gICAgXG4gICAgLy8gXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXHU1NkRFXHU4QzAzXG4gICAgY29uc3QgYmF0Y2hDYWxsYmFja3M6IEJhdGNoQWN0aW9uQ2FsbGJhY2tzID0ge1xuICAgICAgb25TZWxlY3RBbGw6ICgpID0+IHRoaXMuaGFuZGxlU2VsZWN0QWxsKCksXG4gICAgICBvbkRlc2VsZWN0QWxsOiAoKSA9PiB0aGlzLmhhbmRsZURlc2VsZWN0QWxsKCksXG4gICAgICBvbkJhdGNoQ3JlYXRlOiAoKSA9PiB0aGlzLmhhbmRsZUJhdGNoQ3JlYXRlKCksXG4gICAgICBvbkJhdGNoRGVsZXRlOiAoKSA9PiB0aGlzLmhhbmRsZUJhdGNoRGVsZXRlKCksXG4gICAgICBvbkNhbmNlbDogKCkgPT4gdGhpcy5oYW5kbGVCYXRjaENhbmNlbCgpXG4gICAgfTtcbiAgICB0aGlzLmJhdGNoQWN0aW9ucyA9IG5ldyBCYXRjaEFjdGlvbnModGhpcy5zdGF0ZSwgYmF0Y2hDYWxsYmFja3MsdGhpcy50b29sYmFyLCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpO1xuICAgIFxuICAgIC8vIFx1NTM2MVx1NzI0N1x1NTZERVx1OEMwM1xuICAgIGNvbnN0IGNhcmRDYWxsYmFja3M6IENhcmRDYWxsYmFja3MgPSB7XG4gICAgICBvbkp1bXBUb1NvdXJjZTogKHVuaXQpID0+IHRoaXMuanVtcFRvU291cmNlKHVuaXQpLFxuICAgICAgb25KdW1wVG9GbGFzaGNhcmQ6IChjYXJkKSA9PiB0aGlzLmp1bXBUb0ZsYXNoY2FyZFNvdXJjZShjYXJkKSwgXG4gICAgICBvblRvZ2dsZUFubm90YXRpb246IChjYXJkLCB1bml0KSA9PiB7XG4gICAgICAgIC8vIFx1RDgzQ1x1REZBRiBMdjIgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ2Fubm90YXRpb24nLCAnQW5ub3RhdGlvbicpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdTJCNTAgXHU4QkJFXHU3RjZFXHU5NTAxXG4gICAgICAgIHRoaXMuaXNPcGVuaW5nRWRpdG9yID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQxMiBbVmlld10gRWRpdG9yIGxvY2sgZW5hYmxlZCcpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uRWRpdG9yLnRvZ2dsZShjYXJkLCB1bml0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1MkI1MCAxXHU3OUQyXHU1NDBFXHU4OUUzXHU5NTAxXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNPcGVuaW5nRWRpdG9yID0gZmFsc2U7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQxMyBbVmlld10gRWRpdG9yIGxvY2sgZGlzYWJsZWQnKTtcbiAgICAgICAgfSwgMTUwMCk7ICAvLyBcdTRFQ0UgMTAwMCBcdTY1MzlcdTRFM0EgMTUwMFxuICAgICAgfSxcbiAgICAgIG9uUXVpY2tGbGFzaGNhcmQ6ICh1bml0KSA9PiB0aGlzLnF1aWNrR2VuZXJhdGVGbGFzaGNhcmQodW5pdCksXG4gICAgICBvblNob3dDb250ZXh0TWVudTogKGV2ZW50LCB1bml0KSA9PiB0aGlzLnNob3dDb250ZXh0TWVudShldmVudCwgdW5pdCksXG4gICAgICBvbkZsYXNoY2FyZENvbnRleHRNZW51OiAoZXZlbnQsIGNhcmQpID0+IHRoaXMuc2hvd0ZsYXNoY2FyZENvbnRleHRNZW51KGV2ZW50LCBjYXJkKSxcbiAgICAgIGdldEFubm90YXRpb25Db250ZW50OiAodW5pdElkKSA9PiB7XG4gICAgICAgIGNvbnN0IGFubiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKHVuaXRJZCk7XG4gICAgICAgIHJldHVybiBhbm4/LmNvbnRlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0Q29udGVudFVuaXQ6ICh1bml0SWQpID0+IHtcbiAgICAgICAgY29uc3QgYWxsVW5pdHMgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKTtcbiAgICAgICAgY29uc3QgdW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KHVuaXRJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodW5pdCkge1xuICAgICAgICAgIHJldHVybiB1bml0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY29udGVudExpc3QgPSBuZXcgQ29udGVudExpc3QodGhpcy5zdGF0ZSwgY2FyZENhbGxiYWNrcyk7XG4gICAgXG4gICAgLy8gXHU2Mjc5XHU2Q0U4XHU3RjE2XHU4RjkxXHU1NjY4XHU1NkRFXHU4QzAzXG4gICAgY29uc3QgYW5ub3RhdGlvbkNhbGxiYWNrczogQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcyA9IHtcbiAgICAgIG9uU2F2ZTogYXN5bmMgKHVuaXRJZCwgY29udGVudCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVBbm5vdGF0aW9uKHVuaXRJZCwgY29udGVudCk7XG4gICAgICB9LFxuICAgICAgb25DYW5jZWw6ICh1bml0SWQpID0+IHtcbiAgICAgICAgLy8gXHU1M0Q2XHU2RDg4XHU3RjE2XHU4RjkxXHVGRjBDXHU0RTBEXHU1MDVBXHU0RUZCXHU0RjU1XHU2NENEXHU0RjVDXG4gICAgICB9LFxuICAgICAgZ2V0QW5ub3RhdGlvbkNvbnRlbnQ6ICh1bml0SWQpID0+IHtcbiAgICAgICAgY29uc3QgYW5uID0gdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZ2V0Q29udGVudEFubm90YXRpb24odW5pdElkKTtcbiAgICAgICAgcmV0dXJuIGFubj8uY29udGVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvciA9IG5ldyBBbm5vdGF0aW9uRWRpdG9yKGFubm90YXRpb25DYWxsYmFja3MpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFJlc2l6ZUxpc3RlbmVyKCk6IHZvaWQge1xuICAgIGxldCByZXNpemVUaW1lcjogbnVtYmVyO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZXIpO1xuICAgICAgcmVzaXplVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZGV0ZWN0RGlzcGxheU1vZGUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyQWN0aXZlTGVhZkNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2FjdGl2ZS1sZWFmLWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmIChhY3RpdmVGaWxlICYmIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gYWN0aXZlRmlsZS5wYXRoO1xuICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCAoZmlsZSkgPT4ge1xuICAgICAgICBpZiAoZmlsZSAmJiB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGZpbGUucGF0aDtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW1NpZGViYXJWaWV3XSBGaWxlIG9wZW5lZDonLCBmaWxlLnBhdGgpO1xuICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY2M0VcdTc5M0FcdTZBMjFcdTVGMEZcdTY4QzBcdTZENEIgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGRldGVjdERpc3BsYXlNb2RlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLmZvcmNlTWFpbk1vZGUpIHtcbiAgICAgIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPSAnbWFpbic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHBhcmVudFNwbGl0ID0gKHRoaXMubGVhZiBhcyBhbnkpLnBhcmVudFNwbGl0O1xuICAgIGNvbnN0IGlzTGVmdFNpZGViYXIgPSBwYXJlbnRTcGxpdD8udHlwZSA9PT0gJ3NwbGl0JyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmxlZnRTcGxpdCA9PT0gcGFyZW50U3BsaXQ7XG4gICAgY29uc3QgaXNSaWdodFNpZGViYXIgPSBwYXJlbnRTcGxpdD8udHlwZSA9PT0gJ3NwbGl0JyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yaWdodFNwbGl0ID09PSBwYXJlbnRTcGxpdDtcbiAgICBcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuY29udGFpbmVyRWwuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgaXNOYXJyb3cgPSB3aWR0aCA8IDUwMDtcbiAgICBcbiAgICBjb25zdCBpc1NpZGViYXIgPSBpc0xlZnRTaWRlYmFyIHx8IGlzUmlnaHRTaWRlYmFyIHx8IGlzTmFycm93O1xuICAgIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPSBpc1NpZGViYXIgPyAnc2lkZWJhcicgOiAnbWFpbic7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTZFMzJcdTY3RDNcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICByZWZyZXNoKCk6IHZvaWQge1xuICBcbiAgY29uc3QgaGFzQWN0aXZlRWRpdG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKSAhPT0gbnVsbDtcbiAgaWYgKGhhc0FjdGl2ZUVkaXRvcnMgfHwgdGhpcy5pc09wZW5pbmdFZGl0b3IpIHtcbiAgICBjb25zb2xlLmxvZygnXHUyM0Y4XHVGRTBGIFtSZWZyZXNoXSBCbG9ja2VkJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZW5kZXJpbmcpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnJlZnJlc2goKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaERlYm91bmNlVGltZXIgIT09IG51bGwpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyKTtcbiAgICAgIHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuc2hvdWxkUmVzdG9yZVNjcm9sbCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVuZGVyaW5nKSByZXR1cm47XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5pc1JlbmRlcmluZyA9IHRydWU7XG4gICAgXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgICBcbiAgICAvLyBcdTRGRERcdTVCNThcdTZFREFcdTUyQThcdTRGNERcdTdGNkVcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ3NpZGViYXInKSB7XG4gICAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjb250ZW50TGlzdCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNhdmVkU2Nyb2xsUG9zaXRpb24gPSBjb250ZW50TGlzdC5zY3JvbGxUb3A7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NkUwNVx1N0E3QVx1NUJCOVx1NTY2OFxuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hZGRDbGFzcygnbGVhcm5pbmctb3ZlcnZpZXctY29udGFpbmVyJyk7XG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgdGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSk7XG4gICAgXG4gICAgLy8gXHU2ODM5XHU2MzZFXHU2QTIxXHU1RjBGXHU2RTMyXHU2N0QzXG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgdGhpcy5yZW5kZXJTaWRlYmFyTW9kZShjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlck1haW5Nb2RlKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NjA2Mlx1NTkwRFx1NkVEQVx1NTJBOFx1NEY0RFx1N0Y2RVxuICAgIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicgJiYgdGhpcy5zdGF0ZS5zaG91bGRSZXN0b3JlU2Nyb2xsKSB7XG4gICAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjb250ZW50TGlzdCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGNvbnRlbnRMaXN0LnNjcm9sbFRvcCA9IHRoaXMuc3RhdGUuc2F2ZWRTY3JvbGxQb3NpdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuaXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgfVxuXG4vLyBzcmMvdWkvU2lkZWJhck92ZXJ2aWV3Vmlldy50c1xuXG5wcml2YXRlIHJlbmRlclNpZGViYXJNb2RlKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgLy8gMS4gXHU2RTMyXHU2N0QzXHU1REU1XHU1MTc3XHU2ODBGXG4gIGNvbnN0IHRvb2xiYXJFbCA9IHRoaXMudG9vbGJhci5yZW5kZXJTaWRlYmFyVG9vbGJhcihjb250YWluZXIpO1xuXG4gIC8vIDIuIFx1NTIxQlx1NUVGQVx1N0VERlx1OEJBMVx1ODg0Q1xuICBsZXQgc3RhdHNSb3cgPSB0b29sYmFyRWwucXVlcnlTZWxlY3RvcignLnN0YXRzLXJvdycpIGFzIEhUTUxFbGVtZW50O1xuICBpZiAoIXN0YXRzUm93KSB7XG4gICAgc3RhdHNSb3cgPSB0b29sYmFyRWwuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtcm93JyB9KTtcbiAgICBzdGF0c1Jvdy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHMtY29udGFpbmVyJywgJ3RydWUnKTtcbiAgfVxuICBcbiAgLy8gMy4gXHU4M0I3XHU1M0Q2XHU1M0VGXHU4OUMxXHU5ODc5XHU3NkVFXG4gIGNvbnN0IGN1cnJlbnRGaWxlVW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTsgXG4gIGNvbnN0IGl0ZW1zID0gdGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJyBcbiAgICA/IHRoaXMuZ2V0RmlsdGVyZWRDYXJkc0ZvckN1cnJlbnRGaWxlKCkgXG4gICAgOiBjdXJyZW50RmlsZVVuaXRzO1xuICBcbiAgXG4gIC8vIDQuIFx1NTIxQlx1NUVGQVx1NURFNlx1NEZBN1x1NUJCOVx1NTY2OChcdTUxNjhcdTkwMDlcdTYzMDlcdTk0QUUpXG4gIGNvbnN0IGxlZnRBY3Rpb25zID0gc3RhdHNSb3cuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtbGVmdCcgfSk7XG4gIHRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlclNlbGVjdEFsbEJ1dHRvbihsZWZ0QWN0aW9ucywgaXRlbXMsICdzaWRlYmFyJyk7XG4gIFxuICAvLyA1LiBcdTUyMUJcdTVFRkFcdTRFMkRcdTk1RjRcdTVCQjlcdTU2NjgoXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFKVxuICBjb25zdCBjZW50ZXJBY3Rpb25zID0gc3RhdHNSb3cuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtY2VudGVyJyB9KTtcbiAgdGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyQWN0aW9uQnV0dG9ucyhjZW50ZXJBY3Rpb25zLCAnc2lkZWJhcicpO1xuICBcbi8vIFx1NjYzRVx1NzkzQVx1N0I0OVx1N0VBN1x1NUZCRFx1N0FFMFx1RkYwOEx2MS1MdjQgXHU1OUNCXHU3RUM4XHU2NjNFXHU3OTNBXHVGRjBDTHY1IFx1NjYzRVx1NzkzQTMwXHU1MjA2XHU5NDlGXHU1NDBFXHU5NjkwXHU4NUNGXHVGRjA5XG5jb25zdCBwcm9ncmVzcyA9IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5nZXRQcm9ncmVzcygpO1xuY29uc3Qgc2hvdWxkU2hvd0Z1bGxCYWRnZSA9IHRoaXMuc2hvdWxkU2hvd0Z1bGxMZXZlbEJhZGdlKHByb2dyZXNzKTtcblxuaWYgKHNob3VsZFNob3dGdWxsQmFkZ2UpIHtcbiAgY29uc3QgbGV2ZWxCYWRnZSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdsZXZlbC1iYWRnZScgfSk7XG5cbiAgY29uc3QgbGV2ZWxOYW1lczogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHtcbiAgICAxOiAnQ29sbGVjdG9yJyxcbiAgICAyOiAnVGhpbmtlcicsXG4gICAgMzogJ01lbW9yaXplcicsXG4gICAgNDogJ1RyYWluZXInLFxuICAgIDU6ICdBbmFseXN0J1xuICB9O1xuICBjb25zdCBsZXZlbE5hbWUgPSBsZXZlbE5hbWVzW3Byb2dyZXNzLmN1cnJlbnRMZXZlbF0gfHwgJyc7XG5cbiAgbGV2ZWxCYWRnZS50ZXh0Q29udGVudCA9IGBMdiR7cHJvZ3Jlc3MuY3VycmVudExldmVsfSAke2xldmVsTmFtZX1gO1xuICBsZXZlbEJhZGdlLnN0eWxlLmZvbnRTaXplID0gJzFlbSc7XG5cbiAgY29uc3QgcHJvZ3Jlc3NUZXh0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLXRleHQnIH0pO1xuICBwcm9ncmVzc1RleHQuaW5uZXJIVE1MID0gdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLmdldE5leHRTdGVwc0ZvckxldmVsKHByb2dyZXNzLmN1cnJlbnRMZXZlbCkucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XG4gIHByb2dyZXNzVGV4dC5zdHlsZS5mb250U2l6ZSA9ICcwLjkzZW0nO1xuICBcbiAgLy8gXHU2REZCXHU1MkEwXHU3QjJDXHU0RTAwXHU2NzYxXHU1MjA2XHU5Njk0XHU3RUJGXG4gIGNvbnN0IGRpdmlkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnbGV2ZWwtZGl2aWRlcicgfSk7XG4gIGRpdmlkZXIuc3R5bGUud2lkdGggPSAnY2FsYygxMDAlIC0gMjRweCknO1xuICBkaXZpZGVyLnN0eWxlLmhlaWdodCA9ICcxcHgnO1xuICBkaXZpZGVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknO1xuICBkaXZpZGVyLnN0eWxlLm1hcmdpbiA9ICcxMnB4IGF1dG8nO1xufVxuXG4vLyA2LiBcdTUyMUJcdTVFRkFcdTUzRjNcdTRGQTdcdTVCQjlcdTU2NjgoXHU3QjQ5XHU3RUE3XHU1RkJEXHU3QUUwICsgXHU1OTBEXHU0RTYwXHU2OEMwXHU2N0U1XHU2MzA5XHU5NEFFKVxuY29uc3QgcmlnaHRBY3Rpb25zID0gc3RhdHNSb3cuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtcmlnaHQnIH0pO1xuXG4vLyBcdTJCNTAgTHY1IFx1NEUxNDMwXHU1MjA2XHU5NDlGXHU1NDBFXHU2NjNFXHU3OTNBXHU1QzBGXHU1RkJEXHU3QUUwXHVGRjA4XHU1OTBEXHU3NTI4XHU0RTBBXHU5NzYyXHU3Njg0IHByb2dyZXNzIFx1NTNEOFx1OTFDRlx1RkYwOVxuaWYgKCFzaG91bGRTaG93RnVsbEJhZGdlICYmIHByb2dyZXNzLmN1cnJlbnRMZXZlbCA9PT0gNSkge1xuICB0aGlzLnJlbmRlckxldmVsQmFkZ2UocmlnaHRBY3Rpb25zLCBwcm9ncmVzcyk7XG59XG5cbnRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlclJldmlld0NoZWNrQnV0dG9uKHJpZ2h0QWN0aW9ucywgJ3NpZGViYXInKTtcbiAgXG4gIC8vIDcuIFx1NTIxQlx1NUVGQVx1NTE4NVx1NUJCOVx1NTIxN1x1ODg2OFx1NUJCOVx1NTY2OFxuICBjb25zdCBjb250ZW50TGlzdEVsID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3NpZGViYXItY29udGVudC1saXN0JyB9KTtcbiAgXG4gIC8vIDguIFx1NTE0OFx1NkUzMlx1NjdEM1x1NTE4NVx1NUJCOVxuICB0aGlzLmNvbnRlbnRMaXN0LnJlbmRlckNvbXBhY3RMaXN0KGNvbnRlbnRMaXN0RWwsIGN1cnJlbnRGaWxlVW5pdHMpO1xuXG4gIC8vIDkuIFx1MkI1MCBcdTZFMzJcdTY3RDNcdTVCOENcdTYyMTBcdTU0MEUsXHU1QzA2XHU2M0QwXHU5MTkyXHU2M0QyXHU1MTY1XHU1MjMwXHU2NzAwXHU1MjREXHU5NzYyXG4gIHRoaXMuaW5zZXJ0UmV2aWV3UmVtaW5kZXJBdFRvcChjb250ZW50TGlzdEVsKTtcbn1cblxuICBwcml2YXRlIHJlbmRlck1haW5Nb2RlKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblxuICAgIGNvbnN0IGxheW91dCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdtYWluLWxheW91dCcgfSk7XG5cbiAgICAvLyBcdTVERTZcdTRGQTdcdTk3NjJcdTY3N0ZcbiAgICBjb25zdCBsZWZ0UGFuZWwgPSBsYXlvdXQuY3JlYXRlRGl2KHsgY2xzOiAnbGVmdC1wYW5lbCcgfSk7XG4gICAgdGhpcy5yZW5kZXJMZWZ0UGFuZWwobGVmdFBhbmVsKTtcbiAgICBcbiAgICAvLyBcdTUzRjNcdTRGQTdcdTk3NjJcdTY3N0ZcbiAgICBjb25zdCByaWdodFBhbmVsID0gbGF5b3V0LmNyZWF0ZURpdih7IGNsczogJ3JpZ2h0LXBhbmVsJyB9KTtcbiAgICB0aGlzLnJlbmRlclJpZ2h0UGFuZWwocmlnaHRQYW5lbCk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckxlZnRQYW5lbChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgLy8gXHU1REU1XHU1MTc3XHU2ODBGXG4gICAgdGhpcy50b29sYmFyLnJlbmRlck1haW5Ub29sYmFyKGNvbnRhaW5lcik7XG4gICAgXG4gICAgLy8gXHU1NkZBXHU1QjlBXHU1MTY1XHU1M0UzXHVGRjA4QWxsIE5vdGVzLCBDYXJkIExpc3RcdUZGMDlcbiAgICB0aGlzLnJlbmRlckZpeGVkRW50cmllcyhjb250YWluZXIpO1xuICAgIFxuICAgIC8vIFx1NjU4N1x1NEVGNlx1NTIxN1x1ODg2OFxuICAgIHRoaXMucmVuZGVyRmlsZUxpc3QoY29udGFpbmVyKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUmlnaHRQYW5lbChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUudmlld1R5cGUgPT09ICdjYXJkcycpIHtcbiAgICAgIHRoaXMucmVuZGVyRmxhc2hjYXJkc1ZpZXcoY29udGFpbmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU4MUVBXHU1MkE4XHU5MDA5XHU0RTJEXHU3QjJDXHU0RTAwXHU0RTJBXHU1MjA2XHU3RUM0XG4gICAgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgICAgY29uc3QgdW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTtcbiAgICAgIGNvbnN0IGdyb3VwZWQgPSB0aGlzLmNvbnRlbnRMaXN0Lmdyb3VwVW5pdHModW5pdHMpO1xuICAgICAgaWYgKGdyb3VwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGdyb3VwZWRbMF0uZ3JvdXBLZXk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICAgIHRoaXMucmVuZGVyRW1wdHlSaWdodFBhbmVsKGNvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NkUzMlx1NjdEM1x1NTkzNFx1OTBFOFxuICAgIGNvbnN0IGhlYWRlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWhlYWRlcicgfSk7XG4gICAgaGVhZGVyLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgfHwgJ1x1NTE4NVx1NUJCOScgfSk7XG4gICAgXG4gICAgY29uc3QgaGVhZGVyQWN0aW9ucyA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICdoZWFkZXItYWN0aW9ucycgfSk7XG4gICAgY29uc3QgdmlzaWJsZUl0ZW1zID0gdGhpcy5nZXRWaXNpYmxlSXRlbXMoKTtcbiAgICBjb25zdCBpdGVtcyA9ICh2aXNpYmxlSXRlbXMudW5pdHMgfHwgW10pO1xuICAgIFxuICAgIHRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlckFjdGlvbkJ1dHRvbnMoaGVhZGVyQWN0aW9ucywgJ2hlYWRlcicpO1xuICAgIHRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlclNlbGVjdEFsbEJ1dHRvbihoZWFkZXJBY3Rpb25zLCBpdGVtcywgJ2hlYWRlcicpO1xuICAgIFxuICAgIC8vIFx1NkUzMlx1NjdEM1x1N0Y1MVx1NjgzQ1xuICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY29udGVudC1ncmlkJyB9KTtcbiAgICBjb25zdCBmaWx0ZXJlZFVuaXRzID0gdGhpcy5nZXRGaWx0ZXJlZFVuaXRzRm9yU2VsZWN0ZWRHcm91cCgpO1xuICAgIHRoaXMuY29udGVudExpc3QucmVuZGVyQ29udGVudEdyaWQoZ3JpZENvbnRhaW5lciwgZmlsdGVyZWRVbml0cyk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZsYXNoY2FyZHNWaWV3KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBmbGFzaGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgICAgY29uc3QgZ3JvdXBlZCA9IHRoaXMuY29udGVudExpc3QuZ3JvdXBGbGFzaGNhcmRzKFxuICAgICAgICBmbGFzaGNhcmRzLFxuICAgICAgICAoaWQpID0+IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGlkKVxuICAgICAgKTtcbiAgICAgIGlmIChncm91cGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPSBncm91cGVkWzBdLmdyb3VwS2V5O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB7XG4gICAgICB0aGlzLnJlbmRlckVtcHR5UmlnaHRQYW5lbChjb250YWluZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTZFMzJcdTY3RDNcdTU5MzRcdTkwRThcbiAgICBjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlIHx8ICdcdTk1RUFcdTUzNjEnIH0pO1xuICAgIFxuICAgIGNvbnN0IGhlYWRlckFjdGlvbnMgPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAnaGVhZGVyLWFjdGlvbnMnIH0pO1xuICAgIGNvbnN0IHZpc2libGVJdGVtcyA9IHRoaXMuZ2V0VmlzaWJsZUl0ZW1zKCk7XG4gICAgY29uc3QgaXRlbXMgPSAodmlzaWJsZUl0ZW1zLmNhcmRzIHx8IFtdKTtcbiAgICBcbiAgICB0aGlzLmJhdGNoQWN0aW9ucy5yZW5kZXJBY3Rpb25CdXR0b25zKGhlYWRlckFjdGlvbnMsICdoZWFkZXInKTtcbiAgICB0aGlzLmJhdGNoQWN0aW9ucy5yZW5kZXJTZWxlY3RBbGxCdXR0b24oaGVhZGVyQWN0aW9ucywgaXRlbXMsICdoZWFkZXInKTtcbiAgICBcbiAgICAvLyBcdTZFMzJcdTY3RDNcdTk1RUFcdTUzNjFcdTdGNTFcdTY4M0NcbiAgICBjb25zdCBncmlkQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NvbnRlbnQtZ3JpZCcgfSk7XG4gICAgY29uc3QgZmlsdGVyZWRDYXJkcyA9IHRoaXMuZ2V0RmlsdGVyZWRDYXJkc0ZvclNlbGVjdGVkR3JvdXAoKTtcbiAgICB0aGlzLmNvbnRlbnRMaXN0LnJlbmRlckZsYXNoY2FyZHNHcmlkKGdyaWRDb250YWluZXIsIGZpbHRlcmVkQ2FyZHMpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGaXhlZEVudHJpZXMoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGVudHJpZXMgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZml4ZWQtZW50cmllcycgfSk7XG4gICAgXG4gICAgY29uc3QgYWxsTm90ZXNCdG4gPSBlbnRyaWVzLmNyZWF0ZURpdih7XG4gICAgICBjbHM6IGBlbnRyeS1idG4gJHt0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnbm90ZXMnID8gJ2FjdGl2ZScgOiAnJ31gXG4gICAgfSk7XG4gICAgYWxsTm90ZXNCdG4uaW5uZXJIVE1MID0gJ1x1RDgzRFx1RENERCA8c3Bhbj5BbGwgTm90ZXM8L3NwYW4+JztcbiAgICBhbGxOb3Rlc0J0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnNldFZpZXdUeXBlKCdub3RlcycpKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgY2FyZExpc3RCdG4gPSBlbnRyaWVzLmNyZWF0ZURpdih7XG4gICAgICBjbHM6IGBlbnRyeS1idG4gJHt0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnID8gJ2FjdGl2ZScgOiAnJ31gXG4gICAgfSk7XG4gICAgY2FyZExpc3RCdG4uaW5uZXJIVE1MID0gJ1x1RDgzQ1x1RENDRiA8c3Bhbj5DYXJkIExpc3Q8L3NwYW4+JztcbiAgICBjYXJkTGlzdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnNldFZpZXdUeXBlKCdjYXJkcycpKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZpbGVMaXN0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb250YWluZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiB0aGlzLnQoJ2ZpbGVMaXN0LnRpdGxlJyksIGNsczogJ3BhbmVsLXRpdGxlJyB9KTtcblxuICAgIGNvbnN0IGZpbGVMaXN0Q29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2ZpbGUtbGlzdCcgfSk7XG4gICAgdGhpcy5yZW5kZXJGaWxlTGlzdENvbnRlbnQoZmlsZUxpc3RDb250YWluZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGaWxlTGlzdENvbnRlbnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIFxuICAgIGxldCBncm91cGVkOiBBcnJheTx7IGdyb3VwS2V5OiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfT47XG4gICAgXG4gICAgaWYgKHRoaXMuc3RhdGUudmlld1R5cGUgPT09ICdjYXJkcycpIHtcbiAgICAgIGNvbnN0IGZsYXNoY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgICAgIGNvbnN0IGNhcmRHcm91cHMgPSB0aGlzLmNvbnRlbnRMaXN0Lmdyb3VwRmxhc2hjYXJkcyhcbiAgICAgICAgZmxhc2hjYXJkcyxcbiAgICAgICAgKGlkKSA9PiB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChpZClcbiAgICAgICk7XG4gICAgICBncm91cGVkID0gY2FyZEdyb3Vwcy5tYXAoZyA9PiAoeyBcbiAgICAgICAgZ3JvdXBLZXk6IGcuZ3JvdXBLZXksIFxuICAgICAgICBjb3VudDogZy5jYXJkcy5sZW5ndGggXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVuaXRzID0gdGhpcy5nZXRGaWx0ZXJlZFVuaXRzKCk7XG4gICAgICBjb25zdCB1bml0R3JvdXBzID0gdGhpcy5jb250ZW50TGlzdC5ncm91cFVuaXRzKHVuaXRzKTtcbiAgICAgIGdyb3VwZWQgPSB1bml0R3JvdXBzLm1hcChnID0+ICh7IFxuICAgICAgICBncm91cEtleTogZy5ncm91cEtleSwgXG4gICAgICAgIGNvdW50OiBnLnVuaXRzLmxlbmd0aCBcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGdyb3VwZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250YWluZXIuY3JlYXRlRGl2KHsgdGV4dDogdGhpcy50KCdlbXB0eS5ub0RvY3VtZW50cycpLCBjbHM6ICdlbXB0eS1oaW50JyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSAmJiBncm91cGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gZ3JvdXBlZFswXS5ncm91cEtleTtcbiAgICB9XG4gICAgXG4gICAgZ3JvdXBlZC5mb3JFYWNoKCh7IGdyb3VwS2V5LCBjb3VudCB9KSA9PiB7XG4gICAgICBjb25zdCBmaWxlSXRlbSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoe1xuICAgICAgICBjbHM6IGBmaWxlLWl0ZW0gJHt0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9PT0gZ3JvdXBLZXkgPyAnc2VsZWN0ZWQnIDogJyd9YFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGZpbGVJdGVtLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmaWxlLWljb25cIj4ke3RoaXMuZ2V0R3JvdXBJY29uKCl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImZpbGUtbmFtZVwiPiR7Z3JvdXBLZXl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImZpbGUtY291bnRcIj4ke2NvdW50fTwvc3Bhbj5cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIGZpbGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlICE9PSBncm91cEtleSkge1xuICAgICAgICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvci5jbG9zZUFsbCgpO1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gZ3JvdXBLZXk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgYWxsSXRlbXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZpbGUtaXRlbScpO1xuICAgICAgICAgIGFsbEl0ZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgICBmaWxlSXRlbS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLnJlZnJlc2hSaWdodFBhbmVsKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJFbXB0eVJpZ2h0UGFuZWwoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGVtcHR5ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2VtcHR5LXJpZ2h0LXBhbmVsJyB9KTtcbiAgICBlbXB0eS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwiZW1wdHktaWNvblwiPlx1RDgzRFx1RENFRDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXRleHRcIj4ke3RoaXMudCgnZW1wdHkubm9Db250ZW50Jyl9PC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG5wcml2YXRlIGhhbmRsZVNlYXJjaENoYW5nZShxdWVyeTogc3RyaW5nKTogdm9pZCB7XG4gIHRoaXMuc3RhdGUuc2V0U2VhcmNoUXVlcnkocXVlcnkpO1xuICBcbiAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciAhPT0gbnVsbCkge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyKTtcbiAgfVxuICBcbiAgdGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnN0IGhhc0FjdGl2ZUVkaXRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgIT09IG51bGw7XG4gICAgaWYgKGhhc0FjdGl2ZUVkaXRvcnMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTIzRjhcdUZFMEYgW1NlYXJjaF0gUmVmcmVzaCBjYW5jZWxsZWQgLSBlZGl0b3JzIGFjdGl2ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgdGhpcy5yZWZyZXNoQ29udGVudE9ubHkoKTsgIC8vIFx1MkI1MCBcdTUzRUFcdTUyMzdcdTY1QjBcdTUxODVcdTVCQjlcdTUzM0FcdTU3REZcbiAgfSwgMzAwKTtcbn1cblxuLy8gXHU2REZCXHU1MkEwXHU2NUIwXHU2NUI5XHU2Q0Q1Olx1NTNFQVx1NTIzN1x1NjVCMFx1NTE4NVx1NUJCOVx1NTIxN1x1ODg2OFxucHJpdmF0ZSByZWZyZXNoQ29udGVudE9ubHkoKTogdm9pZCB7XG4gIC8vIFx1MkI1MCBcdTU5ODJcdTY3OUNcdTZCNjNcdTU3MjhcdTYyNTNcdTVGMDBcdTdGMTZcdThGOTFcdTU2NjhcdUZGMENcdThERjNcdThGQzdcdTUyMzdcdTY1QjBcbiAgaWYgKHRoaXMuaXNPcGVuaW5nRWRpdG9yKSB7XG4gICAgY29uc29sZS5sb2coJ1x1MjNGOFx1RkUwRiBbUmVmcmVzaF0gU2tpcHBlZCAtIG9wZW5pbmcgZWRpdG9yJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBjb25zdCBoYXNBY3RpdmVFZGl0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpICE9PSBudWxsO1xuICBpZiAoaGFzQWN0aXZlRWRpdG9ycykge1xuICAgIGNvbnNvbGUubG9nKCdcdTIzRjhcdUZFMEYgW1JlZnJlc2hdIFNraXBwZWQgLSBlZGl0b3JzIGFyZSBhY3RpdmUnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgXG4gIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicpIHtcbiAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoY29udGVudExpc3QpIHtcbiAgICAgIGNvbnN0IHNjcm9sbFBvcyA9IGNvbnRlbnRMaXN0LnNjcm9sbFRvcDtcblxuICAgICAgY29uc3QgZWRpdGluZ0NhcmRzID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxFbGVtZW50PigpO1xuICAgICAgY29udGVudExpc3QucXVlcnlTZWxlY3RvckFsbCgnLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpLmZvckVhY2goKGVkaXRvcjogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGVkaXRvci5jbG9zZXN0KCdbZGF0YS11bml0LWlkXScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBpZiAoY2FyZCkge1xuICAgICAgICAgIGNvbnN0IHVuaXRJZCA9IGNhcmQuZ2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnKTtcbiAgICAgICAgICBpZiAodW5pdElkKSB7XG4gICAgICAgICAgICBlZGl0aW5nQ2FyZHMuc2V0KHVuaXRJZCwgZWRpdG9yLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29udGVudExpc3QuZW1wdHkoKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRGaWxlVW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTtcbiAgICAgIHRoaXMuY29udGVudExpc3QucmVuZGVyQ29tcGFjdExpc3QoY29udGVudExpc3QsIGN1cnJlbnRGaWxlVW5pdHMpO1xuICAgICAgdGhpcy5pbnNlcnRSZXZpZXdSZW1pbmRlckF0VG9wKGNvbnRlbnRMaXN0KTtcbiAgICAgIFxuICAgICAgaWYgKGVkaXRpbmdDYXJkcy5zaXplID4gMCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGVkaXRpbmdDYXJkcy5mb3JFYWNoKChlZGl0b3IsIHVuaXRJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FyZCA9IGNvbnRlbnRMaXN0LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXVuaXQtaWQ9XCIke3VuaXRJZH1cIl1gKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgICAgICAgIGNhcmQuc2V0QXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgcHJldmlldyA9IGNhcmQucXVlcnlTZWxlY3RvcignLmFubm90YXRpb24tcHJldmlldycpO1xuICAgICAgICAgICAgICBpZiAocHJldmlldykge1xuICAgICAgICAgICAgICAgIHByZXZpZXcucmVwbGFjZVdpdGgoZWRpdG9yKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGVkaXRvci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRhcmVhKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFubm90YXRpb25FZGl0b3JbJ2JpbmRFZGl0b3JFdmVudHMnXSh0ZXh0YXJlYSwgdW5pdElkKTtcbiAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAgICAgICBcbiAgICAgIGNvbnRlbnRMaXN0LnNjcm9sbFRvcCA9IHNjcm9sbFBvcztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZWZyZXNoUmlnaHRQYW5lbCgpO1xuICAgIFxuICAgIGNvbnN0IGZpbGVMaXN0Q29udGFpbmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5maWxlLWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoZmlsZUxpc3RDb250YWluZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyRmlsZUxpc3RDb250ZW50KGZpbGVMaXN0Q29udGFpbmVyKTtcbiAgICB9XG4gIH1cbn1cblxuICBwcml2YXRlIGhhbmRsZUZpbHRlckNoYW5nZShtb2RlOiB0eXBlb2YgdGhpcy5zdGF0ZS5maWx0ZXJNb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2V0RmlsdGVyTW9kZShtb2RlKSkge1xuICAgICAgdGhpcy5zdGF0ZS5zaG91bGRSZXN0b3JlU2Nyb2xsID0gZmFsc2U7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlR3JvdXBDaGFuZ2UobW9kZTogdHlwZW9mIHRoaXMuc3RhdGUuZ3JvdXBNb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2V0R3JvdXBNb2RlKG1vZGUpKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VsZWN0QWxsKCk6IHZvaWQge1xuICAgIGNvbnN0IHZpc2libGUgPSB0aGlzLmdldFZpc2libGVJdGVtcygpO1xuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICBjb25zdCBjYXJkcyA9IHZpc2libGUuY2FyZHMgfHwgW107XG4gICAgICBpZiAoY2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2Uubm9TZWxlY3Rpb24nKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0QWxsQ2FyZHMoY2FyZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bml0cyA9IHZpc2libGUudW5pdHMgfHwgW107XG4gICAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2Uubm9TZWxlY3Rpb24nKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0QWxsVW5pdHModW5pdHMpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEZXNlbGVjdEFsbCgpOiB2b2lkIHtcbiAgICBjb25zdCB2aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlSXRlbXMoKTtcbiAgICBcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgdGhpcy5zdGF0ZS5kZXNlbGVjdEFsbENhcmRzKHZpc2libGUuY2FyZHMgfHwgW10pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLmRlc2VsZWN0QWxsVW5pdHModmlzaWJsZS51bml0cyB8fCBbXSk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJhdGNoQ3JlYXRlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5zaXplID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLm5vU2VsZWN0aW9uJykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdThDMDNcdTc1MjhcdTYyNzlcdTkxQ0ZcdTUyMUJcdTVFRkFcdTkwM0JcdThGOTFcbiAgICB0aGlzLmJhdGNoQ3JlYXRlRmxhc2hjYXJkcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVCYXRjaERlbGV0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5nZXRTZWxlY3RlZENvdW50KCkgPT09IDApIHtcbiAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2Uubm9TZWxlY3Rpb24nKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICB0aGlzLmJhdGNoRGVsZXRlRmxhc2hjYXJkcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJhdGNoRGVsZXRlTm90ZXMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJhdGNoQ2FuY2VsKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUuY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY1NzBcdTYzNkVcdTgzQjdcdTUzRDZcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGdldEZpbHRlcmVkVW5pdHMoKTogQ29udGVudFVuaXRbXSB7XG4gICAgbGV0IHVuaXRzID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0QWxsQ29udGVudFVuaXRzKCk7XG4gICAgLy8gXHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHVGRjFBXHU1M0VBXHU2NjNFXHU3OTNBXHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU3Njg0XHU3QjE0XHU4QkIwXG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJyAmJiB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgICAgdW5pdHMgPSB1bml0cy5maWx0ZXIodW5pdCA9PiB1bml0LnNvdXJjZS5maWxlID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSk7XG4gICAgfVxuXG4gICAgLy8gXHU2NDFDXHU3RDIyXHU4RkM3XHU2RUU0XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoUXVlcnkpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zdGF0ZS5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdW5pdHMgPSB1bml0cy5maWx0ZXIodW5pdCA9PlxuICAgICAgICB1bml0LmNvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkgfHxcbiAgICAgICAgdW5pdC5zb3VyY2UuZmlsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICB1bml0Lm1ldGFkYXRhLnRhZ3Muc29tZSh0YWcgPT4gdGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpKVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU3QzdCXHU1NzhCXHU4RkM3XHU2RUU0XG4gICAgaWYgKHRoaXMuc3RhdGUuZmlsdGVyTW9kZSA9PT0gJ2Fubm90YXRlZCcpIHtcbiAgICAgIHVuaXRzID0gdW5pdHMuZmlsdGVyKHUgPT4gdS5hbm5vdGF0aW9uSWQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5maWx0ZXJNb2RlID09PSAnZmxhc2hjYXJkcycpIHtcbiAgICAgIHVuaXRzID0gdW5pdHMuZmlsdGVyKHUgPT4gdS5mbGFzaGNhcmRJZHMubGVuZ3RoID4gMCk7XG4gICAgfVxuICAgIFxuXG4gICAgXG4gICAgcmV0dXJuIHVuaXRzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGaWx0ZXJlZFVuaXRzRm9yU2VsZWN0ZWRHcm91cCgpOiBDb250ZW50VW5pdFtdIHtcbiAgICBjb25zdCB1bml0cyA9IHRoaXMuZ2V0RmlsdGVyZWRVbml0cygpO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGU7XG4gIFxuICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiBbXTtcbiAgXG4gICAgcmV0dXJuIHVuaXRzLmZpbHRlcih1bml0ID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIHJldHVybiB1bml0LnNvdXJjZS5maWxlID09PSBzZWxlY3RlZDtcbiAgXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnYW5ub3RhdGlvbicpIHtcbiAgICAgICAgY29uc3QgaGFzQW5ub3RhdGlvbiA9IHNlbGVjdGVkID09PSAnXHU2NzA5XHU2Mjc5XHU2Q0U4JztcbiAgICAgICAgcmV0dXJuIGhhc0Fubm90YXRpb24gPyAhIXVuaXQuYW5ub3RhdGlvbklkIDogIXVuaXQuYW5ub3RhdGlvbklkO1xuICBcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICd0YWcnKSB7XG4gICAgICAgIHJldHVybiB1bml0Lm1ldGFkYXRhLnRhZ3MuaW5jbHVkZXMoc2VsZWN0ZWQpO1xuICBcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdkYXRlJykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSh1bml0Lm1ldGFkYXRhLmNyZWF0ZWRBdCkpID09PSBzZWxlY3RlZFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIFxuXG4gIHByaXZhdGUgZ2V0RmlsdGVyZWRDYXJkc0ZvclNlbGVjdGVkR3JvdXAoKTogRmxhc2hjYXJkW10ge1xuICAgIGNvbnN0IGZsYXNoY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlO1xuICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiBbXTtcbiAgICBcbiAgICByZXR1cm4gZmxhc2hjYXJkcy5maWx0ZXIoY2FyZCA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdmaWxlJykge1xuICAgICAgICByZXR1cm4gY2FyZC5zb3VyY2VGaWxlID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdhbm5vdGF0aW9uJykge1xuICAgICAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgICAgICBjb25zdCBoYXNBbm5vdGF0aW9uID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPT09ICdcdTY3MDlcdTYyNzlcdTZDRTgnO1xuICAgICAgICByZXR1cm4gaGFzQW5ub3RhdGlvbiA/ICh1bml0ICYmICEhdW5pdC5hbm5vdGF0aW9uSWQpIDogKCF1bml0IHx8ICF1bml0LmFubm90YXRpb25JZCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAndGFnJykge1xuICAgICAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgICAgICByZXR1cm4gKHVuaXQgJiYgdW5pdC5tZXRhZGF0YS50YWdzLmluY2x1ZGVzKHNlbGVjdGVkKSkgfHxcbiAgICAgICAgICAgICAgIChjYXJkLnRhZ3MgJiYgY2FyZC50YWdzLmluY2x1ZGVzKHNlbGVjdGVkKSkgfHxcbiAgICAgICAgICAgICAgIChjYXJkLmRlY2sgPT09IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB8fFxuICAgICAgICAgICAgICAgKHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID09PSAnXHU2NzJBXHU1MjA2XHU3QzdCJyAmJiBcbiAgICAgICAgICAgICAgICAoIWNhcmQudGFncyB8fCBjYXJkLnRhZ3MubGVuZ3RoID09PSAwKSAmJiBcbiAgICAgICAgICAgICAgICAhY2FyZC5kZWNrICYmXG4gICAgICAgICAgICAgICAgKCF1bml0IHx8ICF1bml0Lm1ldGFkYXRhLnRhZ3MgfHwgdW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA9PT0gMCkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdERhdGUobmV3IERhdGUoY2FyZC5tZXRhZGF0YS5jcmVhdGVkQXQpKSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldFZpc2libGVJdGVtcygpOiB7IHVuaXRzPzogQ29udGVudFVuaXRbXTsgY2FyZHM/OiBGbGFzaGNhcmRbXSB9IHtcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgY29uc3QgY2FyZHMgPSB0aGlzLmdldEZpbHRlcmVkQ2FyZHNGb3JTZWxlY3RlZEdyb3VwKCk7XG4gICAgICByZXR1cm4geyBjYXJkcyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bml0cyA9IHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJyBcbiAgICAgICAgPyB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKSBcbiAgICAgICAgOiB0aGlzLmdldEZpbHRlcmVkVW5pdHNGb3JTZWxlY3RlZEdyb3VwKCk7XG4gICAgICByZXR1cm4geyB1bml0cyB9O1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NEUxQVx1NTJBMVx1OTAzQlx1OEY5MVx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gXG5cbnByaXZhdGUgYXN5bmMganVtcFRvU291cmNlKHVuaXQ6IENvbnRlbnRVbml0KTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IHRoaXMub3ZlcnZpZXdTZXJ2aWNlLmp1bXBUb1NvdXJjZSh1bml0LCB0aGlzLmFwcCk7XG59XG5cbnByaXZhdGUgYXN5bmMganVtcFRvRmxhc2hjYXJkU291cmNlKGNhcmQ6IEZsYXNoY2FyZCk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIC8vIFx1OTk5Nlx1NTE0OFx1NUMxRFx1OEJENVx1OTAxQVx1OEZDNyBDb250ZW50VW5pdCBcdThERjNcdThGNkNcbiAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgIFxuICAgIGlmICh1bml0KSB7XG4gICAgICBhd2FpdCB0aGlzLmp1bXBUb1NvdXJjZSh1bml0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChjYXJkLnNvdXJjZUZpbGUpO1xuICAgIGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuZmlsZU5vdEZvdW5kJykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcbiAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG4gICAgXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NzA5IGFuY2hvckxpbmtcdUZGMENcdTVDMURcdThCRDVcdThERjNcdThGNkNcdTUyMzBcdTUxNzdcdTRGNTNcdTRGNERcdTdGNkVcbiAgICBpZiAoY2FyZC5hbmNob3JMaW5rKSB7XG4gICAgICAvLyBcdTRFQ0UgYW5jaG9yTGluayBcdTYzRDBcdTUzRDYgYmxvY2tJZFxuICAgICAgLy8gXHU2ODNDXHU1RjBGOiBbW2ZpbGVuYW1lI15ibG9jay1pZF1dXG4gICAgICBjb25zdCBibG9ja0lkTWF0Y2ggPSBjYXJkLmFuY2hvckxpbmsubWF0Y2goL1xcXlxcUysvKTtcbiAgICAgIGlmIChibG9ja0lkTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgYmxvY2tJZCA9IGJsb2NrSWRNYXRjaFswXS5zdWJzdHJpbmcoMSk7IC8vIFx1NzlGQlx1OTY2NCBeXG4gICAgICAgIFxuICAgICAgICAvLyBcdTdCNDlcdTVGODVcdTdGMTZcdThGOTFcdTU2NjhcdTUyQTBcdThGN0RcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2QjYzXHU3ODZFXHU4M0I3XHU1M0Q2IE1hcmtkb3duVmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgaWYgKHZpZXcgJiYgdmlldy5lZGl0b3IpIHtcbiAgICAgICAgICBjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBcdTY3RTVcdTYyN0UgYmxvY2sgSURcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobGluZXNbaV0uaW5jbHVkZXMoYF4ke2Jsb2NrSWR9YCkpIHtcbiAgICAgICAgICAgICAgZWRpdG9yLnNldEN1cnNvcih7IGxpbmU6IGksIGNoOiAwIH0pO1xuICAgICAgICAgICAgICBlZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoeyBmcm9tOiB7IGxpbmU6IGksIGNoOiAwIH0sIHRvOiB7IGxpbmU6IGksIGNoOiAwIH0gfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLmp1bXBlZFRvU291cmNlJykpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGp1bXBpbmcgdG8gZmxhc2hjYXJkIHNvdXJjZTonLCBlcnJvcik7XG4gICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5qdW1wRmFpbGVkJykpO1xuICB9XG59XG5cbnByaXZhdGUgYXN5bmMgc2F2ZUFubm90YXRpb24odW5pdElkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCB0aGlzLm92ZXJ2aWV3U2VydmljZS5zYXZlQW5ub3RhdGlvbih1bml0SWQsIGNvbnRlbnQpO1xufVxuXG5wcml2YXRlIGFzeW5jIHF1aWNrR2VuZXJhdGVGbGFzaGNhcmQodW5pdDogQ29udGVudFVuaXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgdGhpcy5vdmVydmlld1NlcnZpY2UucXVpY2tHZW5lcmF0ZUZsYXNoY2FyZCh1bml0KTtcbiAgXG4gIC8vIFx1NTIzN1x1NjVCMCBVSVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9KTtcbn1cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1ID09PT09PT09PT09PT09PT09PT09XG5wcml2YXRlIHNob3dDb250ZXh0TWVudShldmVudDogTW91c2VFdmVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgY29uc3QgY2FsbGJhY2tzOiBDb250ZW50VW5pdE1lbnVDYWxsYmFja3MgPSB7XG4gICAgb25KdW1wVG9Tb3VyY2U6ICh1bml0KSA9PiB0aGlzLmp1bXBUb1NvdXJjZSh1bml0KSxcbiAgICBcbiAgICBvblRvZ2dsZUFubm90YXRpb246ICh1bml0KSA9PiB7XG4gICAgICAgIC8vIFx1RDgzQ1x1REZBRiBMdjIgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gIGlmICghdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ2Fubm90YXRpb24nLCAnQW5ub3RhdGlvbicpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICAgICBjb25zdCBjYXJkID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgY2FyZEVsID0gY2FyZC5jbG9zZXN0KCcuY29tcGFjdC1jYXJkLCAuZ3JpZC1jYXJkJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAoY2FyZEVsKSB7XG4gICAgICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvci50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIG9uRWRpdEZsYXNoY2FyZDogKHVuaXQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRJZCA9IHVuaXQuZmxhc2hjYXJkSWRzWzBdO1xuICAgICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGNhcmRJZCk7XG4gICAgICBpZiAoY2FyZCkge1xuICAgICAgICBuZXcgRWRpdEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgY2FyZCkub3BlbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5mbGFzaGNhcmROb3RGb3VuZCcpKTtcblxuICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgb25RdWlja0dlbmVyYXRlOiAodW5pdCkgPT4gdGhpcy5xdWlja0dlbmVyYXRlRmxhc2hjYXJkKHVuaXQpLFxuICAgIFxuICAgIG9uQ3JlYXRlUUE6ICh1bml0KSA9PiB7XG4gICAgICBuZXcgTWFudWFsRmxhc2hjYXJkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCB1bml0LCAncWEnKS5vcGVuKCk7XG4gICAgfSxcbiAgICBcbiAgICBvbkNyZWF0ZUNsb3plOiAodW5pdCkgPT4ge1xuICAgICAgbmV3IE1hbnVhbEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgdW5pdCwgJ2Nsb3plJykub3BlbigpO1xuICAgIH0sXG4gICAgXG4gICAgb25WaWV3U3RhdHM6ICgpID0+IHtcbiAgICAgIHRoaXMucGx1Z2luLmFjdGl2YXRlU3RhdHMoKTtcbiAgICB9LFxuICAgIFxuICAgIG9uRGVsZXRlOiBhc3luYyAodW5pdCkgPT4ge1xuICAgICAgaWYgKGNvbmZpcm0odGhpcy50KCdjb25maXJtLmRlbGV0ZU5vdGUnKSkpIHtcbiAgICAgICAgaWYgKHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiB1bml0LmZsYXNoY2FyZElkcykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmRJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmRlbGV0ZUNvbnRlbnRVbml0KHVuaXQuaWQpO1xuICAgICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLmRlbGV0ZWQnKSk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IG1lbnUgPSBDb250ZXh0TWVudUJ1aWxkZXIuYnVpbGRDb250ZW50VW5pdE1lbnUodW5pdCwgY2FsbGJhY2tzKTtcbiAgbWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcbn1cbiAgXG4gIHByaXZhdGUgb3Blbk1hbnVhbEZsYXNoY2FyZE1vZGFsKHVuaXQ6IENvbnRlbnRVbml0LCB0eXBlOiAncWEnIHwgJ2Nsb3plJyk6IHZvaWQge1xuXG4gICAgXG4gICAgbmV3IE1hbnVhbEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgdW5pdCwgdHlwZSkub3BlbigpO1xuICB9XG5cblxuICBwcml2YXRlIHNob3dGbGFzaGNhcmRDb250ZXh0TWVudShldmVudDogTW91c2VFdmVudCwgY2FyZDogRmxhc2hjYXJkKTogdm9pZCB7XG4gICAgY29uc3QgY2FsbGJhY2tzOiBGbGFzaGNhcmRNZW51Q2FsbGJhY2tzID0ge1xuICAgICAgb25KdW1wVG9Tb3VyY2U6IGFzeW5jIChjYXJkKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMub3ZlcnZpZXdTZXJ2aWNlLmp1bXBUb0ZsYXNoY2FyZFNvdXJjZShjYXJkLmlkLCB0aGlzLmFwcCk7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBvbkVkaXQ6IChjYXJkKSA9PiB7XG4gICAgICAgIG5ldyBFZGl0Rmxhc2hjYXJkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBjYXJkKS5vcGVuKCk7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBvblZpZXdTdGF0czogKGNhcmQpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdHNUZXh0ID0gQ29udGV4dE1lbnVCdWlsZGVyLmZvcm1hdEZsYXNoY2FyZFN0YXRzKGNhcmQpO1xuICAgICAgICBuZXcgTm90aWNlKHN0YXRzVGV4dCwgMTAwMDApO1xuICAgICAgfSxcbiAgICAgIFxuICAgICAgb25EZWxldGU6IGFzeW5jIChjYXJkKSA9PiB7XG4gICAgICAgIGlmIChjb25maXJtKHRoaXMudCgnY29uZmlybS5kZWxldGVGbGFzaGNhcmQnKSkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZC5pZCk7XG4gICAgICAgICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5kZWxldGVkJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBtZW51ID0gQ29udGV4dE1lbnVCdWlsZGVyLmJ1aWxkRmxhc2hjYXJkTWVudShjYXJkLCBjYWxsYmFja3MpO1xuICAgIG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XG4gIH1cbiAgXG5cbiAgcHJpdmF0ZSBvcGVuRWRpdEZsYXNoY2FyZE1vZGFsKGNhcmQ6IEZsYXNoY2FyZCk6IHZvaWQge1xuICAgIFxuICAgIG5ldyBFZGl0Rmxhc2hjYXJkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBjYXJkKS5vcGVuKCk7XG4gIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUMgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGFzeW5jIGJhdGNoQ3JlYXRlRmxhc2hjYXJkcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB1bml0cyA9IEFycmF5LmZyb20odGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMpXG4gICAgICAubWFwKGlkID0+IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGlkKSlcbiAgICAgIC5maWx0ZXIodSA9PiB1ICE9PSB1bmRlZmluZWQgJiYgdS5mbGFzaGNhcmRJZHMubGVuZ3RoID09PSAwKSBhcyBDb250ZW50VW5pdFtdO1xuICAgIFxuICAgIGlmICh1bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuYWxyZWFkeUhhc0ZsYXNoY2FyZHMnKSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU2Mjc5XHU5MUNGXHU1MjFCXHU1RUZBXHU2QTIxXHU2MDAxXHU2ODQ2XG4gICBjb25zdCBxdWlja0NyZWF0b3IgPSBuZXcgUXVpY2tGbGFzaGNhcmRDcmVhdG9yKHRoaXMucGx1Z2luKTtcbiAgICBjb25zdCBtb2RhbCA9IG5ldyBCYXRjaENyZWF0ZU1vZGFsKFxuICAgICAgdGhpcy5hcHAsXG4gICAgICB0aGlzLnBsdWdpbixcbiAgICAgIHF1aWNrQ3JlYXRvcixcbiAgICAgIHVuaXRzLFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnN0YXRlLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgfVxuICAgICk7XG4gICAgbW9kYWwub3BlbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBiYXRjaERlbGV0ZU5vdGVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghY29uZmlybSh0aGlzLnQoJ2NvbmZpcm0uYmF0Y2hEZWxldGVOb3RlcycsIHsgY291bnQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzLnNpemUgfSkpKSB7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBzdWNjZXNzLCBmYWlsZWQgfSA9IGF3YWl0IHRoaXMub3ZlcnZpZXdTZXJ2aWNlLmJhdGNoRGVsZXRlTm90ZXMoXG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkc1xuICAgICk7XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5jbGVhclNlbGVjdGlvbigpO1xuICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuYmF0Y2hEZWxldGVkJywgeyBzdWNjZXNzLCBmYWlsZWQ6IGZhaWxlZCA+IDAgPyBmYWlsZWQgOiAwIH0pKTtcblxuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBiYXRjaERlbGV0ZUZsYXNoY2FyZHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFjb25maXJtKHRoaXMudCgnY29uZmlybS5iYXRjaERlbGV0ZUZsYXNoY2FyZHMnLCB7IGNvdW50OiB0aGlzLnN0YXRlLnNlbGVjdGVkQ2FyZElkcy5zaXplIH0pKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBsZXQgc3VjY2VzcyA9IDA7XG4gICAgbGV0IGZhaWxlZCA9IDA7XG4gICAgXG4gICAgZm9yIChjb25zdCBjYXJkSWQgb2YgdGhpcy5zdGF0ZS5zZWxlY3RlZENhcmRJZHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZGVsZXRlQ2FyZChjYXJkSWQpO1xuICAgICAgICBzdWNjZXNzKys7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgICAgICBmYWlsZWQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5jbGVhclNlbGVjdGlvbigpO1xuICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuYmF0Y2hEZWxldGVkJywgeyBzdWNjZXNzLCBmYWlsZWQ6IGZhaWxlZCA+IDAgPyBmYWlsZWQgOiAwIH0pKTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NURFNVx1NTE3N1x1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgcmVmcmVzaFJpZ2h0UGFuZWwoKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCByaWdodFBhbmVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5yaWdodC1wYW5lbCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmIChyaWdodFBhbmVsKSB7XG4gICAgICByaWdodFBhbmVsLmVtcHR5KCk7XG4gICAgICB0aGlzLnJlbmRlclJpZ2h0UGFuZWwocmlnaHRQYW5lbCk7XG4gICAgfVxuICB9XG5cbnByaXZhdGUgZ2V0RmlsdGVyZWRDYXJkc0ZvckN1cnJlbnRGaWxlKCk6IEZsYXNoY2FyZFtdIHtcbiAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgIT09ICdzaWRlYmFyJyB8fCAhdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgXG4gIGNvbnN0IGZsYXNoY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgcmV0dXJuIGZsYXNoY2FyZHMuZmlsdGVyKGNhcmQgPT4gY2FyZC5zb3VyY2VGaWxlID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSk7XG59XG5wcml2YXRlIGNoZWNrRmlsdGVySGFzTm90ZXMobW9kZTogRmlsdGVyTW9kZSk6IGJvb2xlYW4ge1xuICAvLyBcdTUzRUFcdTU3MjhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdTRFMEJcdTY4QzBcdTY3RTVcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjZcbiAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgIT09ICdzaWRlYmFyJyB8fCAhdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgY29uc3QgdW5pdHMgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKVxuICAgIC5maWx0ZXIodSA9PiB1LnNvdXJjZS5maWxlID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSk7XG4gIFxuICBpZiAobW9kZSA9PT0gJ2FsbCcpIHtcbiAgICByZXR1cm4gdW5pdHMubGVuZ3RoID4gMDtcbiAgfSBlbHNlIGlmIChtb2RlID09PSAnYW5ub3RhdGVkJykge1xuICAgIHJldHVybiB1bml0cy5zb21lKHUgPT4gdS5hbm5vdGF0aW9uSWQpO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09ICdmbGFzaGNhcmRzJykge1xuICAgIHJldHVybiB1bml0cy5zb21lKHUgPT4gdS5mbGFzaGNhcmRJZHMubGVuZ3RoID4gMCk7XG4gIH1cbiAgXG4gIHJldHVybiB0cnVlO1xufVxuXG5wcml2YXRlIGNoZWNrR3JvdXBIYXNOb3Rlcyhtb2RlOiBHcm91cE1vZGUpOiBib29sZWFuIHtcbiAgLy8gXHU1M0VBXHU1NzI4XHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHU0RTBCXHU2OEMwXHU2N0U1XG4gIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlICE9PSAnc2lkZWJhcicgfHwgIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIGNvbnN0IHVuaXRzID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0QWxsQ29udGVudFVuaXRzKClcbiAgICAuZmlsdGVyKHUgPT4gdS5zb3VyY2UuZmlsZSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpO1xuICBcbiAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICBcbiAgaWYgKG1vZGUgPT09ICdmaWxlJykge1xuICAgIHJldHVybiB0cnVlOyAvLyBcdTY1ODdcdTRFRjZcdTUyMDZcdTdFQzRcdTU5Q0JcdTdFQzhcdTUzRUZcdTc1MjhcbiAgfSBlbHNlIGlmIChtb2RlID09PSAndGFnJykge1xuICAgIHJldHVybiB1bml0cy5zb21lKHUgPT4gdS5tZXRhZGF0YS50YWdzLmxlbmd0aCA+IDApO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09ICdkYXRlJykge1xuICAgIHJldHVybiB0cnVlOyAvLyBcdTY1RTVcdTY3MUZcdTUyMDZcdTdFQzRcdTU5Q0JcdTdFQzhcdTUzRUZcdTc1MjhcbiAgfSBlbHNlIGlmIChtb2RlID09PSAnYW5ub3RhdGlvbicpIHtcbiAgICByZXR1cm4gdW5pdHMuc29tZSh1ID0+IHUuYW5ub3RhdGlvbklkKTtcbiAgfVxuICBcbiAgcmV0dXJuIHRydWU7XG59XG4gIHByaXZhdGUgZ2V0R3JvdXBJY29uKCk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmdyb3VwTW9kZSkge1xuICAgICAgY2FzZSAnZmlsZSc6IHJldHVybiAnXHVEODNEXHVEQ0M0JztcbiAgICAgIGNhc2UgJ2Fubm90YXRpb24nOiByZXR1cm4gJ1x1RDgzRFx1RENBQyc7XG4gICAgICBjYXNlICd0YWcnOiByZXR1cm4gJ1x1RDgzQ1x1REZGN1x1RkUwRic7XG4gICAgICBjYXNlICdkYXRlJzogcmV0dXJuICdcdUQ4M0RcdURDQzUnO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdcdUQ4M0RcdURDQzEnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0RGF0ZShkYXRlOiBEYXRlIHwgbnVsbCk6IHN0cmluZyB7XG4gICAgaWYgKCFkYXRlKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicsIHtcbiAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgIG1vbnRoOiAnMi1kaWdpdCcsXG4gICAgICBkYXk6ICcyLWRpZ2l0J1xuICAgIH0pO1xuICBcbiAgfVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PSBcdTdCNDlcdTdFQTdcdTVGQkRcdTdBRTBcdTY2M0VcdTc5M0EgPT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTY2M0VcdTc5M0FcdTVCOENcdTY1NzRcdTc2ODRcdTdCNDlcdTdFQTdcdTVGQkRcdTdBRTBcbiAqIEx2MS00OiBcdTU5Q0JcdTdFQzhcdTY2M0VcdTc5M0FcbiAqIEx2NTogXHU4RkJFXHU2MjEwXHU1NDBFMzBcdTUyMDZcdTk0OUZcdTUxODVcdTY2M0VcdTc5M0FcdUZGMENcdTRFNEJcdTU0MEVcdTk2OTBcdTg1Q0ZcbiAqL1xucHJpdmF0ZSBzaG91bGRTaG93RnVsbExldmVsQmFkZ2UocHJvZ3Jlc3M6IFVubG9ja1Byb2dyZXNzKTogYm9vbGVhbiB7XG4gIGlmIChwcm9ncmVzcy5jdXJyZW50TGV2ZWwgPCA1KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIC8vIEx2NTogXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1NzI4MzBcdTUyMDZcdTk0OUZcdTUxODVcbiAgY29uc3QgbHY1VW5sb2NrZWRUaW1lID0gcHJvZ3Jlc3MubGV2ZWxVbmxvY2tlZEF0WzVdO1xuICBpZiAoIWx2NVVubG9ja2VkVGltZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgdGhpcnR5TWludXRlcyA9IDMwICogNjAgKiAxMDAwO1xuICByZXR1cm4gKG5vdyAtIGx2NVVubG9ja2VkVGltZSkgPCB0aGlydHlNaW51dGVzO1xufVxuXG4vKipcbiAqIFx1NkUzMlx1NjdEM1x1NUMwRlx1NTc4Qlx1N0I0OVx1N0VBN1x1NUZCRFx1N0FFMFx1RkYwOEx2NVx1NEUxM1x1NzUyOFx1RkYwOVxuICovXG5wcml2YXRlIHJlbmRlckxldmVsQmFkZ2UoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvZ3Jlc3M6IFVubG9ja1Byb2dyZXNzKTogdm9pZCB7XG4gIGNvbnN0IGxldmVsQmFkZ2UgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnbGV2ZWwtYmFkZ2UtaWNvbicgfSk7XG4gIFxuXG4gIGNvbnN0IGxldmVsTmFtZSA9IHRoaXMudChgbGV2ZWwuJHtwcm9ncmVzcy5jdXJyZW50TGV2ZWx9YCk7XG4gIGxldmVsQmFkZ2UudGV4dENvbnRlbnQgPSBgTHYke3Byb2dyZXNzLmN1cnJlbnRMZXZlbH1gO1xuICBsZXZlbEJhZGdlLnRpdGxlID0gYCR7dGhpcy50KCdsZXZlbC5jdXJyZW50Jyl9OiAke2xldmVsTmFtZX0gLSAke3RoaXMudCgnbGV2ZWwuY2xpY2tEZXRhaWxzJyl9YDtcbiAgXG4gIC8vIFx1NzBCOVx1NTFGQlx1NjYzRVx1NzkzQVx1N0I0OVx1N0VBN1x1OEJFNlx1NjBDNVxuICBsZXZlbEJhZGdlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbmV3IExldmVsSW5mb01vZGFsKHRoaXMuYXBwLCBwcm9ncmVzcywgdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtKS5vcGVuKCk7XG4gIH0pO1xufVxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTU5MERcdTRFNjBcdTY4QzBcdTY3RTUgPT09PT09PT09PT09PT09PT09PT1cbi8vIFx1NkJDRlx1NjVFNVx1NjNEMFx1OTE5Mlx1NTkwRFx1NEU2MFxuLy8gXHU2MjRCXHU1MkE4XHU4OUU2XHU1M0QxXHU1OTBEXHU0RTYwXHU2M0QwXHU5MTkyXHU2OEMwXHU2N0U1XG5wdWJsaWMgY2hlY2tSZXZpZXdSZW1pbmRlcigpOiB2b2lkIHtcbiAgY29uc3QgaXNEaXNtaXNzZWQgPSB0aGlzLmlzUmVtaW5kZXJEaXNtaXNzZWRUb2RheSgpO1xuICBcbiAgaWYgKGlzRGlzbWlzc2VkKSB7XG4gICAgLy8gXHU2NjNFXHU3OTNBXHU2M0QwXHU5MTkyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xlYXJuaW5nLXN5c3RlbS1yZW1pbmRlci1kaXNtaXNzZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBcdTk2OTBcdTg1Q0ZcdTYzRDBcdTkxOTJcbiAgICB0aGlzLm1hcmtSZW1pbmRlckRpc21pc3NlZCgpO1xuICB9XG4gIFxuICB0aGlzLnJlZnJlc2goKTtcbn1cblxuXG5cblxuXG5cblxucHJpdmF0ZSBzdGFydFJldmlldygpIHtcbiAgLy8gXHU2RkMwXHU2RDNCXHU1OTBEXHU0RTYwXHU4OUM2XHU1NkZFXG4gIHRoaXMucGx1Z2luLmFjdGl2YXRlUmV2aWV3KCk7XG59XG5cbnByaXZhdGUgbWFya1JlbWluZGVyRGlzbWlzc2VkKCkge1xuICAvLyBcdTRGRERcdTVCNThcdTRFQ0FcdTU5MjlcdTVERjJcdTVGRkRcdTc1NjVcdTc2ODRcdTcyQjZcdTYwMDEoXHU1M0VGXHU5MDA5XHU1MjlGXHU4MEZEKVxuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9EYXRlU3RyaW5nKCk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsZWFybmluZy1zeXN0ZW0tcmVtaW5kZXItZGlzbWlzc2VkJywgdG9kYXkpO1xufVxuXG5wcml2YXRlIGlzUmVtaW5kZXJEaXNtaXNzZWRUb2RheSgpOiBib29sZWFuIHtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpO1xuICBjb25zdCBkaXNtaXNzZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGVhcm5pbmctc3lzdGVtLXJlbWluZGVyLWRpc21pc3NlZCcpO1xuICByZXR1cm4gZGlzbWlzc2VkID09PSB0b2RheTtcbn1cbnByaXZhdGUgaW5zZXJ0UmV2aWV3UmVtaW5kZXJBdFRvcChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gIGlmICh0aGlzLmlzUmVtaW5kZXJEaXNtaXNzZWRUb2RheSgpKSByZXR1cm47XG4gIFxuICAvLyBcdTJCNTAgXHU3NkY0XHU2M0E1XHU0RUNFIEZsYXNoY2FyZE1hbmFnZXIgXHU4M0I3XHU1M0Q2XHU1QjlFXHU5NjQ1XHU2NTcwXHU5MUNGXG4gIGNvbnN0IGR1ZUNvdW50ID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXREdWVDYXJkcygpLmxlbmd0aDtcbiAgXG4gIGlmIChkdWVDb3VudCA9PT0gMCkgcmV0dXJuO1xuICBcbiAgY29uc3QgYmFubmVyID0gdGhpcy5jcmVhdGVSZXZpZXdCYW5uZXIoZHVlQ291bnQpO1xuICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGJhbm5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIC8vIFx1NTcyOCBiYW5uZXIgXHU1NDBFXHU5NzYyXHU2REZCXHU1MkEwXHU3QjJDXHU0RThDXHU2NzYxXHU1MjA2XHU5Njk0XHU3RUJGXG4gICAgY29uc3QgZGl2aWRlcjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZpZGVyMi5jbGFzc05hbWUgPSAncmV2aWV3LWRpdmlkZXInO1xuICAgIGRpdmlkZXIyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGRpdmlkZXIyLnN0eWxlLmhlaWdodCA9ICcxcHgnO1xuICAgIGRpdmlkZXIyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknO1xuICAgIGRpdmlkZXIyLnN0eWxlLm1hcmdpbiA9ICcxMnB4IDAnO1xuICAgIFxuICAgIGlmIChiYW5uZXIubmV4dFNpYmxpbmcpIHtcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoZGl2aWRlcjIsIGJhbm5lci5uZXh0U2libGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZpZGVyMik7XG4gICAgfVxufVxuXG5cblxucHJpdmF0ZSBjcmVhdGVSZXZpZXdCYW5uZXIoY291bnQ6IG51bWJlcik6IEhUTUxFbGVtZW50IHtcbiAgY29uc3QgYmFubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGJhbm5lci5jbGFzc05hbWUgPSAnY29udGVudC1saXN0LXJldmlldy1yZW1pbmRlcic7XG4gIFxuICAvLyBcdTJCNTAgXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU1Rjg1XHU1OTBEXHU0RTYwXHU3Njg0XHU1MzYxXHU3MjQ3XG4gIGNvbnN0IGR1ZUNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXREdWVDYXJkcygpO1xuICBjb25zdCBhY3R1YWxEdWVDb3VudCA9IGR1ZUNhcmRzLmxlbmd0aDtcbiAgXG4gIC8vIFx1MkI1MCBcdTZCNjNcdTc4NkVcdTc2ODRcdTkwM0JcdThGOTFcdUZGMUFcdThCQTFcdTdCOTdcdTRFQ0FcdTU5MjlcdTc2ODRcdTU5MERcdTRFNjBcdTRFRkJcdTUyQTFcdTYwM0JcdTY1NzBcbiAgLy8gXHU0RUNBXHU1OTI5XHU1OTBEXHU0RTYwXHU4RkM3XHU3Njg0XHU1MzYxXHU3MjQ3ID0gXHU0RUNBXHU1OTI5XHU1OTBEXHU0RTYwXHU4RkM3XHU0RTE0XHU0RUNBXHU1OTI5XHU1MjMwXHU2NzFGXHU3Njg0XHU1MzYxXHU3MjQ3XG4gIGNvbnN0IGFsbENhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgXG4gIC8vIFx1ODNCN1x1NTNENlx1NEVDQVx1NTkyOVx1NTIzMFx1NjcxRlx1NzY4NFx1NjI0MFx1NjcwOVx1NTM2MVx1NzI0N0lEXHVGRjA4XHU1MzA1XHU2MkVDXHU1REYyXHU1OTBEXHU0RTYwXHU1NDhDXHU2NzJBXHU1OTBEXHU0RTYwXHVGRjA5XG4gIGNvbnN0IHRvZGF5RHVlQ2FyZElkcyA9IG5ldyBTZXQoXG4gICAgYWxsQ2FyZHNcbiAgICAgIC5maWx0ZXIoY2FyZCA9PiB7XG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBuZXcgRGF0ZShjYXJkLnNjaGVkdWxpbmcuZHVlKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIGR1ZURhdGUgPD0gdG9kYXk7XG4gICAgICB9KVxuICAgICAgLm1hcChjYXJkID0+IGNhcmQuaWQpXG4gICk7XG4gIFxuICAvLyBcdTdFREZcdThCQTFcdTRFQ0FcdTU5MjlcdTVERjJcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDdcdUZGMDhcdTRFMTRcdTVDNUVcdTRFOEVcdTRFQ0FcdTU5MjlcdTc2ODRcdTRFRkJcdTUyQTFcdUZGMDlcbiAgY29uc3QgcmV2aWV3ZWRUb2RheSA9IGFsbENhcmRzLmZpbHRlcihjYXJkID0+IHtcbiAgICBpZiAoIWNhcmQuc3RhdHMubGFzdFJldmlldykgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGxhc3RSZXZpZXdEYXRlID0gbmV3IERhdGUoY2FyZC5zdGF0cy5sYXN0UmV2aWV3KS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICByZXR1cm4gbGFzdFJldmlld0RhdGUgPT09IHRvZGF5ICYmIHRvZGF5RHVlQ2FyZElkcy5oYXMoY2FyZC5pZCk7XG4gIH0pLmxlbmd0aDtcbiAgXG4gIC8vIFx1MkI1MCBcdTRFQ0FcdTU5MjlcdTc2ODRcdTYwM0JcdTRFRkJcdTUyQTFcdTY1NzAgPSBcdTVERjJcdTVCOENcdTYyMTAgKyBcdTVGODVcdTVCOENcdTYyMTBcbiAgY29uc3QgdG90YWxUb2RheSA9IHJldmlld2VkVG9kYXkgKyBhY3R1YWxEdWVDb3VudDtcbiAgY29uc3QgcHJvZ3Jlc3NQZXJjZW50ID0gdG90YWxUb2RheSA+IDAgPyBNYXRoLnJvdW5kKChyZXZpZXdlZFRvZGF5IC8gdG90YWxUb2RheSkgKiAxMDApIDogMDtcbiAgXG4gIC8vIFx1OEJBMVx1N0I5N1x1NjcwMFx1N0QyN1x1NjAyNVx1NzY4NFx1NTM2MVx1NzI0N1x1NUVGNlx1NTQwRVx1NjVGNlx1OTVGNFxuICBjb25zdCBtb3N0VXJnZW50ID0gZHVlQ2FyZHMubGVuZ3RoID4gMCBcbiAgICA/IGR1ZUNhcmRzLnJlZHVjZSgoZWFybGllc3QsIGNhcmQpID0+IFxuICAgICAgICBjYXJkLnNjaGVkdWxpbmcuZHVlIDwgZWFybGllc3QgPyBjYXJkLnNjaGVkdWxpbmcuZHVlIDogZWFybGllc3RcbiAgICAgICwgRGF0ZS5ub3coKSlcbiAgICA6IERhdGUubm93KCk7XG4gIGNvbnN0IGhvdXJzU2luY2VEdWUgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gbW9zdFVyZ2VudCkgLyAoMTAwMCAqIDYwICogNjApKTtcbiAgXG4gIC8vIFx1ODNCN1x1NTNENlx1NUVGNlx1NTQwRVx1NjNEMFx1NzkzQVx1NjU4N1x1NjcyQ1xuICBjb25zdCBkZWxheVRleHQgPSB0aGlzLmdldERlbGF5VGV4dChob3Vyc1NpbmNlRHVlKTtcbiAgXG4gIC8vIFx1ODNCN1x1NTNENlx1OEZERVx1N0VFRFx1NTkwRFx1NEU2MFx1NTkyOVx1NjU3MFxuICBjb25zdCBzdHJlYWtEYXlzID0gdGhpcy5nZXRSZXZpZXdTdHJlYWsoKTtcbiAgXG4gIGJhbm5lci5pbm5lckhUTUwgPSBgXG4gIDxkaXYgY2xhc3M9XCJyZW1pbmRlci1oZWFkZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwicmVtaW5kZXItdGV4dFwiPlxuICAgICAgPHN0cm9uZz5cdTRFQ0FcdTY1RTVcdTU5MERcdTRFNjA6JHtyZXZpZXdlZFRvZGF5fSAvICR7dG90YWxUb2RheX08L3N0cm9uZz4gIFxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgXG4gIDxkaXYgY2xhc3M9XCJyZW1pbmRlci1zdGF0c1wiPlxuICAgIDxkaXYgY2xhc3M9XCJzdGF0LWl0ZW0gZGVsYXktd2FybmluZ1wiPlxuICAgICAgJHtkZWxheVRleHR9XG4gICAgPC9kaXY+XG4gICAgJHtzdHJlYWtEYXlzID4gMCA/IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWl0ZW0gc3RyZWFrLWluZm9cIj5cbiAgICAgICAgXHVEODNEXHVERDI1IFx1OEZERVx1N0VFRFx1NTkwRFx1NEU2MFx1N0IyQyAke3N0cmVha0RheXN9IFx1NTkyOSFcbiAgICAgIDwvZGl2PlxuICAgIGAgOiAnJ31cbiAgPC9kaXY+XG4gIFxuICA8ZGl2IGNsYXNzPVwicmVtaW5kZXItYWN0aW9uc1wiPlxuICAgIDxidXR0b24gY2xhc3M9XCJyZW1pbmRlci1idG4gcHJpbWFyeVwiPlx1NUYwMFx1NTlDQlx1NTkwRFx1NEU2MDwvYnV0dG9uPlxuICA8L2Rpdj5cbmA7XG5cbi8vIFx1OEJCRVx1N0Y2RVx1NUI1N1x1NEY1M1x1NTkyN1x1NUMwRlxuYmFubmVyLnN0eWxlLmZvbnRTaXplID0gJzAuODVlbSc7XG4vLyBcdThCQkVcdTdGNkVcdTYzMDlcdTk0QUVcdTVDNDVcdTRFMkRcbmNvbnN0IGFjdGlvbnMgPSBiYW5uZXIucXVlcnlTZWxlY3RvcignLnJlbWluZGVyLWFjdGlvbnMnKSBhcyBIVE1MRWxlbWVudDtcbmlmIChhY3Rpb25zKSB7XG4gIGFjdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgYWN0aW9ucy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xufVxuICBcbiAgYmFubmVyLnF1ZXJ5U2VsZWN0b3IoJy5wcmltYXJ5JykhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zdGFydFJldmlldygpO1xuICAgIGJhbm5lci5yZW1vdmUoKTtcbiAgICB0aGlzLm1hcmtSZW1pbmRlckRpc21pc3NlZCgpO1xuICB9KTtcbiAgXG4gIHJldHVybiBiYW5uZXI7XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENSAxOiBcdTgzQjdcdTUzRDZcdTVFRjZcdTU0MEVcdTYzRDBcdTc5M0FcdTY1ODdcdTY3MkNcbnByaXZhdGUgZ2V0RGVsYXlUZXh0KGhvdXJzU2luY2VEdWU6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChob3Vyc1NpbmNlRHVlIDwgMSkge1xuICAgIHJldHVybiBcIlx1MjNGMCBcdTUyMUFcdTUyMUFcdTUyMzBcdTY3MUZcdUZGMENcdThEODFcdTcwRURcdTU5MERcdTRFNjBcIjtcbiAgfSBlbHNlIGlmIChob3Vyc1NpbmNlRHVlIDwgNikge1xuICAgIHJldHVybiBgXHUyNkEwXHVGRTBGIFx1NTkwRFx1NEU2MFx1NURGMlx1NUVGNlx1NTQwRSAke2hvdXJzU2luY2VEdWV9IFx1NUMwRlx1NjVGNlx1RkYwQ1x1NzNCMFx1NTcyOFx1NTkwNFx1NzQwNlx1NTIxQVx1NTk3RGA7XG4gIH0gZWxzZSBpZiAoaG91cnNTaW5jZUR1ZSA8IDI0KSB7XG4gICAgcmV0dXJuIGBcdTI2QTBcdUZFMEYgXHU1OTBEXHU0RTYwXHU1REYyXHU1RUY2XHU1NDBFICR7aG91cnNTaW5jZUR1ZX0gXHU1QzBGXHU2NUY2XHVGRjBDXHU1RUZBXHU4QkFFXHU0RjE4XHU1MTQ4XHU1QjhDXHU2MjEwYDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihob3Vyc1NpbmNlRHVlIC8gMjQpO1xuICAgIHJldHVybiBgXHVEODNEXHVERUE4IFx1NTkwRFx1NEU2MFx1NURGMlx1NUVGNlx1NTQwRSAke2RheXN9IFx1NTkyOVx1RkYwQ1x1NUVGQVx1OEJBRVx1NUMzRFx1NUZFQlx1NkUwNVx1N0E3QWA7XG4gIH1cbn1cblxuLy8gXHU2NUIwXHU1ODlFXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1IDI6IFx1ODNCN1x1NTNENlx1OEZERVx1N0VFRFx1NTkwRFx1NEU2MFx1NTkyOVx1NjU3MFxucHJpdmF0ZSBnZXRSZXZpZXdTdHJlYWsoKTogbnVtYmVyIHtcbiAgY29uc3QgYWxsQ2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgXG4gIC8vIFx1NjMwOVx1NjVFNVx1NjcxRlx1NTIwNlx1N0VDNFx1N0VERlx1OEJBMVx1NTkwRFx1NEU2MFx1OEJCMFx1NUY1NVxuICBjb25zdCByZXZpZXdEYXRlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBhbGxDYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgIGlmIChjYXJkLnN0YXRzLmxhc3RSZXZpZXcpIHtcbiAgICAgIGNvbnN0IGRhdGVTdHIgPSBuZXcgRGF0ZShjYXJkLnN0YXRzLmxhc3RSZXZpZXcpXG4gICAgICAgIC50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJyk7XG4gICAgICByZXZpZXdEYXRlcy5hZGQoZGF0ZVN0cik7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIFx1OEJBMVx1N0I5N1x1OEZERVx1N0VFRFx1NTkyOVx1NjU3MFxuICBsZXQgc3RyZWFrID0gMDtcbiAgbGV0IGNoZWNrRGF0ZSA9IG5ldyBEYXRlKCk7XG4gIFxuICB3aGlsZSAoc3RyZWFrIDwgMzY1KSB7IC8vIFx1NjcwMFx1NTkxQVx1NjhDMFx1NjdFNVx1NEUwMFx1NUU3NFxuICAgIGNvbnN0IGRhdGVTdHIgPSBjaGVja0RhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicpO1xuICAgIGlmIChyZXZpZXdEYXRlcy5oYXMoZGF0ZVN0cikpIHtcbiAgICAgIHN0cmVhaysrO1xuICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSAtIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBzdHJlYWs7XG59XG5wcml2YXRlIHQoa2V5OiBzdHJpbmcsIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4pOiBzdHJpbmcge1xuICByZXR1cm4gdChrZXksIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlLCBwYXJhbXMpO1xufVxufSIsICIvLyBzcmMvdWkvc3RhdGUvVmlld1N0YXRlLnRzXG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkICxGbGFzaGNhcmRNYW5hZ2VyfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuXG5leHBvcnQgdHlwZSBGaWx0ZXJNb2RlID0gJ2FsbCcgfCAnYW5ub3RhdGVkJyB8ICdmbGFzaGNhcmRzJztcbmV4cG9ydCB0eXBlIERpc3BsYXlNb2RlID0gJ3NpZGViYXInIHwgJ21haW4nO1xuZXhwb3J0IHR5cGUgR3JvdXBNb2RlID0gJ2ZpbGUnIHwgJ2Fubm90YXRpb24nIHwgJ3RhZycgfCAnZGF0ZSc7XG5leHBvcnQgdHlwZSBWaWV3VHlwZSA9ICdub3RlcycgfCAnY2FyZHMnO1xuXG5leHBvcnQgY2xhc3MgVmlld1N0YXRlIHtcbiAgLy8gXHU2NjNFXHU3OTNBXHU3MkI2XHU2MDAxXG4gIGZvcmNlTWFpbk1vZGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZGlzcGxheU1vZGU6IERpc3BsYXlNb2RlID0gJ3NpZGViYXInO1xuICB2aWV3VHlwZTogVmlld1R5cGUgPSAnbm90ZXMnO1xuICBcbiAgLy8gXHU4RkM3XHU2RUU0XHU1NDhDXHU1MjA2XHU3RUM0XG4gIHNlYXJjaFF1ZXJ5OiBzdHJpbmcgPSAnJztcbiAgZmlsdGVyTW9kZTogRmlsdGVyTW9kZSA9ICdhbGwnO1xuICBncm91cE1vZGU6IEdyb3VwTW9kZSA9ICdmaWxlJztcbiAgc2VsZWN0ZWRGaWxlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgXG4gIC8vIFx1NjI3OVx1OTFDRlx1NjRDRFx1NEY1Q1xuICBiYXRjaE1vZGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc2VsZWN0ZWRVbml0SWRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgc2VsZWN0ZWRDYXJkSWRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgXG4gIC8vIFVJXHU3MkI2XHU2MDAxXG4gIGFjdGl2ZU1lbnVJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHNhdmVkU2Nyb2xsUG9zaXRpb246IG51bWJlciA9IDA7XG4gIHNob3VsZFJlc3RvcmVTY3JvbGw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgXG4gIC8vIFx1NjAyN1x1ODBGRFx1NEYxOFx1NTMxNlxuICBzZWFyY2hEZWJvdW5jZVRpbWVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgaXNSZW5kZXJpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8vIFx1NkRGQlx1NTJBMFx1N0YxM1x1NUI1OFxuICAgIGR1ZUZsYXNoY2FyZHNDb3VudDogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3Rvcihmb3JjZU1haW5Nb2RlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICB0aGlzLmZvcmNlTWFpbk1vZGUgPSBmb3JjZU1haW5Nb2RlO1xuICAgIHRoaXMuZGlzcGxheU1vZGUgPSBmb3JjZU1haW5Nb2RlID8gJ21haW4nIDogJ3NpZGViYXInO1xuICAgIFxuICB9XG5cbiAgLy8gXHU3MkI2XHU2MDAxXHU5MUNEXHU3RjZFXHU2NUI5XHU2Q0Q1XG4gIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgIHRoaXMuc2VsZWN0ZWRVbml0SWRzLmNsZWFyKCk7XG4gICAgdGhpcy5zZWxlY3RlZENhcmRJZHMuY2xlYXIoKTtcbiAgICB0aGlzLmJhdGNoTW9kZSA9IGZhbHNlO1xuICB9XG4vLyBcdTUyMDdcdTYzNjJcdTYyNzlcdTkxQ0ZcdTZBMjFcdTVGMEZcbiAgdG9nZ2xlQmF0Y2hNb2RlKCk6IHZvaWQge1xuICAgIHRoaXMuYmF0Y2hNb2RlID0gIXRoaXMuYmF0Y2hNb2RlO1xuICAgIGlmICghdGhpcy5iYXRjaE1vZGUpIHtcbiAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH1cbiAgLy8gXHU2NDFDXHU3RDIyXHU3NkY4XHU1MTczXG4gIHNldFNlYXJjaFF1ZXJ5KHF1ZXJ5OiBzdHJpbmcpIHtcbiAgICB0aGlzLnNlYXJjaFF1ZXJ5ID0gcXVlcnk7XG4gIH1cblxuICAvLyBcdThGQzdcdTZFRTRcdTU2NjhcdTUyMDdcdTYzNjJcbiAgc2V0RmlsdGVyTW9kZShtb2RlOiBGaWx0ZXJNb2RlKSB7XG4gICAgaWYgKHRoaXMuZmlsdGVyTW9kZSAhPT0gbW9kZSkge1xuICAgICAgdGhpcy5maWx0ZXJNb2RlID0gbW9kZTtcbiAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBcdTUyMDZcdTdFQzRcdTZBMjFcdTVGMEZcdTUyMDdcdTYzNjJcbiAgc2V0R3JvdXBNb2RlKG1vZGU6IEdyb3VwTW9kZSkge1xuICAgIGlmICh0aGlzLmdyb3VwTW9kZSAhPT0gbW9kZSkge1xuICAgICAgdGhpcy5ncm91cE1vZGUgPSBtb2RlO1xuICAgICAgaWYgKHRoaXMuZGlzcGxheU1vZGUgIT09ICdzaWRlYmFyJykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkRmlsZSA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gXHU4OUM2XHU1NkZFXHU3QzdCXHU1NzhCXHU1MjA3XHU2MzYyXG4gIHNldFZpZXdUeXBlKHR5cGU6IFZpZXdUeXBlKSB7XG4gICAgaWYgKHRoaXMudmlld1R5cGUgIT09IHR5cGUpIHtcbiAgICAgIHRoaXMudmlld1R5cGUgPSB0eXBlO1xuICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBudWxsO1xuICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFx1NjI3OVx1OTFDRlx1OTAwOVx1NjJFOVxuICB0b2dnbGVVbml0U2VsZWN0aW9uKHVuaXRJZDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRVbml0SWRzLmhhcyh1bml0SWQpKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkVW5pdElkcy5kZWxldGUodW5pdElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RlZFVuaXRJZHMuYWRkKHVuaXRJZCk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlQ2FyZFNlbGVjdGlvbihjYXJkSWQ6IHN0cmluZykge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkQ2FyZElkcy5oYXMoY2FyZElkKSkge1xuICAgICAgdGhpcy5zZWxlY3RlZENhcmRJZHMuZGVsZXRlKGNhcmRJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRDYXJkSWRzLmFkZChjYXJkSWQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFx1NTE2OFx1OTAwOVx1OTAzQlx1OEY5MVxuICBzZWxlY3RBbGxVbml0cyh1bml0czogQ29udGVudFVuaXRbXSkge1xuICAgIHVuaXRzLmZvckVhY2godW5pdCA9PiB0aGlzLnNlbGVjdGVkVW5pdElkcy5hZGQodW5pdC5pZCkpO1xuICAgIHRoaXMuYmF0Y2hNb2RlID0gdHJ1ZTtcbiAgfVxuXG4gIHNlbGVjdEFsbENhcmRzKGNhcmRzOiBGbGFzaGNhcmRbXSkge1xuICAgIGNhcmRzLmZvckVhY2goY2FyZCA9PiB0aGlzLnNlbGVjdGVkQ2FyZElkcy5hZGQoY2FyZC5pZCkpO1xuICAgIHRoaXMuYmF0Y2hNb2RlID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFx1NTNENlx1NkQ4OFx1NTE2OFx1OTAwOVxuICBkZXNlbGVjdEFsbFVuaXRzKHVuaXRzOiBDb250ZW50VW5pdFtdKSB7XG4gICAgdW5pdHMuZm9yRWFjaCh1bml0ID0+IHRoaXMuc2VsZWN0ZWRVbml0SWRzLmRlbGV0ZSh1bml0LmlkKSk7XG4gIH1cblxuICBkZXNlbGVjdEFsbENhcmRzKGNhcmRzOiBGbGFzaGNhcmRbXSkge1xuICAgIGNhcmRzLmZvckVhY2goY2FyZCA9PiB0aGlzLnNlbGVjdGVkQ2FyZElkcy5kZWxldGUoY2FyZC5pZCkpO1xuICB9XG5cbiAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU1MTY4XHU5MDA5XG4gIGlzQWxsU2VsZWN0ZWQoaXRlbXM6IENvbnRlbnRVbml0W10gfCBGbGFzaGNhcmRbXSk6IGJvb2xlYW4ge1xuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBpZiAodGhpcy52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgcmV0dXJuIChpdGVtcyBhcyBGbGFzaGNhcmRbXSkuZXZlcnkoY2FyZCA9PiBcbiAgICAgICAgdGhpcy5zZWxlY3RlZENhcmRJZHMuaGFzKGNhcmQuaWQpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKGl0ZW1zIGFzIENvbnRlbnRVbml0W10pLmV2ZXJ5KHVuaXQgPT4gXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRVbml0SWRzLmhhcyh1bml0LmlkKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBcdTgzQjdcdTUzRDZcdTkwMDlcdTRFMkRcdTY1NzBcdTkxQ0ZcbiAgZ2V0U2VsZWN0ZWRDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZpZXdUeXBlID09PSAnY2FyZHMnIFxuICAgICAgPyB0aGlzLnNlbGVjdGVkQ2FyZElkcy5zaXplIFxuICAgICAgOiB0aGlzLnNlbGVjdGVkVW5pdElkcy5zaXplO1xuICB9XG5cbiAgLy8gXHU1OTBEXHU0RTYwXHU2M0QwXHU5MTkyXG4gIHVwZGF0ZUR1ZUNvdW50KGZsYXNoY2FyZE1hbmFnZXI6IEZsYXNoY2FyZE1hbmFnZXIpOiB2b2lkIHtcbiAgICB0aGlzLmR1ZUZsYXNoY2FyZHNDb3VudCA9IGZsYXNoY2FyZE1hbmFnZXIuZ2V0RHVlQ2FyZHMoKS5sZW5ndGg7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvVG9vbGJhci50cyAgXHU1REU1XHU1MTc3XHU2ODBGXHU3RUM0XHU0RUY2XG5pbXBvcnQgeyBWaWV3U3RhdGUsIEZpbHRlck1vZGUsIEdyb3VwTW9kZSB9IGZyb20gJy4uL3N0YXRlL1ZpZXdTdGF0ZSc7XG5pbXBvcnQgeyB0LCBMYW5ndWFnZSB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGNsYXNzIFRvb2xiYXIge1xuICBwcml2YXRlIHN0YXRlOiBWaWV3U3RhdGU7XG4gIHByaXZhdGUgb25TZWFyY2hDaGFuZ2U6IChxdWVyeTogc3RyaW5nKSA9PiB2b2lkO1xuICBwcml2YXRlIG9uRmlsdGVyQ2hhbmdlOiAobW9kZTogRmlsdGVyTW9kZSkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBvbkdyb3VwQ2hhbmdlOiAobW9kZTogR3JvdXBNb2RlKSA9PiB2b2lkO1xuICBwcml2YXRlIG9uQ2hlY2tSZXZpZXc/OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIGxhbmd1YWdlOiBMYW5ndWFnZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzdGF0ZTogVmlld1N0YXRlLFxuICAgIGNhbGxiYWNrczoge1xuICAgICAgb25TZWFyY2hDaGFuZ2U6IChxdWVyeTogc3RyaW5nKSA9PiB2b2lkO1xuICAgICAgb25GaWx0ZXJDaGFuZ2U6IChtb2RlOiBGaWx0ZXJNb2RlKSA9PiB2b2lkO1xuICAgICAgb25Hcm91cENoYW5nZTogKG1vZGU6IEdyb3VwTW9kZSkgPT4gdm9pZDtcbiAgICAgIG9uQ2hlY2tSZXZpZXc/OiAoKSA9PiB2b2lkOyBcbiAgICAgIGNoZWNrRmlsdGVySGFzTm90ZXM/OiAobW9kZTogRmlsdGVyTW9kZSkgPT4gYm9vbGVhbjtcbiAgICAgIGNoZWNrR3JvdXBIYXNOb3Rlcz86IChtb2RlOiBHcm91cE1vZGUpID0+IGJvb2xlYW47XG4gICAgfSxcbiAgICBsYW5ndWFnZTogTGFuZ3VhZ2UgPSAnZW4nIFxuICApIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5vblNlYXJjaENoYW5nZSA9IGNhbGxiYWNrcy5vblNlYXJjaENoYW5nZTtcbiAgICB0aGlzLm9uRmlsdGVyQ2hhbmdlID0gY2FsbGJhY2tzLm9uRmlsdGVyQ2hhbmdlO1xuICAgIHRoaXMub25Hcm91cENoYW5nZSA9IGNhbGxiYWNrcy5vbkdyb3VwQ2hhbmdlO1xuICAgIHRoaXMub25DaGVja1JldmlldyA9IGNhbGxiYWNrcy5vbkNoZWNrUmV2aWV3OyBcbiAgICB0aGlzLmNoZWNrRmlsdGVySGFzTm90ZXMgPSBjYWxsYmFja3MuY2hlY2tGaWx0ZXJIYXNOb3RlcztcbiAgICB0aGlzLmNoZWNrR3JvdXBIYXNOb3RlcyA9IGNhbGxiYWNrcy5jaGVja0dyb3VwSGFzTm90ZXM7XG4gIFxuICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgfVxuICBwcml2YXRlIGNoZWNrRmlsdGVySGFzTm90ZXM/OiAobW9kZTogRmlsdGVyTW9kZSkgPT4gYm9vbGVhbjtcbiAgcHJpdmF0ZSBjaGVja0dyb3VwSGFzTm90ZXM/OiAobW9kZTogR3JvdXBNb2RlKSA9PiBib29sZWFuO1xuXG4gIHByaXZhdGUgdChrZXk6IHN0cmluZywgcGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHQoa2V5LCB0aGlzLmxhbmd1YWdlLCBwYXJhbXMpO1xuICB9XG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTRGQTdcdThGQjlcdTY4MEZcdTVERTVcdTUxNzdcdTY4MEZcbiAgICovXG4gIHJlbmRlclNpZGViYXJUb29sYmFyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgdG9vbGJhciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzaWRlYmFyLXRvb2xiYXInIH0pO1xuICAgIFxuICAgIHRoaXMucmVuZGVyU2VhcmNoQm94KHRvb2xiYXIpO1xuICAgIHRoaXMucmVuZGVyRmlsdGVyQ2hpcHModG9vbGJhcik7XG4gICAgdGhpcy5yZW5kZXJHcm91cFN3aXRjaGVyKHRvb2xiYXIpO1xuICAgIHRoaXMucmVuZGVyU3RhdHNSb3codG9vbGJhcik7XG4gICAgXG4gICAgcmV0dXJuIHRvb2xiYXI7XG4gIH1cblxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU0RTNCXHU3NTRDXHU5NzYyXHU1REU1XHU1MTc3XHU2ODBGXG4gICAqL1xuICByZW5kZXJNYWluVG9vbGJhcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IHRvb2xiYXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnbWFpbi10b29sYmFyJyB9KTtcbiAgICBcbiAgICB0aGlzLnJlbmRlclNlYXJjaEJveCh0b29sYmFyLCB0cnVlKTtcbiAgICB0aGlzLnJlbmRlckdyb3VwU3dpdGNoZXIodG9vbGJhciwgdHJ1ZSk7XG4gICAgXG4gICAgcmV0dXJuIHRvb2xiYXI7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclNlYXJjaEJveChjb250YWluZXI6IEhUTUxFbGVtZW50LCBpc01haW4gPSBmYWxzZSk6IHZvaWQge1xuICAgIGNvbnN0IHNlYXJjaENvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzZWFyY2gtY29udGFpbmVyJyB9KTtcbiAgICBcbiAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNlYXJjaENvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBwbGFjZWhvbGRlcjogdGhpcy50KCd0b29sYmFyLnNlYXJjaCcpLCBcbiAgICAgIGNsczogaXNNYWluID8gJ3NlYXJjaC1pbnB1dC1tYWluJyA6ICdzZWFyY2gtaW5wdXQnXG4gICAgfSk7XG4gICAgXG4gICAgc2VhcmNoSW5wdXQudmFsdWUgPSB0aGlzLnN0YXRlLnNlYXJjaFF1ZXJ5O1xuICAgIFxuICAgIC8vID09PT09PT09PT0gXHU3MTI2XHU3MEI5XHU3QkExXHU3NDA2ID09PT09PT09PT1cbiAgICBcbiAgICAvLyBcdTYzNTVcdTgzQjdcdTk2MzZcdTZCQjVcdTYyRTZcdTYyMkFcbiAgICBzZWFyY2hDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgdHJ1ZSk7XG4gICAgXG4gICAgLy8gbW91c2V1cCBcdTY1RjZcdTVGM0FcdTUyMzZcdTgwNUFcdTcxMjZcbiAgICBzZWFyY2hDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2VhcmNoSW5wdXQuZm9jdXMoKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBjbGljayBcdTRFOEJcdTRFRjZcdTRFNUZcdTYyRTZcdTYyMkFcbiAgICBzZWFyY2hDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTUxNzZcdTRFRDZcdTRFOEJcdTRFRjZcbiAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgdmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICB0aGlzLm9uU2VhcmNoQ2hhbmdlKHZhbHVlKTtcbiAgICB9KTtcbiAgICBcbiAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2VhcmNoSW5wdXQuc2VsZWN0KCk7XG4gICAgfSk7XG4gICAgXG4gICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHNlYXJjaElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMub25TZWFyY2hDaGFuZ2UoJycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHByaXZhdGUgcmVuZGVyRmlsdGVyQ2hpcHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGZpbHRlcnMgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZmlsdGVyLWNoaXBzJyB9KTtcbiAgICBcbiAgICBjb25zdCBmaWx0ZXJPcHRpb25zOiBBcnJheTx7IG1vZGU6IEZpbHRlck1vZGU7IGljb246IHN0cmluZzsgbGFiZWw6IHN0cmluZyA7dG9vbHRpcDpzdHJpbmd9PiA9IFtcbiAgICAgIFxuICAgICAgeyBtb2RlOiAnYWxsJywgaWNvbjogJ1x1RDgzRFx1RENERCcsIGxhYmVsOiAnbm90ZXMnLHRvb2x0aXA6J2FsbE5vdGVzJyB9LFxuICAgICAgeyBtb2RlOiAnYW5ub3RhdGVkJywgaWNvbjogJ1x1RDgzRFx1RENBQycsIGxhYmVsOiAnYW5ub3RhdGVkJyAsdG9vbHRpcDonYW5ub3RhdGVkJyB9LFxuICAgICAgeyBtb2RlOiAnZmxhc2hjYXJkcycsIGljb246ICdcdUQ4M0NcdURDQ0YnLCBsYWJlbDogJ2ZsYXNoY2FyZHMnLHRvb2x0aXA6J2ZsYXNoY2FyZHMnIH1cbiAgICBdO1xuXG4gICAgZmlsdGVyT3B0aW9ucy5mb3JFYWNoKCh7IG1vZGUsIGljb24sIGxhYmVsICx0b29sdGlwfSkgPT4ge1xuICAgIGNvbnN0IGhhc05vdGVzID0gdGhpcy5jaGVja0ZpbHRlckhhc05vdGVzID8gdGhpcy5jaGVja0ZpbHRlckhhc05vdGVzKG1vZGUpIDogdHJ1ZTtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHRoaXMuc3RhdGUuZmlsdGVyTW9kZSA9PT0gbW9kZTtcbiAgICBcbiAgICBjb25zdCBjaGlwID0gZmlsdGVycy5jcmVhdGVEaXYoe1xuICAgICAgY2xzOiBgZmlsdGVyLWNoaXAgJHtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogJyd9ICR7IWhhc05vdGVzID8gJ2Rpc2FibGVkJyA6ICcnfWAsXG4gICAgICB0ZXh0OiBgJHtpY29ufWAsXG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1OEJCRVx1N0Y2RVx1NjNEMFx1NzkzQVx1NjU4N1x1NjcyQ1xuICAgIGlmICghaGFzTm90ZXMpIHtcbiAgICAgIGNoaXAuc2V0QXR0cmlidXRlKCd0aXRsZScsICdObyBub3RlcyBvZiB0aGlzIHR5cGUgaW4gdGhlIGN1cnJlbnQgZmlsZScpO1xuICAgICAgY2hpcC5zdHlsZS5vcGFjaXR5ID0gJzAuNCc7XG4gICAgICBjaGlwLnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoaXAuc2V0QXR0cmlidXRlKCd0aXRsZScsIHRvb2x0aXApO1xuICAgIH1cbiAgICBcbiAgICBjaGlwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5vbkZpbHRlckNoYW5nZShtb2RlKTtcbiAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyR3JvdXBTd2l0Y2hlcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBpc01haW4gPSBmYWxzZSk6IHZvaWQge1xuICAgIGNvbnN0IGdyb3VwU3dpdGNoZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgXG4gICAgICBjbHM6IGlzTWFpbiA/ICdncm91cC1zd2l0Y2hlci1tYWluJyA6ICdncm91cC1zd2l0Y2hlcicgXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgZ3JvdXBPcHRpb25zOiBBcnJheTx7IG1vZGU6IEdyb3VwTW9kZTsgaWNvbjogc3RyaW5nOyBsYWJlbD86IHN0cmluZzsgdG9vbHRpcDogc3RyaW5nIH0+ID0gXG4gICAgICBpc01haW4gPyBbXG4gICAgICAgIHsgbW9kZTogJ2ZpbGUnLCBpY29uOiAnXHVEODNEXHVEQ0MxJywgbGFiZWw6ICdmaWxlJywgdG9vbHRpcDogJ2J5IGZpbGUnIH0sXG4gICAgICAgIHsgbW9kZTogJ2Fubm90YXRpb24nLCBpY29uOiAnXHVEODNEXHVEQ0FDJywgbGFiZWw6ICdhbm5vdGF0dGlvbicsIHRvb2x0aXA6ICdieSBhbm5vdGF0aW9uJyB9LFxuICAgICAgICB7IG1vZGU6ICd0YWcnLCBpY29uOiAnXHVEODNDXHVERkY3XHVGRTBGJywgbGFiZWw6ICd0YWcnLCB0b29sdGlwOiAnYnkgdGFnJyB9LFxuICAgICAgICB7IG1vZGU6ICdkYXRlJywgaWNvbjogJ1x1RDgzRFx1RENDNScsIGxhYmVsOiAnZGF0ZScsIHRvb2x0aXA6ICdieSBkYXRlJyB9XG4gICAgICBdIDogW1xuICAgICAgICB7IG1vZGU6ICdmaWxlJywgaWNvbjogJ1x1RDgzRFx1RENDMScsIHRvb2x0aXA6ICdieSBmaWxlJyB9LFxuICAgICAgICB7IG1vZGU6ICd0YWcnLCBpY29uOiAnXHVEODNDXHVERkY3XHVGRTBGJywgdG9vbHRpcDogJ2J5IHRhZycgfSxcbiAgICAgICAgeyBtb2RlOiAnZGF0ZScsIGljb246ICdcdUQ4M0RcdURDQzUnLCB0b29sdGlwOiAnYnkgZGF0ZScgfVxuICAgICAgXTtcblxuICAgIGdyb3VwT3B0aW9ucy5mb3JFYWNoKCh7IG1vZGUsIGljb24sIGxhYmVsLCB0b29sdGlwIH0pID0+IHtcbiAgICAvLyBcdTJCNTAgXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU1M0VGXHU3NTI4XHU3QjE0XHU4QkIwXHVGRjA4XHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHU0RTBCXHU2MjREXHU2OEMwXHU2N0U1XHVGRjA5XG4gICAgY29uc3QgaGFzTm90ZXMgPSAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ3NpZGViYXInICYmIHRoaXMuY2hlY2tHcm91cEhhc05vdGVzKSBcbiAgICAgID8gdGhpcy5jaGVja0dyb3VwSGFzTm90ZXMobW9kZSkgXG4gICAgICA6IHRydWU7XG4gICAgY29uc3QgaXNBY3RpdmUgPSB0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gbW9kZTtcbiAgICBcbiAgICBjb25zdCBidG4gPSBncm91cFN3aXRjaGVyLmNyZWF0ZURpdih7XG4gICAgICBjbHM6IGAke2lzTWFpbiA/ICdncm91cC1idG4tbWFpbicgOiAnZ3JvdXAtYnRuJ30gJHtcbiAgICAgICAgaXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnXG4gICAgICB9ICR7IWhhc05vdGVzID8gJ2Rpc2FibGVkJyA6ICcnfWBcbiAgICB9KTtcbiAgICBcbiAgICBidG4uaW5uZXJIVE1MID0gaXNNYWluID8gYCR7aWNvbn0gYCA6IGljb247XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1OEJCRVx1N0Y2RVx1NjNEMFx1NzkzQVx1NjU4N1x1NjcyQ1xuICAgIGlmICghaGFzTm90ZXMpIHtcbiAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ05vdGVzIGluIHRoZSBjdXJyZW50IGZpbGUgY2Fubm90IGJlIGdyb3VwZWQgdGhpcyB3YXknKTtcbiAgICAgIGJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAuNCc7XG4gICAgICBidG4uc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcbiAgICB9IGVsc2Uge1xuICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0b29sdGlwKTtcbiAgICB9XG4gICAgXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vbkdyb3VwQ2hhbmdlKG1vZGUpO1xuICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTdGF0c1Jvdyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3Qgc3RhdHNSb3cgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtcm93JyB9KTtcbiAgICBcbiAgICAvLyBcdThGRDlcdTkxQ0NcdTRGMUFcdTc1MzEgQmF0Y2hBY3Rpb25zIFx1N0VDNFx1NEVGNlx1NTg2Qlx1NTE0NVxuICAgIC8vIFx1OTg4NFx1NzU1OVx1NUJCOVx1NTY2OFx1NEY5Qlx1NTkxNlx1OTBFOFx1NEY3Rlx1NzUyOFxuICAgIHN0YXRzUm93LnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0cy1jb250YWluZXInLCAndHJ1ZScpO1xuICB9XG4gIC8vIFx1NjVCMFx1NTg5RTpcdTZFMzJcdTY3RDNcdTU5MERcdTRFNjBcdTY4QzBcdTY3RTVcdTYzMDlcdTk0QUVcdTc2ODRcdTY1QjlcdTZDRDVcbnJlbmRlclJldmlld0NoZWNrQnV0dG9uKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICBpZiAoIXRoaXMub25DaGVja1JldmlldykgcmV0dXJuIG51bGw7XG4gIFxuICBjb25zdCByZXZpZXdCdG4gPSBjb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICBjbHM6ICdyZXZpZXctY2hlY2stYnRuLXN0YXRzJyxcbiAgICBhdHRyOiB7IFxuICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2hlY2sgZm9yIENhcmRzIHRvIFJldmlldydcbiAgICB9XG4gIH0pO1xuICByZXZpZXdCdG4uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REQxNCc7IFxuICByZXZpZXdCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm9uQ2hlY2tSZXZpZXc/LigpO1xuICB9KTtcbiAgXG4gIHJldHVybiByZXZpZXdCdG47XG59XG5wcml2YXRlIGhhc05vdGVzRm9yRmlsdGVyKG1vZGU6IEZpbHRlck1vZGUpOiBib29sZWFuIHtcbiAgLy8gXHU4RkQ5XHU0RTJBXHU2NUI5XHU2Q0Q1XHU5NzAwXHU4OTgxXHU4QkJGXHU5NUVFXHU2NTcwXHU2MzZFXHVGRjBDXHU2MjQwXHU0RUU1XHU5NzAwXHU4OTgxXHU5MDFBXHU4RkM3XHU1NkRFXHU4QzAzXHU2MjE2XHU4MDA1XHU3NkY0XHU2M0E1XHU4QkJGXHU5NUVFIHN0YXRlXG4gIC8vIFx1NjY4Mlx1NjVGNlx1OEZENFx1NTZERSB0cnVlXHVGRjBDXHU3QTBEXHU1NDBFXHU5MDFBXHU4RkM3XHU2Nzg0XHU5MDIwXHU1MUZEXHU2NTcwXHU0RjIwXHU1MTY1XHU2OEMwXHU2N0U1XHU1MUZEXHU2NTcwXG4gIHJldHVybiB0cnVlO1xufVxuXG5wcml2YXRlIGhhc05vdGVzRm9yR3JvdXAobW9kZTogR3JvdXBNb2RlKTogYm9vbGVhbiB7XG4gIHJldHVybiB0cnVlO1xufVxuXG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL0JhdGNoQWN0aW9ucy50cyAgXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXG5cbmltcG9ydCB7IFZpZXdTdGF0ZSB9IGZyb20gJy4uL3N0YXRlL1ZpZXdTdGF0ZSc7XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IFRvb2xiYXIgfSBmcm9tICcuL1Rvb2xiYXInO1xuaW1wb3J0IHsgdCwgTGFuZ3VhZ2UgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7IFxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2hBY3Rpb25DYWxsYmFja3Mge1xuICBvblNlbGVjdEFsbDogKCkgPT4gdm9pZDtcbiAgb25EZXNlbGVjdEFsbDogKCkgPT4gdm9pZDtcbiAgb25CYXRjaENyZWF0ZTogKCkgPT4gdm9pZDtcbiAgb25CYXRjaERlbGV0ZTogKCkgPT4gdm9pZDtcbiAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBCYXRjaEFjdGlvbnMge1xuICBwcml2YXRlIHN0YXRlOiBWaWV3U3RhdGU7XG4gIHByaXZhdGUgY2FsbGJhY2tzOiBCYXRjaEFjdGlvbkNhbGxiYWNrcztcbiAgcHJpdmF0ZSB0b29sYmFyPzogVG9vbGJhcjsgXG4gIHByaXZhdGUgbGFuZ3VhZ2U6IExhbmd1YWdlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0YXRlOiBWaWV3U3RhdGUsIFxuICAgIGNhbGxiYWNrczogQmF0Y2hBY3Rpb25DYWxsYmFja3MsXG4gICAgdG9vbGJhcj86IFRvb2xiYXIsXG4gICAgbGFuZ3VhZ2U6IExhbmd1YWdlID0gJ2VuJ1xuICApIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgdGhpcy50b29sYmFyID0gdG9vbGJhcjtcbiAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7IFxuICB9XG4gIHByaXZhdGUgdChrZXk6IHN0cmluZywgcGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHQoa2V5LCB0aGlzLmxhbmd1YWdlLCBwYXJhbXMpO1xuICB9XG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTUxNjhcdTkwMDlcdTYzMDlcdTk0QUVcbiAgICovXG4gIHJlbmRlclNlbGVjdEFsbEJ1dHRvbihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LCBcbiAgICB2aXNpYmxlSXRlbXM6IENvbnRlbnRVbml0W10gfCBGbGFzaGNhcmRbXSxcbiAgICBzdHlsZUNsYXNzOiAnc2lkZWJhcicgfCAnaGVhZGVyJ1xuICApOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgYnRuQ2xhc3MgPSBzdHlsZUNsYXNzID09PSAnc2lkZWJhcicgXG4gICAgICA/ICdzZWxlY3QtYWxsLWJ0bi1zaWRlYmFyJyBcbiAgICAgIDogJ3NlbGVjdC1hbGwtYnRuLWhlYWRlcic7XG4gICAgXG4gICAgY29uc3QgaXNBbGxDaGVja2VkID0gdGhpcy5zdGF0ZS5pc0FsbFNlbGVjdGVkKHZpc2libGVJdGVtcyk7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdmlzaWJsZUl0ZW1zLmxlbmd0aDtcbiAgICBcbiAgICBjb25zdCBzZWxlY3RBbGxCdG4gPSBjb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6IGlzQWxsQ2hlY2tlZCBcbiAgICAgID8gYFx1MjcxMyAke3RoaXMudCgnYmF0Y2guZGVzZWxlY3RBbGwnKX1gICBcbiAgICAgIDogYFx1MjYxMCAke3RoaXMudCgnYmF0Y2guc2VsZWN0QWxsJyl9YCwgICBcbiAgICBjbHM6IGAke2J0bkNsYXNzfSAke2lzQWxsQ2hlY2tlZCA/ICdjb21wbGV0ZWQnIDogJyd9YCxcbiAgICB0aXRsZTogaXNBbGxDaGVja2VkIFxuICAgICAgPyB0aGlzLnQoJ2JhdGNoLmRlc2VsZWN0QWxsLnRvb2x0aXAnKSAgXG4gICAgICA6IHRoaXMudCgnYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnLCB7IGNvdW50OiBpdGVtQ291bnQgfSkgXG4gIH0pO1xuICAgIFxuICAgIGNvbnN0IHNob3VsZERpc2FibGUgPSAoXG4gICAgICBpdGVtQ291bnQgPT09IDAgfHxcbiAgICAgICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2Fubm90YXRpb24nICYmIFxuICAgICAgIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdtYWluJyAmJiBcbiAgICAgICAhdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpXG4gICAgKTtcbiAgICBcbiAgICBpZiAoc2hvdWxkRGlzYWJsZSkge1xuICAgICAgc2VsZWN0QWxsQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XG4gICAgICBzZWxlY3RBbGxCdG4uc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcbiAgICAgIHNlbGVjdEFsbEJ0bi50aXRsZSA9IGl0ZW1Db3VudCA9PT0gMCBcbiAgICAgICAgPyB0aGlzLnQoJ2JhdGNoLm5vSXRlbXMnKSAgXG4gICAgICAgIDogdGhpcy50KCdiYXRjaC5zZWxlY3RBbm5vdGF0aW9uRmlyc3QnKTtcbiAgICB9XG4gICAgXG4gICAgc2VsZWN0QWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcbiAgICAgIFxuICAgICAgaWYgKGlzQWxsQ2hlY2tlZCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkRlc2VsZWN0QWxsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblNlbGVjdEFsbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBzZWxlY3RBbGxCdG47XG4gIH1cbiAgLy8gXHU2NUIwXHU1ODlFOlx1NkUzMlx1NjdEM1x1NTkwRFx1NEU2MFx1NjhDMFx1NjdFNVx1NjMwOVx1OTRBRShcdTcyRUNcdTdBQ0JcdTY1QjlcdTZDRDUpXG4gIHJlbmRlclJldmlld0NoZWNrQnV0dG9uKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG1vZGU6ICdzaWRlYmFyJyB8ICdoZWFkZXInKTogdm9pZCB7XG4gICAgaWYgKG1vZGUgPT09ICdzaWRlYmFyJyAmJiB0aGlzLnRvb2xiYXIpIHtcbiAgICAgIHRoaXMudG9vbGJhci5yZW5kZXJSZXZpZXdDaGVja0J1dHRvbihjb250YWluZXIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXHU3RUM0XG4gICAqL1xuICByZW5kZXJBY3Rpb25CdXR0b25zKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgc3R5bGVDbGFzczogJ3NpZGViYXInIHwgJ2hlYWRlcidcbiAgKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmJhdGNoTW9kZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGJ0blByZWZpeCA9IHN0eWxlQ2xhc3MgPT09ICdzaWRlYmFyJyA/ICdzaWRlYmFyJyA6ICdoZWFkZXInO1xuICAgIFxuICAgIC8vIFx1NTIzNlx1NTM2MVx1NjMwOVx1OTRBRVx1RkYwOFx1NEVDNVx1N0IxNFx1OEJCMFx1ODlDNlx1NTZGRVx1RkYwOVxuICAgIGlmICh0aGlzLnN0YXRlLnZpZXdUeXBlID09PSAnbm90ZXMnKSB7XG4gICAgICBjb25zdCBjb3VudCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzLnNpemU7XG4gICAgICBjb25zdCBjcmVhdGVCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBzdHlsZUNsYXNzID09PSAnc2lkZWJhcicgXG4gICAgICAgID8gYFx1MjZBMSgke2NvdW50fSlgIFxuICAgICAgICA6IGBcdTI2QTEgJHt0aGlzLnQoJ2JhdGNoLmNyZWF0ZScpfSAoJHtjb3VudH0pYCxcbiAgICAgIGBiYXRjaC1jcmVhdGUtY2FyZHMtYnRuLSR7YnRuUHJlZml4fWAsXG4gICAgICB0aGlzLnQoJ2JhdGNoLmNyZWF0ZS50b29sdGlwJyksXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gXHU4RkQ5XHU5MUNDXHU1RTk0XHU4QkU1XHU4OUU2XHU1M0QxIE5vdGljZVx1RkYwQ1x1NEY0Nlx1NEUzQVx1NEU4Nlx1ODlFM1x1ODAyNlx1RkYwQ1x1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1NTkwNFx1NzQwNlxuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25CYXRjaENyZWF0ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkJhdGNoQ3JlYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgXG4gICAgICBjcmVhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICAgICAgY3JlYXRlQnRuLnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSc7XG4gICAgICAgIGNyZWF0ZUJ0bi5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY3JlYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgICAgIGNyZWF0ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSc7XG4gICAgICAgIGNyZWF0ZUJ0bi5zdHlsZS5jb2xvciA9ICcnO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NTIyMFx1OTY2NFx1NjMwOVx1OTRBRVxuICAgIGNvbnN0IGNvdW50ID0gdGhpcy5zdGF0ZS5nZXRTZWxlY3RlZENvdW50KCk7XG4gICAgY29uc3QgZGVsZXRlQnRuID0gdGhpcy5jcmVhdGVCdXR0b24oXG4gICAgICBjb250YWluZXIsXG4gICAgICBzdHlsZUNsYXNzID09PSAnc2lkZWJhcicgXG4gICAgICA/IGBcdUQ4M0RcdURERDFcdUZFMEYoJHtjb3VudH0pYCBcbiAgICAgIDogYFx1RDgzRFx1REREMVx1RkUwRiAke3RoaXMudCgnYmF0Y2guZGVsZXRlJyl9ICgke2NvdW50fSlgLCBcbiAgICBgYmF0Y2gtZGVsZXRlLWJ0bi0ke2J0blByZWZpeH1gLFxuICAgIHRoaXMudCgnYmF0Y2guZGVsZXRlLnRvb2x0aXAnKSwgXG4gICAgICAoKSA9PiB0aGlzLmNhbGxiYWNrcy5vbkJhdGNoRGVsZXRlKClcbiAgICApO1xuICAgIFxuICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICAgICAgZGVsZXRlQnRuLnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tY29sb3ItcmVkKSc7XG4gICAgICBkZWxldGVCdG4uc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuICAgIH0pO1xuICAgIFxuICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICAgICAgZGVsZXRlQnRuLnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJztcbiAgICAgIGRlbGV0ZUJ0bi5zdHlsZS5jb2xvciA9ICcnO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1NTNENlx1NkQ4OFx1NjMwOVx1OTRBRVxuICAgIGNvbnN0IGNhbmNlbEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKFxuICAgICAgY29udGFpbmVyLFxuICAgICAgc3R5bGVDbGFzcyA9PT0gJ3NpZGViYXInIFxuICAgICAgPyAnXHUyNzE1JyBcbiAgICAgIDogYFx1MjcxNSAke3RoaXMudCgnYmF0Y2guY2FuY2VsJyl9YCwgXG4gICAgYGNhbmNlbC1zZWxlY3Rpb24tYnRuLSR7YnRuUHJlZml4fWAsXG4gICAgdGhpcy50KCdiYXRjaC5jYW5jZWwudG9vbHRpcCcpLCBcbiAgICAoKSA9PiB0aGlzLmNhbGxiYWNrcy5vbkNhbmNlbCgpXG4gICAgXG4gICAgKTtcblxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVCdXR0b24oXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBvbkNsaWNrOiAoKSA9PiB2b2lkXG4gICk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBidG4gPSBjb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQsXG4gICAgICBjbHM6IGNsYXNzTmFtZSxcbiAgICAgIHRpdGxlXG4gICAgfSk7XG4gICAgXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgb25DbGljaygpO1xuICAgIH0pO1xuICAgIHJldHVybiBidG47XG4gIH1cblxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU2Mjc5XHU5MUNGXHU5MDA5XHU2MkU5IENoZWNrYm94XG4gICAqL1xuICByZW5kZXJDaGVja2JveChcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIGl0ZW1JZDogc3RyaW5nLFxuICAgIGlzU2VsZWN0ZWQ6IGJvb2xlYW4sXG4gICAgb25DaGFuZ2U6IChjaGVja2VkOiBib29sZWFuKSA9PiB2b2lkXG4gICk6IEhUTUxJbnB1dEVsZW1lbnQge1xuICAgIGNvbnN0IGNoZWNrYm94ID0gY29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcbiAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICBjbHM6ICdiYXRjaC1jaGVja2JveCdcbiAgICB9KTtcbiAgICBcbiAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaXRlbS1pZCcsIGl0ZW1JZCk7XG4gICAgY2hlY2tib3guY2hlY2tlZCA9IGlzU2VsZWN0ZWQ7XG4gICAgXG4gICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNoYW5nZSgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGNoZWNrYm94O1xuICB9XG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRDYXJkLnRzICBcdTUzNjFcdTcyNDdcdTUxODVcdTVCQjlcbi8vIGltcG9ydCB7IFN0eWxlTG9hZGVyIH0gZnJvbSAnLi4vc3R5bGUvc2lkZWJhclN0eWxlJ1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBWaWV3U3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9WaWV3U3RhdGUnO1xuaW1wb3J0IHsgTWFya2Rvd25SZW5kZXJlciB9IGZyb20gJ29ic2lkaWFuJzsgLy8gXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZENhbGxiYWNrcyB7XG4gIG9uSnVtcFRvU291cmNlOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uSnVtcFRvRmxhc2hjYXJkPzogKGNhcmQ6IEZsYXNoY2FyZCkgPT4gdm9pZDsgXG4gIG9uVG9nZ2xlQW5ub3RhdGlvbjogKGNhcmQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25RdWlja0ZsYXNoY2FyZDogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvblNob3dDb250ZXh0TWVudTogKGV2ZW50OiBNb3VzZUV2ZW50LCB1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25GbGFzaGNhcmRDb250ZXh0TWVudT86IChldmVudDogTW91c2VFdmVudCwgY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBnZXRBbm5vdGF0aW9uQ29udGVudD86ICh1bml0SWQ6IHN0cmluZykgPT4gc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBnZXRDb250ZW50VW5pdD86ICh1bml0SWQ6IHN0cmluZykgPT4gQ29udGVudFVuaXQgfCB1bmRlZmluZWQ7ICBcbn1cblxuZXhwb3J0IGNsYXNzIENvbnRlbnRDYXJkIHtcbiAgcHJpdmF0ZSBzdGF0ZTogVmlld1N0YXRlO1xuICBwcml2YXRlIGNhbGxiYWNrczogQ2FyZENhbGxiYWNrcztcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogVmlld1N0YXRlLCBjYWxsYmFja3M6IENhcmRDYWxsYmFja3MpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gIH1cblxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU3RDI3XHU1MUQxXHU1MzYxXHU3MjQ3XHVGRjA4XHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHVGRjA5XG4gICAqL1xuICByZW5kZXJDb21wYWN0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc3QgY2FyZCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYWN0LWNhcmQnIH0pO1xuICAgIGNhcmQuc2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnLCB1bml0LmlkKTtcbiAgICBcbiAgICBjb25zdCBleGlzdGluZ0NhcmQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihgW2RhdGEtdW5pdC1pZD1cIiR7dW5pdC5pZH1cIl1gKTtcbiAgICBpZiAoZXhpc3RpbmdDYXJkPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdGluZycpID09PSAndHJ1ZScpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTIzRURcdUZFMEYgW0NhcmRdIFNraXBwaW5nIHJlbmRlciAtIGNhcmQgaXMgZWRpdGluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBcdTJCNTAgXHU0RjdGXHU3NTI4XHU2MzU1XHU4M0I3XHU5NjM2XHU2QkI1ICsgbW91c2Vkb3duXHVGRjBDXHU0RjQ2XHU0RTBEXHU4QzAzXHU3NTI4IHByZXZlbnREZWZhdWx0XG4gICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RERCMVx1RkUwRiBbQ2FyZF0gTW91c2Vkb3duIGV2ZW50Jywge1xuICAgICAgICB1bml0SWQ6IHVuaXQuaWQsXG4gICAgICAgIHRhcmdldDogKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbGFzc05hbWUsXG4gICAgICAgIGJ1dHRvbjogZS5idXR0b25cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBcdTJCNTAgXHU1M0VBXHU1OTA0XHU3NDA2XHU1REU2XHU5NTJFXHU3MEI5XHU1MUZCXG4gICAgICBpZiAoZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIFxuICAgICAgLy8gXHU2MzkyXHU5NjY0XHU1REU1XHU1MTc3XHU2MzA5XHU5NEFFXHU3QjQ5XG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5jYXJkLXRvb2xzJykgfHwgXG4gICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5iYXRjaC1jaGVja2JveCcpIHx8XG4gICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5hbm5vdGF0aW9uLWJ0bicpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREQjFcdUZFMEYgW0NhcmRdIElnbm9yZWQgLSBleGNsdWRlZCBlbGVtZW50Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHU2MzkyXHU5NjY0XHU3RjE2XHU4RjkxXHU1NjY4XHU1MTg1XHU5MEU4XG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEREIxXHVGRTBGIFtDYXJkXSBJZ25vcmVkIC0gZWRpdG9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHU3MEI5XHU1MUZCXHU1MTg1XHU1QkI5XHU1MzNBXHU1N0RGID0gXHU2MjUzXHU1RjAwXHU2Mjc5XHU2Q0U4XG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5ub3RlLXRleHQnKSB8fCB0YXJnZXQuY2xvc2VzdCgnLmFubm90YXRpb24tcHJldmlldycpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREQjFcdUZFMEYgW0NhcmRdIE9wZW5pbmcgYW5ub3RhdGlvbicpO1xuICAgICAgICBcbiAgICAgICAgLy8gXHUyQjUwIFx1NTE3M1x1OTUyRVx1RkYxQVx1NTNFQVx1OTYzQlx1NkI2Mlx1NTE5Mlx1NkNFMVx1RkYwQ1x1NEUwRFx1OTYzQlx1NkI2Mlx1OUVEOFx1OEJBNFx1ODg0Q1x1NEUzQVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBcdTJCNTAgXHU0RTBEXHU4QzAzXHU3NTI4IGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25Ub2dnbGVBbm5vdGF0aW9uKGNhcmQsIHVuaXQpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTsgLy8gXHUyQjUwIGZhbHNlID0gXHU1MTkyXHU2Q0UxXHU5NjM2XHU2QkI1XHVGRjA4XHU5RUQ4XHU4QkE0XHVGRjA5XG4gIFxuICAgIC8vIFx1NjI3OVx1OTFDRlx1OTAwOVx1NjJFOSBjaGVja2JveFxuICAgIGlmICh0aGlzLnN0YXRlLmJhdGNoTW9kZSkge1xuICAgICAgdGhpcy5yZW5kZXJDaGVja2JveChjYXJkLCB1bml0LmlkLCB0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5oYXModW5pdC5pZCkpO1xuICAgIH1cbiAgXG4gICAgLy8gXHU1REU2XHU0RkE3XHU2MzA3XHU3OTNBXHU1NjY4XG4gICAgdGhpcy5yZW5kZXJJbmRpY2F0b3IoY2FyZCwgdW5pdCk7XG4gIFxuICAgIC8vIFx1NTE4NVx1NUJCOVx1NTMzQVx1NTdERlxuICAgIGNvbnN0IGNvbnRlbnQgPSBjYXJkLmNyZWF0ZURpdih7IGNsczogJ2NhcmQtY29udGVudCcgfSk7XG4gICAgdGhpcy5yZW5kZXJDYXJkSGVhZGVyKGNvbnRlbnQsIGNhcmQsIHVuaXQpO1xuICAgIHRoaXMucmVuZGVyQ2FyZENvbnRlbnQoY29udGVudCwgdW5pdCk7XG4gICAgdGhpcy5yZW5kZXJBbm5vdGF0aW9uUHJldmlldyhjb250ZW50LCBjYXJkLCB1bml0KTtcbiAgICB0aGlzLnJlbmRlckNhcmRNZXRhKGNvbnRlbnQsIHVuaXQpO1xuICB9XG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTdGNTFcdTY4M0NcdTUzNjFcdTcyNDdcdUZGMDhcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICovXG5yZW5kZXJHcmlkKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gIGNvbnN0IGNhcmQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkJyB9KTtcbiAgY2FyZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdW5pdC1pZCcsIHVuaXQuaWQpOyAvLyBcdTJCNTAgXHU2REZCXHU1MkEwXHU4RkQ5XHU4ODRDXHVGRjBDXHU2NUI5XHU0RkJGXHU2N0U1XHU2MjdFXG4gIFxuICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBcbiAgICAvLyBcdTYzOTJcdTk2NjRcdTVERTVcdTUxNzdcdTYzMDlcdTk0QUVcdTMwMDFjaGVja2JveFx1MzAwMWhlYWRlclxuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmdyaWQtY2FyZC10b29scycpIHx8IFxuICAgICAgICB0YXJnZXQuY2xvc2VzdCgnLmJhdGNoLWNoZWNrYm94JykgfHxcbiAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5ncmlkLWNhcmQtaGVhZGVyJykgfHxcbiAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5kb2MtbmFtZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NzBCOVx1NTFGQlx1NTE4NVx1NUJCOVx1NTMzQVx1NTdERiA9IFx1NjI1M1x1NUYwMFx1NjI3OVx1NkNFOFxuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmdyaWQtY2FyZC1jb250ZW50JykpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24oY2FyZCwgdW5pdCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIGNhcmQuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuXG4gIGlmICh0aGlzLnN0YXRlLmJhdGNoTW9kZSkge1xuICAgIHRoaXMucmVuZGVyQ2hlY2tib3goY2FyZCwgdW5pdC5pZCwgdGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMuaGFzKHVuaXQuaWQpKTtcbiAgfVxuXG4gIGNvbnN0IGhlYWRlciA9IGNhcmQuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkLWhlYWRlcicgfSk7XG4gIHRoaXMucmVuZGVyVHlwZUluZGljYXRvcihoZWFkZXIsIHVuaXQpO1xuICBcbiAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLnJlbmRlckZpbGVOYW1lKGhlYWRlciwgdW5pdCk7XG4gIGZpbGVOYW1lLm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0NcdURGQUYgW0ZpbGVOYW1lXSBDbGlja2VkJyk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLmNhbGxiYWNrcy5vbkp1bXBUb1NvdXJjZSh1bml0KTtcbiAgfTtcbiAgZmlsZU5hbWUuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICBcbiAgdGhpcy5yZW5kZXJHcmlkVG9vbHMoaGVhZGVyLCB1bml0KTtcblxuICBjb25zdCBjb250ZW50ID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtY29udGVudCcgfSk7XG4gIGNvbnRlbnQuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICBcbiAgdGhpcy5yZW5kZXJHcmlkQ29udGVudChjb250ZW50LCBjYXJkLCB1bml0KTtcbiAgdGhpcy5yZW5kZXJHcmlkQW5ub3RhdGlvbihjb250ZW50LCBjYXJkLCB1bml0KTtcbiAgdGhpcy5yZW5kZXJHcmlkVGFncyhjb250ZW50LCB1bml0KTtcblxuICBjb25zdCBtZXRhID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtbWV0YScgfSk7XG4gIHRoaXMucmVuZGVyR3JpZE1ldGEobWV0YSwgdW5pdCk7XG59XG5cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1OTVFQVx1NTM2MVx1N0Y1MVx1NjgzQ1xuICAgKi9cbiAgcmVuZGVyRmxhc2hjYXJkR3JpZChjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYXJkOiBGbGFzaGNhcmQpOiB2b2lkIHtcbiAgICBjb25zdCBjYXJkRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkIGZsYXNoY2FyZC1ncmlkLWNhcmQnIH0pO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuYmF0Y2hNb2RlKSB7XG4gICAgICB0aGlzLnJlbmRlckNoZWNrYm94KGNhcmRFbCwgY2FyZC5pZCwgdGhpcy5zdGF0ZS5zZWxlY3RlZENhcmRJZHMuaGFzKGNhcmQuaWQpKTtcbiAgICB9XG5cbiAgICBjb25zdCBoZWFkZXIgPSBjYXJkRWwuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkLWhlYWRlcicgfSk7XG4gICAgaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCEoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoJy5iYXRjaC1jaGVja2JveCcpKSB7XG4gICAgICAgIC8vIFx1NEY3Rlx1NzUyOFx1NjVCMFx1NzY4NFx1NTZERVx1OEMwM1x1NTkwNFx1NzQwNiBmbGFzaGNhcmQgXHU4REYzXHU4RjZDXG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrcy5vbkp1bXBUb0ZsYXNoY2FyZCkge1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uSnVtcFRvRmxhc2hjYXJkKGNhcmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIGNvbnN0IHRvb2xzID0gaGVhZGVyLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZC10b29scycgfSk7XG4gICAgY29uc3QgbW9yZUJ0biA9IHRvb2xzLmNyZWF0ZURpdih7IGNsczogJ3Rvb2wtYnRuLWdyaWQnIH0pO1xuICAgIG1vcmVCdG4uaW5uZXJIVE1MID0gJ1x1MjJFRSc7XG4gICAgbW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICh0aGlzLmNhbGxiYWNrcy5vbkZsYXNoY2FyZENvbnRleHRNZW51KSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRmxhc2hjYXJkQ29udGV4dE1lbnUoZSwgY2FyZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb250ZW50ID0gY2FyZEVsLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZC1jb250ZW50JyB9KTtcbiAgICB0aGlzLnJlbmRlckZsYXNoY2FyZENvbnRlbnQoY29udGVudCwgY2FyZCk7XG5cbiAgICBjb25zdCBtZXRhID0gY2FyZEVsLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZC1tZXRhJyB9KTtcbiAgICB0aGlzLnJlbmRlckZsYXNoY2FyZE1ldGEobWV0YSwgY2FyZCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09IFx1NzlDMVx1NjcwOVx1NkUzMlx1NjdEM1x1NjVCOVx1NkNENSA9PT09PT09PT09XG5cbiAgcHJpdmF0ZSByZW5kZXJDaGVja2JveChjYXJkOiBIVE1MRWxlbWVudCwgaXRlbUlkOiBzdHJpbmcsIGlzQ2hlY2tlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGNvbnN0IGNoZWNrYm94ID0gY2FyZC5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgY2xzOiAnYmF0Y2gtY2hlY2tib3gnXG4gICAgfSk7XG4gICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCdkYXRhLWl0ZW0taWQnLCBpdGVtSWQpO1xuICAgIGNoZWNrYm94LmNoZWNrZWQgPSBpc0NoZWNrZWQ7XG4gICAgXG4gICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudmlld1R5cGUgPT09ICdjYXJkcycpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkQ2FyZElkcy5hZGQoaXRlbUlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5hZGQoaXRlbUlkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudmlld1R5cGUgPT09ICdjYXJkcycpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkQ2FyZElkcy5kZWxldGUoaXRlbUlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5kZWxldGUoaXRlbUlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gXHU4OUU2XHU1M0QxXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHVGRjA4XHU5MDFBXHU4RkM3XHU1NkRFXHU4QzAzXHVGRjA5XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckluZGljYXRvcihjYXJkOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRpY2F0b3IgPSBjYXJkLmNyZWF0ZURpdih7IGNsczogJ2NhcmQtaW5kaWNhdG9yJyB9KTtcblxuICAgIGlmICh1bml0LnR5cGUgPT09ICdRQScpIHtcbiAgICAgIGluZGljYXRvci5hZGRDbGFzcygndHlwZS1xYScpO1xuICAgIH0gZWxzZSBpZiAodW5pdC50eXBlID09PSAnY2xvemUnKSB7XG4gICAgICBpbmRpY2F0b3IuYWRkQ2xhc3MoJ3R5cGUtY2xvemUnKTtcbiAgICB9IGVsc2UgaWYgKHVuaXQudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICBpbmRpY2F0b3IuYWRkQ2xhc3MoJ3R5cGUtdGV4dCcpO1xuICAgIH1cblxuICAgIGlmICh1bml0LmFubm90YXRpb25JZCkgaW5kaWNhdG9yLmFkZENsYXNzKCdoYXMtYW5ub3RhdGlvbicpO1xuICAgIGlmICh1bml0LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKSBpbmRpY2F0b3IuYWRkQ2xhc3MoJ2hhcy1mbGFzaGNhcmQnKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ2FyZEhlYWRlcihjb250ZW50OiBIVE1MRWxlbWVudCwgY2FyZDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc3QgaGVhZGVyID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWhlYWRlcicgfSk7XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1NURFNlx1NEZBN1x1NjI3OVx1NkNFOFx1NjMwOVx1OTRBRVx1NTMzQVx1NTdERiAtIFx1NzBCOVx1NTFGQlx1OERGM1x1OEY2Q1x1NTM5Rlx1NjU4N1xuICAgIGNvbnN0IGFubm90YXRpb25CdG4gPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAnYW5ub3RhdGlvbi1idG4nIH0pO1xuICAgIHRoaXMucmVuZGVyU2lkZUxpbmUoYW5ub3RhdGlvbkJ0biwgdW5pdCk7XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1NEY3Rlx1NzUyOCBtb3VzZWRvd24gXHU0RUUzXHU2NkZGIGNsaWNrXHVGRjBDXHU1RTc2XHU0RTE0XHU1M0VBIHN0b3BQcm9wYWdhdGlvblxuICAgIGFubm90YXRpb25CdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkp1bXBUb1NvdXJjZSh1bml0KTtcbiAgICB9KTtcbiAgICBhbm5vdGF0aW9uQnRuLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgXG4gICAgLy8gXHUyQjUwIFx1NTNGM1x1NEZBN1x1NURFNVx1NTE3N1x1NjMwOVx1OTRBRVx1NTMzQVx1NTdERlxuICAgIGNvbnN0IHRvb2xzID0gaGVhZGVyLmNyZWF0ZURpdih7IGNsczogJ2NhcmQtdG9vbHMnIH0pO1xuICAgIFxuICAgIC8vIFx1OTYzQlx1NkI2Mlx1NURFNVx1NTE3N1x1NTMzQVx1NTdERlx1NEU4Qlx1NEVGNlx1NTE5Mlx1NkNFMVxuICAgIHRvb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICBcbiAgICBpZiAoIXRoaXMuc3RhdGUuYmF0Y2hNb2RlKSB7XG4gICAgICBjb25zdCBmbGFzaGNhcmRCdG4gPSB0b29scy5jcmVhdGVEaXYoeyBjbHM6ICd0b29sLWJ0biBmbGFzaGNhcmQtYnRuJyB9KTtcbiAgICAgIGZsYXNoY2FyZEJ0bi5pbm5lckhUTUwgPSAnXHUyNkExJztcbiAgICAgIGZsYXNoY2FyZEJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnR2VuZXJhdGUgRmxhc2hjYXJkcycpO1xuICAgICAgZmxhc2hjYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uUXVpY2tGbGFzaGNhcmQodW5pdCk7XG4gICAgICB9KTtcbiAgICB9XG4gIFxuICAgIGNvbnN0IG1vcmVCdG4gPSB0b29scy5jcmVhdGVEaXYoeyBjbHM6ICd0b29sLWJ0biBtb3JlLWJ0bicgfSk7XG4gICAgbW9yZUJ0bi5pbm5lckhUTUwgPSAnXHUyMkVFJztcbiAgICBtb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5jYWxsYmFja3Mub25TaG93Q29udGV4dE1lbnUoZSwgdW5pdCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckNhcmRDb250ZW50KGNvbnRlbnQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IG5vdGVUZXh0ID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdub3RlLXRleHQnIH0pO1xuICBcbiAgICBpZiAodGhpcy5pc1RhYmxlQ29udGVudCh1bml0LmZ1bGxDb250ZXh0IHx8IHVuaXQuY29udGVudCkpIHtcbiAgICAgIHRoaXMucmVuZGVyTWFya2Rvd25Db250ZW50KG5vdGVUZXh0LCB1bml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRpc3BsYXlIVE1MID0gdGhpcy5mb3JtYXRDb250ZW50KHVuaXQpO1xuICAgICAgbm90ZVRleHQuaW5uZXJIVE1MID0gZGlzcGxheUhUTUw7XG4gICAgfVxuICBcbiAgICAvLyBcdTJCNTAgXHU1M0VBXHU4QkJFXHU3RjZFXHU2ODM3XHU1RjBGLFx1NEUwRFx1N0VEMVx1NUI5QVx1NEU4Qlx1NEVGNlxuICAgIG5vdGVUZXh0LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgfVxuICBcblxuICBwcml2YXRlIGZvcm1hdENvbnRlbnQodW5pdDogQ29udGVudFVuaXQpOiBzdHJpbmcge1xuICAgIGlmICh1bml0LnR5cGUgPT09ICdRQScgJiYgdW5pdC5hbnN3ZXIpIHtcbiAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJxYS1xdWVzdGlvblwiPiR7dW5pdC5jb250ZW50fTwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJxYS1zZXBhcmF0b3JcIj46Ojwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJxYS1hbnN3ZXJcIj4ke3VuaXQuYW5zd2VyfTwvc3Bhbj5gO1xuICAgIH0gZWxzZSBpZiAodW5pdC50eXBlID09PSAnY2xvemUnICYmIHVuaXQuZnVsbENvbnRleHQpIHtcbiAgICAgIGxldCBjb250ZXh0ID0gdW5pdC5mdWxsQ29udGV4dC5yZXBsYWNlKC89PS9nLCAnJyk7XG4gICAgICBjb25zdCBhbnN3ZXIgPSB1bml0LmNvbnRlbnQ7XG4gICAgICByZXR1cm4gY29udGV4dC5yZXBsYWNlKFxuICAgICAgICBhbnN3ZXIsIFxuICAgICAgICBgPHNwYW4gY2xhc3M9XCJjbG96ZS1oaWdobGlnaHRcIj4ke2Fuc3dlcn08L3NwYW4+YFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuaXQuY29udGVudDtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJTaWRlTGluZShtZXRhOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBtZXRhLmNyZWF0ZVNwYW4oeyB0ZXh0OiBgTCR7dW5pdC5zb3VyY2UucG9zaXRpb24ubGluZX1gLCBjbHM6ICdsaW5lLWluZm8nIH0pO1xuICAgIFxuICB9XG4gIHByaXZhdGUgcmVuZGVyQW5ub3RhdGlvblByZXZpZXcoXG4gICAgY29udGVudDogSFRNTEVsZW1lbnQsIFxuICAgIGNhcmQ6IEhUTUxFbGVtZW50LCBcbiAgICB1bml0OiBDb250ZW50VW5pdFxuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY2FsbGJhY2tzLmdldEFubm90YXRpb25Db250ZW50KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYW5ub3RhdGlvbkNvbnRlbnQgPSB0aGlzLmNhbGxiYWNrcy5nZXRBbm5vdGF0aW9uQ29udGVudCh1bml0LmlkKTtcbiAgICBpZiAoIWFubm90YXRpb25Db250ZW50KSByZXR1cm47XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1NzlGQlx1OTY2NCBpc0VkaXRpbmcgXHU2OEMwXHU2N0U1LFx1NzZGNFx1NjNBNVx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NURGMlx1NjcwOVx1OTg4NFx1ODlDOFxuICAgIGNvbnN0IGV4aXN0aW5nUHJldmlldyA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLmFubm90YXRpb24tcHJldmlldycpO1xuICAgIGlmIChleGlzdGluZ1ByZXZpZXcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTIzRURcdUZFMEYgW0NhcmRdIFByZXZpZXcgYWxyZWFkeSBleGlzdHMnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NjcwOVx1N0YxNlx1OEY5MVx1NTY2OChcdTY2RjRcdTUzRUZcdTk3NjApXG4gICAgY29uc3QgZXhpc3RpbmdFZGl0b3IgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKTtcbiAgICBpZiAoZXhpc3RpbmdFZGl0b3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTIzRURcdUZFMEYgW0NhcmRdIEVkaXRvciBleGlzdHMsIHNraXBwaW5nIHByZXZpZXcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1x1MjcwRlx1RkUwRiBbQ2FyZF0gQ3JlYXRpbmcgYW5ub3RhdGlvbiBwcmV2aWV3IGZvcjonLCB1bml0LmlkKTtcbiAgICBcbiAgICBjb25zdCBhbm5FbCA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnYW5ub3RhdGlvbi1wcmV2aWV3JyB9KTtcbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGFubm90YXRpb25Db250ZW50Lmxlbmd0aCA+IDYwXG4gICAgICA/IGFubm90YXRpb25Db250ZW50LnN1YnN0cmluZygwLCA2MCkgKyAnLi4uJ1xuICAgICAgOiBhbm5vdGF0aW9uQ29udGVudDtcbiAgICBhbm5FbC50ZXh0Q29udGVudCA9IGBcdUQ4M0RcdURDQUMgJHtkaXNwbGF5VGV4dH1gO1xuICAgIFxuICAgIC8vIFx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlxuICAgIGFubkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24oY2FyZCwgdW5pdCk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gVGFiIFx1OTUyRVx1NEU4Qlx1NEVGNlxuICAgIGFubkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLm5vdGUtdGV4dCwgLmdyaWQtbm90ZS10ZXh0JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKG5vdGVUZXh0KSB7XG4gICAgICBub3RlVGV4dC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgYW5uRWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGFubkVsKTtcbiAgICB9XG4gICAgXG4gICAgYW5uRWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJDYXJkTWV0YShjb250ZW50OiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCBtZXRhID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLW1ldGEnIH0pO1xuICAgIGlmICh1bml0LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICBtZXRhLmNyZWF0ZVNwYW4oeyBcbiAgICAgICAgdGV4dDogYFx1RDgzQ1x1RENDRiAke3VuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aH1gLCBcbiAgICAgICAgY2xzOiAnYmFkZ2UnIFxuICAgICAgfSk7XG4gICAgfSBcbiAgICBpZiAodW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHVuaXQubWV0YWRhdGEudGFncy5zbGljZSgwLCAyKS5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgIG1ldGEuY3JlYXRlU3Bhbih7IHRleHQ6IGAjJHt0YWd9YCwgY2xzOiAndGFnJyB9KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHVuaXQubWV0YWRhdGEudGFncy5sZW5ndGggPiAyKSB7XG4gICAgICAgIG1ldGEuY3JlYXRlU3Bhbih7IFxuICAgICAgICAgIHRleHQ6IGArJHt1bml0Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoIC0gMn1gLCBcbiAgICAgICAgICBjbHM6ICd0YWctbW9yZScgXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH1cblxuICBwcml2YXRlIHJlbmRlclR5cGVJbmRpY2F0b3IoaGVhZGVyOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCB0eXBlSW5kaWNhdG9yID0gaGVhZGVyLmNyZWF0ZURpdih7IGNsczogJ3R5cGUtaW5kaWNhdG9yJyB9KTtcbiAgICBpZiAodW5pdC50eXBlID09PSAnUUEnKSB7XG4gICAgICB0eXBlSW5kaWNhdG9yLmFkZENsYXNzKCd0eXBlLXFhJyk7XG4gICAgICB0eXBlSW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ1EmQSc7XG4gICAgfSBlbHNlIGlmICh1bml0LnR5cGUgPT09ICdjbG96ZScpIHtcbiAgICAgIHR5cGVJbmRpY2F0b3IuYWRkQ2xhc3MoJ3R5cGUtY2xvemUnKTtcbiAgICAgIHR5cGVJbmRpY2F0b3IudGV4dENvbnRlbnQgPSAnQ2xvemUnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlSW5kaWNhdG9yLmFkZENsYXNzKCd0eXBlLXRleHQnKTtcbiAgICAgIHR5cGVJbmRpY2F0b3IudGV4dENvbnRlbnQgPSAnVGV4dCc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGaWxlTmFtZShoZWFkZXI6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBmaWxlTmFtZSA9IHVuaXQuc291cmNlLmZpbGUuc3BsaXQoJy8nKS5wb3AoKT8ucmVwbGFjZSgnLm1kJywgJycpIHx8ICcnO1xuICAgIGNvbnN0IGZpbGVOYW1lU3BhbiA9IGhlYWRlci5jcmVhdGVTcGFuKHsgdGV4dDogZmlsZU5hbWUsIGNsczogJ2RvYy1uYW1lJyB9KTtcbiAgICByZXR1cm4gZmlsZU5hbWVTcGFuO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJHcmlkVG9vbHMoaGVhZGVyOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCB0b29scyA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtdG9vbHMnIH0pO1xuXG4gICAgaWYgKCF0aGlzLnN0YXRlLmJhdGNoTW9kZSkge1xuICAgICAgY29uc3QgZmxhc2hjYXJkQnRuID0gdG9vbHMuY3JlYXRlRGl2KHsgY2xzOiAndG9vbC1idG4tZ3JpZCcgfSk7XG4gICAgICBmbGFzaGNhcmRCdG4uaW5uZXJIVE1MID0gJ1x1MjZBMSc7XG4gICAgICBmbGFzaGNhcmRCdG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0dlbmVyYXRlIEZsYXNoY2FyZHMnKTtcbiAgICAgIGZsYXNoY2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uUXVpY2tGbGFzaGNhcmQodW5pdCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBtb3JlQnRuID0gdG9vbHMuY3JlYXRlRGl2KHsgY2xzOiAndG9vbC1idG4tZ3JpZCcgfSk7XG4gICAgbW9yZUJ0bi5pbm5lckhUTUwgPSAnXHUyMkVFJztcbiAgICBtb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jYWxsYmFja3Mub25TaG93Q29udGV4dE1lbnUoZSwgdW5pdCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckdyaWRDb250ZW50KGNvbnRlbnQ6IEhUTUxFbGVtZW50LCBjYXJkOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1ub3RlLXRleHQnIH0pO1xuICAgIFxuICAgIGlmICh0aGlzLmlzVGFibGVDb250ZW50KHVuaXQuZnVsbENvbnRleHQgfHwgdW5pdC5jb250ZW50KSkge1xuICAgICAgdGhpcy5yZW5kZXJNYXJrZG93bkNvbnRlbnQobm90ZVRleHQsIHVuaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3RlVGV4dC5pbm5lckhUTUwgPSB0aGlzLmZvcm1hdENvbnRlbnQodW5pdCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1MkI1MCBcdTdCODBcdTUzMTZcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcdUZGMUFcdTUzRUFcdTRGRERcdTc1NTkgY2xpY2tcbiAgICBub3RlVGV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnXHVEODNDXHVERkFGIFtOb3RlVGV4dF0gQ2xpY2sgRXZlbnQhJywge1xuICAgICAgICB0YXJnZXQ6IChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkudGFnTmFtZSxcbiAgICAgICAgdW5pdElkOiB1bml0LmlkXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8vIFx1MkI1MCBcdTc5RkJcdTk2NjQgcHJldmVudERlZmF1bHRcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICB9KTtcbiAgICBcbiAgICBub3RlVGV4dC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gIH1cbiAgXG4gIHByaXZhdGUgcmVuZGVyR3JpZEFubm90YXRpb24oY29udGVudDogSFRNTEVsZW1lbnQsIGNhcmQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBhbm5vdGF0aW9uQ29udGVudCA9IHRoaXMuY2FsbGJhY2tzLmdldEFubm90YXRpb25Db250ZW50KHVuaXQuaWQpO1xuICAgIGlmIChhbm5vdGF0aW9uQ29udGVudCkge1xuICAgICAgY29uc3QgYW5uRWwgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2dyaWQtYW5ub3RhdGlvbicgfSk7XG4gICAgICBhbm5FbC5pbm5lckhUTUwgPSBgPHN0cm9uZz5cdTYyNzlcdTZDRThcdUZGMUE8L3N0cm9uZz4ke2Fubm90YXRpb25Db250ZW50fWA7XG4gICAgICBcbiAgICAgIGFubkVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhbm5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25Ub2dnbGVBbm5vdGF0aW9uKGNhcmQsIHVuaXQpO1xuICAgICAgfSk7XG4gIFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyR3JpZFRhZ3MoY29udGVudDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgaWYgKHVuaXQubWV0YWRhdGEudGFncy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB0YWdzID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLXRhZ3MnIH0pO1xuICAgICAgdW5pdC5tZXRhZGF0YS50YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgdGFncy5jcmVhdGVTcGFuKHsgdGV4dDogYCMke3RhZ31gLCBjbHM6ICd0YWctZ3JpZCcgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckdyaWRNZXRhKG1ldGE6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIG1ldGEuY3JlYXRlU3Bhbih7IHRleHQ6IGBMJHt1bml0LnNvdXJjZS5wb3NpdGlvbi5saW5lfWAsIGNsczogJ2xpbmUtaW5mbycgfSk7XG4gICAgXG4gICAgaWYgKHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1ldGEuY3JlYXRlU3Bhbih7IFxuICAgICAgICB0ZXh0OiBgXHVEODNDXHVEQ0NGICR7dW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RofWAsIFxuICAgICAgICBjbHM6ICdiYWRnZS1ncmlkJyBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmxhc2hjYXJkQ29udGVudChjb250ZW50OiBIVE1MRWxlbWVudCwgY2FyZDogRmxhc2hjYXJkKTogdm9pZCB7XG4gICAgY29uc3QgcXVlc3Rpb24gPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2ZsYXNoY2FyZC1xdWVzdGlvbicgfSk7XG4gICAgcXVlc3Rpb24uaW5uZXJIVE1MID0gYDxzdHJvbmc+XHU5NUVFXHU5ODk4XHVGRjFBPC9zdHJvbmc+JHtjYXJkLmZyb250fWA7XG4gICAgXG4gICAgY29uc3QgYW5zd2VyID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdmbGFzaGNhcmQtYW5zd2VyJyB9KTtcbiAgICBjb25zdCBhbnN3ZXJUZXh0ID0gQXJyYXkuaXNBcnJheShjYXJkLmJhY2spID8gY2FyZC5iYWNrLmpvaW4oJywgJykgOiBjYXJkLmJhY2s7XG4gICAgYW5zd2VyLmlubmVySFRNTCA9IGA8c3Ryb25nPlx1N0I1NFx1Njg0OFx1RkYxQTwvc3Ryb25nPiR7YW5zd2VyVGV4dH1gO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJGbGFzaGNhcmRNZXRhKG1ldGE6IEhUTUxFbGVtZW50LCBjYXJkOiBGbGFzaGNhcmQpOiB2b2lkIHtcbiAgICBtZXRhLmNyZWF0ZVNwYW4oe1xuICAgICAgdGV4dDogdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKGNhcmQubWV0YWRhdGEuY3JlYXRlZEF0KSksXG4gICAgICBjbHM6ICdmbGFzaGNhcmQtZGF0ZSdcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICAgIGRheTogJzItZGlnaXQnXG4gICAgfSk7XG4gIH1cblxuXG4gIC8vIFx1RDgzQ1x1REQ5NSBcdTZERkJcdTUyQTBcdTg4NjhcdTY4M0NcdTY4QzBcdTZENEJcdTY1QjlcdTZDRDVcbiAgcHJpdmF0ZSBpc1RhYmxlQ29udGVudChjb250ZW50OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICBpZiAoIWNvbnRlbnQpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQudHJpbSgpLnNwbGl0KCdcXG4nKTtcbiAgICByZXR1cm4gbGluZXMubGVuZ3RoID49IDIgJiYgXG4gICAgICAgICAgIGxpbmVzLmV2ZXJ5KGxpbmUgPT4gbGluZS5pbmNsdWRlcygnfCcpKSAmJlxuICAgICAgICAgICAhIWxpbmVzWzFdPy5tYXRjaCgvXlxccypcXHxbXFxzOi1dK1xcfC8pO1xuICB9XG5cbiAgLy8gXHVEODNDXHVERDk1IFx1NkRGQlx1NTJBMCBNYXJrZG93biBcdTZFMzJcdTY3RDNcdTY1QjlcdTZDRDVcbiAgcHJpdmF0ZSByZW5kZXJNYXJrZG93bkNvbnRlbnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBcbiAgICBsZXQgY29udGVudCA9IHVuaXQuZnVsbENvbnRleHQgfHwgdW5pdC5jb250ZW50O1xuICAgIFxuICAgIC8vIFx1RDgzQ1x1REQ5NSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0FcdTg4NjhcdTY4M0NcbiAgICBpZiAodGhpcy5pc1RhYmxlQ29udGVudChjb250ZW50KSkge1xuICAgICAgLy8gXHU2MjRCXHU1MkE4XHU2RTMyXHU2N0QzXHU4ODY4XHU2ODNDXG4gICAgICB0aGlzLnJlbmRlclRhYmxlV2l0aEhpZ2hsaWdodHMoY29udGFpbmVyLCBjb250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU0RjdGXHU3NTI4IE1hcmtkb3duIFx1NkUzMlx1NjdEM1x1NTY2OFxuICAgICAgY29uc3QgeyBNYXJrZG93blJlbmRlcmVyIH0gPSByZXF1aXJlKCdvYnNpZGlhbicpO1xuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPT0oW149XSspPT0vZywgJzxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+JDE8L3NwYW4+Jyk7XG4gICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlck1hcmtkb3duKGNvbnRlbnQsIGNvbnRhaW5lciwgdW5pdC5zb3VyY2UuZmlsZSwgbnVsbCk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBcdUQ4M0NcdUREOTUgXHU2REZCXHU1MkEwXHU2MjRCXHU1MkE4XHU4ODY4XHU2ODNDXHU2RTMyXHU2N0QzXHU2NUI5XHU2Q0Q1XG5wcml2YXRlIHJlbmRlclRhYmxlV2l0aEhpZ2hsaWdodHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbWFya2Rvd246IHN0cmluZyk6IHZvaWQge1xuICBcbiAgY29uc3QgbGluZXMgPSBtYXJrZG93bi50cmltKCkuc3BsaXQoJ1xcbicpO1xuICBcbiAgY29uc3QgdGFibGUgPSBjb250YWluZXIuY3JlYXRlRWwoJ3RhYmxlJywgeyBjbHM6ICdsZWFybmluZy1zeXN0ZW0tdGFibGUnIH0pO1xuICBcbiAgLy8gXHU4OUUzXHU2NzkwXHU4ODY4XHU1OTM0XG4gIGNvbnN0IGhlYWRlckNlbGxzID0gbGluZXNbMF1cbiAgICAuc3BsaXQoJ3wnKVxuICAgIC5tYXAoYyA9PiBjLnRyaW0oKSlcbiAgICAuZmlsdGVyKGMgPT4gYyk7XG4gIFxuICBcbiAgY29uc3QgdGhlYWQgPSB0YWJsZS5jcmVhdGVFbCgndGhlYWQnKTtcbiAgY29uc3QgaGVhZGVyUm93ID0gdGhlYWQuY3JlYXRlRWwoJ3RyJyk7XG4gIGhlYWRlckNlbGxzLmZvckVhY2goKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgdGggPSBoZWFkZXJSb3cuY3JlYXRlRWwoJ3RoJyk7XG4gICAgXG4gICAgaWYgKGNlbGwuaW5jbHVkZXMoJz09JykpIHtcbiAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGNlbGwucmVwbGFjZShcbiAgICAgICAgLz09KFtePV0rKT09L2csIFxuICAgICAgICAnPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTQwLCAwLCAwLjI1KTsgcGFkZGluZzogMnB4IDRweDsgYm9yZGVyLXJhZGl1czogM3B4OyBmb250LXdlaWdodDogNTAwO1wiPiQxPC9zcGFuPidcbiAgICAgICk7XG4gICAgICB0aC5pbm5lckhUTUwgPSBwcm9jZXNzZWQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdGgudGV4dENvbnRlbnQgPSBjZWxsO1xuICAgIH1cbiAgfSk7XG4gIFxuICAvLyBcdTg5RTNcdTY3OTBcdTY1NzBcdTYzNkVcdTg4NENcbiAgY29uc3QgdGJvZHkgPSB0YWJsZS5jcmVhdGVFbCgndGJvZHknKTtcbiAgZm9yIChsZXQgaSA9IDI7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIFxuICAgIGNvbnN0IGNlbGxzID0gbGluZXNbaV1cbiAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAubWFwKGMgPT4gYy50cmltKCkpXG4gICAgICAuZmlsdGVyKGMgPT4gYyk7XG4gICAgXG4gICAgaWYgKGNlbGxzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgXG4gICAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHRkID0gcm93LmNyZWF0ZUVsKCd0ZCcpO1xuICAgICAgXG4gICAgICBpZiAoY2VsbC5pbmNsdWRlcygnPT0nKSkge1xuICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBjZWxsLnJlcGxhY2UoXG4gICAgICAgICAgLz09KFtePV0rKT09L2csIFxuICAgICAgICAgICc8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxNDAsIDAsIDAuMjUpOyBwYWRkaW5nOiAycHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IGZvbnQtd2VpZ2h0OiA1MDA7XCI+JDE8L3NwYW4+J1xuICAgICAgICApO1xuICAgICAgICB0ZC5pbm5lckhUTUwgPSBwcm9jZXNzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZC50ZXh0Q29udGVudCA9IGNlbGw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG59XG59XG4gIFxuXG4gIiwgIi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzICAgXHU1MTg1XHU1QkI5XHU1MjE3XHU4ODY4XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IFZpZXdTdGF0ZSwgR3JvdXBNb2RlIH0gZnJvbSAnLi4vc3RhdGUvVmlld1N0YXRlJztcbmltcG9ydCB7IENvbnRlbnRDYXJkLCBDYXJkQ2FsbGJhY2tzIH0gZnJvbSAnLi9Db250ZW50Q2FyZCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBlZFVuaXRzIHtcbiAgZ3JvdXBLZXk6IHN0cmluZztcbiAgdW5pdHM6IENvbnRlbnRVbml0W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBlZENhcmRzIHtcbiAgZ3JvdXBLZXk6IHN0cmluZztcbiAgY2FyZHM6IEZsYXNoY2FyZFtdO1xufVxuXG5leHBvcnQgY2xhc3MgQ29udGVudExpc3Qge1xuICBwcml2YXRlIHN0YXRlOiBWaWV3U3RhdGU7XG4gIHByaXZhdGUgY2FyZFJlbmRlcmVyOiBDb250ZW50Q2FyZDtcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogVmlld1N0YXRlLCBjYXJkQ2FsbGJhY2tzOiBDYXJkQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuY2FyZFJlbmRlcmVyID0gbmV3IENvbnRlbnRDYXJkKHN0YXRlLCBjYXJkQ2FsbGJhY2tzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTdEMjdcdTUxRDFcdTUyMTdcdTg4NjhcdUZGMDhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICovXG4gIHJlbmRlckNvbXBhY3RMaXN0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHVuaXRzOiBDb250ZW50VW5pdFtdKTogdm9pZCB7XG4gICAgLy8gXHUyQjUwIFx1NjI3RVx1NTFGQVx1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVx1NzY4NCB1bml0IElEc1xuICAgIGNvbnN0IGVkaXRpbmdVbml0SWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wYWN0LWNhcmRbZGF0YS1lZGl0aW5nPVwidHJ1ZVwiXScpLmZvckVhY2goKGNhcmQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCB1bml0SWQgPSBjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS11bml0LWlkJyk7XG4gICAgICBpZiAodW5pdElkKSB7XG4gICAgICAgIGVkaXRpbmdVbml0SWRzLmFkZCh1bml0SWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDEyIFtMaXN0XSBVbml0IGlzIGJlaW5nIGVkaXRlZDonLCB1bml0SWQpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTJCNTAgXHU0RkREXHU3NTU5XHU2QjYzXHU1NzI4XHU3RjE2XHU4RjkxXHU3Njg0XHU1MzYxXHU3MjQ3IERPTVxuICAgIGNvbnN0IGVkaXRpbmdDYXJkc01hcCA9IG5ldyBNYXA8c3RyaW5nLCBIVE1MRWxlbWVudD4oKTtcbiAgICBlZGl0aW5nVW5pdElkcy5mb3JFYWNoKHVuaXRJZCA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXVuaXQtaWQ9XCIke3VuaXRJZH1cIl1gKTtcbiAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgIGVkaXRpbmdDYXJkc01hcC5zZXQodW5pdElkLCBjYXJkIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgLy8gXHUyQjUwIFx1NTNFQVx1NTIyMFx1OTY2NFx1OTc1RVx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVx1NzY4NFx1NTE0M1x1N0QyMFxuICAgIGNvbnN0IGFsbEVsZW1lbnRzID0gQXJyYXkuZnJvbShjb250YWluZXIuY2hpbGRyZW4pO1xuICAgIGFsbEVsZW1lbnRzLmZvckVhY2goKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgdW5pdElkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnKTtcbiAgICAgIGlmICghdW5pdElkIHx8ICFlZGl0aW5nVW5pdElkcy5oYXModW5pdElkKSkge1xuICAgICAgICBlbC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCAmJiBlZGl0aW5nVW5pdElkcy5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLnJlbmRlckVtcHR5U3RhdGUoY29udGFpbmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIFxuICAgIGNvbnN0IGdyb3VwZWQgPSB0aGlzLmdyb3VwVW5pdHModW5pdHMpO1xuICBcbiAgICBncm91cGVkLmZvckVhY2goKHsgZ3JvdXBLZXksIHVuaXRzOiBncm91cFVuaXRzIH0pID0+IHtcbiAgICAgIGNvbnN0IGdyb3VwRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY29udGVudC1ncm91cCcgfSk7XG4gICAgICB0aGlzLnJlbmRlckdyb3VwSGVhZGVyKGdyb3VwRWwsIGdyb3VwS2V5LCBncm91cFVuaXRzLmxlbmd0aCk7XG4gIFxuICAgICAgZ3JvdXBVbml0cy5mb3JFYWNoKHVuaXQgPT4ge1xuICAgICAgICAvLyBcdTJCNTAgXHU1OTgyXHU2NzlDXHU2NzA5XHU0RkREXHU1QjU4XHU3Njg0XHU3RjE2XHU4RjkxXHU0RTJEXHU1MzYxXHU3MjQ3XHVGRjBDXHU3NkY0XHU2M0E1XHU5MUNEXHU3NTI4XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQ2FyZCA9IGVkaXRpbmdDYXJkc01hcC5nZXQodW5pdC5pZCk7XG4gICAgICAgIGlmIChleGlzdGluZ0NhcmQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnXHUyNjdCXHVGRTBGIFtMaXN0XSBSZXVzaW5nIGVkaXRpbmcgY2FyZDonLCB1bml0LmlkKTtcbiAgICAgICAgICBncm91cEVsLmFwcGVuZENoaWxkKGV4aXN0aW5nQ2FyZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jYXJkUmVuZGVyZXIucmVuZGVyQ29tcGFjdChncm91cEVsLCB1bml0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gKiBcdTZFMzJcdTY3RDNcdTdEMjdcdTUxRDFcdTUyMTdcdTg4NjhcdUZGMDhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEYgLSBcdTRFMERcdTUyMDZcdTdFQzRcdUZGMDlcbiAqL1xucmVuZGVyQ29tcGFjdExpc3RXaXRob3V0R3JvdXBpbmcoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdW5pdHM6IENvbnRlbnRVbml0W10pOiB2b2lkIHtcbiAgY29uc3QgZXhpc3RpbmdDYXJkcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFjdC1jYXJkLCAuZ3JvdXAtc2VjdGlvbiwgLmVtcHR5LXN0YXRlJyk7XG4gIGV4aXN0aW5nQ2FyZHMuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMucmVuZGVyRW1wdHlTdGF0ZShjb250YWluZXIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFx1MkI1MCBcdTc2RjRcdTYzQTVcdTZFMzJcdTY3RDNcdUZGMENcdTRFMERcdTUyMDZcdTdFQzRcbiAgdW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICB0aGlzLmNhcmRSZW5kZXJlci5yZW5kZXJDb21wYWN0KGNvbnRhaW5lciwgdW5pdCk7XG4gIH0pO1xufVxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XHU3RjUxXHU2ODNDXHVGRjA4XHU0RTNCXHU3NTRDXHU5NzYyXHU2QTIxXHU1RjBGXHVGRjA5XG4gICAqL1xuICByZW5kZXJDb250ZW50R3JpZChjb250YWluZXI6IEhUTUxFbGVtZW50LCB1bml0czogQ29udGVudFVuaXRbXSk6IHZvaWQge1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5yZW5kZXJFbXB0eVN0YXRlKGNvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgIHRoaXMuY2FyZFJlbmRlcmVyLnJlbmRlckdyaWQoY29udGFpbmVyLCB1bml0KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTk1RUFcdTUzNjFcdTdGNTFcdTY4M0NcbiAgICovXG4gIHJlbmRlckZsYXNoY2FyZHNHcmlkKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhcmRzOiBGbGFzaGNhcmRbXSk6IHZvaWQge1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgaWYgKGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdih7IFxuICAgICAgICB0ZXh0OiAnXHVEODNEXHVEQ0VEIFx1OEJFNVx1NTIwNlx1N0VDNFx1NEUwQlx1NjY4Mlx1NjVFMFx1OTVFQVx1NTM2MScsIFxuICAgICAgICBjbHM6ICdlbXB0eS1zdGF0ZScgXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgdGhpcy5jYXJkUmVuZGVyZXIucmVuZGVyRmxhc2hjYXJkR3JpZChjb250YWluZXIsIGNhcmQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NTIwNlx1N0VDNFx1N0IxNFx1OEJCMFx1NTM1NVx1NTE0M1xuICAgKi9cbiAgZ3JvdXBVbml0cyh1bml0czogQ29udGVudFVuaXRbXSk6IEdyb3VwZWRVbml0c1tdIHtcbiAgICBjb25zdCBncm91cGVkID0gbmV3IE1hcDxzdHJpbmcsIENvbnRlbnRVbml0W10+KCk7XG5cbiAgICB1bml0cy5mb3JFYWNoKHVuaXQgPT4ge1xuICAgICAgY29uc3Qga2V5cyA9IHRoaXMuZ2V0R3JvdXBLZXlzKHVuaXQpO1xuICAgICAgXG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKCFncm91cGVkLmhhcyhrZXkpKSB7XG4gICAgICAgICAgZ3JvdXBlZC5zZXQoa2V5LCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBlZC5nZXQoa2V5KSEucHVzaCh1bml0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuc29ydEdyb3Vwcyhncm91cGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMDZcdTdFQzRcdTk1RUFcdTUzNjFcbiAgICovXG4gIGdyb3VwRmxhc2hjYXJkcyhcbiAgICBjYXJkczogRmxhc2hjYXJkW10sIFxuICAgIGdldFVuaXQ6IChjYXJkSWQ6IHN0cmluZykgPT4gQ29udGVudFVuaXQgfCB1bmRlZmluZWRcbiAgKTogR3JvdXBlZENhcmRzW10ge1xuICAgIGNvbnN0IGdyb3VwZWQgPSBuZXcgTWFwPHN0cmluZywgRmxhc2hjYXJkW10+KCk7XG5cbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgY29uc3QgdW5pdCA9IGdldFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgICAgY29uc3Qga2V5cyA9IHRoaXMuZ2V0Rmxhc2hjYXJkR3JvdXBLZXlzKGNhcmQsIHVuaXQpO1xuICAgICAgXG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKCFncm91cGVkLmhhcyhrZXkpKSB7XG4gICAgICAgICAgZ3JvdXBlZC5zZXQoa2V5LCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBlZC5nZXQoa2V5KSEucHVzaChjYXJkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZ3JvdXBlZC5lbnRyaWVzKCkpXG4gICAgICAubWFwKChbZ3JvdXBLZXksIGNhcmRzXSkgPT4gKHsgZ3JvdXBLZXksIGNhcmRzIH0pKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnYW5ub3RhdGlvbicpIHtcbiAgICAgICAgICBpZiAoYS5ncm91cEtleSA9PT0gJ1x1NjcwOVx1NjI3OVx1NkNFOCcpIHJldHVybiAtMTtcbiAgICAgICAgICBpZiAoYi5ncm91cEtleSA9PT0gJ1x1NjcwOVx1NjI3OVx1NkNFOCcpIHJldHVybiAxO1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgcmV0dXJuIGIuZ3JvdXBLZXkubG9jYWxlQ29tcGFyZShhLmdyb3VwS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYi5jYXJkcy5sZW5ndGggLSBhLmNhcmRzLmxlbmd0aDtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NTM1NVx1NTE0M1x1NzY4NFx1NTIwNlx1N0VDNFx1OTUyRVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRHcm91cEtleXModW5pdDogQ29udGVudFVuaXQpOiBzdHJpbmdbXSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmdyb3VwTW9kZSkge1xuICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgIHJldHVybiBbdW5pdC5zb3VyY2UuZmlsZV07XG4gICAgICBcbiAgICAgIGNhc2UgJ2Fubm90YXRpb24nOlxuICAgICAgICByZXR1cm4gW3VuaXQuYW5ub3RhdGlvbklkID8gJ1x1NjcwOVx1NjI3OVx1NkNFOCcgOiAnXHU2NUUwXHU2Mjc5XHU2Q0U4J107XG4gICAgICBcbiAgICAgIGNhc2UgJ3RhZyc6XG4gICAgICAgIHJldHVybiB1bml0Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoID4gMCBcbiAgICAgICAgICA/IHVuaXQubWV0YWRhdGEudGFncyBcbiAgICAgICAgICA6IFsnXHU2NzJBXHU1MjA2XHU3QzdCJ107XG4gICAgICBcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICByZXR1cm4gW3RoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSh1bml0Lm1ldGFkYXRhLmNyZWF0ZWRBdCkpXTtcbiAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFsnXHU2NzJBXHU1MjA2XHU3RUM0J107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1OTVFQVx1NTM2MVx1NzY4NFx1NTIwNlx1N0VDNFx1OTUyRVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRGbGFzaGNhcmRHcm91cEtleXMoY2FyZDogRmxhc2hjYXJkLCB1bml0PzogQ29udGVudFVuaXQpOiBzdHJpbmdbXSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmdyb3VwTW9kZSkge1xuICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgIHJldHVybiBbY2FyZC5zb3VyY2VGaWxlXTtcbiAgICAgIFxuICAgICAgY2FzZSAnYW5ub3RhdGlvbic6XG4gICAgICAgIGlmICh1bml0ICYmIHVuaXQuYW5ub3RhdGlvbklkKSB7XG4gICAgICAgICAgcmV0dXJuIFsnXHU2NzA5XHU2Mjc5XHU2Q0U4J107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFsnXHU2NUUwXHU2Mjc5XHU2Q0U4J107XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgY2FzZSAndGFnJzpcbiAgICAgICAgaWYgKHVuaXQgJiYgdW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdW5pdC5tZXRhZGF0YS50YWdzO1xuICAgICAgICB9IGVsc2UgaWYgKGNhcmQudGFncyAmJiBjYXJkLnRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBjYXJkLnRhZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FyZC5kZWNrKSB7XG4gICAgICAgICAgcmV0dXJuIFtjYXJkLmRlY2tdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbJ1x1NjcyQVx1NTIwNlx1N0M3QiddO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICByZXR1cm4gW3RoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShjYXJkLm1ldGFkYXRhLmNyZWF0ZWRBdCkpXTtcbiAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFsnXHU2NzJBXHU1MjA2XHU3RUM0J107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NjM5Mlx1NUU4Rlx1NTIwNlx1N0VDNFxuICAgKi9cbiAgcHJpdmF0ZSBzb3J0R3JvdXBzKGdyb3VwZWQ6IE1hcDxzdHJpbmcsIENvbnRlbnRVbml0W10+KTogR3JvdXBlZFVuaXRzW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGdyb3VwZWQuZW50cmllcygpKVxuICAgICAgLm1hcCgoW2dyb3VwS2V5LCB1bml0c10pID0+ICh7IGdyb3VwS2V5LCB1bml0cyB9KSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2Fubm90YXRpb24nKSB7XG4gICAgICAgICAgaWYgKGEuZ3JvdXBLZXkgPT09ICdcdTY3MDlcdTYyNzlcdTZDRTgnKSByZXR1cm4gLTE7XG4gICAgICAgICAgaWYgKGIuZ3JvdXBLZXkgPT09ICdcdTY3MDlcdTYyNzlcdTZDRTgnKSByZXR1cm4gMTtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdkYXRlJykge1xuICAgICAgICAgIHJldHVybiBiLmdyb3VwS2V5LmxvY2FsZUNvbXBhcmUoYS5ncm91cEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGIudW5pdHMubGVuZ3RoIC0gYS51bml0cy5sZW5ndGg7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTUyMDZcdTdFQzRcdTU5MzRcdTkwRThcbiAgICovXG4gIHByaXZhdGUgcmVuZGVyR3JvdXBIZWFkZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZ3JvdXBLZXk6IHN0cmluZywgY291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGhlYWRlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdncm91cC1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiB0aGlzLmdldEdyb3VwSWNvbih0aGlzLnN0YXRlLmdyb3VwTW9kZSksIFxuICAgICAgY2xzOiAnZ3JvdXAtaWNvbicgXG4gICAgfSk7XG4gICAgaGVhZGVyLmNyZWF0ZVNwYW4oeyB0ZXh0OiBncm91cEtleSwgY2xzOiAnZ3JvdXAtdGl0bGUnIH0pO1xuICAgIGhlYWRlci5jcmVhdGVTcGFuKHsgdGV4dDogYCR7Y291bnR9YCwgY2xzOiAnZ3JvdXAtY291bnQnIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1N0E3QVx1NzJCNlx1NjAwMVxuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXJFbXB0eVN0YXRlKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBlbXB0eURpdiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdlbXB0eS1zdGF0ZScgfSk7XG4gICAgXG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlICYmIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgZW1wdHlEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDMycHg7IG1hcmdpbi1ib3R0b206IDEwcHg7XCI+XHVEODNEXHVEQ0VEPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj5cdTVGNTNcdTUyNERcdTY1ODdcdTY4NjNcdTY2ODJcdTY1RTBcdTdCMTRcdThCQjA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxMnB4OyBjb2xvcjogdmFyKC0tdGV4dC1mYWludCk7IG1hcmdpbi10b3A6IDhweDtcIj5cbiAgICAgICAgICAgICR7dGhpcy5zdGF0ZS5maWx0ZXJNb2RlICE9PSAnYWxsJyA/ICdcdTVDMURcdThCRDVcdTUyMDdcdTYzNjJcdTUxNzZcdTRFRDZcdThGQzdcdTZFRTRcdTU2NjhcdTY3RTVcdTc3MEInIDogJ1x1NUYwMFx1NTlDQlx1OUFEOFx1NEVBRVx1NjU4N1x1NjcyQ1x1Njc2NVx1NTIxQlx1NUVGQVx1N0IxNFx1OEJCMCd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1wdHlEaXYudGV4dENvbnRlbnQgPSAnXHU2NjgyXHU2NUUwXHU1MTg1XHU1QkI5JztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MjA2XHU3RUM0XHU1NkZFXHU2ODA3XG4gICAqL1xuICBwcml2YXRlIGdldEdyb3VwSWNvbihtb2RlOiBHcm91cE1vZGUpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgY2FzZSAnZmlsZSc6IHJldHVybiAnXHVEODNEXHVEQ0M0JztcbiAgICAgIGNhc2UgJ2Fubm90YXRpb24nOiByZXR1cm4gJ1x1RDgzRFx1RENBQyc7XG4gICAgICBjYXNlICd0YWcnOiByZXR1cm4gJ1x1RDgzQ1x1REZGN1x1RkUwRic7XG4gICAgICBjYXNlICdkYXRlJzogcmV0dXJuICdcdUQ4M0RcdURDQzUnO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdcdUQ4M0RcdURDQzEnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTY4M0NcdTVGMEZcdTUzMTZcdTY1RTVcdTY3MUZcbiAgICovXG4gIHByaXZhdGUgZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICAgIGRheTogJzItZGlnaXQnXG4gICAgfSk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvQW5ub3RhdGlvbkVkaXRvci50cyAgICBcdTYyNzlcdTZDRThcdTdGMTZcdThGOTFcdTU2NjhcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcyB7XG4gIG9uU2F2ZTogKHVuaXRJZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIG9uQ2FuY2VsOiAodW5pdElkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGdldEFubm90YXRpb25Db250ZW50OiAodW5pdElkOiBzdHJpbmcpID0+IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25FZGl0b3Ige1xuICBwcml2YXRlIGNhbGxiYWNrczogQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcztcbiAgcHJpdmF0ZSBhY3RpdmVFZGl0b3JzOiBNYXA8c3RyaW5nLCBIVE1MRWxlbWVudD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgdG9nZ2xlTG9jazogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBwcml2YXRlIGlzT3BlbmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgY29uc3RydWN0b3IoY2FsbGJhY2tzOiBBbm5vdGF0aW9uRWRpdG9yQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gIH1cblxuLyoqXG4gKiBcdTUyMDdcdTYzNjJcdTUxODVcdTgwNTRcdTYyNzlcdTZDRThcdTdGMTZcdThGOTFcdTU2NjhcbiAqL1xudG9nZ2xlKGNhcmRFbDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gIGlmICh0aGlzLmlzT3BlbmluZykge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMTIgW1RvZ2dsZV0gQmxvY2tlZCAtIGFub3RoZXIgZWRpdG9yIGlzIG9wZW5pbmcnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCBsYXN0VG9nZ2xlID0gdGhpcy50b2dnbGVMb2NrLmdldCh1bml0LmlkKSB8fCAwO1xuICBcbiAgaWYgKG5vdyAtIGxhc3RUb2dnbGUgPCAyMDApIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDA0IFtUb2dnbGVdIERlYm91bmNlZCAtIHRvbyBzb29uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy50b2dnbGVMb2NrLnNldCh1bml0LmlkLCBub3cpO1xuICBcbiAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwNCBbVG9nZ2xlXSBDYWxsZWQgZm9yIHVuaXQ6JywgdW5pdC5pZCk7XG5cbiAgLy8gXHUyQjUwIFx1NEY3Rlx1NzUyOFx1NjZGNFx1NEUyNVx1NjgzQ1x1NzY4NFx1NjhDMFx1NjdFNVxuICBjb25zdCBleGlzdGluZ0VkaXRvciA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJyk7XG4gIGNvbnN0IGlzQ3VycmVudEVkaXRpbmcgPSAhIWV4aXN0aW5nRWRpdG9yO1xuICBcbiAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwNCBbVG9nZ2xlXSBFZGl0b3IgZXhpc3RzOicsIGlzQ3VycmVudEVkaXRpbmcpO1xuICBcbiAgaWYgKGlzQ3VycmVudEVkaXRpbmcpIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVERDA0IFtUb2dnbGVdIENsb3NpbmcgY3VycmVudCBlZGl0b3InKTtcbiAgICB0aGlzLmNsb3NlKGNhcmRFbCwgdW5pdCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gXHUyQjUwIFx1NTM3M1x1NEY3Rlx1NkNBMVx1NjcwOVx1N0YxNlx1OEY5MVx1NTY2OFx1RkYwQ1x1NEU1Rlx1ODk4MVx1NkUwNVx1NzQwNlx1NkI4Qlx1NzU1OVx1NzY4NFx1OTg4NFx1ODlDOFx1NTE0M1x1N0QyMFxuICBjb25zdCBjb250ZW50ID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQsIC5ncmlkLWNhcmQtY29udGVudCcpO1xuICBjb25zdCBvbGRQcmV2aWV3cyA9IGNvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbm5vdGF0aW9uLXByZXZpZXcsIC5ncmlkLWFubm90YXRpb24nKTtcbiAgaWYgKG9sZFByZXZpZXdzICYmIG9sZFByZXZpZXdzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNFXHVEREY5IFtUb2dnbGVdIENsZWFuaW5nIHVwJywgb2xkUHJldmlld3MubGVuZ3RoLCAnc3RhbGUgcHJldmlld3MnKTtcbiAgICBvbGRQcmV2aWV3cy5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgfVxuXG4gIHRoaXMuY2xvc2VBbGxPdGhlcnModW5pdC5pZCk7XG4gIFxuICBjb25zb2xlLmxvZygnXHVEODNEXHVERDA0IFtUb2dnbGVdIE9wZW5pbmcgbmV3IGVkaXRvcicpO1xuICB0aGlzLm9wZW4oY2FyZEVsLCB1bml0KTtcbn1cblxuLyoqXG4gKiBcdTUxNzNcdTk1RURcdTk2NjRcdTYzMDdcdTVCOUEgdW5pdElkIFx1NTkxNlx1NzY4NFx1NjI0MFx1NjcwOVx1N0YxNlx1OEY5MVx1NTY2OFxuICovXG5wcml2YXRlIGNsb3NlQWxsT3RoZXJzKGN1cnJlbnRVbml0SWQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBhbGxFZGl0aW5nQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lZGl0aW5nPVwidHJ1ZVwiXScpO1xuICBcbiAgaWYgKGFsbEVkaXRpbmdDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwNCBbQ2xvc2VPdGhlcnNdIENsb3NpbmcgZWRpdG9yczonLCBhbGxFZGl0aW5nQ2FyZHMubGVuZ3RoKTtcbiAgICBcbiAgICBhbGxFZGl0aW5nQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgdW5pdElkID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdW5pdC1pZCcpO1xuICAgICAgaWYgKHVuaXRJZCAmJiB1bml0SWQgIT09IGN1cnJlbnRVbml0SWQpIHtcbiAgICAgICAgY29uc3QgdW5pdCA9IHsgaWQ6IHVuaXRJZCB9IGFzIENvbnRlbnRVbml0O1xuICAgICAgICB0aGlzLmNsb3NlKGNhcmQgYXMgSFRNTEVsZW1lbnQsIHVuaXQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogXHU2MjUzXHU1RjAwXHU3RjE2XHU4RjkxXHU1NjY4XG4gKi9cbnByaXZhdGUgb3BlbihjYXJkRWw6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICB0aGlzLmlzT3BlbmluZyA9IHRydWU7XG4gIFxuICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0REIFtFZGl0b3JdIE9wZW5pbmcgZWRpdG9yIGZvciB1bml0OicsIHVuaXQuaWQpO1xuICBcbiAgY2FyZEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1lZGl0aW5nJywgJ3RydWUnKTtcbiAgXG4gIGNvbnN0IGFubm90YXRpb25Db250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdC5pZCk7XG4gIGNvbnN0IGNvbnRlbnQgPSBjYXJkRWwucXVlcnlTZWxlY3RvcignLmNhcmQtY29udGVudCwgLmdyaWQtY2FyZC1jb250ZW50JykgYXMgSFRNTEVsZW1lbnQ7XG4gIFxuICBjb25zdCBleGlzdGluZ1ByZXZpZXdzID0gY29udGVudD8ucXVlcnlTZWxlY3RvckFsbCgnLmFubm90YXRpb24tcHJldmlldywgLmdyaWQtYW5ub3RhdGlvbicpO1xuICBleGlzdGluZ1ByZXZpZXdzPy5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgXG4gIGNvbnN0IGV4aXN0aW5nRWRpdG9ycyA9IGNvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKTtcbiAgZXhpc3RpbmdFZGl0b3JzPy5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgXG4gIGNvbnN0IGVkaXRvciA9IHRoaXMuY3JlYXRlRWRpdG9yKHVuaXQuaWQsIGFubm90YXRpb25Db250ZW50IHx8ICcnKTtcbiAgXG4gIGNvbnN0IG5vdGVUZXh0ID0gY29udGVudD8ucXVlcnlTZWxlY3RvcignLm5vdGUtdGV4dCwgLmdyaWQtbm90ZS10ZXh0JykgYXMgSFRNTEVsZW1lbnQ7XG4gIGlmIChub3RlVGV4dCkge1xuICAgIG5vdGVUZXh0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBlZGl0b3IpO1xuICB9IGVsc2Uge1xuICAgIGNvbnRlbnQ/LmFwcGVuZENoaWxkKGVkaXRvcik7XG4gIH1cbiAgXG4gIC8vIFx1MkI1MCBcdTU5MUFcdTZCMjFcdTY4QzBcdTY3RTUgRE9NIFx1NzJCNlx1NjAwMVxuICBjb25zb2xlLmxvZygnXHVEODNEXHVERDBEIFtFZGl0b3JdIEltbWVkaWF0ZWx5IGFmdGVyIGluc2VydDonLCB7XG4gICAgZWRpdG9ySW5ET006IGRvY3VtZW50LmJvZHkuY29udGFpbnMoZWRpdG9yKSxcbiAgICBlZGl0b3JQYXJlbnQ6IGVkaXRvci5wYXJlbnRFbGVtZW50Py5jbGFzc05hbWUsXG4gICAgY2FyZEVkaXRpbmc6IGNhcmRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdGluZycpXG4gIH0pO1xuICBcbiAgY29uc3QgdGV4dGFyZWEgPSBlZGl0b3IucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICB0ZXh0YXJlYS5mb2N1cygpO1xuICB0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSh0ZXh0YXJlYS52YWx1ZS5sZW5ndGgsIHRleHRhcmVhLnZhbHVlLmxlbmd0aCk7XG5cbiAgdGhpcy5hY3RpdmVFZGl0b3JzLnNldCh1bml0LmlkLCBlZGl0b3IpO1xuICBcbiAgLy8gXHUyQjUwIDUwbXMgXHU1NDBFXHU2OEMwXHU2N0U1XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMEQgW0VkaXRvcl0gQWZ0ZXIgNTBtczonLCB7XG4gICAgICBlZGl0b3JJbkRPTTogZG9jdW1lbnQuYm9keS5jb250YWlucyhlZGl0b3IpLFxuICAgICAgZWRpdG9yUGFyZW50OiBlZGl0b3IucGFyZW50RWxlbWVudD8uY2xhc3NOYW1lLFxuICAgICAgY2FyZEVkaXRpbmc6IGNhcmRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdGluZycpXG4gICAgfSk7XG4gIH0sIDUwKTtcbiAgXG4gIC8vIFx1MkI1MCAxMDBtcyBcdTU0MEVcdTY4QzBcdTY3RTVcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1x1RDgzRFx1REQwRCBbRWRpdG9yXSBBZnRlciAxMDBtczonLCB7XG4gICAgICBlZGl0b3JJbkRPTTogZG9jdW1lbnQuYm9keS5jb250YWlucyhlZGl0b3IpLFxuICAgICAgZWRpdG9yUGFyZW50OiBlZGl0b3IucGFyZW50RWxlbWVudD8uY2xhc3NOYW1lLFxuICAgICAgY2FyZEVkaXRpbmc6IGNhcmRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdGluZycpXG4gICAgfSk7XG4gIH0sIDEwMCk7XG4gIFxuICAvLyBcdTJCNTAgMjUwbXMgXHU1NDBFXHU2OEMwXHU2N0U1XHVGRjA4XHU1NzI4XHU1MTY4XHU1QzQwXHU5NTAxXHU5MUNBXHU2NTNFXHU1NDBFXHVGRjA5XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMEQgW0VkaXRvcl0gQWZ0ZXIgMjUwbXMgKHBvc3QtbG9jayk6Jywge1xuICAgICAgZWRpdG9ySW5ET006IGRvY3VtZW50LmJvZHkuY29udGFpbnMoZWRpdG9yKSxcbiAgICAgIGVkaXRvclBhcmVudDogZWRpdG9yLnBhcmVudEVsZW1lbnQ/LmNsYXNzTmFtZSxcbiAgICAgIGNhcmRFZGl0aW5nOiBjYXJkRWwuZ2V0QXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnKSxcbiAgICAgIGhhc1ByZXZpZXc6ICEhY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5hbm5vdGF0aW9uLXByZXZpZXcnKVxuICAgIH0pO1xuICAgIFxuICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhlZGl0b3IpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdcdUQ4M0RcdURFQTggW0VkaXRvcl0gRURJVE9SIFdBUyBSRU1PVkVEIScpO1xuICAgIH1cbiAgICBpZiAoY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5hbm5vdGF0aW9uLXByZXZpZXcnKSkge1xuICAgICAgY29uc29sZS5lcnJvcignXHVEODNEXHVERUE4IFtFZGl0b3JdIFBSRVZJRVcgV0FTIFJFQ1JFQVRFRCEnKTtcbiAgICB9XG4gIH0sIDI1MCk7XG4gIFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0aGlzLmlzT3BlbmluZyA9IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMTMgW0VkaXRvcl0gR2xvYmFsIGxvY2sgcmVsZWFzZWQnKTtcbiAgfSwgMjAwKTtcbiAgXG4gIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDREQgW0VkaXRvcl0gRWRpdG9yIG9wZW5lZCBzdWNjZXNzZnVsbHknKTtcbn1cbiAgLyoqXG4gICAqIFx1NTE3M1x1OTVFRFx1N0YxNlx1OEY5MVx1NTY2OFxuICAgKi9cblxuICBwcml2YXRlIGNsb3NlKGNhcmRFbDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coJ1x1Mjc0QyBbRWRpdG9yXSBDbG9zZSBjYWxsZWQnLCB7IHVuaXRJZDogdW5pdC5pZCB9KTtcbiAgICBcbiAgICBjb25zdCBlZGl0b3IgPSBjYXJkRWwucXVlcnlTZWxlY3RvcignLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICghZWRpdG9yKSB7XG4gICAgICBjYXJkRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnKTtcbiAgICAgIHRoaXMuYWN0aXZlRWRpdG9ycy5kZWxldGUodW5pdC5pZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBlZGl0b3IucmVtb3ZlKCk7XG4gICAgdGhpcy5hY3RpdmVFZGl0b3JzLmRlbGV0ZSh1bml0LmlkKTtcbiAgICBjYXJkRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnKTtcbiAgXG4gICAgLy8gXHUyQjUwIFx1NEZFRVx1NjUzOTpcdTdBQ0JcdTUzNzNcdTkxQ0RcdTVFRkFcdTk4ODRcdTg5QzgsXHU0RTBEXHU0RjdGXHU3NTI4IHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgIGNvbnN0IGFubm90YXRpb25Db250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdC5pZCk7XG4gICAgaWYgKGFubm90YXRpb25Db250ZW50KSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQsIC5ncmlkLWNhcmQtY29udGVudCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgXG4gICAgICAvLyBcdTJCNTAgXHU1MTQ4XHU2RTA1XHU3NDA2XHU2NUU3XHU5ODg0XHU4OUM4XG4gICAgICBjb25zdCBvbGRQcmV2aWV3ID0gY29udGVudD8ucXVlcnlTZWxlY3RvcignLmFubm90YXRpb24tcHJldmlldywgLmdyaWQtYW5ub3RhdGlvbicpO1xuICAgICAgaWYgKG9sZFByZXZpZXcpIHtcbiAgICAgICAgb2xkUHJldmlldy5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHUyQjUwIFx1N0FDQlx1NTM3M1x1NTIxQlx1NUVGQVx1NjVCMFx1OTg4NFx1ODlDOFxuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5yZWNyZWF0ZVByZXZpZXcoY29udGVudCwgY2FyZEVsLCB1bml0LCBhbm5vdGF0aW9uQ29udGVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcdTI3MDUgW0VkaXRvcl0gUHJldmlldyByZWNyZWF0ZWQgaW1tZWRpYXRlbHknKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuLyoqXG4gKiBcdTUyMUJcdTVFRkFcdTdGMTZcdThGOTFcdTU2NjhcdTUxNDNcdTdEMjBcbiAqL1xucHJpdmF0ZSBjcmVhdGVFZGl0b3IodW5pdElkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZWRpdG9yLmNsYXNzTmFtZSA9ICdpbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InO1xuICBcblxuXG4gIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgdGV4dGFyZWEuY2xhc3NOYW1lID0gJ2lubGluZS1hbm5vdGF0aW9uLXRleHRhcmVhJztcbiAgdGV4dGFyZWEucGxhY2Vob2xkZXIgPSAnQWRkIGNvbW1lbnQuLi4nO1xuICB0ZXh0YXJlYS52YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnLCB1bml0SWQpO1xuICBcbiAgY29uc3QgaGludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBoaW50LmNsYXNzTmFtZSA9ICdpbmxpbmUtYW5ub3RhdGlvbi1oaW50JztcbiAgaGludC50ZXh0Q29udGVudCA9ICdTaGlmdCArIEVudGVyIHRvIGluc2VydCBhIG5ldyBsaW5lJztcbiAgXG4gIGVkaXRvci5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XG4gIGVkaXRvci5hcHBlbmRDaGlsZChoaW50KTtcbiAgICAvLyBcdTJCNTAgXHU3NkQxXHU2M0E3XHU2ODM3XHU1RjBGXHU4OEFCXHU0RkVFXHU2NTM5XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBtdXRhdGlvbnMuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycgJiYgbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1x1RDgzRFx1REVBOCBbRWRpdG9yXSBTdHlsZSB3YXMgbW9kaWZpZWQhJywge1xuICAgICAgICAgICAgb2xkVmFsdWU6IG11dGF0aW9uLm9sZFZhbHVlLFxuICAgICAgICAgICAgbmV3VmFsdWU6IGVkaXRvci5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyksXG4gICAgICAgICAgICBzdGFjazogbmV3IEVycm9yKCkuc3RhY2tcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlZGl0b3IsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydzdHlsZSddXG4gICAgfSk7XG5cbiAgXG4gIC8vIFx1N0VEMVx1NUI5QVx1NTE3Nlx1NEVENlx1NEU4Qlx1NEVGNlxuICB0aGlzLmJpbmRFZGl0b3JFdmVudHModGV4dGFyZWEsIHVuaXRJZCk7XG5cbiAgcmV0dXJuIGVkaXRvcjtcbn1cblxuXG4vKipcbiAqIFx1N0VEMVx1NUI5QVx1N0YxNlx1OEY5MVx1NTY2OFx1NEU4Qlx1NEVGNlxuICovXG5wcml2YXRlIGJpbmRFZGl0b3JFdmVudHModGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQsIHVuaXRJZDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnNvbGUubG9nKCdcdUQ4M0RcdUREMTcgW0VkaXRvcl0gQmluZGluZyBldmVudHMgZm9yIHVuaXQ6JywgdW5pdElkKTtcbiAgXG4gIGxldCBoYXNGb2N1c2VkID0gZmFsc2U7IC8vIFx1MkI1MCBcdTY4MDdcdThCQjBcdTY2MkZcdTU0MjZcdTc3MUZcdTZCNjNcdTgzQjdcdTVGOTdcdThGQzdcdTcxMjZcdTcwQjlcbiAgXG4gIC8vIFx1MkI1MCBcdTc2RDFcdTU0MkNcdTk5OTZcdTZCMjFcdTgzQjdcdTVGOTdcdTcxMjZcdTcwQjlcbiAgY29uc3Qgb25GaXJzdEZvY3VzID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdcdTI3MDUgW0VkaXRvcl0gRmlyc3QgZm9jdXMgY29uZmlybWVkIGZvciB1bml0OicsIHVuaXRJZCk7XG4gICAgaGFzRm9jdXNlZCA9IHRydWU7XG4gICAgdGV4dGFyZWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBvbkZpcnN0Rm9jdXMpO1xuICB9O1xuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIG9uRmlyc3RGb2N1cyk7XG4gIFxuICAvLyBcdTJCNTAgXHU1RUY2XHU4RkRGXHU3RUQxXHU1QjlBIGJsdXIgXHU0RThCXHU0RUY2XG4vLyBcdTJCNTAgXHU1RUY2XHU4RkRGXHU3RUQxXHU1QjlBIGJsdXIgXHU0RThCXHU0RUY2XG5zZXRUaW1lb3V0KCgpID0+IHtcbiAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGFzeW5jIChlKSA9PiB7XG4gICAgLy8gXHUyQjUwIFx1NTNFQVx1NjcwOVx1NzcxRlx1NkI2M1x1ODNCN1x1NUY5N1x1OEZDN1x1NzEyNlx1NzBCOVx1NTQwRVx1NjI0RFx1NTkwNFx1NzQwNiBibHVyXG4gICAgaWYgKCFoYXNGb2N1c2VkKSB7XG4gICAgICBjb25zb2xlLmxvZygnXHUyM0VEXHVGRTBGIFtFZGl0b3JdIElnbm9yaW5nIGJsdXIgLSBuZXZlciBmb2N1c2VkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDNDFcdUZFMEYgW0VkaXRvcl0gQmx1ciBldmVudCBmb3IgdW5pdDonLCB1bml0SWQpO1xuICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBlLnJlbGF0ZWRUYXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgZWRpdG9yID0gdGV4dGFyZWEuY2xvc2VzdCgnLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGNhcmQgPSBlZGl0b3I/LmNsb3Nlc3QoJy5jb21wYWN0LWNhcmQsIC5ncmlkLWNhcmQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBcbiAgICAvLyBcdTJCNTAgXHU2OEMwXHU2N0U1XHU3MTI2XHU3MEI5XHU2NjJGXHU1NDI2XHU3OUZCXHU1MjMwXHU0RTg2XHU3RjE2XHU4RjkxXHU1NjY4XHU1OTE2XHU5MEU4XG4gICAgaWYgKCFyZWxhdGVkVGFyZ2V0IHx8ICFlZGl0b3IuY29udGFpbnMocmVsYXRlZFRhcmdldCkpIHtcbiAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBcdTJCNTAgXHU1MThEXHU2QjIxXHU2OEMwXHU2N0U1XHU3RjE2XHU4RjkxXHU1NjY4XHU2NjJGXHU1NDI2XHU4RkQ4XHU1NzI4IERPTSBcdTRFMkRcbiAgICAgICAgaWYgKGVkaXRvci5wYXJlbnRFbGVtZW50ICYmIGNhcmQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0JFIFtFZGl0b3JdIFNhdmluZyBhbmQgY2xvc2luZyBvbiBibHVyIGZvciB1bml0OicsIHVuaXRJZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gXHU0RkREXHU1QjU4XHU1MTg1XHU1QkI5XG4gICAgICAgICAgYXdhaXQgdGhpcy5jYWxsYmFja3Mub25TYXZlKHVuaXRJZCwgdGV4dGFyZWEudmFsdWUudHJpbSgpKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBcdTUxNzNcdTk1RURcdTdGMTZcdThGOTFcdTU2NjhcbiAgICAgICAgICBjb25zdCB1bml0ID0geyBpZDogdW5pdElkIH0gYXMgQ29udGVudFVuaXQ7XG4gICAgICAgICAgdGhpcy5jbG9zZShjYXJkLCB1bml0KTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gIH0pO1xufSwgMzAwKTtcblxuICAvLyBUYWIgXHU5NTJFXHU0RkREXHU1QjU4XG4gIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhc3luYyAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ1RhYicpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdcdTIzMjhcdUZFMEYgW0VkaXRvcl0gVGFiIGtleSBwcmVzc2VkIGZvciB1bml0OicsIHVuaXRJZCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBlZGl0b3IgPSB0ZXh0YXJlYS5jbG9zZXN0KCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBhd2FpdCB0aGlzLnNhdmUoZWRpdG9yLCB1bml0SWQsIHRleHRhcmVhLnZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gXHU5NjNCXHU2QjYyXHU0RThCXHU0RUY2XHU1MTkyXHU2Q0UxXG4gIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIFxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG59XG4gIC8qKlxuICAgKiBcdTRGRERcdTVCNThcdTYyNzlcdTZDRThcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2F2ZShlZGl0b3JFbDogSFRNTEVsZW1lbnQsIHVuaXRJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0JFIFtTYXZlXSBTYXZpbmcgYW5ub3RhdGlvbiBmb3IgdW5pdDonLCB1bml0SWQpO1xuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQkUgW1NhdmVdIEVkaXRvciBlbGVtZW50OicsIGVkaXRvckVsKTtcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0JFIFtTYXZlXSBFZGl0b3IgcGFyZW50IGJlZm9yZSBzYXZlOicsIGVkaXRvckVsLnBhcmVudEVsZW1lbnQpO1xuICAgIFxuICAgIGNvbnN0IHRyaW1tZWRUZXh0ID0gdGV4dC50cmltKCk7XG4gICAgXG4gICAgYXdhaXQgdGhpcy5jYWxsYmFja3Mub25TYXZlKHVuaXRJZCwgdHJpbW1lZFRleHQpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDQkUgW1NhdmVdIEFmdGVyIGNhbGxiYWNrIC0gRWRpdG9yIHBhcmVudDonLCBlZGl0b3JFbC5wYXJlbnRFbGVtZW50KTtcbiAgICBcbiAgICBjb25zdCBjYXJkID0gZWRpdG9yRWwuY2xvc2VzdCgnLmNvbXBhY3QtY2FyZCwgLmdyaWQtY2FyZCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIGVkaXRvckVsLnJlbW92ZSgpO1xuICAgIHRoaXMuYWN0aXZlRWRpdG9ycy5kZWxldGUodW5pdElkKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnXHVEODNEXHVEQ0JFIFtTYXZlXSBFZGl0b3IgcmVtb3ZlZCcpO1xuXG4gICAgXG4gICAgaWYgKHRyaW1tZWRUZXh0ICYmIGNhcmQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWNvbnRlbnQsIC5ncmlkLWNhcmQtY29udGVudCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgLy8gXHU5MDFBXHU4RkM3XHU1NkRFXHU4QzAzXHU4M0I3XHU1M0Q2XHU2NzAwXHU2NUIwXHU3Njg0XHU2Mjc5XHU2Q0U4XHU1MTg1XHU1QkI5XG4gICAgICAgIGNvbnN0IGxhdGVzdENvbnRlbnQgPSB0aGlzLmNhbGxiYWNrcy5nZXRBbm5vdGF0aW9uQ29udGVudCh1bml0SWQpO1xuICAgICAgICBpZiAobGF0ZXN0Q29udGVudCkge1xuICAgICAgICAgIC8vIFx1OTcwMFx1ODk4MVx1NEYyMFx1NTE2NVx1NUI4Q1x1NjU3NFx1NzY4NCBDb250ZW50VW5pdFx1RkYwQ1x1OEZEOVx1OTFDQ1x1N0I4MFx1NTMxNlx1NTkwNFx1NzQwNlxuICAgICAgICAgIHRoaXMucmVjcmVhdGVQcmV2aWV3KGNvbnRlbnQsIGNhcmQsIHsgaWQ6IHVuaXRJZCB9IGFzIENvbnRlbnRVbml0LCBsYXRlc3RDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gXHU2NkY0XHU2NUIwIGluZGljYXRvclxuICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWluZGljYXRvcicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBpZiAoaW5kaWNhdG9yICYmICFpbmRpY2F0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtYW5ub3RhdGlvbicpKSB7XG4gICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2hhcy1hbm5vdGF0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCF0cmltbWVkVGV4dCAmJiBjYXJkKSB7XG4gICAgICBjb25zdCBpbmRpY2F0b3IgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWluZGljYXRvcicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKGluZGljYXRvciAmJiBpbmRpY2F0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtYW5ub3RhdGlvbicpKSB7XG4gICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtYW5ub3RhdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTkxQ0RcdTY1QjBcdTUyMUJcdTVFRkFcdTYyNzlcdTZDRThcdTk4ODRcdTg5QzhcbiAgICovXG4gIHByaXZhdGUgcmVjcmVhdGVQcmV2aWV3KFxuICAgIGNvbnRlbnRFbDogSFRNTEVsZW1lbnQsXG4gICAgY2FyZEVsOiBIVE1MRWxlbWVudCxcbiAgICB1bml0OiBDb250ZW50VW5pdCxcbiAgICBhbm5vdGF0aW9uVGV4dDogc3RyaW5nXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGV4aXN0aW5nUHJldmlldyA9IGNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcuYW5ub3RhdGlvbi1wcmV2aWV3LCAuZ3JpZC1hbm5vdGF0aW9uJyk7XG4gICAgaWYgKGV4aXN0aW5nUHJldmlldykge1xuICAgICAgZXhpc3RpbmdQcmV2aWV3LnJlbW92ZSgpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBpc0dyaWRDYXJkID0gY2FyZEVsLmNsYXNzTGlzdC5jb250YWlucygnZ3JpZC1jYXJkJyk7XG4gICAgY29uc3QgYW5uRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhbm5FbC5jbGFzc05hbWUgPSBpc0dyaWRDYXJkID8gJ2dyaWQtYW5ub3RhdGlvbicgOiAnYW5ub3RhdGlvbi1wcmV2aWV3JztcbiAgICBcbiAgICBpZiAoaXNHcmlkQ2FyZCkge1xuICAgICAgYW5uRWwuaW5uZXJIVE1MID0gYDxzdHJvbmc+XHU2Mjc5XHU2Q0U4XHVGRjFBPC9zdHJvbmc+JHthbm5vdGF0aW9uVGV4dH1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGFubm90YXRpb25UZXh0Lmxlbmd0aCA+IDYwXG4gICAgICAgID8gYW5ub3RhdGlvblRleHQuc3Vic3RyaW5nKDAsIDYwKSArICcuLi4nXG4gICAgICAgIDogYW5ub3RhdGlvblRleHQ7XG4gICAgICBhbm5FbC50ZXh0Q29udGVudCA9IGBcdUQ4M0RcdURDQUMgJHtkaXNwbGF5VGV4dH1gO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTcwQjlcdTUxRkJcdTRFOEJcdTRFRjZcbiAgICBhbm5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBUYWIgXHU5NTJFXHU0RThCXHU0RUY2XG4gICAgYW5uRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdUYWInKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcubm90ZS10ZXh0LCAuZ3JpZC1ub3RlLXRleHQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAobm90ZVRleHQpIHtcbiAgICAgIG5vdGVUZXh0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBhbm5FbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnRFbC5hcHBlbmRDaGlsZChhbm5FbCk7XG4gICAgfVxuICAgIFxuICAgIGFubkVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIGFubkVsLmZvY3VzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MTczXHU5NUVEXHU2MjQwXHU2NzA5XHU2RDNCXHU1MkE4XHU3Njg0XHU3RjE2XHU4RjkxXHU1NjY4XG4gICAqL1xuICBjbG9zZUFsbCgpOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2ZUVkaXRvcnMuZm9yRWFjaCgoZWRpdG9yKSA9PiB7XG4gICAgICBlZGl0b3IucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5hY3RpdmVFZGl0b3JzLmNsZWFyKCk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL3NlcnZpY2VzL092ZXJ2aWV3U2VydmljZS50c1xuXG5pbXBvcnQgeyBBcHAsIEl0ZW1WaWV3LCBURmlsZSwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgUXVpY2tGbGFzaGNhcmRDcmVhdG9yIH0gZnJvbSAnLi4vLi4vY29yZS9RdWlja0ZsYXNoY2FyZENyZWF0b3InO1xuaW1wb3J0IHsgVmlld1N0YXRlIH0gZnJvbSAnLi4vc3RhdGUvVmlld1N0YXRlJztcblxuZXhwb3J0IGNsYXNzIHNpZGVPdmVydmlld1NlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sXG4gICAgcHJpdmF0ZSBzdGF0ZTogVmlld1N0YXRlXG4gICkge31cblxuICAvKipcbiAgICogXHU4REYzXHU4RjZDXHU1MjMwXHU3QjE0XHU4QkIwXHU3Njg0XHU2RTkwXHU2NTg3XHU0RUY2XHU0RjREXHU3RjZFXG4gICAqL1xuICBhc3luYyBqdW1wVG9Tb3VyY2UodW5pdDogQ29udGVudFVuaXQsIGFwcDogQXBwKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZmlsZSA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodW5pdC5zb3VyY2UuZmlsZSk7XG4gICAgaWYgKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xuICAgICAgbmV3IE5vdGljZSgnXHUyNkEwXHVGRTBGIFx1NjU4N1x1NEVGNlx1NEUwRFx1NUI1OFx1NTcyOCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnN0YXRlLnNob3VsZFJlc3RvcmVTY3JvbGwgPSB0cnVlO1xuICAgIFxuICAgIGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB2aWV3ID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKEl0ZW1WaWV3KTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9ICh2aWV3IGFzIGFueSkuZWRpdG9yO1xuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgY29uc3QgbGluZSA9IHVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmU7XG4gICAgICAgICAgY29uc3QgbGluZUNvdW50ID0gZWRpdG9yLmxpbmVDb3VudCgpO1xuICAgICAgICAgIGNvbnN0IHZhbGlkTGluZSA9IE1hdGgubWluKGxpbmUsIGxpbmVDb3VudCAtIDEpO1xuICAgICAgICAgIFxuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0pO1xuICAgICAgICAgIGVkaXRvci5zY3JvbGxJbnRvVmlldyhcbiAgICAgICAgICAgIHsgZnJvbTogeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0sIHRvOiB7IGxpbmU6IHZhbGlkTGluZSwgY2g6IDAgfSB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gZWRpdG9yLmdldExpbmUodmFsaWRMaW5lKT8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgIGVkaXRvci5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0sXG4gICAgICAgICAgICAgICAgeyBsaW5lOiB2YWxpZExpbmUsIGNoOiBsaW5lTGVuZ3RoIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2VsZWN0aW9uIGVycm9yOicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAyMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NEZERFx1NUI1OFx1NjIxNlx1NTIyMFx1OTY2NFx1NjI3OVx1NkNFOFxuICAgKi9cbiAgYXN5bmMgc2F2ZUFubm90YXRpb24odW5pdElkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHRyaW1tZWRUZXh0ID0gY29udGVudC50cmltKCk7XG4gICAgY29uc3QgYW5ub3RhdGlvbiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKHVuaXRJZCk7XG4gICAgXG4gICAgaWYgKHRyaW1tZWRUZXh0KSB7XG4gICAgICBpZiAoYW5ub3RhdGlvbikge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci51cGRhdGVBbm5vdGF0aW9uKGFubm90YXRpb24uaWQsIHtcbiAgICAgICAgICBjb250ZW50OiB0cmltbWVkVGV4dFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmFkZENvbnRlbnRBbm5vdGF0aW9uKHVuaXRJZCwgdHJpbW1lZFRleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYW5ub3RhdGlvbikge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uLmlkKTtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1RDgzRFx1REREMVx1RkUwRiBcdTYyNzlcdTZDRThcdTVERjJcdTUyMjBcdTk2NjQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQUkgXHU1RkVCXHU5MDFGXHU3NTFGXHU2MjEwXHU5NUVBXHU1MzYxXG4gICAqL1xuICBhc3luYyBxdWlja0dlbmVyYXRlRmxhc2hjYXJkKHVuaXQ6IENvbnRlbnRVbml0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNyZWF0b3IgPSBuZXcgUXVpY2tGbGFzaGNhcmRDcmVhdG9yKHRoaXMucGx1Z2luKTtcbiAgICAgIFxuICAgICAgLy8gXHU3QjQ5XHU1Rjg1XHU5NUVBXHU1MzYxXHU1MjFCXHU1RUZBXHU1QjhDXHU2MjEwXG4gICAgICBhd2FpdCBjcmVhdG9yLmNyZWF0ZVNtYXJ0Q2FyZCh1bml0KTtcblxuICAgICAgLy8gXHU3RUQ5XHU0RTAwXHU0RTJBXHU3N0VEXHU2NjgyXHU1RUY2XHU4RkRGXHU3ODZFXHU0RkREXHU2NTcwXHU2MzZFXHU1REYyXHU1MTk5XHU1MTY1XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTUwKSk7XG4gICAgICBcbiAgICAgIG5ldyBOb3RpY2UoJ1x1MjZBMSBcdTk1RUFcdTUzNjFcdTVERjJcdTc1MUZcdTYyMTAnKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKCdcdTI3NEMgXHU3NTFGXHU2MjEwXHU5NUVBXHU1MzYxXHU1OTMxXHU4RDI1Jyk7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2Mjc5XHU5MUNGXHU1MjIwXHU5NjY0XHU3QjE0XHU4QkIwXG4gICAqL1xuICBhc3luYyBiYXRjaERlbGV0ZU5vdGVzKHVuaXRJZHM6IFNldDxzdHJpbmc+KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfT4ge1xuICAgIGxldCBzdWNjZXNzID0gMDtcbiAgICBsZXQgZmFpbGVkID0gMDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHVuaXRJZCBvZiB1bml0SWRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQodW5pdElkKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1bml0KSB7XG4gICAgICAgICAgLy8gXHU1MTQ4XHU1MjIwXHU5NjY0XHU1MTczXHU4MDU0XHU3Njg0XHU5NUVBXHU1MzYxXG4gICAgICAgICAgaWYgKHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FyZElkIG9mIHVuaXQuZmxhc2hjYXJkSWRzKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZGVsZXRlQ2FyZChjYXJkSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZGVsZXRlQ29udGVudFVuaXQodW5pdElkKTtcbiAgICAgICAgc3VjY2VzcysrO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgbm90ZTonLCBlcnJvcik7XG4gICAgICAgIGZhaWxlZCsrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzLCBmYWlsZWQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNzlcdTkxQ0ZcdTUyMjBcdTk2NjRcdTk1RUFcdTUzNjFcbiAgICovXG4gIGFzeW5jIGJhdGNoRGVsZXRlRmxhc2hjYXJkcyhjYXJkSWRzOiBTZXQ8c3RyaW5nPik6IFByb21pc2U8eyBzdWNjZXNzOiBudW1iZXI7IGZhaWxlZDogbnVtYmVyIH0+IHtcbiAgICBsZXQgc3VjY2VzcyA9IDA7XG4gICAgbGV0IGZhaWxlZCA9IDA7XG4gICAgXG4gICAgZm9yIChjb25zdCBjYXJkSWQgb2YgY2FyZElkcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmRJZCk7XG4gICAgICAgIHN1Y2Nlc3MrKztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICAgIGZhaWxlZCsrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzLCBmYWlsZWQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTYyNzlcdTZDRThcdTUxODVcdTVCQjlcbiAgICovXG4gIGdldEFubm90YXRpb25Db250ZW50KHVuaXRJZDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBhbm4gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRDb250ZW50QW5ub3RhdGlvbih1bml0SWQpO1xuICAgIHJldHVybiBhbm4/LmNvbnRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogXHU4REYzXHU4RjZDXHU1MjMwXHU5NUVBXHU1MzYxXHU3Njg0XHU2RTkwXHU2NTg3XHU0RUY2XG4gICAqL1xuICBhc3luYyBqdW1wVG9GbGFzaGNhcmRTb3VyY2UoY2FyZElkOiBzdHJpbmcsIGFwcDogQXBwKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGNhcmRJZCk7XG4gICAgaWYgKCFjYXJkKSB7XG4gICAgICBuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgXHU2MjdFXHU0RTBEXHU1MjMwXHU5NUVBXHU1MzYxJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNhcmQuc291cmNlQ29udGVudElkKTtcbiAgICBpZiAodW5pdCkge1xuICAgICAgYXdhaXQgdGhpcy5qdW1wVG9Tb3VyY2UodW5pdCwgYXBwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU1MTczXHU4MDU0XHU3Njg0XHU3QjE0XHU4QkIwXHU1MzU1XHU1MTQzXHVGRjBDXHU1M0VBXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2XG4gICAgICBjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChjYXJkLnNvdXJjZUZpbGUpO1xuICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICBhd2FpdCBhcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpLm9wZW5GaWxlKGZpbGUpO1xuICAgICAgICBuZXcgTm90aWNlKCdcdTI3MDUgXHU1REYyXHU2MjUzXHU1RjAwXHU2RTkwXHU2NTg3XHU0RUY2Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgXHU2MjdFXHU0RTBEXHU1MjMwXHU1MzlGXHU1OUNCXHU3QjE0XHU4QkIwJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NkZDMFx1NkQzQlx1N0VERlx1OEJBMVx1ODlDNlx1NTZGRVxuICAgKi9cbiAgYWN0aXZhdGVTdGF0c1ZpZXcoKTogdm9pZCB7XG4gICAgdGhpcy5wbHVnaW4uYWN0aXZhdGVTdGF0cygpO1xuICB9XG59IiwgIi8vIHNyYy91aS9tb2RhbHMvTWFudWFsRmxhc2hjYXJkTW9kYWwudHNcblxuaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2V0dGluZywgVGV4dEFyZWFDb21wb25lbnQsIEJ1dHRvbkNvbXBvbmVudCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcsIFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXIH0gZnJvbSAnLi4vLi4vdmlldy9TaWRlYmFyT3ZlcnZpZXdWaWV3JztcblxuZXhwb3J0IGNsYXNzIE1hbnVhbEZsYXNoY2FyZE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICB1bml0OiBDb250ZW50VW5pdDtcbiAgdHlwZTogJ3FhJyB8ICdjbG96ZSc7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG4gIHF1ZXN0aW9uOiBzdHJpbmcgPSAnJztcbiAgYW5zd2VyOiBzdHJpbmcgPSAnJztcbiAgXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luLCB1bml0OiBDb250ZW50VW5pdCwgdHlwZTogJ3FhJyB8ICdjbG96ZScpIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMudW5pdCA9IHVuaXQ7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICBcbiAgICAvLyBcdTY4MzlcdTYzNkVcdTdDN0JcdTU3OEJcdThCQkVcdTdGNkVcdTlFRDhcdThCQTRcdTUwM0NcbiAgICBpZiAodHlwZSA9PT0gJ3FhJykge1xuICAgICAgdGhpcy5xdWVzdGlvbiA9IHVuaXQudHlwZSA9PT0gJ1FBJyA/IHVuaXQuY29udGVudCA6IHVuaXQuY29udGVudDtcbiAgICAgIHRoaXMuYW5zd2VyID0gdW5pdC50eXBlID09PSAnUUEnICYmIHVuaXQuYW5zd2VyID8gdW5pdC5hbnN3ZXIgOiAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5xdWVzdGlvbiA9IHVuaXQuZnVsbENvbnRleHQgfHwgdW5pdC5jb250ZW50O1xuICAgICAgdGhpcy5hbnN3ZXIgPSB1bml0LmNvbnRlbnQ7XG4gICAgfVxuICB9XG4gIFxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmFkZENsYXNzKCdtYW51YWwtZmxhc2hjYXJkLW1vZGFsJyk7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgXG4gICAgICB0ZXh0OiB0aGlzLnR5cGUgPT09ICdxYScgPyAnXHUyNzBGXHVGRTBGIFx1NTIxQlx1NUVGQSBRQSBcdTk1RUFcdTUzNjEnIDogJ1x1MjcwRlx1RkUwRiBcdTUyMUJcdTVFRkFcdTU4NkJcdTdBN0FcdTk1RUFcdTUzNjEnIFxuICAgIH0pO1xuICAgIFxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHtcbiAgICAgIHRleHQ6IHRoaXMudHlwZSA9PT0gJ3FhJyBcbiAgICAgICAgPyAnXHU1MjFCXHU1RUZBXHU0RTAwXHU1RjIwXHU5NUVFXHU3QjU0XHU1MzYxXHU3MjQ3XHVGRjBDXHU1M0VGXHU0RUU1XHU4MUVBXHU1QjlBXHU0RTQ5XHU5NUVFXHU5ODk4XHU1NDhDXHU3QjU0XHU2ODQ4JyBcbiAgICAgICAgOiAnXHU1MjFCXHU1RUZBXHU0RTAwXHU1RjIwXHU1ODZCXHU3QTdBXHU1MzYxXHU3MjQ3XHVGRjBDXHU1NzI4XHU1QjhDXHU2NTc0XHU2NTg3XHU2NzJDXHU0RTJEXHU2ODA3XHU4QkIwXHU4OTgxXHU2MzE2XHU3QTdBXHU3Njg0XHU1MTg1XHU1QkI5JyxcbiAgICAgIGNsczogJ21vZGFsLWRlc2NyaXB0aW9uJ1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1OTVFRVx1OTg5OC9cdTVCOENcdTY1NzRcdTY1ODdcdTY3MkNcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSh0aGlzLnR5cGUgPT09ICdxYScgPyAnXHU5NUVFXHU5ODk4IChGcm9udCknIDogJ1x1NUI4Q1x1NjU3NFx1NjU4N1x1NjcyQycpXG4gICAgICAuc2V0RGVzYyh0aGlzLnR5cGUgPT09ICdxYScgPyAnXHU1MzYxXHU3MjQ3XHU2QjYzXHU5NzYyXHU2NjNFXHU3OTNBXHU3Njg0XHU5NUVFXHU5ODk4JyA6ICdcdTUzMDVcdTU0MkJcdTdCNTRcdTY4NDhcdTc2ODRcdTVCOENcdTY1NzRcdTUzRTVcdTVCNTBcdTYyMTZcdTZCQjVcdTg0M0QnKVxuICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0OiBUZXh0QXJlYUNvbXBvbmVudCkgPT4ge1xuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucXVlc3Rpb24pXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFxuICAgICAgICAgICAgdGhpcy50eXBlID09PSAncWEnIFxuICAgICAgICAgICAgICA/ICdcdTRGOEJcdTU5ODI6IFx1NEVDMFx1NEU0OFx1NjYyRlx1OTVGNFx1OTY5NFx1OTFDRFx1NTkwRD8nIFxuICAgICAgICAgICAgICA6ICdcdTRGOEJcdTU5ODI6IFx1OTVGNFx1OTY5NFx1OTFDRFx1NTkwRFx1NjYyRlx1NEUwMFx1NzlDRFx1NUI2Nlx1NEU2MFx1NjI4MFx1NjcyRidcbiAgICAgICAgICApXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnF1ZXN0aW9uID0gdmFsdWUpO1xuICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDQ7XG4gICAgICAgIHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFx1N0I1NFx1Njg0OC9cdTYzMTZcdTdBN0FcdTUxODVcdTVCQjlcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSh0aGlzLnR5cGUgPT09ICdxYScgPyAnXHU3QjU0XHU2ODQ4IChCYWNrKScgOiAnXHU2MzE2XHU3QTdBXHU1MTg1XHU1QkI5JylcbiAgICAgIC5zZXREZXNjKHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdcdTUzNjFcdTcyNDdcdTgwQ0NcdTk3NjJcdTY2M0VcdTc5M0FcdTc2ODRcdTdCNTRcdTY4NDgnIDogJ1x1ODk4MVx1ODhBQlx1NjMxNlx1N0E3QVx1NzY4NFx1NTE3M1x1OTUyRVx1OEJDRFx1NjIxNlx1NzdFRFx1OEJFRCcpXG4gICAgICAuYWRkVGV4dEFyZWEoKHRleHQ6IFRleHRBcmVhQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5hbnN3ZXIpXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFxuICAgICAgICAgICAgdGhpcy50eXBlID09PSAncWEnIFxuICAgICAgICAgICAgICA/ICdcdTRGOEJcdTU5ODI6IFx1OTVGNFx1OTY5NFx1OTFDRFx1NTkwRFx1NjYyRlx1NEUwMFx1NzlDRFx1NUI2Nlx1NEU2MFx1NjI4MFx1NjcyRi4uLicgXG4gICAgICAgICAgICAgIDogJ1x1NEY4Qlx1NTk4MjogXHU5NUY0XHU5Njk0XHU5MUNEXHU1OTBEJ1xuICAgICAgICAgIClcbiAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHRoaXMuYW5zd2VyID0gdmFsdWUpO1xuICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDM7XG4gICAgICAgIHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFx1NjMwOVx1OTRBRVx1N0VDNFxuICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdtb2RhbC1idXR0b24tY29udGFpbmVyJyB9KTtcbiAgICBcbiAgICBuZXcgU2V0dGluZyhidXR0b25Db250YWluZXIpXG4gICAgICAuYWRkQnV0dG9uKChidG46IEJ1dHRvbkNvbXBvbmVudCkgPT4gYnRuXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KCdcdTUzRDZcdTZEODgnKVxuICAgICAgICAub25DbGljaygoKSA9PiB0aGlzLmNsb3NlKCkpXG4gICAgICApXG4gICAgICAuYWRkQnV0dG9uKChidG46IEJ1dHRvbkNvbXBvbmVudCkgPT4gYnRuXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KCdcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjEnKVxuICAgICAgICAuc2V0Q3RhKClcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5jcmVhdGVGbGFzaGNhcmQoKSlcbiAgICAgICk7XG4gIH1cbiAgXG4gIGFzeW5jIGNyZWF0ZUZsYXNoY2FyZCgpIHtcbiAgICAvLyBcdTlBOENcdThCQzFcdThGOTNcdTUxNjVcbiAgICBpZiAoIXRoaXMucXVlc3Rpb24udHJpbSgpKSB7XG4gICAgICBuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgXHU5NUVFXHU5ODk4L1x1NjU4N1x1NjcyQ1x1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYW5zd2VyLnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSgnXHUyNkEwXHVGRTBGIFx1N0I1NFx1Njg0OFx1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gXHU0RjdGXHU3NTI4IEZsYXNoY2FyZE1hbmFnZXIgXHU3Njg0IGNyZWF0ZUZsYXNoY2FyZEZyb21Vbml0IFx1NjVCOVx1NkNENVxuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5jcmVhdGVGbGFzaGNhcmRGcm9tVW5pdChcbiAgICAgICAgdGhpcy51bml0LFxuICAgICAgICB7XG4gICAgICAgICAgY3VzdG9tUXVlc3Rpb246IHRoaXMucXVlc3Rpb24udHJpbSgpLFxuICAgICAgICAgIGN1c3RvbUFuc3dlcjogdGhpcy5hbnN3ZXIudHJpbSgpLFxuICAgICAgICAgIGNhcmRUeXBlOiB0aGlzLnR5cGVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgdGhpcy50eXBlID09PSAncWEnIFxuICAgICAgICAgID8gJ1x1MjcwNSBRQSBcdTk1RUFcdTUzNjFcdTVERjJcdTUyMUJcdTVFRkEnIFxuICAgICAgICAgIDogJ1x1MjcwNSBcdTU4NkJcdTdBN0FcdTk1RUFcdTUzNjFcdTVERjJcdTUyMUJcdTVFRkEnXG4gICAgICApO1xuICAgICAgXG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICBcbiAgICAgIC8vIFx1NTIzN1x1NjVCMFx1ODlDNlx1NTZGRVxuICAgICAgdGhpcy5yZWZyZXNoT3ZlcnZpZXdWaWV3KCk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzRDIFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1NTkzMVx1OEQyNScpO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIHByaXZhdGUgcmVmcmVzaE92ZXJ2aWV3VmlldygpIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVylbMF0/LnZpZXcgfHxcbiAgICAgICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfTUFJTl9PVkVSVklFVylbMF0/LnZpZXc7XG4gICAgaWYgKHZpZXcgJiYgJ3JlZnJlc2gnIGluIHZpZXcpIHtcbiAgICAgICh2aWV3IGFzIGFueSkucmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuICBcbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBzcmMvdWkvbW9kYWxzL0VkaXRGbGFzaGNhcmRNb2RhbC50c1xuXG5pbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi8uLi9tYWluJztcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVywgVklFV19UWVBFX01BSU5fT1ZFUlZJRVcgfSBmcm9tICcuLi8uLi92aWV3L1NpZGViYXJPdmVydmlld1ZpZXcnO1xuXG5leHBvcnQgY2xhc3MgRWRpdEZsYXNoY2FyZE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBjYXJkOiBGbGFzaGNhcmQ7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG4gIGZyb250OiBzdHJpbmc7XG4gIGJhY2s6IHN0cmluZztcbiAgXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luLCBjYXJkOiBGbGFzaGNhcmQpIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMuY2FyZCA9IGNhcmQ7XG4gICAgdGhpcy5mcm9udCA9IGNhcmQuZnJvbnQ7XG4gICAgdGhpcy5iYWNrID0gQXJyYXkuaXNBcnJheShjYXJkLmJhY2spID8gY2FyZC5iYWNrLmpvaW4oJywgJykgOiBjYXJkLmJhY2s7XG4gIH1cbiAgXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2VkaXQtZmxhc2hjYXJkLW1vZGFsJyk7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgXG4gICAgICB0ZXh0OiAnXHUyNzBGXHVGRTBGIFx1N0YxNlx1OEY5MVx1OTVFQVx1NTM2MScgXG4gICAgfSk7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywge1xuICAgICAgdGV4dDogYFx1N0YxNlx1OEY5MSAke3RoaXMuY2FyZC50eXBlID09PSAncWEnID8gJ1EmQScgOiAnXHU1ODZCXHU3QTdBJ31cdTUzNjFcdTcyNDdcdTUxODVcdTVCQjlgLFxuICAgICAgY2xzOiAnbW9kYWwtZGVzY3JpcHRpb24nXG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU1MzYxXHU3MjQ3XHU0RkUxXHU2MDZGXG4gICAgY29uc3QgaW5mb0RpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWluZm8nIH0pO1xuICAgIGluZm9EaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogNnB4OyBtYXJnaW4tYm90dG9tOiAxNXB4O1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAwLjllbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1wiPlxuICAgICAgICAgIFx1RDgzRFx1RENDMSAke3RoaXMuY2FyZC5zb3VyY2VGaWxlLnNwbGl0KCcvJykucG9wKCl9PGJyPlxuICAgICAgICAgIFx1RDgzRFx1RENEQSBcdTUzNjFcdTdFQzQ6ICR7dGhpcy5jYXJkLmRlY2t9PGJyPlxuICAgICAgICAgIFx1RDgzRFx1RENDQSBcdTU5MERcdTRFNjA6ICR7dGhpcy5jYXJkLnN0YXRzLnRvdGFsUmV2aWV3c31cdTZCMjEgfCBcdTZCNjNcdTc4NkU6ICR7dGhpcy5jYXJkLnN0YXRzLmNvcnJlY3RDb3VudH1cdTZCMjFcbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIC8vIFx1OTVFRVx1OTg5OC9cdTUyNERcdTk3NjJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSh0aGlzLmNhcmQudHlwZSA9PT0gJ3FhJyA/ICdcdTk1RUVcdTk4OTggKEZyb250KScgOiAnXHU1QjhDXHU2NTc0XHU2NTg3XHU2NzJDJylcbiAgICAgIC5zZXREZXNjKCdcdTUzNjFcdTcyNDdcdTZCNjNcdTk3NjJcdTY2M0VcdTc5M0FcdTc2ODRcdTUxODVcdTVCQjknKVxuICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0OiBUZXh0QXJlYUNvbXBvbmVudCkgPT4ge1xuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuZnJvbnQpXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLmZyb250ID0gdmFsdWUpO1xuICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDQ7XG4gICAgICAgIHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFx1N0I1NFx1Njg0OC9cdTU0MEVcdTk3NjJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSh0aGlzLmNhcmQudHlwZSA9PT0gJ3FhJyA/ICdcdTdCNTRcdTY4NDggKEJhY2spJyA6ICdcdTYzMTZcdTdBN0FcdTdCNTRcdTY4NDgnKVxuICAgICAgLnNldERlc2ModGhpcy5jYXJkLnR5cGUgPT09ICdxYScgPyAnXHU1MzYxXHU3MjQ3XHU4MENDXHU5NzYyXHU2NjNFXHU3OTNBXHU3Njg0XHU3QjU0XHU2ODQ4JyA6ICdcdTU5MUFcdTRFMkFcdTdCNTRcdTY4NDhcdTc1MjhcdTkwMTdcdTUzRjdcdTUyMDZcdTk2OTQnKVxuICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0OiBUZXh0QXJlYUNvbXBvbmVudCkgPT4ge1xuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuYmFjaylcbiAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlOiBzdHJpbmcpID0+IHRoaXMuYmFjayA9IHZhbHVlKTtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSAzO1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBcdTYzMDlcdTk0QUVcdTdFQzRcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoYnV0dG9uQ29udGFpbmVyKVxuICAgICAgLmFkZEJ1dHRvbigoYnRuOiBCdXR0b25Db21wb25lbnQpID0+IGJ0blxuICAgICAgICAuc2V0QnV0dG9uVGV4dCgnXHU1M0Q2XHU2RDg4JylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gdGhpcy5jbG9zZSgpKVxuICAgICAgKVxuICAgICAgLmFkZEJ1dHRvbigoYnRuOiBCdXR0b25Db21wb25lbnQpID0+IGJ0blxuICAgICAgICAuc2V0QnV0dG9uVGV4dCgnXHU0RkREXHU1QjU4JylcbiAgICAgICAgLnNldEN0YSgpXG4gICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuc2F2ZUZsYXNoY2FyZCgpKVxuICAgICAgKTtcbiAgfVxuICBcbiAgYXN5bmMgc2F2ZUZsYXNoY2FyZCgpIHtcbiAgICAvLyBcdTlBOENcdThCQzFcdThGOTNcdTUxNjVcbiAgICBpZiAoIXRoaXMuZnJvbnQudHJpbSgpKSB7XG4gICAgICBuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgXHU5NUVFXHU5ODk4L1x1NjU4N1x1NjcyQ1x1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYmFjay50cmltKCkpIHtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1MjZBMFx1RkUwRiBcdTdCNTRcdTY4NDhcdTRFMERcdTgwRkRcdTRFM0FcdTdBN0EnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFx1NjZGNFx1NjVCMFx1NTM2MVx1NzI0N1xuICAgICAgdGhpcy5jYXJkLmZyb250ID0gdGhpcy5mcm9udC50cmltKCk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLmNhcmQudHlwZSA9PT0gJ2Nsb3plJykge1xuICAgICAgICAvLyBcdTU4NkJcdTdBN0FcdTUzNjFcdUZGMUFcdTVDMDZcdTkwMTdcdTUzRjdcdTUyMDZcdTk2OTRcdTc2ODRcdTdCNTRcdTY4NDhcdThGNkNcdTYzNjJcdTRFM0FcdTY1NzBcdTdFQzRcbiAgICAgICAgdGhpcy5jYXJkLmJhY2sgPSB0aGlzLmJhY2suc3BsaXQoJywnKS5tYXAocyA9PiBzLnRyaW0oKSkuZmlsdGVyKHMgPT4gcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcdTk1RUVcdTdCNTRcdTUzNjFcdUZGMUFcdTRGRERcdTYzMDFcdTVCNTdcdTdCMjZcdTRFMzJcbiAgICAgICAgdGhpcy5jYXJkLmJhY2sgPSB0aGlzLmJhY2sudHJpbSgpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLmNhcmQubWV0YWRhdGEudXBkYXRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKHRoaXMuY2FyZCk7XG4gICAgICBcbiAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBcdTk1RUFcdTUzNjFcdTVERjJcdTY2RjRcdTY1QjAnKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIFxuICAgICAgLy8gXHU1MjM3XHU2NUIwXHU4OUM2XHU1NkZFXG4gICAgICB0aGlzLnJlZnJlc2hPdmVydmlld1ZpZXcoKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKCdcdTI3NEMgXHU0RkREXHU1QjU4XHU1OTMxXHU4RDI1Jyk7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuICBcbiAgcHJpdmF0ZSByZWZyZXNoT3ZlcnZpZXdWaWV3KCkge1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXKVswXT8udmlldyB8fFxuICAgICAgICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXKVswXT8udmlldztcbiAgICBpZiAodmlldyAmJiAncmVmcmVzaCcgaW4gdmlldykge1xuICAgICAgKHZpZXcgYXMgYW55KS5yZWZyZXNoKCk7XG4gICAgfVxuICB9XG4gIFxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRleHRNZW51QnVpbGRlci50c1xuXG5pbXBvcnQgeyBNZW51LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcblxuLyoqXG4gKiBcdTUxODVcdTVCQjlcdTUzNTVcdTUxNDNcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTU2REVcdThDMDNcdTYzQTVcdTUzRTNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb250ZW50VW5pdE1lbnVDYWxsYmFja3Mge1xuICBvbkp1bXBUb1NvdXJjZTogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvblRvZ2dsZUFubm90YXRpb246ICh1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25FZGl0Rmxhc2hjYXJkOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uUXVpY2tHZW5lcmF0ZTogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvbkNyZWF0ZVFBOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uQ3JlYXRlQ2xvemU6ICh1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25WaWV3U3RhdHM6ICgpID0+IHZvaWQ7XG4gIG9uRGVsZXRlOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogXHU5NUVBXHU1MzYxXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XHU1NkRFXHU4QzAzXHU2M0E1XHU1M0UzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hjYXJkTWVudUNhbGxiYWNrcyB7XG4gIG9uSnVtcFRvU291cmNlOiAoY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBvbkVkaXQ6IChjYXJkOiBGbGFzaGNhcmQpID0+IHZvaWQ7XG4gIG9uVmlld1N0YXRzOiAoY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBvbkRlbGV0ZTogKGNhcmQ6IEZsYXNoY2FyZCkgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTY3ODRcdTVFRkFcdTU2NjhcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51QnVpbGRlciB7XG4gIC8qKlxuICAgKiBcdTY3ODRcdTVFRkFcdTUxODVcdTVCQjlcdTUzNTVcdTUxNDNcdTc2ODRcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcbiAgICovXG4gIHN0YXRpYyBidWlsZENvbnRlbnRVbml0TWVudShcbiAgICB1bml0OiBDb250ZW50VW5pdCxcbiAgICBjYWxsYmFja3M6IENvbnRlbnRVbml0TWVudUNhbGxiYWNrc1xuICApOiBNZW51IHtcbiAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcbiAgICBcbiAgICAvLyBcdThERjNcdThGNkNcdTUyMzBcdTUzOUZcdTY1ODdcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSgnXHVEODNEXHVEQ0Q2IFx1OERGM1x1OEY2Q1x1NTIzMFx1NTM5Rlx1NjU4NycpXG4gICAgICAgIC5zZXRJY29uKCdhcnJvdy11cC1yaWdodCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkp1bXBUb1NvdXJjZSh1bml0KSlcbiAgICApO1xuICAgIFxuICAgIC8vIFx1N0YxNlx1OEY5MVx1NjI3OVx1NkNFOFxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdUQ4M0RcdURDQUMgXHU3RjE2XHU4RjkxXHU2Mjc5XHU2Q0U4JylcbiAgICAgICAgLnNldEljb24oJ21lc3NhZ2Utc3F1YXJlJylcbiAgICAgICAgXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24odW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1N0YxNlx1OEY5MVx1OTVFQVx1NTM2MSAoXHU1OTgyXHU2NzlDXHU1REYyXHU2NzA5XHU5NUVBXHU1MzYxKVxuICAgIGlmICh1bml0LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICAgIGl0ZW1cbiAgICAgICAgICAuc2V0VGl0bGUoJ1x1MjcwRlx1RkUwRiBcdTdGMTZcdThGOTFcdTk1RUFcdTUzNjEnKVxuICAgICAgICAgIC5zZXRJY29uKCdwZW5jaWwnKVxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkVkaXRGbGFzaGNhcmQodW5pdCkpXG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTc1MUZcdTYyMTBcdTk1RUFcdTUzNjEgKEFJXHU2NjdBXHU4MEZEXHU3NTFGXHU2MjEwKVxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdTI2QTEgXHU3NTFGXHU2MjEwXHU5NUVBXHU1MzYxJylcbiAgICAgICAgLnNldEljb24oJ3phcCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vblF1aWNrR2VuZXJhdGUodW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICAvLyBcdTUyMUJcdTVFRkEgUUEgXHU5NUVBXHU1MzYxXG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUoJ1x1Mjc5NSBcdTUyMUJcdTVFRkEgUUEgXHU5NUVBXHU1MzYxJylcbiAgICAgICAgLnNldEljb24oJ3BsdXMnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25DcmVhdGVRQSh1bml0KSlcbiAgICApO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NTg2Qlx1N0E3QVx1OTVFQVx1NTM2MVxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdTI3OTUgXHU1MjFCXHU1RUZBXHU1ODZCXHU3QTdBXHU5NUVBXHU1MzYxJylcbiAgICAgICAgLnNldEljb24oJ3BsdXMnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25DcmVhdGVDbG96ZSh1bml0KSlcbiAgICApO1xuICAgIFxuICAgIG1lbnUuYWRkU2VwYXJhdG9yKCk7XG4gICAgXG4gICAgLy8gXHU2N0U1XHU3NzBCXHU3RURGXHU4QkExXG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUoJ1x1RDgzRFx1RENDQSBcdTY3RTVcdTc3MEJcdTdFREZcdThCQTEnKVxuICAgICAgICAuc2V0SWNvbignYmFyLWNoYXJ0JylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uVmlld1N0YXRzKCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NTIyMFx1OTY2NFx1N0IxNFx1OEJCMFxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdUQ4M0RcdURERDFcdUZFMEYgXHU1MjIwXHU5NjY0XHU3QjE0XHU4QkIwJylcbiAgICAgICAgLnNldEljb24oJ3RyYXNoJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uRGVsZXRlKHVuaXQpKVxuICAgICk7XG4gICAgXG4gICAgcmV0dXJuIG1lbnU7XG4gIH1cblxuICAvKipcbiAgICogXHU2Nzg0XHU1RUZBXHU5NUVBXHU1MzYxXHU3Njg0XHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XG4gICAqL1xuICBzdGF0aWMgYnVpbGRGbGFzaGNhcmRNZW51KFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBjYWxsYmFja3M6IEZsYXNoY2FyZE1lbnVDYWxsYmFja3NcbiAgKTogTWVudSB7XG4gICAgY29uc3QgbWVudSA9IG5ldyBNZW51KCk7XG4gICAgXG4gICAgLy8gXHU4REYzXHU4RjZDXHU1MjMwXHU1MzlGXHU2NTg3XG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUoJ1x1RDgzRFx1RENENiBcdThERjNcdThGNkNcdTUyMzBcdTUzOUZcdTY1ODcnKVxuICAgICAgICAuc2V0SWNvbignYXJyb3ctdXAtcmlnaHQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25KdW1wVG9Tb3VyY2UoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICAvLyBcdTdGMTZcdThGOTFcdTUzNjFcdTcyNDdcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSgnXHUyNzBGXHVGRTBGIFx1N0YxNlx1OEY5MVx1NTM2MVx1NzI0NycpXG4gICAgICAgIC5zZXRJY29uKCdwZW5jaWwnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25FZGl0KGNhcmQpKVxuICAgICk7XG4gICAgXG4gICAgbWVudS5hZGRTZXBhcmF0b3IoKTtcbiAgICBcbiAgICAvLyBcdTY3RTVcdTc3MEJcdTdFREZcdThCQTFcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSgnXHVEODNEXHVEQ0NBIFx1NjdFNVx1NzcwQlx1N0VERlx1OEJBMScpXG4gICAgICAgIC5zZXRJY29uKCdiYXItY2hhcnQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25WaWV3U3RhdHMoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NTIyMFx1OTY2NFx1NTM2MVx1NzI0N1xuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdUQ4M0RcdURERDFcdUZFMEYgXHU1MjIwXHU5NjY0XHU1MzYxXHU3MjQ3JylcbiAgICAgICAgLnNldEljb24oJ3RyYXNoJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uRGVsZXRlKGNhcmQpKVxuICAgICk7XG4gICAgXG4gICAgcmV0dXJuIG1lbnU7XG4gIH1cblxuICAvKipcbiAgICogXHU2ODNDXHU1RjBGXHU1MzE2XHU5NUVBXHU1MzYxXHU3RURGXHU4QkExXHU0RkUxXHU2MDZGXG4gICAqL1xuICBzdGF0aWMgZm9ybWF0Rmxhc2hjYXJkU3RhdHMoY2FyZDogRmxhc2hjYXJkKTogc3RyaW5nIHtcbiAgICBjb25zdCBjcmVhdGVkRGF0ZSA9IG5ldyBEYXRlKGNhcmQubWV0YWRhdGEuY3JlYXRlZEF0KS50b0xvY2FsZVN0cmluZygnemgtQ04nKTtcbiAgICBjb25zdCBsYXN0UmV2aWV3ID0gY2FyZC5zdGF0cy5sYXN0UmV2aWV3IFxuICAgICAgPyBuZXcgRGF0ZShjYXJkLnN0YXRzLmxhc3RSZXZpZXcpLnRvTG9jYWxlU3RyaW5nKCd6aC1DTicpXG4gICAgICA6ICdcdTY3MkFcdTU5MERcdTRFNjAnO1xuICAgIGNvbnN0IG5leHRSZXZpZXcgPSBuZXcgRGF0ZShjYXJkLnNjaGVkdWxpbmcuZHVlKS50b0xvY2FsZVN0cmluZygnemgtQ04nKTtcbiAgICBjb25zdCBhY2N1cmFjeSA9IGNhcmQuc3RhdHMudG90YWxSZXZpZXdzID4gMCBcbiAgICAgID8gKChjYXJkLnN0YXRzLmNvcnJlY3RDb3VudCAvIGNhcmQuc3RhdHMudG90YWxSZXZpZXdzKSAqIDEwMCkudG9GaXhlZCgxKVxuICAgICAgOiAnMCc7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIGBcdUQ4M0RcdURDQ0EgXHU5NUVBXHU1MzYxXHU3RURGXHU4QkExXFxuYCArXG4gICAgICBgXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXFxuYCArXG4gICAgICBgXHVEODNEXHVEQ0MxIFx1NjU4N1x1NEVGNjogJHtjYXJkLnNvdXJjZUZpbGUuc3BsaXQoJy8nKS5wb3AoKX1cXG5gICtcbiAgICAgIGBcdUQ4M0NcdURDQ0YgXHU3QzdCXHU1NzhCOiAke2NhcmQudHlwZSA9PT0gJ3FhJyA/ICdRJkEnIDogJ1x1NTg2Qlx1N0E3QSd9XFxuYCArXG4gICAgICBgXHVEODNEXHVEQ0RBIFx1NTM2MVx1N0VDNDogJHtjYXJkLmRlY2t9XFxuYCArXG4gICAgICBgXHVEODNDXHVERkY3XHVGRTBGIFx1NjgwN1x1N0I3RTogJHtjYXJkLnRhZ3M/Lmxlbmd0aCA+IDAgPyBjYXJkLnRhZ3Muam9pbignLCAnKSA6ICdcdTY1RTAnfVxcbmAgK1xuICAgICAgYFx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVxcbmAgK1xuICAgICAgYFx1RDgzRFx1RENDOCBcdTU5MERcdTRFNjBcdTZCMjFcdTY1NzA6ICR7Y2FyZC5zdGF0cy50b3RhbFJldmlld3N9XFxuYCArXG4gICAgICBgXHUyNzA1IFx1NkI2M1x1Nzg2RVx1NkIyMVx1NjU3MDogJHtjYXJkLnN0YXRzLmNvcnJlY3RDb3VudH1cXG5gICtcbiAgICAgIGBcdUQ4M0RcdURDQ0EgXHU2QjYzXHU3ODZFXHU3Mzg3OiAke2FjY3VyYWN5fSVcXG5gICtcbiAgICAgIGBcdTIzRjFcdUZFMEYgXHU1RTczXHU1NzQ3XHU3NTI4XHU2NUY2OiAke2NhcmQuc3RhdHMuYXZlcmFnZVRpbWUudG9GaXhlZCgxKX1cdTc5RDJcXG5gICtcbiAgICAgIGBcdUQ4M0NcdURGQUYgXHU5NkJFXHU1RUE2OiAkeyhjYXJkLnN0YXRzLmRpZmZpY3VsdHkgKiAxMDApLnRvRml4ZWQoMCl9JVxcbmAgK1xuICAgICAgYFx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVx1MjUwMVxcbmAgK1xuICAgICAgYFx1RDgzRFx1RENDNSBcdTUyMUJcdTVFRkFcdTY1RjZcdTk1RjQ6ICR7Y3JlYXRlZERhdGV9XFxuYCArXG4gICAgICBgXHVEODNEXHVERDA0IFx1NEUwQVx1NkIyMVx1NTkwRFx1NEU2MDogJHtsYXN0UmV2aWV3fVxcbmAgK1xuICAgICAgYFx1MjNGMCBcdTRFMEJcdTZCMjFcdTU5MERcdTRFNjA6ICR7bmV4dFJldmlld31cXG5gICtcbiAgICAgIGBcdUQ4M0RcdURDQ0YgXHU5NUY0XHU5Njk0OiAke2NhcmQuc2NoZWR1bGluZy5pbnRlcnZhbH1cdTU5MjlcXG5gICtcbiAgICAgIGBcdUQ4M0RcdURDQUEgXHU3MTlGXHU3RUMzXHU1RUE2OiAke2NhcmQuc2NoZWR1bGluZy5lYXNlLnRvRml4ZWQoMil9YFxuICAgICk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvbW9kYWxzL0JhdGNoQ3JlYXRlTW9kYWwudHNcbmltcG9ydCB7IE1vZGFsLCBBcHAsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IFF1aWNrRmxhc2hjYXJkQ3JlYXRvciB9IGZyb20gJy4uLy4uLy4uL2NvcmUvUXVpY2tGbGFzaGNhcmRDcmVhdG9yJztcblxuZXhwb3J0IGNsYXNzIEJhdGNoQ3JlYXRlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbixcbiAgICBwcml2YXRlIHF1aWNrQ3JlYXRvcjogUXVpY2tGbGFzaGNhcmRDcmVhdG9yLFxuICAgIHByaXZhdGUgdW5pdHM6IENvbnRlbnRVbml0W10sXG4gICAgcHJpdmF0ZSBvbkNvbXBsZXRlOiAoKSA9PiB2b2lkXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1x1MjZBMSBcdTYyNzlcdTkxQ0ZcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjEnIH0pO1xuICAgIFxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiBgXHU0RTNBICR7dGhpcy51bml0cy5sZW5ndGh9IFx1Njc2MVx1NjcyQVx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1NzY4NFx1N0IxNFx1OEJCMFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MWBcbiAgICB9KTtcblxuICAgIC8vIFx1OTAwOVx1NjJFOVx1N0M3Qlx1NTc4QlxuICAgIGNvbnN0IHR5cGVDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAndHlwZS1zZWxlY3QtY29udGFpbmVyJyB9KTtcbiAgICB0eXBlQ29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1NTM2MVx1NzI0N1x1N0M3Qlx1NTc4QicgfSk7XG5cbiAgICBsZXQgc2VsZWN0ZWRUeXBlOiAnc21hcnQnIHwgJ3FhJyB8ICdjbG96ZScgPSAnc21hcnQnO1xuXG4gICAgY29uc3QgdHlwZXMgPSBbXG4gICAgICB7IHZhbHVlOiAnc21hcnQnLCBsYWJlbDogJ1x1MjZBMSBcdTY2N0FcdTgwRkRcdThCQzZcdTUyMkInLCBkZXNjOiAnXHU4MUVBXHU1MkE4XHU5MDA5XHU2MkU5XHU2NzAwXHU1NDA4XHU5MDAyXHU3Njg0XHU3QzdCXHU1NzhCJyB9LFxuICAgICAgeyB2YWx1ZTogJ3FhJywgbGFiZWw6ICdcdUQ4M0RcdURDREQgXHU5NUVFXHU3QjU0XHU1MzYxXHU3MjQ3JywgZGVzYzogJ1x1OTVFRVx1OTg5OFx1NTQ4Q1x1N0I1NFx1Njg0OFx1NjgzQ1x1NUYwRicgfSxcbiAgICAgIHsgdmFsdWU6ICdjbG96ZScsIGxhYmVsOiAnXHUyNzBGXHVGRTBGIFx1NTg2Qlx1N0E3QVx1NTM2MVx1NzI0NycsIGRlc2M6ICdcdTYzMTZcdTdBN0FcdTU4NkJcdTdBN0EnIH1cbiAgICBdO1xuXG4gICAgdHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IHR5cGVDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAndHlwZS1vcHRpb24nIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByYWRpbyA9IG9wdGlvbi5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICAgIHR5cGU6ICdyYWRpbycsXG4gICAgICAgIHZhbHVlOiB0eXBlLnZhbHVlLFxuICAgICAgICBhdHRyOiB7IG5hbWU6ICdjYXJkLXR5cGUnIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHR5cGUudmFsdWUgPT09ICdzbWFydCcpIHJhZGlvLmNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICBjb25zdCBsYWJlbCA9IG9wdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICd0eXBlLWxhYmVsJyB9KTtcbiAgICAgIGxhYmVsLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6IHR5cGUubGFiZWwgfSk7XG4gICAgICBsYWJlbC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiB0eXBlLmRlc2MsIGNsczogJ3R5cGUtZGVzYycgfSk7XG5cbiAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgcmFkaW8uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIHNlbGVjdGVkVHlwZSA9IHR5cGUudmFsdWUgYXMgYW55O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cbiAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NTNENlx1NkQ4OCcgfSk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcblxuICAgIGNvbnN0IGNyZWF0ZUJ0biA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgIHRleHQ6IGBcdTUyMUJcdTVFRkEgJHt0aGlzLnVuaXRzLmxlbmd0aH0gXHU1RjIwXHU1MzYxXHU3MjQ3YCxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgY3JlYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5iYXRjaENyZWF0ZShzZWxlY3RlZFR5cGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRTdHlsZXMoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYmF0Y2hDcmVhdGUodHlwZTogJ3NtYXJ0JyB8ICdxYScgfCAnY2xvemUnKSB7XG4gICAgY29uc3QgeyBzdWNjZXNzLCBmYWlsZWQgfSA9IGF3YWl0IHRoaXMucXVpY2tDcmVhdG9yLmNyZWF0ZUJhdGNoQ2FyZHModGhpcy51bml0cywgdHlwZSk7XG4gICAgXG4gICAgbmV3IE5vdGljZShgXHUyNzA1IFx1NURGMlx1NTIxQlx1NUVGQSAke3N1Y2Nlc3N9IFx1NUYyMFx1OTVFQVx1NTM2MVx1RkYwMSR7ZmFpbGVkID4gMCA/IGBcdUZGMDgke2ZhaWxlZH0gXHU1RjIwXHU1OTMxXHU4RDI1XHVGRjA5YCA6ICcnfWApO1xuICAgIFxuICAgIHRoaXMuY2xvc2UoKTtcbiAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBgXG4gICAgICAudHlwZS1zZWxlY3QtY29udGFpbmVyIHtcbiAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICB9XG5cbiAgICAgIC50eXBlLW9wdGlvbiB7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgfVxuXG4gICAgICAudHlwZS1vcHRpb246aG92ZXIge1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAudHlwZS1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgfVxuXG4gICAgICAudHlwZS1sYWJlbCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgIH1cblxuICAgICAgLnR5cGUtZGVzYyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgbWFyZ2luLXRvcDogNHB4O1xuICAgICAgfVxuICAgIGA7XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBzcmMvY29yZS9VbmxvY2tTeXN0ZW0udHNcbmltcG9ydCB7IEFwcCwgTm90aWNlLE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBTdHlsZUxvYWRlciB9IGZyb20gJ3NyYy91aS9zdHlsZS9zaWRlYmFyU3R5bGUnO1xuXG5leHBvcnQgdHlwZSBVc2VyTGV2ZWwgPSAxIHwgMiB8IDMgfCA0IHwgNTtcblxuZXhwb3J0IGludGVyZmFjZSBVbmxvY2tQcm9ncmVzcyB7XG4gIGN1cnJlbnRMZXZlbDogVXNlckxldmVsO1xuICBzdGF0czoge1xuICAgIGNhcmRzRXh0cmFjdGVkOiBudW1iZXI7ICAgICAgLy8gTHYxXHUyMTkyMjogXHU5NzAwXHU4OTgxIFx1MjI2NTEwXG4gICAgYW5ub3RhdGlvbnNDb21wbGV0ZWQ6IG51bWJlcjsgLy8gTHYyXHUyMTkyMzogXHU5NzAwXHU4OTgxIFx1MjI2NTVcbiAgICBjYXJkc1Jldmlld2VkOiBudW1iZXI7ICAgICAgICAvLyBMdjNcdTIxOTI0OiBcdTIyNjUzMCwgTHY0XHUyMTkyNTogXHUyMjY1NzBcbiAgICB0YWJsZXNTY2FubmVkOiBudW1iZXI7ICAgICAgICAvLyBMdjNcdTIxOTI0OiBcdTk3MDBcdTg5ODEgXHUyMjY1MlxuICAgIGNvbnNlY3V0aXZlRGF5czogbnVtYmVyOyAgICAgIC8vIEx2NFx1MjE5MjU6IFx1OTcwMFx1ODk4MSBcdTIyNjU3XG4gICAgdG90YWxEYXlzOiBudW1iZXI7ICAgICAgICAgICAgLy8gTHY0XHUyMTkyNTogXHU5NzAwXHU4OTgxIFx1MjI2NTIxXG4gICAgc3RhdHNQYWdlVmlzaXRlZDogYm9vbGVhbjsgICAgLy8gTHY0XHUyMTkyNTogXHU5NzAwXHU4OTgxXHU4MUYzXHU1QzExMVx1NkIyMVxuICAgIGxhc3RBY3RpdmVEYXRlOiBzdHJpbmc7ICAgICAgIC8vIFlZWVktTU0tREQgXHU2ODNDXHU1RjBGXG4gIH07XG4gIHVubG9ja2VkRmVhdHVyZXM6IFNldDxzdHJpbmc+O1xuICBsZXZlbFVubG9ja2VkQXQ6IFJlY29yZDxudW1iZXIsIG51bWJlcj47IC8vIHRpbWVzdGFtcFxuICBtaWxlc3RvbmVzOiB7XG4gICAgbGV2ZWw6IFVzZXJMZXZlbDtcbiAgICB1bmxvY2tlZEF0OiBudW1iZXI7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9W107XG59XG5cbmV4cG9ydCBjbGFzcyBVbmxvY2tTeXN0ZW0ge1xuICBwcml2YXRlIHByb2dyZXNzOiBVbmxvY2tQcm9ncmVzcztcbiAgcHJpdmF0ZSBkYXRhUGF0aDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luXG4gICkge1xuICAgIHRoaXMuZGF0YVBhdGggPSBgJHt0aGlzLmFwcC52YXVsdC5jb25maWdEaXJ9L3BsdWdpbnMvbGVhcm5pbmctc3lzdGVtL2RhdGEvdW5sb2NrLXByb2dyZXNzLmpzb25gO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRQcm9ncmVzcygpO1xuICAgIHRoaXMudXBkYXRlRGFpbHlTdHJlYWsoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NjgzOFx1NUZDM1x1NjhDMFx1NjdFNVx1NzBCOSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdUQ4M0NcdURGQUYgXHU1MzYxXHU3MjQ3XHU2M0QwXHU1M0Q2XHU1QjhDXHU2MjEwXHU2NUY2XHU4QzAzXHU3NTI4XG4gICAqL1xuICBhc3luYyBvbkNhcmRFeHRyYWN0ZWQoKSB7XG4gICAgY29uc29sZS50cmFjZSgnW1VubG9ja1N5c3RlbV0gb25DYXJkRXh0cmFjdGVkIFx1ODhBQlx1OEMwM1x1NzUyOCcpO1xuICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNFeHRyYWN0ZWQrKztcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1NjI3OVx1NkNFOFx1NUI4Q1x1NjIxMFx1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25Bbm5vdGF0aW9uQ29tcGxldGVkKCkge1xuICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuYW5ub3RhdGlvbnNDb21wbGV0ZWQrKztcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1NTM2MVx1NzI0N1x1NTkwRFx1NEU2MFx1NUI4Q1x1NjIxMFx1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25DYXJkUmV2aWV3ZWQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc1Jldmlld2VkKys7XG4gICAgdGhpcy51cGRhdGVEYWlseVN0cmVhaygpO1xuICAgIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlUHJvZ3Jlc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0NcdURGQUYgXHU2MjZCXHU2M0NGXHU4ODY4XHU2ODNDXHU2NUY2XHU4QzAzXHU3NTI4XG4gICAqL1xuICBhc3luYyBvblRhYmxlU2Nhbm5lZCgpIHtcbiAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnRhYmxlc1NjYW5uZWQrKztcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1OEJCRlx1OTVFRVx1N0VERlx1OEJBMVx1OTg3NVx1OTc2Mlx1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25TdGF0c1BhZ2VWaXNpdGVkKCkge1xuICAgIGlmICghdGhpcy5wcm9ncmVzcy5zdGF0cy5zdGF0c1BhZ2VWaXNpdGVkKSB7XG4gICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnN0YXRzUGFnZVZpc2l0ZWQgPSB0cnVlO1xuICAgICAgYXdhaXQgdGhpcy5jaGVja0xldmVsVXAoKTtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1MjlGXHU4MEZEXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1NjhDMFx1NjdFNVx1NTI5Rlx1ODBGRFx1NjYyRlx1NTQyNlx1ODlFM1x1OTUwMVxuICAgKi9cbiAgaXNGZWF0dXJlVW5sb2NrZWQoZmVhdHVyZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGV2ZWwgPSB0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbDtcbiAgICBcbiAgICBjb25zdCBmZWF0dXJlTWFwOiBSZWNvcmQ8c3RyaW5nLCBVc2VyTGV2ZWw+ID0ge1xuICAgICAgLy8gTHYxXG4gICAgICAnZXh0cmFjdC1zaW5nbGUnOiAxLFxuICAgICAgJ3NpZGViYXItYmFzaWMnOiAxLFxuICAgICAgXG4gICAgICAvLyBMdjJcbiAgICAgICdleHRyYWN0LWJhdGNoJzogMixcbiAgICAgICdhbm5vdGF0aW9uJzogMixcbiAgICAgICdmaWx0ZXItYnktdHlwZSc6IDIsXG4gICAgICBcbiAgICAgIC8vIEx2M1xuICAgICAgJ3NjYW4tdmF1bHQnOiAzLFxuICAgICAgJ3NjYW4tZmlsZSc6IDMsXG4gICAgICAncmV2aWV3LXBhZ2UnOiAzLFxuICAgICAgJ3Jldmlldy1yZW1pbmRlcic6IDMsXG4gICAgICAnZXh0cmFjdC10YWJsZSc6IDMsXG4gICAgICBcbiAgICAgIC8vIEx2NFxuICAgICAgJ3N0YXRzLXBhZ2UnOiA0LFxuICAgICAgXG4gICAgICAvLyBMdjVcbiAgICAgICdhZHZhbmNlZC1hbmFseXRpY3MnOiA1LFxuICAgICAgJ2NvbW11bml0eSc6IDVcbiAgICB9O1xuXG4gICAgY29uc3QgcmVxdWlyZWRMZXZlbCA9IGZlYXR1cmVNYXBbZmVhdHVyZV0gfHwgMTtcbiAgICByZXR1cm4gbGV2ZWwgPj0gcmVxdWlyZWRMZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTVDMURcdThCRDVcdTRGN0ZcdTc1MjhcdTUyOUZcdTgwRkQoXHU1OTgyXHU2NzlDXHU2NzJBXHU4OUUzXHU5NTAxXHU1MjE5XHU2M0QwXHU3OTNBKVxuICAgKi9cbiAgdHJ5VXNlRmVhdHVyZShmZWF0dXJlOiBzdHJpbmcsIGZlYXR1cmVOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zb2xlLmxvZyhgW1VubG9ja1N5c3RlbV0gXHU2OEMwXHU2N0U1XHU1MjlGXHU4MEZEOiAke2ZlYXR1cmV9LCBcdTVGNTNcdTUyNERcdTdCNDlcdTdFQTc6ICR7dGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWx9YCk7XG4gICAgXG4gICAgaWYgKHRoaXMuaXNGZWF0dXJlVW5sb2NrZWQoZmVhdHVyZSkpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbVW5sb2NrU3lzdGVtXSBcdTI3MDUgJHtmZWF0dXJlfSBcdTVERjJcdTg5RTNcdTk1MDFgKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgXG4gICAgY29uc3QgcmVxdWlyZWRMZXZlbCA9IHRoaXMuZ2V0RmVhdHVyZVJlcXVpcmVkTGV2ZWwoZmVhdHVyZSk7XG4gICAgY29uc3QgbmV4dFN0ZXBzID0gdGhpcy5nZXROZXh0U3RlcHNGb3JMZXZlbCh0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFtVbmxvY2tTeXN0ZW1dIFx1Mjc0QyAke2ZlYXR1cmV9IFx1OTcwMFx1ODk4MSBMdiR7cmVxdWlyZWRMZXZlbH0sIFx1NUY1M1x1NTI0RCBMdiR7dGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWx9YCk7XG4gICAgXG4gICAgLy8gXHU0RjdGXHU3NTI4IE1vZGFsIFx1NjZGRlx1NEVFMyBOb3RpY2VcbiAgICBuZXcgVW5sb2NrTm90aWNlTW9kYWwodGhpcy5hcHAsIGZlYXR1cmVOYW1lLCByZXF1aXJlZExldmVsLCBuZXh0U3RlcHMpLm9wZW4oKTtcbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTdCNDlcdTdFQTdcdTY4QzBcdTY3RTVcdTU0OENcdTUzNDdcdTdFQTcgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGFzeW5jIGNoZWNrTGV2ZWxVcCgpIHtcbiAgICBjb25zdCBvbGRMZXZlbCA9IHRoaXMucHJvZ3Jlc3MuY3VycmVudExldmVsO1xuICAgIGxldCBuZXdMZXZlbCA9IG9sZExldmVsO1xuXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU1MzQ3XHU3RUE3XHU2NzYxXHU0RUY2XG4gICAgaWYgKG9sZExldmVsID09PSAxICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWwyKCkpIHtcbiAgICAgIG5ld0xldmVsID0gMjtcbiAgICB9IGVsc2UgaWYgKG9sZExldmVsID09PSAyICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWwzKCkpIHtcbiAgICAgIG5ld0xldmVsID0gMztcbiAgICB9IGVsc2UgaWYgKG9sZExldmVsID09PSAzICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWw0KCkpIHtcbiAgICAgIG5ld0xldmVsID0gNDtcbiAgICB9IGVsc2UgaWYgKG9sZExldmVsID09PSA0ICYmIHRoaXMuY2FuVXBncmFkZVRvTGV2ZWw1KCkpIHtcbiAgICAgIG5ld0xldmVsID0gNTtcbiAgICB9XG5cbiAgICBpZiAobmV3TGV2ZWwgPiBvbGRMZXZlbCkge1xuICAgICAgYXdhaXQgdGhpcy5sZXZlbFVwKG5ld0xldmVsKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNhblVwZ3JhZGVUb0xldmVsMigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc0V4dHJhY3RlZCA+PSAxMDtcbiAgfVxuXG4gIHByaXZhdGUgY2FuVXBncmFkZVRvTGV2ZWwzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzLnN0YXRzLmFubm90YXRpb25zQ29tcGxldGVkID49IDU7XG4gIH1cblxuICBwcml2YXRlIGNhblVwZ3JhZGVUb0xldmVsNCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc1Jldmlld2VkID49IDEwICYmXG4gICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnRhYmxlc1NjYW5uZWQgPj0gMlxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGNhblVwZ3JhZGVUb0xldmVsNSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5jYXJkc1Jldmlld2VkID49IDcwICYmXG4gICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLmNvbnNlY3V0aXZlRGF5cyA+PSA3ICYmXG4gICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnRvdGFsRGF5cyA+PSAyMSAmJlxuICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5zdGF0c1BhZ2VWaXNpdGVkXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbGV2ZWxVcChuZXdMZXZlbDogVXNlckxldmVsKSB7XG4gICAgdGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB0aGlzLnByb2dyZXNzLmxldmVsVW5sb2NrZWRBdFtuZXdMZXZlbF0gPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3QgbWVzc2FnZXM6IFJlY29yZDxVc2VyTGV2ZWwsIHN0cmluZz4gPSB7XG4gICAgICAxOiAnXHVEODNDXHVERjg5IFx1NkIyMlx1OEZDRVx1NjIxMFx1NEUzQVx1OTFDN1x1OTZDNlx1ODAwNSEnLFxuICAgICAgMjogJ1x1RDgzQ1x1REY5MyBcdTUzNDdcdTdFQTdcdTRFM0FcdTYwMURcdTgwMDNcdTgwMDUhXFxuXHU4OUUzXHU5NTAxOiBcdTYyNzlcdTZDRThcdTUyOUZcdTgwRkRcdTMwMDFcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUMnLFxuICAgICAgMzogJ1x1RDgzRVx1RERFMCBcdTYyMTBcdTRFM0FcdThCQjBcdTVGQzZcdTVFMDghXFxuXHU4OUUzXHU5NTAxOiBcdTYyNkJcdTYzQ0ZcdTUyOUZcdTgwRkRcdTMwMDFcdTU5MERcdTRFNjBcdTdDRkJcdTdFREYnLFxuICAgICAgNDogJ1x1RDgzRFx1RENBQSBcdTY2NEJcdTUzNDdcdThCQURcdTdFQzNcdTgwMDUhXFxuXHU4OUUzXHU5NTAxOiBcdTdFREZcdThCQTFcdTUyMDZcdTY3OTAnLFxuICAgICAgNTogJ1x1RDgzQ1x1REZDNiBcdThGQkVcdTYyMTBcdTUyMDZcdTY3OTBcdTVFMDghXFxuXHU2MjQwXHU2NzA5XHU1MjlGXHU4MEZEXHU1REYyXHU4OUUzXHU5NTAxJ1xuICAgIH07XG5cbiAgICBjb25zdCBtaWxlc3RvbmUgPSB7XG4gICAgICBsZXZlbDogbmV3TGV2ZWwsXG4gICAgICB1bmxvY2tlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZXNbbmV3TGV2ZWxdXG4gICAgfTtcblxuICAgIHRoaXMucHJvZ3Jlc3MubWlsZXN0b25lcy5wdXNoKG1pbGVzdG9uZSk7XG5cbiAgICAvLyBcdTY2M0VcdTc5M0FcdTUzNDdcdTdFQTdcdTkwMUFcdTc3RTVcbiAgICBuZXcgTm90aWNlKG1lc3NhZ2VzW25ld0xldmVsXSwgMTAwMDApO1xuICAgIFxuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY1RTVcdTVFMzhcdThGREVcdTdFRURcdTU5MjlcdTY1NzAgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIHVwZGF0ZURhaWx5U3RyZWFrKCkge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgY29uc3QgbGFzdEFjdGl2ZSA9IHRoaXMucHJvZ3Jlc3Muc3RhdHMubGFzdEFjdGl2ZURhdGU7XG5cbiAgICBpZiAobGFzdEFjdGl2ZSAhPT0gdG9kYXkpIHtcbiAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKCk7XG4gICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICBjb25zdCB5ZXN0ZXJkYXlTdHIgPSB5ZXN0ZXJkYXkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuXG4gICAgICBpZiAobGFzdEFjdGl2ZSA9PT0geWVzdGVyZGF5U3RyKSB7XG4gICAgICAgIC8vIFx1OEZERVx1N0VFRFxuICAgICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLmNvbnNlY3V0aXZlRGF5cysrO1xuICAgICAgfSBlbHNlIGlmICghbGFzdEFjdGl2ZSkge1xuICAgICAgICAvLyBcdTk5OTZcdTZCMjFcbiAgICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5jb25zZWN1dGl2ZURheXMgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU0RTJEXHU2NUFEXG4gICAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY29uc2VjdXRpdmVEYXlzID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy50b3RhbERheXMrKztcbiAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMubGFzdEFjdGl2ZURhdGUgPSB0b2RheTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdThGODVcdTUyQTlcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICBnZXRDdXJyZW50TGV2ZWwoKTogVXNlckxldmVsIHtcbiAgICByZXR1cm4gdGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWw7XG4gIH1cblxuICBnZXRQcm9ncmVzcygpOiBVbmxvY2tQcm9ncmVzcyB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3M7XG4gIH1cblxuICBnZXROZXh0U3RlcHNGb3JMZXZlbChsZXZlbDogVXNlckxldmVsKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGF0cyA9IHRoaXMucHJvZ3Jlc3Muc3RhdHM7XG4gIFxuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIGBcdUQ4M0RcdURDRTYgXHU2M0QwXHU1M0Q2XHU1MzYxXHU3MjQ3OiAke3N0YXRzLmNhcmRzRXh0cmFjdGVkfS8xMGA7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBgXHVEODNEXHVEQ0REIFx1NUI4Q1x1NjIxMFx1NjI3OVx1NkNFODogJHtzdGF0cy5hbm5vdGF0aW9uc0NvbXBsZXRlZH0vNWA7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBgXHVEODNEXHVERDA0IFx1NTkwRFx1NEU2MFx1NTM2MVx1NzI0NzogJHtzdGF0cy5jYXJkc1Jldmlld2VkfS8zMFxcblx1RDgzRFx1REQyNSBcdThGREVcdTdFRURcdTRGN0ZcdTc1MjhcdTU5MjlcdTY1NzA6ICR7c3RhdHMuY29uc2VjdXRpdmVEYXlzfS83YDtcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgcmV0dXJuIGBcdUQ4M0RcdURDQ0IgXHU2MjZCXHU2M0NGXHU2REZCXHU1MkEwXHU4ODY4XHU2ODNDOiAke3N0YXRzLnRhYmxlc1NjYW5uZWR9LzJcXG5cdUQ4M0RcdURDQ0EgXHU4QkJGXHU5NUVFXHU3RURGXHU4QkExXHU5ODc1OiAke3N0YXRzLnN0YXRzUGFnZVZpc2l0ZWQgPyAnXHUyNzEzJyA6ICdcdTI3MTcnfVxcbiBcdUQ4M0RcdURDQzggXHU2MDNCXHU0RjdGXHU3NTI4XHU1OTI5XHU2NTcwOiAke3N0YXRzLnRvdGFsRGF5c30vMjFgO1xuICAgICAgY2FzZSA1OlxuICAgICAgICByZXR1cm4gYFx1RDgzQ1x1REY4OSBcdTYwNkRcdTU1OUNcdTg5RTNcdTk1MDFcdTYyNDBcdTY3MDlcdTUyOUZcdTgwRkQhXFxuXFxuXHVEODNEXHVERDJFIFx1NjY3QVx1NTZDQVx1NTZFMlx1NTI5Rlx1ODBGRFx1NUMxQVx1NjcyQVx1NUYwMFx1NjUzRVxcblx1OEZCRVx1NTIzMFx1NEVCQVx1NjU3MFx1NEUwRVx1NkJCNVx1NEY0RFx1Njc2MVx1NEVGNlx1NTQwRVx1NUYwMFx1NTQyRlxcblx1RDgzRFx1REQxNyA8YSBocmVmPVwiaHR0cHM6Ly9qei1xdWFydHoucGFnZXMuZGV2LzYuYWJvdXQvJUU2JTk5JUJBJUU1JTlCJThBJUU1JTlCJUEyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XHU0RTg2XHU4OUUzXHU2NjdBXHU1NkNBXHU1NkUyXHVGRjA4XHU3MEI5XHU1MUZCXHU2N0U1XHU3NzBCXHVGRjA5PC9hPmA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRGZWF0dXJlUmVxdWlyZWRMZXZlbChmZWF0dXJlOiBzdHJpbmcpOiBVc2VyTGV2ZWwge1xuICAgIGlmIChbJ2V4dHJhY3Qtc2luZ2xlJywgJ3NpZGViYXItYmFzaWMnXS5pbmNsdWRlcyhmZWF0dXJlKSkgcmV0dXJuIDE7XG4gICAgaWYgKFsnZXh0cmFjdC1iYXRjaCcsICdhbm5vdGF0aW9uJywgJ2ZpbHRlci1ieS10eXBlJ10uaW5jbHVkZXMoZmVhdHVyZSkpIHJldHVybiAyO1xuICAgIGlmIChbJ3NjYW4tdmF1bHQnLCAnc2Nhbi1maWxlJywgJ3Jldmlldy1wYWdlJywgJ3Jldmlldy1yZW1pbmRlcicsICdleHRyYWN0LXRhYmxlJ10uaW5jbHVkZXMoZmVhdHVyZSkpIHJldHVybiAzO1xuICAgIGlmIChmZWF0dXJlID09PSAnc3RhdHMtcGFnZScpIHJldHVybiA0O1xuICAgIHJldHVybiA1O1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2NTcwXHU2MzZFXHU2MzAxXHU0RTQ1XHU1MzE2ID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkUHJvZ3Jlc3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuICAgICAgXG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHModGhpcy5kYXRhUGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFkYXB0ZXIucmVhZCh0aGlzLmRhdGFQYXRoKTtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2MDYyXHU1OTBEIFNldFxuICAgICAgICBzYXZlZC51bmxvY2tlZEZlYXR1cmVzID0gbmV3IFNldChzYXZlZC51bmxvY2tlZEZlYXR1cmVzIHx8IFtdKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBzYXZlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSB0aGlzLmNyZWF0ZURlZmF1bHRQcm9ncmVzcygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHVubG9jayBwcm9ncmVzczonLCBlcnJvcik7XG4gICAgICB0aGlzLnByb2dyZXNzID0gdGhpcy5jcmVhdGVEZWZhdWx0UHJvZ3Jlc3MoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNhdmVQcm9ncmVzcygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgICBcbiAgICAgIC8vIFx1OEY2Q1x1NjM2MiBTZXQgXHU0RTNBXHU2NTcwXHU3RUM0XG4gICAgICBjb25zdCB0b1NhdmUgPSB7XG4gICAgICAgIC4uLnRoaXMucHJvZ3Jlc3MsXG4gICAgICAgIHVubG9ja2VkRmVhdHVyZXM6IEFycmF5LmZyb20odGhpcy5wcm9ncmVzcy51bmxvY2tlZEZlYXR1cmVzKVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRvU2F2ZSwgbnVsbCwgMik7XG4gICAgICBhd2FpdCBhZGFwdGVyLndyaXRlKHRoaXMuZGF0YVBhdGgsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdW5sb2NrIHByb2dyZXNzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZURlZmF1bHRQcm9ncmVzcygpOiBVbmxvY2tQcm9ncmVzcyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRMZXZlbDogMSxcbiAgICAgIHN0YXRzOiB7XG4gICAgICAgIGNhcmRzRXh0cmFjdGVkOiAwLFxuICAgICAgICBhbm5vdGF0aW9uc0NvbXBsZXRlZDogMCxcbiAgICAgICAgY2FyZHNSZXZpZXdlZDogMCxcbiAgICAgICAgdGFibGVzU2Nhbm5lZDogMCxcbiAgICAgICAgY29uc2VjdXRpdmVEYXlzOiAwLFxuICAgICAgICB0b3RhbERheXM6IDAsXG4gICAgICAgIHN0YXRzUGFnZVZpc2l0ZWQ6IGZhbHNlLFxuICAgICAgICBsYXN0QWN0aXZlRGF0ZTogJydcbiAgICAgIH0sXG4gICAgICB1bmxvY2tlZEZlYXR1cmVzOiBuZXcgU2V0KFsnZXh0cmFjdC1zaW5nbGUnLCAnc2lkZWJhci1iYXNpYyddKSxcbiAgICAgIGxldmVsVW5sb2NrZWRBdDogeyAxOiBEYXRlLm5vdygpIH0sXG4gICAgICBtaWxlc3RvbmVzOiBbe1xuICAgICAgICBsZXZlbDogMSxcbiAgICAgICAgdW5sb2NrZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgbWVzc2FnZTogJ1x1RDgzQ1x1REY4OSBcdTZCMjJcdThGQ0VcdTYyMTBcdTRFM0FcdTkxQzdcdTk2QzZcdTgwMDUhJ1xuICAgICAgfV1cbiAgICB9O1xuICB9XG59XG5cbmNsYXNzIFVubG9ja05vdGljZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgYXBwOiBBcHAsXG4gICAgICBwcml2YXRlIGZlYXR1cmVOYW1lOiBzdHJpbmcsXG4gICAgICBwcml2YXRlIHJlcXVpcmVkTGV2ZWw6IG51bWJlcixcbiAgICAgIHByaXZhdGUgbmV4dFN0ZXBzOiBzdHJpbmdcbiAgICApIHtcbiAgICAgIHN1cGVyKGFwcCk7XG4gICAgfVxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1x1RDgzRFx1REQxMiBcdTUyOUZcdTgwRkRcdTY3MkFcdTg5RTNcdTk1MDEnIH0pO1xuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgICAgIHRleHQ6IGBcIiR7dGhpcy5mZWF0dXJlTmFtZX1cIiBcdTk3MDBcdTg5ODEgTHYke3RoaXMucmVxdWlyZWRMZXZlbH0gXHU4OUUzXHU5NTAxYCBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHU1RjUzXHU1MjREXHU4RkRCXHU1RUE2OicgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTUyMUJcdTVFRkFcdTVCQjlcdTU2NjhcdTVFNzZcdThCQkVcdTdGNkVcdTY4MzdcdTVGMEZcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuICAgICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZyA9ICcxMHB4JztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgICAgICBjb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gJzEuOCc7XG4gICAgICAgIFxuICAgIC8vIFx1NEY3Rlx1NzUyOCBpbm5lckhUTUwgXHU3NkY0XHU2M0E1XHU2M0QyXHU1MTY1XHU1RTI2IDxicj4gXHU3Njg0IEhUTUxcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5uZXh0U3RlcHMucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTUyMDZcdTk2OTRcdTdFQkYgLSBcdTc2RjRcdTYzQTVcdTU3MjggY29udGFpbmVyIFx1NTQwRVx1OTc2MlxuICAgIGNvbnN0IGRpdmlkZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicpO1xuICAgIGRpdmlkZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZGl2aWRlci5zdHlsZS5oZWlnaHQgPSAnMnB4JztcbiAgICBkaXZpZGVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNjY2JztcbiAgICBkaXZpZGVyLnN0eWxlLm1hcmdpbiA9ICcyMHB4IDAnO1xuICAgICAgXG4gICAgfVxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbiAgICBcbiAgfVxuICBleHBvcnQgY2xhc3MgTGV2ZWxJbmZvTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICBhcHA6IEFwcCxcbiAgICAgIHByaXZhdGUgcHJvZ3Jlc3M6IFVubG9ja1Byb2dyZXNzLFxuICAgICAgcHJpdmF0ZSB1bmxvY2tTeXN0ZW06IFVubG9ja1N5c3RlbVxuICAgICkge1xuICAgICAgc3VwZXIoYXBwKTtcbiAgICB9XG4gICAgXG4gICAgb25PcGVuKCkge1xuICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnbGV2ZWwtaW5mby1tb2RhbCcpO1xuICAgICAgXG4gICAgICAvLyBcdTY4MDdcdTk4OThcbiAgICAgIGNvbnN0IGxldmVsTmFtZXM6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7XG4gICAgICAgIDE6ICdcdTkxQzdcdTk2QzZcdTgwMDUnLFxuICAgICAgICAyOiAnXHU2MDFEXHU4MDAzXHU4MDA1JyxcbiAgICAgICAgMzogJ1x1OEJCMFx1NUZDNlx1NUUwOCcsIFxuICAgICAgICA0OiAnXHU4QkFEXHU3RUMzXHU4MDA1JyxcbiAgICAgICAgNTogJ1x1NTIwNlx1Njc5MFx1NUUwOCdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IFxuICAgICAgICB0ZXh0OiBgXHVEODNDXHVERkM2IEx2JHt0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbH0gJHtsZXZlbE5hbWVzW3RoaXMucHJvZ3Jlc3MuY3VycmVudExldmVsXX1gXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gXHU4RkRCXHU1RUE2XHU0RkUxXHU2MDZGXG4gICAgICBjb25zdCBwcm9ncmVzc1NlY3Rpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3Mtc2VjdGlvbicgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2dyZXNzQm94ID0gcHJvZ3Jlc3NTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWJveCcgfSk7XG4gICAgICBjb25zdCBwcm9ncmVzc1RleHQgPSB0aGlzLnVubG9ja1N5c3RlbS5nZXROZXh0U3RlcHNGb3JMZXZlbCh0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbCk7XG4gICAgICBwcm9ncmVzc0JveC5pbm5lckhUTUwgPSBwcm9ncmVzc1RleHQucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XG4gICAgICBcbiAgICAgIC8vIFx1N0VERlx1OEJBMVx1NEZFMVx1NjA2RlxuICAgICAgY29uc3Qgc3RhdHNTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLXNlY3Rpb24nIH0pO1xuICAgICAgc3RhdHNTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1x1N0QyRlx1OEJBMVx1N0VERlx1OEJBMScgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXRzR3JpZCA9IHN0YXRzU2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy1ncmlkJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHMgPSBbXG4gICAgICAgIHsgaWNvbjogJ1x1RDgzRFx1RENFNicsIGxhYmVsOiAnXHU2M0QwXHU1M0Q2XHU1MzYxXHU3MjQ3JywgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNFeHRyYWN0ZWQgfSxcbiAgICAgICAgeyBpY29uOiAnXHVEODNEXHVEQ0REJywgbGFiZWw6ICdcdTVCOENcdTYyMTBcdTYyNzlcdTZDRTgnLCB2YWx1ZTogdGhpcy5wcm9ncmVzcy5zdGF0cy5hbm5vdGF0aW9uc0NvbXBsZXRlZCB9LFxuICAgICAgICB7IGljb246ICdcdUQ4M0RcdUREMDQnLCBsYWJlbDogJ1x1NTkwRFx1NEU2MFx1NTM2MVx1NzI0NycsIHZhbHVlOiB0aGlzLnByb2dyZXNzLnN0YXRzLmNhcmRzUmV2aWV3ZWQgfSxcbiAgICAgICAgeyBpY29uOiAnXHVEODNEXHVEQ0NCJywgbGFiZWw6ICdcdTYyNkJcdTYzQ0ZcdTg4NjhcdTY4M0MnLCB2YWx1ZTogdGhpcy5wcm9ncmVzcy5zdGF0cy50YWJsZXNTY2FubmVkIH0sXG4gICAgICAgIHsgaWNvbjogJ1x1RDgzRFx1REQyNScsIGxhYmVsOiAnXHU4RkRFXHU3RUVEXHU1OTI5XHU2NTcwJywgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMuY29uc2VjdXRpdmVEYXlzIH0sXG4gICAgICAgIHsgaWNvbjogJ1x1RDgzRFx1RENDNScsIGxhYmVsOiAnXHU2MDNCXHU0RjdGXHU3NTI4XHU1OTI5XHU2NTcwJywgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMudG90YWxEYXlzIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHN0YXRzLmZvckVhY2goc3RhdCA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBzdGF0c0dyaWQuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdC1pdGVtJyB9KTtcbiAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWljb25cIj4ke3N0YXQuaWNvbn08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWxhYmVsXCI+JHtzdGF0LmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtdmFsdWVcIj4ke3N0YXQudmFsdWV9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFx1OTFDQ1x1N0EwQlx1Nzg5MVxuICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MubWlsZXN0b25lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG1pbGVzdG9uZXNTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ21pbGVzdG9uZXMtc2VjdGlvbicgfSk7XG4gICAgICAgIG1pbGVzdG9uZXNTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1x1RDgzQ1x1REZBRiBcdTYyMTBcdTVDMzFcdTkxQ0NcdTdBMEJcdTc4OTEnIFxuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbWlsZXN0b25lc0xpc3QgPSBtaWxlc3RvbmVzU2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdtaWxlc3RvbmVzLWxpc3QnIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wcm9ncmVzcy5taWxlc3RvbmVzXG4gICAgICAgICAgLnNsaWNlKClcbiAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgLmZvckVhY2goKG1pbGVzdG9uZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IG1pbGVzdG9uZXNMaXN0LmNyZWF0ZURpdih7IGNsczogJ21pbGVzdG9uZS1pdGVtJyB9KTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShtaWxlc3RvbmUudW5sb2NrZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicpO1xuICAgICAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaWxlc3RvbmUtbWVzc2FnZVwiPiR7ZGF0ZX0gJHttaWxlc3RvbmUubWVzc2FnZX0gPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgLy8gICAvLyBcdTUxNzNcdTk1RURcdTYzMDlcdTk0QUVcbiAgICAvLyAgIGNvbnN0IGZvb3RlciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdtb2RhbC1mb290ZXInIH0pO1xuICAgIC8vICAgY29uc3QgY2xvc2VCdG4gPSBmb290ZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NTE3M1x1OTVFRCcgfSk7XG4gICAgLy8gICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gICAgfVxuICAgIFxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbiAgfSIsICIvLyByZXZpZXdWaWV3LnRzIC0gXHU5MUNEXHU2Nzg0XHU3MjQ4XHU2NzJDXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IENhcmRTY2hlZHVsZXIsIFJldmlld0Vhc2UgfSBmcm9tICcuLi8uLi9jb3JlL0NhcmRTY2hlZHVsZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkRWRpdE1vZGFsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbHMvRmxhc2hjYXJkRWRpdE1vZGFsJztcbmltcG9ydCB7IFJldmlld1N0YXRlTWFuYWdlcixSZXZpZXdTdGF0ZSB9IGZyb20gJy4uL3N0YXRlL3Jldmlld1N0YXRlTWFuYWdlcic7XG4vLyBpbXBvcnQgeyBSZXZpZXdLZXlib2FyZEhhbmRsZXIgfSBmcm9tICcuL1Jldmlld0tleWJvYXJkSGFuZGxlcic7XG5pbXBvcnQgeyBUYWJsZVJlbmRlcmVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy9UYWJsZVJlbmRlcmVyJztcbmltcG9ydCB7IENhcmRSZW5kZXJlckZhY3RvcnkgfSBmcm9tICcuLi9jb21wb25lbnRzL3Jldmlld0NhcmRSZW5kZXInO1xuXG5pbXBvcnQgeyByZXZpZXdTdHlsZSB9IGZyb20gJy4uL3N0eWxlL3Jldmlld1N0eWxlJztcbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfUkVWSUVXID0gJ2xlYXJuaW5nLXN5c3RlbS1yZXZpZXcnO1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFx1NEUzQlx1ODlDNlx1NTZGRVx1N0M3QlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNsYXNzIFJldmlld1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG4gIHByaXZhdGUgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyO1xuICBwcml2YXRlIGR1ZUNhcmRzOiBGbGFzaGNhcmRbXSA9IFtdO1xuICBwcml2YXRlIGN1cnJlbnRDYXJkSW5kZXg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgY3VycmVudENhcmQ6IEZsYXNoY2FyZCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHN0YXRlTWFuYWdlcjogUmV2aWV3U3RhdGVNYW5hZ2VyID0gbmV3IFJldmlld1N0YXRlTWFuYWdlcigpO1xuXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLnNjaGVkdWxlciA9IG5ldyBDYXJkU2NoZWR1bGVyKCk7XG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBWSUVXX1RZUEVfUkVWSUVXO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ0ZsYXNoY2FyZCBSZXZpZXcnO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnbGF5ZXJzJztcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWREdWVDYXJkcygpO1xuICAgIHJldmlld1N0eWxlLmluamVjdCgpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gICAgdGhpcy5yZWdpc3RlcktleWJvYXJkSGFuZGxlcnMoKTtcbiAgfVxuXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU3MkI2XHU2MDAxXHU3QkExXHU3NDA2XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gIHByaXZhdGUgcmVzZXRSZXZpZXdTdGF0ZSgpIHtcbiAgICB0aGlzLnN0YXRlTWFuYWdlci5yZXNldCgpO1xuXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRDYXJkKGRpcmVjdGlvbjogJ25leHQnIHwgJ3ByZXYnID0gJ25leHQnKSB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHRoaXMuZHVlQ2FyZHNbdGhpcy5jdXJyZW50Q2FyZEluZGV4XTtcbiAgICBjb25zdCBpc1NhbWVDYXJkID0gdGhpcy5jdXJyZW50Q2FyZD8uaWQgPT09IG5ld0NhcmQ/LmlkO1xuICAgIFxuICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnVwZGF0ZUZvck5ld0NhcmQobmV3Q2FyZCwgaXNTYW1lQ2FyZCwgZGlyZWN0aW9uKTtcbiAgICB0aGlzLmN1cnJlbnRDYXJkID0gbmV3Q2FyZDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU2NTcwXHU2MzZFXHU1MkEwXHU4RjdEXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgcHJpdmF0ZSBhc3luYyBsb2FkRHVlQ2FyZHMoKSB7XG4gICAgdGhpcy5kdWVDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0RHVlQ2FyZHMoKTtcbiAgICB0aGlzLmN1cnJlbnRDYXJkSW5kZXggPSAwO1xuICAgIHRoaXMucmVzZXRSZXZpZXdTdGF0ZSgpO1xuICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnJlc2V0KCk7XG4gICAgdGhpcy51cGRhdGVDdXJyZW50Q2FyZCgnbmV4dCcpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBcdTZFMzJcdTY3RDNcdTkwM0JcdThGOTFcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBwcml2YXRlIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hZGRDbGFzcygncmV2aWV3LWNvbnRhaW5lcicpO1xuXG4gICAgaWYgKHRoaXMuZHVlQ2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnJlbmRlck5vRHVlQ2FyZHMoY29udGFpbmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0aGlzLnVwZGF0ZUN1cnJlbnRDYXJkKCk7XG4gICAgdGhpcy5yZW5kZXJQcm9ncmVzcyhjb250YWluZXIpO1xuICAgIFxuICAgIGNvbnN0IGNhcmRBcmVhID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NhcmQtYXJlYScgfSk7XG4gICAgdGhpcy5yZW5kZXJUb3BBY3Rpb25zKGNhcmRBcmVhKTtcbiAgICBcbiAgICBpZiAodGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKS5zaG93QW5zd2VyKSB7XG4gICAgICB0aGlzLnJlbmRlckFuc3dlclZpZXcoY2FyZEFyZWEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlclF1ZXN0aW9uVmlldyhjYXJkQXJlYSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJOb0R1ZUNhcmRzKGNvbnRhaW5lcjogRWxlbWVudCkge1xuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZW1wdHktc3RhdGUnIH0pO1xuICAgIGVtcHR5U3RhdGUuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnXHVEODNDXHVERjg5IEFsbCBEb25lIScgfSk7XG4gICAgZW1wdHlTdGF0ZS5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ05vIGNhcmRzIGR1ZSBmb3IgcmV2aWV3IHJpZ2h0IG5vdy4nIH0pO1xuXG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldFN0YXRzKCk7XG4gICAgY29uc3Qgc3RhdHNEaXYgPSBlbXB0eVN0YXRlLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLXN1bW1hcnknIH0pO1xuICAgIHN0YXRzRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBgVG90YWwgY2FyZHM6ICR7c3RhdHMudG90YWx9YCB9KTtcbiAgICBzdGF0c0Rpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogYE5ldyBjYXJkczogJHtzdGF0cy5uZXd9YCB9KTtcbiAgICBzdGF0c0Rpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogYFJldmlld2VkIHRvZGF5OiAke3N0YXRzLnJldmlld2VkVG9kYXl9YCB9KTtcblxuICAgIGNvbnN0IGNsb3NlQnRuID0gZW1wdHlTdGF0ZS5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ0Nsb3NlIFJldmlldycsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIFxuICAgIGNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLmxlYWY/LmRldGFjaCgpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclByb2dyZXNzKGNvbnRhaW5lcjogRWxlbWVudCkge1xuICAgIGNvbnN0IHByb2dyZXNzQmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWJhcicgfSk7XG4gICAgXG4gICAgY29uc3Qgc3RhdHMgPSBwcm9ncmVzc0Jhci5jcmVhdGVEaXYoeyBjbHM6ICdwcm9ncmVzcy1zdGF0cycgfSk7XG4gICAgc3RhdHMuY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogYCR7dGhpcy5jdXJyZW50Q2FyZEluZGV4ICsgMX0gLyAke3RoaXMuZHVlQ2FyZHMubGVuZ3RofWAsXG4gICAgICBjbHM6ICdwcm9ncmVzcy10ZXh0J1xuICAgIH0pO1xuXG4gICAgY29uc3QgYmFyQ29udGFpbmVyID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWNvbnRhaW5lcicgfSk7XG4gICAgY29uc3QgYmFyID0gYmFyQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2JhcicgfSk7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSAoKHRoaXMuY3VycmVudENhcmRJbmRleCArIDEpIC8gdGhpcy5kdWVDYXJkcy5sZW5ndGgpICogMTAwO1xuICAgIGJhci5zdHlsZS53aWR0aCA9IGAke3Byb2dyZXNzfSVgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUb3BBY3Rpb25zKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBhY3Rpb25zQmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3RvcC1hY3Rpb25zLWJhcicgfSk7XG5cbiAgICAvLyBKdW1wIHRvIFNvdXJjZSBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBqdW1wQnRuID0gYWN0aW9uc0Jhci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgY2xzOiAndG9wLWFjdGlvbi1idG4ganVtcC1pY29uLWJ0bicsXG4gICAgICBhdHRyOiB7ICdhcmlhLWxhYmVsJzogJ0p1bXAgdG8gU291cmNlJyB9XG4gICAgfSk7XG4gICAganVtcEJ0bi5pbm5lckhUTUwgPSAnXHUyMTk3JztcbiAgICBqdW1wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5qdW1wVG9Tb3VyY2UoKSk7XG5cbiAgICAvLyBNb3JlIFx1ODNEQ1x1NTM1NVxuICAgIHRoaXMucmVuZGVyTW9yZU1lbnUoYWN0aW9uc0Jhcik7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck1vcmVNZW51KGFjdGlvbnNCYXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgbW9yZUJ0biA9IGFjdGlvbnNCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIGNsczogJ3RvcC1hY3Rpb24tYnRuIG1vcmUtYnRuJyxcbiAgICAgIGF0dHI6IHsgJ2FyaWEtbGFiZWwnOiAnTW9yZSBhY3Rpb25zJyB9XG4gICAgfSk7XG4gICAgbW9yZUJ0bi5pbm5lckhUTUwgPSAnXHUyMkVGJztcbiAgICBcbiAgICBjb25zdCBkcm9wZG93biA9IGFjdGlvbnNCYXIuY3JlYXRlRGl2KHsgY2xzOiAnbW9yZS1kcm9wZG93bicgfSk7XG4gICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIC8vIFx1ODNEQ1x1NTM1NVx1OTg3OVx1OTE0RFx1N0Y2RVxuICAgIGNvbnN0IG1lbnVJdGVtcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdcdTI3MEZcdUZFMEYgRWRpdCBDYXJkJyxcbiAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5lZGl0Q3VycmVudEZsYXNoY2FyZCgpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYWJlbDogJ1x1RDgzRFx1REQwNCBSZXNldCBDYXJkIFN0YXRzJyxcbiAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDYXJkICYmIGNvbmZpcm0oJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1OTFDRFx1N0Y2RVx1OEZEOVx1NUYyMFx1NTM2MVx1NzI0N1x1NzY4NFx1NUI2Nlx1NEU2MFx1OEZEQlx1NUVBNlx1NTQxN1x1RkYxRicpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlc2V0Q2FyZFN0YXRzKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdcdUQ4M0RcdURDREEgUmVzZXQgRGVjayBTdGF0cycsXG4gICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCkge1xuICAgICAgICAgICAgY29uc3QgZGVja05hbWUgPSB0aGlzLmN1cnJlbnRDYXJkLmRlY2s7XG4gICAgICAgICAgICBpZiAoY29uZmlybShgXHU3ODZFXHU1QjlBXHU4OTgxXHU5MUNEXHU3RjZFXHU1MzYxXHU3RUM0XCIke2RlY2tOYW1lfVwiXHU3Njg0XHU2MjQwXHU2NzA5XHU1QjY2XHU0RTYwXHU4RkRCXHU1RUE2XHU1NDE3XHVGRjFGYCkpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5hbHl0aWNzRW5naW5lLmNsZWFyRGVja1N0YXRzKGRlY2tOYW1lKTtcbiAgICAgICAgICAgICAgbmV3IE5vdGljZShgXHUyNzA1IFx1NTM2MVx1N0VDNFwiJHtkZWNrTmFtZX1cIlx1NzY4NFx1N0VERlx1OEJBMVx1NURGMlx1OTFDRFx1N0Y2RWApO1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWREdWVDYXJkcygpO1xuICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdcdUQ4M0RcdURERDFcdUZFMEYgRGVsZXRlIENhcmQnLFxuICAgICAgICBvbkNsaWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmQgJiYgY29uZmlybSgnXHU3ODZFXHU1QjlBXHU4OTgxXHU1MjIwXHU5NjY0XHU4RkQ5XHU1RjIwXHU5NUVBXHU1MzYxXHU1NDE3XHVGRjFGJykpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlRmxhc2hjYXJkKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiAnZGVsZXRlLWl0ZW0nXG4gICAgICB9XG4gICAgXTtcblxuICAgIC8vIFx1NTIxQlx1NUVGQVx1ODNEQ1x1NTM1NVx1OTg3OVxuICAgIG1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgbWVudUl0ZW0gPSBkcm9wZG93bi5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICBjbHM6IGBkcm9wZG93bi1pdGVtICR7aXRlbS5jbGFzc05hbWUgfHwgJyd9YFxuICAgICAgfSk7XG4gICAgICBtZW51SXRlbS5pbm5lckhUTUwgPSBpdGVtLmxhYmVsO1xuICAgICAgbWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGl0ZW0ub25DbGljaygpO1xuICAgICAgICBkcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTUyMDdcdTYzNjJcdTRFMEJcdTYyQzlcdTgzRENcdTUzNTVcbiAgICBtb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBkcm9wZG93bi5zdHlsZS5kaXNwbGF5ID0gZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcblxuICAgIGRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclF1ZXN0aW9uVmlldyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRDYXJkKSByZXR1cm47XG5cbiAgICAvLyBcdTUzNjFcdTcyNDdcdTRGRTFcdTYwNkZcbiAgICB0aGlzLnJlbmRlckNhcmRJbmZvKGNvbnRhaW5lcik7XG5cbiAgICAvLyBcdTk1RUVcdTk4OThcdTUzM0FcdTU3REZcbiAgICBjb25zdCBxdWVzdGlvbkFyZWEgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncXVlc3Rpb24tYXJlYScgfSk7XG4gICAgcXVlc3Rpb25BcmVhLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1F1ZXN0aW9uJyB9KTtcblxuICAgIC8vIFx1NEY3Rlx1NzUyOFx1N0I1Nlx1NzU2NVx1NkEyMVx1NUYwRlx1NkUzMlx1NjdEM1xuICAgIGNvbnN0IHJlbmRlcmVyID0gQ2FyZFJlbmRlcmVyRmFjdG9yeS5nZXRSZW5kZXJlcih0aGlzLmN1cnJlbnRDYXJkLnR5cGUpO1xuICAgIHJlbmRlcmVyLnJlbmRlclF1ZXN0aW9uKFxuICAgICAgcXVlc3Rpb25BcmVhLCBcbiAgICAgIHRoaXMuY3VycmVudENhcmQsIFxuICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKSxcbiAgICAgIHtcbiAgICAgICAgc2V0VXNlckFuc3dlcjogKGFuc3dlcjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0VXNlckFuc3dlcihhbnN3ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRVc2VyQW5zd2VyczogKGFuc3dlcnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0VXNlckFuc3dlcnMoYW5zd2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIC8vIFx1NjYzRVx1NzkzQVx1N0I1NFx1Njg0OFx1NjMwOVx1OTRBRSArIFx1N0ZGQlx1OTg3NVx1NjMwOVx1OTRBRVx1NTcyOFx1NTQwQ1x1NEUwMFx1ODg0Q1xuICAgIGNvbnN0IGFjdGlvblJvdyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdhY3Rpb24tcm93JyB9KTtcbiAgICB0aGlzLnJlbmRlck5hdmlnYXRpb25CdXR0b24oYWN0aW9uUm93LCAncHJldicpO1xuICAgIHRoaXMucmVuZGVyU2hvd0Fuc3dlckJ1dHRvbihhY3Rpb25Sb3cpOyAgLy8gXHU1OTBEXHU3NTI4XHU1MzlGXHU2NUI5XHU2Q0Q1XG4gICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uQnV0dG9uKGFjdGlvblJvdywgJ25leHQnKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQW5zd2VyVmlldyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRDYXJkKSByZXR1cm47XG4gIFxuICAgIC8vIFx1NTM2MVx1NzI0N1x1NEZFMVx1NjA2RlxuICAgIHRoaXMucmVuZGVyQ2FyZEluZm8oY29udGFpbmVyKTtcbiAgXG4gICAgLy8gXHU1M0VBXHU2NzA5XHU1NzI4XHU5NzVFXHU4ODY4XHU2ODNDXHU5NUVFXHU5ODk4XHU2NUY2XHU2MjREXHU2NjNFXHU3OTNBXHU5NUVFXHU5ODk4XHU1NkRFXHU5ODdFXG4gICAgY29uc3QgaXNRdWVzdGlvblRhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KHRoaXMuY3VycmVudENhcmQuZnJvbnQpO1xuICAgIGNvbnN0IGlzQW5zd2VyVGFibGUgPSB0aGlzLmN1cnJlbnRDYXJkLnR5cGUgPT09ICdjbG96ZScgXG4gICAgICA/IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdCh0aGlzLmN1cnJlbnRDYXJkLmNsb3plPy5vcmlnaW5hbCB8fCAnJylcbiAgICAgIDogVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KFxuICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5jdXJyZW50Q2FyZC5iYWNrKSBcbiAgICAgICAgICAgID8gKHRoaXMuY3VycmVudENhcmQuYmFja1swXSB8fCAnJykgXG4gICAgICAgICAgICA6IHRoaXMuY3VycmVudENhcmQuYmFjayBhcyBzdHJpbmdcbiAgICAgICAgKTtcbiAgICBcbiAgICBpZiAoIWlzUXVlc3Rpb25UYWJsZSAmJiAhaXNBbnN3ZXJUYWJsZSkge1xuICAgICAgdGhpcy5yZW5kZXJRdWVzdGlvblJldmlldyhjb250YWluZXIpO1xuICAgIH1cbiAgXG4gICAgLy8gXHU0RjdGXHU3NTI4XHU3QjU2XHU3NTY1XHU2QTIxXHU1RjBGXHU2RTMyXHU2N0QzXHU3QjU0XHU2ODQ4XG4gICAgY29uc3QgcmVuZGVyZXIgPSBDYXJkUmVuZGVyZXJGYWN0b3J5LmdldFJlbmRlcmVyKHRoaXMuY3VycmVudENhcmQudHlwZSk7XG4gICAgcmVuZGVyZXIucmVuZGVyQW5zd2VyKGNvbnRhaW5lciwgdGhpcy5jdXJyZW50Q2FyZCwgdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKSwgdGhpcy5zY2hlZHVsZXIpO1xuICBcbiAgICAgIC8vIFx1OEJDNFx1N0VBN1x1NjMwOVx1OTRBRSArIFx1N0ZGQlx1OTg3NVx1NjMwOVx1OTRBRVx1NTcyOFx1NTQwQ1x1NEUwMFx1ODg0Q1xuICAgICAgY29uc3QgYWN0aW9uUm93ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2FjdGlvbi1yb3cnIH0pO1xuICAgICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uQnV0dG9uKGFjdGlvblJvdywgJ3ByZXYnKTtcbiAgICAgIHRoaXMucmVuZGVyUmF0aW5nQnV0dG9ucyhhY3Rpb25Sb3cpOyAgLy8gXHU1OTBEXHU3NTI4XHU1MzlGXHU2NUI5XHU2Q0Q1LFx1NEYyMFx1NTE2NVx1NUJCOVx1NTY2OFxuICAgICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uQnV0dG9uKGFjdGlvblJvdywgJ25leHQnKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ2FyZEluZm8oY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2FyZEluZm8gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1pbmZvJyB9KTtcbiAgICBjYXJkSW5mby5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiB0aGlzLmN1cnJlbnRDYXJkLnR5cGUgPT09ICdxYScgPyAnXHVEODNEXHVEQ0REIFEmQScgOiAnXHUyNzBGXHVGRTBGIENsb3plJyxcbiAgICAgIGNsczogJ2NhcmQtdHlwZSdcbiAgICB9KTtcbiAgICBjYXJkSW5mby5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiBgRGVjazogJHt0aGlzLmN1cnJlbnRDYXJkLmRlY2t9YCxcbiAgICAgIGNsczogJ2NhcmQtZGVjaydcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUXVlc3Rpb25SZXZpZXcoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcXVlc3Rpb25SZXZpZXcgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncXVlc3Rpb24tcmV2aWV3JyB9KTtcbiAgICBxdWVzdGlvblJldmlldy5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdRdWVzdGlvbjonIH0pO1xuXG4gICAgY29uc3QgcmV2aWV3VGV4dERpdiA9IHF1ZXN0aW9uUmV2aWV3LmNyZWF0ZURpdih7IGNsczogJ3Jldmlldy10ZXh0JyB9KTtcbiAgICBjb25zdCBpc1F1ZXN0aW9uVGFibGUgPSBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQodGhpcy5jdXJyZW50Q2FyZC5mcm9udCk7XG4gICAgXG4gICAgaWYgKGlzUXVlc3Rpb25UYWJsZSkge1xuICAgICAgY29uc3QgdGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGUodGhpcy5jdXJyZW50Q2FyZC5mcm9udCwgZmFsc2UpO1xuICAgICAgcmV2aWV3VGV4dERpdi5hcHBlbmRDaGlsZCh0YWJsZUVsKTtcbiAgICAgIHJldmlld1RleHREaXYuY2xhc3NMaXN0LmFkZCgndGFibGUtcXVlc3Rpb24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV2aWV3VGV4dERpdi50ZXh0Q29udGVudCA9IHRoaXMuY3VycmVudENhcmQuZnJvbnQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTaG93QW5zd2VyQnV0dG9uKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzaG93QW5zd2VyQnRuID0gY29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnU2hvdyBBbnN3ZXInLFxuICAgICAgY2xzOiAnbW9kLWN0YSBzaG93LWFuc3dlci1idG4nLFxuICAgICAgYXR0cjogeyB0aXRsZTogJ1ByZXNzIEVudGVyIG9yIFRhYicgfVxuICAgIH0pO1xuICAgIHNob3dBbnN3ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTaG93QW5zd2VyKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUmF0aW5nQnV0dG9ucyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgYnV0dG9uR3JvdXAgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncmF0aW5nLWJ1dHRvbnMnIH0pO1xuXG4gICAgY29uc3QgcmF0aW5nczogQXJyYXk8e1xuICAgICAgZWFzZTogUmV2aWV3RWFzZTtcbiAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgICBjb2xvcjogc3RyaW5nO1xuICAgICAga2V5OiBzdHJpbmc7XG4gICAgfT4gPSBbXG4gICAgICB7IGVhc2U6ICdhZ2FpbicsIGxhYmVsOiAnQWdhaW5cXG4gPCAxIG1pbicsIGNvbG9yOiAncmVkJywga2V5OiAnMScgfSxcbiAgICAgIHsgZWFzZTogJ2hhcmQnLCBsYWJlbDogJ0hhcmRcXG4gPCAxMCBtaW4nLCBjb2xvcjogJ29yYW5nZScsIGtleTogJzInIH0sXG4gICAgICB7IGVhc2U6ICdnb29kJywgbGFiZWw6ICdHb29kXFxuIDEgZGF5JywgY29sb3I6ICdibHVlJywga2V5OiAnMycgfSxcbiAgICAgIHsgZWFzZTogJ2Vhc3knLCBsYWJlbDogJ0Vhc3lcXG4gNCBkYXlzJywgY29sb3I6ICdncmVlbicsIGtleTogJzQnIH1cbiAgICBdO1xuXG4gICAgcmF0aW5ncy5mb3JFYWNoKCh7IGVhc2UsIGxhYmVsLCBjb2xvciwga2V5IH0pID0+IHtcbiAgICAgIGNvbnN0IGJ0biA9IGJ1dHRvbkdyb3VwLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgIGNsczogYHJhdGluZy1idG4gcmF0aW5nLSR7Y29sb3J9YCxcbiAgICAgICAgYXR0cjogeyB0aXRsZTogYFByZXNzICR7a2V5fWAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGxpbmVzID0gbGFiZWwuc3BsaXQoJ1xcbicpO1xuICAgICAgYnRuLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGxpbmVzWzBdLCBjbHM6ICdyYXRpbmctbGFiZWwnIH0pO1xuICAgICAgYnRuLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGxpbmVzWzFdLCBjbHM6ICdyYXRpbmctaW50ZXJ2YWwnIH0pO1xuICAgICAgYnRuLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGAoJHtrZXl9KWAsIGNsczogJ3JhdGluZy1ob3RrZXknIH0pO1xuXG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnN1Ym1pdFJldmlldyhlYXNlKSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIHByaXZhdGUgcmVuZGVyTmF2aWdhdGlvbkJ1dHRvbihjb250YWluZXI6IEhUTUxFbGVtZW50LCB0eXBlOiAncHJldicgfCAnbmV4dCcpIHtcbiAgICBjb25zdCBidG4gPSBjb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIGNsczogYG5hdi1idG4gJHt0eXBlfS1idG5gLFxuICAgICAgdGV4dDogdHlwZSA9PT0gJ3ByZXYnID8gJ1x1MjE5MCcgOiAnXHUyMTkyJ1xuICAgIH0pO1xuICBcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmdvKHR5cGUpO1xuICAgIH0pO1xuICB9XG4gIFxuICBcbiAgcHJpdmF0ZSBnbyhkaXJlY3Rpb246ICdwcmV2JyB8ICduZXh0Jykge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKTtcbiAgXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAoIXN0YXRlLnNob3dBbnN3ZXIpIHtcbiAgICAgICAgLy8gXHU2QjYzXHU5NzYyIFx1MjE5MiBcdTgwQ0NcdTk3NjJcblxuICAgICAgICBjb25zdCBoYXNDdXJyZW50SW5wdXQgPSB0aGlzLmN1cnJlbnRDYXJkPy50eXBlID09PSAnY2xvemUnXG4gICAgICAgICAgPyBzdGF0ZS51c2VyQW5zd2Vycy5zb21lKGFucyA9PiBhbnMgJiYgYW5zLnRyaW0oKSAhPT0gJycpXG4gICAgICAgICAgOiBzdGF0ZS51c2VyQW5zd2VyLnRyaW0oKSAhPT0gJyc7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKCFoYXNDdXJyZW50SW5wdXQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTaG93QW5zd2VyKHRydWUpO1xuICAgICAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcdTgwQ0NcdTk3NjIgXHUyMTkyIFx1NEUwQlx1NEUwMFx1NUYyMFx1NTM2MVx1NkI2M1x1OTc2MlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZEluZGV4IDwgdGhpcy5kdWVDYXJkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgLy8gXHUyNzA1IFx1NTcyOFx1NkUwNVx1OTY2NFx1N0YxM1x1NUI1OFx1NTI0RCxcdTUxNDhcdTRGRERcdTVCNThcdTVGNTNcdTUyNERcdTdCNTRcdTY4NDhcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2F2ZUFuc3dlclRvQ2FjaGUodGhpcy5jdXJyZW50Q2FyZC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMuY3VycmVudENhcmRJbmRleCsrO1xuICAgICAgICAgIC8vIFx1MjcwNSBcdTUxNDhcdTY2RjRcdTY1QjBcdTUzNjFcdTcyNDdcdTVGMTVcdTc1MjhcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXJkID0gdGhpcy5kdWVDYXJkc1t0aGlzLmN1cnJlbnRDYXJkSW5kZXhdO1xuICAgICAgICAgIC8vIFx1MjcwNSBcdTcxMzZcdTU0MEVcdTZFMDVcdTdBN0FcdTcyQjZcdTYwMDEoXHU0RTBEXHU2NjJGXHU2RTA1XHU5NjY0XHU3RjEzXHU1QjU4ISlcbiAgICAgICAgICB0aGlzLnJlc2V0UmV2aWV3U3RhdGUoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRDYXJkKCduZXh0Jyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gXHUyNzRDIFx1NzlGQlx1OTY2NFx1OEZEOVx1ODg0QyxcdTRFMERcdTg5ODFcdTZFMDVcdTk2NjRcdTdGMTNcdTVCNThcbiAgICAgICAgICAvLyB0aGlzLnN0YXRlTWFuYWdlci5jbGVhckNhY2hlKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ0FscmVhZHkgYXQgbGFzdCBjYXJkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgaWYgKHN0YXRlLnNob3dBbnN3ZXIpIHtcbiAgICAgICAgLy8gXHU4MENDXHU5NzYyIFx1MjE5MiBcdTZCNjNcdTk3NjJcbiAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U2hvd0Fuc3dlcihmYWxzZSk7XG4gICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNldFNob3dBbnN3ZXIoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU2QjYzXHU5NzYyIFx1MjE5MiBcdTRFMEFcdTRFMDBcdTVGMjBcdTUzNjFcdTgwQ0NcdTk3NjJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmRJbmRleCA+IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2F2ZUFuc3dlclRvQ2FjaGUodGhpcy5jdXJyZW50Q2FyZC5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY3VycmVudENhcmRJbmRleC0tO1xuICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnJlc2V0KCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q2FyZCgncHJldicpO1xuICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNldFNob3dBbnN3ZXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3IE5vdGljZSgnQWxyZWFkeSBhdCBmaXJzdCBjYXJkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU0RUE0XHU0RTkyXHU1OTA0XHU3NDA2XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgcHJpdmF0ZSBhc3luYyBzdWJtaXRSZXZpZXcoZWFzZTogUmV2aWV3RWFzZSkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuICBcbiAgICBjb25zdCB0aW1lU3BlbnQgPSAoRGF0ZS5ub3coKSAtIHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuc3RhcnRUaW1lKSAvIDEwMDA7XG4gIFxuICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSB0aGlzLmN1cnJlbnRDYXJkLnR5cGUgPT09ICdjbG96ZScgXG4gICAgICA/IHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkudXNlckFuc3dlcnMgXG4gICAgICA6IHRoaXMuY3VycmVudENhcmQudHlwZSA9PT0gJ3FhJ1xuICAgICAgPyB0aGlzLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnVzZXJBbnN3ZXJcbiAgICAgIDogdW5kZWZpbmVkO1xuICBcbiAgICBjb25zdCB7IHVwZGF0ZWRDYXJkLCByZXZpZXdMb2cgfSA9IHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKFxuICAgICAgdGhpcy5jdXJyZW50Q2FyZCxcbiAgICAgIGVhc2UsXG4gICAgICB0aW1lU3BlbnQsXG4gICAgICB1c2VyQW5zd2VyXG4gICAgKTtcbiAgXG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKHVwZGF0ZWRDYXJkKTtcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmxvZ1Jldmlldyh7XG4gICAgICBpZDogYGxvZy0ke0RhdGUubm93KCl9YCxcbiAgICAgIC4uLnJldmlld0xvZ1xuICAgIH0pO1xuICAvLyBcdUQ4M0NcdURGQUYgXHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXHU2OEMwXHU2N0U1XHU3MEI5XG5hd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25DYXJkUmV2aWV3ZWQoKTtcblxuICAgIC8vIFx1MjcwNSBcdTYzRDBcdTRFQTRcdTU0MEVcdTZFMDVcdTk2NjRcdThCRTVcdTUzNjFcdTcyNDdcdTc2ODRcdTdCNTRcdTY4NDhcdTdGMTNcdTVCNThcbiAgICB0aGlzLnN0YXRlTWFuYWdlci5jbGVhckNhY2hlKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgIFxuICAgIC8vIFx1MjZBMFx1RkUwRiBcdTRFQ0VcdTVGNTNcdTUyNERcdTUyMTdcdTg4NjhcdTRFMkRcdTc5RkJcdTk2NjRcdTVERjJcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDdcbiAgICB0aGlzLmR1ZUNhcmRzLnNwbGljZSh0aGlzLmN1cnJlbnRDYXJkSW5kZXgsIDEpO1xuICBcbiAgICAvLyBcdTI2QTBcdUZFMEYgXHU0RTBEXHU4OTgxXHU1ODlFXHU1MkEwXHU3RDIyXHU1RjE1LFx1NTZFMFx1NEUzQVx1NTIyMFx1OTY2NFx1NTE0M1x1N0QyMFx1NTQwRSxcdTRFMEJcdTRFMDBcdTVGMjBcdTUzNjFcdTgxRUFcdTUyQThcdTc5RkJcdTUyMzBcdTVGNTNcdTUyNERcdTRGNERcdTdGNkVcbiAgICB0aGlzLnJlc2V0UmV2aWV3U3RhdGUoKTtcbiAgXG4gICAgaWYgKHRoaXMuZHVlQ2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBcdTJCNTAgXHU1MTczXHU5NTJFXHU0RkVFXHU2NTM5XHVGRjFBXHU1OTBEXHU0RTYwXHU1QjhDXHU2MjEwXHU1NDBFXHVGRjBDXHU2RTA1XHU3QTdBXHU1RjUzXHU1MjREXHU1MzYxXHU3MjQ3XHU1RTc2XHU3NkY0XHU2M0E1XHU2RTMyXHU2N0QzXG4gICAgICB0aGlzLmN1cnJlbnRDYXJkID0gbnVsbDtcbiAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBSZXZpZXcgc2Vzc2lvbiBjb21wbGV0ZSFgKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7IC8vIFx1MkI1MCBcdTc2RjRcdTYzQTVcdTZFMzJcdTY3RDNcdUZGMENcdTRGMUFcdTg5RTZcdTUzRDEgcmVuZGVyTm9EdWVDYXJkc1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTc4NkVcdTRGRERcdTdEMjJcdTVGMTVcdTRFMERcdThEOEFcdTc1NENcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRDYXJkSW5kZXggPj0gdGhpcy5kdWVDYXJkcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2FyZEluZGV4ID0gdGhpcy5kdWVDYXJkcy5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q2FyZCgnbmV4dCcpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGp1bXBUb1NvdXJjZSgpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudENhcmQpIHJldHVybjtcblxuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5jdXJyZW50Q2FyZC5zb3VyY2VGaWxlKTtcbiAgICBpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICBuZXcgTm90aWNlKCdTb3VyY2UgZmlsZSBub3QgZm91bmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KFxuICAgICAgdGhpcy5jdXJyZW50Q2FyZC5zb3VyY2VDb250ZW50SWRcbiAgICApO1xuXG4gICAgaWYgKCFjb250ZW50VW5pdCkge1xuICAgICAgbmV3IE5vdGljZSgnU291cmNlIGNvbnRlbnQgbm90IGZvdW5kJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKGZhbHNlKTtcbiAgICBhd2FpdCBsZWFmLm9wZW5GaWxlKGZpbGUpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoSXRlbVZpZXcpO1xuICAgICAgaWYgKHZpZXcpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yID0gKHZpZXcgYXMgYW55KS5lZGl0b3I7XG4gICAgICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yKHsgbGluZTogY29udGVudFVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmUsIGNoOiAwIH0pO1xuICAgICAgICAgIGVkaXRvci5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICBmcm9tOiB7IGxpbmU6IGNvbnRlbnRVbml0LnNvdXJjZS5wb3NpdGlvbi5saW5lLCBjaDogMCB9LFxuICAgICAgICAgICAgdG86IHsgbGluZTogY29udGVudFVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmUsIGNoOiAwIH1cbiAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGRlbGV0ZUZsYXNoY2FyZChjYXJkSWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZElkKTtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1RDgzRFx1REREMVx1RkUwRiBcdTk1RUFcdTUzNjFcdTVERjJcdTUyMjBcdTk2NjQnKTtcbiAgICAgIFxuICAgICAgdGhpcy5kdWVDYXJkcyA9IHRoaXMuZHVlQ2FyZHMuZmlsdGVyKGNhcmQgPT4gY2FyZC5pZCAhPT0gY2FyZElkKTtcbiAgICAgIFxuICAgICAgaWYgKHRoaXMuY3VycmVudENhcmQ/LmlkID09PSBjYXJkSWQpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmRJbmRleCA+PSB0aGlzLmR1ZUNhcmRzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuY3VycmVudENhcmRJbmRleCA9IE1hdGgubWF4KDAsIHRoaXMuZHVlQ2FyZHMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q2FyZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGF3YWl0IHRoaXMubG9hZER1ZUNhcmRzKCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzRDIFx1NTIyMFx1OTY2NFx1OTVFQVx1NTM2MVx1NTkzMVx1OEQyNScpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZWRpdEN1cnJlbnRGbGFzaGNhcmQoKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRDYXJkKSByZXR1cm47XG5cbiAgICBjb25zdCBtb2RhbCA9IG5ldyBGbGFzaGNhcmRFZGl0TW9kYWwoXG4gICAgICB0aGlzLmFwcCxcbiAgICAgIHRoaXMuY3VycmVudENhcmQsXG4gICAgICBhc3luYyAocXVlc3Rpb246IHN0cmluZywgYW5zd2VyOiBzdHJpbmcpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkQ2FyZDogRmxhc2hjYXJkID0ge1xuICAgICAgICAgICAgLi4udGhpcy5jdXJyZW50Q2FyZCEsXG4gICAgICAgICAgICBmcm9udDogcXVlc3Rpb24sXG4gICAgICAgICAgICBiYWNrOiB0aGlzLmN1cnJlbnRDYXJkIS50eXBlID09PSAnY2xvemUnID8gW2Fuc3dlcl0gOiBhbnN3ZXIsXG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAuLi50aGlzLmN1cnJlbnRDYXJkIS5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnVwZGF0ZUNhcmQodXBkYXRlZENhcmQpO1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBcdTk1RUFcdTUzNjFcdTVERjJcdTY2RjRcdTY1QjAnKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXJkID0gdXBkYXRlZENhcmQ7XG4gICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ1x1Mjc0QyBcdTY2RjRcdTY1QjBcdTk1RUFcdTUzNjFcdTU5MzFcdThEMjUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgbW9kYWwub3BlbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXNldENhcmRTdGF0cyhjYXJkSWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYXJkID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRGbGFzaGNhcmQoY2FyZElkKTtcbiAgICAgIGlmICghY2FyZCkgcmV0dXJuO1xuXG4gICAgICBjYXJkLnN0YXRzID0ge1xuICAgICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICAgIGxhc3RSZXZpZXc6IDAsXG4gICAgICAgIGRpZmZpY3VsdHk6IDAuM1xuICAgICAgfTtcbiAgICAgIGNhcmQuc2NoZWR1bGluZyA9IHtcbiAgICAgICAgaW50ZXJ2YWw6IDAsXG4gICAgICAgIGVhc2U6IDIuNSxcbiAgICAgICAgZHVlOiBEYXRlLm5vdygpLFxuICAgICAgICBsYXBzZXM6IDAsXG4gICAgICAgIHJlcHM6IDAsXG4gICAgICAgIHN0YXRlOiAnbmV3J1xuICAgICAgfTtcblxuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKGNhcmQpO1xuICAgICAgXG4gICAgICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICAgICAgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddID0gbG9ncy5maWx0ZXIoXG4gICAgICAgIGxvZyA9PiBsb2cuZmxhc2hjYXJkSWQgIT09IGNhcmRJZFxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZSgnXHUyNzA1IFx1NTM2MVx1NzI0N1x1N0VERlx1OEJBMVx1NURGMlx1OTFDRFx1N0Y2RScpO1xuICAgICAgdGhpcy5jdXJyZW50Q2FyZCA9IGNhcmQ7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNldHRpbmcgY2FyZCBzdGF0czonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdcdTI3NEMgXHU5MUNEXHU3RjZFXHU3RURGXHU4QkExXHU1OTMxXHU4RDI1Jyk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBcdTk1MkVcdTc2RDhcdTU5MDRcdTc0MDZcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBwcml2YXRlIGtleWJvYXJkSGFuZGxlciA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgaXNJbklucHV0ID0gdGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgdGFyZ2V0LnRhZ05hbWUgPT09ICdURVhUQVJFQSc7XG5cbiAgICAvLyBUYWIgXHU5NTJFXHU1OTA0XHU3NDA2XG4gICAgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgXG4gICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAvLyBTaGlmdCtUYWI6IFx1NTQwRVx1OTAwMFxuICAgICAgICB0aGlzLmdvKCdwcmV2Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUYWI6IFx1NTI0RFx1OEZEQlxuICAgICAgICB0aGlzLmdvKCduZXh0Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gXHU2NTcwXHU1QjU3XHU5NTJFXHU4QkM0XHU1MjA2XG4gICAgaWYgKHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuc2hvd0Fuc3dlciAmJiAhaXNJbklucHV0KSB7XG4gICAgICBjb25zdCByYXRpbmdNYXA6IHsgW2tleTogc3RyaW5nXTogUmV2aWV3RWFzZSB9ID0ge1xuICAgICAgICAnMSc6ICdhZ2FpbicsXG4gICAgICAgICcyJzogJ2hhcmQnLFxuICAgICAgICAnMyc6ICdnb29kJyxcbiAgICAgICAgJzQnOiAnZWFzeSdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGlmIChyYXRpbmdNYXBbZS5rZXldKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdWJtaXRSZXZpZXcocmF0aW5nTWFwW2Uua2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgcmVnaXN0ZXJLZXlib2FyZEhhbmRsZXJzKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFx1NjgzN1x1NUYwRlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxufSIsICIvLyBjYXJkIFNjaGVkdWxlci50c1xuaW1wb3J0IHsgRmxhc2hjYXJkLCBSZXZpZXdMb2cgfSBmcm9tICcuL0ZsYXNoY2FyZE1hbmFnZXInO1xuXG5leHBvcnQgdHlwZSBSZXZpZXdFYXNlID0gJ2FnYWluJyB8ICdoYXJkJyB8ICdnb29kJyB8ICdlYXN5JztcblxuZXhwb3J0IGNsYXNzIENhcmRTY2hlZHVsZXIge1xuICAvKipcbiAgICogXHU4QkExXHU3Qjk3XHU0RTBCXHU2QjIxXHU1OTBEXHU0RTYwXHU2NUY2XHU5NUY0XHVGRjA4XHU1N0ZBXHU0RThFIFNNLTIgXHU3Qjk3XHU2Q0Q1XHVGRjA5XG4gICAqL1xuICBzY2hlZHVsZShcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgZWFzZTogUmV2aWV3RWFzZSxcbiAgICB0aW1lU3BlbnQ6IG51bWJlcixcbiAgICB1c2VyQW5zd2VyPzogc3RyaW5nIHwgc3RyaW5nW11cbiAgKToge1xuICAgIHVwZGF0ZWRDYXJkOiBGbGFzaGNhcmQ7XG4gICAgcmV2aWV3TG9nOiBPbWl0PFJldmlld0xvZywgJ2lkJz47XG4gIH0ge1xuICAgIGNvbnN0IG9sZFNjaGVkdWxpbmcgPSB7IC4uLmNhcmQuc2NoZWR1bGluZyB9O1xuICAgIGNvbnN0IG5ld1NjaGVkdWxpbmcgPSB7IC4uLmNhcmQuc2NoZWR1bGluZyB9O1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAvLyBcdTY2RjRcdTY1QjBcdTdFREZcdThCQTFcbiAgICBjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cysrO1xuICAgIGNhcmQuc3RhdHMubGFzdFJldmlldyA9IG5vdztcblxuICAgIC8vIFx1OEJBMVx1N0I5N1x1NUU3M1x1NTc0N1x1NjVGNlx1OTVGNFxuICAgIGNvbnN0IHRvdGFsVGltZSA9IGNhcmQuc3RhdHMuYXZlcmFnZVRpbWUgKiAoY2FyZC5zdGF0cy50b3RhbFJldmlld3MgLSAxKSArIHRpbWVTcGVudDtcbiAgICBjYXJkLnN0YXRzLmF2ZXJhZ2VUaW1lID0gdG90YWxUaW1lIC8gY2FyZC5zdGF0cy50b3RhbFJldmlld3M7XG5cbiAgICAvLyBcdTY4MzlcdTYzNkVcdTk2QkVcdTVFQTZcdThCQzRcdTdFQTdcdTY2RjRcdTY1QjBcdThDMDNcdTVFQTZcbiAgICBzd2l0Y2ggKGVhc2UpIHtcbiAgICAgIGNhc2UgJ2FnYWluJzpcbiAgICAgICAgdGhpcy5zY2hlZHVsZUFnYWluKG5ld1NjaGVkdWxpbmcsIGNhcmQuc3RhdHMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hhcmQnOlxuICAgICAgICB0aGlzLnNjaGVkdWxlSGFyZChuZXdTY2hlZHVsaW5nLCBjYXJkLnN0YXRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdnb29kJzpcbiAgICAgICAgdGhpcy5zY2hlZHVsZUdvb2QobmV3U2NoZWR1bGluZywgY2FyZC5zdGF0cyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZWFzeSc6XG4gICAgICAgIHRoaXMuc2NoZWR1bGVFYXN5KG5ld1NjaGVkdWxpbmcsIGNhcmQuc3RhdHMpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjYXJkLnNjaGVkdWxpbmcgPSBuZXdTY2hlZHVsaW5nO1xuICAgIGNhcmQubWV0YWRhdGEudXBkYXRlZEF0ID0gbm93O1xuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU1OTBEXHU0RTYwXHU2NUU1XHU1RkQ3XG4gICAgY29uc3QgcmV2aWV3TG9nOiBPbWl0PFJldmlld0xvZywgJ2lkJz4gPSB7XG4gICAgICBmbGFzaGNhcmRJZDogY2FyZC5pZCxcbiAgICAgIHRpbWVzdGFtcDogbm93LFxuICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgdXNlckFuc3dlcixcbiAgICAgICAgdGltZVNwZW50LFxuICAgICAgICBlYXNlXG4gICAgICB9LFxuICAgICAgc2NoZWR1bGluZ0NoYW5nZToge1xuICAgICAgICBvbGRJbnRlcnZhbDogb2xkU2NoZWR1bGluZy5pbnRlcnZhbCxcbiAgICAgICAgbmV3SW50ZXJ2YWw6IG5ld1NjaGVkdWxpbmcuaW50ZXJ2YWwsXG4gICAgICAgIG9sZEVhc2U6IG9sZFNjaGVkdWxpbmcuZWFzZSxcbiAgICAgICAgbmV3RWFzZTogbmV3U2NoZWR1bGluZy5lYXNlXG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7IHVwZGF0ZWRDYXJkOiBjYXJkLCByZXZpZXdMb2cgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZ2FpbiAtIFx1NUI4Q1x1NTE2OFx1NUZEOFx1OEJCMFxuICAgKi9cbiAgcHJpdmF0ZSBzY2hlZHVsZUFnYWluKFxuICAgIHNjaGVkdWxpbmc6IEZsYXNoY2FyZFsnc2NoZWR1bGluZyddLFxuICAgIHN0YXRzOiBGbGFzaGNhcmRbJ3N0YXRzJ11cbiAgKSB7XG4gICAgLy8gXHU5MUNEXHU3RjZFXHU5NUY0XHU5Njk0XG4gICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IDE7IC8vIDEgXHU1MjA2XHU5NDlGXG4gICAgc2NoZWR1bGluZy5lYXNlID0gTWF0aC5tYXgoMS4zLCBzY2hlZHVsaW5nLmVhc2UgLSAwLjIpO1xuICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiA2MCAqIDEwMDA7XG4gICAgc2NoZWR1bGluZy5sYXBzZXMrKztcbiAgICBzY2hlZHVsaW5nLnJlcHMrKztcbiAgICBcbiAgICAvLyBcdTcyQjZcdTYwMDFcdThGNkNcdTYzNjJcbiAgICBpZiAoc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycpIHtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAnbGVhcm5pbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ3JlbGVhcm5pbmcnO1xuICAgIH1cblxuICAgIC8vIFx1NTg5RVx1NTJBMFx1OTZCRVx1NUVBNlxuICAgIHN0YXRzLmRpZmZpY3VsdHkgPSBNYXRoLm1pbigxLjAsIHN0YXRzLmRpZmZpY3VsdHkgKyAwLjEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhcmQgLSBcdTU2RjBcdTk2QkVcbiAgICovXG4gIHByaXZhdGUgc2NoZWR1bGVIYXJkKFxuICAgIHNjaGVkdWxpbmc6IEZsYXNoY2FyZFsnc2NoZWR1bGluZyddLFxuICAgIHN0YXRzOiBGbGFzaGNhcmRbJ3N0YXRzJ11cbiAgKSB7XG4gICAgc2NoZWR1bGluZy5yZXBzKys7XG5cbiAgICBpZiAoc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycgfHwgc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ2xlYXJuaW5nJykge1xuICAgICAgLy8gXHU1QjY2XHU0RTYwXHU5NjM2XHU2QkI1XHVGRjFBMTAgXHU1MjA2XHU5NDlGXG4gICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gMTA7XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyAxMCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAnbGVhcm5pbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTU5MERcdTRFNjBcdTk2MzZcdTZCQjVcdUZGMUFcdTVGNTNcdTUyNERcdTk1RjRcdTk2OTQgKiAxLjJcbiAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSBNYXRoLm1heCgxLCBzY2hlZHVsaW5nLmludGVydmFsICogMS4yKTtcbiAgICAgIHNjaGVkdWxpbmcuZWFzZSA9IE1hdGgubWF4KDEuMywgc2NoZWR1bGluZy5lYXNlIC0gMC4xNSk7XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyBzY2hlZHVsaW5nLmludGVydmFsICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAncmV2aWV3JztcbiAgICB9XG5cbiAgICBzdGF0cy5kaWZmaWN1bHR5ID0gTWF0aC5taW4oMS4wLCBzdGF0cy5kaWZmaWN1bHR5ICsgMC4wNSk7XG4gICAgc3RhdHMuY29ycmVjdENvdW50ICs9IDAuNTsgLy8gXHU5MEU4XHU1MjA2XHU2QjYzXHU3ODZFXG4gIH1cblxuICAvKipcbiAgICogR29vZCAtIFx1NkI2M1x1Nzg2RVxuICAgKi9cbiAgcHJpdmF0ZSBzY2hlZHVsZUdvb2QoXG4gICAgc2NoZWR1bGluZzogRmxhc2hjYXJkWydzY2hlZHVsaW5nJ10sXG4gICAgc3RhdHM6IEZsYXNoY2FyZFsnc3RhdHMnXVxuICApIHtcbiAgICBzY2hlZHVsaW5nLnJlcHMrKztcbiAgICBzdGF0cy5jb3JyZWN0Q291bnQrKztcblxuICAgIGlmIChzY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3Jykge1xuICAgICAgLy8gXHU2NUIwXHU1MzYxXHU3MjQ3XHVGRjFBMSBcdTU5MjlcbiAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSAxO1xuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgMSAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ2xlYXJuaW5nJztcbiAgICB9IGVsc2UgaWYgKHNjaGVkdWxpbmcuc3RhdGUgPT09ICdsZWFybmluZycpIHtcbiAgICAgIC8vIFx1NUI2Nlx1NEU2MFx1NEUyRFx1RkYxQVx1OEZEQlx1NTE2NVx1NTkwRFx1NEU2MFx1RkYwQ1x1OTVGNFx1OTY5NFx1NjgzOVx1NjM2RVx1OEJCMFx1NUZDNlx1NUYzQVx1NUVBNlxuICAgICAgaWYgKHNjaGVkdWxpbmcuaW50ZXJ2YWwgPCAxKSB7XG4gICAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IDM7XG4gICAgICB9XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyBzY2hlZHVsaW5nLmludGVydmFsICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAncmV2aWV3JztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1OTBEXHU0RTYwXHU5NjM2XHU2QkI1XHVGRjFBXHU5NUY0XHU5Njk0ICogZWFzZVxuICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiBzY2hlZHVsaW5nLmVhc2U7XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyBzY2hlZHVsaW5nLmludGVydmFsICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuZWFzZSA9IHNjaGVkdWxpbmcuZWFzZSArIDAuMTtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAncmV2aWV3JztcbiAgICB9XG5cbiAgICAvLyBcdTk2NERcdTRGNEVcdTk2QkVcdTVFQTZcbiAgICBzdGF0cy5kaWZmaWN1bHR5ID0gTWF0aC5tYXgoMCwgc3RhdHMuZGlmZmljdWx0eSAtIDAuMDUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVhc3kgLSBcdTk3NUVcdTVFMzhcdTdCODBcdTUzNTVcbiAgICovXG4gIHByaXZhdGUgc2NoZWR1bGVFYXN5KFxuICAgIHNjaGVkdWxpbmc6IEZsYXNoY2FyZFsnc2NoZWR1bGluZyddLFxuICAgIHN0YXRzOiBGbGFzaGNhcmRbJ3N0YXRzJ11cbiAgKSB7XG4gICAgc2NoZWR1bGluZy5yZXBzKys7XG4gICAgc3RhdHMuY29ycmVjdENvdW50Kys7XG5cbiAgICBpZiAoc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycpIHtcbiAgICAgIC8vIFx1NjVCMFx1NTM2MVx1NzI0N1x1RkYxQVx1NzZGNFx1NjNBNSA0IFx1NTkyOVxuICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IDQ7XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyA0ICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAncmV2aWV3JztcbiAgICB9IGVsc2UgaWYgKHNjaGVkdWxpbmcuc3RhdGUgPT09ICdsZWFybmluZycpIHtcbiAgICAgIC8vIFx1NUI2Nlx1NEU2MFx1NEUyRFx1RkYxQVx1NzZGNFx1NjNBNVx1OEZEQlx1NTE2NVx1NTkwRFx1NEU2MFx1RkYwQzcgXHU1OTI5XG4gICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gNztcbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdyZXZpZXcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTU5MERcdTRFNjBcdTk2MzZcdTZCQjVcdUZGMUFcdTk1RjRcdTk2OTQgKiAoZWFzZSArIDAuMylcbiAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSBzY2hlZHVsaW5nLmludGVydmFsICogKHNjaGVkdWxpbmcuZWFzZSArIDAuMyk7XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyBzY2hlZHVsaW5nLmludGVydmFsICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuZWFzZSA9IHNjaGVkdWxpbmcuZWFzZSArIDAuMTU7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ3Jldmlldyc7XG4gICAgfVxuXG4gICAgLy8gXHU2NjNFXHU4NDU3XHU5NjREXHU0RjRFXHU5NkJFXHU1RUE2XG4gICAgc3RhdHMuZGlmZmljdWx0eSA9IE1hdGgubWF4KDAsIHN0YXRzLmRpZmZpY3VsdHkgLSAwLjEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1OEJDNFx1NEYzMFx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OFx1RkYwOFx1NzUyOFx1NEU4RVx1OEY5M1x1NTE2NVx1N0I1NFx1Njg0OFx1NkEyMVx1NUYwRlx1RkYwOVxuICAgKi9cbi8qKlxuICogXHU4QkM0XHU0RjMwXHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4KFx1NzUyOFx1NEU4RVx1OEY5M1x1NTE2NVx1N0I1NFx1Njg0OFx1NkEyMVx1NUYwRilcbiAqL1xuZXZhbHVhdGVBbnN3ZXIoXG4gIGNvcnJlY3RBbnN3ZXI6IHN0cmluZyB8IHN0cmluZ1tdLFxuICB1c2VyQW5zd2VyOiBzdHJpbmcgfCBzdHJpbmdbXVxuKToge1xuICBjb3JyZWN0bmVzczogJ2NvcnJlY3QnIHwgJ3BhcnRpYWwnIHwgJ3dyb25nJztcbiAgc2ltaWxhcml0eTogbnVtYmVyO1xufSB7XG4gIC8vIFx1NTkwNFx1NzQwNlx1NjU3MFx1N0VDNChcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0EpXG4gIGlmIChBcnJheS5pc0FycmF5KGNvcnJlY3RBbnN3ZXIpICYmIEFycmF5LmlzQXJyYXkodXNlckFuc3dlcikpIHtcbiAgICBsZXQgY29ycmVjdENvdW50ID0gMDtcbiAgICBjb25zdCB0b3RhbCA9IGNvcnJlY3RBbnN3ZXIubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAvLyBcdUQ4M0NcdUREOTUgXHU1QkY5XHU2QkNGXHU0RTJBXHU3QTdBXHU2ODNDXHU0RTVGXHU1RTk0XHU3NTI4IFwiL1wiIFx1ODlDNFx1NTIxOVxuICAgICAgY29uc3QgZXZhbHVhdGlvbiA9IHRoaXMuZXZhbHVhdGVTaW5nbGVBbnN3ZXIoXG4gICAgICAgIGNvcnJlY3RBbnN3ZXJbaV0sXG4gICAgICAgIHVzZXJBbnN3ZXJbaV0gfHwgJydcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChldmFsdWF0aW9uLnNpbWlsYXJpdHkgPj0gMC45KSBjb3JyZWN0Q291bnQrKztcbiAgICAgIGVsc2UgaWYgKGV2YWx1YXRpb24uc2ltaWxhcml0eSA+PSAwLjYpIGNvcnJlY3RDb3VudCArPSAwLjU7XG4gICAgfVxuXG4gICAgY29uc3Qgb3ZlcmFsbFNpbWlsYXJpdHkgPSBjb3JyZWN0Q291bnQgLyB0b3RhbDtcblxuICAgIGlmIChvdmVyYWxsU2ltaWxhcml0eSA+PSAwLjkpIHtcbiAgICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnY29ycmVjdCcsIHNpbWlsYXJpdHk6IG92ZXJhbGxTaW1pbGFyaXR5IH07XG4gICAgfSBlbHNlIGlmIChvdmVyYWxsU2ltaWxhcml0eSA+PSAwLjYpIHtcbiAgICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAncGFydGlhbCcsIHNpbWlsYXJpdHk6IG92ZXJhbGxTaW1pbGFyaXR5IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnd3JvbmcnLCBzaW1pbGFyaXR5OiBvdmVyYWxsU2ltaWxhcml0eSB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIFx1RDgzQ1x1REQ5NSBcdTU5MDRcdTc0MDZcdTVCNTdcdTdCMjZcdTRFMzIgLSBcdTYzRDBcdTUzRDZcdTUyMzBcdTcyRUNcdTdBQ0JcdTY1QjlcdTZDRDVcbiAgcmV0dXJuIHRoaXMuZXZhbHVhdGVTaW5nbGVBbnN3ZXIoXG4gICAgY29ycmVjdEFuc3dlciBhcyBzdHJpbmcsXG4gICAgdXNlckFuc3dlciBhcyBzdHJpbmdcbiAgKTtcbn1cblxuLyoqXG4gKiBcdUQ4M0NcdUREOTUgXHU4QkM0XHU0RjMwXHU1MzU1XHU0RTJBXHU3QjU0XHU2ODQ4KFx1NjUyRlx1NjMwMSBcIi9cIiBcdTUyMDZcdTk2OTRcdTc2ODRcdTU5MUFcdTRFMkFcdTZCNjNcdTc4NkVcdTdCNTRcdTY4NDgpXG4gKi9cbnByaXZhdGUgZXZhbHVhdGVTaW5nbGVBbnN3ZXIoXG4gIGNvcnJlY3RBbnN3ZXI6IHN0cmluZyxcbiAgdXNlckFuc3dlcjogc3RyaW5nXG4pOiB7XG4gIGNvcnJlY3RuZXNzOiAnY29ycmVjdCcgfCAncGFydGlhbCcgfCAnd3JvbmcnO1xuICBzaW1pbGFyaXR5OiBudW1iZXI7XG59IHtcbiAgY29uc3QgY29ycmVjdCA9IHRoaXMubm9ybWFsaXplKGNvcnJlY3RBbnN3ZXIpO1xuICBjb25zdCB1c2VyID0gdGhpcy5ub3JtYWxpemUodXNlckFuc3dlcik7XG5cbiAgLy8gXHU3QTdBXHU3QjU0XHU2ODQ4XG4gIGlmICh1c2VyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnd3JvbmcnLCBzaW1pbGFyaXR5OiAwIH07XG4gIH1cblxuICAvLyBcdUQ4M0NcdUREOTUgXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1MzA1XHU1NDJCIFwiL1wiIC0gXHU4ODY4XHU3OTNBXHU1OTFBXHU0RTJBXHU1M0VGXHU2M0E1XHU1M0Q3XHU3QjU0XHU2ODQ4XG4gIGlmIChjb3JyZWN0QW5zd2VyLmluY2x1ZGVzKCcvJykgfHwgY29ycmVjdEFuc3dlci5pbmNsdWRlcygnfCcpKSB7XG4gICAgY29uc3QgYWx0ZXJuYXRpdmVzID0gY29ycmVjdEFuc3dlclxuICAgICAgLnNwbGl0KC9bXFwvfF0vKSAgLy8gXHU2NTJGXHU2MzAxIC8gXHU2MjE2IHxcbiAgICAgIC5tYXAoYWx0ID0+IHRoaXMubm9ybWFsaXplKGFsdC50cmltKCkpKVxuICAgICAgLmZpbHRlcihhbHQgPT4gYWx0Lmxlbmd0aCA+IDApO1xuXG4gICAgLy8gXHU1QkY5XHU2QkNGXHU0RTJBXHU1M0VGXHU4MEZEXHU3Njg0XHU3QjU0XHU2ODQ4XHU4QkExXHU3Qjk3XHU3NkY4XHU0RjNDXHU1RUE2LFx1NTNENlx1NjcwMFx1OUFEOFx1NTIwNlxuICAgIGxldCBtYXhTaW1pbGFyaXR5ID0gMDtcbiAgICBmb3IgKGNvbnN0IGFsdGVybmF0aXZlIG9mIGFsdGVybmF0aXZlcykge1xuICAgICAgLy8gXHU1QjhDXHU1MTY4XHU1MzM5XHU5MTREXHU0RUZCXHU2MTBGXHU0RTAwXHU0RTJBXHU1QzMxXHU3Qjk3XHU1QkY5XG4gICAgICBpZiAodXNlciA9PT0gYWx0ZXJuYXRpdmUpIHtcbiAgICAgICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdjb3JyZWN0Jywgc2ltaWxhcml0eTogMS4wIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSB0aGlzLmNhbGN1bGF0ZVNpbWlsYXJpdHkoYWx0ZXJuYXRpdmUsIHVzZXIpO1xuICAgICAgbWF4U2ltaWxhcml0eSA9IE1hdGgubWF4KG1heFNpbWlsYXJpdHksIHNpbWlsYXJpdHkpO1xuICAgIH1cblxuICAgIC8vIFx1NEY3Rlx1NzUyOFx1NjcwMFx1OUFEOFx1NzZGOFx1NEYzQ1x1NUVBNlx1NTIyNFx1NjVBRFxuICAgIGlmIChtYXhTaW1pbGFyaXR5ID49IDAuOSkge1xuICAgICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdjb3JyZWN0Jywgc2ltaWxhcml0eTogbWF4U2ltaWxhcml0eSB9O1xuICAgIH0gZWxzZSBpZiAobWF4U2ltaWxhcml0eSA+PSAwLjcpIHtcbiAgICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAncGFydGlhbCcsIHNpbWlsYXJpdHk6IG1heFNpbWlsYXJpdHkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICd3cm9uZycsIHNpbWlsYXJpdHk6IG1heFNpbWlsYXJpdHkgfTtcbiAgICB9XG4gIH1cblxuICAvLyBcdUQ4M0RcdUREM0QgXHU1MzlGXHU2NzA5XHU5MDNCXHU4RjkxIC0gXHU1OTA0XHU3NDA2XHU0RTBEXHU1NDJCIFwiL1wiIFx1NzY4NFx1NjY2RVx1OTAxQVx1N0I1NFx1Njg0OFxuICBcbiAgLy8gXHU5NTdGXHU1RUE2XHU1REVFXHU1RjAyXHU4RkM3XHU1OTI3XHU3NkY0XHU2M0E1XHU1MjI0XHU5NTE5XG4gIGNvbnN0IGxlbmd0aFJhdGlvID0gTWF0aC5taW4odXNlci5sZW5ndGgsIGNvcnJlY3QubGVuZ3RoKSAvIFxuICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHVzZXIubGVuZ3RoLCBjb3JyZWN0Lmxlbmd0aCk7XG5pZiAobGVuZ3RoUmF0aW8gPCAwLjMgJiYgdXNlci5sZW5ndGggPCA2KSB7XG4gIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnd3JvbmcnLCBzaW1pbGFyaXR5OiAwIH07XG59XG5cblxuXG4gIGNvbnN0IHNpbWlsYXJpdHkgPSB0aGlzLmNhbGN1bGF0ZVNpbWlsYXJpdHkoY29ycmVjdCwgdXNlcik7XG4gIGNvbnN0IGNvdmVyYWdlID0gdGhpcy5jYWxjdWxhdGVUb2tlbkNvdmVyYWdlKGNvcnJlY3QsIHVzZXIpO1xuICBcbiAgLy8gXHU1MzlGXHU2NzA5XHU4OUM0XHU1MjE5XG4gIGlmIChzaW1pbGFyaXR5ID49IDAuOSkge1xuICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnY29ycmVjdCcsIHNpbWlsYXJpdHkgfTtcbiAgfVxuICBcbiAgLy8gXHVEODNDXHVERDk1IFx1NjVCMFx1NTg5RVx1RkYxQVx1NTE3M1x1OTUyRVx1OEJDRFx1NTQ3RFx1NEUyRFx1NTkxQVx1RkYwQ1x1NEY0Nlx1NTNFNVx1NUI1MFx1N0VEM1x1Njc4NFx1NURFRVxuICBpZiAoc2ltaWxhcml0eSA8IDAuNyAmJiBjb3ZlcmFnZSA+PSAwLjYpIHtcbiAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3BhcnRpYWwnLCBzaW1pbGFyaXR5IH07XG4gIH1cbiAgXG4gIC8vIFx1NTM5Rlx1NjcwOVx1OTBFOFx1NTIwNlx1NkI2M1x1Nzg2RVxuICBpZiAoc2ltaWxhcml0eSA+PSAwLjcpIHtcbiAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3BhcnRpYWwnLCBzaW1pbGFyaXR5IH07XG4gIH1cbiAgXG4gIHJldHVybiB7IGNvcnJlY3RuZXNzOiAnd3JvbmcnLCBzaW1pbGFyaXR5IH07XG4gIFxufVxuICAvKipcbiAgICogXHU2ODA3XHU1MUM2XHU1MzE2XHU2NTg3XHU2NzJDXG4gICAqL1xuICBwcml2YXRlIG5vcm1hbGl6ZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnRyaW0oKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgJyAnKSAgICAvLyBcdTU0MDhcdTVFNzZcdTU5MUFcdTRFMkFcdTdBN0FcdTY4M0NcdTRFM0FcdTRFMDBcdTRFMkFcbiAgICAgIC5yZXBsYWNlKC9cXG4rL2csICcgJykgICAgLy8gXHU2MzYyXHU4ODRDXHU2NkZGXHU2MzYyXHU0RTNBXHU3QTdBXHU2ODNDXG4gICAgICAucmVwbGFjZSgvW1x1RkYwQ1x1MzAwMlx1RkYwMVx1RkYxRlx1MzAwMVx1RkYxQlx1RkYxQVwiXCInJ1x1RkYwOFx1RkYwOVx1MzAwQVx1MzAwQlx1MzAxMFx1MzAxMVxcLiwhPzs6XCInKClcXFtcXF17fV0vZywgJycpOyAgLy8gXHU3OUZCXHU5NjY0XHU2ODA3XHU3MEI5XHU3QjI2XHU1M0Y3XG4gIH1cblxuICAvKipcbiAgICogXHU4QkExXHU3Qjk3XHU3NkY4XHU0RjNDXHU1RUE2XHVGRjA4TGV2ZW5zaHRlaW4gXHU4REREXHU3OUJCXHVGRjA5XG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVNpbWlsYXJpdHkoc3RyMTogc3RyaW5nLCBzdHIyOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGlmIChzdHIxID09PSBzdHIyKSByZXR1cm4gMTtcbiAgICBpZiAoc3RyMS5sZW5ndGggPT09IDAgfHwgc3RyMi5sZW5ndGggPT09IDApIHJldHVybiAwO1xuXG4gICAgY29uc3QgbWF0cml4OiBudW1iZXJbXVtdID0gW107XG5cbiAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTc3RTlcdTk2MzVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzdHIyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBtYXRyaXhbaV0gPSBbaV07XG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwOyBqIDw9IHN0cjEubGVuZ3RoOyBqKyspIHtcbiAgICAgIG1hdHJpeFswXVtqXSA9IGo7XG4gICAgfVxuXG4gICAgLy8gXHU1ODZCXHU1MTQ1XHU3N0U5XHU5NjM1XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc3RyMi5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDE7IGogPD0gc3RyMS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoc3RyMi5jaGFyQXQoaSAtIDEpID09PSBzdHIxLmNoYXJBdChqIC0gMSkpIHtcbiAgICAgICAgICBtYXRyaXhbaV1bal0gPSBtYXRyaXhbaSAtIDFdW2ogLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXRyaXhbaV1bal0gPSBNYXRoLm1pbihcbiAgICAgICAgICAgIG1hdHJpeFtpIC0gMV1baiAtIDFdICsgMSwgLy8gXHU2NkZGXHU2MzYyXG4gICAgICAgICAgICBtYXRyaXhbaV1baiAtIDFdICsgMSwgICAgIC8vIFx1NjNEMlx1NTE2NVxuICAgICAgICAgICAgbWF0cml4W2kgLSAxXVtqXSArIDEgICAgICAvLyBcdTUyMjBcdTk2NjRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGlzdGFuY2UgPSBtYXRyaXhbc3RyMi5sZW5ndGhdW3N0cjEubGVuZ3RoXTtcbiAgICBjb25zdCBtYXhMZW5ndGggPSBNYXRoLm1heChzdHIxLmxlbmd0aCwgc3RyMi5sZW5ndGgpO1xuICAgIFxuICAgIHJldHVybiAxIC0gZGlzdGFuY2UgLyBtYXhMZW5ndGg7XG4gIH1cbi8qKlxuICogXHU4QkExXHU3Qjk3XHU1MTczXHU5NTJFXHU4QkNEXHU4OTg2XHU3NkQ2XHU3Mzg3XG4gKiBcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDhcdTRFMkRcdTU0N0RcdTRFMkRcdTRFODZcdTU5MUFcdTVDMTFcdTY4MDdcdTUxQzZcdTdCNTRcdTY4NDhcdTc2ODRcdThCQ0RcbiAqL1xucHJpdmF0ZSBjYWxjdWxhdGVUb2tlbkNvdmVyYWdlKFxuICBjb3JyZWN0OiBzdHJpbmcsXG4gIHVzZXI6IHN0cmluZ1xuKTogbnVtYmVyIHtcbiAgY29uc3QgY29ycmVjdFRva2VucyA9IGNvcnJlY3Quc3BsaXQoJyAnKS5maWx0ZXIodCA9PiB0Lmxlbmd0aCA+IDEpO1xuICBjb25zdCB1c2VyVG9rZW5zID0gbmV3IFNldCh1c2VyLnNwbGl0KCcgJykpO1xuXG4gIGlmIChjb3JyZWN0VG9rZW5zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgbGV0IGhpdCA9IDA7XG4gIGZvciAoY29uc3QgdG9rZW4gb2YgY29ycmVjdFRva2Vucykge1xuICAgIGlmICh1c2VyVG9rZW5zLmhhcyh0b2tlbikpIGhpdCsrO1xuICB9XG5cbiAgcmV0dXJuIGhpdCAvIGNvcnJlY3RUb2tlbnMubGVuZ3RoOyAvLyAwIH4gMVxufVxuXG5cbiAgLyoqXG4gICAqIFx1NjgzOVx1NjM2RVx1NzZGOFx1NEYzQ1x1NUVBNlx1NUVGQVx1OEJBRVx1OTZCRVx1NUVBNlxuICAgKi9cbiAgc3VnZ2VzdEVhc2Uoc2ltaWxhcml0eTogbnVtYmVyKTogUmV2aWV3RWFzZSB7XG4gICAgaWYgKHNpbWlsYXJpdHkgPj0gMC44KSByZXR1cm4gJ2Vhc3knO1xuICAgIGlmIChzaW1pbGFyaXR5ID49IDAuNykgcmV0dXJuICdnb29kJztcbiAgICBpZiAoc2ltaWxhcml0eSA+PSAwLjUpIHJldHVybiAnaGFyZCc7XG4gICAgcmV0dXJuICdhZ2Fpbic7XG4gIH1cbn0iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEZsYXNoY2FyZEVkaXRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBjYXJkOiBGbGFzaGNhcmQsXG4gICAgcHJpdmF0ZSBvblN1Ym1pdDogKHF1ZXN0aW9uOiBzdHJpbmcsIGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHU3RjE2XHU4RjkxXHU5NUVBXHU1MzYxJyB9KTtcblxuICAgIC8vIFF1ZXN0aW9uXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1OTVFRVx1OTg5OCcgfSk7XG4gICAgY29uc3QgcXVlc3Rpb25JbnB1dCA9IGNvbnRlbnRFbC5jcmVhdGVFbCgndGV4dGFyZWEnKTtcbiAgICBxdWVzdGlvbklucHV0LnZhbHVlID0gdGhpcy5jYXJkLmZyb250O1xuXG4gICAgLy8gQW5zd2VyXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1x1N0I1NFx1Njg0OCcgfSk7XG4gICAgY29uc3QgYW5zd2VySW5wdXQgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3RleHRhcmVhJyk7XG4gICAgYW5zd2VySW5wdXQudmFsdWUgPVxuICAgICAgdGhpcy5jYXJkLnR5cGUgPT09ICdjbG96ZSdcbiAgICAgICAgPyB0aGlzLmNhcmQuYmFjaz8uWzBdID8/ICcnXG4gICAgICAgIDogKHRoaXMuY2FyZC5iYWNrIGFzIHN0cmluZyk7XG5cbiAgICAvLyBTYXZlXG4gICAgY29uc3Qgc2F2ZUJ0biA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHU0RkREXHU1QjU4JyB9KTtcbiAgICBzYXZlQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9uU3VibWl0KFxuICAgICAgICBxdWVzdGlvbklucHV0LnZhbHVlLnRyaW0oKSxcbiAgICAgICAgYW5zd2VySW5wdXQudmFsdWUudHJpbSgpXG4gICAgICApO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH07XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsICIvLyBSZXZpZXdTdGF0ZU1hbmFnZXIudHNcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV2aWV3U3RhdGUge1xuICBzaG93QW5zd2VyOiBib29sZWFuO1xuICBzdGFydFRpbWU6IG51bWJlcjtcbiAgdXNlckFuc3dlcnM6IHN0cmluZ1tdO1xuICB1c2VyQW5zd2VyOiBzdHJpbmc7XG59XG5cbi8vIFx1MjcwNSBcdTZERkJcdTUyQTBcdTdCNTRcdTY4NDhcdTdGMTNcdTVCNThcdTYzQTVcdTUzRTNcbmludGVyZmFjZSBDYXJkQW5zd2VyQ2FjaGUge1xuICB1c2VyQW5zd2VyOiBzdHJpbmc7XG4gIHVzZXJBbnN3ZXJzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFJldmlld1N0YXRlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGU6IFJldmlld1N0YXRlO1xuICBwcml2YXRlIGFuc3dlckNhY2hlOiBNYXA8c3RyaW5nLCBDYXJkQW5zd2VyQ2FjaGU+ID0gbmV3IE1hcCgpOyAvLyBcdTI3MDUgXHU2NUIwXHU1ODlFXHU3RjEzXHU1QjU4XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuY3JlYXRlSW5pdGlhbFN0YXRlKCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUluaXRpYWxTdGF0ZSgpOiBSZXZpZXdTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dBbnN3ZXI6IGZhbHNlLFxuICAgICAgc3RhcnRUaW1lOiAwLFxuICAgICAgdXNlckFuc3dlcnM6IFtdLFxuICAgICAgdXNlckFuc3dlcjogJydcbiAgICB9O1xuICB9XG5cbiAgZ2V0U3RhdGUoKTogUmV2aWV3U3RhdGUge1xuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuY3JlYXRlSW5pdGlhbFN0YXRlKCk7XG4gIH1cblxuICAvLyBcdTI3MDUgXHU0RkREXHU1QjU4XHU1RjUzXHU1MjREXHU1MzYxXHU3MjQ3XHU3Njg0XHU3QjU0XHU2ODQ4XHU1MjMwXHU3RjEzXHU1QjU4XG4gIHNhdmVBbnN3ZXJUb0NhY2hlKGNhcmRJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5hbnN3ZXJDYWNoZS5zZXQoY2FyZElkLCB7XG4gICAgICB1c2VyQW5zd2VyOiB0aGlzLnN0YXRlLnVzZXJBbnN3ZXIsXG4gICAgICB1c2VyQW5zd2VyczogWy4uLnRoaXMuc3RhdGUudXNlckFuc3dlcnNdXG4gICAgfSk7XG4gIH1cblxuICAvLyBcdTI3MDUgXHU0RUNFXHU3RjEzXHU1QjU4XHU2MDYyXHU1OTBEXHU3QjU0XHU2ODQ4XG4gIHByaXZhdGUgcmVzdG9yZUFuc3dlckZyb21DYWNoZShjYXJkSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuYW5zd2VyQ2FjaGUuZ2V0KGNhcmRJZCk7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VyID0gY2FjaGVkLnVzZXJBbnN3ZXI7XG4gICAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXJzID0gWy4uLmNhY2hlZC51c2VyQW5zd2Vyc107XG5cbiAgICB9IGVsc2Uge1xuICAgIH1cbiAgfVxuXG4gIC8vIFx1MjcwNSBcdTZFMDVcdTk2NjRcdTYzMDdcdTVCOUFcdTUzNjFcdTcyNDdcdTc2ODRcdTdGMTNcdTVCNThcbiAgY2xlYXJDYWNoZShjYXJkSWQ6IHN0cmluZykge1xuICAgIHRoaXMuYW5zd2VyQ2FjaGUuZGVsZXRlKGNhcmRJZCk7XG4gIH1cblxuICB1cGRhdGVGb3JOZXdDYXJkKFxuICAgIG5ld0NhcmQ6IEZsYXNoY2FyZCxcbiAgICBpc1NhbWVDYXJkOiBib29sZWFuLFxuICAgIGRpcmVjdGlvbj86ICduZXh0JyB8ICdwcmV2J1xuICApIHtcbiAgICBpZiAoIWlzU2FtZUNhcmQpIHtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgICAvLyBcdTI3MDUgcHJldjogXHU1MTQ4XHU2MDYyXHU1OTBEXHU3RjEzXHU1QjU4LFx1NTE4RFx1OEJCRVx1N0Y2RVx1NTE3Nlx1NEVENlx1NzJCNlx1NjAwMVxuICAgICAgICB0aGlzLnJlc3RvcmVBbnN3ZXJGcm9tQ2FjaGUobmV3Q2FyZC5pZCk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5leHQ6IFx1NkUwNVx1N0E3QVx1NzJCNlx1NjAwMSxcdTUxQzZcdTU5MDdcdTY1QjBcdTUzNjFcdTcyNDdcbiAgICAgICAgdGhpcy5zdGF0ZS5zaG93QW5zd2VyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdGUudXNlckFuc3dlciA9ICcnO1xuICBcbiAgICAgICAgaWYgKG5ld0NhcmQudHlwZSA9PT0gJ2Nsb3plJyAmJiBuZXdDYXJkLmNsb3plKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VycyA9IG5ldyBBcnJheShcbiAgICAgICAgICAgIG5ld0NhcmQuY2xvemUuZGVsZXRpb25zLmxlbmd0aFxuICAgICAgICAgICkuZmlsbCgnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VycyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIHNldFNob3dBbnN3ZXIoc2hvdzogYm9vbGVhbikge1xuICAgIHRoaXMuc3RhdGUuc2hvd0Fuc3dlciA9IHNob3c7XG4gIH1cblxuICBzZXRVc2VyQW5zd2VyKGFuc3dlcjogc3RyaW5nKSB7XG4gICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VyID0gYW5zd2VyO1xuICB9XG5cbiAgc2V0VXNlckFuc3dlcnMoYW5zd2Vyczogc3RyaW5nW10pIHtcbiAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXJzID0gYW5zd2VycztcbiAgfVxuXG4gIHVwZGF0ZVVzZXJBbnN3ZXJBdEluZGV4KGluZGV4OiBudW1iZXIsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXJzW2luZGV4XSA9IHZhbHVlO1xuICB9XG5cbiAgZW5zdXJlVXNlckFuc3dlcnNMZW5ndGgobGVuZ3RoOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS51c2VyQW5zd2Vycy5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgIHRoaXMuc3RhdGUudXNlckFuc3dlcnMgPSBuZXcgQXJyYXkobGVuZ3RoKS5maWxsKCcnKTtcbiAgICB9XG4gIH1cblxuICBnZXRUaW1lU3BlbnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKERhdGUubm93KCkgLSB0aGlzLnN0YXRlLnN0YXJ0VGltZSkgLyAxMDAwO1xuICB9XG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL1RhYmxlUmVuZGVyZXIudHNcbmltcG9ydCB7IENhcmRTY2hlZHVsZXIgfSBmcm9tICcuLi8uLi9jb3JlL0NhcmRTY2hlZHVsZXInO1xuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlciB7XG4gIC8vIFx1NjhDMFx1NkQ0Qlx1NjYyRlx1NTQyNlx1NEUzQVx1ODg2OFx1NjgzQ1x1NjgzQ1x1NUYwRlxuICBzdGF0aWMgaXNUYWJsZUZvcm1hdCh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBsaW5lcyA9IHRleHQudHJpbSgpLnNwbGl0KCdcXG4nKTtcbiAgICBpZiAobGluZXMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IGhhc1NlcGFyYXRvciA9IGxpbmVzLnNvbWUobGluZSA9PiAvXlxcfD9bXFxzLTp8XStcXHw/JC8udGVzdChsaW5lLnRyaW0oKSkpO1xuICAgIGNvbnN0IHBpcGVMaW5lcyA9IGxpbmVzLmZpbHRlcihsaW5lID0+IGxpbmUuaW5jbHVkZXMoJ3wnKSkubGVuZ3RoO1xuICAgIFxuICAgIHJldHVybiBoYXNTZXBhcmF0b3IgfHwgcGlwZUxpbmVzID49IGxpbmVzLmxlbmd0aCAqIDAuNztcbiAgfVxuXG4gIC8vIFx1NkUzMlx1NjdEM1x1ODg2OFx1NjgzQ1xuICBzdGF0aWMgcmVuZGVyVGFibGUobWFya2Rvd246IHN0cmluZywgc2hvd0Fuc3dlcjogYm9vbGVhbiA9IGZhbHNlKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxuICAgIGlmICghbWFya2Rvd24/LnRyaW0oKSkge1xuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gJyhlbXB0eSB0YWJsZSknO1xuICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjb25zdCBsaW5lcyA9IG1hcmtkb3duLnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHtcbiAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9IG1hcmtkb3duO1xuICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjb25zdCB0YWJsZSA9IGNvbnRhaW5lci5jcmVhdGVFbCgndGFibGUnLCB7IFxuICAgICAgY2xzOiAnbGVhcm5pbmctc3lzdGVtLXRhYmxlIGZsYXNoY2FyZC1yZXZpZXctdGFibGUnIFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSB0aGlzLmZpbmRTZXBhcmF0b3JJbmRleChsaW5lcyk7XG4gICAgXG4gICAgaWYgKHNlcGFyYXRvckluZGV4ID4gMCkge1xuICAgICAgdGhpcy5yZW5kZXJUYWJsZVdpdGhIZWFkZXIodGFibGUsIGxpbmVzLCBzZXBhcmF0b3JJbmRleCwgc2hvd0Fuc3dlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyVGFibGVXaXRob3V0SGVhZGVyKHRhYmxlLCBsaW5lcywgc2hvd0Fuc3dlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfVxuXG4gIC8vIFx1NjdFNVx1NjI3RVx1NTIwNlx1OTY5NFx1N0IyNlx1NEY0RFx1N0Y2RVxuICBwcml2YXRlIHN0YXRpYyBmaW5kU2VwYXJhdG9ySW5kZXgobGluZXM6IHN0cmluZ1tdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gbGluZXMuZmluZEluZGV4KGxpbmUgPT4ge1xuICAgICAgY29uc3QgY2xlYW5lZCA9IGxpbmUucmVwbGFjZSgvW1xcc3xdL2csICcnKTtcbiAgICAgIHJldHVybiBjbGVhbmVkLmxlbmd0aCA+PSAzICYmIC9eWy06XSskLy50ZXN0KGNsZWFuZWQpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gXHU2RTMyXHU2N0QzXHU1RTI2XHU4ODY4XHU1OTM0XHU3Njg0XHU4ODY4XHU2ODNDXG4gIHByaXZhdGUgc3RhdGljIHJlbmRlclRhYmxlV2l0aEhlYWRlcihcbiAgICB0YWJsZTogSFRNTEVsZW1lbnQsXG4gICAgbGluZXM6IHN0cmluZ1tdLFxuICAgIHNlcGFyYXRvckluZGV4OiBudW1iZXIsXG4gICAgc2hvd0Fuc3dlcjogYm9vbGVhblxuICApIHtcbiAgICAvLyBcdTg4NjhcdTU5MzRcbiAgICBjb25zdCBoZWFkZXJDZWxscyA9IHRoaXMucGFyc2VDZWxscyhsaW5lc1tzZXBhcmF0b3JJbmRleCAtIDFdKTtcbiAgICBjb25zdCB0aGVhZCA9IHRhYmxlLmNyZWF0ZUVsKCd0aGVhZCcpO1xuICAgIGNvbnN0IGhlYWRlclJvdyA9IHRoZWFkLmNyZWF0ZUVsKCd0cicpO1xuICAgIFxuICAgIGhlYWRlckNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjb25zdCB0aCA9IGhlYWRlclJvdy5jcmVhdGVFbCgndGgnKTtcbiAgICAgIHRoLmlubmVySFRNTCA9IHRoaXMucHJvY2Vzc0NlbGxDb250ZW50KGNlbGwsIHNob3dBbnN3ZXIpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU2NTcwXHU2MzZFXHU4ODRDXG4gICAgY29uc3QgdGJvZHkgPSB0YWJsZS5jcmVhdGVFbCgndGJvZHknKTtcbiAgICBmb3IgKGxldCBpID0gc2VwYXJhdG9ySW5kZXggKyAxOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucmVuZGVyVGFibGVSb3codGJvZHksIGxpbmVzW2ldLCBzaG93QW5zd2VyKTtcbiAgICB9XG4gIH1cblxuICAvLyBcdTZFMzJcdTY3RDNcdTY1RTBcdTg4NjhcdTU5MzRcdTc2ODRcdTg4NjhcdTY4M0NcbiAgcHJpdmF0ZSBzdGF0aWMgcmVuZGVyVGFibGVXaXRob3V0SGVhZGVyKFxuICAgIHRhYmxlOiBIVE1MRWxlbWVudCxcbiAgICBsaW5lczogc3RyaW5nW10sXG4gICAgc2hvd0Fuc3dlcjogYm9vbGVhblxuICApIHtcbiAgICBjb25zdCB0Ym9keSA9IHRhYmxlLmNyZWF0ZUVsKCd0Ym9keScpO1xuICAgIGxpbmVzLmZvckVhY2gobGluZSA9PiB0aGlzLnJlbmRlclRhYmxlUm93KHRib2R5LCBsaW5lLCBzaG93QW5zd2VyKSk7XG4gIH1cblxuICAvLyBcdTZFMzJcdTY3RDNcdTUzNTVcdTg4NENcbiAgcHJpdmF0ZSBzdGF0aWMgcmVuZGVyVGFibGVSb3coXG4gICAgdGJvZHk6IEhUTUxFbGVtZW50LFxuICAgIGxpbmU6IHN0cmluZyxcbiAgICBzaG93QW5zd2VyOiBib29sZWFuXG4gICkge1xuICAgIGlmICghbGluZS50cmltKCkpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjZWxscyA9IHRoaXMucGFyc2VDZWxscyhsaW5lKTtcbiAgICBpZiAoY2VsbHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgXG4gICAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XG4gICAgY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGNvbnN0IHRkID0gcm93LmNyZWF0ZUVsKCd0ZCcpO1xuICAgICAgdGQuaW5uZXJIVE1MID0gdGhpcy5wcm9jZXNzQ2VsbENvbnRlbnQoY2VsbCwgc2hvd0Fuc3dlcik7XG4gICAgfSk7XG4gIH1cblxuICAvLyBcdTg5RTNcdTY3OTBcdTUzNTVcdTUxNDNcdTY4M0NcbiAgcHJpdmF0ZSBzdGF0aWMgcGFyc2VDZWxscyhsaW5lOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgXG4gICAgbGV0IHRyaW1tZWQgPSBsaW5lLnRyaW0oKTtcbiAgICBpZiAodHJpbW1lZC5zdGFydHNXaXRoKCd8JykpIHRyaW1tZWQgPSB0cmltbWVkLnNsaWNlKDEpO1xuICAgIGlmICh0cmltbWVkLmVuZHNXaXRoKCd8JykpIHRyaW1tZWQgPSB0cmltbWVkLnNsaWNlKDAsIC0xKTtcbiAgICBcbiAgICBjb25zdCBjZWxscyA9IHRyaW1tZWRcbiAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAubWFwKGMgPT4gYy50cmltKCkpXG4gICAgICAuZmlsdGVyKGMgPT4gYy5sZW5ndGggPiAwKTtcbiAgICBcbiAgICByZXR1cm4gY2VsbHM7XG4gIH1cblxuLy8gXHU1OTA0XHU3NDA2XHU1MzU1XHU1MTQzXHU2ODNDXHU1MTg1XHU1QkI5XG5wcml2YXRlIHN0YXRpYyBwcm9jZXNzQ2VsbENvbnRlbnQoY2VsbDogc3RyaW5nLCBzaG93QW5zd2VyOiBib29sZWFuKTogc3RyaW5nIHtcbiAgaWYgKCFjZWxsLmluY2x1ZGVzKCc9PScpKSB7XG4gICAgcmV0dXJuIGNlbGw7XG4gIH1cbiAgaWYgKHNob3dBbnN3ZXIpIHtcbiAgICBjb25zdCByZXN1bHQgPSBjZWxsLnJlcGxhY2UoLz09KFtePV0rKT09L2csICc8c3BhbiBjbGFzcz1cInJldmVhbGVkXCI+JDE8L3NwYW4+Jyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCByZXN1bHQgPSBjZWxsLnJlcGxhY2UoLz09KFtePV0rKT09L2csICc8c3BhbiBjbGFzcz1cImNsb3plLWJsYW5rXCI+PC9zcGFuPicpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuICAvLyBcdTZFMzJcdTY3RDNcdTVFMjZcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDhcdTc2ODRcdTg4NjhcdTY4M0NcdUZGMDhcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTc1MjhcdUZGMDlcbiAgc3RhdGljIHJlbmRlclRhYmxlV2l0aFVzZXJBbnN3ZXJzKFxuICAgIG9yaWdpbmFsTWFya2Rvd246IHN0cmluZyxcbiAgICBkZWxldGlvbnM6IEFycmF5PHsgYW5zd2VyOiBzdHJpbmcgfT4sXG4gICAgdXNlckFuc3dlcnM6IHN0cmluZ1tdLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbGluZXMgPSBvcmlnaW5hbE1hcmtkb3duLnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gICAgXG4gICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHtcblxuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gb3JpZ2luYWxNYXJrZG93bjtcbiAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgY29uc3QgdGFibGUgPSBjb250YWluZXIuY3JlYXRlRWwoJ3RhYmxlJywgeyBcbiAgICAgIGNsczogJ2xlYXJuaW5nLXN5c3RlbS10YWJsZSBmbGFzaGNhcmQtcmV2aWV3LXRhYmxlIHVzZXItYW5zd2VyLXRhYmxlJyBcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gdGhpcy5maW5kU2VwYXJhdG9ySW5kZXgobGluZXMpO1xuICAgIGxldCBkZWxldGlvbkluZGV4ID0gMDtcbi8vIFx1NkUzMlx1NjdEM1x1ODg2OFx1NTkzNFxuaWYgKHNlcGFyYXRvckluZGV4ID4gMCkge1xuIFxuICBjb25zdCBoZWFkZXJDZWxscyA9IHRoaXMucGFyc2VDZWxscyhsaW5lc1tzZXBhcmF0b3JJbmRleCAtIDFdKTtcbiAgXG4gIGNvbnN0IHRoZWFkID0gdGFibGUuY3JlYXRlRWwoJ3RoZWFkJyk7XG4gIGNvbnN0IGhlYWRlclJvdyA9IHRoZWFkLmNyZWF0ZUVsKCd0cicpO1xuICBcbiAgbGV0IGhlYWRlckluZGV4ID0gMDsgIC8vIFx1MjE5MCBcdTg4NjhcdTU5MzRcdTcyRUNcdTdBQ0JcdThCQTFcdTY1NzBcbmhlYWRlckNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gIGNvbnN0IHRoID0gaGVhZGVyUm93LmNyZWF0ZUVsKCd0aCcpO1xuICBjb25zdCByZXN1bHQgPSB0aGlzLnByb2Nlc3NDZWxsV2l0aFVzZXJBbnN3ZXJBbmRDbGFzcyhcbiAgICBjZWxsLCBkZWxldGlvbnMsIHVzZXJBbnN3ZXJzLCBkZWxldGlvbkluZGV4LCBzY2hlZHVsZXJcbiAgKTtcbiAgdGguaW5uZXJIVE1MID0gcmVzdWx0Lmh0bWw7XG4gIGlmIChyZXN1bHQuY29ycmVjdG5lc3NDbGFzcykge1xuICAgIHRoLmNsYXNzTGlzdC5hZGQocmVzdWx0LmNvcnJlY3RuZXNzQ2xhc3MpO1xuICB9XG4gIGlmIChjZWxsLmluY2x1ZGVzKCc9PScpKSB7XG4gICAgZGVsZXRpb25JbmRleCsrO1xuICB9XG59KTtcblxuICBcbn1cblxuXG4vLyBcdTZFMzJcdTY3RDNcdTY1NzBcdTYzNkVcdTg4NENcbmNvbnN0IHRib2R5ID0gdGFibGUuY3JlYXRlRWwoJ3Rib2R5Jyk7XG5jb25zdCBzdGFydFJvdyA9IHNlcGFyYXRvckluZGV4ID4gMCA/IHNlcGFyYXRvckluZGV4ICsgMSA6IDA7XG5cbmZvciAobGV0IGkgPSBzdGFydFJvdzsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgaWYgKCFsaW5lLnRyaW0oKSkgY29udGludWU7XG4gIFxuICBjb25zdCBjZWxscyA9IHRoaXMucGFyc2VDZWxscyhsaW5lKTtcbiAgaWYgKGNlbGxzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gIFxuICBjb25zdCByb3cgPSB0Ym9keS5jcmVhdGVFbCgndHInKTtcbiAgY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICBjb25zdCB0ZCA9IHJvdy5jcmVhdGVFbCgndGQnKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnByb2Nlc3NDZWxsV2l0aFVzZXJBbnN3ZXJBbmRDbGFzcyhcbiAgICAgIGNlbGwsIGRlbGV0aW9ucywgdXNlckFuc3dlcnMsIGRlbGV0aW9uSW5kZXgsIHNjaGVkdWxlclxuICAgICk7XG4gICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lmh0bWw7XG4gICAgaWYgKHJlc3VsdC5jb3JyZWN0bmVzc0NsYXNzKSB7XG4gICAgICB0ZC5jbGFzc0xpc3QuYWRkKHJlc3VsdC5jb3JyZWN0bmVzc0NsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNlbGwuaW5jbHVkZXMoJz09JykpIHsgIC8vIFx1MjE5MCBcdTY1MzlcdTYyMTBcdThGRDlcdTY4MzcsXHU0RTBFXHU4ODY4XHU1OTM0XHU5MDNCXHU4RjkxXHU0RTAwXHU4MUY0XG4gICAgICBkZWxldGlvbkluZGV4Kys7XG4gICAgfVxuICB9KTtcbn1cblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxuICAvLyBcdTU5MDRcdTc0MDZcdTVFMjZcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDhcdTc2ODRcdTUzNTVcdTUxNDNcdTY4M0NcbiAgcHJpdmF0ZSBzdGF0aWMgcHJvY2Vzc0NlbGxXaXRoVXNlckFuc3dlcihcbiAgICBjZWxsOiBzdHJpbmcsXG4gICAgZGVsZXRpb25zOiBBcnJheTx7IGFuc3dlcjogc3RyaW5nIH0+LFxuICAgIHVzZXJBbnN3ZXJzOiBzdHJpbmdbXSxcbiAgICBkZWxldGlvbkluZGV4OiBudW1iZXIsXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICk6IHN0cmluZyB7XG4gICAgaWYgKCFjZWxsLmluY2x1ZGVzKCc9PScpKSByZXR1cm4gY2VsbDtcbiAgICBcbiAgICBjb25zdCBtYXRjaCA9IGNlbGwubWF0Y2goLz09KFtePV0rKT09Lyk7XG4gICAgaWYgKCFtYXRjaCB8fCBkZWxldGlvbkluZGV4ID49IGRlbGV0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjZWxsLnJlcGxhY2UoLz09KFtePV0rKT09L2csICc8c3BhbiBjbGFzcz1cImNsb3plLWJsYW5rXCI+PC9zcGFuPicpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gZGVsZXRpb25zW2RlbGV0aW9uSW5kZXhdLmFuc3dlcjtcbiAgICBjb25zdCB1c2VyQW5zd2VyID0gdXNlckFuc3dlcnNbZGVsZXRpb25JbmRleF0gfHwgJyc7XG4gICAgY29uc3QgZXZhbHVhdGlvbiA9IHNjaGVkdWxlci5ldmFsdWF0ZUFuc3dlcihjb3JyZWN0QW5zd2VyLCB1c2VyQW5zd2VyKTtcbiAgICBcbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IHVzZXJBbnN3ZXIgfHwgJyhlbXB0eSknO1xuICAgIGNvbnN0IGNvcnJlY3RuZXNzQ2xhc3MgPSBldmFsdWF0aW9uLmNvcnJlY3RuZXNzO1xuICAgIFxuICAgIHJldHVybiBjZWxsLnJlcGxhY2UoXG4gICAgICAvPT0oW149XSspPT0vZyxcbiAgICAgIGA8c3BhbiBjbGFzcz1cInVzZXItYW5zd2VyLWNlbGwgJHtjb3JyZWN0bmVzc0NsYXNzfVwiPiR7ZGlzcGxheVRleHR9PC9zcGFuPmBcbiAgICApO1xuICB9XG5cbiAgLy8gXHU1OTA0XHU3NDA2XHU1RTI2XHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4XHU3Njg0XHU1MzU1XHU1MTQzXHU2ODNDKFx1OEZENFx1NTZERSBIVE1MIFx1NTQ4Q1x1NkI2M1x1Nzg2RVx1NjAyN1x1N0M3QilcbiAgcHJpdmF0ZSBzdGF0aWMgcHJvY2Vzc0NlbGxXaXRoVXNlckFuc3dlckFuZENsYXNzKFxuICAgIGNlbGw6IHN0cmluZyxcbiAgICBkZWxldGlvbnM6IEFycmF5PHsgYW5zd2VyOiBzdHJpbmcgfT4sXG4gICAgdXNlckFuc3dlcnM6IHN0cmluZ1tdLFxuICAgIGRlbGV0aW9uSW5kZXg6IG51bWJlcixcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKTogeyBodG1sOiBzdHJpbmc7IGNvcnJlY3RuZXNzQ2xhc3M6IHN0cmluZyB8IG51bGwgfSB7XG4gICAgXG4gICAgY29uc3QgbWF0Y2ggPSBjZWxsLm1hdGNoKC89PShbXj1dKyk9PS8pO1xuICAgIGlmICghbWF0Y2gpIHsgIC8vIFx1MjE5MCBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTUzMzlcdTkxNERcdTUyMzBcdTVCOENcdTY1NzRcdTc2ODRcdTYzMTZcdTdBN0FcdTY4MDdcdThCQjBcbiAgICAgIHJldHVybiB7IGh0bWw6IGNlbGwsIGNvcnJlY3RuZXNzQ2xhc3M6IG51bGwgfTtcbiAgICB9XG4gIFxuICAgIGlmICghbWF0Y2ggfHwgZGVsZXRpb25JbmRleCA+PSBkZWxldGlvbnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgaHRtbDogY2VsbC5yZXBsYWNlKC89PShbXj1dKyk9PS9nLCAnPHNwYW4gY2xhc3M9XCJjbG96ZS1ibGFua1wiPjwvc3Bhbj4nKSxcbiAgICAgICAgY29ycmVjdG5lc3NDbGFzczogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29ycmVjdEFuc3dlciA9IGRlbGV0aW9uc1tkZWxldGlvbkluZGV4XS5hbnN3ZXI7XG4gICAgY29uc3QgdXNlckFuc3dlciA9IHVzZXJBbnN3ZXJzW2RlbGV0aW9uSW5kZXhdIHx8ICcnO1xuICAgIGNvbnN0IGV2YWx1YXRpb24gPSBzY2hlZHVsZXIuZXZhbHVhdGVBbnN3ZXIoY29ycmVjdEFuc3dlciwgdXNlckFuc3dlcik7XG4gICAgXG4gICAgY29uc3QgZGlzcGxheVRleHQgPSB1c2VyQW5zd2VyIHx8ICcoZW1wdHkpJztcbiAgICBjb25zdCBjb3JyZWN0bmVzc0NsYXNzID0gZXZhbHVhdGlvbi5jb3JyZWN0bmVzcztcbiAgICBcbiAgICBjb25zdCBodG1sID0gY2VsbC5yZXBsYWNlKFxuICAgICAgLz09KFtePV0rKT09L2csXG4gICAgICBgPHNwYW4gY2xhc3M9XCJ1c2VyLWFuc3dlci1jZWxsICR7Y29ycmVjdG5lc3NDbGFzc31cIj4ke2Rpc3BsYXlUZXh0fTwvc3Bhbj5gXG4gICAgKTtcbiAgICBcbiAgICBcbiAgICByZXR1cm4geyBodG1sLCBjb3JyZWN0bmVzc0NsYXNzOiBgY2VsbC0ke2NvcnJlY3RuZXNzQ2xhc3N9YCB9O1xuICB9XG59IiwgIi8vIENhcmRSZW5kZXJlcnMudHNcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBDYXJkU2NoZWR1bGVyIH0gZnJvbSAnLi4vLi4vY29yZS9DYXJkU2NoZWR1bGVyJztcbmltcG9ydCB7IFRhYmxlUmVuZGVyZXIgfSBmcm9tICcuL1RhYmxlUmVuZGVyZXInO1xuaW1wb3J0IHR5cGUgeyBSZXZpZXdTdGF0ZSB9IGZyb20gJy4uL3N0YXRlL3Jldmlld1N0YXRlTWFuYWdlcic7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFx1NTM2MVx1NzI0N1x1NkUzMlx1NjdEM1x1N0I1Nlx1NzU2NVx1NjNBNVx1NTNFM1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGludGVyZmFjZSBDYXJkUmVuZGVyU3RyYXRlZ3kge1xuICByZW5kZXJRdWVzdGlvbihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LCBcbiAgICBjYXJkOiBGbGFzaGNhcmQsIFxuICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICB1cGRhdGVTdGF0ZToge1xuICAgICAgc2V0VXNlckFuc3dlcjogKGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkO1xuICAgICAgc2V0VXNlckFuc3dlcnM6IChhbnN3ZXJzOiBzdHJpbmdbXSkgPT4gdm9pZDtcbiAgICB9XG4gICk6IHZvaWQ7XG4gIHJlbmRlckFuc3dlcihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LCBcbiAgICBjYXJkOiBGbGFzaGNhcmQsIFxuICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSwgXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICk6IHZvaWQ7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NTM2MVx1NzI0N1x1NkUzMlx1NjdEM1x1NTY2OFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNsYXNzIENsb3plQ2FyZFJlbmRlcmVyIGltcGxlbWVudHMgQ2FyZFJlbmRlclN0cmF0ZWd5IHtcbiAgICByZW5kZXJRdWVzdGlvbihcbiAgICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgXG4gICAgICAgIGNhcmQ6IEZsYXNoY2FyZCwgXG4gICAgICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICAgICAgdXBkYXRlU3RhdGU6IHtcbiAgICAgICAgICBzZXRVc2VyQW5zd2VyOiAoYW5zd2VyOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgICAgICAgc2V0VXNlckFuc3dlcnM6IChhbnN3ZXJzOiBzdHJpbmdbXSkgPT4gdm9pZDtcbiAgICAgICAgfVxuICAgICAgKTogdm9pZCB7XG4gICAgICAgIC8vIFx1OTVFRVx1OTg5OFx1NjU4N1x1NjcyQ1xuICAgICAgICBjb25zdCBxdWVzdGlvblRleHQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncXVlc3Rpb24tdGV4dCcgfSk7XG4gICAgICAgIGNvbnN0IGlzVGFibGUgPSBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQoY2FyZC5mcm9udCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNUYWJsZSkge1xuICAgICAgICAgIC8vIFx1MjE5MCBcdTRGRUVcdTY1Mzk6XHU2RTMyXHU2N0QzXHU1RTI2XHU1QjlFXHU2NUY2XHU5ODg0XHU4OUM4XHU3Njg0XHU4ODY4XHU2ODNDXG4gICAgICAgICAgY29uc3QgdGFibGVFbCA9IHRoaXMucmVuZGVyVGFibGVXaXRoSW5wdXRQcmV2aWV3KFxuICAgICAgICAgICAgY2FyZC5mcm9udCwgXG4gICAgICAgICAgICBjYXJkLmNsb3plPy5kZWxldGlvbnMgfHwgW10sXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcXVlc3Rpb25UZXh0LmFwcGVuZENoaWxkKHRhYmxlRWwpO1xuICAgICAgICAgIHF1ZXN0aW9uVGV4dC5jbGFzc0xpc3QuYWRkKCd0YWJsZS1xdWVzdGlvbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRhYmxlRWwgPSBUYWJsZVJlbmRlcmVyLnJlbmRlclRhYmxlKGNhcmQuZnJvbnQsIGZhbHNlKTtcbiAgICAgICAgICBxdWVzdGlvblRleHQuYXBwZW5kQ2hpbGQodGFibGVFbCk7XG4gICAgICAgICAgcXVlc3Rpb25UZXh0LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLXF1ZXN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICAvLyBcdThGOTNcdTUxNjVcdTY4NDYoXHU3OUZCXHU1MjMwXHU4ODY4XHU2ODNDXHU0RTBCXHU2NUI5XHU2MjE2XHU0RkREXHU2MzAxXHU1NzI4XHU1MzlGXHU0RjREKVxuICAgICAgICBpZiAoY2FyZC5jbG96ZSkge1xuICAgICAgICAgIGNvbnN0IGFjdHVhbEJsYW5rQ291bnQgPSAoY2FyZC5jbG96ZS5vcmlnaW5hbC5tYXRjaCgvPT1bXj1dKz09L2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgICAgY29uc3QgYmxhbmtDb3VudCA9IE1hdGgubWF4KGFjdHVhbEJsYW5rQ291bnQsIGNhcmQuY2xvemUuZGVsZXRpb25zLmxlbmd0aCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHN0YXRlLnVzZXJBbnN3ZXJzLmxlbmd0aCAhPT0gYmxhbmtDb3VudCkge1xuICAgICAgICAgICAgc3RhdGUudXNlckFuc3dlcnMgPSBuZXcgQXJyYXkoYmxhbmtDb3VudCkuZmlsbCgnJyk7XG4gICAgICAgICAgfVxuICAgICAgXG4gICAgICAgICAgY29uc3QgaW5wdXRBcmVhID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2Nsb3plLWlucHV0LWFyZWEnIH0pO1xuICAgICAgICAgIGlucHV0QXJlYS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6IGBGaWxsIGluIHRoZSBibGFua3MgKCR7YmxhbmtDb3VudH0gdG90YWwpOmAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgaGludCA9IGlucHV0QXJlYS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjbG96ZS1pbnB1dC1oaW50JyB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBzaW5nbGVJbnB1dEdyb3VwID0gaW5wdXRBcmVhLmNyZWF0ZURpdih7IGNsczogJ3NpbmdsZS1pbnB1dC1ncm91cCcgfSk7XG4gICAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gc3RhdGUudXNlckFuc3dlcnMuZmlsdGVyKGEgPT4gYSkuam9pbignIHwgJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgaW5wdXQgPSBzaW5nbGVJbnB1dEdyb3VwLmNyZWF0ZUVsKCdpbnB1dCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBgRW50ZXIgYWxsICR7YmxhbmtDb3VudH0gYW5zd2VycyBzZXBhcmF0ZWQgYnkgfCwgY29tbWEsIG9yIHNwYWNlcy4uLmAsXG4gICAgICAgICAgICBjbHM6ICdjbG96ZS1zaW5nbGUtaW5wdXQnLFxuICAgICAgICAgICAgdmFsdWU6IGluaXRpYWxWYWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuLy8gXHU1QjlFXHU2NUY2XHU2NkY0XHU2NUIwXHU1MUZEXHU2NTcwXG5jb25zdCB1cGRhdGVQcmV2aWV3ID0gKGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gdGhpcy5wYXJzZU11bHRpcGxlQW5zd2VycyhpbnB1dFZhbHVlLCBibGFua0NvdW50KTtcbiAgICB1cGRhdGVTdGF0ZS5zZXRVc2VyQW5zd2VycyhwYXJ0cyk7ICAvLyBcdTI3MDUgXHU0RjdGXHU3NTI4XHU1NkRFXHU4QzAzXHU2NkY0XHU2NUIwXG4gICAgXG4gICAgLy8gXHUyMTkwIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1ODg2OFx1NjgzQyxcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTg4NjhcdTY4M0NcbiAgICBpZiAoaXNUYWJsZSkge1xuICAgICAgcXVlc3Rpb25UZXh0LmVtcHR5KCk7XG4gICAgICBjb25zdCB1cGRhdGVkVGFibGVFbCA9IHRoaXMucmVuZGVyVGFibGVXaXRoSW5wdXRQcmV2aWV3KFxuICAgICAgICBjYXJkLmZyb250LFxuICAgICAgICBjYXJkLmNsb3plPy5kZWxldGlvbnMgfHwgW10sXG4gICAgICAgIHN0YXRlXG4gICAgICApO1xuICAgICAgcXVlc3Rpb25UZXh0LmFwcGVuZENoaWxkKHVwZGF0ZWRUYWJsZUVsKTtcbiAgICB9XG4gIH07XG4gICAgICAgICAgXG4gICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgdXBkYXRlUHJldmlldyhpbml0aWFsVmFsdWUpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaW5wdXQuZm9jdXMoKSwgNTApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFx1MjE5MCBcdTZERkJcdTUyQTBcdTY1QjBcdTY1QjlcdTZDRDU6XHU2RTMyXHU2N0QzXHU1RTI2XHU4RjkzXHU1MTY1XHU5ODg0XHU4OUM4XHU3Njg0XHU4ODY4XHU2ODNDXG4gICAgICBwcml2YXRlIHJlbmRlclRhYmxlV2l0aElucHV0UHJldmlldyhcbiAgICAgICAgbWFya2Rvd246IHN0cmluZyxcbiAgICAgICAgZGVsZXRpb25zOiBBcnJheTx7IGFuc3dlcjogc3RyaW5nIH0+LFxuICAgICAgICBzdGF0ZTogUmV2aWV3U3RhdGVcbiAgICAgICk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIW1hcmtkb3duPy50cmltKCkpIHtcbiAgICAgICAgICBjb250YWluZXIudGV4dENvbnRlbnQgPSAnKGVtcHR5IHRhYmxlKSc7XG4gICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIGNvbnN0IGxpbmVzID0gbWFya2Rvd24udHJpbSgpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICBjb250YWluZXIudGV4dENvbnRlbnQgPSBtYXJrZG93bjtcbiAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgY29uc3QgdGFibGUgPSBjb250YWluZXIuY3JlYXRlRWwoJ3RhYmxlJywgeyBcbiAgICAgICAgICBjbHM6ICdsZWFybmluZy1zeXN0ZW0tdGFibGUgZmxhc2hjYXJkLXJldmlldy10YWJsZSBwcmV2aWV3LXRhYmxlJyBcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgICAgLy8gXHU2N0U1XHU2MjdFXHU1MjA2XHU5Njk0XHU3QjI2XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gbGluZXMuZmluZEluZGV4KGxpbmUgPT4ge1xuICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSBsaW5lLnJlcGxhY2UoL1tcXHN8XS9nLCAnJyk7XG4gICAgICAgICAgcmV0dXJuIGNsZWFuZWQubGVuZ3RoID49IDMgJiYgL15bLTpdKyQvLnRlc3QoY2xlYW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgbGV0IGRlbGV0aW9uSW5kZXggPSAwO1xuICAgICAgXG4gICAgICAgIC8vIFx1NkUzMlx1NjdEM1x1ODg2OFx1NTkzNFxuICAgICAgICBpZiAoc2VwYXJhdG9ySW5kZXggPiAwKSB7XG4gICAgICAgICAgY29uc3QgaGVhZGVyQ2VsbHMgPSB0aGlzLnBhcnNlQ2VsbHMobGluZXNbc2VwYXJhdG9ySW5kZXggLSAxXSk7XG4gICAgICAgICAgY29uc3QgdGhlYWQgPSB0YWJsZS5jcmVhdGVFbCgndGhlYWQnKTtcbiAgICAgICAgICBjb25zdCBoZWFkZXJSb3cgPSB0aGVhZC5jcmVhdGVFbCgndHInKTtcbiAgICAgICAgICBcbiAgICAgICAgICBoZWFkZXJDZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGggPSBoZWFkZXJSb3cuY3JlYXRlRWwoJ3RoJyk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlZCA9IHRoaXMucmVuZGVyQ2VsbFdpdGhQcmV2aWV3KGNlbGwsIHN0YXRlLnVzZXJBbnN3ZXJzLCBkZWxldGlvbkluZGV4KTtcbiAgICAgICAgICAgIHRoLmlubmVySFRNTCA9IHJlbmRlcmVkLmh0bWw7XG4gICAgICAgICAgICBpZiAocmVuZGVyZWQuaGFzQmxhbmspIGRlbGV0aW9uSW5kZXgrKztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIC8vIFx1NkUzMlx1NjdEM1x1NjU3MFx1NjM2RVx1ODg0Q1xuICAgICAgICBjb25zdCB0Ym9keSA9IHRhYmxlLmNyZWF0ZUVsKCd0Ym9keScpO1xuICAgICAgICBjb25zdCBzdGFydFJvdyA9IHNlcGFyYXRvckluZGV4ID4gMCA/IHNlcGFyYXRvckluZGV4ICsgMSA6IDA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRSb3c7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgICAgICBpZiAoIWxpbmUudHJpbSgpKSBjb250aW51ZTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMucGFyc2VDZWxscyhsaW5lKTtcbiAgICAgICAgICBpZiAoY2VsbHMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCByb3cgPSB0Ym9keS5jcmVhdGVFbCgndHInKTtcbiAgICAgICAgICBjZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGQgPSByb3cuY3JlYXRlRWwoJ3RkJyk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlZCA9IHRoaXMucmVuZGVyQ2VsbFdpdGhQcmV2aWV3KGNlbGwsIHN0YXRlLnVzZXJBbnN3ZXJzLCBkZWxldGlvbkluZGV4KTtcbiAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IHJlbmRlcmVkLmh0bWw7XG4gICAgICAgICAgICBpZiAocmVuZGVyZWQuaGFzQmxhbmspIGRlbGV0aW9uSW5kZXgrKztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFx1MjE5MCBcdTZERkJcdTUyQTBcdThGODVcdTUyQTlcdTY1QjlcdTZDRDU6XHU4OUUzXHU2NzkwXHU1MzU1XHU1MTQzXHU2ODNDXG4gICAgICBwcml2YXRlIHBhcnNlQ2VsbHMobGluZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgICBsZXQgdHJpbW1lZCA9IGxpbmUudHJpbSgpO1xuICAgICAgICBpZiAodHJpbW1lZC5zdGFydHNXaXRoKCd8JykpIHRyaW1tZWQgPSB0cmltbWVkLnNsaWNlKDEpO1xuICAgICAgICBpZiAodHJpbW1lZC5lbmRzV2l0aCgnfCcpKSB0cmltbWVkID0gdHJpbW1lZC5zbGljZSgwLCAtMSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJpbW1lZFxuICAgICAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAgICAgLm1hcChjID0+IGMudHJpbSgpKVxuICAgICAgICAgIC5maWx0ZXIoYyA9PiBjLmxlbmd0aCA+IDApO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTIxOTAgXHU2REZCXHU1MkEwXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1Olx1NkUzMlx1NjdEM1x1NUUyNlx1OTg4NFx1ODlDOFx1NzY4NFx1NTM1NVx1NTE0M1x1NjgzQ1xuICAgICAgcHJpdmF0ZSByZW5kZXJDZWxsV2l0aFByZXZpZXcoXG4gICAgICAgIGNlbGw6IHN0cmluZyxcbiAgICAgICAgdXNlckFuc3dlcnM6IHN0cmluZ1tdLFxuICAgICAgICBkZWxldGlvbkluZGV4OiBudW1iZXJcbiAgICAgICk6IHsgaHRtbDogc3RyaW5nOyBoYXNCbGFuazogYm9vbGVhbiB9IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBjZWxsLm1hdGNoKC89PShbXj1dKyk9PS8pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgIHJldHVybiB7IGh0bWw6IGNlbGwsIGhhc0JsYW5rOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdTY3MDlcdTYzMTZcdTdBN0FcdTY4MDdcdThCQjBcbiAgICAgICAgY29uc3QgdXNlckFuc3dlciA9IHVzZXJBbnN3ZXJzW2RlbGV0aW9uSW5kZXhdIHx8ICcnO1xuICAgICAgICBjb25zdCBkaXNwbGF5VGV4dCA9IHVzZXJBbnN3ZXIgXG4gICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJwcmV2aWV3LWFuc3dlclwiPiR7dXNlckFuc3dlcn08L3NwYW4+YCBcbiAgICAgICAgICA6ICc8c3BhbiBjbGFzcz1cImNsb3plLWJsYW5rXCI+PC9zcGFuPic7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBodG1sID0gY2VsbC5yZXBsYWNlKC89PShbXj1dKyk9PS9nLCBkaXNwbGF5VGV4dCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBodG1sLCBoYXNCbGFuazogdHJ1ZSB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTIxOTAgXHU2REZCXHU1MkEwXHU2NUIwXHU3Njg0XHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1Olx1ODlFM1x1Njc5MFx1NTkxQVx1N0I1NFx1Njg0OFx1OEY5M1x1NTE2NVxuICAgICAgcHJpdmF0ZSBwYXJzZU11bHRpcGxlQW5zd2VycyhpbnB1dDogc3RyaW5nLCBleHBlY3RlZENvdW50OiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgICAgIGlmICghaW5wdXQudHJpbSgpKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBcnJheShleHBlY3RlZENvdW50KS5maWxsKCcnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gXHU3RURGXHU0RTAwXHU1OTA0XHU3NDA2XHU1MjA2XHU5Njk0XHU3QjI2XG4gICAgICAgIGxldCBub3JtYWxpemVkID0gaW5wdXRcbiAgICAgICAgICAucmVwbGFjZSgvLC9nLCAnfCcpICAgICAgICAvLyBcdTgyRjFcdTY1ODdcdTkwMTdcdTUzRjdcbiAgICAgICAgICAucmVwbGFjZSgvLC9nLCAnfCcpICAgICAgICAvLyBcdTRFMkRcdTY1ODdcdTkwMTdcdTUzRjcgIFxuICAgICAgICAgIC5yZXBsYWNlKC9cXHN7Mix9L2csICd8Jyk7ICAvLyBcdTU5MUFcdTRFMkFcdTdBN0FcdTY4M0NcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBhcnRzID0gbm9ybWFsaXplZFxuICAgICAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAgICAgLm1hcChzID0+IHMudHJpbSgpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1Nzg2RVx1NEZERFx1NjU3MFx1N0VDNFx1OTU3Rlx1NUVBNlx1NTMzOVx1OTE0RFxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoZXhwZWN0ZWRDb3VudCkuZmlsbCgnJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4ocGFydHMubGVuZ3RoLCBleHBlY3RlZENvdW50KTsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0W2ldID0gcGFydHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgcmVuZGVyQW5zd2VyKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKTogdm9pZCB7XG4gICAgaWYgKCFjYXJkLmNsb3plKSByZXR1cm47XG5cbiAgICBjb25zdCBhbnN3ZXJBcmVhID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2Fuc3dlci1hcmVhJyB9KTtcbiAgICBjb25zdCBpc09yaWdpbmFsVGFibGUgPSBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQoY2FyZC5jbG96ZS5vcmlnaW5hbCk7XG5cbiAgICBpZiAoaXNPcmlnaW5hbFRhYmxlKSB7XG4gICAgICB0aGlzLnJlbmRlclRhYmxlQW5zd2VyKGFuc3dlckFyZWEsIGNhcmQsIHN0YXRlLCBzY2hlZHVsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlclRleHRBbnN3ZXIoYW5zd2VyQXJlYSwgY2FyZCwgc3RhdGUsIHNjaGVkdWxlcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUYWJsZUFuc3dlcihcbiAgICBhbnN3ZXJBcmVhOiBIVE1MRWxlbWVudCxcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApIHtcbiAgICBcbiAgICBjb25zdCBjb2x1bW5zQ29udGFpbmVyID0gYW5zd2VyQXJlYS5jcmVhdGVEaXYoeyBjbHM6ICdjbG96ZS10YWJsZS1jb2x1bW5zJyB9KTtcbiAgICBcbiAgICAvLyBcdTVERTZcdTUyMTc6XHU2QjYzXHU3ODZFXHU3QjU0XHU2ODQ4XG4gICAgY29uc3QgY29ycmVjdENvbHVtbiA9IGNvbHVtbnNDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncWEtY29sdW1uJyB9KTtcbiAgICBjb3JyZWN0Q29sdW1uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0NvcnJlY3QgQW5zd2VyOicsIGNsczogJ2NvbHVtbi1sYWJlbCcgfSk7XG4gICAgY29uc3QgY29ycmVjdERpdiA9IGNvcnJlY3RDb2x1bW4uY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1pdGVtJyB9KTtcbiAgICBjb25zdCB0YWJsZUVsID0gVGFibGVSZW5kZXJlci5yZW5kZXJUYWJsZShjYXJkLmNsb3plIS5vcmlnaW5hbCwgdHJ1ZSk7XG4gICAgY29ycmVjdERpdi5hcHBlbmRDaGlsZCh0YWJsZUVsKTtcbiAgICBjb3JyZWN0RGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWFuc3dlcicpO1xuICAgIFxuICAgIC8vIFx1NTNGM1x1NTIxNzpcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDhcbiAgICBjb25zdCB1c2VyQ29sdW1uID0gY29sdW1uc0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdxYS1jb2x1bW4nIH0pO1xuICAgIHVzZXJDb2x1bW4uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnWW91ciBBbnN3ZXI6JywgY2xzOiAnY29sdW1uLWxhYmVsJyB9KTtcbiAgICBjb25zdCB1c2VyRGl2ID0gdXNlckNvbHVtbi5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWl0ZW0nIH0pO1xuICBcbiAgICAvLyBcdTIxOTAgXHU0RkVFXHU2NTM5Olx1NjNEMFx1NTNENlx1NUI5RVx1OTY0NVx1NzY4NFx1N0I1NFx1Njg0OFx1Njc2NVx1Njc4NFx1NUVGQSBkZWxldGlvbnNcbiAgICBjb25zdCBhY3R1YWxBbnN3ZXJzID0gdGhpcy5leHRyYWN0Q2xvemVBbnN3ZXJzKGNhcmQuY2xvemUhLm9yaWdpbmFsKTtcbiAgICBjb25zdCBjb25zdHJ1Y3RlZERlbGV0aW9ucyA9IGFjdHVhbEFuc3dlcnMubWFwKGFuc3dlciA9PiAoeyBhbnN3ZXIgfSkpO1xuICAgIFxuICBcbiAgICAvLyBcdTc4NkVcdTRGREQgdXNlckFuc3dlcnMgXHU2NTcwXHU3RUM0XHU5NTdGXHU1RUE2XHU1MzM5XHU5MTREXG4gICAgY29uc3Qgbm9ybWFsaXplZEFuc3dlcnMgPSBuZXcgQXJyYXkoYWN0dWFsQW5zd2Vycy5sZW5ndGgpLmZpbGwoJycpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oc3RhdGUudXNlckFuc3dlcnMubGVuZ3RoLCBub3JtYWxpemVkQW5zd2Vycy5sZW5ndGgpOyBpKyspIHtcbiAgICAgIG5vcm1hbGl6ZWRBbnN3ZXJzW2ldID0gc3RhdGUudXNlckFuc3dlcnNbaV0gfHwgJyc7XG4gICAgfVxuICBcbiAgICBjb25zdCB1c2VyVGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGVXaXRoVXNlckFuc3dlcnMoXG4gICAgICBjYXJkLmNsb3plIS5vcmlnaW5hbCxcbiAgICAgIGNvbnN0cnVjdGVkRGVsZXRpb25zLCAgLy8gXHUyMTkwIFx1NEY3Rlx1NzUyOFx1Njc4NFx1NUVGQVx1NzY4NCBkZWxldGlvbnNcbiAgICAgIG5vcm1hbGl6ZWRBbnN3ZXJzLFxuICAgICAgc2NoZWR1bGVyXG4gICAgKTtcbiAgICB1c2VyRGl2LmFwcGVuZENoaWxkKHVzZXJUYWJsZUVsKTtcbiAgICB1c2VyRGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWFuc3dlcicpO1xuICBcbiAgICAvLyBcdThCRTZcdTdFQzZcdTVCRjlcdTZCRDRcbiAgICB0aGlzLnJlbmRlckRldGFpbGVkQ29tcGFyaXNvbihhbnN3ZXJBcmVhLCBjYXJkLCBzdGF0ZSwgc2NoZWR1bGVyKTtcbiAgfVxuICBwcml2YXRlIHJlbmRlclRleHRBbnN3ZXIoXG4gICAgYW5zd2VyQXJlYTogSFRNTEVsZW1lbnQsXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKSB7XG4gICAgY29uc3QgZnVsbFRleHQgPSBhbnN3ZXJBcmVhLmNyZWF0ZURpdih7IGNsczogJ2Z1bGwtdGV4dCcgfSk7XG4gICAgZnVsbFRleHQudGV4dENvbnRlbnQgPSBjYXJkLmNsb3plIS5vcmlnaW5hbDtcbiAgICBcbiAgICAvLyBcdTIxOTAgXHU4RkQ5XHU5MUNDXHU1REYyXHU3RUNGXHU0RjFBXHU4QzAzXHU3NTI4IHJlbmRlckRldGFpbGVkQ29tcGFyaXNvbixcdTVCODNcdTRGMUFcdTRGN0ZcdTc1MjhcdTY1QjBcdTc2ODRcdTkwM0JcdThGOTFcbiAgICB0aGlzLnJlbmRlckRldGFpbGVkQ29tcGFyaXNvbihhbnN3ZXJBcmVhLCBjYXJkLCBzdGF0ZSwgc2NoZWR1bGVyKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRGV0YWlsZWRDb21wYXJpc29uKFxuICAgIGFuc3dlckFyZWE6IEhUTUxFbGVtZW50LFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICkge1xuICAgIGlmIChzdGF0ZS51c2VyQW5zd2Vycy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgXG4gICAgY29uc3QgY29tcGFyaXNvbiA9IGFuc3dlckFyZWEuY3JlYXRlRGl2KHsgY2xzOiAnYW5zd2VyLWNvbXBhcmlzb24nIH0pO1xuICAgIGNvbXBhcmlzb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQW5zd2VyIERldGFpbHM6JyB9KTtcbiAgXG4gICAgLy8gXHUyMTkwIFx1NTE3M1x1OTUyRVx1NEZFRVx1NjUzOTpcdTRGN0ZcdTc1MjhcdTVCOUVcdTk2NDVcdTc2ODRcdTYzMTZcdTdBN0FcdTY1NzBcdTkxQ0YsXHU4MDBDXHU0RTBEXHU2NjJGIGRlbGV0aW9ucy5sZW5ndGhcbiAgICAvLyBcdTY1QjlcdTZDRDUxOiBcdTRFQ0VcdTUzOUZcdTU5Q0JcdTY1ODdcdTY3MkNcdTYzRDBcdTUzRDZcdTYyNDBcdTY3MDlcdTYzMTZcdTdBN0FcdTdCNTRcdTY4NDhcbiAgICBjb25zdCBhY3R1YWxBbnN3ZXJzID0gdGhpcy5leHRyYWN0Q2xvemVBbnN3ZXJzKGNhcmQuY2xvemUhLm9yaWdpbmFsKTtcbiAgICBcbiAgXG4gICAgLy8gXHU0RjdGXHU3NTI4XHU1QjlFXHU5NjQ1XHU3QjU0XHU2ODQ4XHU2NTcwXHU5MUNGXHU4RkRCXHU4ODRDXHU1QkY5XHU2QkQ0XG4gICAgY29uc3QgbWF4Q291bnQgPSBNYXRoLm1heChhY3R1YWxBbnN3ZXJzLmxlbmd0aCwgc3RhdGUudXNlckFuc3dlcnMubGVuZ3RoKTtcbiAgICBcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbWF4Q291bnQ7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjb21wYXJpc29uLmNyZWF0ZURpdih7IGNsczogJ2NvbXBhcmlzb24taXRlbScgfSk7XG4gICAgICBpdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiBgJHtpbmRleCArIDF9LiBgIH0pO1xuICBcbiAgICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSBzdGF0ZS51c2VyQW5zd2Vyc1tpbmRleF0gfHwgJyc7XG4gICAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gYWN0dWFsQW5zd2Vyc1tpbmRleF0gfHwgJyc7XG4gICAgICBcbiAgICAgIGlmICghY29ycmVjdEFuc3dlcikge1xuICAgICAgICAvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTVCRjlcdTVFOTRcdTc2ODRcdTZCNjNcdTc4NkVcdTdCNTRcdTY4NDgoXHU3NTI4XHU2MjM3XHU1OTFBXHU4RjkzXHU1MTY1XHU0RTg2KVxuICAgICAgICBpdGVtLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICAgIHRleHQ6IHVzZXJBbnN3ZXIgfHwgJyhlbXB0eSknLFxuICAgICAgICAgIGNsczogJ3VzZXItYW5zd2VyICAke2V2YWx1YXRpb24uY29ycmVjdG5lc3N9J1xuICAgICAgICB9KTtcbiAgICAgICAgaXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogJyBcdTIxOTIgJyB9KTtcbiAgICAgICAgaXRlbS5jcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgICB0ZXh0OiAnKG5vIGJsYW5rIGhlcmUpJyxcbiAgICAgICAgICBjbHM6ICdjb3JyZWN0LWFuc3dlcidcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IGV2YWx1YXRpb24gPSBzY2hlZHVsZXIuZXZhbHVhdGVBbnN3ZXIoY29ycmVjdEFuc3dlciwgdXNlckFuc3dlcik7XG4gIFxuICAgICAgaXRlbS5jcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgdGV4dDogdXNlckFuc3dlciB8fCAnKGVtcHR5KScsXG4gICAgICAgIGNsczogYHVzZXItYW5zd2VyICR7ZXZhbHVhdGlvbi5jb3JyZWN0bmVzc31gXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogJyBcdTIxOTIgJyB9KTtcbiAgICAgIFxuICAgICAgaXRlbS5jcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgdGV4dDogY29ycmVjdEFuc3dlcixcbiAgICAgICAgY2xzOiAnY29ycmVjdC1hbnN3ZXInXG4gICAgICB9KTtcbiAgXG4gICAgICBpZiAoZXZhbHVhdGlvbi5jb3JyZWN0bmVzcyA9PT0gJ3BhcnRpYWwnKSB7XG4gICAgICAgIGl0ZW0uY3JlYXRlRWwoJ3NtYWxsJywge1xuICAgICAgICAgIHRleHQ6IGAgKCR7TWF0aC5yb3VuZChldmFsdWF0aW9uLnNpbWlsYXJpdHkgKiAxMDApfSUgbWF0Y2gpYCxcbiAgICAgICAgICBjbHM6ICdzaW1pbGFyaXR5LWluZm8nXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1NjVCMFx1NjVCOVx1NkNENTpcdTRFQ0VcdTUzOUZcdTU5Q0JcdTY1ODdcdTY3MkNcdTYzRDBcdTUzRDZcdTYyNDBcdTY3MDlcdTYzMTZcdTdBN0FcdTdCNTRcdTY4NDhcbiAgcHJpdmF0ZSBleHRyYWN0Q2xvemVBbnN3ZXJzKG9yaWdpbmFsVGV4dDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IG1hdGNoZXMgPSBvcmlnaW5hbFRleHQubWF0Y2goLz09KFtePV0rKT09L2cpO1xuICAgIGlmICghbWF0Y2hlcykgcmV0dXJuIFtdO1xuICAgIFxuICAgIHJldHVybiBtYXRjaGVzLm1hcChtYXRjaCA9PiB7XG4gICAgICAvLyBcdTc5RkJcdTk2NjQgPT0gXHU2ODA3XHU4QkIwLFx1ODNCN1x1NTNENlx1N0I1NFx1Njg0OFxuICAgICAgcmV0dXJuIG1hdGNoLnJlcGxhY2UoLz09L2csICcnKS50cmltKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gXHU5NUVFXHU3QjU0XHU1MzYxXHU3MjQ3XHU2RTMyXHU2N0QzXHU1NjY4XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY2xhc3MgUUFDYXJkUmVuZGVyZXIgaW1wbGVtZW50cyBDYXJkUmVuZGVyU3RyYXRlZ3kge1xuICAgIHJlbmRlclF1ZXN0aW9uKFxuICAgICAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LCBcbiAgICAgICAgY2FyZDogRmxhc2hjYXJkLCBcbiAgICAgICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgICAgICB1cGRhdGVTdGF0ZTogeyAgLy8gXHUyNzA1IFx1NkRGQlx1NTJBMFx1NTNDMlx1NjU3MFxuICAgICAgICAgIHNldFVzZXJBbnN3ZXI6IChhbnN3ZXI6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgICBzZXRVc2VyQW5zd2VyczogKGFuc3dlcnM6IHN0cmluZ1tdKSA9PiB2b2lkO1xuICAgICAgICB9XG4gICAgICApOiB2b2lkIHtcbiAgICAvLyBcdTk1RUVcdTk4OThcdTY1ODdcdTY3MkNcbiAgICAgICAgY29uc3QgcXVlc3Rpb25UZXh0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3F1ZXN0aW9uLXRleHQnIH0pO1xuICAgICAgICBjb25zdCBpc1RhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KGNhcmQuZnJvbnQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzVGFibGUpIHtcbiAgICAgICAgICBjb25zdCB0YWJsZUVsID0gVGFibGVSZW5kZXJlci5yZW5kZXJUYWJsZShjYXJkLmZyb250LCBmYWxzZSk7XG4gICAgICAgICAgcXVlc3Rpb25UZXh0LmFwcGVuZENoaWxkKHRhYmxlRWwpO1xuICAgICAgICAgIHF1ZXN0aW9uVGV4dC5jbGFzc0xpc3QuYWRkKCd0YWJsZS1xdWVzdGlvbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHF1ZXN0aW9uVGV4dC50ZXh0Q29udGVudCA9IGNhcmQuZnJvbnQ7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gXHU4RjkzXHU1MTY1XHU2ODQ2XG4gICAgICAgIGNvbnN0IGlucHV0QXJlYSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdxYS1pbnB1dC1hcmVhJyB9KTtcbiAgICAgICAgaW5wdXRBcmVhLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1lvdXIgQW5zd2VyOicgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGlucHV0QXJlYS5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XG4gICAgICAgICAgcGxhY2Vob2xkZXI6ICdUeXBlIHlvdXIgYW5zd2VyIGhlcmUuLi4nLFxuICAgICAgICAgIGNsczogJ3FhLWlucHV0JyxcbiAgICAgICAgICB2YWx1ZTogc3RhdGUudXNlckFuc3dlclxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlLnNldFVzZXJBbnN3ZXIoKGUudGFyZ2V0IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpLnZhbHVlKTsgIC8vIFx1MjcwNSBcdTRGN0ZcdTc1MjhcdTU2REVcdThDMDNcbiAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGV4dGFyZWEuZm9jdXMoKSwgNTApO1xuICAgICAgfVxuXG4gIHJlbmRlckFuc3dlcihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGFuc3dlckFyZWEgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnYW5zd2VyLWFyZWEnIH0pO1xuICAgIFxuICAgIC8vIFx1ODNCN1x1NTNENlx1NkI2M1x1Nzg2RVx1N0I1NFx1Njg0OFxuICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBBcnJheS5pc0FycmF5KGNhcmQuYmFjaykgXG4gICAgICA/IChjYXJkLmJhY2tbMF0gfHwgY2FyZC5iYWNrLmpvaW4oJ1xcbicpKVxuICAgICAgOiBjYXJkLmJhY2sgYXMgc3RyaW5nO1xuICAgIFxuICAgIGNvbnN0IGlzVGFibGUgPSBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQoY29ycmVjdEFuc3dlcik7XG4gICAgY29uc3QgZXZhbHVhdGlvbiA9IHN0YXRlLnVzZXJBbnN3ZXIudHJpbSgpIFxuICAgICAgPyBzY2hlZHVsZXIuZXZhbHVhdGVBbnN3ZXIoY29ycmVjdEFuc3dlciwgc3RhdGUudXNlckFuc3dlcilcbiAgICAgIDogbnVsbDtcblxuICAgIGNvbnN0IGNvbXBhcmlzb24gPSBhbnN3ZXJBcmVhLmNyZWF0ZURpdih7IFxuICAgICAgY2xzOiAnYW5zd2VyLWNvbXBhcmlzb24gcWEtY29tcGFyaXNvbicgXG4gICAgfSk7XG4gICAgY29uc3QgY29sdW1uc0NvbnRhaW5lciA9IGNvbXBhcmlzb24uY3JlYXRlRGl2KHsgY2xzOiAncWEtY29sdW1ucy1jb250YWluZXInIH0pO1xuICAgIFxuICAgIC8vIFx1NURFNlx1NTIxN1x1RkYxQVx1NkI2M1x1Nzg2RVx1N0I1NFx1Njg0OFxuICAgIHRoaXMucmVuZGVyQ29ycmVjdEFuc3dlckNvbHVtbihjb2x1bW5zQ29udGFpbmVyLCBjb3JyZWN0QW5zd2VyLCBpc1RhYmxlKTtcbiAgICBcbiAgICAvLyBcdTUzRjNcdTUyMTdcdUZGMUFcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDhcbiAgICB0aGlzLnJlbmRlclVzZXJBbnN3ZXJDb2x1bW4oXG4gICAgICBjb2x1bW5zQ29udGFpbmVyLCBcbiAgICAgIHN0YXRlLnVzZXJBbnN3ZXIsIFxuICAgICAgaXNUYWJsZSwgXG4gICAgICBldmFsdWF0aW9uXG4gICAgKTtcblxuICAgIC8vIFx1NzZGOFx1NEYzQ1x1NUVBNlx1NEZFMVx1NjA2RlxuICAgIGlmIChldmFsdWF0aW9uPy5jb3JyZWN0bmVzcyA9PT0gJ3BhcnRpYWwnKSB7XG4gICAgICBjb25zdCBzaW1pbGFyaXR5SW5mbyA9IGNvbXBhcmlzb24uY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgY2xzOiAnc2ltaWxhcml0eS1pbmZvIHFhLXNpbWlsYXJpdHknXG4gICAgICB9KTtcbiAgICAgIHNpbWlsYXJpdHlJbmZvLnRleHRDb250ZW50ID0gYFNpbWlsYXJpdHk6ICR7TWF0aC5yb3VuZChldmFsdWF0aW9uLnNpbWlsYXJpdHkgKiAxMDApfSVgO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ29ycmVjdEFuc3dlckNvbHVtbihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIGNvcnJlY3RBbnN3ZXI6IHN0cmluZyxcbiAgICBpc1RhYmxlOiBib29sZWFuXG4gICkge1xuICAgIGNvbnN0IGNvcnJlY3RDb2x1bW4gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncWEtY29sdW1uJyB9KTtcbiAgICBjb3JyZWN0Q29sdW1uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0NvcnJlY3QgQW5zd2VyOicsIGNsczogJ2NvbHVtbi1sYWJlbCcgfSk7XG4gICAgY29uc3QgY29ycmVjdEFuc3dlckRpdiA9IGNvcnJlY3RDb2x1bW4uY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1pdGVtJyB9KTtcbiAgICBcbiAgICBpZiAoaXNUYWJsZSkge1xuICAgICAgY29uc3QgdGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGUoY29ycmVjdEFuc3dlciwgdHJ1ZSk7XG4gICAgICBjb3JyZWN0QW5zd2VyRGl2LmFwcGVuZENoaWxkKHRhYmxlRWwpO1xuICAgICAgY29ycmVjdEFuc3dlckRpdi5jbGFzc0xpc3QuYWRkKCd0YWJsZS1hbnN3ZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29ycmVjdEFuc3dlckRpdi5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICB0ZXh0OiBjb3JyZWN0QW5zd2VyLFxuICAgICAgICBjbHM6ICdjb3JyZWN0LWFuc3dlciBxYS1jb3JyZWN0LWFuc3dlcidcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVXNlckFuc3dlckNvbHVtbihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHVzZXJBbnN3ZXI6IHN0cmluZyxcbiAgICBpc1RhYmxlOiBib29sZWFuLFxuICAgIGV2YWx1YXRpb246IGFueVxuICApIHtcbiAgICBjb25zdCB1c2VyQ29sdW1uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3FhLWNvbHVtbicgfSk7XG4gICAgdXNlckNvbHVtbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdZb3VyIEFuc3dlcjonLCBjbHM6ICdjb2x1bW4tbGFiZWwnIH0pO1xuICAgIGNvbnN0IHVzZXJBbnN3ZXJEaXYgPSB1c2VyQ29sdW1uLmNyZWF0ZURpdih7IGNsczogJ2NvbXBhcmlzb24taXRlbScgfSk7XG5cbiAgICBjb25zdCBpc1VzZXJBbnN3ZXJUYWJsZSA9IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdCh1c2VyQW5zd2VyLnRyaW0oKSk7XG4gICAgY29uc3Qgc2hvdWxkUmVuZGVyQXNUYWJsZSA9IGlzVXNlckFuc3dlclRhYmxlIHx8IChpc1RhYmxlICYmIHVzZXJBbnN3ZXIudHJpbSgpKTtcblxuICAgIGlmIChzaG91bGRSZW5kZXJBc1RhYmxlICYmIHVzZXJBbnN3ZXIudHJpbSgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyVGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGUodXNlckFuc3dlciwgdHJ1ZSk7XG4gICAgICAgIHVzZXJBbnN3ZXJEaXYuYXBwZW5kQ2hpbGQodXNlclRhYmxlRWwpO1xuICAgICAgICB1c2VyQW5zd2VyRGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWFuc3dlcicpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV2YWx1YXRpb24pIHtcbiAgICAgICAgICB1c2VyQW5zd2VyRGl2LmNsYXNzTGlzdC5hZGQoJ3VzZXItYW5zd2VyJywgZXZhbHVhdGlvbi5jb3JyZWN0bmVzcyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dFVzZXJBbnN3ZXIodXNlckFuc3dlckRpdiwgdXNlckFuc3dlciwgZXZhbHVhdGlvbik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dFVzZXJBbnN3ZXIodXNlckFuc3dlckRpdiwgdXNlckFuc3dlciwgZXZhbHVhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUZXh0VXNlckFuc3dlcihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHVzZXJBbnN3ZXI6IHN0cmluZyxcbiAgICBldmFsdWF0aW9uOiBhbnlcbiAgKSB7XG4gICAgY29uc3QgdXNlckFuc3dlckVsZW1lbnQgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIHRleHQ6IHVzZXJBbnN3ZXIudHJpbSgpIHx8ICcobm8gYW5zd2VyIHByb3ZpZGVkKScsXG4gICAgICBjbHM6ICdxYS11c2VyLWFuc3dlcidcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoZXZhbHVhdGlvbikge1xuICAgICAgdXNlckFuc3dlckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndXNlci1hbnN3ZXInLCBldmFsdWF0aW9uLmNvcnJlY3RuZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlckFuc3dlckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbm8tYW5zd2VyJyk7XG4gICAgfVxuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFx1NTM2MVx1NzI0N1x1NkUzMlx1NjdEM1x1NTY2OFx1NURFNVx1NTM4MlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNsYXNzIENhcmRSZW5kZXJlckZhY3Rvcnkge1xuICBwcml2YXRlIHN0YXRpYyByZW5kZXJlcnMgPSBuZXcgTWFwPHN0cmluZywgQ2FyZFJlbmRlclN0cmF0ZWd5PihbXG4gICAgWydjbG96ZScsIG5ldyBDbG96ZUNhcmRSZW5kZXJlcigpXSxcbiAgICBbJ3FhJywgbmV3IFFBQ2FyZFJlbmRlcmVyKCldXG4gIF0pO1xuXG4gIHN0YXRpYyBnZXRSZW5kZXJlcihjYXJkVHlwZTogc3RyaW5nKTogQ2FyZFJlbmRlclN0cmF0ZWd5IHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXJzLmdldChjYXJkVHlwZSk7XG4gICAgaWYgKCFyZW5kZXJlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNhcmQgdHlwZTogJHtjYXJkVHlwZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xuICB9XG59IiwgIi8vIHN0YXNWaWV3LnRzXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQW5hbHl0aWNzRW5naW5lIH0gZnJvbSAnLi4vLi4vY29yZS9BbmFseXRpY3NFbmdpbmUnO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX1NUQVRTID0gJ2xlYXJuaW5nLXN5c3RlbS1zdGF0cyc7XG5cbmV4cG9ydCBjbGFzcyBTdGF0c1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG4gIHByaXZhdGUgYW5hbHl0aWNzOiBBbmFseXRpY3NFbmdpbmU7XG4gIHByaXZhdGUgY3VycmVudFRhYjogJ292ZXJ2aWV3JyB8ICd0cmVuZHMnIHwgJ2RlY2tzJyB8ICdkaWZmaWN1bHQnID0gJ292ZXJ2aWV3JztcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luKSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5hbmFseXRpY3MgPSBuZXcgQW5hbHl0aWNzRW5naW5lKHBsdWdpbik7XG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBWSUVXX1RZUEVfU1RBVFM7XG4gIH1cblxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnTGVhcm5pbmcgU3RhdGlzdGljcyc7XG4gIH1cblxuICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdiYXItY2hhcnQnO1xuICB9XG5cbiAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgLy8gXHVEODNDXHVERkFGIFx1ODlFM1x1OTUwMVx1N0NGQlx1N0VERlx1NjhDMFx1NjdFNVx1NzBCOVxuICBhd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25TdGF0c1BhZ2VWaXNpdGVkKCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgICB0aGlzLmFkZFN0eWxlcygpO1xuICB9XG5cbiAgYXN5bmMgb25DbG9zZSgpIHt9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoJ3N0YXRzLWNvbnRhaW5lcicpO1xuXG4gICAgLy8gXHU2ODA3XHU5ODk4XHU2ODBGXG4gICAgY29uc3QgaGVhZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLWhlYWRlcicgfSk7XG4gICAgaGVhZGVyLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1x1RDgzRFx1RENDQSBMZWFybmluZyBTdGF0aXN0aWNzJyB9KTtcblxuICAgIC8vIFx1NTIzN1x1NjVCMFx1NjMwOVx1OTRBRVxuICAgIGNvbnN0IHJlZnJlc2hCdG4gPSBoZWFkZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICdcdTI3RjMnLFxuICAgICAgY2xzOiAncmVmcmVzaC1idG4nXG4gICAgfSk7XG4gICAgcmVmcmVzaEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMucmVuZGVyKCkpO1xuXG4gICAgLy8gXHU2ODA3XHU3QjdFXHU5ODc1XG4gICAgdGhpcy5yZW5kZXJUYWJzKGNvbnRhaW5lcik7XG5cbiAgICAvLyBcdTUxODVcdTVCQjlcdTUzM0FcdTU3REZcbiAgICBjb25zdCBjb250ZW50ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLWNvbnRlbnQnIH0pO1xuXG4gICAgc3dpdGNoICh0aGlzLmN1cnJlbnRUYWIpIHtcbiAgICAgIGNhc2UgJ292ZXJ2aWV3JzpcbiAgICAgICAgdGhpcy5yZW5kZXJPdmVydmlldyhjb250ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0cmVuZHMnOlxuICAgICAgICB0aGlzLnJlbmRlclRyZW5kcyhjb250ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkZWNrcyc6XG4gICAgICAgIHRoaXMucmVuZGVyRGVja3MoY29udGVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGlmZmljdWx0JzpcbiAgICAgICAgdGhpcy5yZW5kZXJEaWZmaWN1bHQoY29udGVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVGFicyhjb250YWluZXI6IEVsZW1lbnQpIHtcbiAgICBjb25zdCB0YWJzID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLXRhYnMnIH0pO1xuXG4gICAgY29uc3QgdGFiQ29uZmlncyA9IFtcbiAgICAgIHsgaWQ6ICdvdmVydmlldycsIGxhYmVsOiAnXHVEODNEXHVEQ0NBIE92ZXJ2aWV3JyB9LFxuICAgICAgeyBpZDogJ3RyZW5kcycsIGxhYmVsOiAnXHVEODNEXHVEQ0M4IFRyZW5kcycgfSxcbiAgICAgIHsgaWQ6ICdkZWNrcycsIGxhYmVsOiAnXHVEODNEXHVEQ0RBIERlY2tzJyB9LFxuICAgICAgeyBpZDogJ2RpZmZpY3VsdCcsIGxhYmVsOiAnXHUyNkEwXHVGRTBGIERpZmZpY3VsdCcgfVxuICAgIF07XG5cbiAgICB0YWJDb25maWdzLmZvckVhY2goY29uZmlnID0+IHtcbiAgICAgIGNvbnN0IHRhYiA9IHRhYnMuY3JlYXRlRGl2KHtcbiAgICAgICAgY2xzOiBgdGFiICR7dGhpcy5jdXJyZW50VGFiID09PSBjb25maWcuaWQgPyAnYWN0aXZlJyA6ICcnfWBcbiAgICAgIH0pO1xuICAgICAgdGFiLnRleHRDb250ZW50ID0gY29uZmlnLmxhYmVsO1xuICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSBjb25maWcuaWQgYXMgYW55O1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck92ZXJ2aWV3KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdGF0cyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0U3RhdHMoKTtcbiAgICBjb25zdCB7IHRoaXNXZWVrLCBsYXN0V2VlayB9ID0gdGhpcy5hbmFseXRpY3MuZ2V0V2Vla2x5U3RhdHMoKTtcbiAgICBjb25zdCBkYWlseVN0YXRzID0gdGhpcy5hbmFseXRpY3MuZ2V0RGFpbHlTdGF0cyg3KTtcblxuICAgIC8vIFx1NTE3M1x1OTUyRVx1NjMwN1x1NjgwN1x1NTM2MVx1NzI0N1xuICAgIGNvbnN0IG1ldHJpY3NHcmlkID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ21ldHJpY3MtZ3JpZCcgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZU1ldHJpY0NhcmQobWV0cmljc0dyaWQsIHtcbiAgICAgIHRpdGxlOiAnVG90YWwgQ2FyZHMnLFxuICAgICAgdmFsdWU6IHN0YXRzLnRvdGFsLnRvU3RyaW5nKCksXG4gICAgICBpY29uOiAnXHVEODNDXHVEQ0NGJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5jcmVhdGVNZXRyaWNDYXJkKG1ldHJpY3NHcmlkLCB7XG4gICAgICB0aXRsZTogJ0R1ZSBUb2RheScsXG4gICAgICB2YWx1ZTogc3RhdHMuZHVlLnRvU3RyaW5nKCksXG4gICAgICBpY29uOiAnXHVEODNEXHVEQ0M1J1xuICAgIH0pO1xuXG4gICAgdGhpcy5jcmVhdGVNZXRyaWNDYXJkKG1ldHJpY3NHcmlkLCB7XG4gICAgICB0aXRsZTogJ1Jldmlld2VkIFRvZGF5JyxcbiAgICAgIHZhbHVlOiBzdGF0cy5yZXZpZXdlZFRvZGF5LnRvU3RyaW5nKCksXG4gICAgICBpY29uOiAnXHUyNzA1J1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RyZWFrID0gdGhpcy5hbmFseXRpY3MuY2FsY3VsYXRlU3RyZWFrKCk7XG4gICAgdGhpcy5jcmVhdGVNZXRyaWNDYXJkKG1ldHJpY3NHcmlkLCB7XG4gICAgICB0aXRsZTogJ0N1cnJlbnQgU3RyZWFrJyxcbiAgICAgIHZhbHVlOiBgJHtzdHJlYWt9IGRheXNgLFxuICAgICAgaWNvbjogJ1x1RDgzRFx1REQyNSdcbiAgICB9KTtcblxuICAgIC8vIFx1NjcyQ1x1NTQ2OCB2cyBcdTRFMEFcdTU0NjhcbiAgICBjb25zdCB3ZWVrQ29tcGFyaXNvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICd3ZWVrLWNvbXBhcmlzb24nIH0pO1xuICAgIHdlZWtDb21wYXJpc29uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1RoaXMgV2VlayB2cyBMYXN0IFdlZWsnIH0pO1xuXG4gICAgY29uc3QgY29tcGFyaXNvbkdyaWQgPSB3ZWVrQ29tcGFyaXNvbi5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWdyaWQnIH0pO1xuXG4gICAgY29uc3QgcmV2aWV3Q2hhbmdlID0gdGhpc1dlZWsudG90YWxSZXZpZXdzIC0gbGFzdFdlZWsudG90YWxSZXZpZXdzO1xuICAgIGNvbnN0IHJldmlld0NoYW5nZVBlcmNlbnQgPSBsYXN0V2Vlay50b3RhbFJldmlld3MgPiAwXG4gICAgICA/ICgocmV2aWV3Q2hhbmdlIC8gbGFzdFdlZWsudG90YWxSZXZpZXdzKSAqIDEwMCkudG9GaXhlZCgxKVxuICAgICAgOiAnMCc7XG5cbiAgICB0aGlzLmNyZWF0ZUNvbXBhcmlzb25JdGVtKGNvbXBhcmlzb25HcmlkLCB7XG4gICAgICBsYWJlbDogJ1Jldmlld3MnLFxuICAgICAgdGhpc1dlZWs6IHRoaXNXZWVrLnRvdGFsUmV2aWV3cyxcbiAgICAgIGxhc3RXZWVrOiBsYXN0V2Vlay50b3RhbFJldmlld3MsXG4gICAgICBjaGFuZ2U6IHJldmlld0NoYW5nZSxcbiAgICAgIGNoYW5nZVBlcmNlbnQ6IHJldmlld0NoYW5nZVBlcmNlbnRcbiAgICB9KTtcblxuICAgIGNvbnN0IHJhdGVDaGFuZ2UgPSAodGhpc1dlZWsuYXZlcmFnZUNvcnJlY3RSYXRlIC0gbGFzdFdlZWsuYXZlcmFnZUNvcnJlY3RSYXRlKSAqIDEwMDtcbiAgICB0aGlzLmNyZWF0ZUNvbXBhcmlzb25JdGVtKGNvbXBhcmlzb25HcmlkLCB7XG4gICAgICBsYWJlbDogJ0NvcnJlY3QgUmF0ZScsXG4gICAgICB0aGlzV2VlazogYCR7KHRoaXNXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lYCxcbiAgICAgIGxhc3RXZWVrOiBgJHsobGFzdFdlZWsuYXZlcmFnZUNvcnJlY3RSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVgLFxuICAgICAgY2hhbmdlOiByYXRlQ2hhbmdlLFxuICAgICAgY2hhbmdlUGVyY2VudDogcmF0ZUNoYW5nZS50b0ZpeGVkKDEpXG4gICAgfSk7XG5cbiAgICAvLyBcdTY3MDBcdThGRDE3XHU1OTI5XHU2RDNCXHU1MkE4XG4gICAgY29uc3QgcmVjZW50QWN0aXZpdHkgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncmVjZW50LWFjdGl2aXR5JyB9KTtcbiAgICByZWNlbnRBY3Rpdml0eS5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdMYXN0IDcgRGF5cyBBY3Rpdml0eScgfSk7XG5cbiAgICBjb25zdCBhY3Rpdml0eUNoYXJ0ID0gcmVjZW50QWN0aXZpdHkuY3JlYXRlRGl2KHsgY2xzOiAnYWN0aXZpdHktY2hhcnQnIH0pO1xuICAgIHRoaXMucmVuZGVyU2ltcGxlQmFyQ2hhcnQoYWN0aXZpdHlDaGFydCwgZGFpbHlTdGF0cyk7XG5cbiAgICAvLyBcdTc1MUZcdTYyMTBcdTYyQTVcdTU0NEFcdTYzMDlcdTk0QUVcbiAgICBjb25zdCByZXBvcnRTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3JlcG9ydC1zZWN0aW9uJyB9KTtcbiAgICBjb25zdCByZXBvcnRCdG4gPSByZXBvcnRTZWN0aW9uLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnXHVEODNEXHVEQ0M0IEdlbmVyYXRlIEZ1bGwgUmVwb3J0JyxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgcmVwb3J0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5nZW5lcmF0ZUFuZFNob3dSZXBvcnQoKSk7XG4gIFxuICAvLyBcdTZFMDVcdTk2NjRcdTdFREZcdThCQTFcdTYzMDlcdTk0QUVcbmNvbnN0IGNsZWFyQnRuID0gcmVwb3J0U2VjdGlvbi5jcmVhdGVFbCgnYnV0dG9uJywge1xuICB0ZXh0OiAnXHVEODNEXHVEREQxXHVGRTBGIENsZWFyIFN0YXRpc3RpY3MnLFxuICBjbHM6ICdtb2Qtd2FybmluZydcbn0pO1xuY2xlYXJCdG4uc3R5bGUubWFyZ2luTGVmdCA9ICcxMHB4JztcbmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93Q2xlYXJTdGF0c01vZGFsKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUcmVuZHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdQZXJmb3JtYW5jZSBUcmVuZHMnIH0pO1xuXG4gICAgY29uc3QgZGFpbHlTdGF0cyA9IHRoaXMuYW5hbHl0aWNzLmdldERhaWx5U3RhdHMoMzApO1xuXG4gICAgLy8gXHU2QjYzXHU3ODZFXHU3Mzg3XHU4RDhCXHU1MkJGXG4gICAgY29uc3QgY29ycmVjdFJhdGVTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LXNlY3Rpb24nIH0pO1xuICAgIGNvcnJlY3RSYXRlU2VjdGlvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdDb3JyZWN0IFJhdGUgKExhc3QgMzAgRGF5cyknIH0pO1xuICAgIGNvbnN0IGNvcnJlY3RSYXRlQ2hhcnQgPSBjb3JyZWN0UmF0ZVNlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnbGluZS1jaGFydCcgfSk7XG4gICAgdGhpcy5yZW5kZXJMaW5lQ2hhcnQoY29ycmVjdFJhdGVDaGFydCwgZGFpbHlTdGF0cywgJ2NvcnJlY3RSYXRlJyk7XG5cbiAgICAvLyBcdTZCQ0ZcdTY1RTVcdTU5MERcdTRFNjBcdTkxQ0ZcbiAgICBjb25zdCByZXZpZXdzU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjaGFydC1zZWN0aW9uJyB9KTtcbiAgICByZXZpZXdzU2VjdGlvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdEYWlseSBSZXZpZXdzJyB9KTtcbiAgICBjb25zdCByZXZpZXdzQ2hhcnQgPSByZXZpZXdzU2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdiYXItY2hhcnQnIH0pO1xuICAgIHRoaXMucmVuZGVyQmFyQ2hhcnQocmV2aWV3c0NoYXJ0LCBkYWlseVN0YXRzKTtcblxuICAgIC8vIFx1NzBFRFx1NTI5Qlx1NTZGRVxuICAgIGNvbnN0IGhlYXRtYXBTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LXNlY3Rpb24nIH0pO1xuICAgIGhlYXRtYXBTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1N0dWR5IEFjdGl2aXR5IENhbGVuZGFyJyB9KTtcbiAgICBjb25zdCBoZWF0bWFwID0gaGVhdG1hcFNlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnaGVhdG1hcCcgfSk7XG4gICAgdGhpcy5yZW5kZXJIZWF0bWFwKGhlYXRtYXApO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJEZWNrcyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0RlY2sgU3RhdGlzdGljcycgfSk7XG5cbiAgICBjb25zdCBkZWNrU3RhdHMgPSB0aGlzLmFuYWx5dGljcy5nZXREZWNrU3RhdHMoKTtcblxuICAgIGlmIChkZWNrU3RhdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250YWluZXIuY3JlYXRlRGl2KHsgXG4gICAgICAgIHRleHQ6ICdObyBkZWNrcyB5ZXQuIENyZWF0ZSBzb21lIGZsYXNoY2FyZHMgdG8gc2VlIGRlY2sgc3RhdGlzdGljcyEnLFxuICAgICAgICBjbHM6ICdlbXB0eS1tZXNzYWdlJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGVja3NHcmlkID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RlY2tzLWdyaWQnIH0pO1xuXG4gICAgZGVja1N0YXRzLmZvckVhY2goZGVjayA9PiB7XG4gICAgICBjb25zdCBkZWNrQ2FyZCA9IGRlY2tzR3JpZC5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLWNhcmQnIH0pO1xuXG4gICAgICBjb25zdCBoZWFkZXIgPSBkZWNrQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLWNhcmQtaGVhZGVyJyB9KTtcbiAgICAgIGhlYWRlci5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6IGRlY2suZGVja05hbWUgfSk7XG4gICAgICBcbiAgICAgIGhlYWRlci5jcmVhdGVTcGFuKHtcbiAgICAgICAgdGV4dDogYCR7ZGVjay50b3RhbENhcmRzfSBjYXJkc2AsXG4gICAgICAgIGNsczogJ2RlY2stYmFkZ2UnXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhdHMgPSBkZWNrQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLWNhcmQtc3RhdHMnIH0pO1xuXG4gICAgICB0aGlzLmNyZWF0ZVN0YXRSb3coc3RhdHMsICdEdWUnLCBkZWNrLmR1ZUNhcmRzLnRvU3RyaW5nKCksICdcdUQ4M0RcdURDQzUnKTtcbiAgICAgIHRoaXMuY3JlYXRlU3RhdFJvdyhzdGF0cywgJ05ldycsIGRlY2submV3Q2FyZHMudG9TdHJpbmcoKSwgJ1x1RDgzQ1x1REQ5NScpO1xuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KFxuICAgICAgICBzdGF0cywgXG4gICAgICAgICdDb3JyZWN0IFJhdGUnLCBcbiAgICAgICAgYCR7KGRlY2suY29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JWAsXG4gICAgICAgICdcdTI3MDUnXG4gICAgICApO1xuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KFxuICAgICAgICBzdGF0cyxcbiAgICAgICAgJ0F2ZyBJbnRlcnZhbCcsXG4gICAgICAgIGAke2RlY2suYXZlcmFnZUludGVydmFsLnRvRml4ZWQoMSl9IGRheXNgLFxuICAgICAgICAnXHVEODNEXHVEQ0NBJ1xuICAgICAgKTtcblxuICAgICAgLy8gXHU4RkRCXHU1RUE2XHU2NzYxXG4gICAgICBjb25zdCBwcm9ncmVzcyA9IGRlY2tDYXJkLmNyZWF0ZURpdih7IGNsczogJ2RlY2stcHJvZ3Jlc3MnIH0pO1xuICAgICAgY29uc3QgbWFzdGVyZWRDb3VudCA9IGRlY2sudG90YWxDYXJkcyAtIGRlY2suZHVlQ2FyZHMgLSBkZWNrLm5ld0NhcmRzO1xuICAgICAgY29uc3QgbWFzdGVyZWRQZXJjZW50ID0gKG1hc3RlcmVkQ291bnQgLyBkZWNrLnRvdGFsQ2FyZHMpICogMTAwO1xuICAgICAgXG4gICAgICBjb25zdCBwcm9ncmVzc0JhciA9IHByb2dyZXNzLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWJhci1jb250YWluZXInIH0pO1xuICAgICAgY29uc3QgYmFyID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3MtYmFyLWZpbGwnIH0pO1xuICAgICAgYmFyLnN0eWxlLndpZHRoID0gYCR7bWFzdGVyZWRQZXJjZW50fSVgO1xuICAgICAgXG4gICAgICBwcm9ncmVzcy5jcmVhdGVEaXYoe1xuICAgICAgICB0ZXh0OiBgJHttYXN0ZXJlZFBlcmNlbnQudG9GaXhlZCgwKX0lIG1hc3RlcmVkYCxcbiAgICAgICAgY2xzOiAncHJvZ3Jlc3MtbGFiZWwnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRGlmZmljdWx0KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb250YWluZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQ2FyZHMgTmVlZGluZyBBdHRlbnRpb24nIH0pO1xuXG4gICAgY29uc3QgZGlmZmljdWx0Q2FyZHMgPSB0aGlzLmFuYWx5dGljcy5nZXREaWZmaWN1bHRDYXJkcygxMCk7XG5cbiAgICBpZiAoZGlmZmljdWx0Q2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250YWluZXIuY3JlYXRlRGl2KHtcbiAgICAgICAgdGV4dDogJ1x1RDgzQ1x1REY4OSBObyBkaWZmaWN1bHQgY2FyZHMhIEdyZWF0IGpvYiEnLFxuICAgICAgICBjbHM6ICdlbXB0eS1tZXNzYWdlJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2FyZHNMaXN0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RpZmZpY3VsdC1jYXJkcy1saXN0JyB9KTtcblxuICAgIGRpZmZpY3VsdENhcmRzLmZvckVhY2goKGRjLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgY2FyZEl0ZW0gPSBjYXJkc0xpc3QuY3JlYXRlRGl2KHsgY2xzOiAnZGlmZmljdWx0LWNhcmQtaXRlbScgfSk7XG5cbiAgICAgIGNvbnN0IHJhbmsgPSBjYXJkSXRlbS5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLXJhbmsnIH0pO1xuICAgICAgcmFuay50ZXh0Q29udGVudCA9IGAke2luZGV4ICsgMX1gO1xuXG4gICAgICBjb25zdCBjb250ZW50ID0gY2FyZEl0ZW0uY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1jb250ZW50JyB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcXVlc3Rpb24gPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2NhcmQtcXVlc3Rpb24nIH0pO1xuICAgICAgcXVlc3Rpb24udGV4dENvbnRlbnQgPSBkYy5jYXJkLmZyb250LnN1YnN0cmluZygwLCA4MCkgKyBcbiAgICAgICAgKGRjLmNhcmQuZnJvbnQubGVuZ3RoID4gODAgPyAnLi4uJyA6ICcnKTtcblxuICAgICAgY29uc3QgbWV0YSA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1tZXRhJyB9KTtcblxuICAgICAgY29uc3QgcGF0dGVybkVtb2ppOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAnY29uY2VwdCc6ICdcdUQ4M0VcdURERTAnLFxuICAgICAgICAnbWVtb3J5JzogJ1x1RDgzRFx1RENBRCcsXG4gICAgICAgICdjYWxjdWxhdGlvbic6ICdcdUQ4M0RcdUREMjInLFxuICAgICAgICAndW5rbm93bic6ICdcdTI3NTMnXG4gICAgICB9O1xuXG4gICAgICBtZXRhLmNyZWF0ZVNwYW4oe1xuICAgICAgICB0ZXh0OiBgJHtwYXR0ZXJuRW1vamlbZGMucGF0dGVybl19ICR7ZGMucGF0dGVybn1gLFxuICAgICAgICBjbHM6ICdwYXR0ZXJuLWJhZGdlJ1xuICAgICAgfSk7XG5cbiAgICAgIG1ldGEuY3JlYXRlU3Bhbih7XG4gICAgICAgIHRleHQ6IGAke2RjLmVycm9yQ291bnR9IGVycm9yc2AsXG4gICAgICAgIGNsczogJ2Vycm9yLWNvdW50J1xuICAgICAgfSk7XG5cbiAgICAgIG1ldGEuY3JlYXRlU3Bhbih7XG4gICAgICAgIHRleHQ6IGAke2RjLmF2ZXJhZ2VUaW1lLnRvRml4ZWQoMSl9cyBhdmdgLFxuICAgICAgICBjbHM6ICdhdmctdGltZSdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcdTk2QkVcdTVFQTZcdTY3NjFcbiAgICAgIGNvbnN0IGRpZmZpY3VsdHlCYXIgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2RpZmZpY3VsdHktYmFyLWNvbnRhaW5lcicgfSk7XG4gICAgICBjb25zdCBkaWZmQmFyID0gZGlmZmljdWx0eUJhci5jcmVhdGVEaXYoeyBjbHM6ICdkaWZmaWN1bHR5LWJhcicgfSk7XG4gICAgICBkaWZmQmFyLnN0eWxlLndpZHRoID0gYCR7ZGMuY2FyZC5zdGF0cy5kaWZmaWN1bHR5ICogMTAwfSVgO1xuXG4gICAgICAvLyBcdTY0Q0RcdTRGNUNcdTYzMDlcdTk0QUVcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBjYXJkSXRlbS5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWFjdGlvbnMnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBqdW1wQnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgICB0ZXh0OiAnXHUyMTk3JyxcbiAgICAgICAgY2xzOiAnYWN0aW9uLWJ0bi1zbWFsbCdcbiAgICAgIH0pO1xuICAgICAganVtcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuanVtcFRvQ2FyZChkYy5jYXJkKSk7XG5cbiAgICAgIGNvbnN0IHJldmlld0J0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgICAgdGV4dDogJ1x1RDgzRFx1REQwNCcsXG4gICAgICAgIGNsczogJ2FjdGlvbi1idG4tc21hbGwnXG4gICAgICB9KTtcbiAgICAgIHJldmlld0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wbHVnaW4uYWN0aXZhdGVSZXZpZXcoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZWxldGVCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgIHRleHQ6ICdcdUQ4M0RcdURERDFcdUZFMEYnLFxuICAgICAgICBjbHM6ICdhY3Rpb24tYnRuLXNtYWxsIGRlbGV0ZS1idG4nXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGNvbmZpcm0oJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NFx1OEZEOVx1NUYyMFx1OTVFQVx1NTM2MVx1NTQxN1x1RkYxRicpKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVGbGFzaGNhcmQoZGMuY2FyZC5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVNZXRyaWNDYXJkKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY29uZmlnOiB7IHRpdGxlOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IGljb246IHN0cmluZyB9XG4gICkge1xuICAgIGNvbnN0IGNhcmQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnbWV0cmljLWNhcmQnIH0pO1xuICAgIFxuICAgIGNhcmQuY3JlYXRlRGl2KHsgdGV4dDogY29uZmlnLmljb24sIGNsczogJ21ldHJpYy1pY29uJyB9KTtcbiAgICBcbiAgICBjb25zdCBjb250ZW50ID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdtZXRyaWMtY29udGVudCcgfSk7XG4gICAgY29udGVudC5jcmVhdGVEaXYoeyB0ZXh0OiBjb25maWcudGl0bGUsIGNsczogJ21ldHJpYy10aXRsZScgfSk7XG4gICAgY29udGVudC5jcmVhdGVEaXYoeyB0ZXh0OiBjb25maWcudmFsdWUsIGNsczogJ21ldHJpYy12YWx1ZScgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNvbXBhcmlzb25JdGVtKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY29uZmlnOiB7XG4gICAgICBsYWJlbDogc3RyaW5nO1xuICAgICAgdGhpc1dlZWs6IG51bWJlciB8IHN0cmluZztcbiAgICAgIGxhc3RXZWVrOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgICBjaGFuZ2U6IG51bWJlcjtcbiAgICAgIGNoYW5nZVBlcmNlbnQ6IHN0cmluZztcbiAgICB9XG4gICkge1xuICAgIGNvbnN0IGl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1pdGVtJyB9KTtcbiAgICBcbiAgICBpdGVtLmNyZWF0ZURpdih7IHRleHQ6IGNvbmZpZy5sYWJlbCwgY2xzOiAnY29tcGFyaXNvbi1sYWJlbCcgfSk7XG4gICAgXG4gICAgY29uc3QgdmFsdWVzID0gaXRlbS5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLXZhbHVlcycgfSk7XG4gICAgdmFsdWVzLmNyZWF0ZVNwYW4oeyBcbiAgICAgIHRleHQ6IGAke2NvbmZpZy50aGlzV2Vla31gLFxuICAgICAgY2xzOiAndGhpcy13ZWVrJ1xuICAgIH0pO1xuICAgIHZhbHVlcy5jcmVhdGVTcGFuKHsgdGV4dDogJyB2cyAnLCBjbHM6ICd2cycgfSk7XG4gICAgdmFsdWVzLmNyZWF0ZVNwYW4oe1xuICAgICAgdGV4dDogYCR7Y29uZmlnLmxhc3RXZWVrfWAsXG4gICAgICBjbHM6ICdsYXN0LXdlZWsnXG4gICAgfSk7XG5cbiAgICBjb25zdCBjaGFuZ2VDbGFzcyA9IGNvbmZpZy5jaGFuZ2UgPiAwID8gJ3Bvc2l0aXZlJyA6IGNvbmZpZy5jaGFuZ2UgPCAwID8gJ25lZ2F0aXZlJyA6ICduZXV0cmFsJztcbiAgICBjb25zdCBjaGFuZ2VJY29uID0gY29uZmlnLmNoYW5nZSA+IDAgPyAnXHUyMTk3JyA6IGNvbmZpZy5jaGFuZ2UgPCAwID8gJ1x1MjE5OCcgOiAnXHUyMTkyJztcbiAgICBcbiAgICBpdGVtLmNyZWF0ZURpdih7XG4gICAgICB0ZXh0OiBgJHtjaGFuZ2VJY29ufSAke2NvbmZpZy5jaGFuZ2VQZXJjZW50fSVgLFxuICAgICAgY2xzOiBgY2hhbmdlICR7Y2hhbmdlQ2xhc3N9YFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTdGF0Um93KFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgbGFiZWw6IHN0cmluZyxcbiAgICB2YWx1ZTogc3RyaW5nLFxuICAgIGljb246IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCByb3cgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdC1yb3cnIH0pO1xuICAgIHJvdy5jcmVhdGVTcGFuKHsgdGV4dDogaWNvbiwgY2xzOiAnc3RhdC1pY29uJyB9KTtcbiAgICByb3cuY3JlYXRlU3Bhbih7IHRleHQ6IGxhYmVsLCBjbHM6ICdzdGF0LWxhYmVsJyB9KTtcbiAgICByb3cuY3JlYXRlU3Bhbih7IHRleHQ6IHZhbHVlLCBjbHM6ICdzdGF0LXZhbHVlJyB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyU2ltcGxlQmFyQ2hhcnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZGF0YTogYW55W10pIHtcbiAgICBjb25zdCBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLmRhdGEubWFwKGQgPT4gZC5yZXZpZXdlZCkpO1xuXG4gICAgZGF0YS5mb3JFYWNoKHN0YXQgPT4ge1xuICAgICAgY29uc3QgYmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3NpbXBsZS1iYXInIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RhdC5kYXRlKTtcbiAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IHdlZWtkYXk6ICdzaG9ydCcgfSk7XG4gICAgICBcbiAgICAgIGJhci5jcmVhdGVEaXYoeyB0ZXh0OiBkYXlOYW1lLCBjbHM6ICdiYXItbGFiZWwnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBiYXJDb250YWluZXIgPSBiYXIuY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWNvbnRhaW5lcicgfSk7XG4gICAgICBjb25zdCBiYXJGaWxsID0gYmFyQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2Jhci1maWxsJyB9KTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IG1heFZhbHVlID4gMCA/IChzdGF0LnJldmlld2VkIC8gbWF4VmFsdWUpICogMTAwIDogMDtcbiAgICAgIGJhckZpbGwuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fSVgO1xuICAgICAgXG4gICAgICBiYXIuY3JlYXRlRGl2KHsgdGV4dDogc3RhdC5yZXZpZXdlZC50b1N0cmluZygpLCBjbHM6ICdiYXItdmFsdWUnIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJCYXJDaGFydChjb250YWluZXI6IEhUTUxFbGVtZW50LCBkYXRhOiBhbnlbXSkge1xuICAgIGNvbnN0IGNoYXJ0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LWNhbnZhcycgfSk7XG4gICAgY29uc3QgbWF4VmFsdWUgPSBNYXRoLm1heCguLi5kYXRhLm1hcChkID0+IGQucmV2aWV3ZWQpKTtcblxuICAgIGRhdGEuZm9yRWFjaChzdGF0ID0+IHtcbiAgICAgIGNvbnN0IGJhckdyb3VwID0gY2hhcnQuY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWdyb3VwJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFyQ29udGFpbmVyID0gYmFyR3JvdXAuY3JlYXRlRGl2KHsgY2xzOiAnYmFyJyB9KTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IG1heFZhbHVlID4gMCA/IChzdGF0LnJldmlld2VkIC8gbWF4VmFsdWUpICogMTAwIDogMDtcbiAgICAgIGJhckNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9JWA7XG4gICAgICBiYXJDb250YWluZXIudGl0bGUgPSBgJHtzdGF0LnJldmlld2VkfSByZXZpZXdzYDtcbiAgICAgIFxuICAgICAgY29uc3QgYmFyTGFiZWwgPSBiYXJHcm91cC5jcmVhdGVEaXYoeyBjbHM6ICdiYXItbGFiZWwnIH0pO1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHN0YXQuZGF0ZSk7XG4gICAgICBiYXJMYWJlbC50ZXh0Q29udGVudCA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckxpbmVDaGFydChjb250YWluZXI6IEhUTUxFbGVtZW50LCBkYXRhOiBhbnlbXSwga2V5OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjaGFydCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdsaW5lLWNoYXJ0LWNhbnZhcycgfSk7XG4gICAgXG4gICAgY29uc3QgcG9pbnRzID0gZGF0YS5tYXAoKHN0YXQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHggPSAoaSAvIChkYXRhLmxlbmd0aCAtIDEpKSAqIDEwMDtcbiAgICAgIGNvbnN0IHkgPSAxMDAgLSAoc3RhdFtrZXldICogMTAwKTtcbiAgICAgIHJldHVybiB7IHgsIHksIHZhbHVlOiBzdGF0W2tleV0gfTtcbiAgICB9KTtcblxuICAgIC8vIFx1NTIxQlx1NUVGQVNWR1xuICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgMTAwIDEwMCcpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAnbm9uZScpO1xuICAgIHN2Zy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBzdmcuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NjI5OFx1N0VCRlx1OERFRlx1NUY4NFxuICAgIGNvbnN0IHBhdGhEYXRhID0gcG9pbnRzLm1hcCgocCwgaSkgPT4gXG4gICAgICBgJHtpID09PSAwID8gJ00nIDogJ0wnfSAke3AueH0gJHtwLnl9YFxuICAgICkuam9pbignICcpO1xuXG4gICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCdkJywgcGF0aERhdGEpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknKTtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzInKTtcblxuICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICBjaGFydC5hcHBlbmRDaGlsZChzdmcpO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1MDNDXHU2ODA3XHU3QjdFXG4gICAgY29uc3QgbGFiZWxzQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LWxhYmVscycgfSk7XG4gICAgZGF0YS5mb3JFYWNoKChzdGF0LCBpKSA9PiB7XG4gICAgICBpZiAoaSAlIE1hdGguY2VpbChkYXRhLmxlbmd0aCAvIDcpID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0TGFiZWwgPSBsYWJlbHNDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2hhcnQtbGFiZWwnIH0pO1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RhdC5kYXRlKTtcbiAgICAgICAgY2hhcnRMYWJlbC50ZXh0Q29udGVudCA9IGAke2RhdGUuZ2V0TW9udGgoKSArIDF9LyR7ZGF0ZS5nZXREYXRlKCl9YDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVySGVhdG1hcChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgaGVhdG1hcERhdGEgPSB0aGlzLmFuYWx5dGljcy5nZXRIZWF0bWFwRGF0YSg5MCk7XG4gICAgXG4gICAgLy8gXHU2MzA5XHU1NDY4XHU1MjA2XHU3RUM0XG4gICAgY29uc3Qgd2Vla3M6IGFueVtdW10gPSBbXTtcbiAgICBsZXQgY3VycmVudFdlZWs6IGFueVtdID0gW107XG4gICAgXG4gICAgaGVhdG1hcERhdGEuZm9yRWFjaCgoZGF5LCBpKSA9PiB7XG4gICAgICBjdXJyZW50V2Vlay5wdXNoKGRheSk7XG4gICAgICBpZiAoY3VycmVudFdlZWsubGVuZ3RoID09PSA3IHx8IGkgPT09IGhlYXRtYXBEYXRhLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgd2Vla3MucHVzaChjdXJyZW50V2Vlayk7XG4gICAgICAgIGN1cnJlbnRXZWVrID0gW107XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3ZWVrcy5mb3JFYWNoKHdlZWsgPT4ge1xuICAgICAgY29uc3Qgd2Vla1JvdyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdoZWF0bWFwLXdlZWsnIH0pO1xuICAgICAgXG4gICAgICB3ZWVrLmZvckVhY2goZGF5ID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IHdlZWtSb3cuY3JlYXRlRGl2KHsgY2xzOiAnaGVhdG1hcC1jZWxsJyB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NUYzQVx1NUVBNlx1N0I0OVx1N0VBNyAwLTRcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBNYXRoLmNlaWwoZGF5LmludGVuc2l0eSAqIDQpO1xuICAgICAgICBjZWxsLmFkZENsYXNzKGBsZXZlbC0ke2xldmVsfWApO1xuICAgICAgICBcbiAgICAgICAgY2VsbC50aXRsZSA9IGAke2RheS5kYXRlfTogJHtkYXkuY291bnR9IHJldmlld3NgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG5cbiAgcHJpdmF0ZSBhc3luYyBqdW1wVG9DYXJkKGNhcmQ6IGFueSkge1xuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoY2FyZC5zb3VyY2VGaWxlKTtcbiAgICBpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNhcmQuc291cmNlQ29udGVudElkKTtcbiAgICBpZiAoIWNvbnRlbnRVbml0KSByZXR1cm47XG5cbiAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShJdGVtVmlldyk7XG4gICAgICBpZiAodmlldykge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSAodmlldyBhcyBhbnkpLmVkaXRvcjtcbiAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfSk7XG4gICAgICAgICAgZWRpdG9yLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICAgIGZyb206IHsgbGluZTogY29udGVudFVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmUsIGNoOiAwIH0sXG4gICAgICAgICAgICB0bzogeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfVxuICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlRmxhc2hjYXJkKGNhcmRJZDogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZGVsZXRlQ2FyZChjYXJkSWQpO1xuICAgICAgbmV3IE5vdGljZSgnXHVEODNEXHVEREQxXHVGRTBGIFx1OTVFQVx1NTM2MVx1NURGMlx1NTIyMFx1OTY2NCcpO1xuICAgICAgdGhpcy5yZW5kZXIoKTsgLy8gXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU4OUM2XHU1NkZFXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdcdTI3NEMgXHU1MjIwXHU5NjY0XHU5NUVBXHU1MzYxXHU1OTMxXHU4RDI1Jyk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgc2hvd0NsZWFyU3RhdHNNb2RhbCgpIHtcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250YWluZXInO1xuICAgIG1vZGFsLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1iZ1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkNsZWFyIFN0YXRpc3RpY3M8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8cD5DaG9vc2Ugd2hhdCBzdGF0aXN0aWNzIHRvIGNsZWFyOjwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXItb3B0aW9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsZWFyLW9wdGlvbi1idG5cIiBkYXRhLWFjdGlvbj1cImFsbFwiPlxuICAgICAgICAgICAgICBcdUQ4M0RcdURERDFcdUZFMEYgQ2xlYXIgQWxsIFN0YXRpc3RpY3NcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tZGVzY1wiPlJlc2V0IGFsbCBjYXJkcyBhbmQgcmV2aWV3IGxvZ3M8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbGVhci1vcHRpb24tYnRuXCIgZGF0YS1hY3Rpb249XCJvbGRcIj5cbiAgICAgICAgICAgICAgXHVEODNEXHVEQ0M1IENsZWFyIE9sZCBEYXRhICgzMCsgZGF5cylcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tZGVzY1wiPktlZXAgcmVjZW50IDMwIGRheXMgb25seTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsZWFyLW9wdGlvbi1idG5cIiBkYXRhLWFjdGlvbj1cImRlY2tcIj5cbiAgICAgICAgICAgICAgXHVEODNEXHVEQ0RBIENsZWFyIFNwZWNpZmljIERlY2tcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tZGVzY1wiPkNob29zZSBhIGRlY2sgdG8gcmVzZXQ8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZC1jdGEgY2FuY2VsLWJ0blwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICBcbiAgICAvLyBcdTUzRDZcdTZEODhcdTYzMDlcdTk0QUVcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgIH0pO1xuICBcbiAgICAvLyBcdTZFMDVcdTk2NjRcdTYyNDBcdTY3MDlcdTdFREZcdThCQTFcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJhbGxcIl0nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoY29uZmlybSgnXHUyNkEwXHVGRTBGIFRoaXMgd2lsbCByZXNldCBBTEwgc3RhdGlzdGljcyBhbmQgY2FyZCBwcm9ncmVzcy4gQXJlIHlvdSBzdXJlPycpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYW5hbHl0aWNzLmNsZWFyQWxsU3RhdHMoKTtcbiAgICAgICAgbmV3IE5vdGljZSgnXHUyNzA1IEFsbCBzdGF0aXN0aWNzIGNsZWFyZWQnKTtcbiAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIC8vIFx1NkUwNVx1OTY2NFx1NjVFN1x1NjU3MFx1NjM2RVxuICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGlvbj1cIm9sZFwiXScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChjb25maXJtKCdDbGVhciBzdGF0aXN0aWNzIG9sZGVyIHRoYW4gMzAgZGF5cz8nKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmFuYWx5dGljcy5jbGVhclN0YXRzQmVmb3JlRGF0ZSgzMCk7XG4gICAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBPbGQgc3RhdGlzdGljcyBjbGVhcmVkJyk7XG4gICAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTZFMDVcdTk2NjRcdTcyNzlcdTVCOUFcdTUzNjFcdTdFQzRcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJkZWNrXCJdJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICB0aGlzLnNob3dEZWNrU2VsZWN0aW9uTW9kYWwoKTtcbiAgICB9KTtcbiAgXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU4MENDXHU2NjZGXHU1MTczXHU5NUVEXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIHByaXZhdGUgc2hvd0RlY2tTZWxlY3Rpb25Nb2RhbCgpIHtcbiAgICBjb25zdCBkZWNrU3RhdHMgPSB0aGlzLmFuYWx5dGljcy5nZXREZWNrU3RhdHMoKTtcbiAgICBcbiAgICBpZiAoZGVja1N0YXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbmV3IE5vdGljZSgnTm8gZGVja3MgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250YWluZXInO1xuICAgIFxuICAgIGxldCBvcHRpb25zSHRtbCA9ICcnO1xuICAgIGRlY2tTdGF0cy5mb3JFYWNoKGRlY2sgPT4ge1xuICAgICAgb3B0aW9uc0h0bWwgKz0gYFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2xlYXItb3B0aW9uLWJ0biBkZWNrLW9wdGlvblwiIGRhdGEtZGVjaz1cIiR7ZGVjay5kZWNrTmFtZX1cIj5cbiAgICAgICAgICBcdUQ4M0RcdURDREEgJHtkZWNrLmRlY2tOYW1lfVxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLWRlc2NcIj4ke2RlY2sudG90YWxDYXJkc30gY2FyZHM8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgYDtcbiAgICB9KTtcbiAgXG4gICAgbW9kYWwuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJnXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWxcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+U2VsZWN0IERlY2sgdG8gQ2xlYXI8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXItb3B0aW9uc1wiPlxuICAgICAgICAgICAgJHtvcHRpb25zSHRtbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZC1jdGEgY2FuY2VsLWJ0blwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICBcbiAgICAvLyBcdTUzRDZcdTZEODhcdTYzMDlcdTk0QUVcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgIH0pO1xuICBcbiAgICAvLyBcdTUzNjFcdTdFQzRcdTkwMDlcdTk4NzlcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVjay1vcHRpb24nKS5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlY2tOYW1lID0gKGJ0biBhcyBIVE1MRWxlbWVudCkuZGF0YXNldC5kZWNrO1xuICAgICAgICBpZiAoZGVja05hbWUgJiYgY29uZmlybShgQ2xlYXIgc3RhdGlzdGljcyBmb3IgZGVjayBcIiR7ZGVja05hbWV9XCI/YCkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmFuYWx5dGljcy5jbGVhckRlY2tTdGF0cyhkZWNrTmFtZSk7XG4gICAgICAgICAgbmV3IE5vdGljZShgXHUyNzA1IFN0YXRpc3RpY3MgY2xlYXJlZCBmb3IgJHtkZWNrTmFtZX1gKTtcbiAgICAgICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU4MENDXHU2NjZGXHU1MTczXHU5NUVEXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWJnJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgXG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUFuZFNob3dSZXBvcnQoKSB7XG4gICAgY29uc3QgcmVwb3J0ID0gdGhpcy5hbmFseXRpY3MuZ2VuZXJhdGVSZXBvcnQoMzApO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NEUwMFx1NEUyQVx1NjVCMFx1NzY4NFx1NjU4N1x1NEVGNlx1Njc2NVx1NEZERFx1NUI1OFx1NjJBNVx1NTQ0QVxuICAgIGNvbnN0IGZpbGVOYW1lID0gYExlYXJuaW5nIFJlcG9ydCAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5tZGA7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjU4N1x1NEVGNlx1NjYyRlx1NTQyNlx1NURGMlx1NUI1OFx1NTcyOFxuICAgICAgbGV0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZU5hbWUpO1xuICAgICAgXG4gICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgIC8vIFx1NjU4N1x1NEVGNlx1NUI1OFx1NTcyOFx1RkYwQ1x1OEJFMlx1OTVFRVx1NjYyRlx1NTQyNlx1ODk4Nlx1NzZENlxuICAgICAgICBpZiAoIWNvbmZpcm0oYFJlcG9ydCBcIiR7ZmlsZU5hbWV9XCIgYWxyZWFkeSBleGlzdHMuIE92ZXJ3cml0ZT9gKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgcmVwb3J0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NjU4N1x1NEVGNlxuICAgICAgICBmaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVOYW1lLCByZXBvcnQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTYyNTNcdTVGMDBcdTYyQTVcdTU0NEFcdTY1ODdcdTRFRjZcbiAgICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSk7XG4gICAgICBhd2FpdCBsZWFmLm9wZW5GaWxlKGZpbGUgYXMgVEZpbGUpO1xuICAgICAgXG4gICAgICBuZXcgTm90aWNlKCdcdUQ4M0RcdURDQ0EgUmVwb3J0IGdlbmVyYXRlZCEnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyByZXBvcnQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzRDIEZhaWxlZCB0byBnZW5lcmF0ZSByZXBvcnQnKTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBhZGRTdHlsZXMoKSB7XG4gICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGBcbiAgICAgIC5zdGF0cy1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtaGVhZGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtaGVhZGVyIGgyIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtdGFicyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgfVxuXG4gICAgICAudGFiIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgfVxuXG4gICAgICAudGFiOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICB9XG5cbiAgICAgIC50YWIuYWN0aXZlIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWNzLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgfVxuXG4gICAgICAubWV0cmljLWNhcmQge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAubWV0cmljLWljb24ge1xuICAgICAgICBmb250LXNpemU6IDMycHg7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWMtY29udGVudCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWMtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICAgIH1cblxuICAgICAgLm1ldHJpYy12YWx1ZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS44ZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB9XG5cbiAgICAgIC53ZWVrLWNvbXBhcmlzb24ge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi1ncmlkIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi1pdGVtIHtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLmNvbXBhcmlzb24tbGFiZWwge1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi12YWx1ZXMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnRoaXMtd2VlayB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4xZW07XG4gICAgICB9XG5cbiAgICAgIC5sYXN0LXdlZWsge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICB9XG5cbiAgICAgIC5jaGFuZ2Uge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLmNoYW5nZS5wb3NpdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2Vzcyk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICB9XG5cbiAgICAgIC5jaGFuZ2UubmVnYXRpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKTtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgfVxuXG4gICAgICAuY2hhcnQtc2VjdGlvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICB9XG5cbiAgICAgIC5yZWNlbnQtYWN0aXZpdHkgLmFjdGl2aXR5LWNoYXJ0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAgaGVpZ2h0OiAxNTBweDtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5zaW1wbGUtYmFyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC5zaW1wbGUtYmFyIC5iYXItY29udGFpbmVyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5zaW1wbGUtYmFyIC5iYXItZmlsbCB7XG4gICAgICAgIHdpZHRoOiA2MCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBoZWlnaHQgMC4zcztcbiAgICAgIH1cblxuICAgICAgLmJhci1sYWJlbCwgLmJhci12YWx1ZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICB9XG5cbiAgICAgIC5oZWF0bWFwIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgfVxuXG4gICAgICAuaGVhdG1hcC13ZWVrIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC5oZWF0bWFwLWNlbGwge1xuICAgICAgICB3aWR0aDogMTJweDtcbiAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgLmhlYXRtYXAtY2VsbC5sZXZlbC0xIHsgYmFja2dyb3VuZDogcmdiYSg5NCwgMTU2LCAyMzUsIDAuMyk7IH1cbiAgICAgIC5oZWF0bWFwLWNlbGwubGV2ZWwtMiB7IGJhY2tncm91bmQ6IHJnYmEoOTQsIDE1NiwgMjM1LCAwLjUpOyB9XG4gICAgICAuaGVhdG1hcC1jZWxsLmxldmVsLTMgeyBiYWNrZ3JvdW5kOiByZ2JhKDk0LCAxNTYsIDIzNSwgMC43KTsgfVxuICAgICAgLmhlYXRtYXAtY2VsbC5sZXZlbC00IHsgYmFja2dyb3VuZDogcmdiYSg5NCwgMTU2LCAyMzUsIDEpOyB9XG5cbiAgICAgIC5kZWNrcy1ncmlkIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpO1xuICAgICAgICBnYXA6IDE1cHg7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLWNhcmQge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgfVxuXG4gICAgICAuZGVjay1jYXJkLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLWNhcmQtaGVhZGVyIGg0IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuXG4gICAgICAuZGVjay1iYWRnZSB7XG4gICAgICAgIHBhZGRpbmc6IDRweCAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAuZGVjay1jYXJkLXN0YXRzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0LXJvdyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAuc3RhdC1pY29uIHtcbiAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0LWxhYmVsIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICAuc3RhdC12YWx1ZSB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLXByb2dyZXNzIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgIH1cblxuICAgICAgLnByb2dyZXNzLWJhci1jb250YWluZXIge1xuICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICB9XG5cbiAgICAgIC5wcm9ncmVzcy1iYXItZmlsbCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMC4zcztcbiAgICAgIH1cblxuICAgICAgLnByb2dyZXNzLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgIH1cblxuICAgICAgLmRpZmZpY3VsdC1jYXJkcy1saXN0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgfVxuXG4gICAgICAuZGlmZmljdWx0LWNhcmQtaXRlbSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMTVweDtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtcmFuayB7XG4gICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICB9XG5cbiAgICAgIC5jYXJkLWNvbnRlbnQge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgfVxuXG4gICAgICAuY2FyZC1xdWVzdGlvbiB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtbWV0YSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMTBweDtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICBtYXJnaW4tYm90dG9tOjhweDtcbiAgICAgIH0gXG5cbi5wYXR0ZXJuLWJhZGdlLCAuZXJyb3ItY291bnQsIC5hdmctdGltZSB7XG4gICAgcGFkZGluZzogM3B4IDEwcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICB9XG5cbiAgLmRpZmZpY3VsdHktYmFyLWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiA2cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC5kaWZmaWN1bHR5LWJhciB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgdmFyKC0tY29sb3ItZ3JlZW4pLCB2YXIoLS1jb2xvci15ZWxsb3cpLCB2YXIoLS1jb2xvci1yZWQpKTtcbiAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xuICB9XG5cbiAgLmNhcmQtYWN0aW9ucyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDhweDtcbiAgfVxuXG4gIC5hY3Rpb24tYnRuLXNtYWxsIHtcbiAgICBwYWRkaW5nOiA2cHggMTJweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICB9XG5cbiAgLmFjdGlvbi1idG4tc21hbGw6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuXG4gIC5hY3Rpb24tYnRuLXNtYWxsLmRlbGV0ZS1idG46aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci1yZWQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC5lbXB0eS1tZXNzYWdlIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogNDBweDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgZm9udC1zaXplOiAxLjFlbTtcbiAgfVxuXG4gIC5yZXBvcnQtc2VjdGlvbiB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgfVxuXG4gIC5jaGFydC1jYW52YXMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cblxuICAuYmFyLWdyb3VwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4OiAxO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC5iYXItZ3JvdXAgLmJhciB7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwO1xuICAgIHRyYW5zaXRpb246IGhlaWdodCAwLjNzO1xuICAgIG1hcmdpbi10b3A6IGF1dG87XG4gIH1cblxuICAubGluZS1jaGFydC1jYW52YXMge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLmNoYXJ0LWxhYmVscyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgfVxuXG4gIC5jaGFydC1sYWJlbCB7XG4gICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG4gICAgLm1vZGFsLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICB6LWluZGV4OiAxMDAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLm1vZGFsLWJnIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcbn1cblxuLm1vZGFsIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIG1heC13aWR0aDogNTAwcHg7XG4gIHdpZHRoOiA5MCU7XG4gIG1heC1oZWlnaHQ6IDgwdmg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xufVxuXG4ubW9kYWwtdGl0bGUge1xuICBmb250LXNpemU6IDEuNWVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4ubW9kYWwtY29udGVudCB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5jbGVhci1vcHRpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxMHB4O1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG4uY2xlYXItb3B0aW9uLWJ0biB7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogNXB4O1xufVxuXG4uY2xlYXItb3B0aW9uLWJ0bjpob3ZlciB7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG59XG5cbi5vcHRpb24tZGVzYyB7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG59XG5cbi5tb2RhbC1idXR0b24tY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgZ2FwOiAxMHB4O1xufVxuYDtcblxuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgfX0iLCAiLy8gYW5hbHl0aWNzRW5naW5lLnRzXG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IEZsYXNoY2FyZCwgUmV2aWV3TG9nIH0gZnJvbSAnLi9GbGFzaGNhcmRNYW5hZ2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBEYWlseVN0YXRzIHtcbiAgZGF0ZTogc3RyaW5nO1xuICByZXZpZXdlZDogbnVtYmVyO1xuICBjb3JyZWN0Q291bnQ6IG51bWJlcjtcbiAgY29ycmVjdFJhdGU6IG51bWJlcjtcbiAgdGltZVNwZW50OiBudW1iZXI7XG4gIG5ld0NhcmRzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2Vla2x5U3RhdHMge1xuICBzdGFydERhdGU6IHN0cmluZztcbiAgZW5kRGF0ZTogc3RyaW5nO1xuICB0b3RhbFJldmlld3M6IG51bWJlcjtcbiAgYXZlcmFnZUNvcnJlY3RSYXRlOiBudW1iZXI7XG4gIHRvdGFsVGltZVNwZW50OiBudW1iZXI7XG4gIHN0cmVhazogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2tTdGF0cyB7XG4gIGRlY2tOYW1lOiBzdHJpbmc7XG4gIHRvdGFsQ2FyZHM6IG51bWJlcjtcbiAgZHVlQ2FyZHM6IG51bWJlcjtcbiAgbmV3Q2FyZHM6IG51bWJlcjtcbiAgY29ycmVjdFJhdGU6IG51bWJlcjtcbiAgYXZlcmFnZUludGVydmFsOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlmZmljdWx0Q2FyZCB7XG4gIGNhcmQ6IEZsYXNoY2FyZDtcbiAgZXJyb3JDb3VudDogbnVtYmVyO1xuICBsYXN0RXJyb3I6IG51bWJlcjtcbiAgYXZlcmFnZVRpbWU6IG51bWJlcjtcbiAgcGF0dGVybjogJ2NvbmNlcHQnIHwgJ21lbW9yeScgfCAnY2FsY3VsYXRpb24nIHwgJ3Vua25vd24nO1xufVxuXG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzRW5naW5lIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luKSB7fVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTZCQ0ZcdTY1RTVcdTdFREZcdThCQTFcbiAgICovXG4gIGdldERhaWx5U3RhdHMoZGF5czogbnVtYmVyID0gMzApOiBEYWlseVN0YXRzW10ge1xuICAgIGNvbnN0IGxvZ3MgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gfHwgW107XG4gICAgY29uc3Qgc3RhdHM6IE1hcDxzdHJpbmcsIERhaWx5U3RhdHM+ID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU2NzAwXHU4RkQxTlx1NTkyOVx1NzY4NFx1NjU3MFx1NjM2RVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF5czsgaSsrKSB7XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpO1xuICAgICAgY29uc3QgZGF0ZUtleSA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgXG4gICAgICBzdGF0cy5zZXQoZGF0ZUtleSwge1xuICAgICAgICBkYXRlOiBkYXRlS2V5LFxuICAgICAgICByZXZpZXdlZDogMCxcbiAgICAgICAgY29ycmVjdENvdW50OiAwLFxuICAgICAgICBjb3JyZWN0UmF0ZTogMCxcbiAgICAgICAgdGltZVNwZW50OiAwLFxuICAgICAgICBuZXdDYXJkczogMFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gXHU3RURGXHU4QkExXHU1OTBEXHU0RTYwXHU4QkIwXHU1RjU1XG4gICAgbG9ncy5mb3JFYWNoKGxvZyA9PiB7XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUobG9nLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgY29uc3Qgc3RhdCA9IHN0YXRzLmdldChkYXRlKTtcbiAgICAgIGlmICghc3RhdCkgcmV0dXJuO1xuXG4gICAgICBzdGF0LnJldmlld2VkKys7XG4gICAgICBzdGF0LnRpbWVTcGVudCArPSBsb2cucmVzcG9uc2UudGltZVNwZW50O1xuXG4gICAgICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTZCNjNcdTc4NkVcbiAgICAgIGlmIChsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2dvb2QnIHx8IGxvZy5yZXNwb25zZS5lYXNlID09PSAnZWFzeScpIHtcbiAgICAgICAgc3RhdC5jb3JyZWN0Q291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAobG9nLnJlc3BvbnNlLmVhc2UgPT09ICdoYXJkJykge1xuICAgICAgICBzdGF0LmNvcnJlY3RDb3VudCArPSAwLjU7XG4gICAgICB9XG5cbiAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NjYyRlx1NjVCMFx1NTM2MVx1NzI0N1x1RkYwOFx1N0IyQ1x1NEUwMFx1NkIyMVx1NTkwRFx1NEU2MFx1RkYwOVxuICAgICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGxvZy5mbGFzaGNhcmRJZCk7XG4gICAgICBpZiAoY2FyZCAmJiBjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cyA9PT0gMSkge1xuICAgICAgICBzdGF0Lm5ld0NhcmRzKys7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBcdThCQTFcdTdCOTdcdTZCNjNcdTc4NkVcdTczODdcbiAgICBzdGF0cy5mb3JFYWNoKHN0YXQgPT4ge1xuICAgICAgaWYgKHN0YXQucmV2aWV3ZWQgPiAwKSB7XG4gICAgICAgIHN0YXQuY29ycmVjdFJhdGUgPSBzdGF0LmNvcnJlY3RDb3VudCAvIHN0YXQucmV2aWV3ZWQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShzdGF0cy52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4gXG4gICAgICBhLmRhdGUubG9jYWxlQ29tcGFyZShiLmRhdGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTU0NjhcdTdFREZcdThCQTFcbiAgICovXG4gIGdldFdlZWtseVN0YXRzKCk6IHsgdGhpc1dlZWs6IFdlZWtseVN0YXRzOyBsYXN0V2VlazogV2Vla2x5U3RhdHMgfSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBcbiAgICAvLyBcdTY3MkNcdTU0NjhcbiAgICBjb25zdCB0aGlzV2Vla1N0YXJ0ID0gbmV3IERhdGUobm93KTtcbiAgICB0aGlzV2Vla1N0YXJ0LnNldERhdGUobm93LmdldERhdGUoKSAtIG5vdy5nZXREYXkoKSk7XG4gICAgdGhpc1dlZWtTdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcblxuICAgIC8vIFx1NEUwQVx1NTQ2OFxuICAgIGNvbnN0IGxhc3RXZWVrU3RhcnQgPSBuZXcgRGF0ZSh0aGlzV2Vla1N0YXJ0KTtcbiAgICBsYXN0V2Vla1N0YXJ0LnNldERhdGUobGFzdFdlZWtTdGFydC5nZXREYXRlKCkgLSA3KTtcblxuICAgIGNvbnN0IHRoaXNXZWVrID0gdGhpcy5jYWxjdWxhdGVXZWVrU3RhdHModGhpc1dlZWtTdGFydCk7XG4gICAgY29uc3QgbGFzdFdlZWsgPSB0aGlzLmNhbGN1bGF0ZVdlZWtTdGF0cyhsYXN0V2Vla1N0YXJ0KTtcblxuICAgIHJldHVybiB7IHRoaXNXZWVrLCBsYXN0V2VlayB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVXZWVrU3RhdHMoc3RhcnREYXRlOiBEYXRlKTogV2Vla2x5U3RhdHMge1xuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuICAgIGVuZERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSArIDcpO1xuXG4gICAgY29uc3QgbG9ncyA9ICh0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gfHwgW10pLmZpbHRlcihcbiAgICAgIGxvZyA9PiBsb2cudGltZXN0YW1wID49IHN0YXJ0RGF0ZS5nZXRUaW1lKCkgJiYgbG9nLnRpbWVzdGFtcCA8IGVuZERhdGUuZ2V0VGltZSgpXG4gICAgKTtcblxuICAgIGxldCB0b3RhbENvcnJlY3QgPSAwO1xuICAgIGxldCB0b3RhbFRpbWVTcGVudCA9IDA7XG5cbiAgICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICAgIHRvdGFsVGltZVNwZW50ICs9IGxvZy5yZXNwb25zZS50aW1lU3BlbnQ7XG4gICAgICBpZiAobG9nLnJlc3BvbnNlLmVhc2UgPT09ICdnb29kJyB8fCBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2Vhc3knKSB7XG4gICAgICAgIHRvdGFsQ29ycmVjdCsrO1xuICAgICAgfSBlbHNlIGlmIChsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2hhcmQnKSB7XG4gICAgICAgIHRvdGFsQ29ycmVjdCArPSAwLjU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhdmVyYWdlQ29ycmVjdFJhdGUgPSBsb2dzLmxlbmd0aCA+IDAgPyB0b3RhbENvcnJlY3QgLyBsb2dzLmxlbmd0aCA6IDA7XG4gICAgY29uc3Qgc3RyZWFrID0gdGhpcy5jYWxjdWxhdGVTdHJlYWsoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICBlbmREYXRlOiBlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgIHRvdGFsUmV2aWV3czogbG9ncy5sZW5ndGgsXG4gICAgICBhdmVyYWdlQ29ycmVjdFJhdGUsXG4gICAgICB0b3RhbFRpbWVTcGVudCxcbiAgICAgIHN0cmVha1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU4QkExXHU3Qjk3XHU4RkRFXHU3RUVEXHU1QjY2XHU0RTYwXHU1OTI5XHU2NTcwXG4gICAqL1xuICBjYWxjdWxhdGVTdHJlYWsoKTogbnVtYmVyIHtcbiAgICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICAgIGlmIChsb2dzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBkYXRlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGxvZ3MuZm9yRWFjaChsb2cgPT4ge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGxvZy50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgIGRhdGVzLmFkZChkYXRlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNvcnRlZERhdGVzID0gQXJyYXkuZnJvbShkYXRlcykuc29ydCgpLnJldmVyc2UoKTtcbiAgICBsZXQgc3RyZWFrID0gMDtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWREYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZXhwZWN0ZWREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIGV4cGVjdGVkRGF0ZS5zZXREYXRlKGV4cGVjdGVkRGF0ZS5nZXREYXRlKCkgLSBpKTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gZXhwZWN0ZWREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgICAgaWYgKHNvcnRlZERhdGVzW2ldID09PSBleHBlY3RlZCkge1xuICAgICAgICBzdHJlYWsrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHJlYWs7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MzYxXHU3RUM0XHU3RURGXHU4QkExXG4gICAqL1xuICBnZXREZWNrU3RhdHMoKTogRGVja1N0YXRzW10ge1xuICAgIGNvbnN0IGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgY29uc3QgZGVja01hcCA9IG5ldyBNYXA8c3RyaW5nLCBGbGFzaGNhcmRbXT4oKTtcblxuICAgIC8vIFx1NjMwOVx1NTM2MVx1N0VDNFx1NTIwNlx1N0VDNFxuICAgIGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICBpZiAoIWRlY2tNYXAuaGFzKGNhcmQuZGVjaykpIHtcbiAgICAgICAgZGVja01hcC5zZXQoY2FyZC5kZWNrLCBbXSk7XG4gICAgICB9XG4gICAgICBkZWNrTWFwLmdldChjYXJkLmRlY2spIS5wdXNoKGNhcmQpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU4QkExXHU3Qjk3XHU2QkNGXHU0RTJBXHU1MzYxXHU3RUM0XHU3Njg0XHU3RURGXHU4QkExXG4gICAgY29uc3Qgc3RhdHM6IERlY2tTdGF0c1tdID0gW107XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGRlY2tNYXAuZm9yRWFjaCgoZGVja0NhcmRzLCBkZWNrTmFtZSkgPT4ge1xuICAgICAgY29uc3QgZHVlQ2FyZHMgPSBkZWNrQ2FyZHMuZmlsdGVyKGMgPT4gYy5zY2hlZHVsaW5nLmR1ZSA8PSBub3cpLmxlbmd0aDtcbiAgICAgIGNvbnN0IG5ld0NhcmRzID0gZGVja0NhcmRzLmZpbHRlcihjID0+IGMuc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycpLmxlbmd0aDtcbiAgICAgIFxuICAgICAgY29uc3QgdG90YWxDb3JyZWN0ID0gZGVja0NhcmRzLnJlZHVjZShcbiAgICAgICAgKHN1bSwgYykgPT4gc3VtICsgYy5zdGF0cy5jb3JyZWN0Q291bnQsIDBcbiAgICAgICk7XG4gICAgICBjb25zdCB0b3RhbFJldmlld3MgPSBkZWNrQ2FyZHMucmVkdWNlKFxuICAgICAgICAoc3VtLCBjKSA9PiBzdW0gKyBjLnN0YXRzLnRvdGFsUmV2aWV3cywgMFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNvcnJlY3RSYXRlID0gdG90YWxSZXZpZXdzID4gMCA/IHRvdGFsQ29ycmVjdCAvIHRvdGFsUmV2aWV3cyA6IDA7XG5cbiAgICAgIGNvbnN0IHRvdGFsSW50ZXJ2YWwgPSBkZWNrQ2FyZHMucmVkdWNlKFxuICAgICAgICAoc3VtLCBjKSA9PiBzdW0gKyBjLnNjaGVkdWxpbmcuaW50ZXJ2YWwsIDBcbiAgICAgICk7XG4gICAgICBjb25zdCBhdmVyYWdlSW50ZXJ2YWwgPSBkZWNrQ2FyZHMubGVuZ3RoID4gMCBcbiAgICAgICAgPyB0b3RhbEludGVydmFsIC8gZGVja0NhcmRzLmxlbmd0aCBcbiAgICAgICAgOiAwO1xuXG4gICAgICBzdGF0cy5wdXNoKHtcbiAgICAgICAgZGVja05hbWUsXG4gICAgICAgIHRvdGFsQ2FyZHM6IGRlY2tDYXJkcy5sZW5ndGgsXG4gICAgICAgIGR1ZUNhcmRzLFxuICAgICAgICBuZXdDYXJkcyxcbiAgICAgICAgY29ycmVjdFJhdGUsXG4gICAgICAgIGF2ZXJhZ2VJbnRlcnZhbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RhdHMuc29ydCgoYSwgYikgPT4gYi50b3RhbENhcmRzIC0gYS50b3RhbENhcmRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTk2QkVcdTcwQjlcdTUzNjFcdTcyNDdcbiAgICovXG4gIGdldERpZmZpY3VsdENhcmRzKGxpbWl0OiBudW1iZXIgPSAxMCk6IERpZmZpY3VsdENhcmRbXSB7XG4gICAgY29uc3QgY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuXG4gICAgY29uc3QgZGlmZmljdWx0Q2FyZHM6IERpZmZpY3VsdENhcmRbXSA9IFtdO1xuXG4gICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgIGNvbnN0IGNhcmRMb2dzID0gbG9ncy5maWx0ZXIobG9nID0+IGxvZy5mbGFzaGNhcmRJZCA9PT0gY2FyZC5pZCk7XG4gICAgICBcbiAgICAgIC8vIFx1OEJBMVx1N0I5N1x1OTUxOVx1OEJFRlx1NkIyMVx1NjU3MFxuICAgICAgY29uc3QgZXJyb3JDb3VudCA9IGNhcmRMb2dzLmZpbHRlcihcbiAgICAgICAgbG9nID0+IGxvZy5yZXNwb25zZS5lYXNlID09PSAnYWdhaW4nXG4gICAgICApLmxlbmd0aDtcblxuICAgICAgaWYgKGVycm9yQ291bnQgPT09IDAgJiYgY2FyZC5zdGF0cy5kaWZmaWN1bHR5IDwgMC43KSByZXR1cm47XG5cbiAgICAgIC8vIFx1NjcwMFx1NTQwRVx1NEUwMFx1NkIyMVx1OTUxOVx1OEJFRlxuICAgICAgY29uc3QgZXJyb3JMb2dzID0gY2FyZExvZ3MuZmlsdGVyKGxvZyA9PiBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2FnYWluJyk7XG4gICAgICBjb25zdCBsYXN0RXJyb3IgPSBlcnJvckxvZ3MubGVuZ3RoID4gMCBcbiAgICAgICAgPyBlcnJvckxvZ3NbZXJyb3JMb2dzLmxlbmd0aCAtIDFdLnRpbWVzdGFtcCBcbiAgICAgICAgOiAwO1xuXG4gICAgICAvLyBcdTUyMjRcdTY1QURcdTk1MTlcdThCRUZcdTZBMjFcdTVGMEZcbiAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLmRldGVjdEVycm9yUGF0dGVybihjYXJkLCBjYXJkTG9ncyk7XG5cbiAgICAgIGRpZmZpY3VsdENhcmRzLnB1c2goe1xuICAgICAgICBjYXJkLFxuICAgICAgICBlcnJvckNvdW50LFxuICAgICAgICBsYXN0RXJyb3IsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiBjYXJkLnN0YXRzLmF2ZXJhZ2VUaW1lLFxuICAgICAgICBwYXR0ZXJuXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFx1NjM5Mlx1NUU4Rlx1RkYxQVx1OTUxOVx1OEJFRlx1NkIyMVx1NjU3MCA+IFx1OTZCRVx1NUVBNiA+IFx1NjcwMFx1OEZEMVx1OTUxOVx1OEJFRlxuICAgIHJldHVybiBkaWZmaWN1bHRDYXJkc1xuICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKGEuZXJyb3JDb3VudCAhPT0gYi5lcnJvckNvdW50KSB7XG4gICAgICAgICAgcmV0dXJuIGIuZXJyb3JDb3VudCAtIGEuZXJyb3JDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5jYXJkLnN0YXRzLmRpZmZpY3VsdHkgIT09IGIuY2FyZC5zdGF0cy5kaWZmaWN1bHR5KSB7XG4gICAgICAgICAgcmV0dXJuIGIuY2FyZC5zdGF0cy5kaWZmaWN1bHR5IC0gYS5jYXJkLnN0YXRzLmRpZmZpY3VsdHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGIubGFzdEVycm9yIC0gYS5sYXN0RXJyb3I7XG4gICAgICB9KVxuICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcbiAgfVxuXG4gIHByaXZhdGUgZGV0ZWN0RXJyb3JQYXR0ZXJuKFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBsb2dzOiBSZXZpZXdMb2dbXVxuICApOiBEaWZmaWN1bHRDYXJkWydwYXR0ZXJuJ10ge1xuICAgIGlmIChsb2dzLmxlbmd0aCA8IDMpIHJldHVybiAndW5rbm93bic7XG5cbiAgICAvLyBcdTY1RjZcdTk1RjRcdThGQzdcdTk1N0YgLT4gXHU4QkExXHU3Qjk3XHU5NUVFXHU5ODk4XG4gICAgaWYgKGNhcmQuc3RhdHMuYXZlcmFnZVRpbWUgPiA2MCkge1xuICAgICAgcmV0dXJuICdjYWxjdWxhdGlvbic7XG4gICAgfVxuXG4gICAgLy8gXHU5NUY0XHU5Njk0XHU1Rjg4XHU3N0VEXHU0RUNEXHU3MTM2XHU5NTE5XHU4QkVGIC0+IFx1OEJCMFx1NUZDNlx1OTVFRVx1OTg5OFxuICAgIGlmIChjYXJkLnNjaGVkdWxpbmcuaW50ZXJ2YWwgPCAzICYmIGNhcmQuc2NoZWR1bGluZy5sYXBzZXMgPiAyKSB7XG4gICAgICByZXR1cm4gJ21lbW9yeSc7XG4gICAgfVxuXG4gICAgLy8gXHU2MzAxXHU3RUVEXHU1OTMxXHU4RDI1IC0+IFx1Njk4Mlx1NUZGNVx1NzQwNlx1ODlFM1x1OTVFRVx1OTg5OFxuICAgIGNvbnN0IHJlY2VudExvZ3MgPSBsb2dzLnNsaWNlKC01KTtcbiAgICBjb25zdCByZWNlbnRGYWlsdXJlcyA9IHJlY2VudExvZ3MuZmlsdGVyKFxuICAgICAgbG9nID0+IGxvZy5yZXNwb25zZS5lYXNlID09PSAnYWdhaW4nXG4gICAgKS5sZW5ndGg7XG4gICAgXG4gICAgaWYgKHJlY2VudEZhaWx1cmVzID49IDMpIHtcbiAgICAgIHJldHVybiAnY29uY2VwdCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICd1bmtub3duJztcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTY4MDdcdTdCN0VcdTdFREZcdThCQTFcbiAgICovXG4gIGdldFRhZ1N0YXRzKCk6IHsgdGFnOiBzdHJpbmc7IGNvdW50OiBudW1iZXI7IGNvcnJlY3RSYXRlOiBudW1iZXIgfVtdIHtcbiAgICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICAgIGNvbnN0IHRhZ01hcCA9IG5ldyBNYXA8c3RyaW5nLCB7IHRvdGFsOiBudW1iZXI7IGNvcnJlY3Q6IG51bWJlcjsgcmV2aWV3czogbnVtYmVyIH0+KCk7XG5cbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgY2FyZC50YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgaWYgKCF0YWdNYXAuaGFzKHRhZykpIHtcbiAgICAgICAgICB0YWdNYXAuc2V0KHRhZywgeyB0b3RhbDogMCwgY29ycmVjdDogMCwgcmV2aWV3czogMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ID0gdGFnTWFwLmdldCh0YWcpITtcbiAgICAgICAgc3RhdC50b3RhbCsrO1xuICAgICAgICBzdGF0LmNvcnJlY3QgKz0gY2FyZC5zdGF0cy5jb3JyZWN0Q291bnQ7XG4gICAgICAgIHN0YXQucmV2aWV3cyArPSBjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RhdHMgPSBBcnJheS5mcm9tKHRhZ01hcC5lbnRyaWVzKCkpLm1hcCgoW3RhZywgZGF0YV0pID0+ICh7XG4gICAgICB0YWcsXG4gICAgICBjb3VudDogZGF0YS50b3RhbCxcbiAgICAgIGNvcnJlY3RSYXRlOiBkYXRhLnJldmlld3MgPiAwID8gZGF0YS5jb3JyZWN0IC8gZGF0YS5yZXZpZXdzIDogMFxuICAgIH0pKTtcblxuICAgIHJldHVybiBzdGF0cy5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudCk7XG4gIH1cblxuICAvKipcbiAgICogXHU3NTFGXHU2MjEwXHU1QjY2XHU0RTYwXHU2MkE1XHU1NDRBXG4gICAqL1xuICBnZW5lcmF0ZVJlcG9ydChkYXlzOiBudW1iZXIgPSA3KTogc3RyaW5nIHtcbiAgICBjb25zdCBkYWlseVN0YXRzID0gdGhpcy5nZXREYWlseVN0YXRzKGRheXMpO1xuICAgIGNvbnN0IHsgdGhpc1dlZWssIGxhc3RXZWVrIH0gPSB0aGlzLmdldFdlZWtseVN0YXRzKCk7XG4gICAgY29uc3QgZGlmZmljdWx0Q2FyZHMgPSB0aGlzLmdldERpZmZpY3VsdENhcmRzKDUpO1xuICAgIGNvbnN0IGRlY2tTdGF0cyA9IHRoaXMuZ2V0RGVja1N0YXRzKCk7XG5cbiAgICAvLyBcdThCQTFcdTdCOTdcdTYwM0JcdTg5QzhcdTY1NzBcdTYzNkVcbiAgICBjb25zdCB0b3RhbFJldmlld2VkID0gZGFpbHlTdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5yZXZpZXdlZCwgMCk7XG4gICAgY29uc3QgdG90YWxDb3JyZWN0ID0gZGFpbHlTdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5jb3JyZWN0Q291bnQsIDApO1xuICAgIGNvbnN0IGF2ZXJhZ2VDb3JyZWN0UmF0ZSA9IHRvdGFsUmV2aWV3ZWQgPiAwID8gdG90YWxDb3JyZWN0IC8gdG90YWxSZXZpZXdlZCA6IDA7XG4gICAgY29uc3QgdG90YWxUaW1lID0gZGFpbHlTdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy50aW1lU3BlbnQsIDApO1xuXG4gICAgLy8gXHU4RDhCXHU1MkJGXHU1MjA2XHU2NzkwXG4gICAgY29uc3QgcmVjZW50RGF5cyA9IGRhaWx5U3RhdHMuc2xpY2UoLTcpO1xuICAgIGNvbnN0IG9sZGVyRGF5cyA9IGRhaWx5U3RhdHMuc2xpY2UoLTE0LCAtNyk7XG4gICAgY29uc3QgcmVjZW50UmF0ZSA9IHRoaXMuY2FsY3VsYXRlQXZlcmFnZVJhdGUocmVjZW50RGF5cyk7XG4gICAgY29uc3Qgb2xkZXJSYXRlID0gdGhpcy5jYWxjdWxhdGVBdmVyYWdlUmF0ZShvbGRlckRheXMpO1xuICAgIGNvbnN0IHRyZW5kID0gcmVjZW50UmF0ZSA+IG9sZGVyUmF0ZSA/ICdcdUQ4M0RcdURDQzggaW1wcm92aW5nJyA6IFxuICAgICAgICAgICAgICAgICAgcmVjZW50UmF0ZSA8IG9sZGVyUmF0ZSA/ICdcdUQ4M0RcdURDQzkgZGVjbGluaW5nJyA6ICdcdTI3QTFcdUZFMEYgc3RhYmxlJztcblxuICAgIGxldCByZXBvcnQgPSBgIyBcdUQ4M0RcdURDQ0EgTGVhcm5pbmcgUmVwb3J0XFxuXFxuYDtcbiAgICByZXBvcnQgKz0gYCoqUGVyaW9kOioqIExhc3QgJHtkYXlzfSBkYXlzXFxuYDtcbiAgICByZXBvcnQgKz0gYCoqR2VuZXJhdGVkOioqICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfVxcblxcbmA7XG5cbiAgICByZXBvcnQgKz0gYCMjIFx1RDgzQ1x1REZBRiBPdmVyYWxsIFBlcmZvcm1hbmNlXFxuXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gKipDYXJkcyBSZXZpZXdlZDoqKiAke3RvdGFsUmV2aWV3ZWR9XFxuYDtcbiAgICByZXBvcnQgKz0gYC0gKipDb3JyZWN0IFJhdGU6KiogJHsoYXZlcmFnZUNvcnJlY3RSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVcXG5gO1xuICAgIHJlcG9ydCArPSBgLSAqKlN0dWR5IFRpbWU6KiogJHt0aGlzLmZvcm1hdFRpbWUodG90YWxUaW1lKX1cXG5gO1xuICAgIHJlcG9ydCArPSBgLSAqKkN1cnJlbnQgU3RyZWFrOioqICR7dGhpc1dlZWsuc3RyZWFrfSBkYXlzIFx1RDgzRFx1REQyNVxcbmA7XG4gICAgcmVwb3J0ICs9IGAtICoqVHJlbmQ6KiogJHt0cmVuZH1cXG5cXG5gO1xuXG4gICAgcmVwb3J0ICs9IGAjIyBcdUQ4M0RcdURDQzggV2VlayBDb21wYXJpc29uXFxuXFxuYDtcbiAgICByZXBvcnQgKz0gYCMjIyBUaGlzIFdlZWtcXG5gO1xuICAgIHJlcG9ydCArPSBgLSBSZXZpZXdzOiAke3RoaXNXZWVrLnRvdGFsUmV2aWV3c31cXG5gO1xuICAgIHJlcG9ydCArPSBgLSBDb3JyZWN0IFJhdGU6ICR7KHRoaXNXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gVGltZTogJHt0aGlzLmZvcm1hdFRpbWUodGhpc1dlZWsudG90YWxUaW1lU3BlbnQpfVxcblxcbmA7XG5cbiAgICByZXBvcnQgKz0gYCMjIyBMYXN0IFdlZWtcXG5gO1xuICAgIHJlcG9ydCArPSBgLSBSZXZpZXdzOiAke2xhc3RXZWVrLnRvdGFsUmV2aWV3c31cXG5gO1xuICAgIHJlcG9ydCArPSBgLSBDb3JyZWN0IFJhdGU6ICR7KGxhc3RXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gVGltZTogJHt0aGlzLmZvcm1hdFRpbWUobGFzdFdlZWsudG90YWxUaW1lU3BlbnQpfVxcblxcbmA7XG5cbiAgICBjb25zdCByZXZpZXdDaGFuZ2UgPSB0aGlzV2Vlay50b3RhbFJldmlld3MgLSBsYXN0V2Vlay50b3RhbFJldmlld3M7XG4gICAgY29uc3QgcmF0ZUNoYW5nZSA9ICh0aGlzV2Vlay5hdmVyYWdlQ29ycmVjdFJhdGUgLSBsYXN0V2Vlay5hdmVyYWdlQ29ycmVjdFJhdGUpICogMTAwO1xuICAgIFxuICAgIGlmIChyZXZpZXdDaGFuZ2UgPiAwKSB7XG4gICAgICByZXBvcnQgKz0gYFx1RDgzRFx1RENBQSBZb3UgcmV2aWV3ZWQgKioke3Jldmlld0NoYW5nZX0gbW9yZSBjYXJkcyoqIHRoaXMgd2VlayFcXG5gO1xuICAgIH1cbiAgICBpZiAocmF0ZUNoYW5nZSA+IDUpIHtcbiAgICAgIHJlcG9ydCArPSBgXHVEODNDXHVERjg5IFlvdXIgYWNjdXJhY3kgaW1wcm92ZWQgYnkgKioke3JhdGVDaGFuZ2UudG9GaXhlZCgxKX0lKiohXFxuYDtcbiAgICB9XG4gICAgcmVwb3J0ICs9IGBcXG5gO1xuXG4gICAgaWYgKGRpZmZpY3VsdENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlcG9ydCArPSBgIyMgXHUyNkEwXHVGRTBGIENhcmRzIE5lZWRpbmcgQXR0ZW50aW9uXFxuXFxuYDtcbiAgICAgIGRpZmZpY3VsdENhcmRzLmZvckVhY2goKGRjLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5FbW9qaSA9IHtcbiAgICAgICAgICAnY29uY2VwdCc6ICdcdUQ4M0VcdURERTAnLFxuICAgICAgICAgICdtZW1vcnknOiAnXHVEODNEXHVEQ0FEJyxcbiAgICAgICAgICAnY2FsY3VsYXRpb24nOiAnXHVEODNEXHVERDIyJyxcbiAgICAgICAgICAndW5rbm93bic6ICdcdTI3NTMnXG4gICAgICAgIH07XG4gICAgICAgIHJlcG9ydCArPSBgJHtpICsgMX0uICoqJHtkYy5jYXJkLmZyb250LnN1YnN0cmluZygwLCA1MCl9JHtkYy5jYXJkLmZyb250Lmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJ30qKlxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgICAgLSBFcnJvcnM6ICR7ZGMuZXJyb3JDb3VudH0gfCBQYXR0ZXJuOiAke3BhdHRlcm5FbW9qaVtkYy5wYXR0ZXJuXX0gJHtkYy5wYXR0ZXJufVxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgICAgLSBBdmcgVGltZTogJHtkYy5hdmVyYWdlVGltZS50b0ZpeGVkKDEpfXMgfCBEaWZmaWN1bHR5OiAkeyhkYy5jYXJkLnN0YXRzLmRpZmZpY3VsdHkgKiAxMDApLnRvRml4ZWQoMCl9JVxcblxcbmA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXBvcnQgKz0gYCMjIFx1RDgzRFx1RENEQSBEZWNrIE92ZXJ2aWV3XFxuXFxuYDtcbiAgICBkZWNrU3RhdHMuZm9yRWFjaChkZWNrID0+IHtcbiAgICAgIHJlcG9ydCArPSBgIyMjICR7ZGVjay5kZWNrTmFtZX1cXG5gO1xuICAgICAgcmVwb3J0ICs9IGAtIFRvdGFsOiAke2RlY2sudG90YWxDYXJkc30gfCBEdWU6ICR7ZGVjay5kdWVDYXJkc30gfCBOZXc6ICR7ZGVjay5uZXdDYXJkc31cXG5gO1xuICAgICAgcmVwb3J0ICs9IGAtIENvcnJlY3QgUmF0ZTogJHsoZGVjay5jb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lXFxuYDtcbiAgICAgIHJlcG9ydCArPSBgLSBBdmcgSW50ZXJ2YWw6ICR7ZGVjay5hdmVyYWdlSW50ZXJ2YWwudG9GaXhlZCgxKX0gZGF5c1xcblxcbmA7XG4gICAgfSk7XG5cbiAgICByZXBvcnQgKz0gYCMjIFx1RDgzRFx1RENBMSBSZWNvbW1lbmRhdGlvbnNcXG5cXG5gO1xuXG4gICAgLy8gXHU3NTFGXHU2MjEwXHU1RUZBXHU4QkFFXG4gICAgaWYgKGF2ZXJhZ2VDb3JyZWN0UmF0ZSA8IDAuNykge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1MjZBMSBZb3VyIGNvcnJlY3QgcmF0ZSBpcyBiZWxvdyA3MCUuIENvbnNpZGVyIHJldmlld2luZyBkaWZmaWN1bHQgY2FyZHMgbW9yZSBmcmVxdWVudGx5LlxcbmA7XG4gICAgfVxuICAgIGlmIChkaWZmaWN1bHRDYXJkcy5sZW5ndGggPiA1KSB7XG4gICAgICByZXBvcnQgKz0gYC0gXHVEODNEXHVEQ0Q2IFlvdSBoYXZlIG1hbnkgZGlmZmljdWx0IGNhcmRzLiBUcnkgYnJlYWtpbmcgY29tcGxleCBjb25jZXB0cyBpbnRvIHNtYWxsZXIgZmxhc2hjYXJkcy5cXG5gO1xuICAgIH1cbiAgICBpZiAodGhpc1dlZWsuc3RyZWFrID4gNykge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1RDgzQ1x1REY4OSBBbWF6aW5nIHN0cmVhayEgS2VlcCB1cCB0aGUgY29uc2lzdGVuY3khXFxuYDtcbiAgICB9XG4gICAgaWYgKHRvdGFsVGltZSAvIHRvdGFsUmV2aWV3ZWQgPiAzMCkge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1MjNGMVx1RkUwRiBBdmVyYWdlIHJldmlldyB0aW1lIGlzIGhpZ2guIENvbnNpZGVyIHNpbXBsaWZ5aW5nIGNhcmQgY29udGVudC5cXG5gO1xuICAgIH1cbiAgICBpZiAoZGVja1N0YXRzLnNvbWUoZCA9PiBkLmR1ZUNhcmRzID4gZC50b3RhbENhcmRzICogMC41KSkge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1RDgzRFx1RENDNSBTb21lIGRlY2tzIGhhdmUgbWFueSBvdmVyZHVlIGNhcmRzLiBGb2N1cyBvbiBjYXRjaGluZyB1cCB3aXRoIHRoZXNlLlxcbmA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcG9ydDtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQXZlcmFnZVJhdGUoc3RhdHM6IERhaWx5U3RhdHNbXSk6IG51bWJlciB7XG4gICAgY29uc3QgdG90YWwgPSBzdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5yZXZpZXdlZCwgMCk7XG4gICAgY29uc3QgY29ycmVjdCA9IHN0YXRzLnJlZHVjZSgoc3VtLCBzKSA9PiBzdW0gKyBzLmNvcnJlY3RDb3VudCwgMCk7XG4gICAgcmV0dXJuIHRvdGFsID4gMCA/IGNvcnJlY3QgLyB0b3RhbCA6IDA7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdFRpbWUoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7XG4gICAgXG4gICAgaWYgKGhvdXJzID4gMCkge1xuICAgICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzfW1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7bWludXRlc31tYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTcwRURcdTUyOUJcdTU2RkVcdTY1NzBcdTYzNkVcdUZGMDhcdTc1MjhcdTRFOEVcdTY1RTVcdTUzODZcdTg5QzZcdTU2RkVcdUZGMDlcbiAgICovXG4gIGdldEhlYXRtYXBEYXRhKGRheXM6IG51bWJlciA9IDkwKTogeyBkYXRlOiBzdHJpbmc7IGNvdW50OiBudW1iZXI7IGludGVuc2l0eTogbnVtYmVyIH1bXSB7XG4gICAgY29uc3QgZGFpbHlTdGF0cyA9IHRoaXMuZ2V0RGFpbHlTdGF0cyhkYXlzKTtcbiAgICBjb25zdCBtYXhSZXZpZXdzID0gTWF0aC5tYXgoLi4uZGFpbHlTdGF0cy5tYXAocyA9PiBzLnJldmlld2VkKSk7XG5cbiAgICByZXR1cm4gZGFpbHlTdGF0cy5tYXAoc3RhdCA9PiAoe1xuICAgICAgZGF0ZTogc3RhdC5kYXRlLFxuICAgICAgY291bnQ6IHN0YXQucmV2aWV3ZWQsXG4gICAgICBpbnRlbnNpdHk6IG1heFJldmlld3MgPiAwID8gc3RhdC5yZXZpZXdlZCAvIG1heFJldmlld3MgOiAwXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICogXHU2RTA1XHU5NjY0XHU2MjQwXHU2NzA5XHU3RURGXHU4QkExXHU2NTcwXHU2MzZFXG4gKi9cbmFzeW5jIGNsZWFyQWxsU3RhdHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIFx1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gPSBbXTtcbiAgXG4gIC8vIFx1OTFDRFx1N0Y2RVx1NjI0MFx1NjcwOVx1NTM2MVx1NzI0N1x1NzY4NFx1N0VERlx1OEJBMVx1NEZFMVx1NjA2RlxuICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICBmb3IgKGNvbnN0IGNhcmQgb2YgY2FyZHMpIHtcbiAgICBjYXJkLnN0YXRzID0ge1xuICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgY29ycmVjdENvdW50OiAwLFxuICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICBsYXN0UmV2aWV3OiAwLFxuICAgICAgZGlmZmljdWx0eTogMC4zXG4gICAgfTtcbiAgICBjYXJkLnNjaGVkdWxpbmcgPSB7XG4gICAgICBpbnRlcnZhbDogMCxcbiAgICAgIGVhc2U6IDIuNSwgIC8vIFx1NEY3Rlx1NzUyOCBlYXNlIFx1ODAwQ1x1NEUwRFx1NjYyRiBlYXNlRmFjdG9yXG4gICAgICBkdWU6IERhdGUubm93KCksXG4gICAgICBsYXBzZXM6IDAsXG4gICAgICByZXBzOiAwLFxuICAgICAgc3RhdGU6ICduZXcnXG4gICAgfTtcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnVwZGF0ZUNhcmQoY2FyZCk7XG4gIH1cbiAgXG4gIC8vIFx1NEY3Rlx1NzUyOCBkYXRhTWFuYWdlciBcdTRGRERcdTVCNThcbiAgYXdhaXQgdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuc2F2ZSgpO1xufVxuXG4vKipcbiAqIFx1NkUwNVx1OTY2NFx1NjMwN1x1NUI5QVx1NTkyOVx1NjU3MFx1NEU0Qlx1NTI0RFx1NzY4NFx1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuICovXG5hc3luYyBjbGVhclN0YXRzQmVmb3JlRGF0ZShkYXlzQWdvOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKCk7XG4gIGN1dG9mZkRhdGUuc2V0RGF0ZShjdXRvZmZEYXRlLmdldERhdGUoKSAtIGRheXNBZ28pO1xuICBjb25zdCBjdXRvZmZUaW1lc3RhbXAgPSBjdXRvZmZEYXRlLmdldFRpbWUoKTtcbiAgXG4gIC8vIFx1NTNFQVx1NEZERFx1NzU1OVx1NjMwN1x1NUI5QVx1NjVFNVx1NjcxRlx1NEU0Qlx1NTQwRVx1NzY4NFx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gPSBsb2dzLmZpbHRlcihcbiAgICBsb2cgPT4gbG9nLnRpbWVzdGFtcCA+PSBjdXRvZmZUaW1lc3RhbXBcbiAgKTtcbiAgXG4gIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbn1cblxuLyoqXG4gKiBcdTZFMDVcdTk2NjRcdTcyNzlcdTVCOUFcdTUzNjFcdTdFQzRcdTc2ODRcdTdFREZcdThCQTFcdTY1NzBcdTYzNkVcbiAqL1xuYXN5bmMgY2xlYXJEZWNrU3RhdHMoZGVja05hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpXG4gICAgLmZpbHRlcihjYXJkID0+IGNhcmQuZGVjayA9PT0gZGVja05hbWUpO1xuICBcbiAgZm9yIChjb25zdCBjYXJkIG9mIGNhcmRzKSB7XG4gICAgY2FyZC5zdGF0cyA9IHtcbiAgICAgIHRvdGFsUmV2aWV3czogMCxcbiAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgbGFzdFJldmlldzogMCxcbiAgICAgIGRpZmZpY3VsdHk6IDAuM1xuICAgIH07XG4gICAgY2FyZC5zY2hlZHVsaW5nID0ge1xuICAgICAgaW50ZXJ2YWw6IDAsXG4gICAgICBlYXNlOiAyLjUsICAvLyBcdTRGN0ZcdTc1MjggZWFzZVxuICAgICAgZHVlOiBEYXRlLm5vdygpLFxuICAgICAgbGFwc2VzOiAwLFxuICAgICAgcmVwczogMCxcbiAgICAgIHN0YXRlOiAnbmV3J1xuICAgIH07XG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKGNhcmQpO1xuICB9XG4gIFxuICAvLyBcdTZFMDVcdTk2NjRcdThCRTVcdTUzNjFcdTdFQzRcdTc2ODRcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgY29uc3QgY2FyZElkcyA9IG5ldyBTZXQoY2FyZHMubWFwKGMgPT4gYy5pZCkpO1xuICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gPSBsb2dzLmZpbHRlcihcbiAgICBsb2cgPT4gIWNhcmRJZHMuaGFzKGxvZy5mbGFzaGNhcmRJZClcbiAgKTtcbiAgXG4gIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbn1cbn1cblxuXG4iLCAiLy8gZGF0YSBtYW5hZ2VyLnRzXG5pbXBvcnQgeyBBcHAsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudFVuaXQge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiAnaGlnaGxpZ2h0JyB8ICdib2xkJyB8ICd0YWcnIHwgJ2N1c3RvbScgfCAnUUEnIHwgJ2Nsb3plJ3wndGV4dCc7IC8vIFx1NkRGQlx1NTJBMCBxYSBcdTU0OEMgY2xvemUgXHU3QzdCXHU1NzhCXG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgYW5zd2VyPzogc3RyaW5nOyAvLyBcdTc1MjhcdTRFOEUgUUEgXHU1MzYxXHU3MjQ3XHU3Njg0XHU3QjU0XHU2ODQ4XG4gIGZ1bGxDb250ZXh0Pzogc3RyaW5nO1xuICBzb3VyY2U6IHtcbiAgICBmaWxlOiBzdHJpbmc7XG4gICAgcG9zaXRpb246IHtcbiAgICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgICBlbmQ6IG51bWJlcjtcbiAgICAgIGxpbmU6IG51bWJlcjtcbiAgICB9O1xuICAgIGJsb2NrSWQ/OiBzdHJpbmc7XG4gICAgaGVhZGluZz86IHN0cmluZztcbiAgICBhbmNob3JMaW5rOiBzdHJpbmc7XG4gIH07XG4gIGV4dHJhY3RSdWxlOiB7XG4gICAgcnVsZUlkOiBzdHJpbmc7XG4gICAgcnVsZU5hbWU6IHN0cmluZztcbiAgICBleHRyYWN0ZWRCeTogJ2F1dG8nIHwgJ21hbnVhbCc7XG4gIH07XG4gIG1ldGFkYXRhOiB7XG4gICAgY3JlYXRlZEF0OiBudW1iZXI7XG4gICAgdXBkYXRlZEF0OiBudW1iZXI7XG4gICAgdGFnczogc3RyaW5nW107XG4gICAgY29sb3I/OiBzdHJpbmc7XG4gICAgY3VzdG9tRGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIH07XG4gIGFubm90YXRpb25JZD86IHN0cmluZztcbiAgZmxhc2hjYXJkSWRzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBkYXRhRm9sZGVyOiBzdHJpbmc7XG4gIHByaXZhdGUgY29udGVudFVuaXRzOiBNYXA8c3RyaW5nLCBDb250ZW50VW5pdD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZmlsZUluZGV4OiBNYXA8c3RyaW5nLCBzdHJpbmdbXT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgY2FjaGU6IE1hcDxzdHJpbmcsIHsgZGF0YTogQ29udGVudFVuaXQ7IHRpbWVzdGFtcDogbnVtYmVyIH0+O1xuICBwcml2YXRlIENBQ0hFX1RUTCA9IDUgKiA2MCAqIDEwMDA7IC8vIDVcdTUyMDZcdTk0OUZcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpblxuICApIHtcbiAgICB0aGlzLmRhdGFGb2xkZXIgPSBgJHt0aGlzLmFwcC52YXVsdC5jb25maWdEaXJ9L3BsdWdpbnMvbGVhcm5pbmctc3lzdGVtL2RhdGFgO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBcdTc4NkVcdTRGRERcdTY1NzBcdTYzNkVcdTY1ODdcdTRFRjZcdTU5MzlcdTVCNThcdTU3MjhcbiAgICBhd2FpdCB0aGlzLmVuc3VyZURhdGFGb2xkZXIoKTtcbiAgICBcbiAgICAvLyBcdTUyQTBcdThGN0RcdTczQjBcdTY3MDlcdTY1NzBcdTYzNkVcbiAgICBhd2FpdCB0aGlzLmxvYWREYXRhKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGVuc3VyZURhdGFGb2xkZXIoKSB7XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU0RTNCXHU2NTcwXHU2MzZFXHU2NTg3XHU0RUY2XHU1OTM5XG4gICAgaWYgKCEoYXdhaXQgYWRhcHRlci5leGlzdHModGhpcy5kYXRhRm9sZGVyKSkpIHtcbiAgICAgIGF3YWl0IGFkYXB0ZXIubWtkaXIodGhpcy5kYXRhRm9sZGVyKTtcbiAgICB9XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTVCNTBcdTY1ODdcdTRFRjZcdTU5MzlcbiAgICBjb25zdCBzdWJmb2xkZXJzID0gWydpbmRleGVzJywgJ2NvbmZpZycsICdjYWNoZSddO1xuICAgIGZvciAoY29uc3QgZm9sZGVyIG9mIHN1YmZvbGRlcnMpIHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9LyR7Zm9sZGVyfWA7XG4gICAgICBpZiAoIShhd2FpdCBhZGFwdGVyLmV4aXN0cyhwYXRoKSkpIHtcbiAgICAgICAgYXdhaXQgYWRhcHRlci5ta2RpcihwYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWREYXRhKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250ZW50UGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vY29udGVudC11bml0cy5qc29uYDtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuXG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHMoY29udGVudFBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQoY29udGVudFBhdGgpO1xuICAgICAgICBjb25zdCB1bml0czogQ29udGVudFVuaXRbXSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IHVuaXQgb2YgdW5pdHMpIHtcbiAgICAgICAgICB0aGlzLmNvbnRlbnRVbml0cy5zZXQodW5pdC5pZCwgdW5pdCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gXHU2Nzg0XHU1RUZBXHU2NTg3XHU0RUY2XHU3RDIyXHU1RjE1XG4gICAgICAgICAgaWYgKCF0aGlzLmZpbGVJbmRleC5oYXModW5pdC5zb3VyY2UuZmlsZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsZUluZGV4LnNldCh1bml0LnNvdXJjZS5maWxlLCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZmlsZUluZGV4LmdldCh1bml0LnNvdXJjZS5maWxlKSEucHVzaCh1bml0LmlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGRhdGE6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNhdmVDb250ZW50VW5pdCh1bml0OiBDb250ZW50VW5pdCkge1xuICAgIHRoaXMuY29udGVudFVuaXRzLnNldCh1bml0LmlkLCB1bml0KTtcbiAgICBcbiAgICAvLyBcdTY2RjRcdTY1QjBcdTY1ODdcdTRFRjZcdTdEMjJcdTVGMTVcbiAgICBpZiAoIXRoaXMuZmlsZUluZGV4Lmhhcyh1bml0LnNvdXJjZS5maWxlKSkge1xuICAgICAgdGhpcy5maWxlSW5kZXguc2V0KHVuaXQuc291cmNlLmZpbGUsIFtdKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmZpbGVJbmRleC5nZXQodW5pdC5zb3VyY2UuZmlsZSkhLmluY2x1ZGVzKHVuaXQuaWQpKSB7XG4gICAgICB0aGlzLmZpbGVJbmRleC5nZXQodW5pdC5zb3VyY2UuZmlsZSkhLnB1c2godW5pdC5pZCk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cblxuICBhc3luYyBzYXZlQ29udGVudFVuaXRzKHVuaXRzOiBDb250ZW50VW5pdFtdKSB7XG4gICAgZm9yIChjb25zdCB1bml0IG9mIHVuaXRzKSB7XG4gICAgICB0aGlzLmNvbnRlbnRVbml0cy5zZXQodW5pdC5pZCwgdW5pdCk7XG4gICAgICBcbiAgICAgIGlmICghdGhpcy5maWxlSW5kZXguaGFzKHVuaXQuc291cmNlLmZpbGUpKSB7XG4gICAgICAgIHRoaXMuZmlsZUluZGV4LnNldCh1bml0LnNvdXJjZS5maWxlLCBbXSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZmlsZUluZGV4LmdldCh1bml0LnNvdXJjZS5maWxlKSEuaW5jbHVkZXModW5pdC5pZCkpIHtcbiAgICAgICAgdGhpcy5maWxlSW5kZXguZ2V0KHVuaXQuc291cmNlLmZpbGUpIS5wdXNoKHVuaXQuaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICB9XG5cbiAgZ2V0Q29udGVudFVuaXQoaWQ6IHN0cmluZyk6IENvbnRlbnRVbml0IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50VW5pdHMuZ2V0KGlkKTtcbiAgfVxuXG4gIGdldENvbnRlbnRVbml0c0J5RmlsZShmaWxlUGF0aDogc3RyaW5nKTogQ29udGVudFVuaXRbXSB7XG4gICAgY29uc3QgaWRzID0gdGhpcy5maWxlSW5kZXguZ2V0KGZpbGVQYXRoKSB8fCBbXTtcbiAgICByZXR1cm4gaWRzLm1hcChpZCA9PiB0aGlzLmNvbnRlbnRVbml0cy5nZXQoaWQpKS5maWx0ZXIoQm9vbGVhbikgYXMgQ29udGVudFVuaXRbXTtcbiAgfVxuXG4gIGdldENvbnRlbnRVbml0c0J5VHlwZSh0eXBlOiBDb250ZW50VW5pdFsndHlwZSddKTogQ29udGVudFVuaXRbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb250ZW50VW5pdHMudmFsdWVzKCkpLmZpbHRlcih1bml0ID0+IHVuaXQudHlwZSA9PT0gdHlwZSk7XG4gIH1cblxuICBnZXRBbGxDb250ZW50VW5pdHMocGFnZT86IG51bWJlciwgc2l6ZT86IG51bWJlcik6IENvbnRlbnRVbml0W10ge1xuICAgIGNvbnN0IGFsbCA9IEFycmF5LmZyb20odGhpcy5jb250ZW50VW5pdHMudmFsdWVzKCkpO1xuICAgIGlmICghcGFnZSB8fCAhc2l6ZSkgcmV0dXJuIGFsbDtcbiAgICByZXR1cm4gYWxsLnNsaWNlKHBhZ2UgKiBzaXplLCAocGFnZSArIDEpICogc2l6ZSk7XG4gIH1cblxuXG4gIGFzeW5jIGRlbGV0ZUNvbnRlbnRVbml0KGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB1bml0ID0gdGhpcy5jb250ZW50VW5pdHMuZ2V0KGlkKTtcbiAgICBpZiAodW5pdCkge1xuICAgICAgdGhpcy5jb250ZW50VW5pdHMuZGVsZXRlKGlkKTtcbiAgICAgIFxuICAgICAgLy8gXHU2NkY0XHU2NUIwXHU2NTg3XHU0RUY2XHU3RDIyXHU1RjE1XG4gICAgICBjb25zdCBmaWxlVW5pdHMgPSB0aGlzLmZpbGVJbmRleC5nZXQodW5pdC5zb3VyY2UuZmlsZSk7XG4gICAgICBpZiAoZmlsZVVuaXRzKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZmlsZVVuaXRzLmluZGV4T2YoaWQpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIGZpbGVVbml0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICAgIH1cbiAgfVxuICAvKiogXHU1QkY5XHU1OTE2XHU3RURGXHU0RTAwXHU0RkREXHU1QjU4XHU1MTY1XHU1M0UzICovXG4gIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cbiAgXG4gIHByaXZhdGUgYXN5bmMgcGVyc2lzdCgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudFBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2NvbnRlbnQtdW5pdHMuanNvbmA7XG4gICAgICBjb25zdCB1bml0cyA9IEFycmF5LmZyb20odGhpcy5jb250ZW50VW5pdHMudmFsdWVzKCkpO1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHVuaXRzLCBudWxsLCAyKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShjb250ZW50UGF0aCwgZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFx1NEZERFx1NUI1OFx1N0QyMlx1NUYxNVxuICAgICAgY29uc3QgaW5kZXhQYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9pbmRleGVzL2ZpbGUtaW5kZXguanNvbmA7XG4gICAgICBjb25zdCBpbmRleERhdGEgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuZmlsZUluZGV4KSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoaW5kZXhQYXRoLCBpbmRleERhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwZXJzaXN0aW5nIGRhdGE6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuICAgIC8vIFx1RDgzRFx1REQyNyBcdTRGMThcdTUzMTYgOiBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUNcdTRGN0ZcdTc1MjhcdTRFOEJcdTUyQTFcbiAgICBhc3luYyB0cmFuc2FjdGlvbihvcGVyYXRpb25zOiAoKSA9PiBQcm9taXNlPHZvaWQ+KSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBvcGVyYXRpb25zKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gXHU1NkRFXHU2RURBXHU5MDNCXHU4RjkxXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxufSIsICIvLyBleHRyYWN0aW9uIGVuZ2luZSB3aXRoIGRlZHVwbGljYXRpb25cbmltcG9ydCB7IEFwcCwgVEZpbGUsIE5vdGljZSwgRWRpdG9yLCBNZW51IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgRGF0YU1hbmFnZXIsIENvbnRlbnRVbml0IH0gZnJvbSAnLi9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmRNYW5hZ2VyIH0gZnJvbSAnLi9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IFNpZGViYXJPdmVydmlld1ZpZXcgfSBmcm9tICcuLi91aS92aWV3L1NpZGViYXJPdmVydmlld1ZpZXcnO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnc3JjL21haW4nO1xuXG5leHBvcnQgY2xhc3MgRXh0cmFjdGlvbkVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBkYXRhTWFuYWdlcjogRGF0YU1hbmFnZXIsXG4gICAgcHJpdmF0ZSBmbGFzaGNhcmRNYW5hZ2VyOiBGbGFzaGNhcmRNYW5hZ2VyICxcbiAgICBwcml2YXRlIHBsdWdpbj86IExlYXJuaW5nU3lzdGVtUGx1Z2luIFxuICApIHt9XG5cbiAgXG4gIC8qKlxuICAgKiBcdTZDRThcdTUxOENcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcbiAgICovXG4gIHJlZ2lzdGVyQ29udGV4dE1lbnUobWVudTogTWVudSwgZWRpdG9yOiBFZGl0b3IsIGZpbGU6IFRGaWxlKSB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghc2VsZWN0aW9uKSByZXR1cm47XG5cbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdUQ4M0RcdURDREQgRXh0cmFjdCBhcyB0ZXh0IG9ubHknKVxuICAgICAgICAuc2V0SWNvbignZmlsZS10ZXh0JylcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZXh0cmFjdFNlbGVjdGVkVGV4dChlZGl0b3IsIGZpbGUsICd0ZXh0Jyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSgnXHUyNzUzIEV4dHJhY3QgYXMgUUEgY2FyZCcpXG4gICAgICAgIC5zZXRJY29uKCdoZWxwLWNpcmNsZScpXG4gICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmV4dHJhY3RTZWxlY3RlZFRleHQoZWRpdG9yLCBmaWxlLCAnUUEnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdTI3MEZcdUZFMEYgRXh0cmFjdCBhcyBDbG96ZSBjYXJkJylcbiAgICAgICAgLnNldEljb24oJ2hpZ2hsaWdodGVyJylcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZXh0cmFjdFNlbGVjdGVkVGV4dChlZGl0b3IsIGZpbGUsICdjbG96ZScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIFxuICAvKipcbiAgICogXHU2M0QwXHU1M0Q2XHU5MDA5XHU0RTJEXHU3Njg0XHU2NTg3XHU2NzJDXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGV4dHJhY3RTZWxlY3RlZFRleHQoXG4gICAgZWRpdG9yOiBFZGl0b3IsIFxuICAgIGZpbGU6IFRGaWxlLCBcbiAgICBleHRyYWN0VHlwZTogJ3RleHQnIHwgJ1FBJyB8ICdjbG96ZSdcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghc2VsZWN0aW9uKSB7XG4gICAgICBuZXcgTm90aWNlKCdObyB0ZXh0IHNlbGVjdGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcignZnJvbScpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuZ2V0T2Zmc2V0RnJvbUN1cnNvcihjb250ZW50LCBjdXJzb3IubGluZSwgY3Vyc29yLmNoKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgdW5pdDogQ29udGVudFVuaXQ7XG5cbiAgICAgIHN3aXRjaCAoZXh0cmFjdFR5cGUpIHtcbiAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgdW5pdCA9IHRoaXMuY3JlYXRlVGV4dFVuaXQoZmlsZSwgc2VsZWN0aW9uLCBvZmZzZXQsIGNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdRQSc6XG4gICAgICAgICAgdW5pdCA9IHRoaXMuY3JlYXRlUUFVbml0KGZpbGUsIHNlbGVjdGlvbiwgb2Zmc2V0LCBjb250ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2xvemUnOlxuICAgICAgICAgIHVuaXQgPSB0aGlzLmNyZWF0ZUNsb3plVW5pdChmaWxlLCBzZWxlY3Rpb24sIG9mZnNldCwgY29udGVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1OTFDRFx1NTkwRFxuICAgICAgY29uc3QgZXhpc3RpbmdVbml0ID0gYXdhaXQgdGhpcy5maW5kRHVwbGljYXRlVW5pdCh1bml0KTtcbiAgICAgIGlmIChleGlzdGluZ1VuaXQpIHtcbiAgICAgICAgbmV3IE5vdGljZShgXHUyNkEwXHVGRTBGIFRoaXMgY29udGVudCB3YXMgYWxyZWFkeSBleHRyYWN0ZWRgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyAxLiBcdTUxNDhcdTRGRERcdTVCNTggQ29udGVudFVuaXRcbiAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyhbdW5pdF0pO1xuICAgICAgXG4gICAgICAvLyAyLiBcdTU5ODJcdTY3OUNcdTY2MkYgUUEgXHU2MjE2IGNsb3plXHVGRjBDXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXG4gICAgICBpZiAoZXh0cmFjdFR5cGUgPT09ICdRQScgfHwgZXh0cmFjdFR5cGUgPT09ICdjbG96ZScpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjYXJkVHlwZSA9IGV4dHJhY3RUeXBlID09PSAnUUEnID8gJ3FhJyA6ICdjbG96ZSc7XG4gICAgICAgICAgY29uc3QgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyLmNyZWF0ZUZsYXNoY2FyZEZyb21Vbml0KHVuaXQsIHtcbiAgICAgICAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIDMuIFx1NTE4RFx1NkIyMVx1NEZERFx1NUI1OCB1bml0XHVGRjA4XHU2NkY0XHU2NUIwIGZsYXNoY2FyZElkc1x1RkYwOVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyhbdW5pdF0pO1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tleHRyYWN0U2VsZWN0ZWRUZXh0XSBcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdTU5MzFcdThEMjU6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGV4dHJhY3RUeXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1N0VBRlx1NjU4N1x1NjcyQ1x1NjNEMFx1NTNENlx1NEU1Rlx1N0I5N1x1NEY1Q1x1NjNEMFx1NTNENlx1NEVGQlx1NTJBMVxuICAgICAgICBpZiAodGhpcy5wbHVnaW4/LnVubG9ja1N5c3RlbSkge1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkNhcmRFeHRyYWN0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0eXBlTmFtZXMgPSB7XG4gICAgICAgIHRleHQ6ICd0ZXh0JyxcbiAgICAgICAgUUE6ICdRQSBjYXJkJyxcbiAgICAgICAgY2xvemU6ICdjbG96ZSBjYXJkJ1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZShgXHUyNzA1IEV4dHJhY3RlZCBhcyAke3R5cGVOYW1lc1tleHRyYWN0VHlwZV19YCk7XG4gICAgICBcbiAgICAgIC8vIDQuIFx1NTIzN1x1NjVCMFx1NjI0MFx1NjcwOVx1ODlDNlx1NTZGRVxuICAgICAgdGhpcy5yZWZyZXNoQWxsVmlld3MoKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBleHRyYWN0aW5nIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKGBcdTI3NEMgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERDk1IFx1NjdFNVx1NjI3RVx1OTFDRFx1NTkwRFx1NzY4NCBDb250ZW50VW5pdFxuICAgKiBcdTY4MzlcdTYzNkVcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTU0OENcdTRGNERcdTdGNkVcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTVERjJcdTVCNThcdTU3MjhcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmluZER1cGxpY2F0ZVVuaXQodW5pdDogQ29udGVudFVuaXQpOiBQcm9taXNlPENvbnRlbnRVbml0IHwgbnVsbD4ge1xuICAgIGNvbnN0IGFsbFVuaXRzID0gYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKTtcbiAgICBcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVCNThcdTU3MjhcdTc2RjhcdTU0MENcdTRGNERcdTdGNkVcdTc2ODQgdW5pdFxuICAgIGNvbnN0IGR1cGxpY2F0ZSA9IGFsbFVuaXRzLmZpbmQoZXhpc3RpbmcgPT4gXG4gICAgICBleGlzdGluZy5zb3VyY2UuZmlsZSA9PT0gdW5pdC5zb3VyY2UuZmlsZSAmJlxuICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLnN0YXJ0ID09PSB1bml0LnNvdXJjZS5wb3NpdGlvbi5zdGFydCAmJlxuICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLmVuZCA9PT0gdW5pdC5zb3VyY2UucG9zaXRpb24uZW5kICYmXG4gICAgICBleGlzdGluZy50eXBlID09PSB1bml0LnR5cGVcbiAgICApO1xuICAgIFxuICAgIHJldHVybiBkdXBsaWNhdGUgfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0NcdUREOTUgXHU2OEMwXHU2N0U1XHU1MTg1XHU1QkI5XHU2NjJGXHU1NDI2XHU5MUNEXHU1OTBEXHVGRjA4XHU1N0ZBXHU0RThFXHU1MTg1XHU1QkI5XHU3NkY4XHU0RjNDXHU1RUE2XHVGRjA5XG4gICAqL1xuICBwcml2YXRlIGlzQ29udGVudER1cGxpY2F0ZShjb250ZW50MTogc3RyaW5nLCBjb250ZW50Mjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZDEgPSBjb250ZW50MS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBub3JtYWxpemVkMiA9IGNvbnRlbnQyLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBub3JtYWxpemVkMSA9PT0gbm9ybWFsaXplZDI7XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU3RUFGXHU2NTg3XHU2NzJDXHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVRleHRVbml0KFxuICAgIGZpbGU6IFRGaWxlLFxuICAgIHNlbGVjdGlvbjogc3RyaW5nLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGZpbGVDb250ZW50OiBzdHJpbmdcbiAgKTogQ29udGVudFVuaXQge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihmaWxlQ29udGVudCwgb2Zmc2V0KTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBjb250ZW50OiBzZWxlY3Rpb24udHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IHNlbGVjdGlvbi50cmltKCksXG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgZmlsZTogZmlsZS5wYXRoLFxuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIHN0YXJ0OiBvZmZzZXQsXG4gICAgICAgICAgZW5kOiBvZmZzZXQgKyBzZWxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhmaWxlQ29udGVudCwgb2Zmc2V0KSxcbiAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAgICAgfSxcbiAgICAgIGV4dHJhY3RSdWxlOiB7XG4gICAgICAgIHJ1bGVJZDogJ3RleHQtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgVGV4dCBFeHRyYWN0JyxcbiAgICAgICAgZXh0cmFjdGVkQnk6ICdtYW51YWwnXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHRhZ3M6IHRoaXMuZXh0cmFjdFRhZ3MoZmlsZUNvbnRlbnQsIG9mZnNldClcbiAgICAgIH0sXG4gICAgICBmbGFzaGNhcmRJZHM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMUJcdTVFRkEgUUEgXHU1MzYxXHU3MjQ3XHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVFBVW5pdChcbiAgICBmaWxlOiBURmlsZSxcbiAgICBzZWxlY3Rpb246IHN0cmluZyxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBmaWxlQ29udGVudDogc3RyaW5nXG4gICk6IENvbnRlbnRVbml0IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oZmlsZUNvbnRlbnQsIG9mZnNldCk7XG4gICAgXG4gICAgLy8gXHU1QzFEXHU4QkQ1XHU1MjA2XHU1MjcyXHU2MjEwXHU5NUVFXHU5ODk4XHU1NDhDXHU3QjU0XHU2ODQ4XG4gICAgbGV0IHF1ZXN0aW9uOiBzdHJpbmcsIGFuc3dlcjogc3RyaW5nO1xuICAgIFxuICAgIGlmIChzZWxlY3Rpb24uaW5jbHVkZXMoJzo6JykpIHtcbiAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NTMwNVx1NTQyQiA6OiBcdTUyMDZcdTk2OTRcdTdCMjZcbiAgICAgIGNvbnN0IHBhcnRzID0gc2VsZWN0aW9uLnNwbGl0KCc6OicpO1xuICAgICAgcXVlc3Rpb24gPSBwYXJ0c1swXS50cmltKCk7XG4gICAgICBhbnN3ZXIgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc6OicpLnRyaW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1NDI2XHU1MjE5XHU2NTc0XHU0RTJBXHU5MDA5XHU0RTJEXHU2NTg3XHU2NzJDXHU0RjVDXHU0RTNBXHU5NUVFXHU5ODk4XHVGRjBDXHU3QjU0XHU2ODQ4XHU0RTNBXHU3QTdBXHVGRjA4XHU5NzAwXHU4OTgxXHU3NTI4XHU2MjM3XHU4ODY1XHU1MTQ1XHVGRjA5XG4gICAgICBxdWVzdGlvbiA9IHNlbGVjdGlvbi50cmltKCk7XG4gICAgICBhbnN3ZXIgPSAnW0Fuc3dlciBuZWVkZWRdJztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdHlwZTogJ1FBJyxcbiAgICAgIGNvbnRlbnQ6IHF1ZXN0aW9uLFxuICAgICAgYW5zd2VyOiBhbnN3ZXIsXG4gICAgICBmdWxsQ29udGV4dDogc2VsZWN0aW9uLnRyaW0oKSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG9mZnNldCxcbiAgICAgICAgICBlbmQ6IG9mZnNldCArIHNlbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICB9LFxuICAgICAgICBoZWFkaW5nOiB0aGlzLmZpbmRIZWFkaW5nKGZpbGVDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICBhbmNob3JMaW5rOiBgW1ske2ZpbGUuYmFzZW5hbWV9I14ke3RoaXMuZ2VuZXJhdGVCbG9ja0lkKCl9XV1gXG4gICAgICB9LFxuICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgcnVsZUlkOiAnUUEtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgUUEgQ2FyZCcsXG4gICAgICAgIGV4dHJhY3RlZEJ5OiAnbWFudWFsJ1xuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGZpbGVDb250ZW50LCBvZmZzZXQpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU1MzYxXHU3MjQ3XHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUNsb3plVW5pdChcbiAgICBmaWxlOiBURmlsZSxcbiAgICBzZWxlY3Rpb246IHN0cmluZyxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBmaWxlQ29udGVudDogc3RyaW5nXG4gICk6IENvbnRlbnRVbml0IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oZmlsZUNvbnRlbnQsIG9mZnNldCk7XG4gICAgY29uc3QgZnVsbFNlbnRlbmNlID0gdGhpcy5leHRyYWN0RnVsbFNlbnRlbmNlKGZpbGVDb250ZW50LCBvZmZzZXQsIHNlbGVjdGlvbi5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHR5cGU6ICdjbG96ZScsXG4gICAgICBjb250ZW50OiBzZWxlY3Rpb24udHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IGZ1bGxTZW50ZW5jZSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG9mZnNldCxcbiAgICAgICAgICBlbmQ6IG9mZnNldCArIHNlbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICB9LFxuICAgICAgICBoZWFkaW5nOiB0aGlzLmZpbmRIZWFkaW5nKGZpbGVDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICBhbmNob3JMaW5rOiBgW1ske2ZpbGUuYmFzZW5hbWV9I14ke3RoaXMuZ2VuZXJhdGVCbG9ja0lkKCl9XV1gXG4gICAgICB9LFxuICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgcnVsZUlkOiAnY2xvemUtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgQ2xvemUgQ2FyZCcsXG4gICAgICAgIGV4dHJhY3RlZEJ5OiAnbWFudWFsJ1xuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGZpbGVDb250ZW50LCBvZmZzZXQpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU0RUNFXHU1MTQ5XHU2ODA3XHU0RjREXHU3RjZFXHU4QkExXHU3Qjk3XHU2NTg3XHU0RUY2XHU1MDRGXHU3OUZCXHU5MUNGXG4gICAqL1xuICBwcml2YXRlIGdldE9mZnNldEZyb21DdXJzb3IoY29udGVudDogc3RyaW5nLCBsaW5lOiBudW1iZXIsIGNoOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lOyBpKyspIHtcbiAgICAgIG9mZnNldCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xuICAgIH1cbiAgICBcbiAgICBvZmZzZXQgKz0gY2g7XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNkJcdTYzQ0ZcdTUzNTVcdTRFMkFcdTY1ODdcdTRFRjZcbiAgICovXG4gIGFzeW5jIHNjYW5GaWxlKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICBjb25zdCB1bml0cyA9IGF3YWl0IHRoaXMuZXh0cmFjdENvbnRlbnQoZmlsZSwgY29udGVudCk7XG4gICAgICBcbiAgICAgIGlmICh1bml0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyh1bml0cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBxYUNvdW50ID0gdW5pdHMuZmlsdGVyKHUgPT4gdS50eXBlID09PSAnUUEnKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNsb3plQ291bnQgPSB1bml0cy5maWx0ZXIodSA9PiB1LnR5cGUgPT09ICdjbG96ZScpLmxlbmd0aDtcbiAgICAgICAgbmV3IE5vdGljZShgRXh0cmFjdGVkICR7cWFDb3VudH0gUUEgY2FyZHMgYW5kICR7Y2xvemVDb3VudH0gY2xvemUgY2FyZHMgZnJvbSAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVmcmVzaEFsbFZpZXdzKCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1bml0cy5sZW5ndGg7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzY2FuRmlsZV0gXHU5NTE5XHU4QkVGOicsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoYEVycm9yIHNjYW5uaW5nIGZpbGU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuICBcbiAgLyoqXG4gICAqIFx1NTIzN1x1NjVCMFx1NjI0MFx1NjcwOVx1NzZGOFx1NTE3M1x1ODlDNlx1NTZGRVxuICAgKi9cbiAgcHJpdmF0ZSByZWZyZXNoQWxsVmlld3MoKSB7XG4gICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMobGVhZiA9PiB7XG4gICAgICBjb25zdCB2aWV3VHlwZSA9IGxlYWYudmlldy5nZXRWaWV3VHlwZSgpO1xuICAgICAgaWYgKHZpZXdUeXBlID09PSAnbGVhcm5pbmctc3lzdGVtLXNpZGViYXItb3ZlcnZpZXcnIHx8IFxuICAgICAgICAgIHZpZXdUeXBlID09PSAnbGVhcm5pbmctc3lzdGVtLW1haW4tb3ZlcnZpZXcnKSB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gbGVhZi52aWV3IGFzIFNpZGViYXJPdmVydmlld1ZpZXc7XG4gICAgICAgICAgICBpZiAodmlldyAmJiB0eXBlb2Ygdmlldy5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHZpZXcucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjI2Qlx1NjNDRlx1NjU3NFx1NEUyQSBWYXVsdFxuICAgKi9cbiAgYXN5bmMgc2NhblZhdWx0KCk6IFByb21pc2U8eyBzY2FubmVkOiBudW1iZXI7IGV4dHJhY3RlZDogbnVtYmVyIH0+IHtcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICBsZXQgc2Nhbm5lZCA9IDA7XG4gICAgbGV0IGV4dHJhY3RlZCA9IDA7XG5cbiAgICBuZXcgTm90aWNlKGBTY2FubmluZyAke2ZpbGVzLmxlbmd0aH0gZmlsZXMuLi5gKTtcblxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgY29uc3QgY291bnQgPSBhd2FpdCB0aGlzLnNjYW5GaWxlKGZpbGUpO1xuICAgICAgc2Nhbm5lZCsrO1xuICAgICAgZXh0cmFjdGVkICs9IGNvdW50O1xuICAgIH1cblxuICAgIG5ldyBOb3RpY2UoYFNjYW4gY29tcGxldGUhIEV4dHJhY3RlZCAke2V4dHJhY3RlZH0gaXRlbXMgZnJvbSAke3NjYW5uZWR9IGZpbGVzLmApO1xuXG4gICAgcmV0dXJuIHsgc2Nhbm5lZCwgZXh0cmFjdGVkIH07XG4gIH1cblxuICAvKipcbiAgICogXHVEODNEXHVERDI3IFx1NEZFRVx1NjUzOTogXHU1MTQ4XHU0RkREXHU1QjU4IHVuaXRzXHVGRjBDXHU1MThEXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXHVGRjBDXHU1NDBDXHU2NUY2XHU4RkM3XHU2RUU0XHU5MUNEXHU1OTBEXHU5ODc5XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGV4dHJhY3RDb250ZW50KGZpbGU6IFRGaWxlLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPENvbnRlbnRVbml0W10+IHtcbiAgICBjb25zdCB1bml0czogQ29udGVudFVuaXRbXSA9IFtdO1xuICAgIFxuICAgIC8vIDFcdUZFMEZcdTIwRTMgXHU1MTQ4XHU2M0QwXHU1M0Q2XHU2MjQwXHU2NzA5IHVuaXRzXHVGRjA4XHU0RTBEXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXHVGRjA5XG4gICAgY29uc3QgcWFVbml0cyA9IHRoaXMuZXh0cmFjdFFBQ2FyZHMoZmlsZSwgY29udGVudCk7XG4gICAgY29uc3QgY2xvemVVbml0cyA9IGF3YWl0IHRoaXMuZXh0cmFjdENsb3plQ2FyZHMoZmlsZSwgY29udGVudCk7XG5cbiAgICBjb25zdCBhbGxFeHRyYWN0ZWRVbml0cyA9IFsuLi5xYVVuaXRzLCAuLi5jbG96ZVVuaXRzXTtcbiAgICBcbiAgICAvLyAyXHVGRTBGXHUyMEUzIFx1RDgzQ1x1REQ5NSBcdThGQzdcdTZFRTRcdTkxQ0RcdTU5MERcdTc2ODQgdW5pdHNcbiAgICBjb25zdCBleGlzdGluZ1VuaXRzID0gYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKTtcbiAgICBjb25zdCBuZXdVbml0cyA9IGF3YWl0IHRoaXMuZmlsdGVyRHVwbGljYXRlVW5pdHMoYWxsRXh0cmFjdGVkVW5pdHMsIGV4aXN0aW5nVW5pdHMpO1xuICAgIFxuICAgIGlmIChuZXdVbml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIG5ldyBOb3RpY2UoYCAke2ZpbGUubmFtZX06IFx1NkNBMVx1NjcwOVx1NjVCMFx1NTE4NVx1NUJCOVx1OTcwMFx1ODk4MVx1NjNEMFx1NTNENmApO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICBpZiAobmV3VW5pdHMubGVuZ3RoIDwgYWxsRXh0cmFjdGVkVW5pdHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gYWxsRXh0cmFjdGVkVW5pdHMubGVuZ3RoIC0gbmV3VW5pdHMubGVuZ3RoO1xuICAgICAgbmV3IE5vdGljZShgICR7ZmlsZS5uYW1lfTogXHU4REYzXHU4RkM3ICR7c2tpcHBlZH0gXHU0RTJBXHU5MUNEXHU1OTBEXHU5ODc5YCk7XG4gICAgfVxuICAgIFxuICAgIHVuaXRzLnB1c2goLi4ubmV3VW5pdHMpO1xuICAgIFxuICAgIC8vIDNcdUZFMEZcdTIwRTMgXHU1MTQ4XHU0RkREXHU1QjU4XHU2MjQwXHU2NzA5XHU2NUIwIHVuaXRzIFx1NTIzMCBEYXRhTWFuYWdlclxuICAgIGlmICh1bml0cy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdHModW5pdHMpO1xuICAgIH1cbiAgICBcbiAgICAvLyA0XHVGRTBGXHUyMEUzIFx1NTE4RFx1NEUzQVx1NkJDRlx1NEUyQSB1bml0IFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVxuICAgIGZvciAoY29uc3QgdW5pdCBvZiB1bml0cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2FyZFR5cGUgPSB1bml0LnR5cGUgPT09ICdRQScgPyAncWEnIDogJ2Nsb3plJztcbiAgICAgICAgY29uc3QgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyLmNyZWF0ZUZsYXNoY2FyZEZyb21Vbml0KHVuaXQsIHtcbiAgICAgICAgICBjYXJkVHlwZTogY2FyZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZXh0cmFjdENvbnRlbnRdIFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1NTkzMVx1OEQyNTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB1bml0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0NcdUREOTUgXHU4RkM3XHU2RUU0XHU5MUNEXHU1OTBEXHU3Njg0IHVuaXRzXG4gICAqIFx1NjgzOVx1NjM2RVx1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1MzAwMVx1NEY0RFx1N0Y2RVx1NTQ4Q1x1NTE4NVx1NUJCOVx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1OTFDRFx1NTkwRFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBmaWx0ZXJEdXBsaWNhdGVVbml0cyhcbiAgICBuZXdVbml0czogQ29udGVudFVuaXRbXSwgXG4gICAgZXhpc3RpbmdVbml0czogQ29udGVudFVuaXRbXVxuICApOiBQcm9taXNlPENvbnRlbnRVbml0W10+IHtcbiAgICBjb25zdCBmaWx0ZXJlZDogQ29udGVudFVuaXRbXSA9IFtdO1xuICAgIFxuICAgIGZvciAoY29uc3QgbmV3VW5pdCBvZiBuZXdVbml0cykge1xuICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBleGlzdGluZ1VuaXRzLnNvbWUoZXhpc3RpbmcgPT4ge1xuICAgICAgICAvLyBcdTY1QjlcdTVGMEYxOiBcdTc2RjhcdTU0MENcdTY1ODdcdTRFRjYgKyBcdTc2RjhcdTU0MENcdTRGNERcdTdGNkUgKyBcdTc2RjhcdTU0MENcdTdDN0JcdTU3OEJcbiAgICAgICAgY29uc3Qgc2FtZUxvY2F0aW9uID0gXG4gICAgICAgICAgZXhpc3Rpbmcuc291cmNlLmZpbGUgPT09IG5ld1VuaXQuc291cmNlLmZpbGUgJiZcbiAgICAgICAgICBleGlzdGluZy5zb3VyY2UucG9zaXRpb24uc3RhcnQgPT09IG5ld1VuaXQuc291cmNlLnBvc2l0aW9uLnN0YXJ0ICYmXG4gICAgICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLmVuZCA9PT0gbmV3VW5pdC5zb3VyY2UucG9zaXRpb24uZW5kICYmXG4gICAgICAgICAgZXhpc3RpbmcudHlwZSA9PT0gbmV3VW5pdC50eXBlO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2NUI5XHU1RjBGMjogXHU3NkY4XHU1NDBDXHU2NTg3XHU0RUY2ICsgXHU3NkY4XHU1NDBDXHU1MTg1XHU1QkI5ICsgXHU3NkY4XHU1NDBDXHU3QzdCXHU1NzhCXHVGRjA4XHU5NjMyXHU2QjYyXHU0RjREXHU3RjZFXHU1MDRGXHU3OUZCXHVGRjA5XG4gICAgICAgIGNvbnN0IHNhbWVDb250ZW50ID0gXG4gICAgICAgICAgZXhpc3Rpbmcuc291cmNlLmZpbGUgPT09IG5ld1VuaXQuc291cmNlLmZpbGUgJiZcbiAgICAgICAgICBleGlzdGluZy50eXBlID09PSBuZXdVbml0LnR5cGUgJiZcbiAgICAgICAgICB0aGlzLmlzQ29udGVudER1cGxpY2F0ZShleGlzdGluZy5jb250ZW50LCBuZXdVbml0LmNvbnRlbnQpICYmXG4gICAgICAgICAgdGhpcy5pc0NvbnRlbnREdXBsaWNhdGUoZXhpc3RpbmcuZnVsbENvbnRleHQgfHwgJycsIG5ld1VuaXQuZnVsbENvbnRleHQgfHwgJycpO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2NUI5XHU1RjBGMzogXHU1QkY5XHU0RThFIFFBIFx1N0M3Qlx1NTc4Qlx1RkYwQ1x1OTg5RFx1NTkxNlx1NjhDMFx1NjdFNVx1N0I1NFx1Njg0OFx1NjYyRlx1NTQyNlx1NzZGOFx1NTQwQ1xuICAgICAgICBjb25zdCBzYW1lUUEgPSBleGlzdGluZy50eXBlID09PSAnUUEnICYmIG5ld1VuaXQudHlwZSA9PT0gJ1FBJyAmJlxuICAgICAgICAgIGV4aXN0aW5nLnNvdXJjZS5maWxlID09PSBuZXdVbml0LnNvdXJjZS5maWxlICYmXG4gICAgICAgICAgdGhpcy5pc0NvbnRlbnREdXBsaWNhdGUoZXhpc3RpbmcuY29udGVudCwgbmV3VW5pdC5jb250ZW50KSAmJlxuICAgICAgICAgIHRoaXMuaXNDb250ZW50RHVwbGljYXRlKGV4aXN0aW5nLmFuc3dlciB8fCAnJywgbmV3VW5pdC5hbnN3ZXIgfHwgJycpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNhbWVMb2NhdGlvbiB8fCBzYW1lQ29udGVudCB8fCBzYW1lUUE7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgICBmaWx0ZXJlZC5wdXNoKG5ld1VuaXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmlsdGVyZWQ7XG4gIH1cblxuICAvKipcbiAgICogXHUyNzA1IFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NEUzQVx1NEVGQlx1NTJBMVx1NUI4Q1x1NjIxMFx1NjgwN1x1OEJCMFxuICAgKiBcdTYzOTJcdTk2NjQ6IFtjb21wbGV0aW9uOjogZGF0ZV0sIFtkdWU6OiBkYXRlXSBcdTdCNDlcdTRFRkJcdTUyQTFcdTc2RjhcdTUxNzNcdTc2ODQgOjogXHU2ODNDXHU1RjBGXG4gICAqL1xuICBwcml2YXRlIGlzVGFza0NvbXBsZXRpb24obGluZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgLy8gXHU1MzM5XHU5MTREXHU0RUZCXHU1MkExXHU2ODA3XHU4QkIwOiAtIFsgXSBcdTYyMTYgLSBbeF0gXHU1RjAwXHU1OTM0XHU3Njg0XHU4ODRDLFx1NEUxNFx1NTMwNVx1NTQyQiA6OiBcbiAgICBjb25zdCB0YXNrUGF0dGVybiA9IC9eW1xcc10qLVxccypcXFtbeFxcc11cXF0uKjo6L2k7XG4gICAgcmV0dXJuIHRhc2tQYXR0ZXJuLnRlc3QobGluZSk7XG4gIH1cblxuICAvKipcbiAgICogXHUyNzA1IFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NEUzQVx1NjVFNVx1NjcxRi9cdTY1RjZcdTk1RjRcdTVCNTdcdTZCQjVcbiAgICogXHU2MzkyXHU5NjY0OiBkYXRlMTo6IDIwMjEtMDItMjZUMTU6MTUsIGRhdGUyOjogMjAyMS0wNC0xNyAxODowMCBcdTdCNDlcdTY4M0NcdTVGMEZcbiAgICovXG4gIHByaXZhdGUgaXNEYXRlVGltZUZpZWxkKHF1ZXN0aW9uOiBzdHJpbmcsIGFuc3dlcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgLy8gXHU2OEMwXHU2N0U1XHU5NUVFXHU5ODk4XHU5MEU4XHU1MjA2XHU2NjJGXHU1NDI2XHU1MzA1XHU1NDJCXHU1RTM4XHU4OUMxXHU3Njg0XHU2NUU1XHU2NzFGL1x1NjVGNlx1OTVGNFx1NUI1N1x1NkJCNVx1NTQwRFxuICAgIGNvbnN0IGRhdGVGaWVsZFBhdHRlcm4gPSAvXFxiKGRhdGVcXGQqfHRpbWVcXGQqfGNyZWF0ZWR8dXBkYXRlZHxtb2RpZmllZHxzY2hlZHVsZWR8ZHVlfGNvbXBsZXRpb24pXFxiL2k7XG4gICAgXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU3QjU0XHU2ODQ4XHU5MEU4XHU1MjA2XHU2NjJGXHU1NDI2XHU0RTNBXHU2NUU1XHU2NzFGL1x1NjVGNlx1OTVGNFx1NjgzQ1x1NUYwRlxuICAgIGNvbnN0IGRhdGVUaW1lUGF0dGVybiA9IC9eXFxzKlxcZHs0fS1cXGR7Mn0tXFxkezJ9KFR8XFxzKVxcZHsyfTpcXGR7Mn18XFxkezR9LVxcZHsyfS1cXGR7Mn1cXHMrXFxkezJ9OlxcZHsyfS87XG4gICAgY29uc3QgZGF0ZU9ubHlQYXR0ZXJuID0gL15cXHMqXFxkezR9LVxcZHsyfS1cXGR7Mn1cXHMqJC87XG4gICAgXG4gICAgcmV0dXJuIGRhdGVGaWVsZFBhdHRlcm4udGVzdChxdWVzdGlvbikgJiYgXG4gICAgICAgICAgIChkYXRlVGltZVBhdHRlcm4udGVzdChhbnN3ZXIpIHx8IGRhdGVPbmx5UGF0dGVybi50ZXN0KGFuc3dlcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MjcwNSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0EgRXhjYWxpZHJhdyBcdTlBRDhcdTRFQUVcbiAgICogXHU2MzkyXHU5NjY0OiA9PXN3aXRjaCB0byBleGNhbGlkcmF3IHZpZXcuLi49PSBcdThGRDlcdTdDN0JcdTcyNzlcdTVCOUFcdTlBRDhcdTRFQUVcbiAgICovXG4gIHByaXZhdGUgaXNFeGNhbGlkcmF3SGlnaGxpZ2h0KG1hdGNoVGV4dDogc3RyaW5nLCBsaW5lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAvLyBcdTU5ODJcdTY3OUNcdTlBRDhcdTRFQUVcdTUxODVcdTVCQjlcdTUzMDVcdTU0MkIgZXhjYWxpZHJhdyBcdTc2RjhcdTUxNzNcdTUxNzNcdTk1MkVcdThCQ0RcbiAgICBjb25zdCBleGNhbGlkcmF3S2V5d29yZHMgPSAvZXhjYWxpZHJhd3xkcmF3aW5nfHNrZXRjaC9pO1xuICAgIHJldHVybiBleGNhbGlkcmF3S2V5d29yZHMudGVzdChtYXRjaFRleHQpIHx8IGV4Y2FsaWRyYXdLZXl3b3Jkcy50ZXN0KGxpbmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MjcwNSBcdTYzRDBcdTUzRDYgUUEgXHU1MzYxXHU3MjQ3IChcdTY4M0NcdTVGMEY6IFF1ZXN0aW9uIDo6IEFuc3dlcilcbiAgICogXHU2NUIwXHU1ODlFOiBcdThGQzdcdTZFRTRcdTRFRkJcdTUyQTFcdTVCOENcdTYyMTBcdTY4MDdcdThCQjBcdTU0OENcdTY1RTVcdTY3MUZcdTY1RjZcdTk1RjRcdTVCNTdcdTZCQjVcbiAgICovXG4gIHByaXZhdGUgZXh0cmFjdFFBQ2FyZHMoZmlsZTogVEZpbGUsIGNvbnRlbnQ6IHN0cmluZyk6IENvbnRlbnRVbml0W10ge1xuICAgIGNvbnN0IHVuaXRzOiBDb250ZW50VW5pdFtdID0gW107XG4gICAgY29uc3QgcWFSZWdleCA9IC9eKC4rPylcXHMqOjpcXHMqKC4rPykkL2dtO1xuICAgIGxldCBtYXRjaDtcblxuICAgIHdoaWxlICgobWF0Y2ggPSBxYVJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBmdWxsTWF0Y2ggPSBtYXRjaFswXTtcbiAgICAgIGNvbnN0IHF1ZXN0aW9uID0gbWF0Y2hbMV0udHJpbSgpO1xuICAgICAgY29uc3QgYW5zd2VyID0gbWF0Y2hbMl0udHJpbSgpO1xuICAgICAgXG4gICAgICAvLyBcdTI3MDUgXHU4REYzXHU4RkM3XHU0RUZCXHU1MkExXHU1QjhDXHU2MjEwXHU2ODA3XHU4QkIwXG4gICAgICBpZiAodGhpcy5pc1Rhc2tDb21wbGV0aW9uKGZ1bGxNYXRjaCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFx1MjcwNSBcdThERjNcdThGQzdcdTY1RTVcdTY3MUZcdTY1RjZcdTk1RjRcdTVCNTdcdTZCQjVcbiAgICAgIGlmICh0aGlzLmlzRGF0ZVRpbWVGaWVsZChxdWVzdGlvbiwgYW5zd2VyKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcblxuICAgICAgY29uc3QgdW5pdDogQ29udGVudFVuaXQgPSB7XG4gICAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgICAgdHlwZTogJ1FBJyxcbiAgICAgICAgY29udGVudDogcXVlc3Rpb24sXG4gICAgICAgIGFuc3dlcjogYW5zd2VyLFxuICAgICAgICBmdWxsQ29udGV4dDogZnVsbE1hdGNoLFxuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgIHN0YXJ0OiBtYXRjaC5pbmRleCxcbiAgICAgICAgICAgIGVuZDogbWF0Y2guaW5kZXggKyBmdWxsTWF0Y2gubGVuZ3RoLFxuICAgICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhjb250ZW50LCBtYXRjaC5pbmRleCksXG4gICAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAgICAgICB9LFxuICAgICAgICBleHRyYWN0UnVsZToge1xuICAgICAgICAgIHJ1bGVJZDogJ1FBJyxcbiAgICAgICAgICBydWxlTmFtZTogJ1FBIENhcmQnLFxuICAgICAgICAgIGV4dHJhY3RlZEJ5OiAnYXV0bydcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgIHRhZ3M6IHRoaXMuZXh0cmFjdFRhZ3MoY29udGVudCwgbWF0Y2guaW5kZXgpXG4gICAgICAgIH0sXG4gICAgICAgIGZsYXNoY2FyZElkczogW11cbiAgICAgIH07XG5cbiAgICAgIHVuaXRzLnB1c2godW5pdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MjcwNSBcdTYzRDBcdTUzRDZcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTUzNjEgKFx1NjgzQ1x1NUYwRjogPT1oaWdobGlnaHQ9PSlcbiAgICogXHU2NUIwXHU1ODlFOiBcdThGQzdcdTZFRTQgRXhjYWxpZHJhdyBcdTlBRDhcdTRFQUVcbiAgICovXG4gIC8vIHByaXZhdGUgZXh0cmFjdENsb3plQ2FyZHMoZmlsZTogVEZpbGUsIGNvbnRlbnQ6IHN0cmluZyk6IENvbnRlbnRVbml0W10ge1xuICAvLyAgIGNvbnN0IHVuaXRzOiBDb250ZW50VW5pdFtdID0gW107XG4gIC8vICAgY29uc3QgaGlnaGxpZ2h0UmVnZXggPSAvPT0oLis/KT09L2c7XG4gIC8vICAgbGV0IG1hdGNoO1xuXG4gIC8vICAgd2hpbGUgKChtYXRjaCA9IGhpZ2hsaWdodFJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gIC8vICAgICBjb25zdCBleHRyYWN0ZWRUZXh0ID0gbWF0Y2hbMV07XG4gIC8vICAgICBjb25zdCBmdWxsTWF0Y2ggPSBtYXRjaFswXTtcbiAgLy8gICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBtYXRjaC5pbmRleCk7XG4gICAgICBcbiAgLy8gICAgIC8vIFx1ODNCN1x1NTNENlx1NUY1M1x1NTI0RFx1ODg0Q1x1NTE4NVx1NUJCOVxuICAvLyAgICAgY29uc3QgbGluZVN0YXJ0ID0gY29udGVudC5sYXN0SW5kZXhPZignXFxuJywgbWF0Y2guaW5kZXgpICsgMTtcbiAgLy8gICAgIGNvbnN0IGxpbmVFbmQgPSBjb250ZW50LmluZGV4T2YoJ1xcbicsIG1hdGNoLmluZGV4KTtcbiAgLy8gICAgIGNvbnN0IGN1cnJlbnRMaW5lID0gY29udGVudC5zdWJzdHJpbmcobGluZVN0YXJ0LCBsaW5lRW5kID09PSAtMSA/IGNvbnRlbnQubGVuZ3RoIDogbGluZUVuZCk7XG4gICAgICBcbiAgLy8gICAgIC8vIFx1MjcwNSBcdThERjNcdThGQzcgRXhjYWxpZHJhdyBcdTlBRDhcdTRFQUVcbiAgLy8gICAgIGlmICh0aGlzLmlzRXhjYWxpZHJhd0hpZ2hsaWdodChleHRyYWN0ZWRUZXh0LCBjdXJyZW50TGluZSkpIHtcbiAgLy8gICAgICAgY29udGludWU7XG4gIC8vICAgICB9XG4gICAgICBcbiAgLy8gICAgIGNvbnN0IGZ1bGxTZW50ZW5jZSA9IHRoaXMuZXh0cmFjdEZ1bGxTZW50ZW5jZShjb250ZW50LCBtYXRjaC5pbmRleCwgZnVsbE1hdGNoLmxlbmd0aCk7XG5cbiAgLy8gICAgIGNvbnN0IHVuaXQ6IENvbnRlbnRVbml0ID0ge1xuICAvLyAgICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gIC8vICAgICAgIHR5cGU6ICdjbG96ZScsXG4gIC8vICAgICAgIGNvbnRlbnQ6IGV4dHJhY3RlZFRleHQudHJpbSgpLFxuICAvLyAgICAgICBmdWxsQ29udGV4dDogZnVsbFNlbnRlbmNlLFxuICAvLyAgICAgICBzb3VyY2U6IHtcbiAgLy8gICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gIC8vICAgICAgICAgcG9zaXRpb246IHtcbiAgLy8gICAgICAgICAgIHN0YXJ0OiBtYXRjaC5pbmRleCxcbiAgLy8gICAgICAgICAgIGVuZDogbWF0Y2guaW5kZXggKyBmdWxsTWF0Y2gubGVuZ3RoLFxuICAvLyAgICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAvLyAgICAgICAgIH0sXG4gIC8vICAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhjb250ZW50LCBtYXRjaC5pbmRleCksXG4gIC8vICAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAvLyAgICAgICB9LFxuICAvLyAgICAgICBleHRyYWN0UnVsZToge1xuICAvLyAgICAgICAgIHJ1bGVJZDogJ2Nsb3plJyxcbiAgLy8gICAgICAgICBydWxlTmFtZTogJ0Nsb3plIERlbGV0aW9uJyxcbiAgLy8gICAgICAgICBleHRyYWN0ZWRCeTogJ2F1dG8nXG4gIC8vICAgICAgIH0sXG4gIC8vICAgICAgIG1ldGFkYXRhOiB7XG4gIC8vICAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAvLyAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgLy8gICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGNvbnRlbnQsIG1hdGNoLmluZGV4KVxuICAvLyAgICAgICB9LFxuICAvLyAgICAgICBmbGFzaGNhcmRJZHM6IFtdXG4gIC8vICAgICB9O1xuXG4gIC8vICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAvLyAgIH1cblxuICAvLyAgIHJldHVybiB1bml0cztcbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBcdTYzRDBcdTUzRDZcdTUzMDVcdTU0MkJcdTlBRDhcdTRFQUVcdTc2ODRcdTVCOENcdTY1NzRcdTUzRTVcdTVCNTBcbiAgICovXG4gIHByaXZhdGUgZXh0cmFjdEZ1bGxTZW50ZW5jZShjb250ZW50OiBzdHJpbmcsIGhpZ2hsaWdodFN0YXJ0OiBudW1iZXIsIGhpZ2hsaWdodExlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBzZW50ZW5jZUVuZHMgPSAvWy4hP1x1MzAwMlx1RkYwMT9cXG5dLztcbiAgICBcbiAgICBsZXQgc3RhcnQgPSBoaWdobGlnaHRTdGFydDtcbiAgICB3aGlsZSAoc3RhcnQgPiAwKSB7XG4gICAgICBjb25zdCBjaGFyID0gY29udGVudFtzdGFydCAtIDFdO1xuICAgICAgaWYgKHNlbnRlbmNlRW5kcy50ZXN0KGNoYXIpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhcnQtLTtcbiAgICB9XG4gICAgXG4gICAgbGV0IGVuZCA9IGhpZ2hsaWdodFN0YXJ0ICsgaGlnaGxpZ2h0TGVuZ3RoO1xuICAgIHdoaWxlIChlbmQgPCBjb250ZW50Lmxlbmd0aCkge1xuICAgICAgY29uc3QgY2hhciA9IGNvbnRlbnRbZW5kXTtcbiAgICAgIGlmIChzZW50ZW5jZUVuZHMudGVzdChjaGFyKSkge1xuICAgICAgICBlbmQrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlbmQrKztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNvbnRlbnQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpLnRyaW0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdThCQTFcdTdCOTdcdTY1ODdcdTY3MkNcdTRGNERcdTdGNkVcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlUG9zaXRpb24oY29udGVudDogc3RyaW5nLCBvZmZzZXQ6IG51bWJlcik6IHsgbGluZTogbnVtYmVyOyBjb2x1bW46IG51bWJlciB9IHtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIG9mZnNldCkuc3BsaXQoJ1xcbicpO1xuICAgIHJldHVybiB7XG4gICAgICBsaW5lOiBsaW5lcy5sZW5ndGggLSAxLFxuICAgICAgY29sdW1uOiBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGhcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjdFNVx1NjI3RVx1NjI0MFx1NTcyOFx1NjgwN1x1OTg5OFxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kSGVhZGluZyhjb250ZW50OiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGJlZm9yZUNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBwb3NpdGlvbik7XG4gICAgY29uc3QgaGVhZGluZ3MgPSBiZWZvcmVDb250ZW50Lm1hdGNoKC9eI3sxLDZ9IC4rJC9nbSk7XG4gICAgcmV0dXJuIGhlYWRpbmdzID8gaGVhZGluZ3NbaGVhZGluZ3MubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogXHU2M0QwXHU1M0Q2XHU5NjQ0XHU4RkQxXHU3Njg0XHU2ODA3XHU3QjdFXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RUYWdzKGNvbnRlbnQ6IHN0cmluZywgcG9zaXRpb246IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICBjb25zdCB0YWdzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgXG4gICAgLy8gMS4gXHU2M0QwXHU1M0Q2IFlBTUwgZnJvbnRtYXR0ZXIgXHU0RTJEXHU3Njg0IHRhZ3NcbiAgICBjb25zdCB5YW1sTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9eLS0tXFxuKFtcXHNcXFNdKj8pXFxuLS0tLyk7XG4gICAgaWYgKHlhbWxNYXRjaCkge1xuICAgICAgY29uc3QgeWFtbENvbnRlbnQgPSB5YW1sTWF0Y2hbMV07XG4gICAgICBjb25zdCB0YWdzTWF0Y2ggPSB5YW1sQ29udGVudC5tYXRjaCgvXnRhZ3M6XFxzKiguKykkL20pO1xuICAgICAgaWYgKHRhZ3NNYXRjaCkge1xuICAgICAgICBjb25zdCB0YWdDb250ZW50ID0gdGFnc01hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgaWYgKHRhZ0NvbnRlbnQuc3RhcnRzV2l0aCgnWycpKSB7XG4gICAgICAgICAgY29uc3QgYXJyYXlUYWdzID0gdGFnQ29udGVudC5tYXRjaCgvW1xcdy8tXSsvZyk7XG4gICAgICAgICAgYXJyYXlUYWdzPy5mb3JFYWNoKHRhZyA9PiB0YWdzLmFkZChgIyR7dGFnfWApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWdDb250ZW50LnNwbGl0KCcsJykuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IHRhZy50cmltKCk7XG4gICAgICAgICAgICBpZiAoY2xlYW5lZCkgdGFncy5hZGQoYCMke2NsZWFuZWR9YCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gMi4gXHU2M0QwXHU1M0Q2XHU1M0U1XHU1QjUwXHU2NzJCXHU1QzNFXHU3Njg0IGlubGluZSB0YWdzXG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnN1YnN0cmluZygwLCBwb3NpdGlvbikuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IGN1cnJlbnRMaW5lID0gbGluZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBsaW5lQ29udGVudCA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpW2N1cnJlbnRMaW5lXSB8fCAnJztcbiAgICBcbiAgICBjb25zdCBpbmxpbmVUYWdSZWdleCA9IC8jW1xcdy8tXSsvZztcbiAgICBjb25zdCBpbmxpbmVUYWdzID0gbGluZUNvbnRlbnQubWF0Y2goaW5saW5lVGFnUmVnZXgpO1xuICAgIGlubGluZVRhZ3M/LmZvckVhY2godGFnID0+IHRhZ3MuYWRkKHRhZykpO1xuICAgIFxuICAgIHJldHVybiBBcnJheS5mcm9tKHRhZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1NTUyRlx1NEUwMCBJRFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cblxuICAvKipcbiAgICogXHU3NTFGXHU2MjEwIEJsb2NrIElEXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlQmxvY2tJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgZXh0cmFjdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDYpfWA7XG4gIH1cblxuXG4vLyBcdTg4NjhcdTY4M0NcdTYzRDBcdTUzRDZcdTY1QjlcdTZDRDVcbi8qKlxuICogXHVEODNDXHVERDk1IFx1NjhDMFx1NkQ0Qlx1OUFEOFx1NEVBRVx1NjYyRlx1NTQyNlx1NTcyOFx1ODg2OFx1NjgzQ1x1NEUyRFxuICovXG5wcml2YXRlIGlzSW5UYWJsZShjb250ZW50OiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgY29uc3QgeyBsaW5lIH0gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIHBvc2l0aW9uKTtcbiAgXG4gIC8vIFx1NjhDMFx1NjdFNVx1NUY1M1x1NTI0RFx1ODg0Q1x1NjYyRlx1NTQyNlx1NEUzQVx1ODg2OFx1NjgzQ1x1ODg0Q1x1RkYwOFx1NTMwNVx1NTQyQiB8IFx1NTIwNlx1OTY5NFx1N0IyNlx1RkYwOVxuICBpZiAoIWxpbmVzW2xpbmVdPy5pbmNsdWRlcygnfCcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICAvLyBcdTY4QzBcdTY3RTVcdTUyNERcdTU0MEVcdTg4NENcdTY2MkZcdTU0MjZcdTRFNUZcdTY2MkZcdTg4NjhcdTY4M0NcbiAgY29uc3QgaGFzUHJldlRhYmxlTGluZSA9IGxpbmUgPiAwICYmIGxpbmVzW2xpbmUgLSAxXT8uaW5jbHVkZXMoJ3wnKTtcbiAgY29uc3QgaGFzTmV4dFRhYmxlTGluZSA9IGxpbmUgPCBsaW5lcy5sZW5ndGggLSAxICYmIGxpbmVzW2xpbmUgKyAxXT8uaW5jbHVkZXMoJ3wnKTtcbiAgXG4gIHJldHVybiBoYXNQcmV2VGFibGVMaW5lIHx8IGhhc05leHRUYWJsZUxpbmU7XG59XG5cbi8qKlxuICogXHVEODNDXHVERDk1IFx1NjNEMFx1NTNENlx1ODg2OFx1NjgzQ1x1NTNDQVx1NTE3Nlx1OUFEOFx1NEVBRVx1NEZFMVx1NjA2RlxuICovXG5wcml2YXRlIGV4dHJhY3RUYWJsZVdpdGhIaWdobGlnaHRzKFxuICBjb250ZW50OiBzdHJpbmcsIFxuICBoaWdobGlnaHRQb3NpdGlvbjogbnVtYmVyXG4pOiB7IHRhYmxlQ29udGVudDogc3RyaW5nOyBoaWdobGlnaHRDb3VudDogbnVtYmVyOyBoaWdobGlnaHRSb3dzOiBTZXQ8bnVtYmVyPjsgaGlnaGxpZ2h0Q29sdW1uczogU2V0PG51bWJlcj4gfSB8IG51bGwge1xuICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICBjb25zdCB7IGxpbmU6IGN1cnJlbnRMaW5lIH0gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIGhpZ2hsaWdodFBvc2l0aW9uKTtcbiAgXG4gIC8vIFx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1NzY4NFx1OEQ3N1x1NTlDQlx1NTQ4Q1x1N0VEM1x1Njc1Rlx1NEY0RFx1N0Y2RVxuICBsZXQgdGFibGVTdGFydCA9IGN1cnJlbnRMaW5lO1xuICBsZXQgdGFibGVFbmQgPSBjdXJyZW50TGluZTtcbiAgXG4gIC8vIFx1NTQxMVx1NEUwQVx1NjdFNVx1NjI3RVx1ODg2OFx1NjgzQ1x1NUYwMFx1NTlDQlxuICB3aGlsZSAodGFibGVTdGFydCA+IDAgJiYgbGluZXNbdGFibGVTdGFydCAtIDFdPy5pbmNsdWRlcygnfCcpKSB7XG4gICAgdGFibGVTdGFydC0tO1xuICB9XG4gIFxuICAvLyBcdTU0MTFcdTRFMEJcdTY3RTVcdTYyN0VcdTg4NjhcdTY4M0NcdTdFRDNcdTY3NUZcbiAgd2hpbGUgKHRhYmxlRW5kIDwgbGluZXMubGVuZ3RoIC0gMSAmJiBsaW5lc1t0YWJsZUVuZCArIDFdPy5pbmNsdWRlcygnfCcpKSB7XG4gICAgdGFibGVFbmQrKztcbiAgfVxuICBcbiAgLy8gXHU2M0QwXHU1M0Q2XHU4ODY4XHU2ODNDXHU1MTg1XHU1QkI5XG4gIGNvbnN0IHRhYmxlTGluZXMgPSBsaW5lcy5zbGljZSh0YWJsZVN0YXJ0LCB0YWJsZUVuZCArIDEpO1xuICBjb25zdCB0YWJsZUNvbnRlbnQgPSB0YWJsZUxpbmVzLmpvaW4oJ1xcbicpO1xuICBcbiAgLy8gXHU3RURGXHU4QkExXHU4ODY4XHU2ODNDXHU0RTJEXHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXG4gIGNvbnN0IGhpZ2hsaWdodFJlZ2V4ID0gLz09KC4rPyk9PS9nO1xuICBjb25zdCBoaWdobGlnaHRSb3dzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gIGNvbnN0IGhpZ2hsaWdodENvbHVtbnMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgbGV0IGhpZ2hsaWdodENvdW50ID0gMDtcbiAgXG4gIHRhYmxlTGluZXMuZm9yRWFjaCgobGluZSwgcm93SW5kZXgpID0+IHtcbiAgICBjb25zdCBjZWxscyA9IGxpbmUuc3BsaXQoJ3wnKS5tYXAoYyA9PiBjLnRyaW0oKSkuZmlsdGVyKGMgPT4gYyk7XG4gICAgXG4gICAgLy8gXHVEODNEXHVERDI3IFx1NjUzOVx1OEZEQlx1NTIwNlx1OTY5NFx1N0IyNlx1ODg0Q1x1NjhDMFx1NkQ0QlxuICAgIGlmIChjZWxscy5sZW5ndGggPiAwICYmIGNlbGxzLmV2ZXJ5KGNlbGwgPT4gL15bLTpcXHNdKyQvLnRlc3QoY2VsbCkpKSB7XG4gICAgICByZXR1cm47IC8vIFx1OERGM1x1OEZDN1x1NTIwNlx1OTY5NFx1N0IyNlx1ODg0Q1xuICAgIH1cbiAgICBcbiAgICBjZWxscy5mb3JFYWNoKChjZWxsLCBjb2xJbmRleCkgPT4ge1xuICAgICAgaWYgKGhpZ2hsaWdodFJlZ2V4LnRlc3QoY2VsbCkpIHtcbiAgICAgICAgaGlnaGxpZ2h0Um93cy5hZGQocm93SW5kZXgpO1xuICAgICAgICBoaWdobGlnaHRDb2x1bW5zLmFkZChjb2xJbmRleCk7XG4gICAgICAgIGhpZ2hsaWdodENvdW50Kys7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgcmV0dXJuIHtcbiAgICB0YWJsZUNvbnRlbnQsXG4gICAgaGlnaGxpZ2h0Q291bnQsXG4gICAgaGlnaGxpZ2h0Um93cyxcbiAgICBoaWdobGlnaHRDb2x1bW5zXG4gIH07XG59XG5cbi8qKlxuICogXHVEODNDXHVERDk1IFx1NjgzOVx1NjM2RVx1OUFEOFx1NEVBRVx1NEY0RFx1N0Y2RVx1NjNEMFx1NTNENlx1ODg2OFx1NjgzQ1x1NzY4NFx1NzI3OVx1NUI5QVx1OTBFOFx1NTIwNlxuICovXG5wcml2YXRlIGV4dHJhY3RUYWJsZVBvcnRpb24oXG4gIHRhYmxlTGluZXM6IHN0cmluZ1tdLCBcbiAgaGlnaGxpZ2h0Um93czogU2V0PG51bWJlcj4sIFxuICBoaWdobGlnaHRDb2x1bW5zOiBTZXQ8bnVtYmVyPixcbiAgaGlnaGxpZ2h0Q291bnQ6IG51bWJlclxuKTogc3RyaW5nIHtcbiAgY29uc3QgdG90YWxSb3dzID0gdGFibGVMaW5lcy5sZW5ndGg7XG4gLy8gXHVEODNEXHVERDI3IFx1NjUzOVx1OEZEQlx1NTIwNlx1OTY5NFx1N0IyNlx1ODg0Q1x1NjhDMFx1NkQ0QlxuIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gdGFibGVMaW5lcy5maW5kSW5kZXgoKGxpbmUsIGlkeCkgPT4ge1xuICBpZiAoaWR4ID09PSAwKSByZXR1cm4gZmFsc2U7IC8vIFx1N0IyQ1x1NEUwMFx1ODg0Q1x1NEUwRFx1NTNFRlx1ODBGRFx1NjYyRlx1NTIwNlx1OTY5NFx1N0IyNlxuICBjb25zdCBjZWxscyA9IGxpbmUuc3BsaXQoJ3wnKS5tYXAoYyA9PiBjLnRyaW0oKSkuZmlsdGVyKGMgPT4gYyk7XG4gIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NjI0MFx1NjcwOVx1NTM1NVx1NTE0M1x1NjgzQ1x1OTBGRFx1NTNFQVx1NTMwNVx1NTQyQiAtXHUzMDAxOiBcdTU0OENcdTdBN0FcdTY4M0NcbiAgcmV0dXJuIGNlbGxzLmxlbmd0aCA+IDAgJiYgY2VsbHMuZXZlcnkoY2VsbCA9PiAvXlstOlxcc10rJC8udGVzdChjZWxsKSk7XG59KTtcblxuLy8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2MjdFXHU1MjMwXHU1MjA2XHU5Njk0XHU3QjI2XHVGRjBDXHU1MDQ3XHU4QkJFXHU3QjJDXHU0RThDXHU4ODRDXHU2NjJGXHU1MjA2XHU5Njk0XHU3QjI2XG5jb25zdCBhY3R1YWxTZXBhcmF0b3JJbmRleCA9IHNlcGFyYXRvckluZGV4ICE9PSAtMSA/IHNlcGFyYXRvckluZGV4IDogMTtcbiAgXG4gIC8vIFx1NjBDNVx1NTFCNTE6IFx1NjU3NFx1NTIxN1x1OUFEOFx1NEVBRSAtIFx1NjNEMFx1NTNENlx1NjU3NFx1NEUyQVx1ODg2OFx1NjgzQ1xuICBjb25zdCBmaXJzdERhdGFSb3cgPSB0YWJsZUxpbmVzW3NlcGFyYXRvckluZGV4ICsgMV0gfHwgdGFibGVMaW5lc1sxXTtcbiAgY29uc3QgY29sdW1uQ291bnQgPSBmaXJzdERhdGFSb3cuc3BsaXQoJ3wnKS5maWx0ZXIoYyA9PiBjLnRyaW0oKSkubGVuZ3RoO1xuICBcbiAgaWYgKGhpZ2hsaWdodENvbHVtbnMuc2l6ZSA9PT0gY29sdW1uQ291bnQgfHwgaGlnaGxpZ2h0Q291bnQgPj0gdG90YWxSb3dzIC0gMSkge1xuICAgIHJldHVybiB0YWJsZUxpbmVzLmpvaW4oJ1xcbicpO1xuICB9XG4gIFxuICAvLyBcdTYwQzVcdTUxQjUyOiBcdTUzNTVcdTg4NENcdTlBRDhcdTRFQUUgLSBcdTYzRDBcdTUzRDZcdThCRTVcdTg4NENcdUZGMDhcdTUzMDVcdTU0MkJcdTg4NjhcdTU5MzRcdTU0OENcdTUyMDZcdTk2OTRcdTdCMjZcdUZGMDlcbiAgaWYgKGhpZ2hsaWdodFJvd3Muc2l6ZSA9PT0gMSkge1xuICAgIGNvbnN0IGhpZ2hsaWdodFJvdyA9IEFycmF5LmZyb20oaGlnaGxpZ2h0Um93cylbMF07XG4gICAgY29uc3QgcmVzdWx0ID0gW1xuICAgICAgdGFibGVMaW5lc1swXSwgLy8gXHU4ODY4XHU1OTM0XG4gICAgICB0YWJsZUxpbmVzW3NlcGFyYXRvckluZGV4XSwgLy8gXHU1MjA2XHU5Njk0XHU3QjI2XG4gICAgICB0YWJsZUxpbmVzW2hpZ2hsaWdodFJvd10gLy8gXHU5QUQ4XHU0RUFFXHU4ODRDXG4gICAgXTtcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJ1xcbicpO1xuICB9XG4gIFxuICAvLyBcdTYwQzVcdTUxQjUzOiBcdTU5MUFcdTg4NENcdTlBRDhcdTRFQUUgLSBcdTYzRDBcdTUzRDZcdThGRDlcdTRFOUJcdTg4NENcbiAgY29uc3QgcmVzdWx0ID0gW3RhYmxlTGluZXNbMF0sIHRhYmxlTGluZXNbc2VwYXJhdG9ySW5kZXhdXTtcbiAgaGlnaGxpZ2h0Um93cy5mb3JFYWNoKHJvd0luZGV4ID0+IHtcbiAgICBpZiAocm93SW5kZXggIT09IDAgJiYgcm93SW5kZXggIT09IHNlcGFyYXRvckluZGV4KSB7XG4gICAgICByZXN1bHQucHVzaCh0YWJsZUxpbmVzW3Jvd0luZGV4XSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdC5qb2luKCdcXG4nKTtcbn1cbnByaXZhdGUgYXN5bmMgZXh0cmFjdENsb3plQ2FyZHMoZmlsZTogVEZpbGUsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8Q29udGVudFVuaXRbXT4ge1xuICBjb25zdCB1bml0czogQ29udGVudFVuaXRbXSA9IFtdO1xuICBjb25zdCBoaWdobGlnaHRSZWdleCA9IC89PSguKz8pPT0vZztcbiAgY29uc3QgcHJvY2Vzc2VkVGFibGVzID0gbmV3IFNldDxzdHJpbmc+KCk7IC8vIFx1OEJCMFx1NUY1NVx1NURGMlx1NTkwNFx1NzQwNlx1NzY4NFx1ODg2OFx1NjgzQ1xuICBjb25zdCBwcm9jZXNzZWRIaWdobGlnaHRzID0gbmV3IFNldDxudW1iZXI+KCk7IC8vIFx1RDgzQ1x1REQ5NSBcdThCQjBcdTVGNTVcdTVERjJcdTU5MDRcdTc0MDZcdTc2ODRcdTlBRDhcdTRFQUVcdTRGNERcdTdGNkVcbiAgbGV0IG1hdGNoO1xuXG4gIHdoaWxlICgobWF0Y2ggPSBoaWdobGlnaHRSZWdleC5leGVjKGNvbnRlbnQpKSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IGV4dHJhY3RlZFRleHQgPSBtYXRjaFsxXTtcbiAgICBjb25zdCBmdWxsTWF0Y2ggPSBtYXRjaFswXTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oY29udGVudCwgbWF0Y2guaW5kZXgpO1xuICAgIFxuICAgIC8vIFx1RDgzQ1x1REQ5NSBcdThERjNcdThGQzdcdTVERjJcdTU5MDRcdTc0MDZcdTc2ODRcdTlBRDhcdTRFQUVcbiAgICBpZiAocHJvY2Vzc2VkSGlnaGxpZ2h0cy5oYXMobWF0Y2guaW5kZXgpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU4ODRDXHU1MTg1XHU1QkI5XG4gICAgY29uc3QgbGluZVN0YXJ0ID0gY29udGVudC5sYXN0SW5kZXhPZignXFxuJywgbWF0Y2guaW5kZXgpICsgMTtcbiAgICBjb25zdCBsaW5lRW5kID0gY29udGVudC5pbmRleE9mKCdcXG4nLCBtYXRjaC5pbmRleCk7XG4gICAgY29uc3QgY3VycmVudExpbmUgPSBjb250ZW50LnN1YnN0cmluZyhsaW5lU3RhcnQsIGxpbmVFbmQgPT09IC0xID8gY29udGVudC5sZW5ndGggOiBsaW5lRW5kKTtcbiAgICBcbiAgICAvLyBcdTI3MDUgXHU4REYzXHU4RkM3IEV4Y2FsaWRyYXcgXHU5QUQ4XHU0RUFFXG4gICAgaWYgKHRoaXMuaXNFeGNhbGlkcmF3SGlnaGxpZ2h0KGV4dHJhY3RlZFRleHQsIGN1cnJlbnRMaW5lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1RDgzQ1x1REQ5NSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTU3MjhcdTg4NjhcdTY4M0NcdTRFMkRcbiAgICBpZiAodGhpcy5pc0luVGFibGUoY29udGVudCwgbWF0Y2guaW5kZXgpKSB7XG4gICAgICBjb25zdCB0YWJsZUluZm8gPSB0aGlzLmV4dHJhY3RUYWJsZVdpdGhIaWdobGlnaHRzKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICAgIFxuICAgICAgaWYgKHRhYmxlSW5mbykge1xuICAgICAgICBjb25zdCB0YWJsZUtleSA9IGAke2ZpbGUucGF0aH0tJHt0YWJsZUluZm8udGFibGVDb250ZW50LnN1YnN0cmluZygwLCA1MCl9YDtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1OTA3Rlx1NTE0RFx1OTFDRFx1NTkwRFx1NTkwNFx1NzQwNlx1NTQwQ1x1NEUwMFx1NEUyQVx1ODg2OFx1NjgzQ1xuICAgICAgICBpZiAocHJvY2Vzc2VkVGFibGVzLmhhcyh0YWJsZUtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzZWRUYWJsZXMuYWRkKHRhYmxlS2V5KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1RDgzQ1x1REQ5NSBcdTY4MDdcdThCQjBcdThGRDlcdTRFMkFcdTg4NjhcdTY4M0NcdTUxODVcdTc2ODRcdTYyNDBcdTY3MDlcdTlBRDhcdTRFQUVcdTRFM0FcdTVERjJcdTU5MDRcdTc0MDZcbiAgICAgICAgY29uc3QgdGFibGVIaWdobGlnaHRzID0gdGhpcy5maW5kQWxsSGlnaGxpZ2h0c0luVGFibGUoY29udGVudCwgdGFibGVJbmZvLnRhYmxlQ29udGVudCwgbWF0Y2guaW5kZXgpO1xuICAgICAgICB0YWJsZUhpZ2hsaWdodHMuZm9yRWFjaChwb3MgPT4gcHJvY2Vzc2VkSGlnaGxpZ2h0cy5hZGQocG9zKSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICBjb25zdCB7IGxpbmU6IGN1cnJlbnRMaW5lIH0gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVxuICAgICAgICBsZXQgdGFibGVTdGFydCA9IGN1cnJlbnRMaW5lO1xuICAgICAgICB3aGlsZSAodGFibGVTdGFydCA+IDAgJiYgbGluZXNbdGFibGVTdGFydCAtIDFdPy5pbmNsdWRlcygnfCcpKSB7XG4gICAgICAgICAgdGFibGVTdGFydC0tO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0YWJsZUxpbmVzID0gdGFibGVJbmZvLnRhYmxlQ29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGV4dHJhY3RlZFRhYmxlID0gdGhpcy5leHRyYWN0VGFibGVQb3J0aW9uKFxuICAgICAgICAgIHRhYmxlTGluZXMsXG4gICAgICAgICAgdGFibGVJbmZvLmhpZ2hsaWdodFJvd3MsXG4gICAgICAgICAgdGFibGVJbmZvLmhpZ2hsaWdodENvbHVtbnMsXG4gICAgICAgICAgdGFibGVJbmZvLmhpZ2hsaWdodENvdW50XG4gICAgICAgICk7XG4gICAgICAgIC8vIFx1RDgzRFx1REQyNyBcdTlBOENcdThCQzFcdTYzRDBcdTUzRDZcdTc2ODRcdTg4NjhcdTY4M0NcdTY2MkZcdTU0MjZcdTUzMDVcdTU0MkJcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcbmNvbnN0IGV4dHJhY3RlZExpbmVzID0gZXh0cmFjdGVkVGFibGUuc3BsaXQoJ1xcbicpO1xuY29uc3QgaGFzU2VwYXJhdG9yID0gZXh0cmFjdGVkTGluZXMuc29tZShsaW5lID0+IHtcbiAgY29uc3QgY2VsbHMgPSBsaW5lLnNwbGl0KCd8JykubWFwKGMgPT4gYy50cmltKCkpLmZpbHRlcihjID0+IGMpO1xuICByZXR1cm4gY2VsbHMubGVuZ3RoID4gMCAmJiBjZWxscy5ldmVyeShjZWxsID0+IC9eWy06XFxzXSskLy50ZXN0KGNlbGwpKTtcbn0pO1xuXG4vLyBcdTU5ODJcdTY3OUNcdTdGM0FcdTVDMTFcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcdUZGMENcdTgxRUFcdTUyQThcdTZERkJcdTUyQTBcbmlmICghaGFzU2VwYXJhdG9yICYmIGV4dHJhY3RlZExpbmVzLmxlbmd0aCA+PSAyKSB7XG4gIGNvbnN0IGhlYWRlckNlbGxzID0gZXh0cmFjdGVkTGluZXNbMF0uc3BsaXQoJ3wnKS5tYXAoYyA9PiBjLnRyaW0oKSkuZmlsdGVyKGMgPT4gYyk7XG4gIGNvbnN0IHNlcGFyYXRvciA9ICd8ICcgKyBoZWFkZXJDZWxscy5tYXAoKCkgPT4gJy0tLScpLmpvaW4oJyB8ICcpICsgJyB8JztcbiAgZXh0cmFjdGVkTGluZXMuc3BsaWNlKDEsIDAsIHNlcGFyYXRvcik7XG4gIGNvbnN0IGV4dHJhY3RlZFRhYmxlID0gZXh0cmFjdGVkTGluZXMuam9pbignXFxuJyk7XG59XG4gICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1ODg2OFx1NjgzQ1x1NTcyOFx1NjU4N1x1Njg2M1x1NEUyRFx1NzY4NFx1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVxuICAgICAgICBsZXQgdGFibGVTdGFydE9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGVTdGFydDsgaSsrKSB7XG4gICAgICAgICAgdGFibGVTdGFydE9mZnNldCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdUQ4M0NcdUREOTUgXHU2NTM2XHU5NkM2XHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXHU1MTg1XHU1QkI5XG4gICAgICAgIGNvbnN0IGFsbEhpZ2hsaWdodHMgPSB0aGlzLmV4dHJhY3RBbGxIaWdobGlnaHRzRnJvbVRhYmxlKHRhYmxlSW5mby50YWJsZUNvbnRlbnQpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdW5pdDogQ29udGVudFVuaXQgPSB7XG4gICAgICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIHR5cGU6ICdjbG96ZScsXG4gICAgICAgICAgY29udGVudDogYWxsSGlnaGxpZ2h0cy5qb2luKCcsICcpLCAvLyBcdUQ4M0NcdUREOTUgXHU1MzA1XHU1NDJCXHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXG4gICAgICAgICAgZnVsbENvbnRleHQ6IGV4dHJhY3RlZFRhYmxlLCAvLyBcdTY2M0VcdTc5M0FcdTYzRDBcdTUzRDZcdTc2ODRcdTg4NjhcdTY4M0NcdTkwRThcdTUyMDZcbiAgICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIGZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIHN0YXJ0OiB0YWJsZVN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICBlbmQ6IHRhYmxlU3RhcnRPZmZzZXQgKyB0YWJsZUluZm8udGFibGVDb250ZW50Lmxlbmd0aCxcbiAgICAgICAgICAgICAgbGluZTogdGFibGVTdGFydFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRpbmc6IHRoaXMuZmluZEhlYWRpbmcoY29udGVudCwgbWF0Y2guaW5kZXgpLFxuICAgICAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgICAgIHJ1bGVJZDogJ2Nsb3plLXRhYmxlJyxcbiAgICAgICAgICAgIHJ1bGVOYW1lOiAnVGFibGUgQ2xvemUgRGVsZXRpb24nLFxuICAgICAgICAgICAgZXh0cmFjdGVkQnk6ICdhdXRvJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHRhZ3M6IFsuLi50aGlzLmV4dHJhY3RUYWdzKGNvbnRlbnQsIG1hdGNoLmluZGV4KSwgJyN0YWJsZSddLFxuICAgICAgICAgICAgY3VzdG9tRGF0YToge1xuICAgICAgICAgICAgICB0YWJsZVR5cGU6ICdwYXJ0aWFsJyxcbiAgICAgICAgICAgICAgaGlnaGxpZ2h0Q291bnQ6IHRhYmxlSW5mby5oaWdobGlnaHRDb3VudCxcbiAgICAgICAgICAgICAgcm93Q291bnQ6IHRhYmxlSW5mby5oaWdobGlnaHRSb3dzLnNpemUsXG4gICAgICAgICAgICAgIGNvbHVtbkNvdW50OiB0YWJsZUluZm8uaGlnaGxpZ2h0Q29sdW1ucy5zaXplLFxuICAgICAgICAgICAgICBhbGxIaWdobGlnaHRzOiBhbGxIaWdobGlnaHRzIC8vIFx1RDgzQ1x1REQ5NSBcdTRGRERcdTVCNThcdTYyNDBcdTY3MDlcdTlBRDhcdTRFQUVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZsYXNoY2FyZElkczogW11cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHVuaXRzLnB1c2godW5pdCk7XG5cbi8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjkgLSBcdTYyNkJcdTYzQ0ZcdTUyMzBcdTg4NjhcdTY4M0NcbmlmICh0aGlzLnBsdWdpbj8udW5sb2NrU3lzdGVtKSB7XG4gIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vblRhYmxlU2Nhbm5lZCgpO1xufVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gXHU1MzlGXHU2NzA5XHU3Njg0XHU2NjZFXHU5MDFBXHU5QUQ4XHU0RUFFXHU1OTA0XHU3NDA2XHU5MDNCXHU4RjkxLi4uXG4gICAgY29uc3QgZnVsbFNlbnRlbmNlID0gdGhpcy5leHRyYWN0RnVsbFNlbnRlbmNlKGNvbnRlbnQsIG1hdGNoLmluZGV4LCBmdWxsTWF0Y2gubGVuZ3RoKTtcblxuICAgIGNvbnN0IHVuaXQ6IENvbnRlbnRVbml0ID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdHlwZTogJ2Nsb3plJyxcbiAgICAgIGNvbnRlbnQ6IGV4dHJhY3RlZFRleHQudHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IGZ1bGxTZW50ZW5jZSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG1hdGNoLmluZGV4LFxuICAgICAgICAgIGVuZDogbWF0Y2guaW5kZXggKyBmdWxsTWF0Y2gubGVuZ3RoLFxuICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhjb250ZW50LCBtYXRjaC5pbmRleCksXG4gICAgICAgIGFuY2hvckxpbms6IGBbWyR7ZmlsZS5iYXNlbmFtZX0jXiR7dGhpcy5nZW5lcmF0ZUJsb2NrSWQoKX1dXWBcbiAgICAgIH0sXG4gICAgICBleHRyYWN0UnVsZToge1xuICAgICAgICBydWxlSWQ6ICdjbG96ZScsXG4gICAgICAgIHJ1bGVOYW1lOiAnQ2xvemUgRGVsZXRpb24nLFxuICAgICAgICBleHRyYWN0ZWRCeTogJ2F1dG8nXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHRhZ3M6IHRoaXMuZXh0cmFjdFRhZ3MoY29udGVudCwgbWF0Y2guaW5kZXgpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG5cbiAgICB1bml0cy5wdXNoKHVuaXQpO1xuICB9XG5cbiAgcmV0dXJuIHVuaXRzO1xufVxuXG4vLyBcdUQ4M0NcdUREOTUgXHU2REZCXHU1MkEwXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1Olx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1NTE4NVx1NjI0MFx1NjcwOVx1OUFEOFx1NEVBRVx1NzY4NFx1NEY0RFx1N0Y2RVxucHJpdmF0ZSBmaW5kQWxsSGlnaGxpZ2h0c0luVGFibGUoXG4gIGNvbnRlbnQ6IHN0cmluZywgXG4gIHRhYmxlQ29udGVudDogc3RyaW5nLCBcbiAgY3VycmVudEhpZ2hsaWdodFBvczogbnVtYmVyXG4pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHBvc2l0aW9uczogbnVtYmVyW10gPSBbXTtcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgY29uc3QgeyBsaW5lOiBjdXJyZW50TGluZSB9ID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBjdXJyZW50SGlnaGxpZ2h0UG9zKTtcbiAgXG4gIC8vIFx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1ODMwM1x1NTZGNFxuICBsZXQgdGFibGVTdGFydCA9IGN1cnJlbnRMaW5lO1xuICBsZXQgdGFibGVFbmQgPSBjdXJyZW50TGluZTtcbiAgXG4gIHdoaWxlICh0YWJsZVN0YXJ0ID4gMCAmJiBsaW5lc1t0YWJsZVN0YXJ0IC0gMV0/LmluY2x1ZGVzKCd8JykpIHtcbiAgICB0YWJsZVN0YXJ0LS07XG4gIH1cbiAgd2hpbGUgKHRhYmxlRW5kIDwgbGluZXMubGVuZ3RoIC0gMSAmJiBsaW5lc1t0YWJsZUVuZCArIDFdPy5pbmNsdWRlcygnfCcpKSB7XG4gICAgdGFibGVFbmQrKztcbiAgfVxuICBcbiAgLy8gXHU4QkExXHU3Qjk3XHU4ODY4XHU2ODNDXHU4RDc3XHU1OUNCXHU1MDRGXHU3OUZCXG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYmxlU3RhcnQ7IGkrKykge1xuICAgIG9mZnNldCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xuICB9XG4gIFxuICAvLyBcdTU3MjhcdTg4NjhcdTY4M0NcdTgzMDNcdTU2RjRcdTUxODVcdTY3RTVcdTYyN0VcdTYyNDBcdTY3MDlcdTlBRDhcdTRFQUVcbiAgY29uc3QgaGlnaGxpZ2h0UmVnZXggPSAvPT0oLis/KT09L2c7XG4gIGxldCBtYXRjaDtcbiAgY29uc3QgdGFibGVFbmRPZmZzZXQgPSBvZmZzZXQgKyB0YWJsZUNvbnRlbnQubGVuZ3RoO1xuICBcbiAgd2hpbGUgKChtYXRjaCA9IGhpZ2hsaWdodFJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gICAgaWYgKG1hdGNoLmluZGV4ID49IG9mZnNldCAmJiBtYXRjaC5pbmRleCA8IHRhYmxlRW5kT2Zmc2V0KSB7XG4gICAgICBwb3NpdGlvbnMucHVzaChtYXRjaC5pbmRleCk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gcG9zaXRpb25zO1xufVxuXG4vLyBcdUQ4M0NcdUREOTUgXHU2REZCXHU1MkEwXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1Olx1NjNEMFx1NTNENlx1ODg2OFx1NjgzQ1x1NEUyRFx1NjI0MFx1NjcwOVx1OUFEOFx1NEVBRVx1NTE4NVx1NUJCOVxucHJpdmF0ZSBleHRyYWN0QWxsSGlnaGxpZ2h0c0Zyb21UYWJsZSh0YWJsZUNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgaGlnaGxpZ2h0czogc3RyaW5nW10gPSBbXTtcbiAgY29uc3QgaGlnaGxpZ2h0UmVnZXggPSAvPT0oLis/KT09L2c7XG4gIGxldCBtYXRjaDtcbiAgXG4gIHdoaWxlICgobWF0Y2ggPSBoaWdobGlnaHRSZWdleC5leGVjKHRhYmxlQ29udGVudCkpICE9PSBudWxsKSB7XG4gICAgaGlnaGxpZ2h0cy5wdXNoKG1hdGNoWzFdLnRyaW0oKSk7XG4gIH1cbiAgXG4gIHJldHVybiBoaWdobGlnaHRzO1xufVxuXG59IiwgIi8vIGFubm90YXRpb24gTWFuYWdlci50c1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5ub3RhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRhcmdldFR5cGU6ICdjb250ZW50JyB8ICdmaWxlJztcbiAgdGFyZ2V0SWQ6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBiYWRnZT86IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgY29sb3I6IHN0cmluZztcbiAgICBpY29uPzogc3RyaW5nO1xuICB9O1xuICBtZXRhZGF0YToge1xuICAgIGNyZWF0ZWRBdDogbnVtYmVyO1xuICAgIHVwZGF0ZWRBdDogbnVtYmVyO1xuICAgIGlzUGlubmVkPzogYm9vbGVhbjtcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uczogTWFwPHN0cmluZywgQW5ub3RhdGlvbj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZGF0YUZvbGRlcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luXG4gICkge1xuICAgIHRoaXMuZGF0YUZvbGRlciA9IGAke3RoaXMuYXBwLnZhdWx0LmNvbmZpZ0Rpcn0vcGx1Z2lucy9sZWFybmluZy1zeXN0ZW0vZGF0YWA7XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIGF3YWl0IHRoaXMubG9hZEFubm90YXRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MkEwXHU4RjdEXHU2MjQwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGxvYWRBbm5vdGF0aW9ucygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vYW5ub3RhdGlvbnMuanNvbmA7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQocGF0aCk7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBhbm5vdGF0aW9uIG9mIGFubm90YXRpb25zKSB7XG4gICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucy5zZXQoYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBhbm5vdGF0aW9uczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NkRGQlx1NTJBMFx1NTE4NVx1NUJCOVx1NjI3OVx1NkNFOFxuICAgKi9cbiAgYXN5bmMgYWRkQ29udGVudEFubm90YXRpb24oXG4gICAgY29udGVudFVuaXRJZDogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBiYWRnZT86IEFubm90YXRpb25bJ2JhZGdlJ11cbiAgKTogUHJvbWlzZTxBbm5vdGF0aW9uPiB7XG4gICAgY29uc3QgYW5ub3RhdGlvbjogQW5ub3RhdGlvbiA9IHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHRhcmdldFR5cGU6ICdjb250ZW50JyxcbiAgICAgIHRhcmdldElkOiBjb250ZW50VW5pdElkLFxuICAgICAgY29udGVudCxcbiAgICAgIGJhZGdlLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KClcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hbm5vdGF0aW9ucy5zZXQoYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbik7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4vLyBcdUQ4M0NcdURGQUYgXHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXHU2OEMwXHU2N0U1XHU3MEI5XG5hd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25Bbm5vdGF0aW9uQ29tcGxldGVkKCk7XG4gICAgLy8gXHU2NkY0XHU2NUIwIENvbnRlbnRVbml0IFx1NTE3M1x1ODA1NFxuICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY29udGVudFVuaXRJZCk7XG4gICAgaWYgKGNvbnRlbnRVbml0KSB7XG4gICAgICBjb250ZW50VW5pdC5hbm5vdGF0aW9uSWQgPSBhbm5vdGF0aW9uLmlkO1xuICAgICAgY29udGVudFVuaXQubWV0YWRhdGEudXBkYXRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdChjb250ZW50VW5pdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFubm90YXRpb247XG4gIH1cblxuICAvKipcbiAgICogXHU2REZCXHU1MkEwXHU2NTg3XHU0RUY2XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBhc3luYyBhZGRGaWxlQW5ub3RhdGlvbihcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IHN0cmluZ1xuICApOiBQcm9taXNlPEFubm90YXRpb24+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9uOiBBbm5vdGF0aW9uID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdGFyZ2V0VHlwZTogJ2ZpbGUnLFxuICAgICAgdGFyZ2V0SWQ6IGZpbGVQYXRoLFxuICAgICAgY29udGVudCxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYW5ub3RhdGlvbnMuc2V0KGFubm90YXRpb24uaWQsIGFubm90YXRpb24pO1xuICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuXG5cbi8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjlcbmF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkFubm90YXRpb25Db21wbGV0ZWQoKTtcbiAgICByZXR1cm4gYW5ub3RhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTYyNzlcdTZDRThcbiAgICovXG4gIGdldEFubm90YXRpb24oaWQ6IHN0cmluZyk6IEFubm90YXRpb24gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmFubm90YXRpb25zLmdldChpZCk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MTg1XHU1QkI5XHU3Njg0XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBnZXRDb250ZW50QW5ub3RhdGlvbihjb250ZW50VW5pdElkOiBzdHJpbmcpOiBBbm5vdGF0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNvbnRlbnRVbml0SWQpO1xuICAgIGlmICghY29udGVudFVuaXQ/LmFubm90YXRpb25JZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5hbm5vdGF0aW9ucy5nZXQoY29udGVudFVuaXQuYW5ub3RhdGlvbklkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTY1ODdcdTRFRjZcdTc2ODRcdTYyNDBcdTY3MDlcdTYyNzlcdTZDRThcbiAgICovXG4gIGdldEZpbGVBbm5vdGF0aW9ucyhmaWxlUGF0aDogc3RyaW5nKTogQW5ub3RhdGlvbltdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFubm90YXRpb25zLnZhbHVlcygpKS5maWx0ZXIoXG4gICAgICBhbm4gPT4gYW5uLnRhcmdldFR5cGUgPT09ICdmaWxlJyAmJiBhbm4udGFyZ2V0SWQgPT09IGZpbGVQYXRoXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTY2RjRcdTY1QjBcdTYyNzlcdTZDRThcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUFubm90YXRpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEFubm90YXRpb24+XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLmFubm90YXRpb25zLmdldChpZCk7XG4gICAgaWYgKCFhbm5vdGF0aW9uKSByZXR1cm47XG5cbiAgICBPYmplY3QuYXNzaWduKGFubm90YXRpb24sIHVwZGF0ZXMsIHtcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIC4uLmFubm90YXRpb24ubWV0YWRhdGEsXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MjIwXHU5NjY0XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBhc3luYyBkZWxldGVBbm5vdGF0aW9uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9uID0gdGhpcy5hbm5vdGF0aW9ucy5nZXQoaWQpO1xuICAgIGlmICghYW5ub3RhdGlvbikgcmV0dXJuO1xuXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NjJGXHU1MTg1XHU1QkI5XHU2Mjc5XHU2Q0U4XHVGRjBDXHU4OUUzXHU5NjY0XHU1MTczXHU4MDU0XG4gICAgaWYgKGFubm90YXRpb24udGFyZ2V0VHlwZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGFubm90YXRpb24udGFyZ2V0SWQpO1xuICAgICAgaWYgKGNvbnRlbnRVbml0KSB7XG4gICAgICAgIGNvbnRlbnRVbml0LmFubm90YXRpb25JZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0KGNvbnRlbnRVbml0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFubm90YXRpb25zLmRlbGV0ZShpZCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBnZXRBbGxBbm5vdGF0aW9ucygpOiBBbm5vdGF0aW9uW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYW5ub3RhdGlvbnMudmFsdWVzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjMwMVx1NEU0NVx1NTMxNlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwZXJzaXN0KCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9hbm5vdGF0aW9ucy5qc29uYDtcbiAgICAgIGNvbnN0IGFubm90YXRpb25zID0gQXJyYXkuZnJvbSh0aGlzLmFubm90YXRpb25zLnZhbHVlcygpKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShhbm5vdGF0aW9ucywgbnVsbCwgMik7XG4gICAgICBcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBlcnNpc3RpbmcgYW5ub3RhdGlvbnM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTc1MUZcdTYyMTBcdTU1MkZcdTRFMDAgSURcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgYW5uLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgfVxufSIsICIvLyBmbGFzaGNhcmQgbWFuYWdlci50c1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgRGF0YU1hbmFnZXIsIENvbnRlbnRVbml0IH0gZnJvbSAnLi9EYXRhTWFuYWdlcic7IFxuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hjYXJkIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ3FhJyB8ICdjbG96ZSc7XG4gIHNvdXJjZUNvbnRlbnRJZDogc3RyaW5nO1xuICBzb3VyY2VGaWxlOiBzdHJpbmc7XG4gIGFuY2hvckxpbms6IHN0cmluZztcbiAgXG4gIC8vIFx1NTM2MVx1NzI0N1x1NTE4NVx1NUJCOVxuICBmcm9udDogc3RyaW5nO1xuICBiYWNrOiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgXG4gIC8vIFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NEUxM1x1NzUyOFxuICBjbG96ZT86IHtcbiAgICBvcmlnaW5hbDogc3RyaW5nO1xuICAgIGRlbGV0aW9uczoge1xuICAgICAgaW5kZXg6IG51bWJlcjtcbiAgICAgIGFuc3dlcjogc3RyaW5nO1xuICAgICAgYWx0ZXJuYXRpdmVzPzogc3RyaW5nW107XG4gICAgfVtdO1xuICB9O1xuICBcbiAgLy8gXHU1MjA2XHU3RUM0XG4gIGRlY2s6IHN0cmluZztcbiAgdGFnczogc3RyaW5nW107XG4gIFxuICAvLyBcdTU5MERcdTRFNjBcdTY1NzBcdTYzNkVcbiAgc2NoZWR1bGluZzoge1xuICAgIGludGVydmFsOiBudW1iZXI7XG4gICAgZWFzZTogbnVtYmVyO1xuICAgIGR1ZTogbnVtYmVyO1xuICAgIGxhcHNlczogbnVtYmVyO1xuICAgIHJlcHM6IG51bWJlcjtcbiAgICBzdGF0ZTogJ25ldycgfCAnbGVhcm5pbmcnIHwgJ3JldmlldycgfCAncmVsZWFybmluZyc7XG4gIH07XG4gIFxuICAvLyBcdTdFREZcdThCQTFcbiAgc3RhdHM6IHtcbiAgICB0b3RhbFJldmlld3M6IG51bWJlcjtcbiAgICBjb3JyZWN0Q291bnQ6IG51bWJlcjtcbiAgICBhdmVyYWdlVGltZTogbnVtYmVyO1xuICAgIGxhc3RSZXZpZXc/OiBudW1iZXI7XG4gICAgZGlmZmljdWx0eTogbnVtYmVyO1xuICB9O1xuICBcbiAgbWV0YWRhdGE6IHtcbiAgICBjcmVhdGVkQXQ6IG51bWJlcjtcbiAgICB1cGRhdGVkQXQ6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXZpZXdMb2cge1xuICBpZDogc3RyaW5nO1xuICBmbGFzaGNhcmRJZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgcmVzcG9uc2U6IHtcbiAgICB1c2VyQW5zd2VyPzogc3RyaW5nIHwgc3RyaW5nW107XG4gICAgdGltZVNwZW50OiBudW1iZXI7XG4gICAgZWFzZTogJ2FnYWluJyB8ICdoYXJkJyB8ICdnb29kJyB8ICdlYXN5JztcbiAgfTtcbiAgZ3JhZGluZz86IHtcbiAgICBjb3JyZWN0bmVzczogJ2NvcnJlY3QnIHwgJ3BhcnRpYWwnIHwgJ3dyb25nJztcbiAgICBzaW1pbGFyaXR5PzogbnVtYmVyO1xuICB9O1xuICBzY2hlZHVsaW5nQ2hhbmdlOiB7XG4gICAgb2xkSW50ZXJ2YWw6IG51bWJlcjtcbiAgICBuZXdJbnRlcnZhbDogbnVtYmVyO1xuICAgIG9sZEVhc2U6IG51bWJlcjtcbiAgICBuZXdFYXNlOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBGbGFzaGNhcmRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBmbGFzaGNhcmRzOiBNYXA8c3RyaW5nLCBGbGFzaGNhcmQ+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHJldmlld0xvZ3M6IFJldmlld0xvZ1tdID0gW107XG4gIHByaXZhdGUgZGF0YUZvbGRlcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBkYXRhTWFuYWdlcjogRGF0YU1hbmFnZXIsXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luXG4gICkge1xuICAgIHRoaXMuZGF0YUZvbGRlciA9IGAke3RoaXMuYXBwLnZhdWx0LmNvbmZpZ0Rpcn0vcGx1Z2lucy9sZWFybmluZy1zeXN0ZW0vZGF0YWA7XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIGF3YWl0IHRoaXMubG9hZEZsYXNoY2FyZHMoKTtcbiAgICBhd2FpdCB0aGlzLmxvYWRSZXZpZXdMb2dzKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTdFREZcdTRFMDBcdTUyMUJcdTVFRkFcdTUxNjVcdTUzRTMgPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gIC8qKlxuICAgKiBcdUQ4M0NcdUREOTUgXHU3RURGXHU0RTAwXHU1MTY1XHU1M0UzOiBcdTRFQ0UgQ29udGVudFVuaXQgXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXG4gICAqIFx1OTAwMlx1OTE0RFx1NjI0MFx1NjcwOVx1NTczQVx1NjY2RjogXHU1M0YzXHU5NTJFXHU2M0QwXHU1M0Q2XHUzMDAxU2Nhblx1MzAwMVx1NjI3OVx1OTFDRlx1NTIxQlx1NUVGQVx1MzAwMVx1NUZFQlx1OTAxRlx1NzUxRlx1NjIxMFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlRmxhc2hjYXJkRnJvbVVuaXQoXG4gICAgdW5pdDogQ29udGVudFVuaXQsXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIGN1c3RvbVF1ZXN0aW9uPzogc3RyaW5nO1xuICAgICAgY3VzdG9tQW5zd2VyPzogc3RyaW5nO1xuICAgICAgY2FyZFR5cGU/OiAncWEnIHwgJ2Nsb3plJztcbiAgICB9XG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgXG4gICAgY29uc3QgY2FyZFR5cGUgPSBvcHRpb25zPy5jYXJkVHlwZSB8fCAodW5pdC50eXBlID09PSAnUUEnID8gJ3FhJyA6ICdjbG96ZScpO1xuICBcbiAgICBsZXQgZmxhc2hjYXJkOiBGbGFzaGNhcmQ7XG4gIFxuICAgIGlmIChjYXJkVHlwZSA9PT0gJ3FhJyB8fCB1bml0LnR5cGUgPT09ICdRQScpIHtcbiAgICAgIGNvbnN0IHF1ZXN0aW9uID0gb3B0aW9ucz8uY3VzdG9tUXVlc3Rpb24gfHwgdW5pdC5jb250ZW50O1xuICAgICAgY29uc3QgYW5zd2VyID0gb3B0aW9ucz8uY3VzdG9tQW5zd2VyIHx8IHVuaXQuYW5zd2VyIHx8IHVuaXQuY29udGVudDtcbiAgICAgIFxuICAgICAgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5jcmVhdGVRQUNhcmQodW5pdC5pZCwgcXVlc3Rpb24sIGFuc3dlcik7XG4gICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGV4dCA9IHVuaXQuZnVsbENvbnRleHQgfHwgdW5pdC5jb250ZW50O1xuICAgICAgY29uc3QgYW5zd2VyID0gb3B0aW9ucz8uY3VzdG9tQW5zd2VyIHx8IHVuaXQuY29udGVudDtcbiAgICAgIFxuICAgICAgY29uc3QgZGVsZXRpb25zID0gW3tcbiAgICAgICAgaW5kZXg6IHRleHQuaW5kZXhPZihhbnN3ZXIpLFxuICAgICAgICBhbnN3ZXI6IGFuc3dlclxuICAgICAgfV07XG4gICAgICBcblxuICAgICAgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5jcmVhdGVDbG96ZUNhcmQodW5pdC5pZCwgdGV4dCwgZGVsZXRpb25zKTtcbiAgICB9XG4gIFxuICAgIC8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjlcbmF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkNhcmRFeHRyYWN0ZWQoKTtcbiAgXG4gICAgcmV0dXJuIGZsYXNoY2FyZDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NjgzOFx1NUZDM1x1NTIxQlx1NUVGQVx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTRcdTUzNjFcdUZGMDhcdTU1MkZcdTRFMDBcdTcyNDhcdTY3MkNcdUZGMENcdTU0MDhcdTVFNzZcdTRFODZcdTYyNDBcdTY3MDlcdTUyOUZcdTgwRkRcdUZGMDlcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVFBQ2FyZChcbiAgICBjb250ZW50VW5pdElkOiBzdHJpbmcsXG4gICAgcXVlc3Rpb246IHN0cmluZyxcbiAgICBhbnN3ZXI6IHN0cmluZyxcbiAgICBkZWNrPzogc3RyaW5nXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNvbnRlbnRVbml0SWQpO1xuICAgIGlmICghY29udGVudFVuaXQpIHRocm93IG5ldyBFcnJvcignQ29udGVudCB1bml0IG5vdCBmb3VuZCcpO1xuXG4gICAgY29uc3QgY2FyZDogRmxhc2hjYXJkID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdHlwZTogJ3FhJyxcbiAgICAgIHNvdXJjZUNvbnRlbnRJZDogY29udGVudFVuaXRJZCxcbiAgICAgIHNvdXJjZUZpbGU6IGNvbnRlbnRVbml0LnNvdXJjZS5maWxlLFxuICAgICAgYW5jaG9yTGluazogY29udGVudFVuaXQuc291cmNlLmFuY2hvckxpbmssXG4gICAgICBmcm9udDogcXVlc3Rpb24sXG4gICAgICBiYWNrOiBhbnN3ZXIsXG4gICAgICBkZWNrOiBkZWNrIHx8IHRoaXMuaW5mZXJEZWNrKGNvbnRlbnRVbml0LnNvdXJjZS5maWxlKSxcbiAgICAgIHRhZ3M6IGNvbnRlbnRVbml0Lm1ldGFkYXRhLnRhZ3MsXG4gICAgICBzY2hlZHVsaW5nOiB0aGlzLmluaXRpYWxpemVTY2hlZHVsaW5nKCksXG4gICAgICBzdGF0czoge1xuICAgICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICAgIGRpZmZpY3VsdHk6IDAuNVxuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZmxhc2hjYXJkcy5zZXQoY2FyZC5pZCwgY2FyZCk7XG4gICAgXG4gICAgLy8gXHU2NkY0XHU2NUIwIENvbnRlbnRVbml0IFx1NTE3M1x1ODA1NFxuICAgIGNvbnRlbnRVbml0LmZsYXNoY2FyZElkcy5wdXNoKGNhcmQuaWQpO1xuICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyhbY29udGVudFVuaXRdKTtcbiAgICBcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3RGbGFzaGNhcmRzKCk7XG4gICAgLy8gXHVEODNDXHVERkFGIFx1ODlFM1x1OTUwMVx1N0NGQlx1N0VERlx1NjhDMFx1NjdFNVx1NzBCOVxuLy8gYXdhaXQgdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLm9uQ2FyZEV4dHJhY3RlZCgpO1xuICAgIHJldHVybiBjYXJkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NTIxQlx1NUVGQVx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NTM2MVx1RkYwOFx1NTUyRlx1NEUwMFx1NzI0OFx1NjcyQ1x1RkYwQ1x1NTQwOFx1NUU3Nlx1NEU4Nlx1NjI0MFx1NjcwOVx1NTI5Rlx1ODBGRFx1RkYwOVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlQ2xvemVDYXJkKFxuICAgIGNvbnRlbnRVbml0SWQ6IHN0cmluZyxcbiAgICBvcmlnaW5hbDogc3RyaW5nLFxuICAgIGRlbGV0aW9uczogeyBpbmRleDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZzsgYWx0ZXJuYXRpdmVzPzogc3RyaW5nW10gfVtdXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNvbnRlbnRVbml0SWQpO1xuICAgIGlmICghY29udGVudFVuaXQpIHRocm93IG5ldyBFcnJvcignQ29udGVudCB1bml0IG5vdCBmb3VuZCcpO1xuICBcbiAgICAvLyBcdTIxOTAgXHU0RkVFXHU2NTM5XHU4RkQ5XHU5MUNDOlx1NjhDMFx1NkQ0Qlx1NjYyRlx1NTQyNlx1NEUzQVx1ODg2OFx1NjgzQ1xuICAgIGNvbnN0IGlzVGFibGUgPSB0aGlzLmlzVGFibGVGb3JtYXQob3JpZ2luYWwpO1xuICAgIFxuICAgIGNvbnN0IGZyb250ID0gaXNUYWJsZSBcbiAgICAgID8gb3JpZ2luYWwgIC8vIFx1MjE5MCBcdTg4NjhcdTY4M0NcdTc2RjRcdTYzQTVcdTRGN0ZcdTc1MjhcdTUzOUZcdTY1ODcsXHU0RkREXHU3NTU5ID09IFx1NjgwN1x1OEJCMFxuICAgICAgOiB0aGlzLmdlbmVyYXRlQ2xvemVUZXh0KG9yaWdpbmFsLCBkZWxldGlvbnMpOyAgLy8gXHUyMTkwIFx1OTc1RVx1ODg2OFx1NjgzQ1x1NjI0RFx1NjZGRlx1NjM2Mlx1NEUzQSBbLi4uXVxuICAgICAgXG4gICAgY29uc3QgYmFjayA9IGRlbGV0aW9ucy5tYXAoZCA9PiBkLmFuc3dlcik7XG4gIFxuICAgIC8vIFx1MjE5MCBcdTYyOEFcdTRFMEJcdTk3NjJcdThGRDlcdTRFOUJcdTRFRTNcdTc4MDFcdTg4NjVcdTUxNDVcdTVCOENcdTY1NzRcbiAgICBjb25zdCBjYXJkOiBGbGFzaGNhcmQgPSB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiAnY2xvemUnLFxuICAgICAgc291cmNlQ29udGVudElkOiBjb250ZW50VW5pdElkLFxuICAgICAgc291cmNlRmlsZTogY29udGVudFVuaXQuc291cmNlLmZpbGUsXG4gICAgICBhbmNob3JMaW5rOiBjb250ZW50VW5pdC5zb3VyY2UuYW5jaG9yTGluayxcbiAgICAgIGZyb250LFxuICAgICAgYmFjayxcbiAgICAgIGNsb3plOiB7XG4gICAgICAgIG9yaWdpbmFsLFxuICAgICAgICBkZWxldGlvbnNcbiAgICAgIH0sXG4gICAgICBkZWNrOiB0aGlzLmluZmVyRGVjayhjb250ZW50VW5pdC5zb3VyY2UuZmlsZSksXG4gICAgICB0YWdzOiBjb250ZW50VW5pdC5tZXRhZGF0YS50YWdzLFxuICAgICAgc2NoZWR1bGluZzogdGhpcy5pbml0aWFsaXplU2NoZWR1bGluZygpLFxuICAgICAgc3RhdHM6IHtcbiAgICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgICBkaWZmaWN1bHR5OiAwLjVcbiAgICAgIH0sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH07XG4gIFxuICAgIHRoaXMuZmxhc2hjYXJkcy5zZXQoY2FyZC5pZCwgY2FyZCk7XG4gICAgXG4gICAgY29udGVudFVuaXQuZmxhc2hjYXJkSWRzLnB1c2goY2FyZC5pZCk7XG4gICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5zYXZlQ29udGVudFVuaXRzKFtjb250ZW50VW5pdF0pO1xuICAgIFxuICAgIGF3YWl0IHRoaXMucGVyc2lzdEZsYXNoY2FyZHMoKTtcbiAgICAvLyBcdUQ4M0NcdURGQUYgXHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXHU2OEMwXHU2N0U1XHU3MEI5XG4vLyBhd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25DYXJkRXh0cmFjdGVkKCk7XG4gICAgcmV0dXJuIGNhcmQ7ICAvLyBcdTIxOTAgXHU1RkM1XHU5ODdCXHU2NzA5XHU4RkQ5XHU0RTAwXHU4ODRDIVxuICB9IFxuICBcbiAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENVxuICBwcml2YXRlIGlzVGFibGVGb3JtYXQodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0ZXh0IHx8ICF0ZXh0LnRyaW0oKSkgcmV0dXJuIGZhbHNlOyAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1N0E3QVx1NTAzQ1x1NjhDMFx1NjdFNVxuICAgIFxuICAgIGNvbnN0IGxpbmVzID0gdGV4dC50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIGlmIChsaW5lcy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgaGFzU2VwYXJhdG9yID0gbGluZXMuc29tZShsaW5lID0+IC9eXFx8P1tcXHMtOnxdK1xcfD8kLy50ZXN0KGxpbmUudHJpbSgpKSk7XG4gICAgY29uc3QgcGlwZUxpbmVzID0gbGluZXMuZmlsdGVyKGxpbmUgPT4gbGluZS5pbmNsdWRlcygnfCcpKS5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIGhhc1NlcGFyYXRvciB8fCBwaXBlTGluZXMgPj0gbGluZXMubGVuZ3RoICogMC43O1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2N0U1XHU4QkUyXHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1OTVFQVx1NTM2MVxuICAgKi9cbiAgZ2V0Rmxhc2hjYXJkKGlkOiBzdHJpbmcpOiBGbGFzaGNhcmQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmZsYXNoY2FyZHMuZ2V0KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTk1RUFcdTUzNjFcbiAgICovXG4gIGdldEFsbEZsYXNoY2FyZHMoKTogRmxhc2hjYXJkW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZmxhc2hjYXJkcy52YWx1ZXMoKSk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU0RUNBXHU2NUU1XHU1Rjg1XHU1OTBEXHU0RTYwXHU3Njg0XHU1MzYxXHU3MjQ3XG4gICAqL1xuICBnZXREdWVDYXJkcygpOiBGbGFzaGNhcmRbXSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmZsYXNoY2FyZHMudmFsdWVzKCkpXG4gICAgICAuZmlsdGVyKGNhcmQgPT4gY2FyZC5zY2hlZHVsaW5nLmR1ZSA8PSBub3cpXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBjb25zdCBhUHJpb3JpdHkgPSB0aGlzLmdldENhcmRQcmlvcml0eShhKTtcbiAgICAgICAgY29uc3QgYlByaW9yaXR5ID0gdGhpcy5nZXRDYXJkUHJpb3JpdHkoYik7XG4gICAgICAgIHJldHVybiBiUHJpb3JpdHkgLSBhUHJpb3JpdHk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTY1QjBcdTUzNjFcdTcyNDdcbiAgICovXG4gIGdldE5ld0NhcmRzKCk6IEZsYXNoY2FyZFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmZsYXNoY2FyZHMudmFsdWVzKCkpXG4gICAgICAuZmlsdGVyKGNhcmQgPT4gY2FyZC5zY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3Jyk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY2RjRcdTY1QjBcdTU0OENcdTUyMjBcdTk2NjQgPT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogXHU2NkY0XHU2NUIwXHU1MzYxXHU3MjQ3XHVGRjA4XHU1OTBEXHU0RTYwXHU1NDBFXHVGRjA5XG4gICAqL1xuICBhc3luYyB1cGRhdGVDYXJkKGNhcmQ6IEZsYXNoY2FyZCkge1xuICAgIHRoaXMuZmxhc2hjYXJkcy5zZXQoY2FyZC5pZCwgY2FyZCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0Rmxhc2hjYXJkcygpO1xuICB9XG5cbi8qKlxuICogXHU1MjIwXHU5NjY0XHU1MzYxXHU3MjQ3XG4gKi9cbmFzeW5jIGRlbGV0ZUNhcmQoaWQ6IHN0cmluZykge1xuICBjb25zdCBjYXJkID0gdGhpcy5mbGFzaGNhcmRzLmdldChpZCk7XG4gIGlmICghY2FyZCkgcmV0dXJuO1xuXG4gIC8vIFx1RDgzRFx1REQyNyBcdTg5RTNcdTk2NjQgQ29udGVudFVuaXQgXHU1MTczXHU4MDU0XG4gIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChjYXJkLnNvdXJjZUNvbnRlbnRJZCk7XG4gIGlmIChjb250ZW50VW5pdCkge1xuICAgIGNvbnN0IGluZGV4ID0gY29udGVudFVuaXQuZmxhc2hjYXJkSWRzLmluZGV4T2YoaWQpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBjb250ZW50VW5pdC5mbGFzaGNhcmRJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyhbY29udGVudFVuaXRdKTtcbiAgICB9XG4gIH1cblxuICAvLyBcdTJCNTAgXHU1MjIwXHU5NjY0XHU4QkU1XHU1MzYxXHU3MjQ3XHU3Njg0XHU2MjQwXHU2NzA5XHU1OTBEXHU0RTYwXHU2NUU1XHU1RkQ3XG4gIHRoaXMucmV2aWV3TG9ncyA9IHRoaXMucmV2aWV3TG9ncy5maWx0ZXIobG9nID0+IGxvZy5mbGFzaGNhcmRJZCAhPT0gaWQpO1xuICBhd2FpdCB0aGlzLnBlcnNpc3RSZXZpZXdMb2dzKCk7IC8vIFx1NEZERFx1NUI1OFx1NjZGNFx1NjVCMFx1NTQwRVx1NzY4NFx1NjVFNVx1NUZEN1xuXG4gIC8vIFx1NTIyMFx1OTY2NFx1OTVFQVx1NTM2MVxuICB0aGlzLmZsYXNoY2FyZHMuZGVsZXRlKGlkKTtcbiAgYXdhaXQgdGhpcy5wZXJzaXN0Rmxhc2hjYXJkcygpO1xufVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NTkwRFx1NEU2MFx1NjVFNVx1NUZENyA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdThCQjBcdTVGNTVcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgICovXG4gIGFzeW5jIGxvZ1Jldmlldyhsb2c6IFJldmlld0xvZykge1xuICAgIHRoaXMucmV2aWV3TG9ncy5wdXNoKGxvZyk7XG4gICAgXG4gICAgaWYgKHRoaXMucmV2aWV3TG9ncy5sZW5ndGggPiAxMDAwKSB7XG4gICAgICB0aGlzLnJldmlld0xvZ3MgPSB0aGlzLnJldmlld0xvZ3Muc2xpY2UoLTEwMDApO1xuICAgIH1cbiAgICBcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3RSZXZpZXdMb2dzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MzYxXHU3MjQ3XHU3Njg0XHU1OTBEXHU0RTYwXHU1Mzg2XHU1M0YyXG4gICAqL1xuICBnZXRDYXJkUmV2aWV3SGlzdG9yeShjYXJkSWQ6IHN0cmluZyk6IFJldmlld0xvZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5yZXZpZXdMb2dzLmZpbHRlcihsb2cgPT4gbG9nLmZsYXNoY2FyZElkID09PSBjYXJkSWQpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3RURGXHU4QkExID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuICAgKi9cbiAgZ2V0U3RhdHMoKSB7XG4gICAgY29uc3QgYWxsID0gdGhpcy5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgY29uc3QgZHVlID0gdGhpcy5nZXREdWVDYXJkcygpO1xuICAgIGNvbnN0IG5ld0NhcmRzID0gdGhpcy5nZXROZXdDYXJkcygpO1xuICAgIFxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICBjb25zdCByZXZpZXdlZFRvZGF5ID0gdGhpcy5yZXZpZXdMb2dzLmZpbHRlcihcbiAgICAgIGxvZyA9PiBsb2cudGltZXN0YW1wID49IHRvZGF5XG4gICAgKS5sZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWw6IGFsbC5sZW5ndGgsXG4gICAgICBuZXc6IG5ld0NhcmRzLmxlbmd0aCxcbiAgICAgIGR1ZTogZHVlLmxlbmd0aCxcbiAgICAgIHJldmlld2VkVG9kYXksXG4gICAgICB0b3RhbFJldmlld3M6IHRoaXMucmV2aWV3TG9ncy5sZW5ndGhcbiAgICB9O1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU1REU1XHU1MTc3XHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1NTJBMFx1OEY3RFx1OTVFQVx1NTM2MVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkRmxhc2hjYXJkcygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vZmxhc2hjYXJkcy5qc29uYDtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuXG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHMocGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFkYXB0ZXIucmVhZChwYXRoKTtcbiAgICAgICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBjYXJkIG9mIGZsYXNoY2FyZHMpIHtcbiAgICAgICAgICB0aGlzLmZsYXNoY2FyZHMuc2V0KGNhcmQuaWQsIGNhcmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZmxhc2hjYXJkczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NTJBMFx1OEY3RFx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkUmV2aWV3TG9ncygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vcmV2aWV3LWxvZ3MuanNvbmA7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQocGF0aCk7XG4gICAgICAgIHRoaXMucmV2aWV3TG9ncyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcmV2aWV3IGxvZ3M6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMURcdTU5Q0JcdTUzMTZcdThDMDNcdTVFQTZcdTUzQzJcdTY1NzBcbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVNjaGVkdWxpbmcoKTogRmxhc2hjYXJkWydzY2hlZHVsaW5nJ10ge1xuICAgIHJldHVybiB7XG4gICAgICBpbnRlcnZhbDogMCxcbiAgICAgIGVhc2U6IDIuNSxcbiAgICAgIGR1ZTogRGF0ZS5ub3coKSxcbiAgICAgIGxhcHNlczogMCxcbiAgICAgIHJlcHM6IDAsXG4gICAgICBzdGF0ZTogJ25ldydcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NjU4N1x1NjcyQ1xuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUNsb3plVGV4dChcbiAgICBvcmlnaW5hbDogc3RyaW5nLFxuICAgIGRlbGV0aW9uczogeyBpbmRleDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZyB9W11cbiAgKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0ID0gb3JpZ2luYWw7XG4gICAgY29uc3Qgc29ydGVkID0gWy4uLmRlbGV0aW9uc10uc29ydCgoYSwgYikgPT4gYi5pbmRleCAtIGEuaW5kZXgpO1xuICAgIFxuICAgIGZvciAoY29uc3QgZGVsZXRpb24gb2Ygc29ydGVkKSB7XG4gICAgICBjb25zdCBiZWZvcmUgPSByZXN1bHQuc3Vic3RyaW5nKDAsIGRlbGV0aW9uLmluZGV4KTtcbiAgICAgIGNvbnN0IGFmdGVyID0gcmVzdWx0LnN1YnN0cmluZyhkZWxldGlvbi5pbmRleCArIGRlbGV0aW9uLmFuc3dlci5sZW5ndGgpO1xuICAgICAgcmVzdWx0ID0gYCR7YmVmb3JlfVsuLi5dJHthZnRlcn1gO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjNBOFx1NjVBRFx1NTM2MVx1N0VDNFx1NTQwRFx1NzlGMFxuICAgKi9cbiAgcHJpdmF0ZSBpbmZlckRlY2soZmlsZVBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFydHMgPSBmaWxlUGF0aC5zcGxpdCgnLycpO1xuICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbcGFydHMubGVuZ3RoIC0gMl0gOiAnRGVmYXVsdCc7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MzYxXHU3MjQ3XHU0RjE4XHU1MTQ4XHU3RUE3XG4gICAqL1xuICBwcml2YXRlIGdldENhcmRQcmlvcml0eShjYXJkOiBGbGFzaGNhcmQpOiBudW1iZXIge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3Qgb3ZlcmR1ZSA9IE1hdGgubWF4KDAsIG5vdyAtIGNhcmQuc2NoZWR1bGluZy5kdWUpO1xuICAgIGNvbnN0IGRheXNPdmVyZHVlID0gb3ZlcmR1ZSAvICgyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICBcbiAgICBpZiAoY2FyZC5zY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3JykgcmV0dXJuIDEwMCArIGRheXNPdmVyZHVlO1xuICAgIGlmIChjYXJkLnNjaGVkdWxpbmcuc3RhdGUgPT09ICdyZWxlYXJuaW5nJykgcmV0dXJuIDIwMCArIGRheXNPdmVyZHVlO1xuICAgIHJldHVybiBkYXlzT3ZlcmR1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYzMDFcdTRFNDVcdTUzMTZcdTk1RUFcdTUzNjFcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcGVyc2lzdEZsYXNoY2FyZHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2ZsYXNoY2FyZHMuanNvbmA7XG4gICAgICBjb25zdCBmbGFzaGNhcmRzID0gQXJyYXkuZnJvbSh0aGlzLmZsYXNoY2FyZHMudmFsdWVzKCkpO1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGZsYXNoY2FyZHMsIG51bGwsIDIpO1xuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGVyc2lzdGluZyBmbGFzaGNhcmRzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2MzAxXHU0RTQ1XHU1MzE2XHU1OTBEXHU0RTYwXHU2NUU1XHU1RkQ3XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHBlcnNpc3RSZXZpZXdMb2dzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9yZXZpZXctbG9ncy5qc29uYDtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnJldmlld0xvZ3MsIG51bGwsIDIpO1xuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGVyc2lzdGluZyByZXZpZXcgbG9nczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1NTUyRlx1NEUwMCBJRFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBjYXJkLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgfVxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQ0FBLG1CQUthLGlCQThSQTtBQXBTYjtB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QUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQWt2Q1Q7QUFDRjtBQXR4Q1csWUFDTSxVQUFVO0FBRGhCLFlBRU0sYUFBYTs7O0FDSnpCLElBQU0sY0FBTixNQUFrQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3JCLE9BQU8sU0FBZTtBQUNwQixRQUFJLEtBQUssY0FBYyxTQUFTLGVBQWUsS0FBSyxPQUFPLEdBQUc7QUFDNUQ7QUFBQSxJQUNGO0FBRUEsVUFBTSxVQUFVLFNBQVMsY0FBYyxPQUFPO0FBQzlDLFlBQVEsS0FBSyxLQUFLO0FBQ2xCLFlBQVEsY0FBYyxLQUFLLFVBQVU7QUFDckMsYUFBUyxLQUFLLFlBQVksT0FBTztBQUVqQyxTQUFLLGFBQWE7QUFBQSxFQUNwQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsT0FBTyxTQUFlO0FBQ3BCLFVBQU0sVUFBVSxTQUFTLGVBQWUsS0FBSyxPQUFPO0FBQ3BELFFBQUksU0FBUztBQUNYLGNBQVEsT0FBTztBQUNmLFdBQUssYUFBYTtBQUFBLElBQ3BCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsT0FBZSxZQUFvQjtBQUNqQyxXQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7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QUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWtnQjFCLGFBQVMsS0FBSyxZQUFZLE9BQU87QUFBQSxFQUMvQjtBQUFDOzs7QUUvcUNJLElBQU0sY0FBTixNQUFrQjtBQUFBO0FBQUEsRUFPdkIsWUFDVSxLQUNBLFFBQ1I7QUFGUTtBQUNBO0FBUFYsU0FBUSxlQUF5QyxvQkFBSSxJQUFJO0FBQ3pELFNBQVEsWUFBbUMsb0JBQUksSUFBSTtBQUVuRCxTQUFRLFlBQVksSUFBSSxLQUFLO0FBTTNCLFNBQUssYUFBYSxHQUFHLEtBQUssSUFBSSxNQUFNO0FBQUEsRUFDdEM7QUFBQSxFQUVBLE1BQU0sYUFBYTtBQUVqQixVQUFNLEtBQUssaUJBQWlCO0FBRzVCLFVBQU0sS0FBSyxTQUFTO0FBQUEsRUFDdEI7QUFBQSxFQUVBLE1BQWMsbUJBQW1CO0FBQy9CLFVBQU0sVUFBVSxLQUFLLElBQUksTUFBTTtBQUcvQixRQUFJLENBQUUsTUFBTSxRQUFRLE9BQU8sS0FBSyxVQUFVLEdBQUk7QUFDNUMsWUFBTSxRQUFRLE1BQU0sS0FBSyxVQUFVO0FBQUEsSUFDckM7QUFHQSxVQUFNLGFBQWEsQ0FBQyxXQUFXLFVBQVUsT0FBTztBQUNoRCxlQUFXLFVBQVUsWUFBWTtBQUMvQixZQUFNLE9BQU8sR0FBRyxLQUFLLGNBQWM7QUFDbkMsVUFBSSxDQUFFLE1BQU0sUUFBUSxPQUFPLElBQUksR0FBSTtBQUNqQyxjQUFNLFFBQVEsTUFBTSxJQUFJO0FBQUEsTUFDMUI7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYyxXQUFXO0FBQ3ZCLFFBQUk7QUFDRixZQUFNLGNBQWMsR0FBRyxLQUFLO0FBQzVCLFlBQU0sVUFBVSxLQUFLLElBQUksTUFBTTtBQUUvQixVQUFJLE1BQU0sUUFBUSxPQUFPLFdBQVcsR0FBRztBQUNyQyxjQUFNLE9BQU8sTUFBTSxRQUFRLEtBQUssV0FBVztBQUMzQyxjQUFNLFFBQXVCLEtBQUssTUFBTSxJQUFJO0FBRTVDLG1CQUFXLFFBQVEsT0FBTztBQUN4QixlQUFLLGFBQWEsSUFBSSxLQUFLLElBQUksSUFBSTtBQUduQyxjQUFJLENBQUMsS0FBSyxVQUFVLElBQUksS0FBSyxPQUFPLElBQUksR0FBRztBQUN6QyxpQkFBSyxVQUFVLElBQUksS0FBSyxPQUFPLE1BQU0sQ0FBQyxDQUFDO0FBQUEsVUFDekM7QUFDQSxlQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sSUFBSSxFQUFHLEtBQUssS0FBSyxFQUFFO0FBQUEsUUFDcEQ7QUFBQSxNQUNGO0FBQUEsSUFDRixTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0sdUJBQXVCLEtBQUs7QUFBQSxJQUM1QztBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sZ0JBQWdCLE1BQW1CO0FBQ3ZDLFNBQUssYUFBYSxJQUFJLEtBQUssSUFBSSxJQUFJO0FBR25DLFFBQUksQ0FBQyxLQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sSUFBSSxHQUFHO0FBQ3pDLFdBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxNQUFNLENBQUMsQ0FBQztBQUFBLElBQ3pDO0FBQ0EsUUFBSSxDQUFDLEtBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxJQUFJLEVBQUcsU0FBUyxLQUFLLEVBQUUsR0FBRztBQUM1RCxXQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sSUFBSSxFQUFHLEtBQUssS0FBSyxFQUFFO0FBQUEsSUFDcEQ7QUFFQSxVQUFNLEtBQUssUUFBUTtBQUFBLEVBQ3JCO0FBQUEsRUFFQSxNQUFNLGlCQUFpQixPQUFzQjtBQUMzQyxlQUFXLFFBQVEsT0FBTztBQUN4QixXQUFLLGFBQWEsSUFBSSxLQUFLLElBQUksSUFBSTtBQUVuQyxVQUFJLENBQUMsS0FBSyxVQUFVLElBQUksS0FBSyxPQUFPLElBQUksR0FBRztBQUN6QyxhQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sTUFBTSxDQUFDLENBQUM7QUFBQSxNQUN6QztBQUNBLFVBQUksQ0FBQyxLQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sSUFBSSxFQUFHLFNBQVMsS0FBSyxFQUFFLEdBQUc7QUFDNUQsYUFBSyxVQUFVLElBQUksS0FBSyxPQUFPLElBQUksRUFBRyxLQUFLLEtBQUssRUFBRTtBQUFBLE1BQ3BEO0FBQUEsSUFDRjtBQUVBLFVBQU0sS0FBSyxRQUFRO0FBQUEsRUFDckI7QUFBQSxFQUVBLGVBQWUsSUFBcUM7QUFDbEQsV0FBTyxLQUFLLGFBQWEsSUFBSSxFQUFFO0FBQUEsRUFDakM7QUFBQSxFQUVBLHNCQUFzQixVQUFpQztBQUNyRCxVQUFNLE1BQU0sS0FBSyxVQUFVLElBQUksUUFBUSxLQUFLLENBQUM7QUFDN0MsV0FBTyxJQUFJLElBQUksUUFBTSxLQUFLLGFBQWEsSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLE9BQU87QUFBQSxFQUNoRTtBQUFBLEVBRUEsc0JBQXNCLE1BQTBDO0FBQzlELFdBQU8sTUFBTSxLQUFLLEtBQUssYUFBYSxPQUFPLENBQUMsRUFBRSxPQUFPLFVBQVEsS0FBSyxTQUFTLElBQUk7QUFBQSxFQUNqRjtBQUFBLEVBRUEsbUJBQW1CLE1BQWUsTUFBOEI7QUFDOUQsVUFBTSxNQUFNLE1BQU0sS0FBSyxLQUFLLGFBQWEsT0FBTyxDQUFDO0FBQ2pELFFBQUksQ0FBQyxRQUFRLENBQUM7QUFBTSxhQUFPO0FBQzNCLFdBQU8sSUFBSSxNQUFNLE9BQU8sT0FBTyxPQUFPLEtBQUssSUFBSTtBQUFBLEVBQ2pEO0FBQUEsRUFHQSxNQUFNLGtCQUFrQixJQUFZO0FBQ2xDLFVBQU0sT0FBTyxLQUFLLGFBQWEsSUFBSSxFQUFFO0FBQ3JDLFFBQUksTUFBTTtBQUNSLFdBQUssYUFBYSxPQUFPLEVBQUU7QUFHM0IsWUFBTSxZQUFZLEtBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxJQUFJO0FBQ3JELFVBQUksV0FBVztBQUNiLGNBQU0sUUFBUSxVQUFVLFFBQVEsRUFBRTtBQUNsQyxZQUFJLFFBQVEsSUFBSTtBQUNkLG9CQUFVLE9BQU8sT0FBTyxDQUFDO0FBQUEsUUFDM0I7QUFBQSxNQUNGO0FBRUEsWUFBTSxLQUFLLFFBQVE7QUFBQSxJQUNyQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBLEVBRUEsTUFBTSxPQUFzQjtBQUMxQixVQUFNLEtBQUssUUFBUTtBQUFBLEVBQ3JCO0FBQUEsRUFFQSxNQUFjLFVBQVU7QUFDdEIsUUFBSTtBQUNGLFlBQU0sY0FBYyxHQUFHLEtBQUs7QUFDNUIsWUFBTSxRQUFRLE1BQU0sS0FBSyxLQUFLLGFBQWEsT0FBTyxDQUFDO0FBQ25ELFlBQU0sT0FBTyxLQUFLLFVBQVUsT0FBTyxNQUFNLENBQUM7QUFFMUMsWUFBTSxLQUFLLElBQUksTUFBTSxRQUFRLE1BQU0sYUFBYSxJQUFJO0FBR3BELFlBQU0sWUFBWSxHQUFHLEtBQUs7QUFDMUIsWUFBTSxZQUFZLEtBQUs7QUFBQSxRQUNyQixPQUFPLFlBQVksS0FBSyxTQUFTO0FBQUEsUUFDakM7QUFBQSxRQUNBO0FBQUEsTUFDRjtBQUNBLFlBQU0sS0FBSyxJQUFJLE1BQU0sUUFBUSxNQUFNLFdBQVcsU0FBUztBQUFBLElBQ3pELFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSwwQkFBMEIsS0FBSztBQUFBLElBQy9DO0FBQUEsRUFDRjtBQUFBO0FBQUEsRUFFRSxNQUFNLFlBQVksWUFBaUM7QUFDakQsUUFBSTtBQUNGLFlBQU0sV0FBVztBQUNqQixZQUFNLEtBQUssUUFBUTtBQUFBLElBQ3JCLFNBQVMsT0FBUDtBQUVBLFlBQU0sS0FBSyxTQUFTO0FBQ3BCLFlBQU07QUFBQSxJQUNSO0FBQUEsRUFDRjtBQUNKOzs7QUMxTUEsSUFBQUMsb0JBQWlEO0FBTTFDLElBQU0sbUJBQU4sTUFBdUI7QUFBQSxFQUM1QixZQUNVLEtBQ0EsYUFDQSxrQkFDQSxRQUNSO0FBSlE7QUFDQTtBQUNBO0FBQ0E7QUFBQSxFQUNQO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNSCxvQkFBb0IsTUFBWSxRQUFnQixNQUFhO0FBQzNELFVBQU0sWUFBWSxPQUFPLGFBQWE7QUFDdEMsUUFBSSxDQUFDO0FBQVc7QUFFaEIsU0FBSyxRQUFRLENBQUMsU0FBUztBQUNyQixXQUNHLFNBQVMsZ0NBQXlCLEVBQ2xDLFFBQVEsV0FBVyxFQUNuQixRQUFRLFlBQVk7QUFDbkIsY0FBTSxLQUFLLG9CQUFvQixRQUFRLE1BQU0sTUFBTTtBQUFBLE1BQ3JELENBQUM7QUFBQSxJQUNMLENBQUM7QUFFRCxTQUFLLFFBQVEsQ0FBQyxTQUFTO0FBQ3JCLFdBQ0csU0FBUywyQkFBc0IsRUFDL0IsUUFBUSxhQUFhLEVBQ3JCLFFBQVEsWUFBWTtBQUNuQixjQUFNLEtBQUssb0JBQW9CLFFBQVEsTUFBTSxJQUFJO0FBQUEsTUFDbkQsQ0FBQztBQUFBLElBQ0wsQ0FBQztBQUVELFNBQUssUUFBUSxDQUFDLFNBQVM7QUFDckIsV0FDRyxTQUFTLG9DQUEwQixFQUNuQyxRQUFRLGFBQWEsRUFDckIsUUFBUSxZQUFZO0FBQ25CLGNBQU0sS0FBSyxvQkFBb0IsUUFBUSxNQUFNLE9BQU87QUFBQSxNQUN0RCxDQUFDO0FBQUEsSUFDTCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsTUFBYyxvQkFDWixRQUNBLE1BQ0EsYUFDZTtBQTNEbkI7QUE0REksVUFBTSxZQUFZLE9BQU8sYUFBYTtBQUN0QyxRQUFJLENBQUMsV0FBVztBQUNkLFVBQUkseUJBQU8sa0JBQWtCO0FBQzdCO0FBQUEsSUFDRjtBQUVBLFVBQU0sU0FBUyxPQUFPLFVBQVUsTUFBTTtBQUN0QyxVQUFNLFVBQVUsTUFBTSxLQUFLLElBQUksTUFBTSxLQUFLLElBQUk7QUFDOUMsVUFBTSxTQUFTLEtBQUssb0JBQW9CLFNBQVMsT0FBTyxNQUFNLE9BQU8sRUFBRTtBQUV2RSxRQUFJO0FBQ0YsVUFBSTtBQUVKLGNBQVEsYUFBYTtBQUFBLFFBQ25CLEtBQUs7QUFDSCxpQkFBTyxLQUFLLGVBQWUsTUFBTSxXQUFXLFFBQVEsT0FBTztBQUMzRDtBQUFBLFFBQ0YsS0FBSztBQUNILGlCQUFPLEtBQUssYUFBYSxNQUFNLFdBQVcsUUFBUSxPQUFPO0FBQ3pEO0FBQUEsUUFDRixLQUFLO0FBQ0gsaUJBQU8sS0FBSyxnQkFBZ0IsTUFBTSxXQUFXLFFBQVEsT0FBTztBQUM1RDtBQUFBLE1BQ0o7QUFHQSxZQUFNLGVBQWUsTUFBTSxLQUFLLGtCQUFrQixJQUFJO0FBQ3RELFVBQUksY0FBYztBQUNoQixZQUFJLHlCQUFPLGlEQUF1QztBQUNsRDtBQUFBLE1BQ0Y7QUFHQSxZQUFNLEtBQUssWUFBWSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7QUFHOUMsVUFBSSxnQkFBZ0IsUUFBUSxnQkFBZ0IsU0FBUztBQUNuRCxZQUFJO0FBQ0YsZ0JBQU0sV0FBVyxnQkFBZ0IsT0FBTyxPQUFPO0FBQy9DLGdCQUFNLFlBQVksTUFBTSxLQUFLLGlCQUFpQix3QkFBd0IsTUFBTTtBQUFBLFlBQzFFO0FBQUEsVUFDRixDQUFDO0FBR0QsZ0JBQU0sS0FBSyxZQUFZLGlCQUFpQixDQUFDLElBQUksQ0FBQztBQUFBLFFBRWhELFNBQVMsT0FBUDtBQUNBLGtCQUFRLE1BQU0sK0RBQWlDLEtBQUs7QUFBQSxRQUN0RDtBQUFBLE1BQ0YsV0FBVyxnQkFBZ0IsUUFBUTtBQUVqQyxhQUFJLFVBQUssV0FBTCxtQkFBYSxjQUFjO0FBQzdCLGdCQUFNLEtBQUssT0FBTyxhQUFhLGdCQUFnQjtBQUFBLFFBQ2pEO0FBQUEsTUFDRjtBQUVBLFlBQU0sWUFBWTtBQUFBLFFBQ2hCLE1BQU07QUFBQSxRQUNOLElBQUk7QUFBQSxRQUNKLE9BQU87QUFBQSxNQUNUO0FBRUEsVUFBSSx5QkFBTyx1QkFBa0IsVUFBVSxXQUFXLEdBQUc7QUFHckQsV0FBSyxnQkFBZ0I7QUFBQSxJQUV2QixTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0sK0JBQStCLEtBQUs7QUFDbEQsVUFBSSx5QkFBTyxpQkFBWSxNQUFNLFNBQVM7QUFBQSxJQUN4QztBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsTUFBYyxrQkFBa0IsTUFBZ0Q7QUFDOUUsVUFBTSxXQUFXLE1BQU0sS0FBSyxZQUFZLG1CQUFtQjtBQUczRCxVQUFNLFlBQVksU0FBUztBQUFBLE1BQUssY0FDOUIsU0FBUyxPQUFPLFNBQVMsS0FBSyxPQUFPLFFBQ3JDLFNBQVMsT0FBTyxTQUFTLFVBQVUsS0FBSyxPQUFPLFNBQVMsU0FDeEQsU0FBUyxPQUFPLFNBQVMsUUFBUSxLQUFLLE9BQU8sU0FBUyxPQUN0RCxTQUFTLFNBQVMsS0FBSztBQUFBLElBQ3pCO0FBRUEsV0FBTyxhQUFhO0FBQUEsRUFDdEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLG1CQUFtQixVQUFrQixVQUEyQjtBQUN0RSxVQUFNLGNBQWMsU0FBUyxLQUFLLEVBQUUsWUFBWTtBQUNoRCxVQUFNLGNBQWMsU0FBUyxLQUFLLEVBQUUsWUFBWTtBQUNoRCxXQUFPLGdCQUFnQjtBQUFBLEVBQ3pCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxlQUNOLE1BQ0EsV0FDQSxRQUNBLGFBQ2E7QUFDYixVQUFNLFdBQVcsS0FBSyxrQkFBa0IsYUFBYSxNQUFNO0FBRTNELFdBQU87QUFBQSxNQUNMLElBQUksS0FBSyxXQUFXO0FBQUEsTUFDcEIsTUFBTTtBQUFBLE1BQ04sU0FBUyxVQUFVLEtBQUs7QUFBQSxNQUN4QixhQUFhLFVBQVUsS0FBSztBQUFBLE1BQzVCLFFBQVE7QUFBQSxRQUNOLE1BQU0sS0FBSztBQUFBLFFBQ1gsVUFBVTtBQUFBLFVBQ1IsT0FBTztBQUFBLFVBQ1AsS0FBSyxTQUFTLFVBQVU7QUFBQSxVQUN4QixNQUFNLFNBQVM7QUFBQSxRQUNqQjtBQUFBLFFBQ0EsU0FBUyxLQUFLLFlBQVksYUFBYSxNQUFNO0FBQUEsUUFDN0MsWUFBWSxLQUFLLEtBQUssYUFBYSxLQUFLLGdCQUFnQjtBQUFBLE1BQzFEO0FBQUEsTUFDQSxhQUFhO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixhQUFhO0FBQUEsTUFDZjtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1IsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixXQUFXLEtBQUssSUFBSTtBQUFBLFFBQ3BCLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTTtBQUFBLE1BQzVDO0FBQUEsTUFDQSxjQUFjLENBQUM7QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGFBQ04sTUFDQSxXQUNBLFFBQ0EsYUFDYTtBQUNiLFVBQU0sV0FBVyxLQUFLLGtCQUFrQixhQUFhLE1BQU07QUFHM0QsUUFBSSxVQUFrQjtBQUV0QixRQUFJLFVBQVUsU0FBUyxJQUFJLEdBQUc7QUFFNUIsWUFBTSxRQUFRLFVBQVUsTUFBTSxJQUFJO0FBQ2xDLGlCQUFXLE1BQU0sQ0FBQyxFQUFFLEtBQUs7QUFDekIsZUFBUyxNQUFNLE1BQU0sQ0FBQyxFQUFFLEtBQUssSUFBSSxFQUFFLEtBQUs7QUFBQSxJQUMxQyxPQUFPO0FBRUwsaUJBQVcsVUFBVSxLQUFLO0FBQzFCLGVBQVM7QUFBQSxJQUNYO0FBRUEsV0FBTztBQUFBLE1BQ0wsSUFBSSxLQUFLLFdBQVc7QUFBQSxNQUNwQixNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVDtBQUFBLE1BQ0EsYUFBYSxVQUFVLEtBQUs7QUFBQSxNQUM1QixRQUFRO0FBQUEsUUFDTixNQUFNLEtBQUs7QUFBQSxRQUNYLFVBQVU7QUFBQSxVQUNSLE9BQU87QUFBQSxVQUNQLEtBQUssU0FBUyxVQUFVO0FBQUEsVUFDeEIsTUFBTSxTQUFTO0FBQUEsUUFDakI7QUFBQSxRQUNBLFNBQVMsS0FBSyxZQUFZLGFBQWEsTUFBTTtBQUFBLFFBQzdDLFlBQVksS0FBSyxLQUFLLGFBQWEsS0FBSyxnQkFBZ0I7QUFBQSxNQUMxRDtBQUFBLE1BQ0EsYUFBYTtBQUFBLFFBQ1gsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsYUFBYTtBQUFBLE1BQ2Y7QUFBQSxNQUNBLFVBQVU7QUFBQSxRQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixNQUFNLEtBQUssWUFBWSxhQUFhLE1BQU07QUFBQSxNQUM1QztBQUFBLE1BQ0EsY0FBYyxDQUFDO0FBQUEsSUFDakI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxnQkFDTixNQUNBLFdBQ0EsUUFDQSxhQUNhO0FBQ2IsVUFBTSxXQUFXLEtBQUssa0JBQWtCLGFBQWEsTUFBTTtBQUMzRCxVQUFNLGVBQWUsS0FBSyxvQkFBb0IsYUFBYSxRQUFRLFVBQVUsTUFBTTtBQUVuRixXQUFPO0FBQUEsTUFDTCxJQUFJLEtBQUssV0FBVztBQUFBLE1BQ3BCLE1BQU07QUFBQSxNQUNOLFNBQVMsVUFBVSxLQUFLO0FBQUEsTUFDeEIsYUFBYTtBQUFBLE1BQ2IsUUFBUTtBQUFBLFFBQ04sTUFBTSxLQUFLO0FBQUEsUUFDWCxVQUFVO0FBQUEsVUFDUixPQUFPO0FBQUEsVUFDUCxLQUFLLFNBQVMsVUFBVTtBQUFBLFVBQ3hCLE1BQU0sU0FBUztBQUFBLFFBQ2pCO0FBQUEsUUFDQSxTQUFTLEtBQUssWUFBWSxhQUFhLE1BQU07QUFBQSxRQUM3QyxZQUFZLEtBQUssS0FBSyxhQUFhLEtBQUssZ0JBQWdCO0FBQUEsTUFDMUQ7QUFBQSxNQUNBLGFBQWE7QUFBQSxRQUNYLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLGFBQWE7QUFBQSxNQUNmO0FBQUEsTUFDQSxVQUFVO0FBQUEsUUFDUixXQUFXLEtBQUssSUFBSTtBQUFBLFFBQ3BCLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsTUFBTSxLQUFLLFlBQVksYUFBYSxNQUFNO0FBQUEsTUFDNUM7QUFBQSxNQUNBLGNBQWMsQ0FBQztBQUFBLElBQ2pCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1Esb0JBQW9CLFNBQWlCLE1BQWMsSUFBb0I7QUFDN0UsVUFBTSxRQUFRLFFBQVEsTUFBTSxJQUFJO0FBQ2hDLFFBQUksU0FBUztBQUViLGFBQVMsSUFBSSxHQUFHLElBQUksTUFBTSxLQUFLO0FBQzdCLGdCQUFVLE1BQU0sQ0FBQyxFQUFFLFNBQVM7QUFBQSxJQUM5QjtBQUVBLGNBQVU7QUFDVixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBTSxTQUFTLE1BQThCO0FBQzNDLFFBQUk7QUFDRixZQUFNLFVBQVUsTUFBTSxLQUFLLElBQUksTUFBTSxLQUFLLElBQUk7QUFDOUMsWUFBTSxRQUFRLE1BQU0sS0FBSyxlQUFlLE1BQU0sT0FBTztBQUVyRCxVQUFJLE1BQU0sU0FBUyxHQUFHO0FBQ3BCLGNBQU0sS0FBSyxZQUFZLGlCQUFpQixLQUFLO0FBRTdDLGNBQU0sVUFBVSxNQUFNLE9BQU8sT0FBSyxFQUFFLFNBQVMsSUFBSSxFQUFFO0FBQ25ELGNBQU0sYUFBYSxNQUFNLE9BQU8sT0FBSyxFQUFFLFNBQVMsT0FBTyxFQUFFO0FBQ3pELFlBQUkseUJBQU8sYUFBYSx3QkFBd0IsK0JBQStCLEtBQUssTUFBTTtBQUUxRixtQkFBVyxNQUFNO0FBQ2YsZUFBSyxnQkFBZ0I7QUFBQSxRQUN2QixHQUFHLEdBQUc7QUFBQSxNQUNSO0FBRUEsYUFBTyxNQUFNO0FBQUEsSUFDZixTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0sNEJBQWtCLEtBQUs7QUFDckMsVUFBSSx5QkFBTyx3QkFBd0IsTUFBTSxTQUFTO0FBQ2xELGFBQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1Esa0JBQWtCO0FBQ3hCLFNBQUssSUFBSSxVQUFVLGlCQUFpQixVQUFRO0FBQzFDLFlBQU0sV0FBVyxLQUFLLEtBQUssWUFBWTtBQUN2QyxVQUFJLGFBQWEsc0NBQ2IsYUFBYSxpQ0FBaUM7QUFDNUMsY0FBTSxPQUFPLEtBQUs7QUFDbEIsWUFBSSxRQUFRLE9BQU8sS0FBSyxZQUFZLFlBQVk7QUFDOUMsZUFBSyxRQUFRO0FBQUEsUUFDZjtBQUFBLE1BQ047QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFNLFlBQTZEO0FBQ2pFLFVBQU0sUUFBUSxLQUFLLElBQUksTUFBTSxpQkFBaUI7QUFDOUMsUUFBSSxVQUFVO0FBQ2QsUUFBSSxZQUFZO0FBRWhCLFFBQUkseUJBQU8sWUFBWSxNQUFNLGlCQUFpQjtBQUU5QyxlQUFXLFFBQVEsT0FBTztBQUN4QixZQUFNLFFBQVEsTUFBTSxLQUFLLFNBQVMsSUFBSTtBQUN0QztBQUNBLG1CQUFhO0FBQUEsSUFDZjtBQUVBLFFBQUkseUJBQU8sNEJBQTRCLHdCQUF3QixnQkFBZ0I7QUFFL0UsV0FBTyxFQUFFLFNBQVMsVUFBVTtBQUFBLEVBQzlCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFjLGVBQWUsTUFBYSxTQUF5QztBQUNqRixVQUFNLFFBQXVCLENBQUM7QUFHOUIsVUFBTSxVQUFVLEtBQUssZUFBZSxNQUFNLE9BQU87QUFDakQsVUFBTSxhQUFhLE1BQU0sS0FBSyxrQkFBa0IsTUFBTSxPQUFPO0FBRTdELFVBQU0sb0JBQW9CLENBQUMsR0FBRyxTQUFTLEdBQUcsVUFBVTtBQUdwRCxVQUFNLGdCQUFnQixNQUFNLEtBQUssWUFBWSxtQkFBbUI7QUFDaEUsVUFBTSxXQUFXLE1BQU0sS0FBSyxxQkFBcUIsbUJBQW1CLGFBQWE7QUFFakYsUUFBSSxTQUFTLFdBQVcsR0FBRztBQUN6QixVQUFJLHlCQUFPLElBQUksS0FBSyw4REFBaUI7QUFDckMsYUFBTyxDQUFDO0FBQUEsSUFDVjtBQUVBLFFBQUksU0FBUyxTQUFTLGtCQUFrQixRQUFRO0FBQzlDLFlBQU0sVUFBVSxrQkFBa0IsU0FBUyxTQUFTO0FBQ3BELFVBQUkseUJBQU8sSUFBSSxLQUFLLHNCQUFZLGtDQUFjO0FBQUEsSUFDaEQ7QUFFQSxVQUFNLEtBQUssR0FBRyxRQUFRO0FBR3RCLFFBQUksTUFBTSxTQUFTLEdBQUc7QUFDcEIsWUFBTSxLQUFLLFlBQVksaUJBQWlCLEtBQUs7QUFBQSxJQUMvQztBQUdBLGVBQVcsUUFBUSxPQUFPO0FBQ3hCLFVBQUk7QUFDRixjQUFNLFdBQVcsS0FBSyxTQUFTLE9BQU8sT0FBTztBQUM3QyxjQUFNLFlBQVksTUFBTSxLQUFLLGlCQUFpQix3QkFBd0IsTUFBTTtBQUFBLFVBQzFFO0FBQUEsUUFDRixDQUFDO0FBQUEsTUFDSCxTQUFTLE9BQVA7QUFDQSxnQkFBUSxNQUFNLDBEQUE0QixLQUFLO0FBQUEsTUFDakQ7QUFBQSxJQUNGO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsTUFBYyxxQkFDWixVQUNBLGVBQ3dCO0FBQ3hCLFVBQU0sV0FBMEIsQ0FBQztBQUVqQyxlQUFXLFdBQVcsVUFBVTtBQUM5QixZQUFNLGNBQWMsY0FBYyxLQUFLLGNBQVk7QUFFakQsY0FBTSxlQUNKLFNBQVMsT0FBTyxTQUFTLFFBQVEsT0FBTyxRQUN4QyxTQUFTLE9BQU8sU0FBUyxVQUFVLFFBQVEsT0FBTyxTQUFTLFNBQzNELFNBQVMsT0FBTyxTQUFTLFFBQVEsUUFBUSxPQUFPLFNBQVMsT0FDekQsU0FBUyxTQUFTLFFBQVE7QUFHNUIsY0FBTSxjQUNKLFNBQVMsT0FBTyxTQUFTLFFBQVEsT0FBTyxRQUN4QyxTQUFTLFNBQVMsUUFBUSxRQUMxQixLQUFLLG1CQUFtQixTQUFTLFNBQVMsUUFBUSxPQUFPLEtBQ3pELEtBQUssbUJBQW1CLFNBQVMsZUFBZSxJQUFJLFFBQVEsZUFBZSxFQUFFO0FBRy9FLGNBQU0sU0FBUyxTQUFTLFNBQVMsUUFBUSxRQUFRLFNBQVMsUUFDeEQsU0FBUyxPQUFPLFNBQVMsUUFBUSxPQUFPLFFBQ3hDLEtBQUssbUJBQW1CLFNBQVMsU0FBUyxRQUFRLE9BQU8sS0FDekQsS0FBSyxtQkFBbUIsU0FBUyxVQUFVLElBQUksUUFBUSxVQUFVLEVBQUU7QUFFckUsZUFBTyxnQkFBZ0IsZUFBZTtBQUFBLE1BQ3hDLENBQUM7QUFFRCxVQUFJLENBQUMsYUFBYTtBQUNoQixpQkFBUyxLQUFLLE9BQU87QUFBQSxNQUN2QjtBQUFBLElBQ0Y7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUSxpQkFBaUIsTUFBdUI7QUFFOUMsVUFBTSxjQUFjO0FBQ3BCLFdBQU8sWUFBWSxLQUFLLElBQUk7QUFBQSxFQUM5QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUSxnQkFBZ0IsVUFBa0IsUUFBeUI7QUFFakUsVUFBTSxtQkFBbUI7QUFHekIsVUFBTSxrQkFBa0I7QUFDeEIsVUFBTSxrQkFBa0I7QUFFeEIsV0FBTyxpQkFBaUIsS0FBSyxRQUFRLE1BQzdCLGdCQUFnQixLQUFLLE1BQU0sS0FBSyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsRUFDckU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVEsc0JBQXNCLFdBQW1CLE1BQXVCO0FBRXRFLFVBQU0scUJBQXFCO0FBQzNCLFdBQU8sbUJBQW1CLEtBQUssU0FBUyxLQUFLLG1CQUFtQixLQUFLLElBQUk7QUFBQSxFQUMzRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUSxlQUFlLE1BQWEsU0FBZ0M7QUFDbEUsVUFBTSxRQUF1QixDQUFDO0FBQzlCLFVBQU0sVUFBVTtBQUNoQixRQUFJO0FBRUosWUFBUSxRQUFRLFFBQVEsS0FBSyxPQUFPLE9BQU8sTUFBTTtBQUMvQyxZQUFNLFlBQVksTUFBTSxDQUFDO0FBQ3pCLFlBQU0sV0FBVyxNQUFNLENBQUMsRUFBRSxLQUFLO0FBQy9CLFlBQU0sU0FBUyxNQUFNLENBQUMsRUFBRSxLQUFLO0FBRzdCLFVBQUksS0FBSyxpQkFBaUIsU0FBUyxHQUFHO0FBQ3BDO0FBQUEsTUFDRjtBQUdBLFVBQUksS0FBSyxnQkFBZ0IsVUFBVSxNQUFNLEdBQUc7QUFDMUM7QUFBQSxNQUNGO0FBRUEsWUFBTSxXQUFXLEtBQUssa0JBQWtCLFNBQVMsTUFBTSxLQUFLO0FBRTVELFlBQU0sT0FBb0I7QUFBQSxRQUN4QixJQUFJLEtBQUssV0FBVztBQUFBLFFBQ3BCLE1BQU07QUFBQSxRQUNOLFNBQVM7QUFBQSxRQUNUO0FBQUEsUUFDQSxhQUFhO0FBQUEsUUFDYixRQUFRO0FBQUEsVUFDTixNQUFNLEtBQUs7QUFBQSxVQUNYLFVBQVU7QUFBQSxZQUNSLE9BQU8sTUFBTTtBQUFBLFlBQ2IsS0FBSyxNQUFNLFFBQVEsVUFBVTtBQUFBLFlBQzdCLE1BQU0sU0FBUztBQUFBLFVBQ2pCO0FBQUEsVUFDQSxTQUFTLEtBQUssWUFBWSxTQUFTLE1BQU0sS0FBSztBQUFBLFVBQzlDLFlBQVksS0FBSyxLQUFLLGFBQWEsS0FBSyxnQkFBZ0I7QUFBQSxRQUMxRDtBQUFBLFFBQ0EsYUFBYTtBQUFBLFVBQ1gsUUFBUTtBQUFBLFVBQ1IsVUFBVTtBQUFBLFVBQ1YsYUFBYTtBQUFBLFFBQ2Y7QUFBQSxRQUNBLFVBQVU7QUFBQSxVQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsVUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxVQUNwQixNQUFNLEtBQUssWUFBWSxTQUFTLE1BQU0sS0FBSztBQUFBLFFBQzdDO0FBQUEsUUFDQSxjQUFjLENBQUM7QUFBQSxNQUNqQjtBQUVBLFlBQU0sS0FBSyxJQUFJO0FBQUEsSUFDakI7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFpRVEsb0JBQW9CLFNBQWlCLGdCQUF3QixpQkFBaUM7QUFDcEcsVUFBTSxlQUFlO0FBRXJCLFFBQUksUUFBUTtBQUNaLFdBQU8sUUFBUSxHQUFHO0FBQ2hCLFlBQU0sT0FBTyxRQUFRLFFBQVEsQ0FBQztBQUM5QixVQUFJLGFBQWEsS0FBSyxJQUFJLEdBQUc7QUFDM0I7QUFBQSxNQUNGO0FBQ0E7QUFBQSxJQUNGO0FBRUEsUUFBSSxNQUFNLGlCQUFpQjtBQUMzQixXQUFPLE1BQU0sUUFBUSxRQUFRO0FBQzNCLFlBQU0sT0FBTyxRQUFRLEdBQUc7QUFDeEIsVUFBSSxhQUFhLEtBQUssSUFBSSxHQUFHO0FBQzNCO0FBQ0E7QUFBQSxNQUNGO0FBQ0E7QUFBQSxJQUNGO0FBRUEsV0FBTyxRQUFRLFVBQVUsT0FBTyxHQUFHLEVBQUUsS0FBSztBQUFBLEVBQzVDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxrQkFBa0IsU0FBaUIsUUFBa0Q7QUFDM0YsVUFBTSxRQUFRLFFBQVEsVUFBVSxHQUFHLE1BQU0sRUFBRSxNQUFNLElBQUk7QUFDckQsV0FBTztBQUFBLE1BQ0wsTUFBTSxNQUFNLFNBQVM7QUFBQSxNQUNyQixRQUFRLE1BQU0sTUFBTSxTQUFTLENBQUMsRUFBRTtBQUFBLElBQ2xDO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsWUFBWSxTQUFpQixVQUFzQztBQUN6RSxVQUFNLGdCQUFnQixRQUFRLFVBQVUsR0FBRyxRQUFRO0FBQ25ELFVBQU0sV0FBVyxjQUFjLE1BQU0sZUFBZTtBQUNwRCxXQUFPLFdBQVcsU0FBUyxTQUFTLFNBQVMsQ0FBQyxJQUFJO0FBQUEsRUFDcEQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLFlBQVksU0FBaUIsVUFBNEI7QUFDL0QsVUFBTSxPQUFPLG9CQUFJLElBQVk7QUFHN0IsVUFBTSxZQUFZLFFBQVEsTUFBTSx1QkFBdUI7QUFDdkQsUUFBSSxXQUFXO0FBQ2IsWUFBTSxjQUFjLFVBQVUsQ0FBQztBQUMvQixZQUFNLFlBQVksWUFBWSxNQUFNLGlCQUFpQjtBQUNyRCxVQUFJLFdBQVc7QUFDYixjQUFNLGFBQWEsVUFBVSxDQUFDLEVBQUUsS0FBSztBQUNyQyxZQUFJLFdBQVcsV0FBVyxHQUFHLEdBQUc7QUFDOUIsZ0JBQU0sWUFBWSxXQUFXLE1BQU0sVUFBVTtBQUM3QyxpREFBVyxRQUFRLFNBQU8sS0FBSyxJQUFJLElBQUksS0FBSztBQUFBLFFBQzlDLE9BQU87QUFDTCxxQkFBVyxNQUFNLEdBQUcsRUFBRSxRQUFRLFNBQU87QUFDbkMsa0JBQU0sVUFBVSxJQUFJLEtBQUs7QUFDekIsZ0JBQUk7QUFBUyxtQkFBSyxJQUFJLElBQUksU0FBUztBQUFBLFVBQ3JDLENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFHQSxVQUFNLFFBQVEsUUFBUSxVQUFVLEdBQUcsUUFBUSxFQUFFLE1BQU0sSUFBSTtBQUN2RCxVQUFNLGNBQWMsTUFBTSxTQUFTO0FBQ25DLFVBQU0sY0FBYyxRQUFRLE1BQU0sSUFBSSxFQUFFLFdBQVcsS0FBSztBQUV4RCxVQUFNLGlCQUFpQjtBQUN2QixVQUFNLGFBQWEsWUFBWSxNQUFNLGNBQWM7QUFDbkQsNkNBQVksUUFBUSxTQUFPLEtBQUssSUFBSSxHQUFHO0FBRXZDLFdBQU8sTUFBTSxLQUFLLElBQUk7QUFBQSxFQUN4QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsYUFBcUI7QUFDM0IsV0FBTyxHQUFHLEtBQUssSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFLFNBQVMsRUFBRSxFQUFFLE9BQU8sR0FBRyxDQUFDO0FBQUEsRUFDaEU7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGtCQUEwQjtBQUNoQyxXQUFPLFdBQVcsS0FBSyxJQUFJLEtBQUssS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsT0FBTyxHQUFHLENBQUM7QUFBQSxFQUN4RTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPTSxVQUFVLFNBQWlCLFVBQTJCO0FBeHRCOUQ7QUF5dEJFLFVBQU0sUUFBUSxRQUFRLE1BQU0sSUFBSTtBQUNoQyxVQUFNLEVBQUUsS0FBSyxJQUFJLEtBQUssa0JBQWtCLFNBQVMsUUFBUTtBQUd6RCxRQUFJLEdBQUMsV0FBTSxJQUFJLE1BQVYsbUJBQWEsU0FBUyxPQUFNO0FBQy9CLGFBQU87QUFBQSxJQUNUO0FBR0EsVUFBTSxtQkFBbUIsT0FBTyxPQUFLLFdBQU0sT0FBTyxDQUFDLE1BQWQsbUJBQWlCLFNBQVM7QUFDL0QsVUFBTSxtQkFBbUIsT0FBTyxNQUFNLFNBQVMsT0FBSyxXQUFNLE9BQU8sQ0FBQyxNQUFkLG1CQUFpQixTQUFTO0FBRTlFLFdBQU8sb0JBQW9CO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLDJCQUNOLFNBQ0EsbUJBQ29IO0FBOXVCdEg7QUErdUJFLFVBQU0sUUFBUSxRQUFRLE1BQU0sSUFBSTtBQUNoQyxVQUFNLEVBQUUsTUFBTSxZQUFZLElBQUksS0FBSyxrQkFBa0IsU0FBUyxpQkFBaUI7QUFHL0UsUUFBSSxhQUFhO0FBQ2pCLFFBQUksV0FBVztBQUdmLFdBQU8sYUFBYSxPQUFLLFdBQU0sYUFBYSxDQUFDLE1BQXBCLG1CQUF1QixTQUFTLE9BQU07QUFDN0Q7QUFBQSxJQUNGO0FBR0EsV0FBTyxXQUFXLE1BQU0sU0FBUyxPQUFLLFdBQU0sV0FBVyxDQUFDLE1BQWxCLG1CQUFxQixTQUFTLE9BQU07QUFDeEU7QUFBQSxJQUNGO0FBR0EsVUFBTSxhQUFhLE1BQU0sTUFBTSxZQUFZLFdBQVcsQ0FBQztBQUN2RCxVQUFNLGVBQWUsV0FBVyxLQUFLLElBQUk7QUFHekMsVUFBTSxpQkFBaUI7QUFDdkIsVUFBTSxnQkFBZ0Isb0JBQUksSUFBWTtBQUN0QyxVQUFNLG1CQUFtQixvQkFBSSxJQUFZO0FBQ3pDLFFBQUksaUJBQWlCO0FBRXJCLGVBQVcsUUFBUSxDQUFDLE1BQU0sYUFBYTtBQUNyQyxZQUFNLFFBQVEsS0FBSyxNQUFNLEdBQUcsRUFBRSxJQUFJLE9BQUssRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLE9BQUssQ0FBQztBQUc5RCxVQUFJLE1BQU0sU0FBUyxLQUFLLE1BQU0sTUFBTSxVQUFRLFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRztBQUNuRTtBQUFBLE1BQ0Y7QUFFQSxZQUFNLFFBQVEsQ0FBQyxNQUFNLGFBQWE7QUFDaEMsWUFBSSxlQUFlLEtBQUssSUFBSSxHQUFHO0FBQzdCLHdCQUFjLElBQUksUUFBUTtBQUMxQiwyQkFBaUIsSUFBSSxRQUFRO0FBQzdCO0FBQUEsUUFDRjtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUVELFdBQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLG9CQUNOLFlBQ0EsZUFDQSxrQkFDQSxnQkFDUTtBQUNSLFVBQU0sWUFBWSxXQUFXO0FBRTlCLFVBQU0saUJBQWlCLFdBQVcsVUFBVSxDQUFDLE1BQU0sUUFBUTtBQUMxRCxVQUFJLFFBQVE7QUFBRyxlQUFPO0FBQ3RCLFlBQU0sUUFBUSxLQUFLLE1BQU0sR0FBRyxFQUFFLElBQUksT0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sT0FBSyxDQUFDO0FBRTlELGFBQU8sTUFBTSxTQUFTLEtBQUssTUFBTSxNQUFNLFVBQVEsWUFBWSxLQUFLLElBQUksQ0FBQztBQUFBLElBQ3ZFLENBQUM7QUFHRCxVQUFNLHVCQUF1QixtQkFBbUIsS0FBSyxpQkFBaUI7QUFHcEUsVUFBTSxlQUFlLFdBQVcsaUJBQWlCLENBQUMsS0FBSyxXQUFXLENBQUM7QUFDbkUsVUFBTSxjQUFjLGFBQWEsTUFBTSxHQUFHLEVBQUUsT0FBTyxPQUFLLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFFbEUsUUFBSSxpQkFBaUIsU0FBUyxlQUFlLGtCQUFrQixZQUFZLEdBQUc7QUFDNUUsYUFBTyxXQUFXLEtBQUssSUFBSTtBQUFBLElBQzdCO0FBR0EsUUFBSSxjQUFjLFNBQVMsR0FBRztBQUM1QixZQUFNLGVBQWUsTUFBTSxLQUFLLGFBQWEsRUFBRSxDQUFDO0FBQ2hELFlBQU1DLFVBQVM7QUFBQSxRQUNiLFdBQVcsQ0FBQztBQUFBO0FBQUEsUUFDWixXQUFXLGNBQWM7QUFBQTtBQUFBLFFBQ3pCLFdBQVcsWUFBWTtBQUFBO0FBQUEsTUFDekI7QUFDQSxhQUFPQSxRQUFPLEtBQUssSUFBSTtBQUFBLElBQ3pCO0FBR0EsVUFBTSxTQUFTLENBQUMsV0FBVyxDQUFDLEdBQUcsV0FBVyxjQUFjLENBQUM7QUFDekQsa0JBQWMsUUFBUSxjQUFZO0FBQ2hDLFVBQUksYUFBYSxLQUFLLGFBQWEsZ0JBQWdCO0FBQ2pELGVBQU8sS0FBSyxXQUFXLFFBQVEsQ0FBQztBQUFBLE1BQ2xDO0FBQUEsSUFDRixDQUFDO0FBQ0QsV0FBTyxPQUFPLEtBQUssSUFBSTtBQUFBLEVBQ3pCO0FBQUEsRUFDQSxNQUFjLGtCQUFrQixNQUFhLFNBQXlDO0FBcDFCdEY7QUFxMUJFLFVBQU0sUUFBdUIsQ0FBQztBQUM5QixVQUFNLGlCQUFpQjtBQUN2QixVQUFNLGtCQUFrQixvQkFBSSxJQUFZO0FBQ3hDLFVBQU0sc0JBQXNCLG9CQUFJLElBQVk7QUFDNUMsUUFBSTtBQUVKLFlBQVEsUUFBUSxlQUFlLEtBQUssT0FBTyxPQUFPLE1BQU07QUFDdEQsWUFBTSxnQkFBZ0IsTUFBTSxDQUFDO0FBQzdCLFlBQU0sWUFBWSxNQUFNLENBQUM7QUFDekIsWUFBTSxXQUFXLEtBQUssa0JBQWtCLFNBQVMsTUFBTSxLQUFLO0FBRzVELFVBQUksb0JBQW9CLElBQUksTUFBTSxLQUFLLEdBQUc7QUFDeEM7QUFBQSxNQUNGO0FBR0EsWUFBTSxZQUFZLFFBQVEsWUFBWSxNQUFNLE1BQU0sS0FBSyxJQUFJO0FBQzNELFlBQU0sVUFBVSxRQUFRLFFBQVEsTUFBTSxNQUFNLEtBQUs7QUFDakQsWUFBTSxjQUFjLFFBQVEsVUFBVSxXQUFXLFlBQVksS0FBSyxRQUFRLFNBQVMsT0FBTztBQUcxRixVQUFJLEtBQUssc0JBQXNCLGVBQWUsV0FBVyxHQUFHO0FBQzFEO0FBQUEsTUFDRjtBQUdBLFVBQUksS0FBSyxVQUFVLFNBQVMsTUFBTSxLQUFLLEdBQUc7QUFDeEMsY0FBTSxZQUFZLEtBQUssMkJBQTJCLFNBQVMsTUFBTSxLQUFLO0FBRXRFLFlBQUksV0FBVztBQUNiLGdCQUFNLFdBQVcsR0FBRyxLQUFLLFFBQVEsVUFBVSxhQUFhLFVBQVUsR0FBRyxFQUFFO0FBR3ZFLGNBQUksZ0JBQWdCLElBQUksUUFBUSxHQUFHO0FBQ2pDO0FBQUEsVUFDRjtBQUNBLDBCQUFnQixJQUFJLFFBQVE7QUFHNUIsZ0JBQU0sa0JBQWtCLEtBQUsseUJBQXlCLFNBQVMsVUFBVSxjQUFjLE1BQU0sS0FBSztBQUNsRywwQkFBZ0IsUUFBUSxTQUFPLG9CQUFvQixJQUFJLEdBQUcsQ0FBQztBQUUzRCxnQkFBTSxRQUFRLFFBQVEsTUFBTSxJQUFJO0FBQ2hDLGdCQUFNLEVBQUUsTUFBTUMsYUFBWSxJQUFJLEtBQUssa0JBQWtCLFNBQVMsTUFBTSxLQUFLO0FBR3pFLGNBQUksYUFBYUE7QUFDakIsaUJBQU8sYUFBYSxPQUFLLFdBQU0sYUFBYSxDQUFDLE1BQXBCLG1CQUF1QixTQUFTLE9BQU07QUFDN0Q7QUFBQSxVQUNGO0FBRUEsZ0JBQU0sYUFBYSxVQUFVLGFBQWEsTUFBTSxJQUFJO0FBQ3BELGdCQUFNLGlCQUFpQixLQUFLO0FBQUEsWUFDMUI7QUFBQSxZQUNBLFVBQVU7QUFBQSxZQUNWLFVBQVU7QUFBQSxZQUNWLFVBQVU7QUFBQSxVQUNaO0FBRVIsZ0JBQU0saUJBQWlCLGVBQWUsTUFBTSxJQUFJO0FBQ2hELGdCQUFNLGVBQWUsZUFBZSxLQUFLLFVBQVE7QUFDL0Msa0JBQU0sUUFBUSxLQUFLLE1BQU0sR0FBRyxFQUFFLElBQUksT0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sT0FBSyxDQUFDO0FBQzlELG1CQUFPLE1BQU0sU0FBUyxLQUFLLE1BQU0sTUFBTSxVQUFRLFlBQVksS0FBSyxJQUFJLENBQUM7QUFBQSxVQUN2RSxDQUFDO0FBR0QsY0FBSSxDQUFDLGdCQUFnQixlQUFlLFVBQVUsR0FBRztBQUMvQyxrQkFBTSxjQUFjLGVBQWUsQ0FBQyxFQUFFLE1BQU0sR0FBRyxFQUFFLElBQUksT0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sT0FBSyxDQUFDO0FBQ2pGLGtCQUFNLFlBQVksT0FBTyxZQUFZLElBQUksTUFBTSxLQUFLLEVBQUUsS0FBSyxLQUFLLElBQUk7QUFDcEUsMkJBQWUsT0FBTyxHQUFHLEdBQUcsU0FBUztBQUNyQyxrQkFBTUMsa0JBQWlCLGVBQWUsS0FBSyxJQUFJO0FBQUEsVUFDakQ7QUFFUSxjQUFJLG1CQUFtQjtBQUN2QixtQkFBUyxJQUFJLEdBQUcsSUFBSSxZQUFZLEtBQUs7QUFDbkMsZ0NBQW9CLE1BQU0sQ0FBQyxFQUFFLFNBQVM7QUFBQSxVQUN4QztBQUdBLGdCQUFNLGdCQUFnQixLQUFLLDhCQUE4QixVQUFVLFlBQVk7QUFFL0UsZ0JBQU1DLFFBQW9CO0FBQUEsWUFDeEIsSUFBSSxLQUFLLFdBQVc7QUFBQSxZQUNwQixNQUFNO0FBQUEsWUFDTixTQUFTLGNBQWMsS0FBSyxJQUFJO0FBQUE7QUFBQSxZQUNoQyxhQUFhO0FBQUE7QUFBQSxZQUNiLFFBQVE7QUFBQSxjQUNOLE1BQU0sS0FBSztBQUFBLGNBQ1gsVUFBVTtBQUFBLGdCQUNSLE9BQU87QUFBQSxnQkFDUCxLQUFLLG1CQUFtQixVQUFVLGFBQWE7QUFBQSxnQkFDL0MsTUFBTTtBQUFBLGNBQ1I7QUFBQSxjQUNBLFNBQVMsS0FBSyxZQUFZLFNBQVMsTUFBTSxLQUFLO0FBQUEsY0FDOUMsWUFBWSxLQUFLLEtBQUssYUFBYSxLQUFLLGdCQUFnQjtBQUFBLFlBQzFEO0FBQUEsWUFDQSxhQUFhO0FBQUEsY0FDWCxRQUFRO0FBQUEsY0FDUixVQUFVO0FBQUEsY0FDVixhQUFhO0FBQUEsWUFDZjtBQUFBLFlBQ0EsVUFBVTtBQUFBLGNBQ1IsV0FBVyxLQUFLLElBQUk7QUFBQSxjQUNwQixXQUFXLEtBQUssSUFBSTtBQUFBLGNBQ3BCLE1BQU0sQ0FBQyxHQUFHLEtBQUssWUFBWSxTQUFTLE1BQU0sS0FBSyxHQUFHLFFBQVE7QUFBQSxjQUMxRCxZQUFZO0FBQUEsZ0JBQ1YsV0FBVztBQUFBLGdCQUNYLGdCQUFnQixVQUFVO0FBQUEsZ0JBQzFCLFVBQVUsVUFBVSxjQUFjO0FBQUEsZ0JBQ2xDLGFBQWEsVUFBVSxpQkFBaUI7QUFBQSxnQkFDeEM7QUFBQTtBQUFBLGNBQ0Y7QUFBQSxZQUNGO0FBQUEsWUFDQSxjQUFjLENBQUM7QUFBQSxVQUNqQjtBQUVBLGdCQUFNLEtBQUtBLEtBQUk7QUFHdkIsZUFBSSxVQUFLLFdBQUwsbUJBQWEsY0FBYztBQUM3QixrQkFBTSxLQUFLLE9BQU8sYUFBYSxlQUFlO0FBQUEsVUFDaEQ7QUFDUTtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBR0EsWUFBTSxlQUFlLEtBQUssb0JBQW9CLFNBQVMsTUFBTSxPQUFPLFVBQVUsTUFBTTtBQUVwRixZQUFNLE9BQW9CO0FBQUEsUUFDeEIsSUFBSSxLQUFLLFdBQVc7QUFBQSxRQUNwQixNQUFNO0FBQUEsUUFDTixTQUFTLGNBQWMsS0FBSztBQUFBLFFBQzVCLGFBQWE7QUFBQSxRQUNiLFFBQVE7QUFBQSxVQUNOLE1BQU0sS0FBSztBQUFBLFVBQ1gsVUFBVTtBQUFBLFlBQ1IsT0FBTyxNQUFNO0FBQUEsWUFDYixLQUFLLE1BQU0sUUFBUSxVQUFVO0FBQUEsWUFDN0IsTUFBTSxTQUFTO0FBQUEsVUFDakI7QUFBQSxVQUNBLFNBQVMsS0FBSyxZQUFZLFNBQVMsTUFBTSxLQUFLO0FBQUEsVUFDOUMsWUFBWSxLQUFLLEtBQUssYUFBYSxLQUFLLGdCQUFnQjtBQUFBLFFBQzFEO0FBQUEsUUFDQSxhQUFhO0FBQUEsVUFDWCxRQUFRO0FBQUEsVUFDUixVQUFVO0FBQUEsVUFDVixhQUFhO0FBQUEsUUFDZjtBQUFBLFFBQ0EsVUFBVTtBQUFBLFVBQ1IsV0FBVyxLQUFLLElBQUk7QUFBQSxVQUNwQixXQUFXLEtBQUssSUFBSTtBQUFBLFVBQ3BCLE1BQU0sS0FBSyxZQUFZLFNBQVMsTUFBTSxLQUFLO0FBQUEsUUFDN0M7QUFBQSxRQUNBLGNBQWMsQ0FBQztBQUFBLE1BQ2pCO0FBRUEsWUFBTSxLQUFLLElBQUk7QUFBQSxJQUNqQjtBQUVBLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQSxFQUdRLHlCQUNOLFNBQ0EsY0FDQSxxQkFDVTtBQTkvQlo7QUErL0JFLFVBQU0sWUFBc0IsQ0FBQztBQUM3QixVQUFNLFFBQVEsUUFBUSxNQUFNLElBQUk7QUFDaEMsVUFBTSxFQUFFLE1BQU0sWUFBWSxJQUFJLEtBQUssa0JBQWtCLFNBQVMsbUJBQW1CO0FBR2pGLFFBQUksYUFBYTtBQUNqQixRQUFJLFdBQVc7QUFFZixXQUFPLGFBQWEsT0FBSyxXQUFNLGFBQWEsQ0FBQyxNQUFwQixtQkFBdUIsU0FBUyxPQUFNO0FBQzdEO0FBQUEsSUFDRjtBQUNBLFdBQU8sV0FBVyxNQUFNLFNBQVMsT0FBSyxXQUFNLFdBQVcsQ0FBQyxNQUFsQixtQkFBcUIsU0FBUyxPQUFNO0FBQ3hFO0FBQUEsSUFDRjtBQUdBLFFBQUksU0FBUztBQUNiLGFBQVMsSUFBSSxHQUFHLElBQUksWUFBWSxLQUFLO0FBQ25DLGdCQUFVLE1BQU0sQ0FBQyxFQUFFLFNBQVM7QUFBQSxJQUM5QjtBQUdBLFVBQU0saUJBQWlCO0FBQ3ZCLFFBQUk7QUFDSixVQUFNLGlCQUFpQixTQUFTLGFBQWE7QUFFN0MsWUFBUSxRQUFRLGVBQWUsS0FBSyxPQUFPLE9BQU8sTUFBTTtBQUN0RCxVQUFJLE1BQU0sU0FBUyxVQUFVLE1BQU0sUUFBUSxnQkFBZ0I7QUFDekQsa0JBQVUsS0FBSyxNQUFNLEtBQUs7QUFBQSxNQUM1QjtBQUFBLElBQ0Y7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFHUSw4QkFBOEIsY0FBZ0M7QUFDcEUsVUFBTSxhQUF1QixDQUFDO0FBQzlCLFVBQU0saUJBQWlCO0FBQ3ZCLFFBQUk7QUFFSixZQUFRLFFBQVEsZUFBZSxLQUFLLFlBQVksT0FBTyxNQUFNO0FBQzNELGlCQUFXLEtBQUssTUFBTSxDQUFDLEVBQUUsS0FBSyxDQUFDO0FBQUEsSUFDakM7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUVBOzs7QUMxaENPLElBQU0sb0JBQU4sTUFBd0I7QUFBQSxFQUk3QixZQUNVLEtBQ0EsUUFDUjtBQUZRO0FBQ0E7QUFMVixTQUFRLGNBQXVDLG9CQUFJLElBQUk7QUFPckQsU0FBSyxhQUFhLEdBQUcsS0FBSyxJQUFJLE1BQU07QUFBQSxFQUN0QztBQUFBLEVBRUEsTUFBTSxhQUFhO0FBQ2pCLFVBQU0sS0FBSyxnQkFBZ0I7QUFBQSxFQUM3QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBYyxrQkFBa0I7QUFDOUIsUUFBSTtBQUNGLFlBQU0sT0FBTyxHQUFHLEtBQUs7QUFDckIsWUFBTSxVQUFVLEtBQUssSUFBSSxNQUFNO0FBRS9CLFVBQUksTUFBTSxRQUFRLE9BQU8sSUFBSSxHQUFHO0FBQzlCLGNBQU0sT0FBTyxNQUFNLFFBQVEsS0FBSyxJQUFJO0FBQ3BDLGNBQU0sY0FBNEIsS0FBSyxNQUFNLElBQUk7QUFFakQsbUJBQVcsY0FBYyxhQUFhO0FBQ3BDLGVBQUssWUFBWSxJQUFJLFdBQVcsSUFBSSxVQUFVO0FBQUEsUUFDaEQ7QUFBQSxNQUNGO0FBQUEsSUFDRixTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0sOEJBQThCLEtBQUs7QUFBQSxJQUNuRDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0scUJBQ0osZUFDQSxTQUNBLE9BQ3FCO0FBQ3JCLFVBQU0sYUFBeUI7QUFBQSxNQUM3QixJQUFJLEtBQUssV0FBVztBQUFBLE1BQ3BCLFlBQVk7QUFBQSxNQUNaLFVBQVU7QUFBQSxNQUNWO0FBQUEsTUFDQTtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1IsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixXQUFXLEtBQUssSUFBSTtBQUFBLE1BQ3RCO0FBQUEsSUFDRjtBQUVBLFNBQUssWUFBWSxJQUFJLFdBQVcsSUFBSSxVQUFVO0FBQzlDLFVBQU0sS0FBSyxRQUFRO0FBRXZCLFVBQU0sS0FBSyxPQUFPLGFBQWEsc0JBQXNCO0FBRWpELFVBQU0sY0FBYyxLQUFLLE9BQU8sWUFBWSxlQUFlLGFBQWE7QUFDeEUsUUFBSSxhQUFhO0FBQ2Ysa0JBQVksZUFBZSxXQUFXO0FBQ3RDLGtCQUFZLFNBQVMsWUFBWSxLQUFLLElBQUk7QUFDMUMsWUFBTSxLQUFLLE9BQU8sWUFBWSxnQkFBZ0IsV0FBVztBQUFBLElBQzNEO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0sa0JBQ0osVUFDQSxTQUNxQjtBQUNyQixVQUFNLGFBQXlCO0FBQUEsTUFDN0IsSUFBSSxLQUFLLFdBQVc7QUFBQSxNQUNwQixZQUFZO0FBQUEsTUFDWixVQUFVO0FBQUEsTUFDVjtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1IsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixXQUFXLEtBQUssSUFBSTtBQUFBLE1BQ3RCO0FBQUEsSUFDRjtBQUVBLFNBQUssWUFBWSxJQUFJLFdBQVcsSUFBSSxVQUFVO0FBQzlDLFVBQU0sS0FBSyxRQUFRO0FBSXZCLFVBQU0sS0FBSyxPQUFPLGFBQWEsc0JBQXNCO0FBQ2pELFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxjQUFjLElBQW9DO0FBQ2hELFdBQU8sS0FBSyxZQUFZLElBQUksRUFBRTtBQUFBLEVBQ2hDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxxQkFBcUIsZUFBK0M7QUFDbEUsVUFBTSxjQUFjLEtBQUssT0FBTyxZQUFZLGVBQWUsYUFBYTtBQUN4RSxRQUFJLEVBQUMsMkNBQWE7QUFBYyxhQUFPO0FBRXZDLFdBQU8sS0FBSyxZQUFZLElBQUksWUFBWSxZQUFZO0FBQUEsRUFDdEQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLG1CQUFtQixVQUFnQztBQUNqRCxXQUFPLE1BQU0sS0FBSyxLQUFLLFlBQVksT0FBTyxDQUFDLEVBQUU7QUFBQSxNQUMzQyxTQUFPLElBQUksZUFBZSxVQUFVLElBQUksYUFBYTtBQUFBLElBQ3ZEO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBTSxpQkFDSixJQUNBLFNBQ2U7QUFDZixVQUFNLGFBQWEsS0FBSyxZQUFZLElBQUksRUFBRTtBQUMxQyxRQUFJLENBQUM7QUFBWTtBQUVqQixXQUFPLE9BQU8sWUFBWSxTQUFTO0FBQUEsTUFDakMsVUFBVTtBQUFBLFFBQ1IsR0FBRyxXQUFXO0FBQUEsUUFDZCxXQUFXLEtBQUssSUFBSTtBQUFBLE1BQ3RCO0FBQUEsSUFDRixDQUFDO0FBRUQsVUFBTSxLQUFLLFFBQVE7QUFBQSxFQUNyQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBTSxpQkFBaUIsSUFBMkI7QUFDaEQsVUFBTSxhQUFhLEtBQUssWUFBWSxJQUFJLEVBQUU7QUFDMUMsUUFBSSxDQUFDO0FBQVk7QUFHakIsUUFBSSxXQUFXLGVBQWUsV0FBVztBQUN2QyxZQUFNLGNBQWMsS0FBSyxPQUFPLFlBQVksZUFBZSxXQUFXLFFBQVE7QUFDOUUsVUFBSSxhQUFhO0FBQ2Ysb0JBQVksZUFBZTtBQUMzQixjQUFNLEtBQUssT0FBTyxZQUFZLGdCQUFnQixXQUFXO0FBQUEsTUFDM0Q7QUFBQSxJQUNGO0FBRUEsU0FBSyxZQUFZLE9BQU8sRUFBRTtBQUMxQixVQUFNLEtBQUssUUFBUTtBQUFBLEVBQ3JCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxvQkFBa0M7QUFDaEMsV0FBTyxNQUFNLEtBQUssS0FBSyxZQUFZLE9BQU8sQ0FBQztBQUFBLEVBQzdDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFjLFVBQVU7QUFDdEIsUUFBSTtBQUNGLFlBQU0sT0FBTyxHQUFHLEtBQUs7QUFDckIsWUFBTSxjQUFjLE1BQU0sS0FBSyxLQUFLLFlBQVksT0FBTyxDQUFDO0FBQ3hELFlBQU0sT0FBTyxLQUFLLFVBQVUsYUFBYSxNQUFNLENBQUM7QUFFaEQsWUFBTSxLQUFLLElBQUksTUFBTSxRQUFRLE1BQU0sTUFBTSxJQUFJO0FBQUEsSUFDL0MsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLGlDQUFpQyxLQUFLO0FBQUEsSUFDdEQ7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxhQUFxQjtBQUMzQixXQUFPLE9BQU8sS0FBSyxJQUFJLEtBQUssS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsT0FBTyxHQUFHLENBQUM7QUFBQSxFQUNwRTtBQUNGOzs7QUN6SU8sSUFBTSxtQkFBTixNQUF1QjtBQUFBLEVBSzVCLFlBQ1UsS0FDQSxhQUNBLFFBQ1I7QUFIUTtBQUNBO0FBQ0E7QUFQVixTQUFRLGFBQXFDLG9CQUFJLElBQUk7QUFDckQsU0FBUSxhQUEwQixDQUFDO0FBUWpDLFNBQUssYUFBYSxHQUFHLEtBQUssSUFBSSxNQUFNO0FBQUEsRUFDdEM7QUFBQSxFQUVBLE1BQU0sYUFBYTtBQUNqQixVQUFNLEtBQUssZUFBZTtBQUMxQixVQUFNLEtBQUssZUFBZTtBQUFBLEVBQzVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsTUFBTSx3QkFDSixNQUNBLFNBS29CO0FBRXBCLFVBQU0sWUFBVyxtQ0FBUyxjQUFhLEtBQUssU0FBUyxPQUFPLE9BQU87QUFFbkUsUUFBSTtBQUVKLFFBQUksYUFBYSxRQUFRLEtBQUssU0FBUyxNQUFNO0FBQzNDLFlBQU0sWUFBVyxtQ0FBUyxtQkFBa0IsS0FBSztBQUNqRCxZQUFNLFVBQVMsbUNBQVMsaUJBQWdCLEtBQUssVUFBVSxLQUFLO0FBRTVELGtCQUFZLE1BQU0sS0FBSyxhQUFhLEtBQUssSUFBSSxVQUFVLE1BQU07QUFBQSxJQUUvRCxPQUFPO0FBQ0wsWUFBTSxPQUFPLEtBQUssZUFBZSxLQUFLO0FBQ3RDLFlBQU0sVUFBUyxtQ0FBUyxpQkFBZ0IsS0FBSztBQUU3QyxZQUFNLFlBQVksQ0FBQztBQUFBLFFBQ2pCLE9BQU8sS0FBSyxRQUFRLE1BQU07QUFBQSxRQUMxQjtBQUFBLE1BQ0YsQ0FBQztBQUdELGtCQUFZLE1BQU0sS0FBSyxnQkFBZ0IsS0FBSyxJQUFJLE1BQU0sU0FBUztBQUFBLElBQ2pFO0FBR0osVUFBTSxLQUFLLE9BQU8sYUFBYSxnQkFBZ0I7QUFFM0MsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxhQUNKLGVBQ0EsVUFDQSxRQUNBLE1BQ29CO0FBQ3BCLFVBQU0sY0FBYyxLQUFLLFlBQVksZUFBZSxhQUFhO0FBQ2pFLFFBQUksQ0FBQztBQUFhLFlBQU0sSUFBSSxNQUFNLHdCQUF3QjtBQUUxRCxVQUFNLE9BQWtCO0FBQUEsTUFDdEIsSUFBSSxLQUFLLFdBQVc7QUFBQSxNQUNwQixNQUFNO0FBQUEsTUFDTixpQkFBaUI7QUFBQSxNQUNqQixZQUFZLFlBQVksT0FBTztBQUFBLE1BQy9CLFlBQVksWUFBWSxPQUFPO0FBQUEsTUFDL0IsT0FBTztBQUFBLE1BQ1AsTUFBTTtBQUFBLE1BQ04sTUFBTSxRQUFRLEtBQUssVUFBVSxZQUFZLE9BQU8sSUFBSTtBQUFBLE1BQ3BELE1BQU0sWUFBWSxTQUFTO0FBQUEsTUFDM0IsWUFBWSxLQUFLLHFCQUFxQjtBQUFBLE1BQ3RDLE9BQU87QUFBQSxRQUNMLGNBQWM7QUFBQSxRQUNkLGNBQWM7QUFBQSxRQUNkLGFBQWE7QUFBQSxRQUNiLFlBQVk7QUFBQSxNQUNkO0FBQUEsTUFDQSxVQUFVO0FBQUEsUUFDUixXQUFXLEtBQUssSUFBSTtBQUFBLFFBQ3BCLFdBQVcsS0FBSyxJQUFJO0FBQUEsTUFDdEI7QUFBQSxJQUNGO0FBRUEsU0FBSyxXQUFXLElBQUksS0FBSyxJQUFJLElBQUk7QUFHakMsZ0JBQVksYUFBYSxLQUFLLEtBQUssRUFBRTtBQUNyQyxVQUFNLEtBQUssWUFBWSxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7QUFFckQsVUFBTSxLQUFLLGtCQUFrQjtBQUc3QixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBTSxnQkFDSixlQUNBLFVBQ0EsV0FDb0I7QUFDcEIsVUFBTSxjQUFjLEtBQUssWUFBWSxlQUFlLGFBQWE7QUFDakUsUUFBSSxDQUFDO0FBQWEsWUFBTSxJQUFJLE1BQU0sd0JBQXdCO0FBRzFELFVBQU0sVUFBVSxLQUFLLGNBQWMsUUFBUTtBQUUzQyxVQUFNLFFBQVEsVUFDVixXQUNBLEtBQUssa0JBQWtCLFVBQVUsU0FBUztBQUU5QyxVQUFNLE9BQU8sVUFBVSxJQUFJLE9BQUssRUFBRSxNQUFNO0FBR3hDLFVBQU0sT0FBa0I7QUFBQSxNQUN0QixJQUFJLEtBQUssV0FBVztBQUFBLE1BQ3BCLE1BQU07QUFBQSxNQUNOLGlCQUFpQjtBQUFBLE1BQ2pCLFlBQVksWUFBWSxPQUFPO0FBQUEsTUFDL0IsWUFBWSxZQUFZLE9BQU87QUFBQSxNQUMvQjtBQUFBLE1BQ0E7QUFBQSxNQUNBLE9BQU87QUFBQSxRQUNMO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxNQUNBLE1BQU0sS0FBSyxVQUFVLFlBQVksT0FBTyxJQUFJO0FBQUEsTUFDNUMsTUFBTSxZQUFZLFNBQVM7QUFBQSxNQUMzQixZQUFZLEtBQUsscUJBQXFCO0FBQUEsTUFDdEMsT0FBTztBQUFBLFFBQ0wsY0FBYztBQUFBLFFBQ2QsY0FBYztBQUFBLFFBQ2QsYUFBYTtBQUFBLFFBQ2IsWUFBWTtBQUFBLE1BQ2Q7QUFBQSxNQUNBLFVBQVU7QUFBQSxRQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUFBLElBQ0Y7QUFFQSxTQUFLLFdBQVcsSUFBSSxLQUFLLElBQUksSUFBSTtBQUVqQyxnQkFBWSxhQUFhLEtBQUssS0FBSyxFQUFFO0FBQ3JDLFVBQU0sS0FBSyxZQUFZLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztBQUVyRCxVQUFNLEtBQUssa0JBQWtCO0FBRzdCLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQSxFQUdRLGNBQWMsTUFBdUI7QUFDM0MsUUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEtBQUs7QUFBRyxhQUFPO0FBRWxDLFVBQU0sUUFBUSxLQUFLLEtBQUssRUFBRSxNQUFNLElBQUk7QUFDcEMsUUFBSSxNQUFNLFNBQVM7QUFBRyxhQUFPO0FBRTdCLFVBQU0sZUFBZSxNQUFNLEtBQUssVUFBUSxtQkFBbUIsS0FBSyxLQUFLLEtBQUssQ0FBQyxDQUFDO0FBQzVFLFVBQU0sWUFBWSxNQUFNLE9BQU8sVUFBUSxLQUFLLFNBQVMsR0FBRyxDQUFDLEVBQUU7QUFFM0QsV0FBTyxnQkFBZ0IsYUFBYSxNQUFNLFNBQVM7QUFBQSxFQUNyRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxhQUFhLElBQW1DO0FBQzlDLFdBQU8sS0FBSyxXQUFXLElBQUksRUFBRTtBQUFBLEVBQy9CO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxtQkFBZ0M7QUFDOUIsV0FBTyxNQUFNLEtBQUssS0FBSyxXQUFXLE9BQU8sQ0FBQztBQUFBLEVBQzVDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxjQUEyQjtBQUN6QixVQUFNLE1BQU0sS0FBSyxJQUFJO0FBQ3JCLFdBQU8sTUFBTSxLQUFLLEtBQUssV0FBVyxPQUFPLENBQUMsRUFDdkMsT0FBTyxVQUFRLEtBQUssV0FBVyxPQUFPLEdBQUcsRUFDekMsS0FBSyxDQUFDLEdBQUcsTUFBTTtBQUNkLFlBQU0sWUFBWSxLQUFLLGdCQUFnQixDQUFDO0FBQ3hDLFlBQU0sWUFBWSxLQUFLLGdCQUFnQixDQUFDO0FBQ3hDLGFBQU8sWUFBWTtBQUFBLElBQ3JCLENBQUM7QUFBQSxFQUNMO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxjQUEyQjtBQUN6QixXQUFPLE1BQU0sS0FBSyxLQUFLLFdBQVcsT0FBTyxDQUFDLEVBQ3ZDLE9BQU8sVUFBUSxLQUFLLFdBQVcsVUFBVSxLQUFLO0FBQUEsRUFDbkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxXQUFXLE1BQWlCO0FBQ2hDLFNBQUssV0FBVyxJQUFJLEtBQUssSUFBSSxJQUFJO0FBQ2pDLFVBQU0sS0FBSyxrQkFBa0I7QUFBQSxFQUMvQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0YsTUFBTSxXQUFXLElBQVk7QUFDM0IsVUFBTSxPQUFPLEtBQUssV0FBVyxJQUFJLEVBQUU7QUFDbkMsUUFBSSxDQUFDO0FBQU07QUFHWCxVQUFNLGNBQWMsS0FBSyxZQUFZLGVBQWUsS0FBSyxlQUFlO0FBQ3hFLFFBQUksYUFBYTtBQUNmLFlBQU0sUUFBUSxZQUFZLGFBQWEsUUFBUSxFQUFFO0FBQ2pELFVBQUksUUFBUSxJQUFJO0FBQ2Qsb0JBQVksYUFBYSxPQUFPLE9BQU8sQ0FBQztBQUN4QyxjQUFNLEtBQUssWUFBWSxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7QUFBQSxNQUN2RDtBQUFBLElBQ0Y7QUFHQSxTQUFLLGFBQWEsS0FBSyxXQUFXLE9BQU8sU0FBTyxJQUFJLGdCQUFnQixFQUFFO0FBQ3RFLFVBQU0sS0FBSyxrQkFBa0I7QUFHN0IsU0FBSyxXQUFXLE9BQU8sRUFBRTtBQUN6QixVQUFNLEtBQUssa0JBQWtCO0FBQUEsRUFDL0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0UsTUFBTSxVQUFVLEtBQWdCO0FBQzlCLFNBQUssV0FBVyxLQUFLLEdBQUc7QUFFeEIsUUFBSSxLQUFLLFdBQVcsU0FBUyxLQUFNO0FBQ2pDLFdBQUssYUFBYSxLQUFLLFdBQVcsTUFBTSxJQUFLO0FBQUEsSUFDL0M7QUFFQSxVQUFNLEtBQUssa0JBQWtCO0FBQUEsRUFDL0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLHFCQUFxQixRQUE2QjtBQUNoRCxXQUFPLEtBQUssV0FBVyxPQUFPLFNBQU8sSUFBSSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2pFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFdBQVc7QUFDVCxVQUFNLE1BQU0sS0FBSyxpQkFBaUI7QUFDbEMsVUFBTSxNQUFNLEtBQUssWUFBWTtBQUM3QixVQUFNLFdBQVcsS0FBSyxZQUFZO0FBRWxDLFVBQU0sUUFBUSxJQUFJLEtBQUssRUFBRSxTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDNUMsVUFBTSxnQkFBZ0IsS0FBSyxXQUFXO0FBQUEsTUFDcEMsU0FBTyxJQUFJLGFBQWE7QUFBQSxJQUMxQixFQUFFO0FBRUYsV0FBTztBQUFBLE1BQ0wsT0FBTyxJQUFJO0FBQUEsTUFDWCxLQUFLLFNBQVM7QUFBQSxNQUNkLEtBQUssSUFBSTtBQUFBLE1BQ1Q7QUFBQSxNQUNBLGNBQWMsS0FBSyxXQUFXO0FBQUEsSUFDaEM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE1BQWMsaUJBQWlCO0FBQzdCLFFBQUk7QUFDRixZQUFNLE9BQU8sR0FBRyxLQUFLO0FBQ3JCLFlBQU0sVUFBVSxLQUFLLElBQUksTUFBTTtBQUUvQixVQUFJLE1BQU0sUUFBUSxPQUFPLElBQUksR0FBRztBQUM5QixjQUFNLE9BQU8sTUFBTSxRQUFRLEtBQUssSUFBSTtBQUNwQyxjQUFNLGFBQTBCLEtBQUssTUFBTSxJQUFJO0FBRS9DLG1CQUFXLFFBQVEsWUFBWTtBQUM3QixlQUFLLFdBQVcsSUFBSSxLQUFLLElBQUksSUFBSTtBQUFBLFFBQ25DO0FBQUEsTUFDRjtBQUFBLElBQ0YsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLDZCQUE2QixLQUFLO0FBQUEsSUFDbEQ7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFjLGlCQUFpQjtBQUM3QixRQUFJO0FBQ0YsWUFBTSxPQUFPLEdBQUcsS0FBSztBQUNyQixZQUFNLFVBQVUsS0FBSyxJQUFJLE1BQU07QUFFL0IsVUFBSSxNQUFNLFFBQVEsT0FBTyxJQUFJLEdBQUc7QUFDOUIsY0FBTSxPQUFPLE1BQU0sUUFBUSxLQUFLLElBQUk7QUFDcEMsYUFBSyxhQUFhLEtBQUssTUFBTSxJQUFJO0FBQUEsTUFDbkM7QUFBQSxJQUNGLFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSw4QkFBOEIsS0FBSztBQUFBLElBQ25EO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsdUJBQWdEO0FBQ3RELFdBQU87QUFBQSxNQUNMLFVBQVU7QUFBQSxNQUNWLE1BQU07QUFBQSxNQUNOLEtBQUssS0FBSyxJQUFJO0FBQUEsTUFDZCxRQUFRO0FBQUEsTUFDUixNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGtCQUNOLFVBQ0EsV0FDUTtBQUNSLFFBQUksU0FBUztBQUNiLFVBQU0sU0FBUyxDQUFDLEdBQUcsU0FBUyxFQUFFLEtBQUssQ0FBQyxHQUFHLE1BQU0sRUFBRSxRQUFRLEVBQUUsS0FBSztBQUU5RCxlQUFXLFlBQVksUUFBUTtBQUM3QixZQUFNLFNBQVMsT0FBTyxVQUFVLEdBQUcsU0FBUyxLQUFLO0FBQ2pELFlBQU0sUUFBUSxPQUFPLFVBQVUsU0FBUyxRQUFRLFNBQVMsT0FBTyxNQUFNO0FBQ3RFLGVBQVMsR0FBRyxjQUFjO0FBQUEsSUFDNUI7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsVUFBVSxVQUEwQjtBQUMxQyxVQUFNLFFBQVEsU0FBUyxNQUFNLEdBQUc7QUFDaEMsV0FBTyxNQUFNLFNBQVMsSUFBSSxNQUFNLE1BQU0sU0FBUyxDQUFDLElBQUk7QUFBQSxFQUN0RDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsZ0JBQWdCLE1BQXlCO0FBQy9DLFVBQU0sTUFBTSxLQUFLLElBQUk7QUFDckIsVUFBTSxVQUFVLEtBQUssSUFBSSxHQUFHLE1BQU0sS0FBSyxXQUFXLEdBQUc7QUFDckQsVUFBTSxjQUFjLFdBQVcsS0FBSyxLQUFLLEtBQUs7QUFFOUMsUUFBSSxLQUFLLFdBQVcsVUFBVTtBQUFPLGFBQU8sTUFBTTtBQUNsRCxRQUFJLEtBQUssV0FBVyxVQUFVO0FBQWMsYUFBTyxNQUFNO0FBQ3pELFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFjLG9CQUFvQjtBQUNoQyxRQUFJO0FBQ0YsWUFBTSxPQUFPLEdBQUcsS0FBSztBQUNyQixZQUFNLGFBQWEsTUFBTSxLQUFLLEtBQUssV0FBVyxPQUFPLENBQUM7QUFDdEQsWUFBTSxPQUFPLEtBQUssVUFBVSxZQUFZLE1BQU0sQ0FBQztBQUMvQyxZQUFNLEtBQUssSUFBSSxNQUFNLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFBQSxJQUMvQyxTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0sZ0NBQWdDLEtBQUs7QUFBQSxJQUNyRDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQWMsb0JBQW9CO0FBQ2hDLFFBQUk7QUFDRixZQUFNLE9BQU8sR0FBRyxLQUFLO0FBQ3JCLFlBQU0sT0FBTyxLQUFLLFVBQVUsS0FBSyxZQUFZLE1BQU0sQ0FBQztBQUNwRCxZQUFNLEtBQUssSUFBSSxNQUFNLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFBQSxJQUMvQyxTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0saUNBQWlDLEtBQUs7QUFBQSxJQUN0RDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGFBQXFCO0FBQzNCLFdBQU8sUUFBUSxLQUFLLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRSxTQUFTLEVBQUUsRUFBRSxPQUFPLEdBQUcsQ0FBQztBQUFBLEVBQ3JFO0FBQ0Y7OztBOUJ0ZUEsSUFBTSxtQkFBMkM7QUFBQSxFQUMvQyxtQkFBbUI7QUFBQSxFQUNuQixVQUFVO0FBQUEsRUFDVixhQUFhO0FBQUEsRUFDWCxVQUFVO0FBQ2Q7QUFFQSxJQUFxQix1QkFBckIsY0FBa0QseUJBQU87QUFBQSxFQVV2RCxNQUFNLFNBQVM7QUFDYixZQUFRLElBQUksZ0NBQWdDO0FBRTVDLFVBQU0sS0FBSyxhQUFhO0FBR3hCLFNBQUssZUFBZSxJQUFJLGFBQWEsS0FBSyxLQUFLLElBQUk7QUFDbkQsVUFBTSxLQUFLLGFBQWEsV0FBVztBQUNuQyxZQUFRLElBQUksOENBQTBCLEtBQUssYUFBYSxnQkFBZ0IsR0FBRztBQUczRSxTQUFLLGNBQWMsSUFBSSxZQUFZLEtBQUssS0FBSyxJQUFJO0FBQ2pELFVBQU0sS0FBSyxZQUFZLFdBQVc7QUFFbEMsU0FBSyxvQkFBb0IsSUFBSSxrQkFBa0IsS0FBSyxLQUFLLElBQUk7QUFDN0QsVUFBTSxLQUFLLGtCQUFrQixXQUFXO0FBRXhDLFNBQUssbUJBQW1CLElBQUk7QUFBQSxNQUMxQixLQUFLO0FBQUEsTUFDTCxLQUFLO0FBQUEsTUFDTDtBQUFBLElBQ0Y7QUFDQSxVQUFNLEtBQUssaUJBQWlCLFdBQVc7QUFFdkMsU0FBSyxtQkFBbUIsSUFBSTtBQUFBLE1BQzFCLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUdBLFNBQUs7QUFBQSxNQUNIO0FBQUEsTUFDQSxDQUFDLFNBQVMsSUFBSSxvQkFBb0IsTUFBTSxNQUFNLEtBQUs7QUFBQSxJQUNyRDtBQUVBLFNBQUs7QUFBQSxNQUNIO0FBQUEsTUFDQSxDQUFDLFNBQVMsSUFBSSxvQkFBb0IsTUFBTSxNQUFNLElBQUk7QUFBQSxJQUNwRDtBQUVBLFNBQUs7QUFBQSxNQUNIO0FBQUEsTUFDQSxDQUFDLFNBQVMsSUFBSSxXQUFXLE1BQU0sSUFBSTtBQUFBLElBQ3JDO0FBRUEsU0FBSztBQUFBLE1BQ0g7QUFBQSxNQUNBLENBQUMsU0FBUyxJQUFJLFVBQVUsTUFBTSxJQUFJO0FBQUEsSUFDcEM7QUFFQSxTQUFLO0FBQUEsTUFDSCxLQUFLLElBQUksVUFBVSxHQUFHLGVBQWUsQ0FBQyxNQUFNLFFBQVEsU0FBUztBQUMzRCxZQUFJLGdCQUFnQixnQ0FBYztBQUNoQyxnQkFBTSxPQUFPLEtBQUs7QUFDbEIsY0FBSSxNQUFNO0FBQ1IsaUJBQUssaUJBQWlCLG9CQUFvQixNQUFNLFFBQVEsSUFBSTtBQUFBLFVBQzlEO0FBQUEsUUFDRjtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0g7QUFFQSxTQUFLLGNBQWMsSUFBSSxZQUFZLEtBQUssS0FBSyxJQUFJLENBQUM7QUFHbEQsU0FBSyxZQUFZO0FBR2pCLFNBQUssY0FBYyxlQUFlLG1DQUFtQyxNQUFNO0FBQ3pFLFdBQUssd0JBQXdCO0FBQUEsSUFDL0IsQ0FBQztBQUVELFNBQUssY0FBYyxVQUFVLGdCQUFnQixNQUFNO0FBQ2pELFVBQUksQ0FBQyxLQUFLLGFBQWEsY0FBYyxlQUFlLGNBQWMsR0FBRztBQUNuRTtBQUFBLE1BQ0Y7QUFDQSxXQUFLLGVBQWU7QUFBQSxJQUN0QixDQUFDO0FBR0QsU0FBSyxlQUFlO0FBRXBCLFNBQUssa0JBQWtCLElBQUksZ0JBQWdCLElBQUk7QUFFL0MsWUFBUSxJQUFJLCtCQUErQjtBQUFBLEVBQzdDO0FBQUEsRUFFQSxXQUFXO0FBQ1QsWUFBUSxJQUFJLGtDQUFrQztBQU05QyxVQUFNLFVBQVUsU0FBUyxlQUFlLDBCQUEwQjtBQUNsRSxRQUFJLFNBQVM7QUFDWCxjQUFRLE9BQU87QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNuQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzNFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDbkIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbkM7QUFBQSxFQUVRLGNBQWM7QUFDcEIsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFFeEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGFBQWEsbUJBQW1CLEdBQUc7QUFDdEU7QUFBQSxRQUNGO0FBQ0ksY0FBTSxhQUFhLEtBQUssSUFBSSxVQUFVLGNBQWM7QUFDcEQsWUFBSSxDQUFDO0FBQVk7QUFDakIsY0FBTSxLQUFLLGlCQUFpQixTQUFTLFVBQVU7QUFDL0MsYUFBSyxnQkFBZ0I7QUFBQSxNQUN2QjtBQUFBLElBQ0YsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2QsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxZQUFZO0FBRXhCLFlBQUksQ0FBQyxLQUFLLGFBQWEsY0FBYyxjQUFjLG1CQUFtQixHQUFHO0FBQ3ZFO0FBQUEsUUFDRjtBQUNJLGNBQU0sS0FBSyxpQkFBaUIsVUFBVTtBQUN0QyxhQUFLLGdCQUFnQjtBQUFBLE1BQ3ZCO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDZCxhQUFLLHdCQUF3QjtBQUFBLE1BQy9CO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFFeEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLHVCQUF1QixzQ0FBc0MsR0FBRztBQUNuRztBQUFBLFFBQ0Y7QUFDSSxjQUFNLEtBQUssZUFBZTtBQUFBLE1BQzVCO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFFeEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGNBQWMsaUJBQWlCLEdBQUc7QUFDckU7QUFBQSxRQUNGO0FBQ0ksY0FBTSxhQUFhLEtBQUssSUFBSSxVQUFVLGNBQWM7QUFDcEQsWUFBSSxDQUFDO0FBQVk7QUFFakIsY0FBTSxFQUFFLHFCQUFBQyxxQkFBb0IsSUFBSSxNQUFNO0FBQ3RDLGNBQU0sUUFBUSxJQUFJQTtBQUFBLFVBQ2hCLEtBQUs7QUFBQSxVQUNMO0FBQUEsVUFDQSxXQUFXO0FBQUEsVUFDWCxNQUFNLEtBQUssZ0JBQWdCO0FBQUEsUUFDN0I7QUFDQSxjQUFNLEtBQUs7QUFBQSxNQUNiO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFFbEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGVBQWUsa0JBQWtCLEdBQUc7QUFDdkU7QUFBQSxRQUNGO0FBQ0ksYUFBSyxlQUFlO0FBQUEsTUFDdEI7QUFBQSxJQUNGLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUVsQixZQUFJLENBQUMsS0FBSyxhQUFhLGNBQWMsY0FBYyxZQUFZLEdBQUc7QUFDaEU7QUFBQSxRQUNGO0FBRUksYUFBSyxjQUFjO0FBQUEsTUFDckI7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQUEsRUFFQSxNQUFNLG1CQUFtQjtBQUN2QixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFHM0IsUUFBSSxPQUFPLFVBQVUsZ0JBQWdCLHVCQUF1QixFQUFFLENBQUM7QUFFL0QsUUFBSSxDQUFDLE1BQU07QUFFVCxhQUFPLFVBQVUsUUFBUSxLQUFLO0FBQzlCLFlBQU0sS0FBSyxhQUFhO0FBQUEsUUFDdEIsTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLE1BQ1YsQ0FBQztBQUFBLElBQ0g7QUFFQSxjQUFVLFdBQVcsSUFBSTtBQUFBLEVBQzNCO0FBQUEsRUFFQSxNQUFNLGlCQUFpQjtBQUNyQixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFDM0IsVUFBTSxpQkFBaUIsVUFBVSxnQkFBZ0IsdUJBQXVCO0FBR3hFLFVBQU0sYUFBYSxVQUFVO0FBQzdCLFVBQU0sdUJBQXVCLGNBQzNCLFdBQVcsS0FBSyxZQUFZLE1BQU07QUFFcEMsUUFBSSxlQUFlLFNBQVMsS0FBSyxzQkFBc0I7QUFFckQscUJBQWUsUUFBUSxVQUFRO0FBQzdCLGFBQUssT0FBTztBQUFBLE1BQ2QsQ0FBQztBQUFBLElBQ0gsV0FBVyxlQUFlLFNBQVMsS0FBSyxDQUFDLHNCQUFzQjtBQUU3RCxnQkFBVSxXQUFXLGVBQWUsQ0FBQyxDQUFDO0FBQUEsSUFDeEMsT0FBTztBQUVMLFlBQU0sT0FBTyxVQUFVLFFBQVEsS0FBSztBQUNwQyxZQUFNLEtBQUssYUFBYTtBQUFBLFFBQ3RCLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxNQUNWLENBQUM7QUFDRCxnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMzQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sMEJBQTBCO0FBQzlCLFVBQU0sRUFBRSxVQUFVLElBQUksS0FBSztBQUUzQixRQUFJLE9BQTZCO0FBQ2pDLFVBQU0sU0FBUyxVQUFVLGdCQUFnQiwwQkFBMEI7QUFFbkUsUUFBSSxPQUFPLFNBQVMsR0FBRztBQUNyQixhQUFPLE9BQU8sQ0FBQztBQUFBLElBQ2pCLE9BQU87QUFFTCxhQUFPLFVBQVUsYUFBYSxLQUFLO0FBQ25DLGFBQU0sNkJBQU0sYUFBYTtBQUFBLFFBQ3ZCLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxNQUNWO0FBQUEsSUFDRjtBQUVBLFFBQUksTUFBTTtBQUNSLGdCQUFVLFdBQVcsSUFBSTtBQUFBLElBQzNCO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBTSxpQkFBaUI7QUFDckIsVUFBTSxRQUFRLEtBQUssaUJBQWlCLFNBQVM7QUFFN0MsUUFBSSxNQUFNLFFBQVEsR0FBRztBQUNuQixVQUFJLHlCQUFPLDBCQUEwQjtBQUNyQztBQUFBLElBQ0Y7QUFFQSxVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFDM0IsUUFBSSxPQUE2QjtBQUNqQyxVQUFNLFNBQVMsVUFBVSxnQkFBZ0IsZ0JBQWdCO0FBRXpELFFBQUksT0FBTyxTQUFTLEdBQUc7QUFDckIsYUFBTyxPQUFPLENBQUM7QUFBQSxJQUNqQixPQUFPO0FBQ0wsYUFBTyxVQUFVLFFBQVEsSUFBSTtBQUM3QixhQUFNLDZCQUFNLGFBQWE7QUFBQSxRQUN2QixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFFQSxRQUFJLE1BQU07QUFDUixnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMzQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sZ0JBQWdCO0FBQ3BCLFVBQU0sRUFBRSxVQUFVLElBQUksS0FBSztBQUMzQixRQUFJLE9BQTZCO0FBQ2pDLFVBQU0sU0FBUyxVQUFVLGdCQUFnQixlQUFlO0FBRXhELFFBQUksT0FBTyxTQUFTLEdBQUc7QUFDckIsYUFBTyxPQUFPLENBQUM7QUFBQSxJQUNqQixPQUFPO0FBQ0wsYUFBTyxVQUFVLFFBQVEsS0FBSztBQUM5QixhQUFNLDZCQUFNLGFBQWE7QUFBQSxRQUN2QixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFFQSxRQUFJLE1BQU07QUFDUixnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMzQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLGtCQUFrQjtBQUVoQixVQUFNLGdCQUFnQixLQUFLLElBQUksVUFBVSxnQkFBZ0IsMEJBQTBCO0FBQ25GLGtCQUFjLFFBQVEsVUFBUTtBQUM1QixZQUFNLE9BQU8sS0FBSztBQUNsQixVQUFJLFFBQVEsT0FBTyxLQUFLLFlBQVksWUFBWTtBQUM5QyxhQUFLLFFBQVE7QUFBQSxNQUNmO0FBQUEsSUFDRixDQUFDO0FBR0QsVUFBTSxhQUFhLEtBQUssSUFBSSxVQUFVLGdCQUFnQix1QkFBdUI7QUFDN0UsZUFBVyxRQUFRLFVBQVE7QUFDekIsWUFBTSxPQUFPLEtBQUs7QUFDbEIsVUFBSSxRQUFRLE9BQU8sS0FBSyxZQUFZLFlBQVk7QUFDOUMsYUFBSyxRQUFRO0FBQUEsTUFDZjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFBQSxFQUVRLGlCQUFpQjtBQUN2QixVQUFNLGdCQUFnQixLQUFLLGlCQUFpQjtBQUM1QyxrQkFBYyxTQUFTLHdCQUF3QjtBQUUvQyxVQUFNLGVBQWUsTUFBTTtBQUN6QixZQUFNLFFBQVEsS0FBSyxpQkFBaUIsU0FBUztBQUM3QyxvQkFBYyxRQUFRLGFBQU0sTUFBTSxTQUFTO0FBQzNDLG9CQUFjLFFBQVEsR0FBRyxNQUFNO0FBQUEsRUFBNkIsTUFBTTtBQUFBLElBQ3BFO0FBR0EsaUJBQWE7QUFHYixTQUFLO0FBQUEsTUFDSCxPQUFPLFlBQVksY0FBYyxHQUFLO0FBQUEsSUFDeEM7QUFHQSxrQkFBYyxpQkFBaUIsU0FBUyxNQUFNO0FBQzVDLFdBQUssZUFBZTtBQUFBLElBQ3RCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQSxFQUdPLDBCQUFtQztBQUN4QyxXQUFPLEtBQUssSUFBSSxVQUFVLGdCQUFnQiwwQkFBMEIsRUFBRSxTQUFTO0FBQUEsRUFDakY7QUFBQSxFQUVPLHVCQUFnQztBQUNyQyxXQUFPLEtBQUssSUFBSSxVQUFVLGdCQUFnQix1QkFBdUIsRUFBRSxTQUFTO0FBQUEsRUFDOUU7QUFDRjsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImNvdW50IiwgImNhcmRzIiwgIl9hIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInVuaXQiLCAiY2FyZCIsICJpbXBvcnRfb2JzaWRpYW4iLCAic2ltaWxhcml0eSIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJfYSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInJlc3VsdCIsICJjdXJyZW50TGluZSIsICJleHRyYWN0ZWRUYWJsZSIsICJ1bml0IiwgIkZpbGVBbm5vdGF0aW9uTW9kYWwiXQp9Cg==
