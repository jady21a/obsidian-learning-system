/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/ui/view/AnnotationModal.ts
var AnnotationModal_exports = {};
__export(AnnotationModal_exports, {
  AnnotationModal: () => AnnotationModal,
  FileAnnotationModal: () => FileAnnotationModal
});
var import_obsidian15, AnnotationModal, FileAnnotationModal;
var init_AnnotationModal = __esm({
  "src/ui/view/AnnotationModal.ts"() {
    import_obsidian15 = require("obsidian");
    AnnotationModal = class extends import_obsidian15.Modal {
      constructor(app, plugin, contentUnit, onSave) {
        super(app);
        this.plugin = plugin;
        this.annotationText = "";
        this.badgeText = "";
        this.badgeColor = "#5B9BD5";
        this.contentUnit = contentUnit;
        this.onSave = onSave;
        this.existingAnnotation = this.plugin.annotationManager.getContentAnnotation(
          contentUnit.id
        );
        if (this.existingAnnotation) {
          this.annotationText = this.existingAnnotation.content;
          if (this.existingAnnotation.badge) {
            this.badgeText = this.existingAnnotation.badge.text;
            this.badgeColor = this.existingAnnotation.badge.color;
          }
        }
      }
      onOpen() {
        const { contentEl } = this;
        contentEl.addClass("annotation-modal");
        contentEl.createEl("h2", {
          text: this.existingAnnotation ? "Edit Annotation" : "Add Annotation"
        });
        const contentPreview = contentEl.createDiv({ cls: "annotation-content-preview" });
        contentPreview.createEl("h3", { text: "Content:" });
        contentPreview.createEl("blockquote", { text: this.contentUnit.content });
        new import_obsidian15.Setting(contentEl).setName("Annotation").setDesc("Add your notes or comments about this content").addTextArea((text) => {
          text.setPlaceholder("Enter your annotation here...").setValue(this.annotationText).onChange((value) => {
            this.annotationText = value;
          });
          text.inputEl.rows = 6;
          text.inputEl.style.width = "100%";
        });
        contentEl.createEl("h3", { text: "Badge (Optional)" });
        new import_obsidian15.Setting(contentEl).setName("Badge text").setDesc('Short text to display as a badge (e.g., \u201CImportant\u201D, \u201CTo Review\u201D")').addText(
          (text) => text.setPlaceholder("Badge text").setValue(this.badgeText).onChange((value) => {
            this.badgeText = value;
            this.updateBadgePreview();
          })
        );
        new import_obsidian15.Setting(contentEl).setName("Badge color").setDesc("Choose a color for the badge").addDropdown((dropdown) => {
          dropdown.addOption("#5B9BD5", "\u{1F535} Blue").addOption("#70AD47", "\u{1F7E2} Green").addOption("#FFC000", "\u{1F7E1} Yellow").addOption("#FF6B6B", "\u{1F534} Red").addOption("#C78BFF", "\u{1F7E3} Purple").addOption("#FF9F43", "\u{1F7E0} Orange").setValue(this.badgeColor).onChange((value) => {
            this.badgeColor = value;
            this.updateBadgePreview();
          });
        });
        const badgePreview = contentEl.createDiv({ cls: "badge-preview-container" });
        badgePreview.createEl("span", { text: "Preview: ", cls: "preview-label" });
        const badgeEl = badgePreview.createEl("span", { cls: "badge-preview" });
        this.badgePreviewEl = badgeEl;
        this.updateBadgePreview();
        const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
        if (this.existingAnnotation) {
          const deleteBtn = buttonContainer.createEl("button", {
            text: "Delete",
            cls: "mod-warning"
          });
          deleteBtn.addEventListener("click", async () => {
            await this.deleteAnnotation();
          });
        }
        const cancelBtn = buttonContainer.createEl("button", { text: "Cancel" });
        cancelBtn.addEventListener("click", () => {
          this.close();
        });
        const saveBtn = buttonContainer.createEl("button", {
          text: "Save",
          cls: "mod-cta"
        });
        saveBtn.addEventListener("click", async () => {
          await this.saveAnnotation();
        });
        this.addStyles();
      }
      updateBadgePreview() {
        if (!this.badgePreviewEl)
          return;
        if (this.badgeText) {
          this.badgePreviewEl.textContent = this.badgeText;
          this.badgePreviewEl.style.backgroundColor = this.badgeColor;
          this.badgePreviewEl.style.display = "inline-block";
        } else {
          this.badgePreviewEl.textContent = "No badge";
          this.badgePreviewEl.style.backgroundColor = "transparent";
          this.badgePreviewEl.style.color = "var(--text-muted)";
        }
      }
      async saveAnnotation() {
        if (!this.annotationText.trim()) {
          new import_obsidian15.Notice("Please enter annotation text");
          return;
        }
        try {
          let annotation;
          if (this.existingAnnotation) {
            await this.plugin.annotationManager.updateAnnotation(
              this.existingAnnotation.id,
              {
                content: this.annotationText,
                badge: this.badgeText ? {
                  text: this.badgeText,
                  color: this.badgeColor
                } : void 0
              }
            );
            annotation = this.plugin.annotationManager.getAnnotation(
              this.existingAnnotation.id
            );
            new import_obsidian15.Notice("Annotation updated");
          } else {
            annotation = await this.plugin.annotationManager.addContentAnnotation(
              this.contentUnit.id,
              this.annotationText,
              this.badgeText ? {
                text: this.badgeText,
                color: this.badgeColor
              } : void 0
            );
            new import_obsidian15.Notice("Annotation added");
          }
          this.onSave(annotation);
          this.close();
        } catch (error) {
          console.error("Error saving annotation:", error);
          new import_obsidian15.Notice("Error saving annotation");
        }
      }
      async deleteAnnotation() {
        if (!this.existingAnnotation)
          return;
        try {
          await this.plugin.annotationManager.deleteAnnotation(
            this.existingAnnotation.id
          );
          new import_obsidian15.Notice("Annotation deleted");
          this.close();
          this.onSave(null);
        } catch (error) {
          console.error("Error deleting annotation:", error);
          new import_obsidian15.Notice("Error deleting annotation");
        }
      }
      addStyles() {
        const styleEl = document.createElement("style");
        styleEl.textContent = `
      .annotation-modal {
        padding: 20px;
      }

      .annotation-content-preview {
        margin: 20px 0;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 6px;
      }

      .annotation-content-preview h3 {
        margin-top: 0;
        margin-bottom: 10px;
        font-size: 0.9em;
        color: var(--text-muted);
      }

      .annotation-content-preview blockquote {
        margin: 0;
        padding: 10px;
        border-left: 3px solid var(--interactive-accent);
        background: var(--background-primary);
        border-radius: 4px;
      }

      .badge-preview-container {
        margin: 10px 0;
        padding: 10px;
        background: var(--background-secondary);
        border-radius: 4px;
      }

      .preview-label {
        color: var(--text-muted);
        margin-right: 10px;
      }

      .badge-preview {
        padding: 4px 10px;
        border-radius: 12px;
        color: white;
        font-size: 0.85em;
        font-weight: 500;
      }

      .modal-button-container {
        display: flex;
        gap: 10px;
        justify-content: flex-end;
        margin-top: 20px;
      }

      .modal-button-container button {
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
      }
    `;
        document.head.appendChild(styleEl);
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    };
    FileAnnotationModal = class extends import_obsidian15.Modal {
      constructor(app, plugin, filePath, onSave) {
        super(app);
        this.plugin = plugin;
        this.existingAnnotations = [];
        this.annotationText = "";
        this.filePath = filePath;
        this.onSave = onSave;
        this.existingAnnotations = this.plugin.annotationManager.getFileAnnotations(filePath);
      }
      onOpen() {
        var _a;
        const { contentEl } = this;
        contentEl.createEl("h2", { text: "File Annotations" });
        const fileName = ((_a = this.filePath.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || this.filePath;
        contentEl.createEl("p", {
          text: `File: ${fileName}`,
          cls: "file-name"
        });
        if (this.existingAnnotations.length > 0) {
          const existingSection = contentEl.createDiv({ cls: "existing-annotations" });
          existingSection.createEl("h3", { text: "Existing Annotations" });
          this.existingAnnotations.forEach((annotation) => {
            const annotationCard = existingSection.createDiv({ cls: "annotation-card" });
            annotationCard.createEl("p", { text: annotation.content });
            const date = new Date(annotation.metadata.createdAt).toLocaleDateString();
            annotationCard.createEl("small", {
              text: `Created: ${date}`,
              cls: "annotation-date"
            });
            const deleteBtn = annotationCard.createEl("button", {
              text: "\u{1F5D1} Delete",
              cls: "delete-annotation-btn"
            });
            deleteBtn.addEventListener("click", async () => {
              await this.deleteAnnotation(annotation.id);
              this.close();
              this.onSave();
            });
          });
        }
        contentEl.createEl("h3", { text: "Add New Annotation" });
        new import_obsidian15.Setting(contentEl).setName("Annotation").setDesc("Add notes about this file").addTextArea((text) => {
          text.setPlaceholder("Enter file annotation...").setValue(this.annotationText).onChange((value) => {
            this.annotationText = value;
          });
          text.inputEl.rows = 4;
          text.inputEl.style.width = "100%";
        });
        const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
        const cancelBtn = buttonContainer.createEl("button", { text: "Cancel" });
        cancelBtn.addEventListener("click", () => {
          this.close();
        });
        const saveBtn = buttonContainer.createEl("button", {
          text: "Save",
          cls: "mod-cta"
        });
        saveBtn.addEventListener("click", async () => {
          await this.saveAnnotation();
        });
      }
      async saveAnnotation() {
        if (!this.annotationText.trim()) {
          new import_obsidian15.Notice("Please enter annotation text");
          return;
        }
        try {
          await this.plugin.annotationManager.addFileAnnotation(
            this.filePath,
            this.annotationText
          );
          new import_obsidian15.Notice("File annotation added");
          this.close();
          this.onSave();
        } catch (error) {
          console.error("Error saving file annotation:", error);
          new import_obsidian15.Notice("Error saving file annotation");
        }
      }
      async deleteAnnotation(id) {
        try {
          await this.plugin.annotationManager.deleteAnnotation(id);
          new import_obsidian15.Notice("Annotation deleted");
        } catch (error) {
          console.error("Error deleting annotation:", error);
          new import_obsidian15.Notice("Error deleting annotation");
        }
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LearningSystemPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian16 = require("obsidian");

// src/ui/view/SettingsTab.ts
var import_obsidian = require("obsidian");
var SettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Learning System Settings" });
    new import_obsidian.Setting(containerEl).setName("Enable extraction").setDesc("Enable automatic content extraction").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.extractionEnabled).onChange(async (value) => {
        this.plugin.settings.extractionEnabled = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Auto scan").setDesc("Automatically scan files when they are opened").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoScan).onChange(async (value) => {
        this.plugin.settings.autoScan = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Default deck").setDesc("Default deck name for new flashcards").addText(
      (text) => text.setPlaceholder("Default").setValue(this.plugin.settings.defaultDeck).onChange(async (value) => {
        this.plugin.settings.defaultDeck = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Language / \u8BED\u8A00").setDesc("Select interface language / \u9009\u62E9\u754C\u9762\u8BED\u8A00").addDropdown(
      (dropdown) => dropdown.addOption("en", "English").addOption("zh-CN", "\u7B80\u4F53\u4E2D\u6587").setValue(this.plugin.settings.language).onChange(async (value) => {
        this.plugin.settings.language = value;
        await this.plugin.saveSettings();
        this.plugin.refreshOverview();
        new import_obsidian.Notice("Language updated. Some changes require reload. ");
      })
    );
  }
};

// src/ui/style/sidebarStyle.ts
var StyleLoader = class {
  /**
   * 注入样式到页面
   */
  static inject() {
    if (this.isInjected || document.getElementById(this.styleId)) {
      return;
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.isInjected = true;
  }
  /**
   * 移除样式
   */
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
      this.isInjected = false;
    }
  }
  /**
   * 获取所有样式（从这里统一管理）
   */
  static getStyles() {
    return `
  /* ==================== CSS \u53D8\u91CF\u914D\u7F6E ==================== */
  .learning-overview-container {
    --overview-sidebar-width: 250px;
    --overview-card-gap: 8px;
    --overview-border-radius: 6px;
    --overview-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* ==================== \u5168\u5C40\u5BB9\u5668 ==================== */
  .learning-overview-container {
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: var(--background-primary);
  }
  
  /* ==================== \u4FA7\u8FB9\u680F\u6A21\u5F0F ==================== */
  .learning-overview-container[data-mode="sidebar"] {
    padding: 0;
  }
  
  .sidebar-toolbar {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
    flex-shrink: 0;
    position: relative;
    z-index: 10;
  }
  
  .sidebar-content-list {
    flex: 1;
    overflow-y: auto;
    padding: var(--overview-card-gap);
    position: relative;
    z-index: 1;
  }
  
  /* ==================== \u5DE5\u5177\u680F\u7EC4\u4EF6 ==================== */
  .search-container {
    margin-bottom: 10px;
      pointer-events: auto;
  }
  
  .search-input {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    font-size: 13px;
    background: var(--background-primary);
    color: var(--text-normal);
    transition: var(--overview-transition);
      pointer-events: auto;
  }
  
  .search-input:focus {
    outline: none;
    border-color: var(--interactive-accent);
  }
  
  .filter-chips {
    display: flex;
    gap: 6px;
    margin-bottom: 10px;
  }
  
  .filter-chip {
    flex: 1;
    text-align: center;
    padding: 6px 8px;
    font-size: 11px;
    border-radius: 12px;
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    border: 1px solid transparent;
  }
  
  .filter-chip:hover {
    background: var(--background-modifier-hover);
  }
  
  .filter-chip.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    font-weight: 600;
    border-color: var(--interactive-accent);
  }
  
  .group-switcher {
    display: flex;
    gap: 6px;
    margin-bottom: 10px;
  }
  
  .group-btn {
    flex: 1;
    text-align: center;
    padding: 6px;
    font-size: 16px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    border: 1px solid transparent;
  }
  
  .group-btn:hover {
    background: var(--background-modifier-hover);
  }
  
  .group-btn.active {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    transform: scale(1.05);
  }
  
  /* ==================== \u6279\u91CF\u64CD\u4F5C ==================== */
  .stats-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 3px;
  }
  
.stats-left {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.stats-center {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  justify-content: flex-start;
}

.stats-right {
  display: flex;
  align-items: center;
  gap: 1px;
  flex-shrink: 0;
  margin-left: auto; /* \u63A8\u5230\u6700\u53F3\u4FA7 */
}

.header-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

/* \u590D\u4E60\u68C0\u67E5\u6309\u94AE\u6837\u5F0F */
.review-check-btn-stats {
  width: 32px;
  height: 32px;
  padding: 0;
  cursor: pointer;
  font-size: 14px;
  transition: var(--overview-transition);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
   background-color: transparent;
   border:none;
}

.review-check-btn-stats:hover {
  background: var(--interactive-accent);
  color: white;
  border-color: var(--interactive-accent);
  transform: scale(1.1);
}

.review-check-btn-stats:active {
  transform: scale(0.95);
}

/* \u5982\u679C\u6709\u5F85\u590D\u4E60\u5361\u7247,\u6DFB\u52A0\u63D0\u793A\u52A8\u753B */
.review-check-btn-stats.has-due {
  animation: bellRing 2s ease-in-out infinite;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-color: #667eea;
}

@keyframes bellRing {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30% {
    transform: rotate(-10deg);
  }
  20%, 40% {
    transform: rotate(10deg);
  }
  50% {
    transform: rotate(0deg);
  }
}

  .batch-create-cards-btn-sidebar,
  .batch-delete-btn-sidebar,
  .cancel-selection-btn-sidebar {
    padding: 6px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 11px;
    font-weight: 500;
    white-space: nowrap;
  }
  
  .batch-create-cards-btn-sidebar:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }
  
  .batch-delete-btn-sidebar:hover {
    background: var(--color-red);
    color: white;
    border-color: var(--color-red);
  }
  
  .cancel-selection-btn-sidebar:hover {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
    border-color: var(--text-muted);
  }
  
  .batch-create-cards-btn-header,
  .batch-delete-btn-header,
  .cancel-selection-btn-header {
    padding: 8px 16px;
    font-size: 13px;
    border-radius: var(--overview-border-radius);
    border: 1px solid var(--background-modifier-border);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
    white-space: nowrap;
  }
  
  .batch-create-cards-btn-header:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }
  
  .batch-delete-btn-header:hover {
    background: var(--color-red);
    color: white;
    border-color: var(--color-red);
  }
  
  .cancel-selection-btn-header:hover {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
    border-color: var(--text-muted);
  }
  
  .select-all-btn-sidebar {
    padding: 6px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 11px;
    font-weight: 500;
    flex-shrink: 0;
  }
  
  .select-all-btn-sidebar:hover,
  .select-all-btn-sidebar.completed {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    color: white;
  }
  
  .select-all-btn-header {
    padding: 8px 16px;
    font-size: 13px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  }
  
  .select-all-btn-header:hover,
  .select-all-btn-header.completed {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    border-color: var(--interactive-accent);
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  }
  
  .stats-badge {
    text-align: center;
    font-size: 11px;
    color: var(--text-muted);
    padding: 4px;
    flex: 1;
  }
  
  .batch-actions {
    display: flex;
    gap: 6px;
    margin-top: 10px;
    flex-wrap: wrap;
    padding: 8px;
    background: var(--background-secondary-alt);
    border-radius: var(--overview-border-radius);
    animation: slideDown 0.2s ease;
  }
  
  /* ==================== \u5361\u7247\u6837\u5F0F ==================== */
  .compact-card {
    display: flex;
    gap: 8px;
    padding: 10px;
    margin: 4px 0;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    transition: var(--overview-transition);
  }
  
  .compact-card:hover {
    border-color: var(--interactive-accent);
    background: var(--background-primary-alt);
    transform: translateX(2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .card-indicator {
    width: 4px;
    border-radius: 2px;
    background: var(--background-modifier-border);
    flex-shrink: 0;
    transition: var(--overview-transition);
  }
  
  .card-indicator.type-qa {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #10b981 50%, #10b981 100%);
  }
  
  .card-indicator.type-cloze {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #FFF176 50%, #FFF176 100%);
  }
  
  .card-indicator.type-text {
    background: linear-gradient(to bottom, transparent 0%, transparent 50%, #6b7280 50%, #6b7280 100%);
  }
  
  .card-indicator.type-qa.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #10b981 50%, #10b981 100%);
  }
  
  .card-indicator.type-cloze.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #FFF176 50%, #FFF176 100%);
  }
  
  .card-indicator.type-text.has-annotation {
    background: linear-gradient(to bottom, #3b82f6 0%, #3b82f6 50%, #6b7280 50%, #6b7280 100%);
  }
  
  .type-indicator {
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
  }
  
  .type-indicator.type-qa {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
  }
  
  .type-indicator.type-cloze {
    background: rgba(255, 241, 118, 0.2);
    color: #FFF176;
  }
  
  .type-indicator.type-text {
    background: rgba(107, 114, 128, 0.2);
    color: #6b7280;
  }
  
  .card-content {
    flex: 1;
    min-width: 0;
  }
  
  .card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2px;
  }
  
  .card-tools {
    display: flex;
    gap: 4px;
  }
  
  .tool-btn {
    cursor: pointer;
    font-size: 14px;
    padding: 4px;
    border-radius: 4px;
    transition: var(--overview-transition);
  }
  
  .tool-btn:hover {
    background: var(--background-modifier-hover);
  }
  
  .annotation-btn {
    cursor: pointer;
    font-size: 13px;
  }
  

  
  .note-text {
    font-size: 12px;
    line-height: 1.6;
    color: var(--text-normal);
    cursor: pointer;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    overflow-wrap: break-word;
    margin-bottom: 6px;
  }
  
  .note-text:hover {
    color: var(--interactive-accent);
  }
  
  .qa-question {
    font-weight: 500;
    color: var(--text-normal);
  }
  
  .qa-separator {
    color: var(--text-muted);
    margin: 0 4px;
  }
  
  .qa-answer {
    color: var(--text-accent);
    font-style: italic;
  }
  
  .cloze-highlight {
    color: #f59e0b;
    font-weight: 500;
    padding: 1px 3px;
    border-radius: 3px;
  }
  
  .annotation-preview {
    font-size: 11px;
    line-height: 1.4;
    color: var(--text-muted);
    padding: 6px 8px;
    background: var(--background-secondary);
    border-radius: 4px;
    margin-top: 6px;
    border-left: 3px solid var(--interactive-accent);
    cursor: pointer;
    transition: var(--overview-transition);
  }
  
  .annotation-preview:hover {
    background: var(--background-modifier-hover);
  }
  
  .card-meta {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 8px;
  }
  
  .tag {
    padding: 2px 6px;
    background: var(--tag-background);
    color: var(--tag-color);
    border-radius: 4px;
    font-size: 10px;
    font-weight: 500;
  }
  
  .badge {
    padding: 2px 6px;
    background: var(--background-modifier-border);
    border-radius: 4px;
    font-size: 10px;
  }
  
  .group-header {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 8px;
    background: var(--background-secondary);
    border-radius: var(--overview-border-radius);
    margin-bottom: 6px;
    font-size: 12px;
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  
/* ==================== \u6279\u6CE8\u7F16\u8F91\u5668 ==================== */
.inline-annotation-editor {
  display: block !important;
  visibility: visible !important;
  margin-top: 8px;
  padding: 0;
  background: transparent;
}
  
  .inline-annotation-textarea {
    width: 100%;
    min-height: 80px;
    padding: 12px 14px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    background: var(--background-primary-alt);
    color: var(--text-normal);
    font-family: var(--font-text);
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
    transition: var(--overview-transition);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .inline-annotation-textarea:focus {
    outline: none;
    border-color: var(--interactive-accent);
    background: var(--background-primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }
  
  .inline-annotation-textarea::placeholder {
    color: var(--text-faint);
    font-style: italic;
  }
  
  .inline-annotation-hint {
    margin-top: 6px;
    font-size: 11px;
    color: var(--text-faint);
    font-style: italic;
    text-align: left;
  }
  
  .grid-card .inline-annotation-editor {
    margin-top: 8px;
  }
  
  .grid-card .inline-annotation-textarea {
    min-height: 100px;
    font-size: 14px;
    padding: 8px 14px;
  }
  
  /* ==================== \u4E3B\u754C\u9762\u5E03\u5C40 ==================== */
  .main-layout {
    display: grid;
    grid-template-columns: var(--overview-sidebar-width) 1fr;
    gap: 1px;
    height: 100%;
    background: var(--background-modifier-border);
  }
  
  .left-panel {
    background: var(--background-primary);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
  }
  
  .right-panel {
    background: var(--background-primary);
    overflow-y: auto;
    padding: var(--overview-card-gap);
  }
  
  .fixed-entries {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  
  .entry-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: var(--overview-border-radius);
    cursor: pointer;
    transition: var(--overview-transition);
    font-size: 13px;
    font-weight: 500;
    background: var(--background-secondary);
  }
  
  .entry-btn:hover {
    background: var(--background-modifier-hover);
    transform: translateX(2px);
  }
  
  .entry-btn.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  /* ==================== \u4E3B\u754C\u9762\u5DE5\u5177\u680F ==================== */
  .main-toolbar {
    padding: 12px;
    border-bottom: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
  }
  
  .search-input-main {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--overview-border-radius);
    font-size: 13px;
    background: var(--background-primary);
    color: var(--text-normal);
    margin-bottom: 10px;
    transition: var(--overview-transition);
  }
  
  .search-input-main:focus {
    outline: none;
    border-color: var(--interactive-accent);
  }
  
  .group-switcher-main {
    display: flex;
    gap: 6px;
  }
  
  .group-btn-main {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    padding: 8px 10px;
    font-size: 12px;
    border-radius: var(--overview-border-radius);
    background: var(--background-secondary);
    cursor: pointer;
    transition: var(--overview-transition);
    font-weight: 500;
  }
  
  .group-btn-main:hover {
    background: var(--background-modifier-hover);
    transform: translateY(-1px);
  }
  
  .group-btn-main.active {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  .batch-actions-main {
    display: flex;
    gap: 8px;
    margin-top: 10px;
    flex-wrap: wrap;
  }
  
  .batch-actions-main .batch-mode-btn,
  .batch-actions-main .select-all-btn,
  .batch-actions-main .batch-delete-btn,
  .batch-actions-main .batch-create-cards-btn {
    padding: 8px 16px;
    font-size: 12px;
  }
  
  .batch-actions-main .select-all-btn:hover {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    color: white;
  }
  
  .panel-title {
    font-size: 13px;
    font-weight: 600;
    padding: 12px;
    margin: 0;
    color: var(--text-muted);
  }
  
  .file-list {
    padding: 0 8px 8px 8px;
    flex: 1;
    overflow-y: auto;
  }
  
  .file-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 10px;
    border-radius: var(--overview-border-radius);
    cursor: pointer;
    transition: var(--overview-transition);
    margin-bottom: 4px;
  }
  
  .file-item:hover {
    background: var(--background-modifier-hover);
  }
  
  .file-item.selected {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
  }
  
  .file-icon {
    font-size: 14px;
  }
  
  .file-name {
    flex: 1;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  .file-count {
    font-size: 11px;
    padding: 2px 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  
  .file-item.selected .file-count {
    background: rgba(255, 255, 255, 0.2);
  }
  
  /* ==================== \u7F51\u683C\u5E03\u5C40 ==================== */
  .grid-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--background-modifier-border);
  }
  
  .grid-header h2 {
    font-size: 18px;
    font-weight: 600;
    margin: 0;
  }
  
  .content-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: var(--overview-card-gap);
  }
  
  .grid-card {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: var(--overview-card-gap);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .grid-card:hover {
    border-color: var(--interactive-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
  
  .grid-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--background-modifier-border);
  }
  
  .grid-card-tools {
    display: flex;
    gap: 4px;
  }
  
  .tool-btn-grid {
    cursor: pointer;
    font-size: 16px;
    padding: 4px 6px;
    border-radius: 4px;
    transition: var(--overview-transition);
  }
  
  .tool-btn-grid:hover {
    background: var(--background-modifier-hover);
    transform: scale(1.1);
  }
  
  .grid-note-text {
    font-size: 13px;
    line-height: 1.6;
    color: var(--text-normal);
    cursor: pointer;
    margin-bottom: 10px;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    overflow-wrap: break-word;
  }
  
  .grid-note-text:hover {
    color: var(--interactive-accent);
  }
  
  .grid-annotation {
    font-size: 12px;
    line-height: 1.5;
    color: var(--text-muted);
    padding: 10px;
    background: var(--background-secondary);
    border-radius: 4px;
    border-left: 3px solid var(--interactive-accent);
    margin-top: 10px;
    cursor: pointer;
    transition: var(--overview-transition);
  }
  
  .grid-annotation:hover {
    background: var(--background-modifier-hover);
  }
  
  .grid-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 10px;
  }
  
  .tag-grid {
    padding: 4px 8px;
    background: var(--tag-background);
    color: var(--tag-color);
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
  }
  
  .grid-card-meta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 10px;
    border-top: 1px solid var(--background-modifier-border);
    font-size: 11px;
  }
  
  .doc-name {
    font-size: 11px;
    color: var(--text-muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .line-info {
    color: var(--text-muted);
  }
  
  .badge-grid {
    padding: 3px 8px;
    background: var(--background-secondary);
    border-radius: 4px;
  }
  
  /* ==================== \u95EA\u5361\u6837\u5F0F ==================== */
  .flashcard-item {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 16px;
    transition: var(--overview-transition);
  }
  
  .flashcard-item:hover {
    border-color: var(--interactive-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .flashcard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }
  
  .flashcard-type {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
  }
  
  .flashcard-type.qa {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
  }
  
  .flashcard-type.cloze {
    background: rgba(255, 241, 118, 0.2);
    color: #FFF176;
  }
  
  .flashcard-body {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  
  .flashcard-question,
  .flashcard-answer {
    font-size: 13px;
    line-height: 1.5;
  }
  
  /* ==================== \u7A7A\u72B6\u6001 ==================== */
  .empty-state {
    text-align: center;
    padding: 40px 20px;
    color: var(--text-muted);
    font-size: 14px;
    position: relative;
    z-index: 1;
  }
  
  .empty-hint {
    text-align: center;
    padding: 20px;
    color: var(--text-muted);
    font-size: 13px;
  }
  
  .empty-right-panel {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: var(--text-muted);
  }
  
  .empty-icon {
    font-size: 48px;
    margin-bottom: 16px;
  }
  
  .empty-text {
    font-size: 14px;
  }
  
  /* ==================== \u52A8\u753B ==================== */
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* ==================== \u54CD\u5E94\u5F0F ==================== */
  @media (max-width: 768px) {
    .main-layout {
      grid-template-columns: 1fr;
    }
  
    .left-panel {
      display: none;
    }
  
    .content-grid {
      grid-template-columns: 1fr;
    }
    }


/* \u590D\u4E60\u56FE\u6807*/


.review-check-btn {
  width: 36px;
  height: 36px;
  padding: 0;
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--overview-border-radius);
  background: var(--background-secondary);
  cursor: pointer;
  font-size: 18px;
  transition: var(--overview-transition);
  flex-shrink: 0;
}

.review-check-btn:hover {
  background: var(--interactive-accent);
  border-color: var(--interactive-accent);
  transform: scale(1.05);
}
@keyframes pulse {
  0%, 100% {
    opacity: 0.85;
  }
  50% {
    opacity: 1;
  }
}

/* \u590D\u4E60\u63D0\u9192\u5177\u4F53\u6837\u5F0F */
.content-list-review-reminder {

}

.reminder-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.reminder-icon {
  font-size: 24px;
}

.reminder-text strong {
  font-size: 16px;
  font-weight: 600;
}

.reminder-progress {
  margin-bottom: 12px;
}



.progress-fill {
  height: 100%;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 4px;
  transition: width 0.3s ease;
}

.progress-text {
  font-size: 13px;
  opacity: 0.9;
}

.reminder-stats {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}



.streak-info {
  opacity: 0.95;
}

.reminder-actions {
  display: flex;
  justify-content: flex-end;
}

.reminder-btn.primary {

  font-weight: 500;
  cursor: pointer;
}

.reminder-btn.primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* \u5361\u7247\u4E2D\u8868\u683C\u7684\u5B8C\u5F62\u586B\u7A7A\u9AD8\u4EAE - \u6A59\u8272 */
.learning-system-table .card-cloze-highlight {
  background-color: rgba(255, 140, 0, 0.25);
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 500;
}
    
  /* ==================== \u7B49\u7EA7\u5FBD\u7AE0\u56FE\u6807 ==================== */
.level-badge-icon {
  padding: 4px 6px ;
  color: var(--text-muted);
  border-radius: 7px;
  font-size: 0.85em;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-right: 0px;
  user-select: none;
}

.level-badge-icon:hover {
  transform: translateY(-2px);
}

/* ==================== \u7B49\u7EA7\u4FE1\u606F\u6A21\u6001\u6846 ==================== */
.level-info-modal {
  padding: 20px;
  max-width: 600px;
}

.level-info-modal h2 {
  text-align: center;
  margin-bottom: 24px;
  font-size: 1.8em;
}

.level-info-modal h3 {
  margin-top: 20px;
  margin-bottom: 12px;
  color: var(--text-muted);
  font-size: 1.1em;
}

.progress-section,
.stats-section,
.milestones-section {
  margin-bottom: 24px;
}

.progress-box {
  padding: 16px;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 4px solid var(--interactive-accent);
  line-height: 1.8;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.stats-grid .stat-item {
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.stat-icon {
  font-size: 1.5em;
}

.stat-label {
  font-size: 0.85em;
  color: var(--text-muted);
}

.stat-value {
  font-size: 1.3em;
  font-weight: bold;
  color: var(--text-accent);
}

.milestones-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.milestone-item {
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 8px;
  border-left: 3px solid var(--interactive-accent);
}

.milestone-message {
  font-weight: 500;
  margin-bottom: 4px;
}

.milestone-date {
  font-size: 0.85em;
  color: var(--text-muted);
}

.modal-footer {
  margin-top: 24px;
  display: flex;
  justify-content: center;
}

.modal-footer button {
  padding: 8px 24px;
  background: var(--interactive-accent);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1em;
}

.modal-footer button:hover {
  background: var(--interactive-accent-hover);
}
  

/* \u5361\u7247\u7C7B\u578B\u6807\u8BC6 */
.card-type-badge {
  display: inline-flex;
  align-items: center;
  padding: 3px 8px;
  border-radius: 10px;
  font-size: 10px;
  font-weight: 600;
  margin-right: auto;
  text-transform: uppercase;
}

.card-type-badge.type-qa {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.card-type-badge.type-cloze {
  background: rgba(255, 241, 118, 0.2);
  color: #FFF176;
}

/* \u786E\u4FDD header \u4F7F\u7528 flex \u5E03\u5C40\u5E76\u5BF9\u9F50 */
.grid-card-header {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* \u95EA\u5361\u590D\u4E60\u65F6\u95F4\u6837\u5F0F */
.flashcard-review-info {
  margin-top: 8px;
  display: flex;
  justify-content: center;
}

.review-time {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 0.85em;
  font-weight: 500;
  background: var(--background-secondary);
  color: var(--text-muted);
}

.review-time.overdue {
  background: var(--background-modifier-error-hover);
  color: var(--text-error);
}

.review-time.upcoming {
  color: var(--text-on-accent);
}

.review-icon {
  font-size: 1em;
  line-height: 1;
}

.review-text {
  white-space: nowrap;
}

      `;
  }
};
StyleLoader.styleId = "learning-sideOverview-styles";
StyleLoader.isInjected = false;

// src/ui/style/reviewStyle.ts
var reviewStyle = class {
  /**
   * 注入样式到页面
   */
  static inject() {
    if (this.isInjected || document.getElementById(this.styleId)) {
      return;
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.isInjected = true;
  }
  /**
   * 移除样式
   */
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
      this.isInjected = false;
    }
  }
  /**
   * 获取所有样式（从这里统一管理）
   */
  static getStyles() {
    return `
       .review-container {
        padding: 16px;
        max-width: 800px;
        margin: 0 auto;
      }

      .empty-state {
        text-align: center;
        padding: 40px 20px;
      }

      .empty-state h2 {
        font-size: 1.8em;
        margin-bottom: 8px;
      }

      .stats-summary {
        margin: 20px 0;
        padding: 16px;
        background: var(--background-secondary);
        border-radius: 8px;
        text-align: left;
        max-width: 300px;
        margin-left: auto;
        margin-right: auto;
      }

 .review-container .progress-bar {
  margin-bottom: 20px;
  display: block !important;  /* \u8986\u76D6 app.css \u7684 flex */
  position: static !important;  /* \u8986\u76D6 app.css \u7684 relative */
  padding: 0 !important;
  width: 100% !important;
}

.review-container .progress-stats {
  display: flex;
  justify-content: center;
  margin-bottom: 8px;
}

.review-container .progress-text {
  font-weight: 300;
  font-size: 0.9em;
  justify-content: center;
}

.review-container .bar-container {
  height: 6px;
  background: var(--background-secondary);
  border-radius: 3px;
  overflow: hidden;
  width: 100%;
}

.review-container .bar {
  height: 40%;
  background: var(--interactive-accent);
  transition: width 0.3s ease;
  display: block;
}

      .card-area {
        background: var(--background-primary);
        border: 2px solid var(--background-modifier-border);
        border-radius: 10px;
        padding: 20px;
        min-height: 350px;
        position: relative;
      }

      .top-actions-bar {
        position: absolute;
        top: 16px;
        right: 16px;
        display: flex;
        gap: 6px;
        z-index: 10;
      }

      .top-action-btn {
        width: 32px;
        height: 32px;
        border: 1px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        color: var(--text-normal);
        padding: 0;
      }

      .top-action-btn:hover {
        background: var(--background-modifier-hover);
        border-color: var(--interactive-accent);
      }

      .more-dropdown {
        position: absolute;
        top: 38px;
        right: 0;
        background: var(--background-primary);
        border: 1px solid var(--background-modifier-border);
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        min-width: 150px;
        z-index: 100;
      }

      .dropdown-item {
        padding: 8px 14px;
        cursor: pointer;
        transition: background 0.2s;
        white-space: nowrap;
        font-size: 0.9em;
      }

      .dropdown-item:hover {
        background: var(--background-modifier-hover);
      }

      .delete-item:hover {
        background: var(--background-modifier-error-hover);
        color: var(--color-red);
      }

      .card-info {
        display: flex;
        gap: 10px;
        margin-bottom: 16px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--background-modifier-border);
        padding-right: 80px;
      }

      .card-type, .card-deck {
        padding: 3px 10px;
        background: var(--background-secondary);
        border-radius: 10px;
        font-size: 0.85em;
      }

      .question-area, .answer-area {
        margin: 16px 0;
      }

      .question-text {
        font-size: 1.2em;
        line-height: 1.5;
        padding: 14px;
        background: var(--background-secondary);
        border-radius: 6px;
      }

      .cloze-input-area, .qa-input-area {
        margin: 16px 0;
      }

      .cloze-input-area h4, .qa-input-area h4 {
        margin-bottom: 10px;
        color: var(--text-muted);
        font-size: 0.9em;
      }
        
.qa-answer-input {
  width: 100%;
  min-height: 120px;
  padding: 12px;
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  color: var(--text-normal);
  font-size: 0.95em;
  font-family: inherit;
  resize: vertical;
  line-height: 1.5;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.qa-answer-input:focus {
  outline: none;
}

.qa-answer-input::placeholder {
  color: var(--text-faint);
  font-style: italic;
}
      .input-group {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
      }

      .cloze-input {
        flex: 1;
        padding: 8px 12px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        font-size: 0.95em;
      }

      .cloze-input:focus, .qa-input:focus {
        outline: none;
      }

      .qa-input {
        width: 100%;
        min-height: 100px;
        padding: 10px 12px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        background: var(--background-primary);
        font-size: 0.95em;
        font-family: inherit;
        resize: vertical;
        line-height: 1.5;
      }

      .question-review {
        margin-bottom: 12px;
        padding: 10px;
        background: var(--background-secondary-alt);
        border-radius: 6px;
      }

      .question-review h4 {
        margin: 0 0 6px 0;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .review-text {
        color: var(--text-muted);
        font-size: 0.95em;
      }

      .full-text {
        font-size: 1.1em;
        line-height: 1.5;
        padding: 12px;
        background: var(--background-secondary);
        border-radius: 6px;
        margin-bottom: 12px;
      }

      .answer-comparison {
      font-size:13px;
        padding: 10px;
        background: var(--background-secondary-alt);
        border-radius: 6px;
        margin-top: 12px;
      }

      .answer-comparison h4 {
        margin: 0 0 8px 0;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .comparison-item {
        background: var(--background-primary);
        border-radius: 4px;
      }

      .user-answer {
        font-weight: 500;
        padding: 2px 6px;
        border-radius: 3px;
      }

      .user-answer.correct {
       background-color: rgba(40, 167, 69, 0.1)  !important;
        color:  #2ea043;
      }

      .user-answer.partial {
         background-color: rgba(255, 193, 7, 0.15) !important;
        color: #ff9f0a;
      }

      .user-answer.wrong {
        background-color: rgba(220, 53, 69, 0.1) !important;
        color: #e5534b;
      }

      .correct-answer {
        color: var(--text-accent);
        font-weight: 500;
      }

      .similarity-info {
        color: var(--text-muted);
        font-style: italic;
        font-size: 0.85em;
      }

      .qa-columns-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-bottom: 12px;
      }

      .qa-column {
        display: flex;
        flex-direction: column;
      }

      .column-label {
        margin: 0 0 8px 0 !important;
        color: var(--text-muted);
        font-size: 0.85em;
      }

      .qa-user-answer, .qa-correct-answer {
        padding: 12px;
        border-radius: 6px;
        white-space: pre-wrap;
        word-break: break-word;
        font-size: 0.95em;
        line-height: 1.5;
        min-height: 60px;
      }

      .qa-correct-answer {
        background: var(--background-secondary);
      }

      .qa-user-answer.correct {
        background: #4caf50 !important;
        color: white !important;
      }

      .qa-user-answer.partial {
        background: #FFC000 !important;
        color: white !important;
      }

      .qa-user-answer.wrong {
        background: #f44336 !important;
        color: white !important;
      }

      .qa-user-answer.no-answer {
        background: var(--background-secondary);
        color: var(--text-muted);
        font-style: italic;
        border: 2px dashed var(--background-modifier-border);
      }

      .button-area {
        display: flex;
        gap: 12px;
        justify-content: center;
        margin-top: 20px;
      }

      /* ============================================================================
         Action Row - \u6309\u94AE\u5E03\u5C40
         ============================================================================ */
      .action-row {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
        padding: 0 20px;
        min-height: 60px;
      }

      /* \u4E2D\u95F4\u7684\u4E3B\u8981\u6309\u94AE(\u8BC4\u7EA7\u6216\u663E\u793A\u7B54\u6848) */
      .action-row .rating-buttons,
      .action-row .show-answer-btn {
        flex: 0 1 auto;
      }

      /* \u7FFB\u9875\u6309\u94AE\u5B9A\u4F4D\u5230\u5DE6\u4E0B\u89D2\u548C\u53F3\u4E0B\u89D2 */

      .show-answer-btn {
        padding: 10px 32px;
        font-size: 1em;
        border: 2px solid var(--interactive-accent);
        border-radius: 8px;
        background: var(--interactive-accent);
        color: var(--text-on-accent);
        cursor: pointer;
        transition: all 0.2s;
        font-weight: 500;
      }

      .show-answer-btn:hover {
        background: var(--interactive-accent-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
/* \u7FFB\u9875\u6309\u94AE - \u7EAF\u6587\u672C\u6837\u5F0F */
    button.nav-btn {
        padding: 8px 12px;
        background: transparent; !important
        border: none;!important
        cursor: pointer;
        font-size: 1.2em;
       color: var(--text-muted) !important;
        transition: all 0.2s;
        box-shadow: none;!important
      }

     button.nav-btn:hover {
        background: transparent;!important
        border: none !important
        color: var(--text-normal) !important;
        transform: scale(1.2);
        box-shadow: none;!important
      }

      .nav-btn:active {
        transform: scale(1.1);
      }

      /* action-row \u4E2D\u7684\u5B9A\u4F4D */
      .action-row .nav-btn {
        position: absolute;
      }

      .action-row .prev-btn {
        left: 0px;
      }

      .action-row .next-btn {
        right: 0px;
      }

      .prev-btn:hover {
        padding-left: 8px;
        transform: translateX(-3px) scale(1.2);
      }

      .next-btn:hover {
        padding-right: 8px;
        transform: translateX(3px) scale(1.2);
      }


      
      .show-answer-btn {
        padding: 10px 32px;
        font-size: 1em;
      }

      .rating-area {
        margin: 15px 0 10px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 40px; 
      }

      .rating-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
      }

      .rating-btn {
        flex: 1;
        max-width: 120px;
        padding: 14px 8px;
        border: 2px solid var(--background-modifier-border);
        border-radius: 8px;
        background: var(--background-primary);
        cursor: pointer;
        transition: all 0.2s;
      }

      .rating-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .rating-red:hover { 
        border-color: var(--color-red);
        background: var(--background-modifier-error-hover);
      }

      .rating-orange:hover { 
        border-color: #FFC000;
        background: rgba(255, 192, 0, 0.1);
      }

      .rating-blue:hover { 
        border-color: var(--interactive-accent);
        background: var(--background-modifier-hover);
      }

      .rating-green:hover { 
        border-color: var(--color-green);
        background: var(--background-modifier-success-hover);
      }

      .rating-label {
        font-weight: 600;
        font-size: 1em;
        margin-bottom: 4px;
      }

      .rating-interval {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .rating-hotkey {
        font-size: 0.75em;
        color: var(--text-muted);
        margin-top: 4px;
        opacity: 0.7;
      }

      .rating-btn:hover .rating-hotkey {
        opacity: 1;
        color: var(--text-normal);
      }

   

      .cloze-blank {
        display: inline-block;
        min-width: 60px;
        padding: 2px 8px;
        color: var(--text-muted);
        font-family: monospace;
        font-size: 0.9em;
      }

          

      .table-answer, .table-question {
        padding: 0 !important;
      }

      .cloze-table-columns {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
        margin-bottom: 16px;
      }

      .user-answer-cell {
        display: inline;
        padding: 0px 4px;
        border-radius: 3px;
        font-weight: 600;
      }

      .user-answer-cell.correct {
         color: #2ea043;
      }

      .user-answer-cell.partial {
        color: #ff9f0a;

      }

      .user-answer-cell.wrong {
       color: #e5534b;

      }

      /* \u8868\u683C\u5355\u5143\u683C\u6B63\u786E\u6027\u989C\u8272 */
.learning-system-table.user-answer-table td.cell-correct,
.learning-system-table.user-answer-table th.cell-correct {
  background-color: rgba(40, 167, 69, 0.1);
}

.learning-system-table.user-answer-table td.cell-partial,
.learning-system-table.user-answer-table th.cell-partial {
  background-color: rgba(255, 193, 7, 0.15);
}

.learning-system-table.user-answer-table td.cell-wrong,
.learning-system-table.user-answer-table th.cell-wrong {
  background-color: rgba(220, 53, 69, 0.1);
}

.learning-system-table.user-answer-table .user-answer-cell {
  font-weight: 500;
}
// \u5728 reviewStyle.inject() \u4E2D\u6DFB\u52A0\u63D0\u793A\u6837\u5F0F

.cloze-input-hint {
  font-size: 0.85em;
  color: var(--text-muted);
  margin-bottom: 12px;
  padding: 8px;
  background: var(--background-secondary);
  border-radius: 4px;
  border-left: 3px solid var(--interactive-accent);
}
// \u5728 reviewStyle.inject() \u65B9\u6CD5\u4E2D\u6DFB\u52A0:

/* \u5355\u4E2A\u8F93\u5165\u6846\u6837\u5F0F */
.single-input-group {
  margin-bottom: 16px;
}

.cloze-single-input {
  width: 100%;
  padding: 12px;
  font-size: 14px;
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  background: var(--background-primary);
  color: var(--text-normal);
  transition: border-color 0.2s;
}

.cloze-single-input:focus {
  outline: none;
}



.cloze-input-hint code {
  background: var(--background-modifier-border);
  padding: 2px 6px;
  border-radius: 3px;
  font-family: var(--font-monospace);
  font-size: 0.9em;
}

/* \u9884\u89C8\u533A\u57DF */
.answer-preview-area {
  margin-top: 16px;
  padding: 12px;
  background: var(--background-secondary);
  border-radius: 6px;
}

.answer-preview-area h5 {
  margin: 0 0 8px 0;
  font-size: 0.9em;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.preview-list {
  margin: 0;
  padding-left: 24px;
  list-style: decimal;
}

.preview-item {
  padding: 6px 8px;
  margin-bottom: 4px;
  border-radius: 4px;
  font-family: var(--font-monospace);
  font-size: 0.9em;
}

.preview-item.filled {
  background: var(--background-primary);
  color: var(--text-normal);
  font-weight: 500;
}

.preview-item.empty {
  background: transparent;
  color: var(--text-faint);
  font-style: italic;
}


/* ============================================================================
   Table Styles
   ============================================================================ */
.learning-system-table {
  width: 100%;
  border-collapse: collapse;
  margin: 8px 0;
  font-size: 13px;
}

.learning-system-table th,
.learning-system-table td {
  line-height: 1.4;
  height: 22px;        
  padding: 2px 4px;
  text-align: left;
   vertical-align: middle;
  border: 1px solid var(--background-modifier-border);
}

.learning-system-table th {
  background: var(--background-secondary);
  font-weight: 400;
  color: var(--text-normal);
}

.learning-system-table td {
  color: var(--text-normal);
}

.learning-system-table tr:hover td {
  background: var(--background-modifier-hover);
}

/* \u2190 \u65B0\u589E:\u88AB\u6316\u7A7A\u7684\u5355\u5143\u683C\u80CC\u666F\u8272(\u663E\u793A\u7B54\u6848\u524D) */
.learning-system-table td:has(.cloze-blank),
.learning-system-table th:has(.cloze-blank) {
  background-color: rgba(80, 126, 91, 0.1);
}
.learning-system-table th.has-cloze {
  background-color: rgba(40, 167, 69, 0.15) !important;
  border-left: 2px solid rgba(40, 167, 69, 0.6);
}
/* \u2190 \u65B0\u589E:\u88AB\u6316\u7A7A\u7684\u5355\u5143\u683C\u80CC\u666F\u8272(\u663E\u793A\u7B54\u6848\u540E,\u5DF2\u63ED\u793A) */
.learning-system-table td:has(span.revealed),
.learning-system-table th:has(span.revealed)
{
  background-color: rgba(70, 113, 80, 0.15);
  border-left: 2px solid rgba(40, 167, 69, 0.5);
}

/* User Answer Table - Cell correctness background */
.user-answer-table td.cell-correct {
  background-color: rgba(76, 125, 85, 0.15);
}

/* \u9884\u89C8\u7B54\u6848\u7684\u6837\u5F0F */
.preview-answer {

  color: #4a9eff;
  padding: 2px 6px;
  border-radius: 3px;
  font-weight: 500;
}

.preview-table .cloze-blank {
  color: #666;
  padding: 2px 8px;
  border-radius: 3px;
}

/* \u5361\u7247\u4E2D\u8868\u683C\u7684\u5B8C\u5F62\u586B\u7A7A\u9AD8\u4EAE - \u6A59\u8272 */
.learning-system-table .card-cloze-highlight {
  background-color: rgba(255, 140, 0, 0.25);
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 500;
}
`;
  }
};
reviewStyle.styleId = "learning-review-styles";
reviewStyle.isInjected = false;

// src/i18n/translations.ts
var translations = {
  en: {
    // View titles
    "view.overview": "Learning Overview",
    "view.review": "Review",
    "view.stats": "Statistics",
    // Toolbar
    "toolbar.search": "Search...",
    "toolbar.filter.all": "All",
    "toolbar.filter.annotated": "Annotated",
    "toolbar.filter.flashcards": "Flashcards",
    "toolbar.group.file": "By File",
    "toolbar.group.annotation": "By Annotation",
    "toolbar.group.tag": "By Tag",
    "toolbar.group.date": "By Date",
    "toolbar.checkReview": "Check Review",
    // Batch actions
    "batch.selectAll": "Select All",
    "batch.create": "Create Flashcards",
    "batch.delete": "Delete",
    "batch.cancel": "Cancel",
    // Fixed entries
    "entry.allNotes": "All Notes",
    "entry.cardList": "Card List",
    // Level names
    "level.1": "Collector",
    "level.2": "Thinker",
    "level.3": "Memorizer",
    "level.4": "Trainer",
    "level.5": "Analyst",
    "level.current": "Current Level",
    "level.clickDetails": "Click for details",
    // Review reminder
    "review.today": "Today's Review",
    "review.start": "Start Review",
    "review.justDue": "\u23F0 Just due, review while hot",
    "review.delayed": "\u26A0\uFE0F Review delayed {hours} hours",
    "review.urgentHours": "\u26A0\uFE0F Review delayed {hours} hours, recommend priority",
    "review.urgentDays": "\u{1F6A8} Review delayed {days} days, clear ASAP!",
    "review.streak": "\u{1F525} Day {days} streak!",
    // Notices
    "notice.noSelection": "\u26A0\uFE0F No items selected",
    "notice.noDueCards": "No cards due for review!",
    "notice.deleted": "\u{1F5D1}\uFE0F Deleted",
    "notice.saved": "\u2705 Saved",
    // Commands
    "command.scanFile": "Scan current file for content",
    "command.scanVault": "Scan entire vault",
    "command.openOverview": "Open Learning Overview(Sidebar)",
    "command.openMainOverview": "Toggle Learning Overview (Main View)",
    "command.addAnnotation": "Add file annotation",
    "command.startReview": "Start flashcard review",
    "command.showStats": "Show flashcard statistics",
    // Ribbons
    "ribbon.overview": "Open Learning Overview(Sidebar)",
    "ribbon.review": "Start Review",
    // Context menu
    "menu.jumpToSource": "Jump to Source",
    "menu.toggleAnnotation": "Toggle Annotation",
    "menu.editFlashcard": "Edit Flashcard",
    "menu.quickGenerate": "Quick Generate",
    "menu.createQA": "Create Q&A",
    "menu.createCloze": "Create Cloze",
    "menu.viewStats": "View Stats",
    "menu.delete": "Delete",
    // Status bar
    "status.due": "{count} due",
    "status.tooltip": "{due} cards due for review\n{new} new cards",
    // Misc
    "empty.noContent": "No content yet",
    "empty.noDocuments": "No documents",
    "fileList.title": "\u{1F4C1} Documents",
    "notice.fileNotFound": "\u274C Source file not found",
    "notice.jumpedToSource": "\u2705 Jumped to source",
    "notice.jumpFailed": "\u274C Jump failed",
    "notice.flashcardNotFound": "\u26A0\uFE0F Flashcard not found",
    "notice.alreadyHasFlashcards": "\u26A0\uFE0F Selected notes already have flashcards",
    "notice.batchDeleted": "\u2705 Deleted {success} items",
    "confirm.deleteNote": "Delete this note?",
    "confirm.deleteFlashcard": "Delete this flashcard?",
    "confirm.batchDeleteNotes": "Delete {count} selected notes?",
    "confirm.batchDeleteFlashcards": "Delete {count} selected flashcards?",
    "toolbar.checkReview.tooltip": "Check if there are cards to review",
    "batch.deselectAll": "Deselect All",
    "batch.deselectAll.tooltip": "Deselect all items on current page",
    "batch.selectAll.tooltip": "Select all {count} items",
    "batch.noItems": "No items to select",
    "batch.selectAnnotationFirst": 'Please select "Annotated" or "Not Annotated" first',
    "batch.create.tooltip": "Batch create flashcards",
    "batch.delete.tooltip": "Batch delete",
    "batch.cancel.tooltip": "Exit batch mode and clear all selections",
    // review
    "confirm.resetCardStats": "Are you sure you want to reset this card's learning progress?",
    "confirm.resetDeckStats": 'Are you sure you want to reset all learning progress for deck "{deck}"?',
    "notice.deckStatsReset": '\u2705 Deck "{deck}" statistics reset',
    "notice.flashcardDeleted": "\u{1F5D1}\uFE0F Flashcard deleted",
    "notice.deleteFlashcardFailed": "\u274C Failed to delete flashcard",
    "notice.flashcardUpdated": "\u2705 Flashcard updated",
    "notice.updateFlashcardFailed": "\u274C Failed to update flashcard",
    "notice.cardStatsReset": "\u2705 Card statistics reset",
    "notice.resetStatsFailed": "\u274C Failed to reset statistics",
    // sidebar
    "review.todayProgress": "Today's Review: {reviewed} / {total}",
    "review.delayedHoursShort": "\u26A0\uFE0F Review delayed {hours} hours, good time to handle",
    "group.uncategorized": "Uncategorized",
    // component/modal/batch
    "batchCreate.title": "\u26A1 Batch Create Flashcards",
    "batchCreate.description": "Create flashcards for {count} notes without cards",
    "batchCreate.cardType": "Card Type",
    "batchCreate.smartType": "\u26A1 Smart Recognition",
    "batchCreate.smartType.desc": "Automatically choose the best type",
    "batchCreate.qaType": "\u{1F4DD} Q&A Card",
    "batchCreate.qaType.desc": "Question and answer format",
    "batchCreate.clozeType": "\u270F\uFE0F Cloze Card",
    "batchCreate.clozeType.desc": "Fill in the blank",
    "batchCreate.cancel": "Cancel",
    "batchCreate.createButton": "Create {count} cards",
    "batchCreate.successNotice": "\u2705 Created {success} flashcards!{failed, plural, =0 {} other { ({failed} failed)}}",
    // component/modal/EditFlashcardModal
    "editCard.title": "\u270F\uFE0F Edit Flashcard",
    "editCard.description.qa": "Edit Q&A card content",
    "editCard.description.cloze": "Edit Cloze card content",
    "editCard.info.file": "\u{1F4C1} File",
    "editCard.info.deck": "\u{1F4DA} Deck",
    "editCard.info.reviews": "\u{1F4CA} Reviews",
    "editCard.info.correct": "Correct",
    "editCard.front.qa": "Question (Front)",
    "editCard.front.cloze": "Full Text",
    "editCard.front.desc": "Content shown on card front",
    "editCard.back.qa": "Answer (Back)",
    "editCard.back.cloze": "Cloze Answers",
    "editCard.back.desc.qa": "Answer shown on card back",
    "editCard.back.desc.cloze": "Separate multiple answers with commas",
    "editCard.cancel": "Cancel",
    "editCard.save": "Save",
    "editCard.error.emptyFront": "\u26A0\uFE0F Question/Text cannot be empty",
    "editCard.error.emptyBack": "\u26A0\uFE0F Answer cannot be empty",
    "editCard.success": "\u2705 Flashcard updated",
    "editCard.saveFailed": "\u274C Save failed",
    // component/modal/FlashcardEditModal
    "flashcardEdit.title": "Edit Flashcard",
    "flashcardEdit.question": "Question",
    "flashcardEdit.answer": "Answer",
    "flashcardEdit.save": "Save",
    // component/modal/ManualFlashcardModal.ts
    "manualCard.title.qa": "\u270F\uFE0F Create Q&A Flashcard",
    "manualCard.title.cloze": "\u270F\uFE0F Create Cloze Flashcard",
    "manualCard.description.qa": "Create a Q&A card with custom question and answer",
    "manualCard.description.cloze": "Create a cloze card by marking content to be hidden in full text",
    "manualCard.front.qa": "Question (Front)",
    "manualCard.front.cloze": "Full Text",
    "manualCard.front.desc.qa": "Question displayed on card front",
    "manualCard.front.desc.cloze": "Complete sentence or paragraph containing the answer",
    "manualCard.front.placeholder.qa": "e.g., What is spaced repetition?",
    "manualCard.front.placeholder.cloze": "e.g., Spaced repetition is a learning technique",
    "manualCard.back.qa": "Answer (Back)",
    "manualCard.back.cloze": "Cloze Content",
    "manualCard.back.desc.qa": "Answer displayed on card back",
    "manualCard.back.desc.cloze": "Keyword or phrase to be hidden",
    "manualCard.back.placeholder.qa": "e.g., Spaced repetition is a learning technique...",
    "manualCard.back.placeholder.cloze": "e.g., spaced repetition",
    "manualCard.cancel": "Cancel",
    "manualCard.create": "Create Flashcard",
    "manualCard.error.emptyFront": "\u26A0\uFE0F Question/Text cannot be empty",
    "manualCard.error.emptyBack": "\u26A0\uFE0F Answer cannot be empty",
    "manualCard.success.qa": "\u2705 Q&A flashcard created",
    "manualCard.success.cloze": "\u2705 Cloze flashcard created",
    "manualCard.createFailed": "\u274C Failed to create flashcard",
    // src/ui/components/ContentList.ts 
    "contentList.group.annotated": "Annotated",
    "contentList.group.notAnnotated": "Not Annotated",
    "contentList.empty.noFlashcards": "\u{1F4ED} No flashcards in this group",
    "contentList.empty.noNotes": "No notes in current document",
    "contentList.empty.tryFilter": "Try switching filters to view",
    "contentList.empty.startHighlight": "Start highlighting text to create notes",
    "contentList.empty.noContent": "No content yet",
    // src/ui/components/ContextMenuBuilder.ts
    "contextMenu.jumpToSource": "\u{1F4D6} Jump to Source",
    "contextMenu.editAnnotation": "\u{1F4AC} Edit Annotation",
    "contextMenu.editFlashcard": "\u270F\uFE0F Edit Flashcard",
    "contextMenu.generateFlashcard": "\u26A1 Generate Flashcard",
    "contextMenu.createQA": "\u2795 Create Q&A Card",
    "contextMenu.createCloze": "\u2795 Create Cloze Card",
    "contextMenu.viewStats": "\u{1F4CA} View Stats",
    "contextMenu.deleteNote": "\u{1F5D1}\uFE0F Delete Note",
    "contextMenu.editCard": "\u270F\uFE0F Edit Card",
    "contextMenu.deleteCard": "\u{1F5D1}\uFE0F Delete Card",
    "stats.title": "\u{1F4CA} Flashcard Statistics",
    "stats.file": "\u{1F4C1} File",
    "stats.type": "\u{1F0CF} Type",
    "stats.type.qa": "Q&A",
    "stats.type.cloze": "Cloze",
    "stats.deck": "\u{1F4DA} Deck",
    "stats.tags": "\u{1F3F7}\uFE0F Tags",
    "stats.tags.none": "None",
    "stats.reviewCount": "\u{1F4C8} Review Count",
    "stats.correctCount": "\u2705 Correct Count",
    "stats.accuracy": "\u{1F4CA} Accuracy",
    "stats.averageTime": "\u23F1\uFE0F Average Time",
    "stats.difficulty": "\u{1F3AF} Difficulty",
    "stats.createdAt": "\u{1F4C5} Created",
    "stats.lastReview": "\u{1F504} Last Review",
    "stats.lastReview.never": "Never",
    "stats.nextReview": "\u23F0 Next Review",
    "stats.interval": "\u{1F4CF} Interval",
    "stats.ease": "\u{1F4AA} Ease",
    "stats.separator": "\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",
    "stats.times": "times",
    "stats.seconds": "s",
    "stats.days": "days",
    // src/ui/services/OverviewService.ts
    "service.fileNotExist": "\u26A0\uFE0F File does not exist",
    "service.annotationDeleted": "\u{1F5D1}\uFE0F Annotation deleted",
    "service.flashcardGenerated": "\u26A1 Flashcard generated",
    "service.generateFailed": "\u274C Failed to generate flashcard",
    "service.flashcardNotFound": "\u26A0\uFE0F Flashcard not found",
    "service.sourceFileOpened": "\u2705 Source file opened",
    "service.noteNotFound": "\u26A0\uFE0F Original note not found",
    // 最近删除
    "confirm.deleteWillRemove": "This will remove:",
    "confirm.note": "note",
    "confirm.notes": "notes",
    "confirm.flashcards": "flashcards",
    "confirm.annotation": "annotation",
    "confirm.cannotUndo": "\u26A0\uFE0F This action cannot be undone!",
    "notice.fileDeleted": '\u{1F4C4} File "{file}" has been deleted',
    "notice.autoCleanup": "Auto-cleaning associated content:",
    "recentDelete.title": "\u{1F5D1}\uFE0F Recently Deleted (Last 7 Days)",
    "recentDelete.empty": "No recently deleted items",
    "recentDelete.restore": "Restore",
    "recentDelete.deletePermanently": "Delete Permanently",
    "notice.movedToTrash": "\u{1F5D1}\uFE0F Moved to trash (recoverable within 7 days)",
    "notice.batchMovedToTrash": "\u2705 Moved {success} items to trash{failed, plural, =0 {} other {, {failed} failed}}",
    "notice.fileDeletedSimple": "\u{1F4C4} File deleted: {notes} notes and {cards} cards moved to trash",
    "notice.noteRestored": "\u2705 Note restored",
    "notice.cardRestored": "\u2705 Flashcard restored",
    "notice.cardsRestored": "\u2705 Restored {count} flashcards",
    "notice.restoreFailed": "\u274C Restore failed",
    "notice.permanentlyDeleted": "\u2705 Permanently deleted",
    "notice.deleteFailed": "\u274C Delete failed",
    "notice.allDeleted": "\u2705 Cleared {notes} notes and {cards} flashcards from trash",
    "recentDelete.clearAll": "\u{1F5D1}\uFE0F Clear All",
    "recentDelete.emptyHint": "Deleted items will be kept for 7 days",
    "confirm.clearAllDeleted": "Permanently delete all items in trash? This cannot be undone!",
    "confirm.restoreAssociatedCards": "Restore {count} associated flashcards?",
    "deleteReason.user": "Manual deletion",
    "deleteReason.note": "Note deleted",
    "deleteReason.file": "File deleted",
    "time.justNow": "Just now",
    "time.minutesAgo": "{minutes}m ago",
    "time.hoursAgo": "{hours}h ago",
    "time.daysAgo": "{days}d ago",
    // delete confirm
    "confirm.deleteItems": "Confirm deletion?",
    "confirm.notesCount": "{count} notes",
    "confirm.cardsCount": "{count} flashcards",
    // quick flashcard  creator
    "quickCard.created.qa": "\u2705 Flashcard created! (Q&A)",
    "quickCard.created.cloze": "\u2705 Flashcard created! (Cloze with {count} blanks)",
    "quickCard.createFailed": "\u274C Failed to create flashcard",
    "quickCard.noKeywords": "\u26A0\uFE0F No keywords found for cloze deletion",
    "quickCard.noDeletions": "\u26A0\uFE0F Could not create cloze deletions",
    "quickCard.question.default.heading": 'What is the key point about "{heading}"?',
    "quickCard.question.default.short": 'What does "{content}" mean?',
    "quickCard.question.default.medium": 'Explain: "{content}"',
    "quickCard.question.default.long": "What are the key points in this content?",
    // UnlockSystem - Level Names
    "unlock.level.1": "Collector",
    "unlock.level.2": "Thinker",
    "unlock.level.3": "Memorizer",
    "unlock.level.4": "Trainer",
    "unlock.level.5": "Analyst",
    // Level Up Messages
    "unlock.levelUp.1": "\u{1F389} level.1 Welcome, Collector!",
    "unlock.levelUp.2": "\u{1F393} level.2 Upgraded to Thinker!\nUnlocked: Annotations, Batch Operations",
    "unlock.levelUp.3": "\u{1F9E0} level.3 You are now a Memorizer!\nUnlocked: Scan Features, Review System",
    "unlock.levelUp.4": "\u{1F4AA} level.4 Promoted to Trainer!\nUnlocked: Statistics & Analysis",
    "unlock.levelUp.5": "\u{1F3C6} level.5 Achieved Analyst!\nAll features unlocked",
    // Next Steps
    "unlock.nextSteps.level1": "\u{1F4E6} Extract Notes:\n  \u2022 As Text: {text}/3\n  \u2022 As Q&A: {qa}/3\n  \u2022 As Cloze: {cloze}/3",
    "unlock.nextSteps.level2": "\u{1F4DD} Complete Annotations: {annotations}/3\n\u{1F4CB} Scan Notes: {scanned}/5",
    "unlock.nextSteps.level3": "\u{1F504} Review Cards: {reviewed}/30\n\u{1F4CB} Scan Tables: {tables}/2",
    "unlock.nextSteps.level4": "\u{1F504} Review Cards: {reviewed}/70\n\u{1F4C5} Total Days: {total}/21\n\u{1F4CA} Visit Stats Page: {visited}",
    "unlock.nextSteps.level5": '\u{1F389} Congratulations! All features unlocked!\n\n\u{1F52E} Community feature coming soon\nWill be enabled when conditions are met\n\u{1F517} <a href="https://jz-quartz.pages.dev/6.about/%E6%99%BA%E5%9B%8A%E5%9B%A2" target="_blank">Learn More (Click to View)</a>',
    // Modal
    "unlock.modal.title": "\u{1F512} Feature Locked",
    "unlock.modal.requireLevel": '"{feature}" requires Lv{level} to unlock',
    "unlock.modal.currentProgress": "Current Progress:",
    // Level Info Modal
    "unlock.levelInfo.title": "\u{1F3C6} Lv{level} {name}",
    "unlock.levelInfo.cumulativeStats": "Cumulative Statistics",
    "unlock.levelInfo.milestones": "\u{1F3AF} Achievement Milestones",
    // Stats Labels
    "unlock.stat.cardsExtracted": "Cards Extracted",
    "unlock.stat.annotationsCompleted": "Annotations Added",
    "unlock.stat.cardsReviewed": "Cards Reviewed",
    "unlock.stat.tablesScanned": "Tables Scanned",
    "unlock.stat.consecutiveDays": "Consecutive Days",
    "unlock.stat.totalDays": "Total Days",
    // Progress Indicators
    "unlock.progress.cardsExtracted": "\u{1F4E6} Extract Cards",
    "unlock.progress.annotationsCompleted": "\u{1F4DD} Complete Annotations",
    "unlock.progress.cardsReviewed": "\u{1F504} Review Cards",
    "unlock.progress.tablesScanned": "\u{1F4CB} Scan Tables",
    "unlock.progress.consecutiveDays": "\u{1F525} Consecutive Days",
    "unlock.progress.totalDays": "\u{1F4C8} Total Days",
    "unlock.progress.statsPageVisited": "\u{1F4CA} Visit Stats Page",
    "unlock.community.locked": "Community feature locked",
    "unlock.community.link": "Learn about Community",
    "filter.unannotated": "No Annotation",
    // unlock refactor
    "unlock.stat.notesExtractedAsText": "Notes as Text",
    "unlock.stat.notesExtractedAsQA": "Notes as Q&A",
    "unlock.stat.notesExtractedAsCloze": "Notes as Cloze",
    "unlock.stat.notesScanned": "Notes Scanned"
  },
  "zh-CN": {
    // View titles
    "view.overview": "\u5B66\u4E60\u6982\u89C8",
    "view.review": "\u590D\u4E60",
    "view.stats": "\u7EDF\u8BA1",
    // Toolbar
    "toolbar.search": "\u641C\u7D22...",
    "toolbar.filter.all": "\u5168\u90E8",
    "toolbar.filter.annotated": "\u6709\u6279\u6CE8",
    "toolbar.filter.flashcards": "\u6709\u95EA\u5361",
    "toolbar.group.file": "\u6309\u6587\u4EF6",
    "toolbar.group.annotation": "\u6309\u6279\u6CE8",
    "toolbar.group.tag": "\u6309\u6807\u7B7E",
    "toolbar.group.date": "\u6309\u65E5\u671F",
    "toolbar.checkReview": "\u68C0\u67E5\u590D\u4E60",
    // Batch actions
    "batch.selectAll": "\u5168\u9009",
    "batch.create": "\u521B\u5EFA\u95EA\u5361",
    "batch.delete": "\u5220\u9664",
    "batch.cancel": "\u53D6\u6D88",
    // Fixed entries
    "entry.allNotes": "\u5168\u90E8\u7B14\u8BB0",
    "entry.cardList": "\u95EA\u5361\u5217\u8868",
    // Level names
    "level.1": "\u91C7\u96C6\u8005",
    "level.2": "\u601D\u8003\u8005",
    "level.3": "\u8BB0\u5FC6\u5E08",
    "level.4": "\u8BAD\u7EC3\u8005",
    "level.5": "\u5206\u6790\u5E08",
    "level.current": "\u5F53\u524D\u7B49\u7EA7",
    "level.clickDetails": "\u70B9\u51FB\u67E5\u770B\u8BE6\u60C5",
    // Review reminder
    "review.today": "\u4ECA\u65E5\u590D\u4E60",
    "review.start": "\u5F00\u59CB\u590D\u4E60",
    "review.justDue": "\u23F0 \u521A\u521A\u5230\u671F,\u8D81\u70ED\u590D\u4E60",
    "review.delayed": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6",
    "review.urgentHours": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6,\u5EFA\u8BAE\u4F18\u5148\u5B8C\u6210",
    "review.urgentDays": "\u{1F6A8} \u590D\u4E60\u5DF2\u5EF6\u540E {days} \u5929,\u5EFA\u8BAE\u5C3D\u5FEB\u6E05\u7A7A!",
    "review.streak": "\u{1F525} \u8FDE\u7EED\u590D\u4E60\u7B2C {days} \u5929!",
    // Notices
    "notice.noSelection": "\u26A0\uFE0F \u8BF7\u5148\u9009\u62E9\u9879\u76EE",
    "notice.noDueCards": "\u6682\u65E0\u9700\u8981\u590D\u4E60\u7684\u5361\u7247!",
    "notice.deleted": "\u{1F5D1}\uFE0F \u5DF2\u5220\u9664",
    "notice.saved": "\u2705 \u5DF2\u4FDD\u5B58",
    // Commands
    "command.scanFile": "\u626B\u63CF\u5F53\u524D\u6587\u4EF6",
    "command.scanVault": "\u626B\u63CF\u6574\u4E2A\u4ED3\u5E93",
    "command.openOverview": "\u6253\u5F00\u5B66\u4E60\u6982\u89C8(\u4FA7\u8FB9\u680F)",
    "command.openMainOverview": "\u5207\u6362\u5B66\u4E60\u6982\u89C8(\u4E3B\u89C6\u56FE)",
    "command.addAnnotation": "\u6DFB\u52A0\u6587\u4EF6\u6279\u6CE8",
    "command.startReview": "\u5F00\u59CB\u95EA\u5361\u590D\u4E60",
    "command.showStats": "\u663E\u793A\u95EA\u5361\u7EDF\u8BA1",
    // Ribbons
    "ribbon.overview": "\u6253\u5F00\u5B66\u4E60\u6982\u89C8(\u4FA7\u8FB9\u680F)",
    "ribbon.review": "\u5F00\u59CB\u590D\u4E60",
    // Context menu
    "menu.jumpToSource": "\u8DF3\u8F6C\u5230\u6E90",
    "menu.toggleAnnotation": "\u5207\u6362\u6279\u6CE8",
    "menu.editFlashcard": "\u7F16\u8F91\u95EA\u5361",
    "menu.quickGenerate": "\u5FEB\u901F\u751F\u6210",
    "menu.createQA": "\u521B\u5EFA\u95EE\u7B54",
    "menu.createCloze": "\u521B\u5EFA\u586B\u7A7A",
    "menu.viewStats": "\u67E5\u770B\u7EDF\u8BA1",
    "menu.delete": "\u5220\u9664",
    // Status bar
    "status.due": "{count} \u5F20\u5F85\u590D\u4E60",
    "status.tooltip": "{due} \u5F20\u5361\u7247\u5F85\u590D\u4E60\n{new} \u5F20\u65B0\u5361\u7247",
    // Misc
    "empty.noContent": "\u6682\u65E0\u5185\u5BB9",
    "empty.noDocuments": "\u6682\u65E0\u6587\u6863",
    "fileList.title": "\u{1F4C1} \u6587\u6863\u5217\u8868",
    "notice.fileNotFound": "\u274C \u6E90\u6587\u4EF6\u4E0D\u5B58\u5728",
    "notice.jumpedToSource": "\u2705 \u5DF2\u8DF3\u8F6C\u5230\u6E90\u6587\u4EF6",
    "notice.jumpFailed": "\u274C \u8DF3\u8F6C\u5931\u8D25",
    "notice.flashcardNotFound": "\u26A0\uFE0F \u627E\u4E0D\u5230\u5BF9\u5E94\u7684\u95EA\u5361",
    "notice.alreadyHasFlashcards": "\u26A0\uFE0F \u9009\u4E2D\u7684\u7B14\u8BB0\u90FD\u5DF2\u521B\u5EFA\u8FC7\u95EA\u5361",
    "notice.batchDeleted": "\u2705 \u5DF2\u5220\u9664 {success} \u9879{failed, plural, =0 {} other {\uFF0C{failed} \u9879\u5931\u8D25}}",
    "confirm.deleteNote": "\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u7B14\u8BB0\u5417\uFF1F",
    "confirm.deleteFlashcard": "\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u5F20\u95EA\u5361\u5417\uFF1F",
    "confirm.batchDeleteNotes": "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 {count} \u6761\u7B14\u8BB0\u5417\uFF1F",
    "confirm.batchDeleteFlashcards": "\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 {count} \u5F20\u95EA\u5361\u5417\uFF1F",
    "toolbar.checkReview.tooltip": "\u68C0\u67E5\u662F\u5426\u6709\u9700\u8981\u590D\u4E60\u7684\u5361\u7247",
    "batch.deselectAll": "\u53D6\u6D88\u5168\u9009",
    "batch.deselectAll.tooltip": "\u53D6\u6D88\u5F53\u524D\u9875\u9762\u7684\u5168\u9009",
    "batch.selectAll.tooltip": "\u5168\u9009\u5F53\u524D {count} \u9879",
    "batch.noItems": "\u6CA1\u6709\u53EF\u9009\u9879",
    "batch.selectAnnotationFirst": '\u8BF7\u5148\u9009\u62E9"\u6709\u6279\u6CE8"\u6216"\u65E0\u6279\u6CE8"',
    "batch.create.tooltip": "\u6279\u91CF\u5236\u5361",
    "batch.delete.tooltip": "\u6279\u91CF\u5220\u9664",
    "batch.cancel.tooltip": "\u9000\u51FA\u6279\u91CF\u6A21\u5F0F\u5E76\u6E05\u7A7A\u6240\u6709\u9009\u62E9",
    //review 
    "confirm.resetCardStats": "\u786E\u5B9A\u8981\u91CD\u7F6E\u8FD9\u5F20\u5361\u7247\u7684\u5B66\u4E60\u8FDB\u5EA6\u5417\uFF1F",
    "confirm.resetDeckStats": '\u786E\u5B9A\u8981\u91CD\u7F6E\u5361\u7EC4"{deck}"\u7684\u6240\u6709\u5B66\u4E60\u8FDB\u5EA6\u5417\uFF1F',
    "notice.deckStatsReset": '\u2705 \u5361\u7EC4"{deck}"\u7684\u7EDF\u8BA1\u5DF2\u91CD\u7F6E',
    "notice.flashcardDeleted": "\u{1F5D1}\uFE0F \u95EA\u5361\u5DF2\u5220\u9664",
    "notice.deleteFlashcardFailed": "\u274C \u5220\u9664\u95EA\u5361\u5931\u8D25",
    "notice.flashcardUpdated": "\u2705 \u95EA\u5361\u5DF2\u66F4\u65B0",
    "notice.updateFlashcardFailed": "\u274C \u66F4\u65B0\u95EA\u5361\u5931\u8D25",
    "notice.cardStatsReset": "\u2705 \u5361\u7247\u7EDF\u8BA1\u5DF2\u91CD\u7F6E",
    "notice.resetStatsFailed": "\u274C \u91CD\u7F6E\u7EDF\u8BA1\u5931\u8D25",
    // sidebar
    "review.todayProgress": "\u4ECA\u65E5\u590D\u4E60: {reviewed} / {total}",
    "review.delayedHoursShort": "\u26A0\uFE0F \u590D\u4E60\u5DF2\u5EF6\u540E {hours} \u5C0F\u65F6\uFF0C\u73B0\u5728\u5904\u7406\u521A\u597D",
    "group.uncategorized": "\u672A\u5206\u7C7B",
    // component/modal/batch
    "batchCreate.title": "\u26A1 \u6279\u91CF\u521B\u5EFA\u95EA\u5361",
    "batchCreate.description": "\u4E3A {count} \u6761\u672A\u521B\u5EFA\u95EA\u5361\u7684\u7B14\u8BB0\u521B\u5EFA\u95EA\u5361",
    "batchCreate.cardType": "\u5361\u7247\u7C7B\u578B",
    "batchCreate.smartType": "\u26A1 \u667A\u80FD\u8BC6\u522B",
    "batchCreate.smartType.desc": "\u81EA\u52A8\u9009\u62E9\u6700\u5408\u9002\u7684\u7C7B\u578B",
    "batchCreate.qaType": "\u{1F4DD} \u95EE\u7B54\u5361\u7247",
    "batchCreate.qaType.desc": "\u95EE\u9898\u548C\u7B54\u6848\u683C\u5F0F",
    "batchCreate.clozeType": "\u270F\uFE0F \u586B\u7A7A\u5361\u7247",
    "batchCreate.clozeType.desc": "\u6316\u7A7A\u586B\u7A7A",
    "batchCreate.cancel": "\u53D6\u6D88",
    "batchCreate.createButton": "\u521B\u5EFA {count} \u5F20\u5361\u7247",
    "batchCreate.successNotice": "\u2705 \u5DF2\u521B\u5EFA {success} \u5F20\u95EA\u5361\uFF01{failed, plural, =0 {} other { ({failed} \u9879\u5931\u8D25)}}",
    // component/modal/EditFlashcardModal
    "editCard.title": "\u270F\uFE0F \u7F16\u8F91\u95EA\u5361",
    "editCard.description.qa": "\u7F16\u8F91 Q&A \u5361\u7247\u5185\u5BB9",
    "editCard.description.cloze": "\u7F16\u8F91\u586B\u7A7A\u5361\u7247\u5185\u5BB9",
    "editCard.info.file": "\u{1F4C1} \u6587\u4EF6",
    "editCard.info.deck": "\u{1F4DA} \u5361\u7EC4",
    "editCard.info.reviews": "\u{1F4CA} \u590D\u4E60",
    "editCard.info.correct": "\u6B63\u786E",
    "editCard.front.qa": "\u95EE\u9898 (Front)",
    "editCard.front.cloze": "\u5B8C\u6574\u6587\u672C",
    "editCard.front.desc": "\u5361\u7247\u6B63\u9762\u663E\u793A\u7684\u5185\u5BB9",
    "editCard.back.qa": "\u7B54\u6848 (Back)",
    "editCard.back.cloze": "\u6316\u7A7A\u7B54\u6848",
    "editCard.back.desc.qa": "\u5361\u7247\u80CC\u9762\u663E\u793A\u7684\u7B54\u6848",
    "editCard.back.desc.cloze": "\u591A\u4E2A\u7B54\u6848\u7528\u9017\u53F7\u5206\u9694",
    "editCard.cancel": "\u53D6\u6D88",
    "editCard.save": "\u4FDD\u5B58",
    "editCard.error.emptyFront": "\u26A0\uFE0F \u95EE\u9898/\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A",
    "editCard.error.emptyBack": "\u26A0\uFE0F \u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A",
    "editCard.success": "\u2705 \u95EA\u5361\u5DF2\u66F4\u65B0",
    "editCard.saveFailed": "\u274C \u4FDD\u5B58\u5931\u8D25",
    // component/modal/FlashcardEditModal
    "flashcardEdit.title": "\u7F16\u8F91\u95EA\u5361",
    "flashcardEdit.question": "\u95EE\u9898",
    "flashcardEdit.answer": "\u7B54\u6848",
    "flashcardEdit.save": "\u4FDD\u5B58",
    // component/modal/ManualFlashcardModal.ts
    "manualCard.title.qa": "\u270F\uFE0F \u521B\u5EFA QA \u95EA\u5361",
    "manualCard.title.cloze": "\u270F\uFE0F \u521B\u5EFA\u586B\u7A7A\u95EA\u5361",
    "manualCard.description.qa": "\u521B\u5EFA\u4E00\u5F20\u95EE\u7B54\u5361\u7247\uFF0C\u53EF\u4EE5\u81EA\u5B9A\u4E49\u95EE\u9898\u548C\u7B54\u6848",
    "manualCard.description.cloze": "\u521B\u5EFA\u4E00\u5F20\u586B\u7A7A\u5361\u7247\uFF0C\u5728\u5B8C\u6574\u6587\u672C\u4E2D\u6807\u8BB0\u8981\u6316\u7A7A\u7684\u5185\u5BB9",
    "manualCard.front.qa": "\u95EE\u9898 (Front)",
    "manualCard.front.cloze": "\u5B8C\u6574\u6587\u672C",
    "manualCard.front.desc.qa": "\u5361\u7247\u6B63\u9762\u663E\u793A\u7684\u95EE\u9898",
    "manualCard.front.desc.cloze": "\u5305\u542B\u7B54\u6848\u7684\u5B8C\u6574\u53E5\u5B50\u6216\u6BB5\u843D",
    "manualCard.front.placeholder.qa": "\u4F8B\u5982: \u4EC0\u4E48\u662F\u95F4\u9694\u91CD\u590D?",
    "manualCard.front.placeholder.cloze": "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D\u662F\u4E00\u79CD\u5B66\u4E60\u6280\u672F",
    "manualCard.back.qa": "\u7B54\u6848 (Back)",
    "manualCard.back.cloze": "\u6316\u7A7A\u5185\u5BB9",
    "manualCard.back.desc.qa": "\u5361\u7247\u80CC\u9762\u663E\u793A\u7684\u7B54\u6848",
    "manualCard.back.desc.cloze": "\u8981\u88AB\u6316\u7A7A\u7684\u5173\u952E\u8BCD\u6216\u77ED\u8BED",
    "manualCard.back.placeholder.qa": "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D\u662F\u4E00\u79CD\u5B66\u4E60\u6280\u672F...",
    "manualCard.back.placeholder.cloze": "\u4F8B\u5982: \u95F4\u9694\u91CD\u590D",
    "manualCard.cancel": "\u53D6\u6D88",
    "manualCard.create": "\u521B\u5EFA\u95EA\u5361",
    "manualCard.error.emptyFront": "\u26A0\uFE0F \u95EE\u9898/\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A",
    "manualCard.error.emptyBack": "\u26A0\uFE0F \u7B54\u6848\u4E0D\u80FD\u4E3A\u7A7A",
    "manualCard.success.qa": "\u2705 QA \u95EA\u5361\u5DF2\u521B\u5EFA",
    "manualCard.success.cloze": "\u2705 \u586B\u7A7A\u95EA\u5361\u5DF2\u521B\u5EFA",
    "manualCard.createFailed": "\u274C \u521B\u5EFA\u95EA\u5361\u5931\u8D25",
    // src/ui/components/ContentList.ts 
    "contentList.group.annotated": "\u6709\u6279\u6CE8",
    "contentList.group.notAnnotated": "\u65E0\u6279\u6CE8",
    "contentList.empty.noFlashcards": "\u{1F4ED} \u8BE5\u5206\u7EC4\u4E0B\u6682\u65E0\u95EA\u5361",
    "contentList.empty.noNotes": "\u5F53\u524D\u6587\u6863\u6682\u65E0\u7B14\u8BB0",
    "contentList.empty.tryFilter": "\u5C1D\u8BD5\u5207\u6362\u5176\u4ED6\u8FC7\u6EE4\u5668\u67E5\u770B",
    "contentList.empty.startHighlight": "\u5F00\u59CB\u9AD8\u4EAE\u6587\u672C\u6765\u521B\u5EFA\u7B14\u8BB0",
    "contentList.empty.noContent": "\u6682\u65E0\u5185\u5BB9",
    // src/ui/components/ContextMenuBuilder.ts
    "contextMenu.jumpToSource": "\u{1F4D6} \u8DF3\u8F6C\u5230\u539F\u6587",
    "contextMenu.editAnnotation": "\u{1F4AC} \u7F16\u8F91\u6279\u6CE8",
    "contextMenu.editFlashcard": "\u270F\uFE0F \u7F16\u8F91\u95EA\u5361",
    "contextMenu.generateFlashcard": "\u26A1 \u751F\u6210\u95EA\u5361",
    "contextMenu.createQA": "\u2795 \u521B\u5EFA QA \u95EA\u5361",
    "contextMenu.createCloze": "\u2795 \u521B\u5EFA\u586B\u7A7A\u95EA\u5361",
    "contextMenu.viewStats": "\u{1F4CA} \u67E5\u770B\u7EDF\u8BA1",
    "contextMenu.deleteNote": "\u{1F5D1}\uFE0F \u5220\u9664\u7B14\u8BB0",
    "contextMenu.editCard": "\u270F\uFE0F \u7F16\u8F91\u5361\u7247",
    "contextMenu.deleteCard": "\u{1F5D1}\uFE0F \u5220\u9664\u5361\u7247",
    "stats.title": "\u{1F4CA} \u95EA\u5361\u7EDF\u8BA1",
    "stats.file": "\u{1F4C1} \u6587\u4EF6",
    "stats.type": "\u{1F0CF} \u7C7B\u578B",
    "stats.type.qa": "Q&A",
    "stats.type.cloze": "\u586B\u7A7A",
    "stats.deck": "\u{1F4DA} \u5361\u7EC4",
    "stats.tags": "\u{1F3F7}\uFE0F \u6807\u7B7E",
    "stats.tags.none": "\u65E0",
    "stats.reviewCount": "\u{1F4C8} \u590D\u4E60\u6B21\u6570",
    "stats.correctCount": "\u2705 \u6B63\u786E\u6B21\u6570",
    "stats.accuracy": "\u{1F4CA} \u6B63\u786E\u7387",
    "stats.averageTime": "\u23F1\uFE0F \u5E73\u5747\u7528\u65F6",
    "stats.difficulty": "\u{1F3AF} \u96BE\u5EA6",
    "stats.createdAt": "\u{1F4C5} \u521B\u5EFA\u65F6\u95F4",
    "stats.lastReview": "\u{1F504} \u4E0A\u6B21\u590D\u4E60",
    "stats.lastReview.never": "\u672A\u590D\u4E60",
    "stats.nextReview": "\u23F0 \u4E0B\u6B21\u590D\u4E60",
    "stats.interval": "\u{1F4CF} \u95F4\u9694",
    "stats.ease": "\u{1F4AA} \u719F\u7EC3\u5EA6",
    "stats.separator": "\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",
    "stats.times": "\u6B21",
    "stats.seconds": "\u79D2",
    "stats.days": "\u5929",
    // src/ui/services/OverviewService.ts
    "service.fileNotExist": "\u26A0\uFE0F \u6587\u4EF6\u4E0D\u5B58\u5728",
    "service.annotationDeleted": "\u{1F5D1}\uFE0F \u6279\u6CE8\u5DF2\u5220\u9664",
    "service.flashcardGenerated": "\u26A1 \u95EA\u5361\u5DF2\u751F\u6210",
    "service.generateFailed": "\u274C \u751F\u6210\u95EA\u5361\u5931\u8D25",
    "service.flashcardNotFound": "\u26A0\uFE0F \u627E\u4E0D\u5230\u95EA\u5361",
    "service.sourceFileOpened": "\u2705 \u5DF2\u6253\u5F00\u6E90\u6587\u4EF6",
    "service.noteNotFound": "\u26A0\uFE0F \u627E\u4E0D\u5230\u539F\u59CB\u7B14\u8BB0",
    // 最近删除
    "confirm.deleteWillRemove": "\u6B64\u64CD\u4F5C\u5C06\u5220\u9664\uFF1A",
    "confirm.note": "\u6761\u7B14\u8BB0",
    "confirm.notes": "\u6761\u7B14\u8BB0",
    "confirm.flashcards": "\u5F20\u95EA\u5361",
    "confirm.annotation": "\u6761\u6279\u6CE8",
    "confirm.cannotUndo": "\u26A0\uFE0F \u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\uFF01",
    "notice.fileDeleted": '\u{1F4C4} \u6587\u4EF6 "{file}" \u5DF2\u88AB\u5220\u9664',
    "notice.autoCleanup": "\u81EA\u52A8\u6E05\u7406\u5173\u8054\u5185\u5BB9\uFF1A",
    "recentDelete.title": "\u{1F5D1}\uFE0F \u6700\u8FD1\u5220\u9664 (\u6700\u8FD17\u5929)",
    "recentDelete.empty": "\u6682\u65E0\u6700\u8FD1\u5220\u9664\u7684\u9879\u76EE",
    "recentDelete.restore": "\u6062\u590D",
    "recentDelete.deletePermanently": "\u6C38\u4E45\u5220\u9664",
    "notice.movedToTrash": "\u{1F5D1}\uFE0F \u5DF2\u79FB\u81F3\u56DE\u6536\u7AD9 (7\u5929\u5185\u53EF\u6062\u590D)",
    "notice.batchMovedToTrash": "\u2705 \u5DF2\u5C06 {success} \u9879\u79FB\u81F3\u56DE\u6536\u7AD9",
    "notice.fileDeletedSimple": "\u{1F4C4} \u6587\u4EF6\u5DF2\u5220\u9664\uFF1A{notes} \u6761\u7B14\u8BB0\u548C {cards} \u5F20\u95EA\u5361\u5DF2\u79FB\u81F3\u56DE\u6536\u7AD9",
    "notice.noteRestored": "\u2705 \u7B14\u8BB0\u5DF2\u6062\u590D",
    "notice.cardRestored": "\u2705 \u95EA\u5361\u5DF2\u6062\u590D",
    "notice.cardsRestored": "\u2705 \u5DF2\u6062\u590D {count} \u5F20\u95EA\u5361",
    "notice.restoreFailed": "\u274C \u6062\u590D\u5931\u8D25",
    "notice.permanentlyDeleted": "\u2705 \u5DF2\u6C38\u4E45\u5220\u9664",
    "notice.deleteFailed": "\u274C \u5220\u9664\u5931\u8D25",
    "notice.allDeleted": "\u2705 \u5DF2\u6E05\u7A7A {notes} \u6761\u7B14\u8BB0\u548C {cards} \u5F20\u95EA\u5361",
    "recentDelete.clearAll": "\u{1F5D1}\uFE0F \u4E00\u952E\u6E05\u7A7A",
    "recentDelete.emptyHint": "\u5220\u9664\u7684\u5185\u5BB9\u5C06\u4FDD\u75597\u5929",
    "confirm.clearAllDeleted": "\u786E\u5B9A\u8981\u6C38\u4E45\u5220\u9664\u56DE\u6536\u7AD9\u4E2D\u7684\u6240\u6709\u9879\u76EE\u5417\uFF1F\u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\uFF01",
    "confirm.restoreAssociatedCards": "\u662F\u5426\u6062\u590D {count} \u5F20\u5173\u8054\u7684\u95EA\u5361\uFF1F",
    "deleteReason.user": "\u624B\u52A8\u5220\u9664",
    "deleteReason.note": "\u7B14\u8BB0\u5220\u9664",
    "deleteReason.file": "\u6587\u4EF6\u5220\u9664",
    "time.justNow": "\u521A\u521A",
    "time.minutesAgo": "{minutes}\u5206\u949F\u524D",
    "time.hoursAgo": "{hours}\u5C0F\u65F6\u524D",
    "time.daysAgo": "{days}\u5929\u524D",
    // delete confirm
    "confirm.deleteItems": "\u786E\u8BA4\u5220\u9664\uFF1F",
    "confirm.notesCount": "{count} \u6761\u7B14\u8BB0",
    "confirm.cardsCount": "{count} \u5F20\u95EA\u5361",
    // quick flashcard  creator
    "quickCard.created.qa": "\u2705 \u95EA\u5361\u5DF2\u521B\u5EFA\uFF01(\u95EE\u7B54\u5361)",
    "quickCard.created.cloze": "\u2705 \u95EA\u5361\u5DF2\u521B\u5EFA\uFF01(\u586B\u7A7A\u5361\uFF0C{count} \u4E2A\u7A7A)",
    "quickCard.createFailed": "\u274C \u521B\u5EFA\u95EA\u5361\u5931\u8D25",
    "quickCard.noKeywords": "\u26A0\uFE0F \u672A\u627E\u5230\u53EF\u7528\u4E8E\u6316\u7A7A\u7684\u5173\u952E\u8BCD",
    "quickCard.noDeletions": "\u26A0\uFE0F \u65E0\u6CD5\u521B\u5EFA\u6316\u7A7A",
    "quickCard.question.default.heading": '\u5173\u4E8E"{heading}"\u7684\u8981\u70B9\u662F\u4EC0\u4E48\uFF1F',
    "quickCard.question.default.short": '"{content}"\u662F\u4EC0\u4E48\u610F\u601D\uFF1F',
    "quickCard.question.default.medium": '\u89E3\u91CA\uFF1A"{content}"',
    "quickCard.question.default.long": "\u8FD9\u6BB5\u5185\u5BB9\u7684\u8981\u70B9\u662F\u4EC0\u4E48\uFF1F",
    // UnlockSystem - 等级名称
    "unlock.level.1": "\u91C7\u96C6\u8005",
    "unlock.level.2": "\u601D\u8003\u8005",
    "unlock.level.3": "\u8BB0\u5FC6\u5E08",
    "unlock.level.4": "\u8BAD\u7EC3\u8005",
    "unlock.level.5": "\u5206\u6790\u5E08",
    // 升级消息
    "unlock.levelUp.1": "\u{1F389} level.1 \u6B22\u8FCE\u6210\u4E3A\u91C7\u96C6\u8005!",
    "unlock.levelUp.2": "\u{1F393} level.2 \u5347\u7EA7\u4E3A\u601D\u8003\u8005!\n\u89E3\u9501: \u6279\u6CE8\u529F\u80FD\u3001\u6279\u91CF\u64CD\u4F5C",
    "unlock.levelUp.3": "\u{1F9E0} level.3 \u6210\u4E3A\u8BB0\u5FC6\u5E08!\n\u89E3\u9501: \u626B\u63CF\u529F\u80FD\u3001\u590D\u4E60\u7CFB\u7EDF",
    "unlock.levelUp.4": "\u{1F4AA} level.4 \u664B\u5347\u8BAD\u7EC3\u8005!\n\u89E3\u9501: \u7EDF\u8BA1\u5206\u6790",
    "unlock.levelUp.5": "\u{1F3C6} level.5 \u8FBE\u6210\u5206\u6790\u5E08!\n\u6240\u6709\u529F\u80FD\u5DF2\u89E3\u9501",
    // 下一步提示
    "unlock.nextSteps.level1": "\u{1F4E6} \u53F3\u952E\u63D0\u53D6\u7B14\u8BB0:\n  \u2022 \u63D0\u53D6\u4E3A\u6587\u672C: {text}/3\n  \u2022 \u63D0\u53D6\u4E3A\u95EE\u7B54: {qa}/3\n  \u2022 \u63D0\u53D6\u4E3A\u586B\u7A7A: {cloze}/3",
    "unlock.nextSteps.level2": "\u{1F4DD} \u5B8C\u6210\u6279\u6CE8: {annotations}/3\n\u{1F4CB} \u626B\u63CF\u63D0\u53D6\u7B14\u8BB0: {scanned}/5",
    "unlock.nextSteps.level3": "\u{1F504} \u590D\u4E60\u5361\u7247: {reviewed}/30\n\u{1F4CB} \u626B\u63CF\u8868\u683C: {tables}/2",
    "unlock.nextSteps.level4": "\u{1F504} \u590D\u4E60\u5361\u7247: {reviewed}/70\n\u{1F4C5} \u603B\u4F7F\u7528\u5929\u6570: {total}/21\n\u{1F4CA} \u8BBF\u95EE\u7EDF\u8BA1\u9875: {visited}",
    "unlock.nextSteps.level5": '\u{1F389} \u606D\u559C\u89E3\u9501\u6240\u6709\u529F\u80FD!\n\n\u{1F52E} \u667A\u56CA\u56E2\u529F\u80FD\u5C1A\u672A\u5F00\u653E\n\u8FBE\u5230\u4EBA\u6570\u4E0E\u6BB5\u4F4D\u6761\u4EF6\u540E\u5F00\u542F\n\u{1F517} <a href="https://jz-quartz.pages.dev/6.about/%E6%99%BA%E5%9B%8A%E5%9B%A2" target="_blank">\u4E86\u89E3\u667A\u56CA\u56E2(\u70B9\u51FB\u67E5\u770B)</a>',
    // 弹窗
    "unlock.modal.title": "\u{1F512} \u529F\u80FD\u672A\u89E3\u9501",
    "unlock.modal.requireLevel": '"{feature}" \u9700\u8981 Lv{level} \u89E3\u9501',
    "unlock.modal.currentProgress": "\u5F53\u524D\u8FDB\u5EA6:",
    // 等级信息弹窗
    "unlock.levelInfo.title": "\u{1F3C6} Lv{level} {name}",
    "unlock.levelInfo.cumulativeStats": "\u7D2F\u8BA1\u7EDF\u8BA1",
    "unlock.levelInfo.milestones": "\u{1F3AF} \u6210\u5C31\u91CC\u7A0B\u7891",
    // 统计标签
    "unlock.stat.cardsExtracted": "\u63D0\u53D6\u5361\u7247",
    "unlock.stat.annotationsCompleted": "\u5B8C\u6210\u6279\u6CE8",
    "unlock.stat.cardsReviewed": "\u590D\u4E60\u5361\u7247",
    "unlock.stat.tablesScanned": "\u626B\u63CF\u8868\u683C",
    "unlock.stat.consecutiveDays": "\u8FDE\u7EED\u5929\u6570",
    "unlock.stat.totalDays": "\u603B\u4F7F\u7528\u5929\u6570",
    // 进度指标
    "unlock.progress.cardsExtracted": "\u{1F4E6} \u63D0\u53D6\u5361\u7247",
    "unlock.progress.annotationsCompleted": "\u{1F4DD} \u5B8C\u6210\u6279\u6CE8",
    "unlock.progress.cardsReviewed": "\u{1F504} \u590D\u4E60\u5361\u7247",
    "unlock.progress.tablesScanned": "\u{1F4CB} \u626B\u63CF\u8868\u683C",
    "unlock.progress.consecutiveDays": "\u{1F525} \u8FDE\u7EED\u4F7F\u7528\u5929\u6570",
    "unlock.progress.totalDays": "\u{1F4C8} \u603B\u4F7F\u7528\u5929\u6570",
    "unlock.progress.statsPageVisited": "\u{1F4CA} \u8BBF\u95EE\u7EDF\u8BA1\u9875",
    "unlock.community.locked": "\u667A\u56CA\u56E2\u529F\u80FD\u5DF2\u9501\u5B9A",
    "unlock.community.link": "\u4E86\u89E3\u667A\u56CA\u56E2",
    "filter.unannotated": "\u65E0\u6279\u6CE8",
    // unlock refactor
    "unlock.stat.notesExtractedAsText": "\u63D0\u53D6\u4E3A\u6587\u672C",
    "unlock.stat.notesExtractedAsQA": "\u63D0\u53D6\u4E3A\u95EE\u7B54",
    "unlock.stat.notesExtractedAsCloze": "\u63D0\u53D6\u4E3A\u586B\u7A7A",
    "unlock.stat.notesScanned": "\u626B\u63CF\u7B14\u8BB0"
  }
};
function t(key, language = "en", params) {
  let text = translations[language][key] || translations["en"][key] || key;
  if (params) {
    Object.entries(params).forEach(([paramKey, value]) => {
      text = text.replace(`{${paramKey}}`, String(value));
    });
  }
  return text;
}

// src/core/QuickFlashcardCreator.ts
var import_obsidian2 = require("obsidian");
var QuickFlashcardCreator = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  get language() {
    return this.plugin.settings.language || "en";
  }
  /**
   * 从提取内容一键创建问答卡
   * 如果有批注，使用批注作为答案
   */
  async createQuickQACard(contentUnit) {
    try {
      const annotation = this.plugin.annotationManager.getContentAnnotation(contentUnit.id);
      let question;
      let answer;
      if (annotation && annotation.content) {
        if (this.isQuestion(annotation.content)) {
          question = this.generateDefaultQuestion(contentUnit);
          answer = annotation.content;
        } else {
          question = this.generateDefaultQuestion(contentUnit);
          answer = annotation.content;
        }
      } else {
        question = this.generateDefaultQuestion(contentUnit);
        answer = contentUnit.content;
      }
      const card = await this.plugin.flashcardManager.createQACard(
        contentUnit.id,
        question,
        answer
      );
      new import_obsidian2.Notice(`\u2705 Flashcard created! (Q&A)`);
    } catch (error) {
      console.error("Error creating quick flashcard:", error);
      new import_obsidian2.Notice("\u274C Failed to create flashcard");
    }
  }
  /**
   * 从提取内容一键创建完形填空卡
   * 自动识别关键词
   */
  async createQuickClozeCard(contentUnit) {
    try {
      const keywords = this.extractKeywords(contentUnit.content);
      if (keywords.length === 0) {
        new import_obsidian2.Notice("\u26A0\uFE0F No keywords found for cloze deletion");
        return;
      }
      const deletions = keywords.map((keyword) => {
        const index = contentUnit.content.indexOf(keyword.word);
        return {
          index,
          answer: keyword.word
        };
      }).filter((d) => d.index !== -1);
      if (deletions.length === 0) {
        new import_obsidian2.Notice("\u26A0\uFE0F Could not create cloze deletions");
        return;
      }
      const card = await this.plugin.flashcardManager.createClozeCard(
        contentUnit.id,
        contentUnit.content,
        deletions
      );
      new import_obsidian2.Notice(`\u2705 Flashcard created! (Cloze with ${deletions.length} blanks)`);
    } catch (error) {
      console.error("Error creating quick cloze card:", error);
      new import_obsidian2.Notice("\u274C Failed to create flashcard");
    }
  }
  /**
   * 智能创建闪卡（自动判断类型）
   */
  async createSmartCard(contentUnit) {
    const annotation = this.plugin.annotationManager.getContentAnnotation(contentUnit.id);
    if (annotation && this.isQuestion(annotation.content)) {
      await this.createQuickQACard(contentUnit);
      return;
    }
    if (contentUnit.content.length < 200) {
      await this.createQuickQACard(contentUnit);
      return;
    }
    await this.createQuickClozeCard(contentUnit);
  }
  /**
   * 批量创建闪卡
   */
  async createBatchCards(contentUnits, type = "smart") {
    let success = 0;
    let failed = 0;
    for (const unit of contentUnits) {
      try {
        switch (type) {
          case "qa":
            await this.createQuickQACard(unit);
            break;
          case "cloze":
            await this.createQuickClozeCard(unit);
            break;
          case "smart":
            await this.createSmartCard(unit);
            break;
        }
        success++;
      } catch (error) {
        console.error("Error creating card:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 判断文本是否是问题
   */
  isQuestion(text) {
    const lowerText = text.toLowerCase().trim();
    if (lowerText.endsWith("?") || text.endsWith("?") || text.endsWith("\uFF1F")) {
      return true;
    }
    const enQuestionWords = ["what", "why", "how", "when", "where", "who", "which"];
    for (const word of enQuestionWords) {
      if (lowerText.startsWith(word + " "))
        return true;
    }
    const cnQuestionWords = ["\u4EC0\u4E48", "\u4E3A\u4EC0\u4E48", "\u600E\u4E48", "\u5982\u4F55", "\u54EA", "\u8C01", "\u4F55\u65F6", "\u4E3A\u4F55"];
    for (const word of cnQuestionWords) {
      if (text.includes(word))
        return true;
    }
    if (text.endsWith("\u5417\uFF1F") || text.endsWith("\u5462\uFF1F") || text.endsWith("\u5417") || text.endsWith("\u5462")) {
      return true;
    }
    return false;
  }
  /**
   * 生成默认问题
   */
  generateDefaultQuestion(contentUnit) {
    if (contentUnit.source.heading) {
      const heading = contentUnit.source.heading.replace(/^#+\s*/, "");
      return t("quickCard.question.default.heading", this.language, { heading });
    }
    if (contentUnit.content.length < 50) {
      return t("quickCard.question.default.short", this.language, {
        content: contentUnit.content
      });
    } else if (contentUnit.content.length < 150) {
      const firstWords = contentUnit.content.substring(0, 30) + "...";
      return t("quickCard.question.default.medium", this.language, {
        content: firstWords
      });
    } else {
      return t("quickCard.question.default.long", this.language);
    }
  }
  /**
   * 提取关键词（用于完形填空）
   */
  extractKeywords(text) {
    const words = text.match(/\b[A-Za-z]{3,}\b/g) || [];
    const stopWords = /* @__PURE__ */ new Set([
      "the",
      "is",
      "at",
      "which",
      "on",
      "a",
      "an",
      "and",
      "or",
      "but",
      "in",
      "with",
      "to",
      "for",
      "of",
      "as",
      "by",
      "this",
      "that",
      "from",
      "they",
      "we",
      "say",
      "her",
      "she",
      "he",
      "will",
      "my",
      "one",
      "all",
      "would",
      "there",
      "their",
      "what",
      "so",
      "up",
      "out",
      "if",
      "about",
      "who",
      "get",
      "which",
      "go",
      "me",
      "when",
      "make",
      "can",
      "like",
      "time",
      "no",
      "just",
      "him",
      "know",
      "take",
      "people",
      "into",
      "year",
      "your",
      "good",
      "some",
      "could",
      "them",
      "see",
      "other"
    ]);
    const wordFreq = /* @__PURE__ */ new Map();
    words.forEach((word) => {
      const lower = word.toLowerCase();
      if (!stopWords.has(lower) && word.length > 3) {
        wordFreq.set(word, (wordFreq.get(word) || 0) + 1);
      }
    });
    const scored = Array.from(wordFreq.entries()).map(([word, freq]) => {
      let score = freq;
      if (word.length > 8)
        score += 2;
      else if (word.length > 6)
        score += 1;
      if (word[0] === word[0].toUpperCase())
        score += 1;
      return { word, score };
    });
    return scored.sort((a, b) => b.score - a.score).slice(0, 3);
  }
};

// src/ui/view/SidebarOverviewView.ts
var import_obsidian9 = require("obsidian");

// src/ui/stats/ViewState.ts
var ViewState = class {
  constructor(forceMainMode = false) {
    // 显示状态
    this.forceMainMode = false;
    this.displayMode = "sidebar";
    this.viewType = "notes";
    // 过滤和分组
    this.searchQuery = "";
    this.filterMode = "all";
    this.groupMode = "file";
    this.selectedFile = null;
    // 批量操作
    this.batchMode = false;
    this.selectedUnitIds = /* @__PURE__ */ new Set();
    this.selectedCardIds = /* @__PURE__ */ new Set();
    // UI状态
    this.activeMenuId = null;
    this.savedScrollPosition = 0;
    this.shouldRestoreScroll = false;
    // 性能优化
    this.searchDebounceTimer = null;
    this.isRendering = false;
    // 添加缓存
    this.dueFlashcardsCount = 0;
    this.forceMainMode = forceMainMode;
    this.displayMode = forceMainMode ? "main" : "sidebar";
  }
  // 状态重置方法
  clearSelection() {
    this.selectedUnitIds.clear();
    this.selectedCardIds.clear();
    this.batchMode = false;
  }
  // 切换批量模式
  toggleBatchMode() {
    this.batchMode = !this.batchMode;
    if (!this.batchMode) {
      this.clearSelection();
    }
  }
  // 搜索相关
  setSearchQuery(query) {
    this.searchQuery = query;
  }
  // 过滤器切换
  setFilterMode(mode) {
    if (this.filterMode !== mode) {
      this.filterMode = mode;
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 分组模式切换
  setGroupMode(mode) {
    if (this.groupMode !== mode) {
      this.groupMode = mode;
      if (this.displayMode !== "sidebar") {
        this.selectedFile = null;
      }
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 视图类型切换
  setViewType(type) {
    if (this.viewType !== type) {
      this.viewType = type;
      this.selectedFile = null;
      this.clearSelection();
      return true;
    }
    return false;
  }
  // 批量选择
  toggleUnitSelection(unitId) {
    if (this.selectedUnitIds.has(unitId)) {
      this.selectedUnitIds.delete(unitId);
    } else {
      this.selectedUnitIds.add(unitId);
    }
  }
  toggleCardSelection(cardId) {
    if (this.selectedCardIds.has(cardId)) {
      this.selectedCardIds.delete(cardId);
    } else {
      this.selectedCardIds.add(cardId);
    }
  }
  // 全选逻辑
  selectAllUnits(units) {
    units.forEach((unit) => this.selectedUnitIds.add(unit.id));
    this.batchMode = true;
  }
  selectAllCards(cards) {
    cards.forEach((card) => this.selectedCardIds.add(card.id));
    this.batchMode = true;
  }
  // 取消全选
  deselectAllUnits(units) {
    units.forEach((unit) => this.selectedUnitIds.delete(unit.id));
  }
  deselectAllCards(cards) {
    cards.forEach((card) => this.selectedCardIds.delete(card.id));
  }
  // 判断是否全选
  isAllSelected(items) {
    if (items.length === 0)
      return false;
    if (this.viewType === "cards") {
      return items.every(
        (card) => this.selectedCardIds.has(card.id)
      );
    } else {
      return items.every(
        (unit) => this.selectedUnitIds.has(unit.id)
      );
    }
  }
  // 获取选中数量
  getSelectedCount() {
    return this.viewType === "cards" ? this.selectedCardIds.size : this.selectedUnitIds.size;
  }
  // 复习提醒
  updateDueCount(flashcardManager) {
    this.dueFlashcardsCount = flashcardManager.getDueCards().length;
  }
  // 获取待删除的统计信息
  getDeleteStats(plugin) {
    let totalCards = 0;
    if (this.viewType === "cards") {
      totalCards = this.selectedCardIds.size;
      return { notes: 0, cards: totalCards };
    } else {
      const notes = this.selectedUnitIds.size;
      this.selectedUnitIds.forEach((unitId) => {
        const unit = plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          totalCards += unit.flashcardIds.length;
        }
      });
      return { notes, cards: totalCards };
    }
  }
  // 获取文件删除的统计信息
  static getFileDeleteStats(filePath, plugin) {
    const units = plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === filePath);
    const notes = units.length;
    let cards = 0;
    units.forEach((unit) => {
      cards += unit.flashcardIds.length;
    });
    return { notes, cards };
  }
};

// src/ui/components/Toolbar.ts
var Toolbar = class {
  constructor(state, callbacks, language = "en") {
    this.state = state;
    this.onSearchChange = callbacks.onSearchChange;
    this.onFilterChange = callbacks.onFilterChange;
    this.onGroupChange = callbacks.onGroupChange;
    this.onCheckReview = callbacks.onCheckReview;
    this.checkFilterHasNotes = callbacks.checkFilterHasNotes;
    this.checkGroupHasNotes = callbacks.checkGroupHasNotes;
    this.language = language;
  }
  t(key, params) {
    return t(key, this.language, params);
  }
  /**
   * 渲染侧边栏工具栏
   */
  renderSidebarToolbar(container) {
    const toolbar = container.createDiv({ cls: "sidebar-toolbar" });
    this.renderSearchBox(toolbar);
    this.renderFilterChips(toolbar);
    this.renderGroupSwitcher(toolbar);
    this.renderStatsRow(toolbar);
    return toolbar;
  }
  /**
   * 渲染主界面工具栏
   */
  renderMainToolbar(container) {
    const toolbar = container.createDiv({ cls: "main-toolbar" });
    this.renderSearchBox(toolbar, true);
    this.renderGroupSwitcher(toolbar, true);
    return toolbar;
  }
  renderSearchBox(container, isMain = false) {
    const searchContainer = container.createDiv({ cls: "search-container" });
    const searchInput = searchContainer.createEl("input", {
      type: "text",
      placeholder: this.t("toolbar.search"),
      cls: isMain ? "search-input-main" : "search-input"
    });
    searchInput.value = this.state.searchQuery;
    searchContainer.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
    }, true);
    searchContainer.addEventListener("mouseup", (e) => {
      e.stopPropagation();
      e.preventDefault();
      searchInput.focus();
    });
    searchContainer.addEventListener("click", (e) => {
      e.stopPropagation();
      e.preventDefault();
    });
    searchInput.addEventListener("input", (e) => {
      e.stopPropagation();
      const value = e.target.value;
      this.onSearchChange(value);
    });
    searchInput.addEventListener("dblclick", (e) => {
      e.stopPropagation();
      e.preventDefault();
      searchInput.select();
    });
    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        e.stopPropagation();
        searchInput.value = "";
        this.onSearchChange("");
      }
    });
  }
  renderFilterChips(container) {
    const filters = container.createDiv({ cls: "filter-chips" });
    const filterOptions = [
      { mode: "all", icon: "\u{1F4DD}", label: "notes", tooltip: "allNotes" },
      { mode: "annotated", icon: "\u{1F4AC}", label: "annotated", tooltip: "annotated" },
      { mode: "flashcards", icon: "\u{1F0CF}", label: "flashcards", tooltip: "flashcards" }
    ];
    filterOptions.forEach(({ mode, icon, label, tooltip }) => {
      const hasNotes = this.checkFilterHasNotes ? this.checkFilterHasNotes(mode) : true;
      const isActive = this.state.filterMode === mode;
      const chip = filters.createDiv({
        cls: `filter-chip ${isActive ? "active" : ""} ${!hasNotes ? "disabled" : ""}`,
        text: `${icon}`
      });
      if (!hasNotes) {
        chip.setAttribute("title", "No notes of this type in the current file");
        chip.style.opacity = "0.4";
        chip.style.cursor = "not-allowed";
      } else {
        chip.setAttribute("title", tooltip);
      }
      chip.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.onFilterChange(mode);
      });
    });
  }
  renderGroupSwitcher(container, isMain = false) {
    const groupSwitcher = container.createDiv({
      cls: isMain ? "group-switcher-main" : "group-switcher"
    });
    const groupOptions = isMain ? [
      { mode: "file", icon: "\u{1F4C1}", label: "file", tooltip: "by file" },
      { mode: "annotation", icon: "\u{1F4AC}", label: "annotattion", tooltip: "by annotation" },
      { mode: "tag", icon: "\u{1F3F7}\uFE0F", label: "tag", tooltip: "by tag" },
      { mode: "date", icon: "\u{1F4C5}", label: "date", tooltip: "by date" }
    ] : [
      { mode: "file", icon: "\u{1F4C1}", tooltip: "by file" },
      { mode: "tag", icon: "\u{1F3F7}\uFE0F", tooltip: "by tag" },
      { mode: "date", icon: "\u{1F4C5}", tooltip: "by date" }
    ];
    groupOptions.forEach(({ mode, icon, label, tooltip }) => {
      const hasNotes = this.state.displayMode === "sidebar" && this.checkGroupHasNotes ? this.checkGroupHasNotes(mode) : true;
      const isActive = this.state.groupMode === mode;
      const btn = groupSwitcher.createDiv({
        cls: `${isMain ? "group-btn-main" : "group-btn"} ${isActive ? "active" : ""} ${!hasNotes ? "disabled" : ""}`
      });
      btn.innerHTML = isMain ? `${icon} ` : icon;
      if (!hasNotes) {
        btn.setAttribute("title", "Notes in the current file cannot be grouped this way");
        btn.style.opacity = "0.4";
        btn.style.cursor = "not-allowed";
      } else {
        btn.setAttribute("title", tooltip);
      }
      btn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.onGroupChange(mode);
      });
    });
  }
  renderStatsRow(container) {
    const statsRow = container.createDiv({ cls: "stats-row" });
    statsRow.setAttribute("data-stats-container", "true");
  }
  // 新增:渲染复习检查按钮的方法
  renderReviewCheckButton(container) {
    if (!this.onCheckReview)
      return null;
    const reviewBtn = container.createEl("button", {
      cls: "review-check-btn-stats",
      attr: {
        "aria-label": "Check for Cards to Review"
      }
    });
    reviewBtn.innerHTML = "\u{1F514}";
    reviewBtn.addEventListener("mousedown", (e) => {
      var _a;
      e.stopPropagation();
      e.preventDefault();
      (_a = this.onCheckReview) == null ? void 0 : _a.call(this);
    });
    return reviewBtn;
  }
  hasNotesForFilter(mode) {
    return true;
  }
  hasNotesForGroup(mode) {
    return true;
  }
};

// src/ui/components/BatchActions.ts
var BatchActions = class {
  constructor(state, callbacks, toolbar, language = "en") {
    this.state = state;
    this.callbacks = callbacks;
    this.toolbar = toolbar;
    this.language = language;
  }
  t(key, params) {
    return t(key, this.language, params);
  }
  /**
   * 渲染全选按钮
   */
  renderSelectAllButton(container, visibleItems, styleClass) {
    const btnClass = styleClass === "sidebar" ? "select-all-btn-sidebar" : "select-all-btn-header";
    const isAllChecked = this.state.isAllSelected(visibleItems);
    const itemCount = visibleItems.length;
    const selectAllBtn = container.createEl("button", {
      text: isAllChecked ? `\u2713 ${this.t("batch.deselectAll")}` : `\u2610 ${this.t("batch.selectAll")}`,
      cls: `${btnClass} ${isAllChecked ? "completed" : ""}`,
      title: isAllChecked ? this.t("batch.deselectAll.tooltip") : this.t("batch.selectAll.tooltip", { count: itemCount })
    });
    const shouldDisable = itemCount === 0 || this.state.groupMode === "annotation" && this.state.displayMode === "main" && !this.state.selectedFile;
    if (shouldDisable) {
      selectAllBtn.disabled = true;
      selectAllBtn.style.opacity = "0.5";
      selectAllBtn.style.cursor = "not-allowed";
      selectAllBtn.title = itemCount === 0 ? this.t("batch.noItems") : this.t("batch.selectAnnotationFirst");
    }
    selectAllBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (isAllChecked) {
        this.callbacks.onDeselectAll();
      } else {
        this.callbacks.onSelectAll();
      }
    });
    return selectAllBtn;
  }
  // 新增:渲染复习检查按钮(独立方法)
  renderReviewCheckButton(container, mode) {
    if (mode === "sidebar" && this.toolbar) {
      this.toolbar.renderReviewCheckButton(container);
    }
  }
  /**
   * 渲染批量操作按钮组
   */
  renderActionButtons(container, styleClass) {
    if (!this.state.batchMode)
      return;
    const btnPrefix = styleClass === "sidebar" ? "sidebar" : "header";
    if (this.state.viewType === "notes") {
      const count2 = this.state.selectedUnitIds.size;
      const createBtn = this.createButton(
        container,
        styleClass === "sidebar" ? `\u26A1(${count2})` : `\u26A1 ${this.t("batch.create")} (${count2})`,
        `batch-create-cards-btn-${btnPrefix}`,
        this.t("batch.create.tooltip"),
        () => {
          if (this.state.selectedUnitIds.size === 0) {
            this.callbacks.onBatchCreate();
          } else {
            this.callbacks.onBatchCreate();
          }
        }
      );
      createBtn.addEventListener("mouseenter", (e) => {
        e.stopPropagation();
        e.preventDefault();
        createBtn.style.background = "var(--interactive-accent)";
        createBtn.style.color = "white";
      });
      createBtn.addEventListener("mouseleave", (e) => {
        e.stopPropagation();
        e.preventDefault();
        createBtn.style.background = "var(--background-secondary)";
        createBtn.style.color = "";
      });
    }
    const count = this.state.getSelectedCount();
    const deleteBtn = this.createButton(
      container,
      styleClass === "sidebar" ? `\u{1F5D1}\uFE0F(${count})` : `\u{1F5D1}\uFE0F ${this.t("batch.delete")} (${count})`,
      `batch-delete-btn-${btnPrefix}`,
      this.t("batch.delete.tooltip"),
      () => this.callbacks.onBatchDelete()
    );
    deleteBtn.addEventListener("mouseenter", (e) => {
      e.stopPropagation();
      e.preventDefault();
      deleteBtn.style.background = "var(--color-red)";
      deleteBtn.style.color = "white";
    });
    deleteBtn.addEventListener("mouseleave", (e) => {
      e.stopPropagation();
      e.preventDefault();
      deleteBtn.style.background = "var(--background-secondary)";
      deleteBtn.style.color = "";
    });
    const cancelBtn = this.createButton(
      container,
      styleClass === "sidebar" ? "\u2715" : `\u2715 ${this.t("batch.cancel")}`,
      `cancel-selection-btn-${btnPrefix}`,
      this.t("batch.cancel.tooltip"),
      () => this.callbacks.onCancel()
    );
  }
  createButton(container, text, className, title, onClick) {
    const btn = container.createEl("button", {
      text,
      cls: className,
      title
    });
    btn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      onClick();
    });
    return btn;
  }
  /**
   * 渲染批量选择 Checkbox
   */
  renderCheckbox(container, itemId, isSelected, onChange) {
    const checkbox = container.createEl("input", {
      type: "checkbox",
      cls: "batch-checkbox"
    });
    checkbox.setAttribute("data-item-id", itemId);
    checkbox.checked = isSelected;
    checkbox.addEventListener("change", (e) => {
      e.stopPropagation();
      e.preventDefault();
      onChange(e.target.checked);
    });
    return checkbox;
  }
};

// src/ui/components/ContentCard.ts
var ContentCard = class {
  constructor(state, callbacks) {
    this.state = state;
    this.callbacks = callbacks;
  }
  /**
   * 渲染紧凑卡片（侧边栏模式）
   */
  renderCompact(container, unit) {
    const card = container.createDiv({ cls: "compact-card" });
    card.setAttribute("data-unit-id", unit.id);
    const existingCard = container.querySelector(`[data-unit-id="${unit.id}"]`);
    if ((existingCard == null ? void 0 : existingCard.getAttribute("data-editing")) === "true") {
      return;
    }
    card.addEventListener("mousedown", (e) => {
      if (e.button !== 0) {
        return;
      }
      const target = e.target;
      if (target.closest(".card-tools") || target.closest(".batch-checkbox") || target.closest(".annotation-btn")) {
        return;
      }
      if (target.closest(".inline-annotation-editor")) {
        return;
      }
      if (target.closest(".note-text") || target.closest(".annotation-preview")) {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    }, false);
    if (this.state.batchMode) {
      this.renderCheckbox(card, unit.id, this.state.selectedUnitIds.has(unit.id));
    }
    this.renderIndicator(card, unit);
    const content = card.createDiv({ cls: "card-content" });
    this.renderCardHeader(content, card, unit);
    this.renderCardContent(content, unit);
    this.renderAnnotationPreview(content, card, unit);
    this.renderCardMeta(content, unit);
  }
  /**
   * 渲染网格卡片（主界面模式）
   */
  renderGrid(container, unit) {
    const card = container.createDiv({ cls: "grid-card" });
    card.setAttribute("data-unit-id", unit.id);
    card.addEventListener("click", (e) => {
      const target = e.target;
      if (target.closest(".grid-card-tools") || target.closest(".batch-checkbox") || target.closest(".grid-card-header") || target.closest(".doc-name")) {
        return;
      }
      if (target.closest(".grid-card-content")) {
        e.stopPropagation();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    });
    card.style.cursor = "default";
    if (this.state.batchMode) {
      this.renderCheckbox(card, unit.id, this.state.selectedUnitIds.has(unit.id));
    }
    const header = card.createDiv({ cls: "grid-card-header" });
    this.renderTypeIndicator(header, unit);
    const fileName = this.renderFileName(header, unit);
    fileName.onclick = (e) => {
      e.stopPropagation();
      this.callbacks.onJumpToSource(unit);
    };
    fileName.style.cursor = "pointer";
    this.renderGridTools(header, unit);
    const content = card.createDiv({ cls: "grid-card-content" });
    content.style.cursor = "pointer";
    this.renderGridContent(content, card, unit);
    this.renderGridAnnotation(content, card, unit);
    this.renderGridTags(content, unit);
    const meta = card.createDiv({ cls: "grid-card-meta" });
    this.renderGridMeta(meta, unit);
  }
  /**
   * 渲染闪卡网格
   */
  renderFlashcardGrid(container, card) {
    const cardEl = container.createDiv({ cls: "grid-card flashcard-grid-card" });
    if (this.state.batchMode) {
      this.renderCheckbox(cardEl, card.id, this.state.selectedCardIds.has(card.id));
    }
    const header = cardEl.createDiv({ cls: "grid-card-header" });
    const cardType = header.createDiv({ cls: "card-type-badge" });
    cardType.textContent = card.type === "qa" ? "Q&A" : "Cloze";
    cardType.addClass(`type-${card.type}`);
    header.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (!e.target.closest(".batch-checkbox")) {
        if (this.callbacks.onJumpToFlashcard) {
          this.callbacks.onJumpToFlashcard(card);
        }
      }
    });
    const tools = header.createDiv({ cls: "grid-card-tools" });
    const moreBtn = tools.createDiv({ cls: "tool-btn-grid" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.callbacks.onFlashcardContextMenu) {
        this.callbacks.onFlashcardContextMenu(e, card);
      }
    });
    const content = cardEl.createDiv({ cls: "grid-card-content" });
    this.renderFlashcardContent(content, card);
    const meta = cardEl.createDiv({ cls: "grid-card-meta" });
    this.renderFlashcardMeta(meta, card);
  }
  // ========== 私有渲染方法 ==========
  renderCheckbox(card, itemId, isChecked) {
    const checkbox = card.createEl("input", {
      type: "checkbox",
      cls: "batch-checkbox"
    });
    checkbox.setAttribute("data-item-id", itemId);
    checkbox.checked = isChecked;
    checkbox.addEventListener("change", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (e.target.checked) {
        if (this.state.viewType === "cards") {
          this.state.selectedCardIds.add(itemId);
        } else {
          this.state.selectedUnitIds.add(itemId);
        }
      } else {
        if (this.state.viewType === "cards") {
          this.state.selectedCardIds.delete(itemId);
        } else {
          this.state.selectedUnitIds.delete(itemId);
        }
      }
    });
  }
  renderIndicator(card, unit) {
    const indicator = card.createDiv({ cls: "card-indicator" });
    if (unit.type === "QA") {
      indicator.addClass("type-qa");
    } else if (unit.type === "cloze") {
      indicator.addClass("type-cloze");
    } else if (unit.type === "text") {
      indicator.addClass("type-text");
    }
    if (unit.annotationId)
      indicator.addClass("has-annotation");
    if (unit.flashcardIds.length > 0)
      indicator.addClass("has-flashcard");
  }
  renderCardHeader(content, card, unit) {
    const header = content.createDiv({ cls: "card-header" });
    const annotationBtn = header.createDiv({ cls: "annotation-btn" });
    this.renderSideLine(annotationBtn, unit);
    annotationBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      this.callbacks.onJumpToSource(unit);
    });
    annotationBtn.style.cursor = "pointer";
    const tools = header.createDiv({ cls: "card-tools" });
    tools.addEventListener("mousedown", (e) => {
      e.stopPropagation();
    });
    if (!this.state.batchMode) {
      const flashcardBtn = tools.createDiv({ cls: "tool-btn flashcard-btn" });
      flashcardBtn.innerHTML = "\u26A1";
      flashcardBtn.setAttribute("aria-label", "Generate Flashcards");
      flashcardBtn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        this.callbacks.onQuickFlashcard(unit);
      });
    }
    const moreBtn = tools.createDiv({ cls: "tool-btn more-btn" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      this.callbacks.onShowContextMenu(e, unit);
    });
  }
  renderCardContent(content, unit) {
    const noteText = content.createDiv({ cls: "note-text" });
    if (this.isTableContent(unit.fullContext || unit.content)) {
      this.renderMarkdownContent(noteText, unit);
    } else {
      let displayHTML = this.formatContent(unit);
      noteText.innerHTML = displayHTML;
    }
    noteText.style.cursor = "pointer";
  }
  formatContent(unit) {
    if (unit.type === "QA" && unit.answer) {
      return `<span class="qa-question">${unit.content}</span> <span class="qa-separator">::</span> <span class="qa-answer">${unit.answer}</span>`;
    } else if (unit.type === "cloze" && unit.fullContext) {
      let context = unit.fullContext.replace(/==/g, "");
      const answer = unit.content;
      return context.replace(
        answer,
        `<span class="cloze-highlight">${answer}</span>`
      );
    } else {
      return unit.content;
    }
  }
  renderSideLine(meta, unit) {
    meta.createSpan({ text: `L${unit.source.position.line}`, cls: "line-info" });
  }
  renderAnnotationPreview(content, card, unit) {
    if (!this.callbacks.getAnnotationContent)
      return;
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (!annotationContent)
      return;
    const existingPreview = content.querySelector(".annotation-preview");
    if (existingPreview) {
      return;
    }
    const existingEditor = content.querySelector(".inline-annotation-editor");
    if (existingEditor) {
      return;
    }
    const annEl = content.createDiv({ cls: "annotation-preview" });
    const displayText = annotationContent.length > 60 ? annotationContent.substring(0, 60) + "..." : annotationContent;
    annEl.textContent = `\u{1F4AC} ${displayText}`;
    annEl.addEventListener("click", (e) => {
      e.stopPropagation();
      this.callbacks.onToggleAnnotation(card, unit);
    });
    annEl.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        e.stopPropagation();
        this.callbacks.onToggleAnnotation(card, unit);
      }
    });
    const noteText = content.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", annEl);
    } else {
      content.appendChild(annEl);
    }
    annEl.setAttribute("tabindex", "0");
  }
  renderCardMeta(content, unit) {
    const meta = content.createDiv({ cls: "card-meta" });
    if (unit.flashcardIds.length > 0) {
      meta.createSpan({
        text: `\u{1F0CF} ${unit.flashcardIds.length}`,
        cls: "badge"
      });
    }
    if (unit.metadata.tags.length > 0) {
      unit.metadata.tags.slice(0, 2).forEach((tag) => {
        meta.createSpan({ text: `${tag}`, cls: "tag" });
      });
      if (unit.metadata.tags.length > 2) {
        meta.createSpan({
          text: `+${unit.metadata.tags.length - 2}`,
          cls: "tag-more"
        });
      }
    }
  }
  renderTypeIndicator(header, unit) {
    const typeIndicator = header.createDiv({ cls: "type-indicator" });
    if (unit.type === "QA") {
      typeIndicator.addClass("type-qa");
      typeIndicator.textContent = "Q&A";
    } else if (unit.type === "cloze") {
      typeIndicator.addClass("type-cloze");
      typeIndicator.textContent = "Cloze";
    } else {
      typeIndicator.addClass("type-text");
      typeIndicator.textContent = "Text";
    }
  }
  renderFileName(header, unit) {
    var _a;
    const fileName = ((_a = unit.source.file.split("/").pop()) == null ? void 0 : _a.replace(".md", "")) || "";
    const fileNameSpan = header.createSpan({ text: fileName, cls: "doc-name" });
    return fileNameSpan;
  }
  renderGridTools(header, unit) {
    const tools = header.createDiv({ cls: "grid-card-tools" });
    if (!this.state.batchMode) {
      const flashcardBtn = tools.createDiv({ cls: "tool-btn-grid" });
      flashcardBtn.innerHTML = "\u26A1";
      flashcardBtn.setAttribute("aria-label", "Generate Flashcards");
      flashcardBtn.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onQuickFlashcard(unit);
      });
    }
    const moreBtn = tools.createDiv({ cls: "tool-btn-grid" });
    moreBtn.innerHTML = "\u22EE";
    moreBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      this.callbacks.onShowContextMenu(e, unit);
    });
  }
  renderGridContent(content, card, unit) {
    const noteText = content.createDiv({ cls: "grid-note-text" });
    if (this.isTableContent(unit.fullContext || unit.content)) {
      this.renderMarkdownContent(noteText, unit);
    } else {
      noteText.innerHTML = this.formatContent(unit);
    }
    noteText.addEventListener("click", (e) => {
      e.stopPropagation();
      this.callbacks.onToggleAnnotation(card, unit);
    });
    noteText.style.cursor = "pointer";
  }
  renderGridAnnotation(content, card, unit) {
    if (!this.callbacks.getAnnotationContent)
      return;
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (annotationContent) {
      const annEl = content.createDiv({ cls: "grid-annotation" });
      annEl.innerHTML = `\u{1F4AC} ${annotationContent}`;
      annEl.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
      });
      annEl.addEventListener("click", (e) => {
        e.stopPropagation();
        e.preventDefault();
        this.callbacks.onToggleAnnotation(card, unit);
      });
    }
  }
  renderGridTags(content, unit) {
    if (unit.metadata.tags.length > 0) {
      const tags = content.createDiv({ cls: "grid-tags" });
      unit.metadata.tags.forEach((tag) => {
        tags.createSpan({ text: `${tag}`, cls: "tag-grid" });
      });
    }
  }
  renderGridMeta(meta, unit) {
    meta.createSpan({ text: `L${unit.source.position.line}`, cls: "line-info" });
    if (unit.flashcardIds.length > 0) {
      meta.createSpan({
        text: `\u{1F0CF} ${unit.flashcardIds.length}`,
        cls: "badge-grid"
      });
    }
  }
  renderFlashcardContent(content, card) {
    const question = content.createDiv({ cls: "flashcard-question" });
    question.innerHTML = `<strong>\u95EE\u9898\uFF1A</strong>${card.front}`;
    const answer = content.createDiv({ cls: "flashcard-answer" });
    const answerText = Array.isArray(card.back) ? card.back.join(", ") : card.back;
    answer.innerHTML = `<strong>\u7B54\u6848\uFF1A</strong>${answerText}`;
  }
  renderFlashcardMeta(meta, card) {
    meta.createSpan({
      text: this.formatDate(new Date(card.metadata.createdAt)),
      cls: "flashcard-date"
    });
    const reviewInfo = meta.createDiv({ cls: "flashcard-review-info" });
    const dueDate = new Date(card.scheduling.due);
    const now = new Date();
    const isOverdue = dueDate < now;
    const timeText = this.formatReviewTime(dueDate, now, isOverdue);
    reviewInfo.innerHTML = `
      <span class="review-time ${isOverdue ? "overdue" : "upcoming"}">
        <span class="review-text">${timeText}</span>
      </span>
    `;
  }
  formatDate(date) {
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
  formatReviewTime(dueDate, now, isOverdue) {
    const diff = Math.abs(dueDate.getTime() - now.getTime());
    const minutes = Math.floor(diff / (1e3 * 60));
    const hours = Math.floor(diff / (1e3 * 60 * 60));
    const days = Math.floor(hours / 24);
    if (isOverdue) {
      if (hours < 1) {
        return minutes < 1 ? "\u521A\u521A\u5230\u671F" : `\u5EF6\u540E ${minutes} \u5206\u949F`;
      } else if (hours < 24) {
        return `\u5EF6\u540E ${hours} \u5C0F\u65F6`;
      } else {
        return `\u5EF6\u540E ${days} \u5929`;
      }
    } else {
      if (hours < 1) {
        return `${minutes} \u5206\u949F\u540E`;
      } else if (hours < 24) {
        return `${hours} \u5C0F\u65F6\u540E`;
      } else {
        return `${days} \u5929\u540E`;
      }
    }
  }
  // 🆕 添加表格检测方法
  isTableContent(content) {
    var _a;
    if (!content)
      return false;
    const lines = content.trim().split("\n");
    return lines.length >= 2 && lines.every((line) => line.includes("|")) && !!((_a = lines[1]) == null ? void 0 : _a.match(/^\s*\|[\s:-]+\|/));
  }
  // 🆕 添加 Markdown 渲染方法
  renderMarkdownContent(container, unit) {
    container.empty();
    let content = unit.fullContext || unit.content;
    if (this.isTableContent(content)) {
      this.renderTableWithHighlights(container, content);
    } else {
      const { MarkdownRenderer } = require("obsidian");
      content = content.replace(/==([^=]+)==/g, '<span class="highlight">$1</span>');
      MarkdownRenderer.renderMarkdown(content, container, unit.source.file, null);
    }
  }
  // 🆕 添加手动表格渲染方法
  renderTableWithHighlights(container, markdown) {
    const lines = markdown.trim().split("\n");
    const table = container.createEl("table", { cls: "learning-system-table" });
    const headerCells = lines[0].split("|").map((c) => c.trim()).filter((c) => c);
    const thead = table.createEl("thead");
    const headerRow = thead.createEl("tr");
    headerCells.forEach((cell, index) => {
      const th = headerRow.createEl("th");
      if (cell.includes("==")) {
        const processed = cell.replace(
          /==([^=]+)==/g,
          '<span style="background-color: rgba(255, 140, 0, 0.25); padding: 2px 4px; border-radius: 3px; font-weight: 500;">$1</span>'
        );
        th.innerHTML = processed;
      } else {
        th.textContent = cell;
      }
    });
    const tbody = table.createEl("tbody");
    for (let i = 2; i < lines.length; i++) {
      const cells = lines[i].split("|").map((c) => c.trim()).filter((c) => c);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell, index) => {
        const td = row.createEl("td");
        if (cell.includes("==")) {
          const processed = cell.replace(
            /==([^=]+)==/g,
            '<span style="background-color: rgba(255, 140, 0, 0.25); padding: 2px 4px; border-radius: 3px; font-weight: 500;">$1</span>'
          );
          td.innerHTML = processed;
        } else {
          td.textContent = cell;
        }
      });
    }
  }
};

// src/ui/components/ContentList.ts
var ContentList = class {
  constructor(state, cardCallbacks, language = "en") {
    this.state = state;
    this.cardRenderer = new ContentCard(state, cardCallbacks);
    this.language = language;
  }
  setLanguage(language) {
    this.language = language;
  }
  /**
   * 渲染紧凑列表（侧边栏模式）
   */
  renderCompactList(container, units) {
    const editingUnitIds = /* @__PURE__ */ new Set();
    container.querySelectorAll('.compact-card[data-editing="true"]').forEach((card) => {
      const unitId = card.getAttribute("data-unit-id");
      if (unitId) {
        editingUnitIds.add(unitId);
      }
    });
    const editingCardsMap = /* @__PURE__ */ new Map();
    editingUnitIds.forEach((unitId) => {
      const card = container.querySelector(`[data-unit-id="${unitId}"]`);
      if (card) {
        editingCardsMap.set(unitId, card);
      }
    });
    const allElements = Array.from(container.children);
    allElements.forEach((el) => {
      const unitId = el.getAttribute("data-unit-id");
      if (!unitId || !editingUnitIds.has(unitId)) {
        el.remove();
      }
    });
    if (units.length === 0 && editingUnitIds.size === 0) {
      this.renderEmptyState(container);
      return;
    }
    const grouped = this.groupUnits(units);
    grouped.forEach(({ groupKey, units: groupUnits }) => {
      const groupEl = container.createDiv({ cls: "content-group" });
      this.renderGroupHeader(groupEl, groupKey, groupUnits.length);
      groupUnits.forEach((unit) => {
        const existingCard = editingCardsMap.get(unit.id);
        if (existingCard) {
          groupEl.appendChild(existingCard);
        } else {
          this.cardRenderer.renderCompact(groupEl, unit);
        }
      });
    });
  }
  /**
  * 渲染紧凑列表（侧边栏模式 - 不分组）
  */
  renderCompactListWithoutGrouping(container, units) {
    const existingCards = container.querySelectorAll(".compact-card, .group-section, .empty-state");
    existingCards.forEach((el) => el.remove());
    if (units.length === 0) {
      this.renderEmptyState(container);
      return;
    }
    units.forEach((unit) => {
      this.cardRenderer.renderCompact(container, unit);
    });
  }
  /**
   * 渲染内容网格（主界面模式）
   */
  renderContentGrid(container, units) {
    container.empty();
    if (units.length === 0) {
      this.renderEmptyState(container);
      return;
    }
    units.forEach((unit) => {
      this.cardRenderer.renderGrid(container, unit);
    });
  }
  /**
   * 渲染闪卡网格
   */
  renderFlashcardsGrid(container, cards) {
    container.empty();
    if (cards.length === 0) {
      container.createDiv({
        text: t("contentList.empty.noFlashcards", this.language),
        cls: "empty-state"
      });
      return;
    }
    cards.forEach((card) => {
      this.cardRenderer.renderFlashcardGrid(container, card);
    });
  }
  /**
   * 分组笔记单元
   */
  groupUnits(units) {
    const grouped = /* @__PURE__ */ new Map();
    units.forEach((unit) => {
      const keys = this.getGroupKeys(unit);
      keys.forEach((key) => {
        if (!grouped.has(key)) {
          grouped.set(key, []);
        }
        grouped.get(key).push(unit);
      });
    });
    return this.sortGroups(grouped);
  }
  /**
   * 分组闪卡
   */
  groupFlashcards(cards, getUnit) {
    const grouped = /* @__PURE__ */ new Map();
    const annotatedKey = t("contentList.group.annotated", this.language);
    cards.forEach((card) => {
      const unit = getUnit(card.sourceContentId);
      const keys = this.getFlashcardGroupKeys(card, unit);
      keys.forEach((key) => {
        if (!grouped.has(key)) {
          grouped.set(key, []);
        }
        grouped.get(key).push(card);
      });
    });
    return Array.from(grouped.entries()).map(([groupKey, cards2]) => ({ groupKey, cards: cards2 })).sort((a, b) => {
      if (this.state.groupMode === "annotation") {
        if (a.groupKey === annotatedKey)
          return -1;
        if (b.groupKey === annotatedKey)
          return 1;
        return 0;
      }
      if (this.state.groupMode === "date") {
        return b.groupKey.localeCompare(a.groupKey);
      }
      return b.cards.length - a.cards.length;
    });
  }
  /**
   * 获取单元的分组键
   */
  getGroupKeys(unit) {
    switch (this.state.groupMode) {
      case "file":
        return [unit.source.file];
      case "annotation":
        return [
          unit.annotationId ? t("contentList.group.annotated", this.language) : t("contentList.group.notAnnotated", this.language)
        ];
      case "tag":
        return unit.metadata.tags.length > 0 ? unit.metadata.tags : [t("group.uncategorized", this.language)];
      case "date":
        return [this.formatDate(new Date(unit.metadata.createdAt))];
      default:
        return [t("group.uncategorized", this.language)];
    }
  }
  /**
   * 获取闪卡的分组键
   */
  getFlashcardGroupKeys(card, unit) {
    switch (this.state.groupMode) {
      case "file":
        return [card.sourceFile];
      case "annotation":
        if (unit && unit.annotationId) {
          return [t("contentList.group.annotated", this.language)];
        } else {
          return [t("contentList.group.notAnnotated", this.language)];
        }
      case "tag":
        if (unit && unit.metadata.tags.length > 0) {
          return unit.metadata.tags;
        } else if (card.tags && card.tags.length > 0) {
          return card.tags;
        } else if (card.deck) {
          return [card.deck];
        } else {
          return [t("group.uncategorized", this.language)];
        }
      case "date":
        return [this.formatDate(new Date(card.metadata.createdAt))];
      default:
        return [t("group.uncategorized", this.language)];
    }
  }
  /**
   * 排序分组
   */
  sortGroups(grouped) {
    const annotatedKey = t("contentList.group.annotated", this.language);
    return Array.from(grouped.entries()).map(([groupKey, units]) => ({ groupKey, units })).sort((a, b) => {
      if (this.state.groupMode === "annotation") {
        if (a.groupKey === annotatedKey)
          return -1;
        if (b.groupKey === annotatedKey)
          return 1;
        return 0;
      }
      if (this.state.groupMode === "date") {
        return b.groupKey.localeCompare(a.groupKey);
      }
      return b.units.length - a.units.length;
    });
  }
  /**
   * 渲染分组头部
   */
  renderGroupHeader(container, groupKey, count) {
    const header = container.createDiv({ cls: "group-header" });
    header.createSpan({
      text: this.getGroupIcon(this.state.groupMode),
      cls: "group-icon"
    });
    header.createSpan({ text: groupKey, cls: "group-title" });
    header.createSpan({ text: `${count}`, cls: "group-count" });
  }
  /**
   * 渲染空状态
   */
  renderEmptyState(container) {
    const emptyDiv = container.createDiv({ cls: "empty-state" });
    if (this.state.selectedFile && this.state.displayMode === "sidebar") {
      emptyDiv.innerHTML = `
        <div style="padding: 20px; text-align: center;">
          <div style="font-size: 32px; margin-bottom: 10px;">\u{1F4ED}</div>
          <div style="color: var(--text-muted);">${t("contentList.empty.noNotes", this.language)}</div>
          <div style="font-size: 12px; color: var(--text-faint); margin-top: 8px;">
            ${this.state.filterMode !== "all" ? t("contentList.empty.tryFilter", this.language) : t("contentList.empty.startHighlight", this.language)}
          </div>
        </div>
      `;
    } else {
      emptyDiv.textContent = t("contentList.empty.noContent", this.language);
    }
  }
  /**
   * 获取分组图标
   */
  getGroupIcon(mode) {
    switch (mode) {
      case "file":
        return "\u{1F4C4}";
      case "annotation":
        return "\u{1F4AC}";
      case "tag":
        return "\u{1F3F7}\uFE0F";
      case "date":
        return "\u{1F4C5}";
      default:
        return "\u{1F4C1}";
    }
  }
  /**
   * 格式化日期
   */
  formatDate(date) {
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
};

// src/ui/components/AnnotationEditor.ts
var AnnotationEditor = class {
  constructor(callbacks) {
    this.activeEditors = /* @__PURE__ */ new Map();
    this.toggleLock = /* @__PURE__ */ new Map();
    this.isOpening = false;
    this.callbacks = callbacks;
  }
  /**
   * 切换内联批注编辑器
   */
  toggle(cardEl, unit) {
    if (this.isOpening) {
      return;
    }
    const now = Date.now();
    const lastToggle = this.toggleLock.get(unit.id) || 0;
    if (now - lastToggle < 200) {
      return;
    }
    this.toggleLock.set(unit.id, now);
    const existingEditor = cardEl.querySelector(".inline-annotation-editor");
    const isCurrentEditing = !!existingEditor;
    if (isCurrentEditing) {
      this.close(cardEl, unit);
      return;
    }
    const content = cardEl.querySelector(".card-content, .grid-card-content");
    const oldPreviews = content == null ? void 0 : content.querySelectorAll(".annotation-preview, .grid-annotation");
    if (oldPreviews && oldPreviews.length > 0) {
      oldPreviews.forEach((el) => el.remove());
    }
    this.closeAllOthers(unit.id);
    requestAnimationFrame(() => {
      this.open(cardEl, unit);
    });
  }
  /**
   * 关闭除指定 unitId 外的所有编辑器
   */
  closeAllOthers(currentUnitId) {
    const allEditingCards = document.querySelectorAll('[data-editing="true"]');
    if (allEditingCards.length > 0) {
      allEditingCards.forEach((card) => {
        const unitId = card.getAttribute("data-unit-id");
        if (unitId && unitId !== currentUnitId) {
          const unit = { id: unitId };
          this.close(card, unit);
        }
      });
    }
  }
  /**
   * 打开编辑器
   */
  open(cardEl, unit) {
    this.isOpening = true;
    cardEl.setAttribute("data-editing", "true");
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    const content = cardEl.querySelector(".card-content, .grid-card-content");
    const existingPreviews = content == null ? void 0 : content.querySelectorAll(".annotation-preview, .grid-annotation");
    existingPreviews == null ? void 0 : existingPreviews.forEach((el) => el.remove());
    const existingEditors = content == null ? void 0 : content.querySelectorAll(".inline-annotation-editor");
    existingEditors == null ? void 0 : existingEditors.forEach((el) => el.remove());
    const editor = this.createEditor(unit.id, annotationContent || "");
    const noteText = content == null ? void 0 : content.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", editor);
    } else {
      content == null ? void 0 : content.appendChild(editor);
    }
    const textarea = editor.querySelector("textarea");
    requestAnimationFrame(() => {
      requestAnimationFrame(() => {
        textarea.focus();
        textarea.setSelectionRange(textarea.value.length, textarea.value.length);
      });
    });
    this.activeEditors.set(unit.id, editor);
    setTimeout(() => {
      this.isOpening = false;
    }, 200);
  }
  /**
   * 关闭编辑器
   */
  close(cardEl, unit) {
    const editor = cardEl.querySelector(".inline-annotation-editor");
    if (!editor) {
      cardEl.removeAttribute("data-editing");
      this.activeEditors.delete(unit.id);
      return;
    }
    editor.remove();
    this.activeEditors.delete(unit.id);
    cardEl.removeAttribute("data-editing");
    const annotationContent = this.callbacks.getAnnotationContent(unit.id);
    if (annotationContent) {
      const content = cardEl.querySelector(".card-content, .grid-card-content");
      const oldPreview = content == null ? void 0 : content.querySelector(".annotation-preview, .grid-annotation");
      if (oldPreview) {
        oldPreview.remove();
      }
      if (content) {
        this.recreatePreview(content, cardEl, unit, annotationContent);
      }
    }
  }
  /**
   * 创建编辑器元素
   */
  createEditor(unitId, defaultValue) {
    const editor = document.createElement("div");
    editor.className = "inline-annotation-editor";
    const textarea = document.createElement("textarea");
    textarea.className = "inline-annotation-textarea";
    textarea.placeholder = "Add comment...";
    textarea.value = defaultValue;
    textarea.setAttribute("data-unit-id", unitId);
    const hint = document.createElement("div");
    hint.className = "inline-annotation-hint";
    hint.textContent = "Shift + Enter to insert a new line";
    editor.appendChild(textarea);
    editor.appendChild(hint);
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.type === "attributes" && mutation.attributeName === "style") {
          console.error("\u{1F6A8} [Editor] Style was modified!", {
            oldValue: mutation.oldValue,
            newValue: editor.getAttribute("style"),
            stack: new Error().stack
          });
        }
      });
    });
    observer.observe(editor, {
      attributes: true,
      attributeOldValue: true,
      attributeFilter: ["style"]
    });
    this.bindEditorEvents(textarea, unitId);
    return editor;
  }
  /**
   * 绑定编辑器事件
   */
  bindEditorEvents(textarea, unitId) {
    textarea.addEventListener("blur", async (e) => {
      const relatedTarget = e.relatedTarget;
      const editor = textarea.closest(".inline-annotation-editor");
      const card = editor == null ? void 0 : editor.closest(".compact-card, .grid-card");
      if (!relatedTarget || !(editor == null ? void 0 : editor.contains(relatedTarget))) {
        setTimeout(async () => {
          if ((editor == null ? void 0 : editor.parentElement) && card) {
            await this.callbacks.onSave(unitId, textarea.value.trim());
            const unit = { id: unitId };
            this.close(card, unit);
          }
        }, 150);
      }
    });
    textarea.addEventListener("keydown", async (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        const editor = textarea.closest(".inline-annotation-editor");
        await this.save(editor, unitId, textarea.value);
      }
    });
    textarea.addEventListener("mousedown", (e) => {
      e.stopPropagation();
    });
    textarea.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  }
  /**
   * 保存批注
   */
  async save(editorEl, unitId, text) {
    const trimmedText = text.trim();
    await this.callbacks.onSave(unitId, trimmedText);
    const card = editorEl.closest(".compact-card, .grid-card");
    editorEl.remove();
    this.activeEditors.delete(unitId);
    if (trimmedText && card) {
      const content = card.querySelector(".card-content, .grid-card-content");
      if (content) {
        const latestContent = this.callbacks.getAnnotationContent(unitId);
        if (latestContent) {
          this.recreatePreview(content, card, { id: unitId }, latestContent);
        }
        const indicator = card.querySelector(".card-indicator");
        if (indicator && !indicator.classList.contains("has-annotation")) {
          indicator.classList.add("has-annotation");
        }
      }
    } else if (!trimmedText && card) {
      const indicator = card.querySelector(".card-indicator");
      if (indicator && indicator.classList.contains("has-annotation")) {
        indicator.classList.remove("has-annotation");
      }
    }
  }
  /**
   * 重新创建批注预览
   */
  recreatePreview(contentEl, cardEl, unit, annotationText) {
    const existingPreview = contentEl.querySelector(".annotation-preview, .grid-annotation");
    if (existingPreview) {
      existingPreview.remove();
    }
    const isGridCard = cardEl.classList.contains("grid-card");
    const annEl = document.createElement("div");
    annEl.className = isGridCard ? "grid-annotation" : "annotation-preview";
    if (isGridCard) {
      annEl.innerHTML = `\u{1F4AC} ${annotationText}`;
    } else {
      const displayText = annotationText.length > 60 ? annotationText.substring(0, 60) + "..." : annotationText;
      annEl.textContent = `\u{1F4AC} ${displayText}`;
    }
    annEl.addEventListener("click", (e) => {
      e.stopPropagation();
      this.toggle(cardEl, unit);
    });
    annEl.addEventListener("keydown", (e) => {
      if (e.key === "Tab") {
        e.preventDefault();
        e.stopPropagation();
        this.toggle(cardEl, unit);
      }
    });
    const noteText = contentEl.querySelector(".note-text, .grid-note-text");
    if (noteText) {
      noteText.insertAdjacentElement("afterend", annEl);
    } else {
      contentEl.appendChild(annEl);
    }
    annEl.setAttribute("tabindex", "0");
    annEl.focus();
  }
  /**
   * 关闭所有活动的编辑器
   */
  closeAll() {
    this.activeEditors.forEach((editor) => {
      editor.remove();
    });
    this.activeEditors.clear();
  }
};

// src/ui/service/sideOverviewService.ts
var import_obsidian3 = require("obsidian");
var sideOverviewService = class {
  constructor(plugin, state) {
    this.plugin = plugin;
    this.state = state;
  }
  /**
   * 跳转到笔记的源文件位置
   */
  async jumpToSource(unit, app) {
    const lang = this.plugin.settings.language;
    const file = app.vault.getAbstractFileByPath(unit.source.file);
    if (!(file instanceof import_obsidian3.TFile)) {
      new import_obsidian3.Notice(t("service.fileNotExist", lang));
      return;
    }
    this.state.shouldRestoreScroll = true;
    const leaf = app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = app.workspace.getActiveViewOfType(import_obsidian3.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          const line = unit.source.position.line;
          const lineCount = editor.lineCount();
          const validLine = Math.min(line, lineCount - 1);
          editor.setCursor({ line: validLine, ch: 0 });
          editor.scrollIntoView(
            { from: { line: validLine, ch: 0 }, to: { line: validLine, ch: 0 } },
            true
          );
          setTimeout(() => {
            var _a;
            try {
              const lineLength = ((_a = editor.getLine(validLine)) == null ? void 0 : _a.length) || 0;
              editor.setSelection(
                { line: validLine, ch: 0 },
                { line: validLine, ch: lineLength }
              );
            } catch (e) {
              console.error("Selection error:", e);
            }
          }, 100);
        }
      }
    }, 200);
  }
  /**
   * 保存或删除批注
   */
  async saveAnnotation(unitId, content) {
    const lang = this.plugin.settings.language;
    const trimmedText = content.trim();
    const annotation = this.plugin.annotationManager.getContentAnnotation(unitId);
    if (trimmedText) {
      if (annotation) {
        await this.plugin.annotationManager.updateAnnotation(annotation.id, {
          content: trimmedText
        });
      } else {
        await this.plugin.annotationManager.addContentAnnotation(unitId, trimmedText);
      }
    } else if (annotation) {
      await this.plugin.annotationManager.deleteAnnotation(annotation.id);
      new import_obsidian3.Notice(t("service.annotationDeleted", lang));
    }
  }
  /**
   * AI 快速生成闪卡
   */
  async quickGenerateFlashcard(unit) {
    const lang = this.plugin.settings.language;
    try {
      const creator = new QuickFlashcardCreator(this.plugin);
      await creator.createSmartCard(unit);
      await new Promise((resolve) => setTimeout(resolve, 150));
      new import_obsidian3.Notice(t("service.flashcardGenerated", lang));
    } catch (error) {
      new import_obsidian3.Notice(t("service.generateFailed", lang));
      console.error(error);
    }
  }
  /**
   * 批量删除笔记
   */
  async batchDeleteNotes(unitIds) {
    let success = 0;
    let failed = 0;
    for (const unitId of unitIds) {
      try {
        const unit = this.plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          if (unit.flashcardIds.length > 0) {
            for (const cardId of unit.flashcardIds) {
              await this.plugin.flashcardManager.deleteCard(cardId);
            }
          }
        }
        await this.plugin.dataManager.deleteContentUnit(unitId);
        success++;
      } catch (error) {
        console.error("Error deleting note:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 批量删除闪卡
   */
  async batchDeleteFlashcards(cardIds) {
    let success = 0;
    let failed = 0;
    for (const cardId of cardIds) {
      try {
        await this.plugin.flashcardManager.deleteCard(cardId);
        success++;
      } catch (error) {
        console.error("Error deleting flashcard:", error);
        failed++;
      }
    }
    return { success, failed };
  }
  /**
   * 获取批注内容
   */
  getAnnotationContent(unitId) {
    const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
    return ann == null ? void 0 : ann.content;
  }
  /**
   * 跳转到闪卡的源文件
   */
  async jumpToFlashcardSource(cardId, app) {
    const lang = this.plugin.settings.language;
    const card = this.plugin.flashcardManager.getFlashcard(cardId);
    if (!card) {
      new import_obsidian3.Notice(t("service.flashcardNotFound", lang));
      return;
    }
    const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
    if (unit) {
      await this.jumpToSource(unit, app);
    } else {
      const file = app.vault.getAbstractFileByPath(card.sourceFile);
      if (file instanceof import_obsidian3.TFile) {
        await app.workspace.getLeaf(false).openFile(file);
        new import_obsidian3.Notice(t("service.sourceFileOpened", lang));
      } else {
        new import_obsidian3.Notice(t("service.noteNotFound", lang));
      }
    }
  }
  /**
   * 激活统计视图
   */
  activateStatsView() {
    this.plugin.activateStats();
  }
};

// src/ui/components/modals/ManualFlashcardModal.ts
var import_obsidian4 = require("obsidian");
var ManualFlashcardModal = class extends import_obsidian4.Modal {
  constructor(app, plugin, unit, type) {
    super(app);
    this.question = "";
    this.answer = "";
    this.plugin = plugin;
    this.unit = unit;
    this.type = type;
    if (type === "qa") {
      this.question = unit.type === "QA" ? unit.content : unit.content;
      this.answer = unit.type === "QA" && unit.answer ? unit.answer : "";
    } else {
      this.question = unit.fullContext || unit.content;
      this.answer = unit.content;
    }
  }
  onOpen() {
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.empty();
    contentEl.addClass("manual-flashcard-modal");
    contentEl.createEl("h2", {
      text: t(this.type === "qa" ? "manualCard.title.qa" : "manualCard.title.cloze", lang)
    });
    contentEl.createEl("p", {
      text: t(this.type === "qa" ? "manualCard.description.qa" : "manualCard.description.cloze", lang),
      cls: "modal-description"
    });
    new import_obsidian4.Setting(contentEl).setName(t(this.type === "qa" ? "manualCard.front.qa" : "manualCard.front.cloze", lang)).setDesc(t(this.type === "qa" ? "manualCard.front.desc.qa" : "manualCard.front.desc.cloze", lang)).addTextArea((text) => {
      text.setValue(this.question).setPlaceholder(t(this.type === "qa" ? "manualCard.front.placeholder.qa" : "manualCard.front.placeholder.cloze", lang)).onChange((value) => this.question = value);
      text.inputEl.rows = 4;
      text.inputEl.style.width = "100%";
    });
    new import_obsidian4.Setting(contentEl).setName(t(this.type === "qa" ? "manualCard.back.qa" : "manualCard.back.cloze", lang)).setDesc(t(this.type === "qa" ? "manualCard.back.desc.qa" : "manualCard.back.desc.cloze", lang)).addTextArea((text) => {
      text.setValue(this.answer).setPlaceholder(t(this.type === "qa" ? "manualCard.back.placeholder.qa" : "manualCard.back.placeholder.cloze", lang)).onChange((value) => this.answer = value);
      text.inputEl.rows = 3;
      text.inputEl.style.width = "100%";
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    new import_obsidian4.Setting(buttonContainer).addButton(
      (btn) => btn.setButtonText(t("manualCard.cancel", lang)).onClick(() => this.close())
    ).addButton(
      (btn) => btn.setButtonText(t("manualCard.create", lang)).setCta().onClick(async () => await this.createFlashcard())
    );
  }
  async createFlashcard() {
    const lang = this.plugin.settings.language;
    if (!this.question.trim()) {
      new import_obsidian4.Notice(t("manualCard.error.emptyFront", lang));
      return;
    }
    if (!this.answer.trim()) {
      new import_obsidian4.Notice(t("manualCard.error.emptyBack", lang));
      return;
    }
    try {
      await this.plugin.flashcardManager.createFlashcardFromUnit(
        this.unit,
        {
          customQuestion: this.question.trim(),
          customAnswer: this.answer.trim(),
          cardType: this.type
        }
      );
      new import_obsidian4.Notice(t(this.type === "qa" ? "manualCard.success.qa" : "manualCard.success.cloze", lang));
      this.close();
      this.refreshOverviewView();
    } catch (error) {
      new import_obsidian4.Notice(t("manualCard.createFailed", lang));
      console.error("Error creating flashcard:", error);
    }
  }
  refreshOverviewView() {
    var _a, _b;
    const view = ((_a = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW)[0]) == null ? void 0 : _a.view) || ((_b = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0]) == null ? void 0 : _b.view);
    if (view && "refresh" in view) {
      view.refresh();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/modals/EditFlashcardModal.ts
var import_obsidian5 = require("obsidian");
var EditFlashcardModal = class extends import_obsidian5.Modal {
  constructor(app, plugin, card) {
    super(app);
    this.plugin = plugin;
    this.card = card;
    this.front = card.front;
    this.back = Array.isArray(card.back) ? card.back.join(", ") : card.back;
  }
  onOpen() {
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.empty();
    contentEl.addClass("edit-flashcard-modal");
    contentEl.createEl("h2", {
      text: t("editCard.title", lang)
    });
    contentEl.createEl("p", {
      text: t(this.card.type === "qa" ? "editCard.description.qa" : "editCard.description.cloze", lang),
      cls: "modal-description"
    });
    const infoDiv = contentEl.createDiv({ cls: "card-info" });
    infoDiv.innerHTML = `
      <div style="background: var(--background-secondary); padding: 10px; border-radius: 6px; margin-bottom: 15px;">
        <div style="font-size: 0.9em; color: var(--text-muted);">
          ${t("editCard.info.file", lang)}: ${this.card.sourceFile.split("/").pop()}<br>
          ${t("editCard.info.deck", lang)}: ${this.card.deck}<br>
          ${t("editCard.info.reviews", lang)}: ${this.card.stats.totalReviews}${t("editCard.info.correct", lang)}: ${this.card.stats.correctCount}\u6B21
        </div>
      </div>
    `;
    new import_obsidian5.Setting(contentEl).setName(t(this.card.type === "qa" ? "editCard.front.qa" : "editCard.front.cloze", lang)).setDesc(t("editCard.front.desc", lang)).addTextArea((text) => {
      text.setValue(this.front).onChange((value) => this.front = value);
      text.inputEl.rows = 4;
      text.inputEl.style.width = "100%";
    });
    new import_obsidian5.Setting(contentEl).setName(t(this.card.type === "qa" ? "editCard.back.qa" : "editCard.back.cloze", lang)).setDesc(t(this.card.type === "qa" ? "editCard.back.desc.qa" : "editCard.back.desc.cloze", lang)).addTextArea((text) => {
      text.setValue(this.back).onChange((value) => this.back = value);
      text.inputEl.rows = 3;
      text.inputEl.style.width = "100%";
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    new import_obsidian5.Setting(buttonContainer).addButton(
      (btn) => btn.setButtonText(t("editCard.cancel", lang)).onClick(() => this.close())
    ).addButton(
      (btn) => btn.setButtonText(t("editCard.save", lang)).setCta().onClick(async () => await this.saveFlashcard())
    );
  }
  async saveFlashcard() {
    const lang = this.plugin.settings.language;
    if (!this.front.trim()) {
      new import_obsidian5.Notice(t("editCard.error.emptyFront", lang));
      return;
    }
    if (!this.back.trim()) {
      new import_obsidian5.Notice(t("editCard.error.emptyBack", lang));
      return;
    }
    try {
      this.card.front = this.front.trim();
      if (this.card.type === "cloze") {
        this.card.back = this.back.split(",").map((s) => s.trim()).filter((s) => s);
      } else {
        this.card.back = this.back.trim();
      }
      this.card.metadata.updatedAt = Date.now();
      await this.plugin.flashcardManager.updateCard(this.card);
      new import_obsidian5.Notice(t("editCard.success", lang));
      this.close();
      this.refreshOverviewView();
    } catch (error) {
      new import_obsidian5.Notice(t("editCard.saveFailed", lang));
      console.error("Error updating flashcard:", error);
    }
  }
  refreshOverviewView() {
    var _a, _b;
    const view = ((_a = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW)[0]) == null ? void 0 : _a.view) || ((_b = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0]) == null ? void 0 : _b.view);
    if (view && "refresh" in view) {
      view.refresh();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/components/ContextMenuBuilder.ts
var import_obsidian6 = require("obsidian");
var ContextMenuBuilder = class {
  /**
   * 构建内容单元的右键菜单
   */
  static buildContentUnitMenu(unit, callbacks, language = "en") {
    const menu = new import_obsidian6.Menu();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.jumpToSource", language)).setIcon("arrow-up-right").onClick(() => callbacks.onJumpToSource(unit))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.editAnnotation", language)).setIcon("message-square").onClick(() => callbacks.onToggleAnnotation(unit))
    );
    menu.addSeparator();
    if (unit.flashcardIds.length > 0) {
      menu.addItem(
        (item) => item.setTitle(t("contextMenu.editFlashcard", language)).setIcon("pencil").onClick(() => callbacks.onEditFlashcard(unit))
      );
    }
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.generateFlashcard", language)).setIcon("zap").onClick(() => callbacks.onQuickGenerate(unit))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.createQA", language)).setIcon("plus").onClick(() => callbacks.onCreateQA(unit))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.createCloze", language)).setIcon("plus").onClick(() => callbacks.onCreateCloze(unit))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.viewStats", language)).setIcon("bar-chart").onClick(() => callbacks.onViewStats())
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.deleteNote", language)).setIcon("trash").onClick(() => callbacks.onDelete(unit))
    );
    return menu;
  }
  /**
   * 构建闪卡的右键菜单
   */
  static buildFlashcardMenu(card, callbacks, language = "en") {
    const menu = new import_obsidian6.Menu();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.jumpToSource", language)).setIcon("arrow-up-right").onClick(() => callbacks.onJumpToSource(card))
    );
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.editCard", language)).setIcon("pencil").onClick(() => callbacks.onEdit(card))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.viewStats", language)).setIcon("bar-chart").onClick(() => callbacks.onViewStats(card))
    );
    menu.addSeparator();
    menu.addItem(
      (item) => item.setTitle(t("contextMenu.deleteCard", language)).setIcon("trash").onClick(() => callbacks.onDelete(card))
    );
    return menu;
  }
  /**
   * 格式化闪卡统计信息
   */
  static formatFlashcardStats(card, language = "en") {
    var _a;
    const locale = language === "zh-CN" ? "zh-CN" : "en-US";
    const createdDate = new Date(card.metadata.createdAt).toLocaleString(locale);
    const lastReview = card.stats.lastReview ? new Date(card.stats.lastReview).toLocaleString(locale) : t("stats.lastReview.never", language);
    const nextReview = new Date(card.scheduling.due).toLocaleString(locale);
    const accuracy = card.stats.totalReviews > 0 ? (card.stats.correctCount / card.stats.totalReviews * 100).toFixed(1) : "0";
    const separator = t("stats.separator", language);
    return `${t("stats.title", language)}
${separator}
${t("stats.file", language)}: ${card.sourceFile.split("/").pop()}
${t("stats.type", language)}: ${t(card.type === "qa" ? "stats.type.qa" : "stats.type.cloze", language)}
${t("stats.deck", language)}: ${card.deck}
${t("stats.tags", language)}: ${((_a = card.tags) == null ? void 0 : _a.length) > 0 ? card.tags.join(", ") : t("stats.tags.none", language)}
${separator}
${t("stats.reviewCount", language)}: ${card.stats.totalReviews} ${t("stats.times", language)}
${t("stats.correctCount", language)}: ${card.stats.correctCount} ${t("stats.times", language)}
${t("stats.accuracy", language)}: ${accuracy}%
${t("stats.averageTime", language)}: ${card.stats.averageTime.toFixed(1)}${t("stats.seconds", language)}
${t("stats.difficulty", language)}: ${(card.stats.difficulty * 100).toFixed(0)}%
${separator}
${t("stats.createdAt", language)}: ${createdDate}
${t("stats.lastReview", language)}: ${lastReview}
${t("stats.nextReview", language)}: ${nextReview}
${t("stats.interval", language)}: ${card.scheduling.interval}${t("stats.days", language)}
${t("stats.ease", language)}: ${card.scheduling.ease.toFixed(2)}`;
  }
};

// src/ui/components/modals/BatchCreateModal.ts
var import_obsidian7 = require("obsidian");
var BatchCreateModal = class extends import_obsidian7.Modal {
  constructor(app, plugin, quickCreator, units, onComplete) {
    super(app);
    this.plugin = plugin;
    this.quickCreator = quickCreator;
    this.units = units;
    this.onComplete = onComplete;
  }
  onOpen() {
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.createEl("h2", { text: t("batchCreate.title", lang) });
    contentEl.createEl("p", {
      text: t("batchCreate.description", lang, { count: this.units.length })
    });
    const typeContainer = contentEl.createDiv({ cls: "type-select-container" });
    typeContainer.createEl("h3", { text: t("batchCreate.cardType", lang) });
    let selectedType = "smart";
    const types = [
      {
        value: "smart",
        label: t("batchCreate.smartType", lang),
        desc: t("batchCreate.smartType.desc", lang)
      },
      {
        value: "qa",
        label: t("batchCreate.qaType", lang),
        desc: t("batchCreate.qaType.desc", lang)
      },
      {
        value: "cloze",
        label: t("batchCreate.clozeType", lang),
        desc: t("batchCreate.clozeType.desc", lang)
      }
    ];
    types.forEach((type) => {
      const option = typeContainer.createDiv({ cls: "type-option" });
      const radio = option.createEl("input", {
        type: "radio",
        value: type.value,
        attr: { name: "card-type" }
      });
      if (type.value === "smart")
        radio.checked = true;
      const label = option.createDiv({ cls: "type-label" });
      label.createEl("strong", { text: type.label });
      label.createEl("div", { text: type.desc, cls: "type-desc" });
      option.addEventListener("click", () => {
        radio.checked = true;
        selectedType = type.value;
      });
    });
    const buttonContainer = contentEl.createDiv({ cls: "modal-button-container" });
    const cancelBtn = buttonContainer.createEl("button", {
      text: t("batchCreate.cancel", lang)
    });
    cancelBtn.addEventListener("click", () => this.close());
    const createBtn = buttonContainer.createEl("button", {
      text: t("batchCreate.createButton", lang, { count: this.units.length }),
      cls: "mod-cta"
    });
    createBtn.addEventListener("click", async () => {
      await this.batchCreate(selectedType);
    });
    this.addStyles();
  }
  async batchCreate(type) {
    const { success, failed } = await this.quickCreator.createBatchCards(this.units, type);
    const lang = this.plugin.settings.language;
    new import_obsidian7.Notice(t("batchCreate.successNotice", lang, { success, failed }));
    this.close();
    this.onComplete();
  }
  addStyles() {
    const styleEl = document.createElement("style");
    styleEl.textContent = `
      .type-select-container {
        margin: 20px 0;
      }

      .type-option {
        padding: 15px;
        margin: 10px 0;
        background: var(--background-secondary);
        border: 2px solid var(--background-modifier-border);
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .type-option:hover {
        border-color: var(--interactive-accent);
        background: var(--background-modifier-hover);
      }

      .type-option input[type="radio"] {
        margin-right: 10px;
      }

      .type-label {
        display: inline-block;
        vertical-align: top;
      }

      .type-desc {
        font-size: 0.9em;
        color: var(--text-muted);
        margin-top: 4px;
      }
    `;
    document.head.appendChild(styleEl);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/core/UnlockSystem.ts
var import_obsidian8 = require("obsidian");
var UnlockSystem = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.dataPath = `${this.app.vault.configDir}/plugins/learning-system/data/unlock-progress.json`;
  }
  get language() {
    return this.plugin.settings.language || "en";
  }
  async initialize() {
    await this.loadProgress();
    this.updateDailyStreak();
  }
  // ==================== 核心检查点 ====================
  /**
   * 🎯 卡片提取完成时调用
   */
  async onCardExtracted() {
    this.progress.stats.cardsExtracted++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 提取为text时调用
   */
  async onNoteExtractedAsText() {
    this.progress.stats.notesExtractedAsText++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 提取为QA时调用
   */
  async onNoteExtractedAsQA() {
    this.progress.stats.notesExtractedAsQA++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 提取为cloze时调用
   */
  async onNoteExtractedAsCloze() {
    this.progress.stats.notesExtractedAsCloze++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 scan提取笔记时调用
   */
  async onNoteScanned() {
    this.progress.stats.notesScanned++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 批注完成时调用
   */
  async onAnnotationCompleted() {
    this.progress.stats.annotationsCompleted++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 卡片复习完成时调用
   */
  async onCardReviewed() {
    this.progress.stats.cardsReviewed++;
    this.updateDailyStreak();
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 扫描表格时调用
   */
  async onTableScanned() {
    this.progress.stats.tablesScanned++;
    await this.checkLevelUp();
    await this.saveProgress();
  }
  /**
   * 🎯 访问统计页面时调用
   */
  async onStatsPageVisited() {
    if (!this.progress.stats.statsPageVisited) {
      this.progress.stats.statsPageVisited = true;
      await this.checkLevelUp();
      await this.saveProgress();
    }
  }
  // ==================== 功能权限检查 ====================
  /**
   * 检查功能是否解锁
   */
  isFeatureUnlocked(feature) {
    const level = this.progress.currentLevel;
    const featureMap = {
      // Lv1
      "extract-single": 1,
      "sidebar-basic": 1,
      // Lv2
      "extract-batch": 2,
      "annotation": 2,
      "filter-by-type": 2,
      // Lv3
      "scan-vault": 3,
      "scan-file": 3,
      "review-page": 3,
      "review-reminder": 3,
      "extract-table": 3,
      // Lv4
      "stats-page": 4,
      // Lv5
      "advanced-analytics": 5,
      "community": 5
    };
    const requiredLevel = featureMap[feature] || 1;
    return level >= requiredLevel;
  }
  /**
   * 尝试使用功能(如果未解锁则提示)
   */
  tryUseFeature(feature, featureName) {
    if (this.isFeatureUnlocked(feature)) {
      return true;
    }
    const requiredLevel = this.getFeatureRequiredLevel(feature);
    const nextSteps = this.getNextStepsForLevel(this.progress.currentLevel);
    new UnlockNoticeModal(
      this.app,
      featureName,
      requiredLevel,
      nextSteps,
      this.language
    ).open();
    return false;
  }
  // ==================== 等级检查和升级 ====================
  async checkLevelUp() {
    const oldLevel = this.progress.currentLevel;
    let newLevel = oldLevel;
    if (oldLevel === 1 && this.canUpgradeToLevel2()) {
      newLevel = 2;
    } else if (oldLevel === 2 && this.canUpgradeToLevel3()) {
      newLevel = 3;
    } else if (oldLevel === 3 && this.canUpgradeToLevel4()) {
      newLevel = 4;
    } else if (oldLevel === 4 && this.canUpgradeToLevel5()) {
      newLevel = 5;
    }
    if (newLevel > oldLevel) {
      await this.levelUp(newLevel);
    }
  }
  canUpgradeToLevel2() {
    const { notesExtractedAsText, notesExtractedAsQA, notesExtractedAsCloze } = this.progress.stats;
    return notesExtractedAsText >= 3 && notesExtractedAsQA >= 3 && notesExtractedAsCloze >= 3;
  }
  canUpgradeToLevel3() {
    return this.progress.stats.annotationsCompleted >= 3 && this.progress.stats.notesScanned >= 5;
  }
  canUpgradeToLevel4() {
    return this.progress.stats.cardsReviewed >= 30 && this.progress.stats.tablesScanned >= 2;
  }
  canUpgradeToLevel5() {
    return this.progress.stats.cardsReviewed >= 70 && this.progress.stats.totalDays >= 21 && this.progress.stats.statsPageVisited;
  }
  async levelUp(newLevel) {
    this.progress.currentLevel = newLevel;
    this.progress.levelUnlockedAt[newLevel] = Date.now();
    const message = t(`unlock.levelUp.${newLevel}`, this.language);
    const milestone = {
      level: newLevel,
      unlockedAt: Date.now()
    };
    this.progress.milestones.push(milestone);
    new import_obsidian8.Notice(message, 1e4);
    await this.saveProgress();
  }
  // ==================== 日常连续天数 ====================
  updateDailyStreak() {
    const today = new Date().toISOString().split("T")[0];
    const lastActive = this.progress.stats.lastActiveDate;
    if (lastActive !== today) {
      const yesterday = new Date();
      yesterday.setDate(yesterday.getDate() - 1);
      const yesterdayStr = yesterday.toISOString().split("T")[0];
      if (lastActive === yesterdayStr) {
        this.progress.stats.consecutiveDays++;
      } else if (!lastActive) {
        this.progress.stats.consecutiveDays = 1;
      } else {
        this.progress.stats.consecutiveDays = 1;
      }
      this.progress.stats.totalDays++;
      this.progress.stats.lastActiveDate = today;
    }
  }
  // ==================== 辅助方法 ====================
  getCurrentLevel() {
    return this.progress.currentLevel;
  }
  getProgress() {
    return this.progress;
  }
  getNextStepsForLevel(level) {
    const stats = this.progress.stats;
    const lang = this.language;
    switch (level) {
      case 1:
        return t("unlock.nextSteps.level1", lang, {
          text: stats.notesExtractedAsText,
          qa: stats.notesExtractedAsQA,
          cloze: stats.notesExtractedAsCloze
        });
      case 2:
        return t("unlock.nextSteps.level2", lang, {
          annotations: stats.annotationsCompleted,
          scanned: stats.notesScanned
        });
      case 3:
        return t("unlock.nextSteps.level3", lang, {
          reviewed: stats.cardsReviewed,
          tables: stats.tablesScanned
        });
      case 4:
        return t("unlock.nextSteps.level4", lang, {
          reviewed: stats.cardsReviewed,
          total: stats.totalDays,
          visited: stats.statsPageVisited ? "\u2713" : "\u2717"
        });
      case 5:
        return t("unlock.nextSteps.level5", lang);
      default:
        return "";
    }
  }
  getFeatureRequiredLevel(feature) {
    if (["extract-single", "sidebar-basic"].includes(feature))
      return 1;
    if (["extract-batch", "annotation", "filter-by-type"].includes(feature))
      return 2;
    if (["scan-vault", "scan-file", "review-page", "review-reminder", "extract-table"].includes(feature))
      return 3;
    if (feature === "stats-page")
      return 4;
    return 5;
  }
  // ==================== 数据持久化 ====================
  async loadProgress() {
    try {
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(this.dataPath)) {
        const data = await adapter.read(this.dataPath);
        const saved = JSON.parse(data);
        saved.unlockedFeatures = new Set(saved.unlockedFeatures || []);
        this.progress = saved;
      } else {
        this.progress = this.createDefaultProgress();
      }
    } catch (error) {
      console.error("Error loading unlock progress:", error);
      this.progress = this.createDefaultProgress();
    }
  }
  async saveProgress() {
    try {
      const adapter = this.app.vault.adapter;
      const toSave = {
        ...this.progress,
        unlockedFeatures: Array.from(this.progress.unlockedFeatures)
      };
      const data = JSON.stringify(toSave, null, 2);
      await adapter.write(this.dataPath, data);
    } catch (error) {
      console.error("Error saving unlock progress:", error);
    }
  }
  createDefaultProgress() {
    return {
      currentLevel: 1,
      stats: {
        cardsExtracted: 0,
        notesExtractedAsText: 0,
        notesExtractedAsQA: 0,
        notesExtractedAsCloze: 0,
        annotationsCompleted: 0,
        notesScanned: 0,
        cardsReviewed: 0,
        tablesScanned: 0,
        consecutiveDays: 0,
        totalDays: 0,
        statsPageVisited: false,
        lastActiveDate: ""
      },
      unlockedFeatures: /* @__PURE__ */ new Set(["extract-single", "sidebar-basic"]),
      levelUnlockedAt: { 1: Date.now() },
      milestones: [{
        level: 1,
        unlockedAt: Date.now()
      }]
    };
  }
};
var UnlockNoticeModal = class extends import_obsidian8.Modal {
  constructor(app, featureName, requiredLevel, nextSteps, language = "en") {
    super(app);
    this.featureName = featureName;
    this.requiredLevel = requiredLevel;
    this.nextSteps = nextSteps;
    this.language = language;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: t("unlock.modal.title", this.language) });
    contentEl.createEl("p", {
      text: t("unlock.modal.requireLevel", this.language, {
        feature: this.featureName,
        level: this.requiredLevel
      })
    });
    contentEl.createEl("h3", { text: t("unlock.modal.currentProgress", this.language) });
    const container = contentEl.createDiv();
    container.style.padding = "10px";
    container.style.backgroundColor = "var(--background-secondary)";
    container.style.borderRadius = "5px";
    container.style.lineHeight = "1.8";
    container.innerHTML = this.nextSteps.replace(/\n/g, "<br>");
    const divider = contentEl.createEl("div");
    divider.style.width = "100%";
    divider.style.height = "2px";
    divider.style.backgroundColor = "#666";
    divider.style.margin = "20px 0";
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var LevelInfoModal = class extends import_obsidian8.Modal {
  constructor(app, progress, unlockSystem, language = "en") {
    super(app);
    this.progress = progress;
    this.unlockSystem = unlockSystem;
    this.language = language;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("level-info-modal");
    const level = this.progress.currentLevel;
    const levelName = t(`unlock.level.${level}`, this.language);
    contentEl.createEl("h2", {
      text: t("unlock.levelInfo.title", this.language, {
        level,
        name: levelName
      })
    });
    const progressSection = contentEl.createDiv({ cls: "progress-section" });
    const progressBox = progressSection.createDiv({ cls: "progress-box" });
    const progressText = this.unlockSystem.getNextStepsForLevel(this.progress.currentLevel);
    progressBox.innerHTML = progressText.replace(/\n/g, "<br>");
    const statsSection = contentEl.createDiv({ cls: "stats-section" });
    statsSection.createEl("h4", { text: t("unlock.levelInfo.cumulativeStats", this.language) });
    const statsGrid = statsSection.createDiv({ cls: "stats-grid" });
    const stats = [
      {
        icon: "\u{1F4E6}",
        label: t("unlock.stat.cardsExtracted", this.language),
        value: this.progress.stats.cardsExtracted
      },
      {
        icon: "\u{1F4DD}",
        label: t("unlock.stat.annotationsCompleted", this.language),
        value: this.progress.stats.annotationsCompleted
      },
      {
        icon: "\u{1F504}",
        label: t("unlock.stat.cardsReviewed", this.language),
        value: this.progress.stats.cardsReviewed
      },
      {
        icon: "\u{1F4CB}",
        label: t("unlock.stat.tablesScanned", this.language),
        value: this.progress.stats.tablesScanned
      },
      {
        icon: "\u{1F525}",
        label: t("unlock.stat.consecutiveDays", this.language),
        value: this.progress.stats.consecutiveDays
      },
      {
        icon: "\u{1F4C5}",
        label: t("unlock.stat.totalDays", this.language),
        value: this.progress.stats.totalDays
      }
    ];
    stats.forEach((stat) => {
      const item = statsGrid.createDiv({ cls: "stat-item" });
      item.innerHTML = `
        <span class="stat-icon">${stat.icon}</span>
        <span class="stat-label">${stat.label}</span>
        <span class="stat-value">${stat.value}</span>
      `;
    });
    if (this.progress.milestones.length > 0) {
      const milestonesSection = contentEl.createDiv({ cls: "milestones-section" });
      milestonesSection.createEl("h4", {
        text: t("unlock.levelInfo.milestones", this.language)
      });
      const milestonesList = milestonesSection.createDiv({ cls: "milestones-list" });
      this.progress.milestones.slice().reverse().forEach((milestone) => {
        const item = milestonesList.createDiv({ cls: "milestone-item" });
        const date = new Date(milestone.unlockedAt).toLocaleDateString(
          this.language === "zh-CN" ? "zh-CN" : "en-US"
        );
        const message = t(`unlock.levelUp.${milestone.level}`, this.language);
        item.innerHTML = `
            <div class="milestone-message">${date} ${message}</div>
          `;
      });
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/ui/view/SidebarOverviewView.ts
var VIEW_TYPE_SIDEBAR_OVERVIEW = "learning-system-sidebar-overview";
var VIEW_TYPE_MAIN_OVERVIEW = "learning-system-main-overview";
var SidebarOverviewView = class extends import_obsidian9.ItemView {
  constructor(leaf, plugin, forceMainMode = false) {
    super(leaf);
    this.isOpeningEditor = false;
    this.plugin = plugin;
    this._forceMainMode = forceMainMode;
    this.state = new ViewState(forceMainMode);
    this.initializeComponents();
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      this.state.selectedFile = activeFile.path;
    }
    this.setupResizeListener();
  }
  // ==================== 生命周期方法 ====================
  getViewType() {
    const forceMainMode = this._forceMainMode || false;
    return forceMainMode ? VIEW_TYPE_MAIN_OVERVIEW : VIEW_TYPE_SIDEBAR_OVERVIEW;
  }
  getDisplayText() {
    return "Learning Overview";
  }
  getIcon() {
    return "book-marked";
  }
  async onOpen() {
    this.detectDisplayMode();
    const editor = document.querySelector(".cm-editor");
    if (editor) {
      const stopEditorCapture = (e) => {
        const target = e.target;
        if (target.closest(".learning-overview-container")) {
          e.stopPropagation();
          e.stopImmediatePropagation();
        }
      };
      editor.addEventListener("mousedown", stopEditorCapture, true);
      editor.addEventListener("click", stopEditorCapture, true);
    }
    const editorContainer = document.querySelector(".cm-content");
    if (editorContainer) {
      editorContainer.style.pointerEvents = "auto";
      editorContainer.addEventListener("mousedown", (e) => {
        const searchBox = document.querySelector(".search-container");
        if (searchBox && searchBox.contains(e.target)) {
          e.stopPropagation();
          e.preventDefault();
        }
      }, true);
    }
    if (this.state.displayMode === "sidebar") {
      const activeFile = this.app.workspace.getActiveFile();
      if (activeFile) {
        this.state.selectedFile = activeFile.path;
      }
    }
    if (!this.state.forceMainMode) {
      this.registerActiveLeafChange();
    }
    this.state.updateDueCount(this.plugin.flashcardManager);
    this.render();
    StyleLoader.inject();
    reviewStyle.inject();
    await new Promise((resolve) => setTimeout(resolve, 100));
  }
  async onClose() {
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
    }
    this.annotationEditor.closeAll();
  }
  // ==================== 初始化方法 ====================
  initializeComponents() {
    this.overviewService = new sideOverviewService(this.plugin, this.state);
    this.toolbar = new Toolbar(this.state, {
      onSearchChange: (query) => this.handleSearchChange(query),
      onFilterChange: (mode) => this.handleFilterChange(mode),
      onGroupChange: (mode) => this.handleGroupChange(mode),
      onCheckReview: () => this.checkReviewReminder(),
      checkFilterHasNotes: (mode) => this.checkFilterHasNotes(mode),
      checkGroupHasNotes: (mode) => this.checkGroupHasNotes(mode)
    }, this.plugin.settings.language);
    const batchCallbacks = {
      onSelectAll: () => this.handleSelectAll(),
      onDeselectAll: () => this.handleDeselectAll(),
      onBatchCreate: () => this.handleBatchCreate(),
      onBatchDelete: () => this.handleBatchDelete(),
      onCancel: () => this.handleBatchCancel()
    };
    this.batchActions = new BatchActions(this.state, batchCallbacks, this.toolbar, this.plugin.settings.language);
    const cardCallbacks = {
      onJumpToSource: (unit) => this.jumpToSource(unit),
      onJumpToFlashcard: (card) => this.jumpToFlashcardSource(card),
      onToggleAnnotation: (card, unit) => {
        if (!this.plugin.unlockSystem.tryUseFeature("annotation", "Annotation")) {
          return;
        }
        this.isOpeningEditor = true;
        this.annotationEditor.toggle(card, unit);
        setTimeout(() => {
          this.isOpeningEditor = false;
        }, 500);
      },
      onQuickFlashcard: (unit) => this.quickGenerateFlashcard(unit),
      onShowContextMenu: (event, unit) => this.showContextMenu(event, unit),
      onFlashcardContextMenu: (event, card) => this.showFlashcardContextMenu(event, card),
      getAnnotationContent: (unitId) => {
        const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
        return ann == null ? void 0 : ann.content;
      },
      getContentUnit: (unitId) => {
        const allUnits = this.plugin.dataManager.getAllContentUnits();
        const unit = this.plugin.dataManager.getContentUnit(unitId);
        if (unit) {
          return unit;
        } else {
          return void 0;
        }
      }
    };
    this.contentList = new ContentList(this.state, cardCallbacks);
    const annotationCallbacks = {
      onSave: async (unitId, content) => {
        await this.saveAnnotation(unitId, content);
      },
      onCancel: (unitId) => {
      },
      getAnnotationContent: (unitId) => {
        const ann = this.plugin.annotationManager.getContentAnnotation(unitId);
        return ann == null ? void 0 : ann.content;
      }
    };
    this.annotationEditor = new AnnotationEditor(annotationCallbacks);
  }
  setupResizeListener() {
    let resizeTimer;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimer);
      resizeTimer = window.setTimeout(() => {
        this.detectDisplayMode();
        this.render();
      }, 150);
    });
  }
  registerActiveLeafChange() {
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", () => {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile && this.state.displayMode === "sidebar") {
          this.state.selectedFile = activeFile.path;
          this.refresh();
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("file-open", (file) => {
        if (file && this.state.displayMode === "sidebar") {
          this.state.selectedFile = file.path;
          this.refresh();
        }
      })
    );
  }
  // ==================== 显示模式检测 ====================
  detectDisplayMode() {
    if (this.state.forceMainMode) {
      this.state.displayMode = "main";
      return;
    }
    const parentSplit = this.leaf.parentSplit;
    const isLeftSidebar = (parentSplit == null ? void 0 : parentSplit.type) === "split" && this.app.workspace.leftSplit === parentSplit;
    const isRightSidebar = (parentSplit == null ? void 0 : parentSplit.type) === "split" && this.app.workspace.rightSplit === parentSplit;
    const width = this.containerEl.clientWidth;
    const isNarrow = width < 500;
    const isSidebar = isLeftSidebar || isRightSidebar || isNarrow;
    this.state.displayMode = isSidebar ? "sidebar" : "main";
  }
  // ==================== 渲染方法 ====================
  refresh() {
    const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
    if (hasActiveEditors || this.isOpeningEditor) {
      return;
    }
    if (this.state.isRendering) {
      requestAnimationFrame(() => this.refresh());
      return;
    }
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
      this.state.searchDebounceTimer = null;
    }
    this.state.shouldRestoreScroll = true;
    this.render();
  }
  render() {
    if (this.state.isRendering)
      return;
    this.state.isRendering = true;
    const container = this.containerEl.children[1];
    if (this.state.displayMode === "sidebar") {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        this.state.savedScrollPosition = contentList.scrollTop;
      }
    }
    container.empty();
    container.addClass("learning-overview-container");
    container.setAttribute("data-mode", this.state.displayMode);
    if (this.state.displayMode === "sidebar") {
      this.renderSidebarMode(container);
    } else {
      this.renderMainMode(container);
    }
    if (this.state.displayMode === "sidebar" && this.state.shouldRestoreScroll) {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        requestAnimationFrame(() => {
          contentList.scrollTop = this.state.savedScrollPosition;
        });
      }
    }
    this.state.isRendering = false;
  }
  // src/ui/SidebarOverviewView.ts
  renderSidebarMode(container) {
    const toolbarEl = this.toolbar.renderSidebarToolbar(container);
    let statsRow = toolbarEl.querySelector(".stats-row");
    if (!statsRow) {
      statsRow = toolbarEl.createDiv({ cls: "stats-row" });
      statsRow.setAttribute("data-stats-container", "true");
    }
    const currentFileUnits = this.getFilteredUnits();
    const items = this.state.viewType === "cards" ? this.getFilteredCardsForCurrentFile() : currentFileUnits;
    const leftActions = statsRow.createDiv({ cls: "stats-left" });
    this.batchActions.renderSelectAllButton(leftActions, items, "sidebar");
    const centerActions = statsRow.createDiv({ cls: "stats-center" });
    this.batchActions.renderActionButtons(centerActions, "sidebar");
    const progress = this.plugin.unlockSystem.getProgress();
    const shouldShowFullBadge = this.shouldShowFullLevelBadge(progress);
    if (shouldShowFullBadge) {
      const levelBadge = container.createDiv({ cls: "level-badge" });
      const levelNames = {
        1: "Collector",
        2: "Thinker",
        3: "Memorizer",
        4: "Trainer",
        5: "Analyst"
      };
      const levelName = levelNames[progress.currentLevel] || "";
      levelBadge.textContent = `Lv${progress.currentLevel}:  ${levelName}`;
      levelBadge.style.fontSize = "1em";
      const progressText = container.createDiv({ cls: "progress-text" });
      progressText.innerHTML = this.plugin.unlockSystem.getNextStepsForLevel(progress.currentLevel).replace(/\n/g, "<br>");
      progressText.style.fontSize = "0.93em";
      const divider = container.createDiv({ cls: "level-divider" });
      divider.style.width = "calc(100% - 24px)";
      divider.style.height = "1px";
      divider.style.backgroundColor = "var(--background-modifier-border)";
      divider.style.margin = "12px auto";
    }
    const rightActions = statsRow.createDiv({ cls: "stats-right" });
    if (!shouldShowFullBadge && progress.currentLevel === 5) {
      this.renderLevelBadge(rightActions, progress);
    }
    this.batchActions.renderReviewCheckButton(rightActions, "sidebar");
    const contentListEl = container.createDiv({ cls: "sidebar-content-list" });
    this.contentList.renderCompactList(contentListEl, currentFileUnits);
    this.insertReviewReminderAtTop(contentListEl);
  }
  renderMainMode(container) {
    const layout = container.createDiv({ cls: "main-layout" });
    const leftPanel = layout.createDiv({ cls: "left-panel" });
    this.renderLeftPanel(leftPanel);
    const rightPanel = layout.createDiv({ cls: "right-panel" });
    this.renderRightPanel(rightPanel);
  }
  renderLeftPanel(container) {
    this.toolbar.renderMainToolbar(container);
    this.renderFixedEntries(container);
    this.renderFileList(container);
  }
  renderRightPanel(container) {
    if (this.state.viewType === "cards") {
      this.renderFlashcardsView(container);
      return;
    }
    if (!this.state.selectedFile) {
      const units = this.getFilteredUnits();
      const grouped = this.contentList.groupUnits(units);
      if (grouped.length > 0) {
        this.state.selectedFile = grouped[0].groupKey;
      }
    }
    if (!this.state.selectedFile) {
      this.renderEmptyRightPanel(container);
      return;
    }
    const header = container.createDiv({ cls: "grid-header" });
    header.createEl("h2", { text: this.state.selectedFile || "\u5185\u5BB9" });
    const headerActions = header.createDiv({ cls: "header-actions" });
    const visibleItems = this.getVisibleItems();
    const items = visibleItems.units || [];
    this.batchActions.renderActionButtons(headerActions, "header");
    this.batchActions.renderSelectAllButton(headerActions, items, "header");
    const gridContainer = container.createDiv({ cls: "content-grid" });
    const filteredUnits = this.getFilteredUnitsForSelectedGroup();
    this.contentList.renderContentGrid(gridContainer, filteredUnits);
  }
  renderFlashcardsView(container) {
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    if (!this.state.selectedFile) {
      const grouped = this.contentList.groupFlashcards(
        flashcards,
        (id) => this.plugin.dataManager.getContentUnit(id)
      );
      if (grouped.length > 0) {
        this.state.selectedFile = grouped[0].groupKey;
      }
    }
    if (!this.state.selectedFile) {
      this.renderEmptyRightPanel(container);
      return;
    }
    const header = container.createDiv({ cls: "grid-header" });
    header.createEl("h2", { text: this.state.selectedFile || "\u95EA\u5361" });
    const headerActions = header.createDiv({ cls: "header-actions" });
    const visibleItems = this.getVisibleItems();
    const items = visibleItems.cards || [];
    this.batchActions.renderActionButtons(headerActions, "header");
    this.batchActions.renderSelectAllButton(headerActions, items, "header");
    const gridContainer = container.createDiv({ cls: "content-grid" });
    const filteredCards = this.getFilteredCardsForSelectedGroup();
    this.contentList.renderFlashcardsGrid(gridContainer, filteredCards);
  }
  renderFixedEntries(container) {
    const entries = container.createDiv({ cls: "fixed-entries" });
    const allNotesBtn = entries.createDiv({
      cls: `entry-btn ${this.state.viewType === "notes" ? "active" : ""}`
    });
    allNotesBtn.innerHTML = "\u{1F4DD} <span>All Notes</span>";
    allNotesBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.state.setViewType("notes")) {
        this.render();
      }
    });
    const cardListBtn = entries.createDiv({
      cls: `entry-btn ${this.state.viewType === "cards" ? "active" : ""}`
    });
    cardListBtn.innerHTML = "\u{1F0CF} <span>Card List</span>";
    cardListBtn.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      if (this.state.setViewType("cards")) {
        this.render();
      }
    });
  }
  renderFileList(container) {
    container.createEl("h3", { text: this.t("fileList.title"), cls: "panel-title" });
    const fileListContainer = container.createDiv({ cls: "file-list" });
    this.renderFileListContent(fileListContainer);
  }
  renderFileListContent(container) {
    container.empty();
    let grouped;
    if (this.state.viewType === "cards") {
      const flashcards = this.plugin.flashcardManager.getAllFlashcards();
      if (this.state.groupMode === "annotation") {
        const annotatedCards = [];
        const unannotatedCards = [];
        flashcards.forEach((card) => {
          const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
          if (unit && unit.annotationId) {
            annotatedCards.push(card);
          } else {
            unannotatedCards.push(card);
          }
        });
        const fileGroups = /* @__PURE__ */ new Map();
        annotatedCards.forEach((card) => {
          const fileName = card.sourceFile;
          if (!fileGroups.has(fileName)) {
            fileGroups.set(fileName, []);
          }
          fileGroups.get(fileName).push(card);
        });
        grouped = [];
        fileGroups.forEach((cards, fileName) => {
          grouped.push({
            groupKey: fileName,
            count: cards.length
          });
        });
        if (unannotatedCards.length > 0) {
          grouped.push({
            groupKey: "filter.unannotated",
            count: unannotatedCards.length
          });
        }
      } else {
        const cardGroups = this.contentList.groupFlashcards(
          flashcards,
          (id) => this.plugin.dataManager.getContentUnit(id)
        );
        grouped = cardGroups.map((g) => ({
          groupKey: g.groupKey,
          count: g.cards.length
        }));
      }
    } else {
      const units = this.getFilteredUnits();
      if (this.state.groupMode === "annotation") {
        const annotatedUnits = units.filter((u) => u.annotationId);
        const unannotatedUnits = units.filter((u) => !u.annotationId);
        const fileGroups = /* @__PURE__ */ new Map();
        annotatedUnits.forEach((unit) => {
          const fileName = unit.source.file;
          if (!fileGroups.has(fileName)) {
            fileGroups.set(fileName, []);
          }
          fileGroups.get(fileName).push(unit);
        });
        grouped = [];
        fileGroups.forEach((units2, fileName) => {
          grouped.push({
            groupKey: fileName,
            count: units2.length
          });
        });
        if (unannotatedUnits.length > 0) {
          grouped.push({
            groupKey: "filter.unannotated",
            count: unannotatedUnits.length
          });
        }
      } else {
        const unitGroups = this.contentList.groupUnits(units);
        grouped = unitGroups.map((g) => ({
          groupKey: g.groupKey,
          count: g.units.length
        }));
      }
    }
    if (grouped.length === 0) {
      container.createDiv({ text: this.t("empty.noDocuments"), cls: "empty-hint" });
      return;
    }
    if (!this.state.selectedFile && grouped.length > 0) {
      this.state.selectedFile = grouped[0].groupKey;
    }
    grouped.forEach(({ groupKey, count }) => {
      const fileItem = container.createDiv({
        cls: `file-item ${this.state.selectedFile === groupKey ? "selected" : ""}`
      });
      const displayName = groupKey === "filter.unannotated" ? this.t("filter.unannotated") : groupKey;
      fileItem.innerHTML = `
        <span class="file-icon">${this.getGroupIcon()}</span>
        <span class="file-name">${displayName}</span>
        <span class="file-count">${count}</span>
      `;
      fileItem.addEventListener("mousedown", (e) => {
        e.stopPropagation();
        e.preventDefault();
        if (this.state.selectedFile !== groupKey) {
          this.annotationEditor.closeAll();
          this.state.selectedFile = groupKey;
          const allItems = container.querySelectorAll(".file-item");
          allItems.forEach((item) => item.removeClass("selected"));
          fileItem.addClass("selected");
          this.refreshRightPanel();
        }
      });
    });
  }
  renderEmptyRightPanel(container) {
    const empty = container.createDiv({ cls: "empty-right-panel" });
    empty.innerHTML = `
      <div class="empty-icon">\u{1F4ED}</div>
      <div class="empty-text">${this.t("empty.noContent")}</div>
    `;
  }
  // ==================== 事件处理方法 ====================
  handleSearchChange(query) {
    this.state.setSearchQuery(query);
    if (this.state.searchDebounceTimer !== null) {
      window.clearTimeout(this.state.searchDebounceTimer);
    }
    this.state.searchDebounceTimer = window.setTimeout(() => {
      const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
      if (hasActiveEditors) {
        return;
      }
      this.state.clearSelection();
      this.refreshContentOnly();
    }, 300);
  }
  // 添加新方法:只刷新内容列表
  refreshContentOnly() {
    if (this.isOpeningEditor) {
      return;
    }
    const hasActiveEditors = document.querySelector(".inline-annotation-editor") !== null;
    if (hasActiveEditors) {
      return;
    }
    const container = this.containerEl.children[1];
    if (this.state.displayMode === "sidebar") {
      const contentList = container.querySelector(".sidebar-content-list");
      if (contentList) {
        const scrollPos = contentList.scrollTop;
        const editingCards = /* @__PURE__ */ new Map();
        contentList.querySelectorAll(".inline-annotation-editor").forEach((editor) => {
          const card = editor.closest("[data-unit-id]");
          if (card) {
            const unitId = card.getAttribute("data-unit-id");
            if (unitId) {
              editingCards.set(unitId, editor.cloneNode(true));
            }
          }
        });
        contentList.empty();
        const currentFileUnits = this.getFilteredUnits();
        this.contentList.renderCompactList(contentList, currentFileUnits);
        this.insertReviewReminderAtTop(contentList);
        if (editingCards.size > 0) {
          requestAnimationFrame(() => {
            editingCards.forEach((editor, unitId) => {
              const card = contentList.querySelector(`[data-unit-id="${unitId}"]`);
              if (card) {
                card.setAttribute("data-editing", "true");
                const preview = card.querySelector(".annotation-preview");
                if (preview) {
                  preview.replaceWith(editor);
                  const textarea = editor.querySelector("textarea");
                  if (textarea) {
                    this.annotationEditor["bindEditorEvents"](textarea, unitId);
                    requestAnimationFrame(() => {
                      textarea.focus();
                    });
                  }
                }
              }
            });
          });
        }
        contentList.scrollTop = scrollPos;
      }
    } else {
      this.refreshRightPanel();
      const fileListContainer = container.querySelector(".file-list");
      if (fileListContainer) {
        this.renderFileListContent(fileListContainer);
      }
    }
  }
  handleFilterChange(mode) {
    if (this.state.setFilterMode(mode)) {
      this.state.shouldRestoreScroll = false;
      this.render();
    }
  }
  handleGroupChange(mode) {
    if (this.state.setGroupMode(mode)) {
      this.render();
    }
  }
  handleSelectAll() {
    const visible = this.getVisibleItems();
    if (this.state.viewType === "cards") {
      const cards = visible.cards || [];
      if (cards.length === 0) {
        new import_obsidian9.Notice(this.t("notice.noSelection"));
        return;
      }
      this.state.selectAllCards(cards);
    } else {
      const units = visible.units || [];
      if (units.length === 0) {
        new import_obsidian9.Notice(this.t("notice.noSelection"));
        return;
      }
      this.state.selectAllUnits(units);
    }
    this.render();
  }
  handleDeselectAll() {
    const visible = this.getVisibleItems();
    if (this.state.viewType === "cards") {
      this.state.deselectAllCards(visible.cards || []);
    } else {
      this.state.deselectAllUnits(visible.units || []);
    }
    this.render();
  }
  handleBatchCreate() {
    if (this.state.selectedUnitIds.size === 0) {
      new import_obsidian9.Notice(this.t("notice.noSelection"));
      return;
    }
    this.batchCreateFlashcards();
  }
  handleBatchDelete() {
    if (this.state.getSelectedCount() === 0) {
      new import_obsidian9.Notice(this.t("notice.noSelection"));
      return;
    }
    if (this.state.viewType === "cards") {
      this.batchDeleteFlashcards();
    } else {
      this.batchDeleteNotes();
    }
  }
  handleBatchCancel() {
    this.state.clearSelection();
    this.render();
  }
  // ==================== 数据获取方法 ====================
  getFilteredUnits() {
    let units = this.plugin.dataManager.getAllContentUnits();
    if (this.state.displayMode === "sidebar" && this.state.selectedFile) {
      units = units.filter((unit) => unit.source.file === this.state.selectedFile);
    }
    if (this.state.searchQuery) {
      const query = this.state.searchQuery.toLowerCase();
      units = units.filter(
        (unit) => unit.content.toLowerCase().includes(query) || unit.source.file.toLowerCase().includes(query) || unit.metadata.tags.some((tag) => tag.toLowerCase().includes(query))
      );
    }
    if (this.state.filterMode === "annotated") {
      units = units.filter((u) => u.annotationId);
    } else if (this.state.filterMode === "flashcards") {
      units = units.filter((u) => u.flashcardIds.length > 0);
    }
    return units;
  }
  getFilteredUnitsForSelectedGroup() {
    const units = this.getFilteredUnits();
    const selected = this.state.selectedFile;
    if (!selected)
      return [];
    return units.filter((unit) => {
      if (this.state.groupMode === "file") {
        return unit.source.file === selected;
      } else if (this.state.groupMode === "annotation") {
        if (selected === "filter.unannotated") {
          return !unit.annotationId;
        } else {
          return unit.source.file === selected && !!unit.annotationId;
        }
      } else if (this.state.groupMode === "tag") {
        return unit.metadata.tags.includes(selected);
      } else if (this.state.groupMode === "date") {
        return this.formatDate(new Date(unit.metadata.createdAt)) === selected;
      }
      return false;
    });
  }
  getFilteredCardsForSelectedGroup() {
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    const selected = this.state.selectedFile;
    if (!selected)
      return [];
    return flashcards.filter((card) => {
      if (this.state.groupMode === "file") {
        return card.sourceFile === this.state.selectedFile;
      } else if (this.state.groupMode === "annotation") {
        const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
        if (selected === "filter.unannotated") {
          return !unit || !unit.annotationId;
        } else {
          return card.sourceFile === selected && unit && !!unit.annotationId;
        }
      } else if (this.state.groupMode === "tag") {
        const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
        return unit && unit.metadata.tags.includes(selected) || card.tags && card.tags.includes(selected) || card.deck === this.state.selectedFile || this.state.selectedFile === "group.uncategorized" && (!card.tags || card.tags.length === 0) && !card.deck && (!unit || !unit.metadata.tags || unit.metadata.tags.length === 0);
      } else if (this.state.groupMode === "date") {
        return this.formatDate(new Date(card.metadata.createdAt)) === this.state.selectedFile;
      }
      return false;
    });
  }
  getVisibleItems() {
    if (this.state.viewType === "cards") {
      const cards = this.getFilteredCardsForSelectedGroup();
      return { cards };
    } else {
      const units = this.state.displayMode === "sidebar" ? this.getFilteredUnits() : this.getFilteredUnitsForSelectedGroup();
      return { units };
    }
  }
  // ==================== 业务逻辑方法 ====================
  async jumpToSource(unit) {
    await this.overviewService.jumpToSource(unit, this.app);
  }
  async jumpToFlashcardSource(card) {
    try {
      const unit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
      if (unit) {
        await this.jumpToSource(unit);
        return;
      }
      const file = this.app.vault.getAbstractFileByPath(card.sourceFile);
      if (!(file instanceof import_obsidian9.TFile)) {
        new import_obsidian9.Notice(this.t("notice.fileNotFound"));
        return;
      }
      const leaf = this.app.workspace.getLeaf(false);
      await leaf.openFile(file);
      if (card.anchorLink) {
        const blockIdMatch = card.anchorLink.match(/\^\S+/);
        if (blockIdMatch) {
          const blockId = blockIdMatch[0].substring(1);
          await new Promise((resolve) => setTimeout(resolve, 100));
          const view = this.app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView);
          if (view && view.editor) {
            const editor = view.editor;
            const content = editor.getValue();
            const lines = content.split("\n");
            for (let i = 0; i < lines.length; i++) {
              if (lines[i].includes(`^${blockId}`)) {
                editor.setCursor({ line: i, ch: 0 });
                editor.scrollIntoView({ from: { line: i, ch: 0 }, to: { line: i, ch: 0 } }, true);
                break;
              }
            }
          }
        }
      }
      new import_obsidian9.Notice(this.t("notice.jumpedToSource"));
    } catch (error) {
      console.error("Error jumping to flashcard source:", error);
      new import_obsidian9.Notice(this.t("notice.jumpFailed"));
    }
  }
  async saveAnnotation(unitId, content) {
    await this.overviewService.saveAnnotation(unitId, content);
  }
  async quickGenerateFlashcard(unit) {
    await this.overviewService.quickGenerateFlashcard(unit);
    requestAnimationFrame(() => {
      this.refresh();
    });
  }
  // ==================== 右键菜单 ====================
  showContextMenu(event, unit) {
    const callbacks = {
      onJumpToSource: (unit2) => this.jumpToSource(unit2),
      onToggleAnnotation: (unit2) => {
        if (!this.plugin.unlockSystem.tryUseFeature("annotation", "Annotation")) {
          return;
        }
        const card = event.target;
        const cardEl = card.closest(".compact-card, .grid-card");
        if (cardEl) {
          this.annotationEditor.toggle(cardEl, unit2);
        }
      },
      onEditFlashcard: (unit2) => {
        const cardId = unit2.flashcardIds[0];
        const card = this.plugin.flashcardManager.getFlashcard(cardId);
        if (card) {
          new EditFlashcardModal(this.app, this.plugin, card).open();
        } else {
          new import_obsidian9.Notice(this.t("notice.flashcardNotFound"));
        }
      },
      onQuickGenerate: (unit2) => this.quickGenerateFlashcard(unit2),
      onCreateQA: (unit2) => {
        new ManualFlashcardModal(this.app, this.plugin, unit2, "qa").open();
      },
      onCreateCloze: (unit2) => {
        new ManualFlashcardModal(this.app, this.plugin, unit2, "cloze").open();
      },
      onViewStats: () => {
        this.plugin.activateStats();
      },
      onDelete: async (unit2) => {
        await this.plugin.dataManager.deleteContentUnit(unit2.id, "user-deleted");
        new import_obsidian9.Notice(this.t("notice.movedToTrash"));
        this.refresh();
      }
    };
    const menu = ContextMenuBuilder.buildContentUnitMenu(unit, callbacks);
    menu.showAtMouseEvent(event);
  }
  openManualFlashcardModal(unit, type) {
    new ManualFlashcardModal(this.app, this.plugin, unit, type).open();
  }
  showFlashcardContextMenu(event, card) {
    const callbacks = {
      onJumpToSource: async (card2) => {
        await this.overviewService.jumpToFlashcardSource(card2.id, this.app);
      },
      onEdit: (card2) => {
        new EditFlashcardModal(this.app, this.plugin, card2).open();
      },
      onViewStats: (card2) => {
        const statsText = ContextMenuBuilder.formatFlashcardStats(card2);
        new import_obsidian9.Notice(statsText, 1e4);
      },
      onDelete: async (card2) => {
        await this.plugin.flashcardManager.deleteCard(card2.id, "user-deleted");
        new import_obsidian9.Notice(this.t("notice.movedToTrash"));
        this.refresh();
      }
    };
    const menu = ContextMenuBuilder.buildFlashcardMenu(card, callbacks);
    menu.showAtMouseEvent(event);
  }
  openEditFlashcardModal(card) {
    new EditFlashcardModal(this.app, this.plugin, card).open();
  }
  // ==================== 批量操作 ====================
  async batchCreateFlashcards() {
    const units = Array.from(this.state.selectedUnitIds).map((id) => this.plugin.dataManager.getContentUnit(id)).filter((u) => u !== void 0 && u.flashcardIds.length === 0);
    if (units.length === 0) {
      new import_obsidian9.Notice(this.t("notice.alreadyHasFlashcards"));
      return;
    }
    const quickCreator = new QuickFlashcardCreator(this.plugin);
    const modal = new BatchCreateModal(
      this.app,
      this.plugin,
      quickCreator,
      units,
      () => {
        this.state.clearSelection();
        this.refresh();
      }
    );
    modal.open();
  }
  async batchDeleteNotes() {
    const stats = this.state.getDeleteStats(this.plugin);
    let confirmMsg = this.t("confirm.deleteItems");
    const details = [];
    if (stats.notes > 0) {
      details.push(this.t("confirm.notesCount", { count: stats.notes }));
    }
    if (stats.cards > 0) {
      details.push(this.t("confirm.cardsCount", { count: stats.cards }));
    }
    if (details.length > 0) {
      confirmMsg += "\n\n" + details.join("\n");
    }
    if (!confirm(confirmMsg)) {
      return;
    }
    const { success, failed } = await this.overviewService.batchDeleteNotes(
      this.state.selectedUnitIds
    );
    this.state.clearSelection();
    new import_obsidian9.Notice(this.t("notice.batchDeleted", { success, failed: failed > 0 ? failed : 0 }));
    this.refresh();
  }
  async batchDeleteFlashcards() {
    const stats = this.state.getDeleteStats(this.plugin);
    const confirmMsg = this.t("confirm.deleteFlashcards", { count: stats.cards });
    if (!confirm(confirmMsg)) {
      return;
    }
    let success = 0;
    let failed = 0;
    for (const cardId of this.state.selectedCardIds) {
      try {
        await this.plugin.flashcardManager.deleteCard(cardId);
        success++;
      } catch (error) {
        console.error("Error deleting flashcard:", error);
        failed++;
      }
    }
    this.state.clearSelection();
    new import_obsidian9.Notice(this.t("notice.batchDeleted", { success, failed: failed > 0 ? failed : 0 }));
    this.refresh();
  }
  // ==================== 工具方法 ====================
  refreshRightPanel() {
    const container = this.containerEl.children[1];
    const rightPanel = container.querySelector(".right-panel");
    if (rightPanel) {
      rightPanel.empty();
      this.renderRightPanel(rightPanel);
    }
  }
  getFilteredCardsForCurrentFile() {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return [];
    }
    const flashcards = this.plugin.flashcardManager.getAllFlashcards();
    return flashcards.filter((card) => card.sourceFile === this.state.selectedFile);
  }
  checkFilterHasNotes(mode) {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return true;
    }
    const units = this.plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === this.state.selectedFile);
    if (mode === "all") {
      return units.length > 0;
    } else if (mode === "annotated") {
      return units.some((u) => u.annotationId);
    } else if (mode === "flashcards") {
      return units.some((u) => u.flashcardIds.length > 0);
    }
    return true;
  }
  checkGroupHasNotes(mode) {
    if (this.state.displayMode !== "sidebar" || !this.state.selectedFile) {
      return true;
    }
    const units = this.plugin.dataManager.getAllContentUnits().filter((u) => u.source.file === this.state.selectedFile);
    if (units.length === 0)
      return false;
    if (mode === "file") {
      return true;
    } else if (mode === "tag") {
      return units.some((u) => u.metadata.tags.length > 0);
    } else if (mode === "date") {
      return true;
    } else if (mode === "annotation") {
      return units.some((u) => u.annotationId);
    }
    return true;
  }
  getGroupIcon() {
    switch (this.state.groupMode) {
      case "file":
        return "\u{1F4C4}";
      case "annotation":
        return "\u{1F4AC}";
      case "tag":
        return "\u{1F3F7}\uFE0F";
      case "date":
        return "\u{1F4C5}";
      default:
        return "\u{1F4C1}";
    }
  }
  formatDate(date) {
    if (!date)
      return "";
    return date.toLocaleDateString("zh-CN", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    });
  }
  // ==================== 等级徽章显示 ====================
  /**
   * 判断是否显示完整的等级徽章
   * Lv1-4: 始终显示
   * Lv5: 达成后30分钟内显示，之后隐藏
   */
  shouldShowFullLevelBadge(progress) {
    if (progress.currentLevel < 5) {
      return true;
    }
    const lv5UnlockedTime = progress.levelUnlockedAt[5];
    if (!lv5UnlockedTime) {
      return false;
    }
    const now = Date.now();
    const thirtyMinutes = 30 * 60 * 1e3;
    return now - lv5UnlockedTime < thirtyMinutes;
  }
  /**
   * 渲染小型等级徽章（Lv5专用）
   */
  renderLevelBadge(container, progress) {
    const levelBadge = container.createDiv({ cls: "level-badge-icon" });
    const levelName = this.t(`level.${progress.currentLevel}`);
    levelBadge.textContent = `Lv${progress.currentLevel}`;
    levelBadge.title = `${this.t("level.current")}: ${levelName} - ${this.t("level.clickDetails")}`;
    levelBadge.addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      new LevelInfoModal(this.app, progress, this.plugin.unlockSystem).open();
    });
  }
  // ==================== 复习检查 ====================
  // 每日提醒复习
  // 手动触发复习提醒检查
  checkReviewReminder() {
    const isDismissed = this.isReminderDismissedToday();
    if (isDismissed) {
      localStorage.removeItem("learning-system-reminder-dismissed");
    } else {
      this.markReminderDismissed();
    }
    this.refresh();
  }
  startReview() {
    this.plugin.activateReview();
  }
  markReminderDismissed() {
    const today = new Date().toDateString();
    localStorage.setItem("learning-system-reminder-dismissed", today);
  }
  isReminderDismissedToday() {
    const today = new Date().toDateString();
    const dismissed = localStorage.getItem("learning-system-reminder-dismissed");
    return dismissed === today;
  }
  insertReviewReminderAtTop(container) {
    if (this.isReminderDismissedToday())
      return;
    const dueCount = this.plugin.flashcardManager.getDueCards().length;
    if (dueCount === 0)
      return;
    const banner = this.createReviewBanner(dueCount);
    container.insertBefore(banner, container.firstChild);
    const divider2 = document.createElement("div");
    divider2.className = "review-divider";
    divider2.style.width = "100%";
    divider2.style.height = "1px";
    divider2.style.backgroundColor = "var(--background-modifier-border)";
    divider2.style.margin = "12px 0";
    if (banner.nextSibling) {
      container.insertBefore(divider2, banner.nextSibling);
    } else {
      container.appendChild(divider2);
    }
  }
  createReviewBanner(count) {
    const banner = document.createElement("div");
    banner.className = "content-list-review-reminder";
    const dueCards = this.plugin.flashcardManager.getDueCards();
    const actualDueCount = dueCards.length;
    const allCards = this.plugin.flashcardManager.getAllFlashcards();
    const today = new Date().setHours(0, 0, 0, 0);
    const todayDueCardIds = new Set(
      allCards.filter((card) => {
        const dueDate = new Date(card.scheduling.due).setHours(0, 0, 0, 0);
        return dueDate <= today;
      }).map((card) => card.id)
    );
    const reviewedToday = allCards.filter((card) => {
      if (!card.stats.lastReview)
        return false;
      const lastReviewDate = new Date(card.stats.lastReview).setHours(0, 0, 0, 0);
      return lastReviewDate === today && todayDueCardIds.has(card.id);
    }).length;
    const totalToday = reviewedToday + actualDueCount;
    const progressPercent = totalToday > 0 ? Math.round(reviewedToday / totalToday * 100) : 0;
    const mostUrgent = dueCards.length > 0 ? dueCards.reduce(
      (earliest, card) => card.scheduling.due < earliest ? card.scheduling.due : earliest,
      Date.now()
    ) : Date.now();
    const hoursSinceDue = Math.floor((Date.now() - mostUrgent) / (1e3 * 60 * 60));
    const delayText = this.getDelayText(hoursSinceDue);
    const streakDays = this.getReviewStreak();
    banner.innerHTML = `
  <div class="reminder-header">
    <div class="reminder-text">
 <strong>${this.t("review.todayProgress", { reviewed: reviewedToday, total: totalToday })}</strong>  
    </div>
  </div>
  
  <div class="reminder-stats">
    <div class="stat-item delay-warning">
      ${delayText}
    </div>
    ${streakDays > 0 ? `
      <div class="stat-item streak-info">
         ${this.t("review.streak", { days: streakDays })}
      </div>
    ` : ""}
  </div>
  
  <div class="reminder-actions">
    <button class="reminder-btn primary">${this.t("review.start")}</button>
  </div>
`;
    banner.style.fontSize = "0.85em";
    const actions = banner.querySelector(".reminder-actions");
    if (actions) {
      actions.style.display = "flex";
      actions.style.justifyContent = "center";
    }
    banner.querySelector(".primary").addEventListener("mousedown", (e) => {
      e.stopPropagation();
      e.preventDefault();
      this.startReview();
      banner.remove();
      this.markReminderDismissed();
    });
    return banner;
  }
  // 新增辅助方法 1: 获取延后提示文本
  getDelayText(hoursSinceDue) {
    if (hoursSinceDue < 1) {
      return this.t("review.justDue");
    } else if (hoursSinceDue < 6) {
      return this.t("review.delayedHoursShort", { hours: hoursSinceDue });
    } else if (hoursSinceDue < 24) {
      return this.t("review.urgentHours", { hours: hoursSinceDue });
    } else {
      const days = Math.floor(hoursSinceDue / 24);
      return this.t("review.urgentDays", { days });
    }
  }
  // 新增辅助方法 2: 获取连续复习天数
  getReviewStreak() {
    const allCards = this.plugin.flashcardManager.getAllFlashcards();
    const reviewDates = /* @__PURE__ */ new Set();
    allCards.forEach((card) => {
      if (card.stats.lastReview) {
        const dateStr = new Date(card.stats.lastReview).toLocaleDateString("zh-CN");
        reviewDates.add(dateStr);
      }
    });
    let streak = 0;
    let checkDate = new Date();
    while (streak < 365) {
      const dateStr = checkDate.toLocaleDateString("zh-CN");
      if (reviewDates.has(dateStr)) {
        streak++;
        checkDate.setDate(checkDate.getDate() - 1);
      } else {
        break;
      }
    }
    return streak;
  }
  t(key, params) {
    return t(key, this.plugin.settings.language, params);
  }
};

// src/ui/view/ReviewView.ts
var import_obsidian11 = require("obsidian");

// src/core/CardScheduler.ts
var CardScheduler = class {
  /**
   * 计算下次复习时间（基于 SM-2 算法）
   */
  schedule(card, ease, timeSpent, userAnswer) {
    const oldScheduling = { ...card.scheduling };
    const newScheduling = { ...card.scheduling };
    const now = Date.now();
    card.stats.totalReviews++;
    card.stats.lastReview = now;
    const totalTime = card.stats.averageTime * (card.stats.totalReviews - 1) + timeSpent;
    card.stats.averageTime = totalTime / card.stats.totalReviews;
    switch (ease) {
      case "again":
        this.scheduleAgain(newScheduling, card.stats);
        break;
      case "hard":
        this.scheduleHard(newScheduling, card.stats);
        break;
      case "good":
        this.scheduleGood(newScheduling, card.stats);
        break;
      case "easy":
        this.scheduleEasy(newScheduling, card.stats);
        break;
    }
    card.scheduling = newScheduling;
    card.metadata.updatedAt = now;
    const reviewLog = {
      flashcardId: card.id,
      timestamp: now,
      response: {
        userAnswer,
        timeSpent,
        ease
      },
      schedulingChange: {
        oldInterval: oldScheduling.interval,
        newInterval: newScheduling.interval,
        oldEase: oldScheduling.ease,
        newEase: newScheduling.ease
      }
    };
    return { updatedCard: card, reviewLog };
  }
  /**
   * Again - 完全忘记
   */
  scheduleAgain(scheduling, stats) {
    scheduling.interval = 1;
    scheduling.ease = Math.max(1.3, scheduling.ease - 0.2);
    scheduling.due = Date.now() + scheduling.interval * 60 * 1e3;
    scheduling.lapses++;
    scheduling.reps++;
    if (scheduling.state === "new") {
      scheduling.state = "learning";
    } else {
      scheduling.state = "relearning";
    }
    stats.difficulty = Math.min(1, stats.difficulty + 0.1);
  }
  /**
   * Hard - 困难
   */
  scheduleHard(scheduling, stats) {
    scheduling.reps++;
    if (scheduling.state === "new" || scheduling.state === "learning") {
      scheduling.interval = 10;
      scheduling.due = Date.now() + 10 * 60 * 1e3;
      scheduling.state = "learning";
    } else {
      scheduling.interval = Math.max(1, scheduling.interval * 1.2);
      scheduling.ease = Math.max(1.3, scheduling.ease - 0.15);
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    }
    stats.difficulty = Math.min(1, stats.difficulty + 0.05);
    stats.correctCount += 0.5;
  }
  /**
   * Good - 正确
   */
  scheduleGood(scheduling, stats) {
    scheduling.reps++;
    stats.correctCount++;
    if (scheduling.state === "new") {
      scheduling.interval = 1;
      scheduling.due = Date.now() + 1 * 24 * 60 * 60 * 1e3;
      scheduling.state = "learning";
    } else if (scheduling.state === "learning") {
      if (scheduling.interval < 1) {
        scheduling.interval = 1;
      } else {
        scheduling.interval = 3;
      }
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else {
      scheduling.interval = scheduling.interval * scheduling.ease;
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.ease = scheduling.ease + 0.1;
      scheduling.state = "review";
    }
    stats.difficulty = Math.max(0, stats.difficulty - 0.05);
  }
  /**
   * Easy - 非常简单
   */
  scheduleEasy(scheduling, stats) {
    scheduling.reps++;
    stats.correctCount++;
    if (scheduling.state === "new") {
      scheduling.interval = 4;
      scheduling.due = Date.now() + 4 * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else if (scheduling.state === "learning") {
      scheduling.interval = 7;
      scheduling.due = Date.now() + 7 * 24 * 60 * 60 * 1e3;
      scheduling.state = "review";
    } else {
      scheduling.interval = scheduling.interval * (scheduling.ease + 0.3);
      scheduling.due = Date.now() + scheduling.interval * 24 * 60 * 60 * 1e3;
      scheduling.ease = scheduling.ease + 0.15;
      scheduling.state = "review";
    }
    stats.difficulty = Math.max(0, stats.difficulty - 0.1);
  }
  /**
   * 评估用户答案（用于输入答案模式）
   */
  /**
   * 评估用户答案(用于输入答案模式)
   */
  evaluateAnswer(correctAnswer, userAnswer) {
    if (Array.isArray(correctAnswer) && Array.isArray(userAnswer)) {
      let correctCount = 0;
      const total = correctAnswer.length;
      for (let i = 0; i < total; i++) {
        const evaluation = this.evaluateSingleAnswer(
          correctAnswer[i],
          userAnswer[i] || ""
        );
        if (evaluation.similarity >= 0.9)
          correctCount++;
        else if (evaluation.similarity >= 0.6)
          correctCount += 0.5;
      }
      const overallSimilarity = correctCount / total;
      if (overallSimilarity >= 0.9) {
        return { correctness: "correct", similarity: overallSimilarity };
      } else if (overallSimilarity >= 0.6) {
        return { correctness: "partial", similarity: overallSimilarity };
      } else {
        return { correctness: "wrong", similarity: overallSimilarity };
      }
    }
    return this.evaluateSingleAnswer(
      correctAnswer,
      userAnswer
    );
  }
  /**
   * 🆕 评估单个答案(支持 "/" 分隔的多个正确答案)
   */
  evaluateSingleAnswer(correctAnswer, userAnswer) {
    const correct = this.normalize(correctAnswer);
    const user = this.normalize(userAnswer);
    if (user.length === 0) {
      return { correctness: "wrong", similarity: 0 };
    }
    if (correctAnswer.includes("/") || correctAnswer.includes("|")) {
      const alternatives = correctAnswer.split(/[\/|]/).map((alt) => this.normalize(alt.trim())).filter((alt) => alt.length > 0);
      let maxSimilarity = 0;
      for (const alternative of alternatives) {
        if (user === alternative) {
          return { correctness: "correct", similarity: 1 };
        }
        const similarity2 = this.calculateSimilarity(alternative, user);
        maxSimilarity = Math.max(maxSimilarity, similarity2);
      }
      if (maxSimilarity >= 0.9) {
        return { correctness: "correct", similarity: maxSimilarity };
      } else if (maxSimilarity >= 0.7) {
        return { correctness: "partial", similarity: maxSimilarity };
      } else {
        return { correctness: "wrong", similarity: maxSimilarity };
      }
    }
    const lengthRatio = Math.min(user.length, correct.length) / Math.max(user.length, correct.length);
    if (lengthRatio < 0.3 && user.length < 6) {
      return { correctness: "wrong", similarity: 0 };
    }
    const similarity = this.calculateSimilarity(correct, user);
    const coverage = this.calculateTokenCoverage(correct, user);
    if (similarity >= 0.9) {
      return { correctness: "correct", similarity };
    }
    if (similarity < 0.7 && coverage >= 0.6) {
      return { correctness: "partial", similarity };
    }
    if (similarity >= 0.7) {
      return { correctness: "partial", similarity };
    }
    return { correctness: "wrong", similarity };
  }
  /**
   * 标准化文本
   */
  normalize(text) {
    return text.toLowerCase().trim().replace(/\s+/g, " ").replace(/\n+/g, " ").replace(/[，。！？、；：""''（）《》【】\.,!?;:"'()\[\]{}]/g, "");
  }
  /**
   * 计算相似度（Levenshtein 距离）
   */
  calculateSimilarity(str1, str2) {
    if (str1 === str2)
      return 1;
    if (str1.length === 0 || str2.length === 0)
      return 0;
    const matrix = [];
    for (let i = 0; i <= str2.length; i++) {
      matrix[i] = [i];
    }
    for (let j = 0; j <= str1.length; j++) {
      matrix[0][j] = j;
    }
    for (let i = 1; i <= str2.length; i++) {
      for (let j = 1; j <= str1.length; j++) {
        if (str2.charAt(i - 1) === str1.charAt(j - 1)) {
          matrix[i][j] = matrix[i - 1][j - 1];
        } else {
          matrix[i][j] = Math.min(
            matrix[i - 1][j - 1] + 1,
            // 替换
            matrix[i][j - 1] + 1,
            // 插入
            matrix[i - 1][j] + 1
            // 删除
          );
        }
      }
    }
    const distance = matrix[str2.length][str1.length];
    const maxLength = Math.max(str1.length, str2.length);
    return 1 - distance / maxLength;
  }
  /**
   * 计算关键词覆盖率
   * 用户答案中命中了多少标准答案的词
   */
  calculateTokenCoverage(correct, user) {
    const correctTokens = correct.split(" ").filter((t2) => t2.length > 1);
    const userTokens = new Set(user.split(" "));
    if (correctTokens.length === 0)
      return 0;
    let hit = 0;
    for (const token of correctTokens) {
      if (userTokens.has(token))
        hit++;
    }
    return hit / correctTokens.length;
  }
  /**
   * 根据相似度建议难度
   */
  suggestEase(similarity) {
    if (similarity >= 0.8)
      return "easy";
    if (similarity >= 0.7)
      return "good";
    if (similarity >= 0.5)
      return "hard";
    return "again";
  }
};

// src/ui/components/modals/FlashcardEditModal.ts
var import_obsidian10 = require("obsidian");
var FlashcardEditModal = class extends import_obsidian10.Modal {
  constructor(app, plugin, card, onSubmit) {
    super(app);
    this.plugin = plugin;
    this.card = card;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    var _a, _b;
    const { contentEl } = this;
    const lang = this.plugin.settings.language;
    contentEl.empty();
    contentEl.createEl("h3", { text: t("flashcardEdit.title", lang) });
    contentEl.createEl("label", { text: t("flashcardEdit.question", lang) });
    const questionInput = contentEl.createEl("textarea");
    questionInput.value = this.card.front;
    contentEl.createEl("label", { text: t("flashcardEdit.answer", lang) });
    const answerInput = contentEl.createEl("textarea");
    answerInput.value = this.card.type === "cloze" ? (_b = (_a = this.card.back) == null ? void 0 : _a[0]) != null ? _b : "" : this.card.back;
    const saveBtn = contentEl.createEl("button", { text: t("flashcardEdit.save", lang) });
    saveBtn.onclick = () => {
      this.onSubmit(
        questionInput.value.trim(),
        answerInput.value.trim()
      );
      this.close();
    };
  }
  onClose() {
    this.contentEl.empty();
  }
};

// src/ui/stats/reviewStateManager.ts
var ReviewStateManager = class {
  // ✅ 新增缓存
  constructor() {
    this.answerCache = /* @__PURE__ */ new Map();
    this.state = this.createInitialState();
  }
  createInitialState() {
    return {
      showAnswer: false,
      startTime: 0,
      userAnswers: [],
      userAnswer: ""
    };
  }
  getState() {
    return this.state;
  }
  reset() {
    this.state = this.createInitialState();
  }
  // ✅ 保存当前卡片的答案到缓存
  saveAnswerToCache(cardId) {
    this.answerCache.set(cardId, {
      userAnswer: this.state.userAnswer,
      userAnswers: [...this.state.userAnswers]
    });
  }
  // ✅ 从缓存恢复答案
  restoreAnswerFromCache(cardId) {
    const cached = this.answerCache.get(cardId);
    if (cached) {
      this.state.userAnswer = cached.userAnswer;
      this.state.userAnswers = [...cached.userAnswers];
    } else {
    }
  }
  // ✅ 清除指定卡片的缓存
  clearCache(cardId) {
    this.answerCache.delete(cardId);
  }
  updateForNewCard(newCard, isSameCard, direction) {
    if (!isSameCard) {
      if (direction === "prev") {
        this.restoreAnswerFromCache(newCard.id);
      } else {
        this.state.showAnswer = false;
        this.state.userAnswer = "";
        if (newCard.type === "cloze" && newCard.cloze) {
          this.state.userAnswers = new Array(
            newCard.cloze.deletions.length
          ).fill("");
        } else {
          this.state.userAnswers = [];
        }
      }
    }
    this.state.startTime = Date.now();
  }
  setShowAnswer(show) {
    this.state.showAnswer = show;
  }
  setUserAnswer(answer) {
    this.state.userAnswer = answer;
  }
  setUserAnswers(answers) {
    this.state.userAnswers = answers;
  }
  updateUserAnswerAtIndex(index, value) {
    this.state.userAnswers[index] = value;
  }
  ensureUserAnswersLength(length) {
    if (this.state.userAnswers.length < length) {
      this.state.userAnswers = new Array(length).fill("");
    }
  }
  getTimeSpent() {
    return (Date.now() - this.state.startTime) / 1e3;
  }
};

// src/ui/components/TableRenderer.ts
var TableRenderer = class {
  // 检测是否为表格格式
  static isTableFormat(text) {
    const lines = text.trim().split("\n");
    if (lines.length < 2)
      return false;
    const hasSeparator = lines.some((line) => /^\|?[\s-:|]+\|?$/.test(line.trim()));
    const pipeLines = lines.filter((line) => line.includes("|")).length;
    return hasSeparator || pipeLines >= lines.length * 0.7;
  }
  // 渲染表格
  static renderTable(markdown, showAnswer = false) {
    const container = document.createElement("div");
    if (!(markdown == null ? void 0 : markdown.trim())) {
      container.textContent = "(empty table)";
      return container;
    }
    const lines = markdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = markdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table"
    });
    const separatorIndex = this.findSeparatorIndex(lines);
    if (separatorIndex > 0) {
      this.renderTableWithHeader(table, lines, separatorIndex, showAnswer);
    } else {
      this.renderTableWithoutHeader(table, lines, showAnswer);
    }
    return container;
  }
  // 查找分隔符位置
  static findSeparatorIndex(lines) {
    return lines.findIndex((line) => {
      const cleaned = line.replace(/[\s|]/g, "");
      return cleaned.length >= 3 && /^[-:]+$/.test(cleaned);
    });
  }
  // 渲染带表头的表格
  static renderTableWithHeader(table, lines, separatorIndex, showAnswer) {
    const headerCells = this.parseCells(lines[separatorIndex - 1]);
    const thead = table.createEl("thead");
    const headerRow = thead.createEl("tr");
    headerCells.forEach((cell) => {
      const th = headerRow.createEl("th");
      th.innerHTML = this.processCellContent(cell, showAnswer);
    });
    const tbody = table.createEl("tbody");
    for (let i = separatorIndex + 1; i < lines.length; i++) {
      this.renderTableRow(tbody, lines[i], showAnswer);
    }
  }
  // 渲染无表头的表格
  static renderTableWithoutHeader(table, lines, showAnswer) {
    const tbody = table.createEl("tbody");
    lines.forEach((line) => this.renderTableRow(tbody, line, showAnswer));
  }
  // 渲染单行
  static renderTableRow(tbody, line, showAnswer) {
    if (!line.trim())
      return;
    const cells = this.parseCells(line);
    if (cells.length === 0)
      return;
    const row = tbody.createEl("tr");
    cells.forEach((cell) => {
      const td = row.createEl("td");
      td.innerHTML = this.processCellContent(cell, showAnswer);
    });
  }
  // 解析单元格
  static parseCells(line) {
    let trimmed = line.trim();
    if (trimmed.startsWith("|"))
      trimmed = trimmed.slice(1);
    if (trimmed.endsWith("|"))
      trimmed = trimmed.slice(0, -1);
    const cells = trimmed.split("|").map((c) => c.trim()).filter((c) => c.length > 0);
    return cells;
  }
  // 处理单元格内容
  static processCellContent(cell, showAnswer) {
    if (!cell.includes("==")) {
      return cell;
    }
    if (showAnswer) {
      const result = cell.replace(/==([^=]+)==/g, '<span class="revealed">$1</span>');
      return result;
    } else {
      const result = cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>');
      return result;
    }
  }
  // 渲染带用户答案的表格（完形填空用）
  static renderTableWithUserAnswers(originalMarkdown, deletions, userAnswers, scheduler) {
    const container = document.createElement("div");
    const lines = originalMarkdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = originalMarkdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table user-answer-table"
    });
    const separatorIndex = this.findSeparatorIndex(lines);
    let deletionIndex = 0;
    if (separatorIndex > 0) {
      const headerCells = this.parseCells(lines[separatorIndex - 1]);
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      let headerIndex = 0;
      headerCells.forEach((cell) => {
        const th = headerRow.createEl("th");
        const result = this.processCellWithUserAnswerAndClass(
          cell,
          deletions,
          userAnswers,
          deletionIndex,
          scheduler
        );
        th.innerHTML = result.html;
        if (result.correctnessClass) {
          th.classList.add(result.correctnessClass);
        }
        if (cell.includes("==")) {
          deletionIndex++;
        }
      });
    }
    const tbody = table.createEl("tbody");
    const startRow = separatorIndex > 0 ? separatorIndex + 1 : 0;
    for (let i = startRow; i < lines.length; i++) {
      const line = lines[i];
      if (!line.trim())
        continue;
      const cells = this.parseCells(line);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell) => {
        const td = row.createEl("td");
        const result = this.processCellWithUserAnswerAndClass(
          cell,
          deletions,
          userAnswers,
          deletionIndex,
          scheduler
        );
        td.innerHTML = result.html;
        if (result.correctnessClass) {
          td.classList.add(result.correctnessClass);
        }
        if (cell.includes("==")) {
          deletionIndex++;
        }
      });
    }
    return container;
  }
  // 处理带用户答案的单元格
  static processCellWithUserAnswer(cell, deletions, userAnswers, deletionIndex, scheduler) {
    if (!cell.includes("=="))
      return cell;
    const match = cell.match(/==([^=]+)==/);
    if (!match || deletionIndex >= deletions.length) {
      return cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>');
    }
    const correctAnswer = deletions[deletionIndex].answer;
    const userAnswer = userAnswers[deletionIndex] || "";
    const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
    const displayText = userAnswer || "(empty)";
    const correctnessClass = evaluation.correctness;
    return cell.replace(
      /==([^=]+)==/g,
      `<span class="user-answer-cell ${correctnessClass}">${displayText}</span>`
    );
  }
  // 处理带用户答案的单元格(返回 HTML 和正确性类)
  static processCellWithUserAnswerAndClass(cell, deletions, userAnswers, deletionIndex, scheduler) {
    const match = cell.match(/==([^=]+)==/);
    if (!match) {
      return { html: cell, correctnessClass: null };
    }
    if (!match || deletionIndex >= deletions.length) {
      return {
        html: cell.replace(/==([^=]+)==/g, '<span class="cloze-blank"></span>'),
        correctnessClass: null
      };
    }
    const correctAnswer = deletions[deletionIndex].answer;
    const userAnswer = userAnswers[deletionIndex] || "";
    const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
    const displayText = userAnswer || "(empty)";
    const correctnessClass = evaluation.correctness;
    const html = cell.replace(
      /==([^=]+)==/g,
      `<span class="user-answer-cell ${correctnessClass}">${displayText}</span>`
    );
    return { html, correctnessClass: `cell-${correctnessClass}` };
  }
};

// src/ui/components/reviewCardRender.ts
var ClozeCardRenderer = class {
  renderQuestion(container, card, state, updateState) {
    var _a;
    const questionText = container.createDiv({ cls: "question-text" });
    const isTable = TableRenderer.isTableFormat(card.front);
    if (isTable) {
      const tableEl = this.renderTableWithInputPreview(
        card.front,
        ((_a = card.cloze) == null ? void 0 : _a.deletions) || [],
        state
      );
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    } else {
      const tableEl = TableRenderer.renderTable(card.front, false);
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    }
    if (card.cloze) {
      const actualBlankCount = (card.cloze.original.match(/==[^=]+==/g) || []).length;
      const blankCount = Math.max(actualBlankCount, card.cloze.deletions.length);
      if (state.userAnswers.length !== blankCount) {
        state.userAnswers = new Array(blankCount).fill("");
      }
      const inputArea = container.createDiv({ cls: "cloze-input-area" });
      inputArea.createEl("h4", { text: `Fill in the blanks (${blankCount} total):` });
      const hint = inputArea.createEl("div", { cls: "cloze-input-hint" });
      const singleInputGroup = inputArea.createDiv({ cls: "single-input-group" });
      const initialValue = state.userAnswers.filter((a) => a).join(" | ");
      const input = singleInputGroup.createEl("input", {
        type: "text",
        placeholder: `Enter all ${blankCount} answers separated by |, comma, or spaces...`,
        cls: "cloze-single-input",
        value: initialValue
      });
      const updatePreview = (inputValue) => {
        var _a2;
        const parts = this.parseMultipleAnswers(inputValue, blankCount);
        updateState.setUserAnswers(parts);
        if (isTable) {
          questionText.empty();
          const updatedTableEl = this.renderTableWithInputPreview(
            card.front,
            ((_a2 = card.cloze) == null ? void 0 : _a2.deletions) || [],
            state
          );
          questionText.appendChild(updatedTableEl);
        }
      };
      input.addEventListener("input", (e) => {
        const inputValue = e.target.value;
        updatePreview(inputValue);
      });
      updatePreview(initialValue);
      setTimeout(() => input.focus(), 50);
    }
  }
  // ← 添加新方法:渲染带输入预览的表格
  renderTableWithInputPreview(markdown, deletions, state) {
    const container = document.createElement("div");
    if (!(markdown == null ? void 0 : markdown.trim())) {
      container.textContent = "(empty table)";
      return container;
    }
    const lines = markdown.trim().split("\n");
    if (lines.length < 2) {
      container.textContent = markdown;
      return container;
    }
    const table = container.createEl("table", {
      cls: "learning-system-table flashcard-review-table preview-table"
    });
    const separatorIndex = lines.findIndex((line) => {
      const cleaned = line.replace(/[\s|]/g, "");
      return cleaned.length >= 3 && /^[-:]+$/.test(cleaned);
    });
    let deletionIndex = 0;
    if (separatorIndex > 0) {
      const headerCells = this.parseCells(lines[separatorIndex - 1]);
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      headerCells.forEach((cell) => {
        const th = headerRow.createEl("th");
        const rendered = this.renderCellWithPreview(cell, state.userAnswers, deletionIndex);
        th.innerHTML = rendered.html;
        if (rendered.hasBlank)
          deletionIndex++;
      });
    }
    const tbody = table.createEl("tbody");
    const startRow = separatorIndex > 0 ? separatorIndex + 1 : 0;
    for (let i = startRow; i < lines.length; i++) {
      const line = lines[i];
      if (!line.trim())
        continue;
      const cells = this.parseCells(line);
      if (cells.length === 0)
        continue;
      const row = tbody.createEl("tr");
      cells.forEach((cell) => {
        const td = row.createEl("td");
        const rendered = this.renderCellWithPreview(cell, state.userAnswers, deletionIndex);
        td.innerHTML = rendered.html;
        if (rendered.hasBlank)
          deletionIndex++;
      });
    }
    return container;
  }
  // ← 添加辅助方法:解析单元格
  parseCells(line) {
    let trimmed = line.trim();
    if (trimmed.startsWith("|"))
      trimmed = trimmed.slice(1);
    if (trimmed.endsWith("|"))
      trimmed = trimmed.slice(0, -1);
    return trimmed.split("|").map((c) => c.trim()).filter((c) => c.length > 0);
  }
  // ← 添加辅助方法:渲染带预览的单元格
  renderCellWithPreview(cell, userAnswers, deletionIndex) {
    const match = cell.match(/==([^=]+)==/);
    if (!match) {
      return { html: cell, hasBlank: false };
    }
    const userAnswer = userAnswers[deletionIndex] || "";
    const displayText = userAnswer ? `<span class="preview-answer">${userAnswer}</span>` : '<span class="cloze-blank"></span>';
    const html = cell.replace(/==([^=]+)==/g, displayText);
    return { html, hasBlank: true };
  }
  // ← 添加新的辅助方法:解析多答案输入
  parseMultipleAnswers(input, expectedCount) {
    if (!input.trim()) {
      return new Array(expectedCount).fill("");
    }
    let normalized = input.replace(/,/g, "|").replace(/,/g, "|").replace(/\s{2,}/g, "|");
    const parts = normalized.split("|").map((s) => s.trim());
    const result = new Array(expectedCount).fill("");
    for (let i = 0; i < Math.min(parts.length, expectedCount); i++) {
      result[i] = parts[i];
    }
    return result;
  }
  renderAnswer(container, card, state, scheduler) {
    if (!card.cloze)
      return;
    const answerArea = container.createDiv({ cls: "answer-area" });
    const isOriginalTable = TableRenderer.isTableFormat(card.cloze.original);
    if (isOriginalTable) {
      this.renderTableAnswer(answerArea, card, state, scheduler);
    } else {
      this.renderTextAnswer(answerArea, card, state, scheduler);
    }
  }
  renderTableAnswer(answerArea, card, state, scheduler) {
    const columnsContainer = answerArea.createDiv({ cls: "cloze-table-columns" });
    const correctColumn = columnsContainer.createDiv({ cls: "qa-column" });
    correctColumn.createEl("h4", { text: "Correct Answer:", cls: "column-label" });
    const correctDiv = correctColumn.createDiv({ cls: "comparison-item" });
    const tableEl = TableRenderer.renderTable(card.cloze.original, true);
    correctDiv.appendChild(tableEl);
    correctDiv.classList.add("table-answer");
    const userColumn = columnsContainer.createDiv({ cls: "qa-column" });
    userColumn.createEl("h4", { text: "Your Answer:", cls: "column-label" });
    const userDiv = userColumn.createDiv({ cls: "comparison-item" });
    const actualAnswers = this.extractClozeAnswers(card.cloze.original);
    const constructedDeletions = actualAnswers.map((answer) => ({ answer }));
    const normalizedAnswers = new Array(actualAnswers.length).fill("");
    for (let i = 0; i < Math.min(state.userAnswers.length, normalizedAnswers.length); i++) {
      normalizedAnswers[i] = state.userAnswers[i] || "";
    }
    const userTableEl = TableRenderer.renderTableWithUserAnswers(
      card.cloze.original,
      constructedDeletions,
      // ← 使用构建的 deletions
      normalizedAnswers,
      scheduler
    );
    userDiv.appendChild(userTableEl);
    userDiv.classList.add("table-answer");
    this.renderDetailedComparison(answerArea, card, state, scheduler);
  }
  renderTextAnswer(answerArea, card, state, scheduler) {
    const fullText = answerArea.createDiv({ cls: "full-text" });
    fullText.textContent = card.cloze.original;
    this.renderDetailedComparison(answerArea, card, state, scheduler);
  }
  renderDetailedComparison(answerArea, card, state, scheduler) {
    if (state.userAnswers.length === 0)
      return;
    const comparison = answerArea.createDiv({ cls: "answer-comparison" });
    comparison.createEl("h4", { text: "Answer Details:" });
    const actualAnswers = this.extractClozeAnswers(card.cloze.original);
    const maxCount = Math.max(actualAnswers.length, state.userAnswers.length);
    for (let index = 0; index < maxCount; index++) {
      const item = comparison.createDiv({ cls: "comparison-item" });
      item.createSpan({ text: `${index + 1}. ` });
      const userAnswer = state.userAnswers[index] || "";
      const correctAnswer = actualAnswers[index] || "";
      if (!correctAnswer) {
        item.createEl("span", {
          text: userAnswer || "(empty)",
          cls: "user-answer  ${evaluation.correctness}"
        });
        item.createSpan({ text: " \u2192 " });
        item.createEl("span", {
          text: "(no blank here)",
          cls: "correct-answer"
        });
        continue;
      }
      const evaluation = scheduler.evaluateAnswer(correctAnswer, userAnswer);
      item.createEl("span", {
        text: userAnswer || "(empty)",
        cls: `user-answer ${evaluation.correctness}`
      });
      item.createSpan({ text: " \u2192 " });
      item.createEl("span", {
        text: correctAnswer,
        cls: "correct-answer"
      });
      if (evaluation.correctness === "partial") {
        item.createEl("small", {
          text: ` (${Math.round(evaluation.similarity * 100)}% match)`,
          cls: "similarity-info"
        });
      }
    }
  }
  // ← 添加新方法:从原始文本提取所有挖空答案
  extractClozeAnswers(originalText) {
    const matches = originalText.match(/==([^=]+)==/g);
    if (!matches)
      return [];
    return matches.map((match) => {
      return match.replace(/==/g, "").trim();
    });
  }
};
var QACardRenderer = class {
  renderQuestion(container, card, state, updateState) {
    const questionText = container.createDiv({ cls: "question-text" });
    const isTable = TableRenderer.isTableFormat(card.front);
    if (isTable) {
      const tableEl = TableRenderer.renderTable(card.front, false);
      questionText.appendChild(tableEl);
      questionText.classList.add("table-question");
    } else {
      questionText.textContent = card.front;
    }
    const inputArea = container.createDiv({ cls: "qa-input-area" });
    inputArea.createEl("h4", { text: "Your Answer:" });
    const textarea = inputArea.createEl("textarea", {
      placeholder: "Type your answer here...",
      cls: "qa-input",
      value: state.userAnswer
    });
    textarea.addEventListener("input", (e) => {
      updateState.setUserAnswer(e.target.value);
    });
    setTimeout(() => textarea.focus(), 50);
  }
  renderAnswer(container, card, state, scheduler) {
    const answerArea = container.createDiv({ cls: "answer-area" });
    const correctAnswer = Array.isArray(card.back) ? card.back[0] || card.back.join("\n") : card.back;
    const isTable = TableRenderer.isTableFormat(correctAnswer);
    const evaluation = state.userAnswer.trim() ? scheduler.evaluateAnswer(correctAnswer, state.userAnswer) : null;
    const comparison = answerArea.createDiv({
      cls: "answer-comparison qa-comparison"
    });
    const columnsContainer = comparison.createDiv({ cls: "qa-columns-container" });
    this.renderCorrectAnswerColumn(columnsContainer, correctAnswer, isTable);
    this.renderUserAnswerColumn(
      columnsContainer,
      state.userAnswer,
      isTable,
      evaluation
    );
    if ((evaluation == null ? void 0 : evaluation.correctness) === "partial") {
      const similarityInfo = comparison.createEl("div", {
        cls: "similarity-info qa-similarity"
      });
      similarityInfo.textContent = `Similarity: ${Math.round(evaluation.similarity * 100)}%`;
    }
  }
  renderCorrectAnswerColumn(container, correctAnswer, isTable) {
    const correctColumn = container.createDiv({ cls: "qa-column" });
    correctColumn.createEl("h4", { text: "Correct Answer:", cls: "column-label" });
    const correctAnswerDiv = correctColumn.createDiv({ cls: "comparison-item" });
    if (isTable) {
      const tableEl = TableRenderer.renderTable(correctAnswer, true);
      correctAnswerDiv.appendChild(tableEl);
      correctAnswerDiv.classList.add("table-answer");
    } else {
      correctAnswerDiv.createEl("div", {
        text: correctAnswer,
        cls: "correct-answer qa-correct-answer"
      });
    }
  }
  renderUserAnswerColumn(container, userAnswer, isTable, evaluation) {
    const userColumn = container.createDiv({ cls: "qa-column" });
    userColumn.createEl("h4", { text: "Your Answer:", cls: "column-label" });
    const userAnswerDiv = userColumn.createDiv({ cls: "comparison-item" });
    const isUserAnswerTable = TableRenderer.isTableFormat(userAnswer.trim());
    const shouldRenderAsTable = isUserAnswerTable || isTable && userAnswer.trim();
    if (shouldRenderAsTable && userAnswer.trim()) {
      try {
        const userTableEl = TableRenderer.renderTable(userAnswer, true);
        userAnswerDiv.appendChild(userTableEl);
        userAnswerDiv.classList.add("table-answer");
        if (evaluation) {
          userAnswerDiv.classList.add("user-answer", evaluation.correctness);
        }
      } catch (error) {
        this.renderTextUserAnswer(userAnswerDiv, userAnswer, evaluation);
      }
    } else {
      this.renderTextUserAnswer(userAnswerDiv, userAnswer, evaluation);
    }
  }
  renderTextUserAnswer(container, userAnswer, evaluation) {
    const userAnswerElement = container.createEl("div", {
      text: userAnswer.trim() || "(no answer provided)",
      cls: "qa-user-answer"
    });
    if (evaluation) {
      userAnswerElement.classList.add("user-answer", evaluation.correctness);
    } else {
      userAnswerElement.classList.add("no-answer");
    }
  }
};
var CardRendererFactory = class {
  static getRenderer(cardType) {
    const renderer = this.renderers.get(cardType);
    if (!renderer) {
      throw new Error(`Unknown card type: ${cardType}`);
    }
    return renderer;
  }
};
CardRendererFactory.renderers = /* @__PURE__ */ new Map([
  ["cloze", new ClozeCardRenderer()],
  ["qa", new QACardRenderer()]
]);

// src/ui/view/ReviewView.ts
var VIEW_TYPE_REVIEW = "learning-system-review";
var ReviewView = class extends import_obsidian11.ItemView {
  // 跟踪已复习的卡片
  constructor(leaf, plugin) {
    super(leaf);
    this.dueCards = [];
    this.currentCardIndex = 0;
    this.currentCard = null;
    this.stateManager = new ReviewStateManager();
    this.reviewedCardIds = /* @__PURE__ */ new Set();
    // ============================================================================
    // 键盘处理
    // ============================================================================
    this.keyboardHandler = (e) => {
      const target = e.target;
      const isInInput = target.tagName === "INPUT" || target.tagName === "TEXTAREA";
      if (e.key === "Tab") {
        e.preventDefault();
        if (e.shiftKey) {
          this.go("prev");
        } else {
          this.go("next");
        }
        return;
      }
      if (this.stateManager.getState().showAnswer && !isInInput) {
        const ratingMap = {
          "1": "again",
          "2": "hard",
          "3": "good",
          "4": "easy"
        };
        if (ratingMap[e.key]) {
          e.preventDefault();
          this.submitReview(ratingMap[e.key]);
        }
      }
    };
    this.plugin = plugin;
    this.language = this.plugin.settings.language || "en";
    this.scheduler = new CardScheduler();
  }
  getViewType() {
    return VIEW_TYPE_REVIEW;
  }
  getDisplayText() {
    return "Flashcard Review";
  }
  getIcon() {
    return "layers";
  }
  async onOpen() {
    await this.loadDueCards();
    reviewStyle.inject();
    this.render();
    this.registerKeyboardHandlers();
  }
  async onClose() {
    document.removeEventListener("keydown", this.keyboardHandler);
  }
  // ============================================================================
  // 状态管理
  // ============================================================================
  resetReviewState() {
    this.stateManager.reset();
  }
  updateCurrentCard(direction = "next") {
    var _a;
    const newCard = this.dueCards[this.currentCardIndex];
    const isSameCard = ((_a = this.currentCard) == null ? void 0 : _a.id) === (newCard == null ? void 0 : newCard.id);
    this.stateManager.updateForNewCard(newCard, isSameCard, direction);
    this.currentCard = newCard;
  }
  // ============================================================================
  // 数据加载
  // ============================================================================
  async loadDueCards() {
    this.dueCards = this.plugin.flashcardManager.getDueCards();
    this.currentCardIndex = 0;
    this.resetReviewState();
    this.stateManager.reset();
    this.reviewedCardIds.clear();
    this.updateCurrentCard("next");
  }
  // ============================================================================
  // 渲染逻辑
  // ============================================================================
  render() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("review-container");
    if (this.dueCards.length === 0) {
      this.renderNoDueCards(container);
      return;
    }
    this.renderProgress(container);
    const cardArea = container.createDiv({ cls: "card-area" });
    this.renderTopActions(cardArea);
    if (this.stateManager.getState().showAnswer) {
      this.renderAnswerView(cardArea);
    } else {
      this.renderQuestionView(cardArea);
    }
  }
  renderNoDueCards(container) {
    const emptyState = container.createDiv({ cls: "empty-state" });
    emptyState.createEl("h2", { text: "\u{1F389} All Done!" });
    emptyState.createEl("p", { text: "No cards due for review right now." });
    const stats = this.plugin.flashcardManager.getStats();
    const statsDiv = emptyState.createDiv({ cls: "stats-summary" });
    statsDiv.createEl("p", { text: `Total cards: ${stats.total}` });
    statsDiv.createEl("p", { text: `New cards: ${stats.new}` });
    statsDiv.createEl("p", { text: `Reviewed today: ${stats.reviewedToday}` });
    const closeBtn = emptyState.createEl("button", {
      text: "Close Review",
      cls: "mod-cta"
    });
    closeBtn.onclick = async () => {
      var _a;
      await this.cleanupReviewedCards();
      (_a = this.leaf) == null ? void 0 : _a.detach();
    };
  }
  renderProgress(container) {
    const progressBar = container.createDiv({ cls: "progress-bar" });
    const stats = progressBar.createDiv({ cls: "progress-stats" });
    const reviewed = this.reviewedCardIds.size;
    const total = this.dueCards.length;
    stats.createSpan({
      text: `${reviewed} / ${total} reviewed`,
      cls: "progress-text"
    });
    const barContainer = progressBar.createDiv({ cls: "bar-container" });
    const bar = barContainer.createDiv({ cls: "bar" });
    const progress = reviewed / total * 100;
    bar.style.width = `${progress}%`;
  }
  renderTopActions(container) {
    const actionsBar = container.createDiv({ cls: "top-actions-bar" });
    const jumpBtn = actionsBar.createEl("button", {
      cls: "top-action-btn jump-icon-btn",
      attr: { "aria-label": "Jump to Source" }
    });
    jumpBtn.innerHTML = "\u2197";
    jumpBtn.addEventListener("click", () => this.jumpToSource());
    this.renderMoreMenu(actionsBar);
  }
  renderMoreMenu(actionsBar) {
    const moreBtn = actionsBar.createEl("button", {
      cls: "top-action-btn more-btn",
      attr: { "aria-label": "More actions" }
    });
    moreBtn.innerHTML = "\u22EF";
    const dropdown = actionsBar.createDiv({ cls: "more-dropdown" });
    dropdown.style.display = "none";
    const menuItems = [
      {
        label: "\u270F\uFE0F Edit Card",
        onClick: () => this.editCurrentFlashcard()
      },
      {
        label: "\u{1F504} Reset Card Stats",
        onClick: async () => {
          if (this.currentCard && confirm(t("confirm.resetCardStats", this.language))) {
            await this.resetCardStats(this.currentCard.id);
          }
        }
      },
      {
        label: "\u{1F4DA} Reset Deck Stats",
        onClick: async () => {
          if (this.currentCard) {
            const deckName = this.currentCard.deck;
            if (confirm(t("confirm.resetDeckStats", this.language, { deck: deckName }))) {
              await this.plugin.analyticsEngine.clearDeckStats(deckName);
              new import_obsidian11.Notice(t("notice.deckStatsReset", this.language, { deck: deckName }));
              await this.loadDueCards();
              this.render();
            }
          }
        }
      },
      {
        label: "\u{1F5D1}\uFE0F Delete Card",
        onClick: async () => {
          if (this.currentCard && confirm(t("confirm.deleteFlashcard", this.language))) {
            await this.deleteFlashcard(this.currentCard.id);
          }
        },
        className: "delete-item"
      }
    ];
    menuItems.forEach((item) => {
      const menuItem = dropdown.createEl("div", {
        cls: `dropdown-item ${item.className || ""}`
      });
      menuItem.innerHTML = item.label;
      menuItem.addEventListener("click", () => {
        item.onClick();
        dropdown.style.display = "none";
      });
    });
    moreBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      dropdown.style.display = dropdown.style.display === "none" ? "block" : "none";
    });
    document.addEventListener("click", () => {
      dropdown.style.display = "none";
    });
    dropdown.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  }
  renderQuestionView(container) {
    if (!this.currentCard)
      return;
    this.renderCardInfo(container);
    const questionArea = container.createDiv({ cls: "question-area" });
    questionArea.createEl("h3", { text: "Question" });
    const renderer = CardRendererFactory.getRenderer(this.currentCard.type);
    renderer.renderQuestion(
      questionArea,
      this.currentCard,
      this.stateManager.getState(),
      {
        setUserAnswer: (answer) => {
          this.stateManager.setUserAnswer(answer);
        },
        setUserAnswers: (answers) => {
          this.stateManager.setUserAnswers(answers);
        }
      }
    );
    const actionRow = container.createDiv({ cls: "action-row" });
    this.renderNavigationButton(actionRow, "prev");
    this.renderShowAnswerButton(actionRow);
    this.renderNavigationButton(actionRow, "next");
  }
  renderAnswerView(container) {
    var _a;
    if (!this.currentCard)
      return;
    this.renderCardInfo(container);
    const isQuestionTable = TableRenderer.isTableFormat(this.currentCard.front);
    const isAnswerTable = this.currentCard.type === "cloze" ? TableRenderer.isTableFormat(((_a = this.currentCard.cloze) == null ? void 0 : _a.original) || "") : TableRenderer.isTableFormat(
      Array.isArray(this.currentCard.back) ? this.currentCard.back[0] || "" : this.currentCard.back
    );
    if (!isQuestionTable && !isAnswerTable) {
      this.renderQuestionReview(container);
    }
    const renderer = CardRendererFactory.getRenderer(this.currentCard.type);
    renderer.renderAnswer(container, this.currentCard, this.stateManager.getState(), this.scheduler);
    const actionRow = container.createDiv({ cls: "action-row" });
    this.renderNavigationButton(actionRow, "prev");
    this.renderRatingButtons(actionRow);
    this.renderNavigationButton(actionRow, "next");
  }
  renderCardInfo(container) {
    if (!this.currentCard)
      return;
    const cardInfo = container.createDiv({ cls: "card-info" });
    cardInfo.createSpan({
      text: this.currentCard.type === "qa" ? "\u{1F4DD} Q&A" : "\u270F\uFE0F Cloze",
      cls: "card-type"
    });
    cardInfo.createSpan({
      text: `Deck: ${this.currentCard.deck}`,
      cls: "card-deck"
    });
  }
  renderQuestionReview(container) {
    if (!this.currentCard)
      return;
    const questionReview = container.createDiv({ cls: "question-review" });
    questionReview.createEl("h4", { text: "Question:" });
    const reviewTextDiv = questionReview.createDiv({ cls: "review-text" });
    const isQuestionTable = TableRenderer.isTableFormat(this.currentCard.front);
    if (isQuestionTable) {
      const tableEl = TableRenderer.renderTable(this.currentCard.front, false);
      reviewTextDiv.appendChild(tableEl);
      reviewTextDiv.classList.add("table-question");
    } else {
      reviewTextDiv.textContent = this.currentCard.front;
    }
  }
  renderShowAnswerButton(container) {
    const showAnswerBtn = container.createEl("button", {
      text: "Show Answer",
      cls: "mod-cta show-answer-btn",
      attr: { title: "Press Enter or Tab" }
    });
    showAnswerBtn.addEventListener("click", () => {
      this.stateManager.setShowAnswer(true);
      this.render();
    });
  }
  renderRatingButtons(container) {
    const buttonGroup = container.createDiv({ cls: "rating-buttons" });
    const ratings = [
      { ease: "again", label: "Again\n < 1 min", color: "red", key: "1" },
      { ease: "hard", label: "Hard\n < 10 min", color: "orange", key: "2" },
      { ease: "good", label: "Good\n 1 day", color: "blue", key: "3" },
      { ease: "easy", label: "Easy\n 4 days", color: "green", key: "4" }
    ];
    ratings.forEach(({ ease, label, color, key }) => {
      const btn = buttonGroup.createEl("button", {
        cls: `rating-btn rating-${color}`,
        attr: { title: `Press ${key}` }
      });
      const lines = label.split("\n");
      btn.createEl("div", { text: lines[0], cls: "rating-label" });
      btn.createEl("div", { text: lines[1], cls: "rating-interval" });
      btn.createEl("div", { text: `(${key})`, cls: "rating-hotkey" });
      btn.addEventListener("click", () => this.submitReview(ease));
    });
  }
  renderNavigationButton(container, type) {
    const btn = container.createEl("button", {
      cls: `nav-btn ${type}-btn`,
      text: type === "prev" ? "\u2190" : "\u2192"
    });
    btn.addEventListener("click", () => {
      this.go(type);
    });
  }
  go(direction) {
    var _a;
    const state = this.stateManager.getState();
    if (direction === "next") {
      if (!state.showAnswer) {
        const hasCurrentInput = ((_a = this.currentCard) == null ? void 0 : _a.type) === "cloze" ? state.userAnswers.some((ans) => ans && ans.trim() !== "") : state.userAnswer.trim() !== "";
        if (!hasCurrentInput) {
          this.stateManager.reset();
        }
        this.stateManager.setShowAnswer(true);
      } else {
        if (this.currentCardIndex < this.dueCards.length - 1) {
          if (this.currentCard) {
            this.stateManager.saveAnswerToCache(this.currentCard.id);
          }
          this.currentCardIndex++;
          this.currentCard = this.dueCards[this.currentCardIndex];
          this.resetReviewState();
          this.updateCurrentCard("next");
        } else {
          new import_obsidian11.Notice("Already at last card");
        }
      }
    }
    if (direction === "prev") {
      if (state.showAnswer) {
        this.stateManager.setShowAnswer(false);
        this.stateManager.reset();
        this.stateManager.setShowAnswer(false);
      } else {
        if (this.currentCardIndex > 0) {
          if (this.currentCard) {
            this.stateManager.saveAnswerToCache(this.currentCard.id);
          }
          this.currentCardIndex--;
          this.stateManager.reset();
          this.updateCurrentCard("prev");
          this.stateManager.setShowAnswer(true);
        } else {
          new import_obsidian11.Notice("Already at first card");
        }
      }
    }
    this.render();
  }
  // ============================================================================
  // 交互处理
  // ============================================================================
  async submitReview(ease) {
    if (!this.currentCard)
      return;
    const timeSpent = (Date.now() - this.stateManager.getState().startTime) / 1e3;
    const userAnswer = this.currentCard.type === "cloze" ? this.stateManager.getState().userAnswers : this.currentCard.type === "qa" ? this.stateManager.getState().userAnswer : void 0;
    const { updatedCard, reviewLog } = this.scheduler.schedule(
      this.currentCard,
      ease,
      timeSpent,
      userAnswer
    );
    await this.plugin.flashcardManager.updateCard(updatedCard);
    await this.plugin.flashcardManager.logReview({
      id: `log-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
      // 更唯一的ID
      cycle: this.plugin.analyticsEngine.getCurrentCycleNumber(),
      // 👈 添加周期号
      ...reviewLog
    });
    await this.plugin.unlockSystem.onCardReviewed();
    this.reviewedCardIds.add(this.currentCard.id);
    this.stateManager.clearCache(this.currentCard.id);
    this.resetReviewState();
    const nextUnreviewedIndex = this.findNextUnreviewedCard(this.currentCardIndex + 1);
    if (nextUnreviewedIndex === -1) {
      new import_obsidian11.Notice(`\u2705 Review session complete!`);
      this.currentCard = null;
      this.dueCards = [];
      this.render();
    } else {
      this.currentCardIndex = nextUnreviewedIndex;
      this.updateCurrentCard("next");
      this.render();
    }
  }
  findNextUnreviewedCard(startIndex) {
    for (let i = startIndex; i < this.dueCards.length; i++) {
      if (!this.reviewedCardIds.has(this.dueCards[i].id)) {
        return i;
      }
    }
    return -1;
  }
  async jumpToSource() {
    if (!this.currentCard)
      return;
    const file = this.app.vault.getAbstractFileByPath(this.currentCard.sourceFile);
    if (!(file instanceof import_obsidian11.TFile)) {
      new import_obsidian11.Notice("Source file not found");
      return;
    }
    const contentUnit = this.plugin.dataManager.getContentUnit(
      this.currentCard.sourceContentId
    );
    if (!contentUnit) {
      new import_obsidian11.Notice("Source content not found");
      return;
    }
    const leaf = this.app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian11.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          editor.setCursor({ line: contentUnit.source.position.line, ch: 0 });
          editor.scrollIntoView({
            from: { line: contentUnit.source.position.line, ch: 0 },
            to: { line: contentUnit.source.position.line, ch: 0 }
          }, true);
        }
      }
    }, 100);
  }
  async deleteFlashcard(cardId) {
    var _a;
    try {
      await this.plugin.flashcardManager.deleteCard(cardId);
      new import_obsidian11.Notice(t("notice.flashcardDeleted", this.language));
      this.dueCards = this.dueCards.filter((card) => card.id !== cardId);
      if (((_a = this.currentCard) == null ? void 0 : _a.id) === cardId) {
        if (this.currentCardIndex >= this.dueCards.length) {
          this.currentCardIndex = Math.max(0, this.dueCards.length - 1);
        }
        this.currentCard = null;
      }
      await this.loadDueCards();
      this.render();
    } catch (error) {
      console.error("Error deleting flashcard:", error);
      new import_obsidian11.Notice(t("notice.deleteFlashcardFailed", this.language));
    }
  }
  editCurrentFlashcard() {
    if (!this.currentCard)
      return;
    const modal = new FlashcardEditModal(
      this.app,
      this.plugin,
      this.currentCard,
      async (question, answer) => {
        try {
          const updatedCard = {
            ...this.currentCard,
            front: question,
            back: this.currentCard.type === "cloze" ? [answer] : answer,
            metadata: {
              ...this.currentCard.metadata,
              updatedAt: Date.now()
            }
          };
          await this.plugin.flashcardManager.updateCard(updatedCard);
          new import_obsidian11.Notice(t("notice.flashcardUpdated", this.language));
          this.currentCard = updatedCard;
          this.render();
        } catch (error) {
          console.error("Error updating flashcard:", error);
          new import_obsidian11.Notice(t("notice.updateFlashcardFailed", this.language));
        }
      }
    );
    modal.open();
  }
  async resetCardStats(cardId) {
    try {
      const card = this.plugin.flashcardManager.getFlashcard(cardId);
      if (!card)
        return;
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
      const logs = this.plugin.flashcardManager["reviewLogs"] || [];
      this.plugin.flashcardManager["reviewLogs"] = logs.filter(
        (log) => log.flashcardId !== cardId
      );
      await this.plugin.dataManager.save();
      new import_obsidian11.Notice(t("notice.cardStatsReset", this.language));
      this.currentCard = card;
      this.render();
    } catch (error) {
      console.error("Error resetting card stats:", error);
      new import_obsidian11.Notice(t("notice.resetStatsFailed", this.language));
    }
  }
  registerKeyboardHandlers() {
    document.addEventListener("keydown", this.keyboardHandler);
  }
  async cleanupReviewedCards() {
    this.reviewedCardIds.clear();
  }
  // ============================================================================
  // 样式
  // ============================================================================
};

// src/ui/view/StatsView.ts
var import_obsidian12 = require("obsidian");

// src/core/AnalyticsEngine.ts
var AnalyticsEngine = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  /**
   * 获取或初始化周期信息
   */
  getCycleData() {
    const data = this.plugin.settings.cycleData;
    if (!data) {
      const initData = {
        currentCycle: 1,
        cycleStartDate: new Date().toISOString(),
        cycles: [{
          cycleNumber: 1,
          startDate: new Date().toISOString(),
          totalReviews: 0,
          totalCards: 0,
          correctRate: 0
        }]
      };
      this.plugin.settings.cycleData = initData;
      this.plugin.saveSettings();
      return initData;
    }
    return data;
  }
  /**
   * 获取当前周期信息（供 UI 使用）
   */
  getCurrentCycleInfo() {
    const data = this.getCycleData();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const cycleReviews = logs.filter(
      (log) => (log.cycle || 1) === data.currentCycle
    ).length;
    return {
      currentCycle: data.currentCycle,
      startDate: data.cycleStartDate,
      reviewsThisCycle: cycleReviews
    };
  }
  /**
   * 获取当前周期号
   */
  getCurrentCycleNumber() {
    return this.getCycleData().currentCycle;
  }
  /**
   * 开启新周期
   */
  async startNewCycle() {
    const data = this.getCycleData();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const cycleReviews = logs.filter(
      (log) => (log.cycle || 1) === data.currentCycle
    );
    const totalCorrect = cycleReviews.filter(
      (log) => log.response.ease === "good" || log.response.ease === "easy"
    ).length;
    const correctRate = cycleReviews.length > 0 ? totalCorrect / cycleReviews.length : 0;
    const currentCycleIndex = data.cycles.findIndex(
      (c) => c.cycleNumber === data.currentCycle
    );
    if (currentCycleIndex !== -1) {
      data.cycles[currentCycleIndex].endDate = new Date().toISOString();
      data.cycles[currentCycleIndex].totalReviews = cycleReviews.length;
      data.cycles[currentCycleIndex].totalCards = cards.length;
      data.cycles[currentCycleIndex].correctRate = correctRate;
    }
    const newCycleNumber = data.currentCycle + 1;
    const newStartDate = new Date().toISOString();
    data.cycles.push({
      cycleNumber: newCycleNumber,
      startDate: newStartDate,
      totalReviews: 0,
      totalCards: cards.length,
      correctRate: 0
    });
    data.currentCycle = newCycleNumber;
    data.cycleStartDate = newStartDate;
    await this.plugin.saveSettings();
  }
  /**
   * 获取所有历史周期(用于UI显示)
   */
  getArchivedCycles() {
    const data = this.getCycleData();
    return data.cycles.filter((c) => !!c.endDate).sort((a, b) => b.cycleNumber - a.cycleNumber);
  }
  /**
   * 获取指定周期的详细统计
   */
  getCycleDetails(cycleNumber) {
    const data = this.getCycleData();
    const cycle = data.cycles.find((c) => c.cycleNumber === cycleNumber);
    if (!cycle)
      return null;
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const cycleLogs = logs.filter((log) => (log.cycle || 1) === cycleNumber);
    const dailyStats = this.buildCycleDailyStats(cycleNumber, cycle.startDate, cycle.endDate);
    const deckStats = this.buildCycleDeckStats(cycleNumber);
    return {
      cycle,
      dailyStats,
      deckStats,
      weeklyStats: this.getWeeklyStats(true)
      // 这里可以改进,获取指定周期的周统计
    };
  }
  /**
   * 构建指定周期的每日统计
   */
  buildCycleDailyStats(cycleNumber, startDate, endDate) {
    const logs = (this.plugin.flashcardManager["reviewLogs"] || []).filter((log) => (log.cycle || 1) === cycleNumber);
    const start = new Date(startDate);
    const end = endDate ? new Date(endDate) : new Date();
    const days = Math.ceil((end.getTime() - start.getTime()) / (1e3 * 60 * 60 * 24));
    const stats = /* @__PURE__ */ new Map();
    for (let i = 0; i < days; i++) {
      const date = new Date(start);
      date.setDate(date.getDate() + i);
      const dateKey = date.toISOString().split("T")[0];
      stats.set(dateKey, {
        date: dateKey,
        reviewed: 0,
        correctCount: 0,
        correctRate: 0,
        timeSpent: 0,
        newCards: 0
      });
    }
    logs.forEach((log) => {
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      const stat = stats.get(date);
      if (!stat)
        return;
      stat.reviewed++;
      stat.timeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        stat.correctCount++;
      } else if (log.response.ease === "hard") {
        stat.correctCount += 0.5;
      }
      const card = this.plugin.flashcardManager.getFlashcard(log.flashcardId);
      if (card && card.stats.totalReviews === 1) {
        stat.newCards++;
      }
    });
    stats.forEach((stat) => {
      if (stat.reviewed > 0) {
        stat.correctRate = stat.correctCount / stat.reviewed;
      }
    });
    return Array.from(stats.values()).sort((a, b) => a.date.localeCompare(b.date));
  }
  /**
   * 构建指定周期的卡组统计
   */
  buildCycleDeckStats(cycleNumber) {
    const logs = (this.plugin.flashcardManager["reviewLogs"] || []).filter((log) => (log.cycle || 1) === cycleNumber);
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const deckMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      if (!deckMap.has(card.deck)) {
        deckMap.set(card.deck, { cards: [], logs: [] });
      }
      deckMap.get(card.deck).cards.push(card);
    });
    logs.forEach((log) => {
      const card = cards.find((c) => c.id === log.flashcardId);
      if (card && deckMap.has(card.deck)) {
        deckMap.get(card.deck).logs.push(log);
      }
    });
    const stats = [];
    deckMap.forEach((data, deckName) => {
      const deckLogs = data.logs;
      const correctLogs = deckLogs.filter(
        (log) => log.response.ease === "good" || log.response.ease === "easy"
      );
      stats.push({
        deckName,
        totalCards: data.cards.length,
        dueCards: data.cards.filter((c) => c.scheduling.due <= Date.now()).length,
        newCards: data.cards.filter((c) => c.scheduling.state === "new").length,
        correctRate: deckLogs.length > 0 ? correctLogs.length / deckLogs.length : 0,
        averageInterval: data.cards.reduce((sum, c) => sum + c.scheduling.interval, 0) / (data.cards.length || 1)
      });
    });
    return stats.sort((a, b) => b.totalCards - a.totalCards);
  }
  /**
   * 清除统计但保留卡片进度
   */
  async clearStatsOnly() {
    this.plugin.flashcardManager["reviewLogs"] = [];
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: card.stats.difficulty
        // 保留难度
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    await this.plugin.dataManager.save();
  }
  /**
   * 获取每日统计
   */
  getDailyStats(days = 30, currentCycleOnly = false) {
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const stats = /* @__PURE__ */ new Map();
    const currentCycle = currentCycleOnly ? this.getCurrentCycleNumber() : null;
    for (let i = 0; i < days; i++) {
      const date = new Date();
      date.setDate(date.getDate() - i);
      const dateKey = date.toISOString().split("T")[0];
      stats.set(dateKey, {
        date: dateKey,
        reviewed: 0,
        correctCount: 0,
        correctRate: 0,
        timeSpent: 0,
        newCards: 0
      });
    }
    logs.forEach((log) => {
      const logCycle = log.cycle || 1;
      if (currentCycle !== null && logCycle !== currentCycle) {
        return;
      }
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      const stat = stats.get(date);
      if (!stat)
        return;
      stat.reviewed++;
      stat.timeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        stat.correctCount++;
      } else if (log.response.ease === "hard") {
        stat.correctCount += 0.5;
      }
      const card = this.plugin.flashcardManager.getFlashcard(log.flashcardId);
      if (card && card.stats.totalReviews === 1) {
        stat.newCards++;
      }
    });
    stats.forEach((stat) => {
      if (stat.reviewed > 0) {
        stat.correctRate = stat.correctCount / stat.reviewed;
      }
    });
    return Array.from(stats.values()).sort(
      (a, b) => a.date.localeCompare(b.date)
    );
  }
  /**
   * 获取周统计
   */
  getWeeklyStats(currentCycleOnly = false) {
    const now = new Date();
    const currentCycle = currentCycleOnly ? this.getCurrentCycleNumber() : null;
    const thisWeekStart = new Date(now);
    thisWeekStart.setDate(now.getDate() - now.getDay());
    thisWeekStart.setHours(0, 0, 0, 0);
    const lastWeekStart = new Date(thisWeekStart);
    lastWeekStart.setDate(lastWeekStart.getDate() - 7);
    const thisWeek = this.calculateWeekStats(thisWeekStart, currentCycle);
    const lastWeek = this.calculateWeekStats(lastWeekStart, currentCycle);
    return { thisWeek, lastWeek };
  }
  calculateWeekStats(startDate, cycleFilter = null) {
    const endDate = new Date(startDate);
    endDate.setDate(endDate.getDate() + 7);
    let logs = (this.plugin.flashcardManager["reviewLogs"] || []).filter(
      (log) => log.timestamp >= startDate.getTime() && log.timestamp < endDate.getTime()
    );
    if (cycleFilter !== null) {
      logs = logs.filter((log) => (log.cycle || 1) === cycleFilter);
    }
    let totalCorrect = 0;
    let totalTimeSpent = 0;
    logs.forEach((log) => {
      totalTimeSpent += log.response.timeSpent;
      if (log.response.ease === "good" || log.response.ease === "easy") {
        totalCorrect++;
      } else if (log.response.ease === "hard") {
        totalCorrect += 0.5;
      }
    });
    const averageCorrectRate = logs.length > 0 ? totalCorrect / logs.length : 0;
    const streak = this.calculateStreak();
    return {
      startDate: startDate.toISOString().split("T")[0],
      endDate: endDate.toISOString().split("T")[0],
      totalReviews: logs.length,
      averageCorrectRate,
      totalTimeSpent,
      streak
    };
  }
  /**
   * 计算连续学习天数
   */
  calculateStreak() {
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    if (logs.length === 0)
      return 0;
    const dates = /* @__PURE__ */ new Set();
    logs.forEach((log) => {
      const date = new Date(log.timestamp).toISOString().split("T")[0];
      dates.add(date);
    });
    const sortedDates = Array.from(dates).sort().reverse();
    let streak = 0;
    const today = new Date().toISOString().split("T")[0];
    for (let i = 0; i < sortedDates.length; i++) {
      const expectedDate = new Date();
      expectedDate.setDate(expectedDate.getDate() - i);
      const expected = expectedDate.toISOString().split("T")[0];
      if (sortedDates[i] === expected) {
        streak++;
      } else {
        break;
      }
    }
    return streak;
  }
  /**
   * 获取卡组统计
   */
  getDeckStats() {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const deckMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      if (!deckMap.has(card.deck)) {
        deckMap.set(card.deck, []);
      }
      deckMap.get(card.deck).push(card);
    });
    const stats = [];
    const now = Date.now();
    deckMap.forEach((deckCards, deckName) => {
      const dueCards = deckCards.filter((c) => c.scheduling.due <= now).length;
      const newCards = deckCards.filter((c) => c.scheduling.state === "new").length;
      const totalCorrect = deckCards.reduce(
        (sum, c) => sum + c.stats.correctCount,
        0
      );
      const totalReviews = deckCards.reduce(
        (sum, c) => sum + c.stats.totalReviews,
        0
      );
      const correctRate = totalReviews > 0 ? totalCorrect / totalReviews : 0;
      const totalInterval = deckCards.reduce(
        (sum, c) => sum + c.scheduling.interval,
        0
      );
      const averageInterval = deckCards.length > 0 ? totalInterval / deckCards.length : 0;
      stats.push({
        deckName,
        totalCards: deckCards.length,
        dueCards,
        newCards,
        correctRate,
        averageInterval
      });
    });
    return stats.sort((a, b) => b.totalCards - a.totalCards);
  }
  /**
   * 获取难点卡片
   */
  getDifficultCards(limit = 10) {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    const difficultCards = [];
    cards.forEach((card) => {
      const cardLogs = logs.filter((log) => log.flashcardId === card.id);
      const errorCount = cardLogs.filter(
        (log) => log.response.ease === "again"
      ).length;
      if (errorCount === 0 && card.stats.difficulty < 0.7)
        return;
      const errorLogs = cardLogs.filter((log) => log.response.ease === "again");
      const lastError = errorLogs.length > 0 ? errorLogs[errorLogs.length - 1].timestamp : 0;
      const pattern = this.detectErrorPattern(card, cardLogs);
      difficultCards.push({
        card,
        errorCount,
        lastError,
        averageTime: card.stats.averageTime,
        pattern
      });
    });
    return difficultCards.sort((a, b) => {
      if (a.errorCount !== b.errorCount) {
        return b.errorCount - a.errorCount;
      }
      if (a.card.stats.difficulty !== b.card.stats.difficulty) {
        return b.card.stats.difficulty - a.card.stats.difficulty;
      }
      return b.lastError - a.lastError;
    }).slice(0, limit);
  }
  detectErrorPattern(card, logs) {
    if (logs.length < 3)
      return "unknown";
    if (card.stats.averageTime > 60) {
      return "calculation";
    }
    if (card.scheduling.interval < 3 && card.scheduling.lapses > 2) {
      return "memory";
    }
    const recentLogs = logs.slice(-5);
    const recentFailures = recentLogs.filter(
      (log) => log.response.ease === "again"
    ).length;
    if (recentFailures >= 3) {
      return "concept";
    }
    return "unknown";
  }
  /**
   * 获取标签统计
   */
  getTagStats() {
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    const tagMap = /* @__PURE__ */ new Map();
    cards.forEach((card) => {
      card.tags.forEach((tag) => {
        if (!tagMap.has(tag)) {
          tagMap.set(tag, { total: 0, correct: 0, reviews: 0 });
        }
        const stat = tagMap.get(tag);
        stat.total++;
        stat.correct += card.stats.correctCount;
        stat.reviews += card.stats.totalReviews;
      });
    });
    const stats = Array.from(tagMap.entries()).map(([tag, data]) => ({
      tag,
      count: data.total,
      correctRate: data.reviews > 0 ? data.correct / data.reviews : 0
    }));
    return stats.sort((a, b) => b.count - a.count);
  }
  /**
   * 生成学习报告
   */
  generateReport(days = 7) {
    const dailyStats = this.getDailyStats(days);
    const { thisWeek, lastWeek } = this.getWeeklyStats();
    const difficultCards = this.getDifficultCards(5);
    const deckStats = this.getDeckStats();
    const totalReviewed = dailyStats.reduce((sum, s) => sum + s.reviewed, 0);
    const totalCorrect = dailyStats.reduce((sum, s) => sum + s.correctCount, 0);
    const averageCorrectRate = totalReviewed > 0 ? totalCorrect / totalReviewed : 0;
    const totalTime = dailyStats.reduce((sum, s) => sum + s.timeSpent, 0);
    const recentDays = dailyStats.slice(-7);
    const olderDays = dailyStats.slice(-14, -7);
    const recentRate = this.calculateAverageRate(recentDays);
    const olderRate = this.calculateAverageRate(olderDays);
    const trend = recentRate > olderRate ? "\u{1F4C8} improving" : recentRate < olderRate ? "\u{1F4C9} declining" : "\u27A1\uFE0F stable";
    let report = `# \u{1F4CA} Learning Report

`;
    report += `**Period:** Last ${days} days
`;
    report += `**Generated:** ${new Date().toLocaleString()}

`;
    report += `## \u{1F3AF} Overall Performance

`;
    report += `- **Cards Reviewed:** ${totalReviewed}
`;
    report += `- **Correct Rate:** ${(averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- **Study Time:** ${this.formatTime(totalTime)}
`;
    report += `- **Current Streak:** ${thisWeek.streak} days \u{1F525}
`;
    report += `- **Trend:** ${trend}

`;
    report += `## \u{1F4C8} Week Comparison

`;
    report += `### This Week
`;
    report += `- Reviews: ${thisWeek.totalReviews}
`;
    report += `- Correct Rate: ${(thisWeek.averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- Time: ${this.formatTime(thisWeek.totalTimeSpent)}

`;
    report += `### Last Week
`;
    report += `- Reviews: ${lastWeek.totalReviews}
`;
    report += `- Correct Rate: ${(lastWeek.averageCorrectRate * 100).toFixed(1)}%
`;
    report += `- Time: ${this.formatTime(lastWeek.totalTimeSpent)}

`;
    const reviewChange = thisWeek.totalReviews - lastWeek.totalReviews;
    const rateChange = (thisWeek.averageCorrectRate - lastWeek.averageCorrectRate) * 100;
    if (reviewChange > 0) {
      report += `\u{1F4AA} You reviewed **${reviewChange} more cards** this week!
`;
    }
    if (rateChange > 5) {
      report += `\u{1F389} Your accuracy improved by **${rateChange.toFixed(1)}%**!
`;
    }
    report += `
`;
    if (difficultCards.length > 0) {
      report += `## \u26A0\uFE0F Cards Needing Attention

`;
      difficultCards.forEach((dc, i) => {
        const patternEmoji = {
          "concept": "\u{1F9E0}",
          "memory": "\u{1F4AD}",
          "calculation": "\u{1F522}",
          "unknown": "\u2753"
        };
        report += `${i + 1}. **${dc.card.front.substring(0, 50)}${dc.card.front.length > 50 ? "..." : ""}**
`;
        report += `   - Errors: ${dc.errorCount} | Pattern: ${patternEmoji[dc.pattern]} ${dc.pattern}
`;
        report += `   - Avg Time: ${dc.averageTime.toFixed(1)}s | Difficulty: ${(dc.card.stats.difficulty * 100).toFixed(0)}%

`;
      });
    }
    report += `## \u{1F4DA} Deck Overview

`;
    deckStats.forEach((deck) => {
      report += `### ${deck.deckName}
`;
      report += `- Total: ${deck.totalCards} | Due: ${deck.dueCards} | New: ${deck.newCards}
`;
      report += `- Correct Rate: ${(deck.correctRate * 100).toFixed(1)}%
`;
      report += `- Avg Interval: ${deck.averageInterval.toFixed(1)} days

`;
    });
    report += `## \u{1F4A1} Recommendations

`;
    if (averageCorrectRate < 0.7) {
      report += `- \u26A1 Your correct rate is below 70%. Consider reviewing difficult cards more frequently.
`;
    }
    if (difficultCards.length > 5) {
      report += `- \u{1F4D6} You have many difficult cards. Try breaking complex concepts into smaller flashcards.
`;
    }
    if (thisWeek.streak > 7) {
      report += `- \u{1F389} Amazing streak! Keep up the consistency!
`;
    }
    if (totalTime / totalReviewed > 30) {
      report += `- \u23F1\uFE0F Average review time is high. Consider simplifying card content.
`;
    }
    if (deckStats.some((d) => d.dueCards > d.totalCards * 0.5)) {
      report += `- \u{1F4C5} Some decks have many overdue cards. Focus on catching up with these.
`;
    }
    return report;
  }
  calculateAverageRate(stats) {
    const total = stats.reduce((sum, s) => sum + s.reviewed, 0);
    const correct = stats.reduce((sum, s) => sum + s.correctCount, 0);
    return total > 0 ? correct / total : 0;
  }
  formatTime(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor(seconds % 3600 / 60);
    if (hours > 0) {
      return `${hours}h ${minutes}m`;
    }
    return `${minutes}m`;
  }
  /**
   * 获取热力图数据（用于日历视图）
   */
  getHeatmapData(days = 90) {
    const dailyStats = this.getDailyStats(days);
    const maxReviews = Math.max(...dailyStats.map((s) => s.reviewed));
    return dailyStats.map((stat) => ({
      date: stat.date,
      count: stat.reviewed,
      intensity: maxReviews > 0 ? stat.reviewed / maxReviews : 0
    }));
  }
  /**
  * 清除所有统计数据
  */
  async clearAllStats() {
    this.plugin.flashcardManager["reviewLogs"] = [];
    const cards = this.plugin.flashcardManager.getAllFlashcards();
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        // 使用 ease 而不是 easeFactor
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    await this.plugin.dataManager.save();
  }
  /**
   * 清除指定天数之前的统计数据
   */
  async clearStatsBeforeDate(daysAgo) {
    const cutoffDate = new Date();
    cutoffDate.setDate(cutoffDate.getDate() - daysAgo);
    const cutoffTimestamp = cutoffDate.getTime();
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    this.plugin.flashcardManager["reviewLogs"] = logs.filter(
      (log) => log.timestamp >= cutoffTimestamp
    );
    await this.plugin.dataManager.save();
  }
  /**
   * 清除特定卡组的统计数据
   */
  async clearDeckStats(deckName) {
    const cards = this.plugin.flashcardManager.getAllFlashcards().filter((card) => card.deck === deckName);
    for (const card of cards) {
      card.stats = {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        lastReview: 0,
        difficulty: 0.3
      };
      card.scheduling = {
        interval: 0,
        ease: 2.5,
        // 使用 ease
        due: Date.now(),
        lapses: 0,
        reps: 0,
        state: "new"
      };
      await this.plugin.flashcardManager.updateCard(card);
    }
    const cardIds = new Set(cards.map((c) => c.id));
    const logs = this.plugin.flashcardManager["reviewLogs"] || [];
    this.plugin.flashcardManager["reviewLogs"] = logs.filter(
      (log) => !cardIds.has(log.flashcardId)
    );
    await this.plugin.dataManager.save();
  }
};

// src/ui/view/StatsView.ts
var VIEW_TYPE_STATS = "learning-system-stats";
var StatsView = class extends import_obsidian12.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.currentTab = "overview";
    this.plugin = plugin;
    this.language = this.plugin.settings.language || "en";
    this.analytics = new AnalyticsEngine(plugin);
  }
  getViewType() {
    return VIEW_TYPE_STATS;
  }
  getDisplayText() {
    return "Learning Statistics";
  }
  getIcon() {
    return "bar-chart";
  }
  async onOpen() {
    await this.plugin.unlockSystem.onStatsPageVisited();
    this.render();
    this.addStyles();
  }
  async onClose() {
  }
  render() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("stats-container");
    const header = container.createDiv({ cls: "stats-header" });
    header.createEl("h2", { text: "Learning Statistics" });
    const refreshBtn = header.createEl("button", {
      text: "\u27F3",
      cls: "refresh-btn"
    });
    refreshBtn.addEventListener("click", () => this.render());
    this.renderTabs(container);
    const content = container.createDiv({ cls: "stats-content" });
    switch (this.currentTab) {
      case "overview":
        this.renderOverview(content);
        break;
      case "trends":
        this.renderTrends(content);
        break;
      case "decks":
        this.renderDecks(content);
        break;
      case "difficult":
        this.renderDifficult(content);
        break;
      case "history":
        this.renderCycleHistory(content);
        break;
    }
  }
  renderTabs(container) {
    const tabs = container.createDiv({ cls: "stats-tabs" });
    const tabConfigs = [
      { id: "overview", label: "\u{1F4CA} Overview" },
      { id: "trends", label: "\u{1F4C8} Trends" },
      { id: "decks", label: "\u{1F4DA} Decks" },
      { id: "difficult", label: "\u26A0\uFE0F Difficult" },
      { id: "history", label: "\u{1F4DC} Cycle History" }
    ];
    tabConfigs.forEach((config) => {
      const tab = tabs.createDiv({
        cls: `tab ${this.currentTab === config.id ? "active" : ""}`
      });
      tab.textContent = config.label;
      tab.addEventListener("click", () => {
        this.currentTab = config.id;
        this.render();
      });
    });
  }
  renderOverview(container) {
    const stats = this.plugin.flashcardManager.getStats();
    const { thisWeek, lastWeek } = this.analytics.getWeeklyStats();
    const dailyStats = this.analytics.getDailyStats(7);
    this.renderCycleBanner(container);
    const metricsGrid = container.createDiv({ cls: "metrics-grid" });
    this.createMetricCard(metricsGrid, {
      title: "Total Cards",
      value: stats.total.toString(),
      icon: "\u{1F0CF}"
    });
    this.createMetricCard(metricsGrid, {
      title: "Due Today",
      value: stats.due.toString(),
      icon: "\u{1F4C5}"
    });
    this.createMetricCard(metricsGrid, {
      title: "Reviewed Today",
      value: stats.reviewedToday.toString(),
      icon: "\u2705"
    });
    const streak = this.analytics.calculateStreak();
    this.createMetricCard(metricsGrid, {
      title: "Current Streak",
      value: `${streak} days`,
      icon: "\u{1F525}"
    });
    const weekComparison = container.createDiv({ cls: "week-comparison" });
    weekComparison.createEl("h3", { text: "This Week vs Last Week" });
    const comparisonGrid = weekComparison.createDiv({ cls: "comparison-grid" });
    const reviewChange = thisWeek.totalReviews - lastWeek.totalReviews;
    const reviewChangePercent = lastWeek.totalReviews > 0 ? (reviewChange / lastWeek.totalReviews * 100).toFixed(1) : "0";
    this.createComparisonItem(comparisonGrid, {
      label: "Reviews",
      thisWeek: thisWeek.totalReviews,
      lastWeek: lastWeek.totalReviews,
      change: reviewChange,
      changePercent: reviewChangePercent
    });
    const rateChange = (thisWeek.averageCorrectRate - lastWeek.averageCorrectRate) * 100;
    this.createComparisonItem(comparisonGrid, {
      label: "Correct Rate",
      thisWeek: `${(thisWeek.averageCorrectRate * 100).toFixed(1)}%`,
      lastWeek: `${(lastWeek.averageCorrectRate * 100).toFixed(1)}%`,
      change: rateChange,
      changePercent: rateChange.toFixed(1)
    });
    const recentActivity = container.createDiv({ cls: "recent-activity" });
    recentActivity.createEl("h3", { text: "Last 7 Days Activity" });
    const activityChart = recentActivity.createDiv({ cls: "activity-chart" });
    this.renderSimpleBarChart(activityChart, dailyStats);
    const reportSection = container.createDiv({ cls: "report-section" });
    const reportBtn = reportSection.createEl("button", {
      text: "\u{1F4C4} Generate Full Report",
      cls: "mod-cta"
    });
    reportBtn.addEventListener("click", () => this.generateAndShowReport());
    const clearBtn = reportSection.createEl("button", {
      text: "\u{1F5D1}\uFE0F Clear Statistics",
      cls: "mod-warning"
    });
    clearBtn.style.marginLeft = "10px";
    clearBtn.addEventListener("click", () => this.showClearStatsModal());
  }
  renderTrends(container) {
    container.createEl("h3", { text: "Performance Trends" });
    const dailyStats = this.analytics.getDailyStats(30);
    const correctRateSection = container.createDiv({ cls: "chart-section" });
    correctRateSection.createEl("h4", { text: "Correct Rate (Last 30 Days)" });
    const correctRateChart = correctRateSection.createDiv({ cls: "line-chart" });
    this.renderLineChart(correctRateChart, dailyStats, "correctRate");
    const reviewsSection = container.createDiv({ cls: "chart-section" });
    reviewsSection.createEl("h4", { text: "Daily Reviews" });
    const reviewsChart = reviewsSection.createDiv({ cls: "bar-chart" });
    this.renderBarChart(reviewsChart, dailyStats);
    const heatmapSection = container.createDiv({ cls: "chart-section" });
    heatmapSection.createEl("h4", { text: "Study Activity Calendar" });
    const heatmap = heatmapSection.createDiv({ cls: "heatmap" });
    this.renderHeatmap(heatmap);
  }
  renderDecks(container) {
    container.createEl("h3", { text: "Deck Statistics" });
    const deckStats = this.analytics.getDeckStats();
    if (deckStats.length === 0) {
      container.createDiv({
        text: "No decks yet. Create some flashcards to see deck statistics!",
        cls: "empty-message"
      });
      return;
    }
    const decksGrid = container.createDiv({ cls: "decks-grid" });
    deckStats.forEach((deck) => {
      const deckCard = decksGrid.createDiv({ cls: "deck-card" });
      const header = deckCard.createDiv({ cls: "deck-card-header" });
      header.createEl("h4", { text: deck.deckName });
      header.createSpan({
        text: `${deck.totalCards} cards`,
        cls: "deck-badge"
      });
      const stats = deckCard.createDiv({ cls: "deck-card-stats" });
      this.createStatRow(stats, "Due", deck.dueCards.toString(), "\u{1F4C5}");
      this.createStatRow(stats, "New", deck.newCards.toString(), "\u{1F195}");
      this.createStatRow(
        stats,
        "Correct Rate",
        `${(deck.correctRate * 100).toFixed(1)}%`,
        "\u2705"
      );
      this.createStatRow(
        stats,
        "Avg Interval",
        `${deck.averageInterval.toFixed(1)} days`,
        "\u{1F4CA}"
      );
      const progress = deckCard.createDiv({ cls: "deck-progress" });
      const masteredCount = deck.totalCards - deck.dueCards - deck.newCards;
      const masteredPercent = masteredCount / deck.totalCards * 100;
      const progressBar = progress.createDiv({ cls: "progress-bar-container" });
      const bar = progressBar.createDiv({ cls: "progress-bar-fill" });
      bar.style.width = `${masteredPercent}%`;
      progress.createDiv({
        text: `${masteredPercent.toFixed(0)}% mastered`,
        cls: "progress-label"
      });
    });
  }
  renderDifficult(container) {
    container.createEl("h3", { text: "Cards Needing Attention" });
    const difficultCards = this.analytics.getDifficultCards(10);
    if (difficultCards.length === 0) {
      container.createDiv({
        text: "\u{1F389} No difficult cards! Great job!",
        cls: "empty-message"
      });
      return;
    }
    const cardsList = container.createDiv({ cls: "difficult-cards-list" });
    difficultCards.forEach((dc, index) => {
      const cardItem = cardsList.createDiv({ cls: "difficult-card-item" });
      const rank = cardItem.createDiv({ cls: "card-rank" });
      rank.textContent = `${index + 1}`;
      const content = cardItem.createDiv({ cls: "card-content" });
      const question = content.createDiv({ cls: "card-question" });
      question.textContent = dc.card.front.substring(0, 80) + (dc.card.front.length > 80 ? "..." : "");
      const meta = content.createDiv({ cls: "card-meta" });
      const patternEmoji = {
        "concept": "\u{1F9E0}",
        "memory": "\u{1F4AD}",
        "calculation": "\u{1F522}",
        "unknown": "\u2753"
      };
      meta.createSpan({
        text: `${patternEmoji[dc.pattern]} ${dc.pattern}`,
        cls: "pattern-badge"
      });
      meta.createSpan({
        text: `${dc.errorCount} errors`,
        cls: "error-count"
      });
      meta.createSpan({
        text: `${dc.averageTime.toFixed(1)}s avg`,
        cls: "avg-time"
      });
      const difficultyBar = content.createDiv({ cls: "difficulty-bar-container" });
      const diffBar = difficultyBar.createDiv({ cls: "difficulty-bar" });
      diffBar.style.width = `${dc.card.stats.difficulty * 100}%`;
      const actions = cardItem.createDiv({ cls: "card-actions" });
      const jumpBtn = actions.createEl("button", {
        text: "\u2197",
        cls: "action-btn-small"
      });
      jumpBtn.addEventListener("click", () => this.jumpToCard(dc.card));
      const reviewBtn = actions.createEl("button", {
        text: "\u{1F504}",
        cls: "action-btn-small"
      });
      reviewBtn.addEventListener("click", () => {
        this.plugin.activateReview();
      });
      const deleteBtn = actions.createEl("button", {
        text: "\u{1F5D1}\uFE0F",
        cls: "action-btn-small delete-btn"
      });
      deleteBtn.addEventListener("click", async () => {
        if (confirm(t("notice.flashcardDeleted", this.language))) {
          await this.deleteFlashcard(dc.card.id);
        }
      });
    });
  }
  createMetricCard(container, config) {
    const card = container.createDiv({ cls: "metric-card" });
    card.createDiv({ text: config.icon, cls: "metric-icon" });
    const content = card.createDiv({ cls: "metric-content" });
    content.createDiv({ text: config.title, cls: "metric-title" });
    content.createDiv({ text: config.value, cls: "metric-value" });
  }
  createComparisonItem(container, config) {
    const item = container.createDiv({ cls: "comparison-item" });
    item.createDiv({ text: config.label, cls: "comparison-label" });
    const values = item.createDiv({ cls: "comparison-values" });
    values.createSpan({
      text: `${config.thisWeek}`,
      cls: "this-week"
    });
    values.createSpan({ text: " vs ", cls: "vs" });
    values.createSpan({
      text: `${config.lastWeek}`,
      cls: "last-week"
    });
    const changeClass = config.change > 0 ? "positive" : config.change < 0 ? "negative" : "neutral";
    const changeIcon = config.change > 0 ? "\u2197" : config.change < 0 ? "\u2198" : "\u2192";
    item.createDiv({
      text: `${changeIcon} ${config.changePercent}%`,
      cls: `change ${changeClass}`
    });
  }
  createStatRow(container, label, value, icon) {
    const row = container.createDiv({ cls: "stat-row" });
    row.createSpan({ text: icon, cls: "stat-icon" });
    row.createSpan({ text: label, cls: "stat-label" });
    row.createSpan({ text: value, cls: "stat-value" });
  }
  renderSimpleBarChart(container, data) {
    const maxValue = Math.max(...data.map((d) => d.reviewed));
    data.forEach((stat) => {
      const bar = container.createDiv({ cls: "simple-bar" });
      const date = new Date(stat.date);
      const dayName = date.toLocaleDateString("en-US", { weekday: "short" });
      bar.createDiv({ text: dayName, cls: "bar-label" });
      const barContainer = bar.createDiv({ cls: "bar-container" });
      const barFill = barContainer.createDiv({ cls: "bar-fill" });
      const height = maxValue > 0 ? stat.reviewed / maxValue * 100 : 0;
      barFill.style.height = `${height}%`;
      bar.createDiv({ text: stat.reviewed.toString(), cls: "bar-value" });
    });
  }
  renderBarChart(container, data) {
    const chart = container.createDiv({ cls: "chart-canvas" });
    const maxValue = Math.max(...data.map((d) => d.reviewed));
    data.forEach((stat) => {
      const barGroup = chart.createDiv({ cls: "bar-group" });
      const barContainer = barGroup.createDiv({ cls: "bar" });
      const height = maxValue > 0 ? stat.reviewed / maxValue * 100 : 0;
      barContainer.style.height = `${height}%`;
      barContainer.title = `${stat.reviewed} reviews`;
      const barLabel = barGroup.createDiv({ cls: "bar-label" });
      const date = new Date(stat.date);
      barLabel.textContent = date.getDate().toString();
    });
  }
  renderLineChart(container, data, key) {
    const chart = container.createDiv({ cls: "line-chart-canvas" });
    const points = data.map((stat, i) => {
      const x = i / (data.length - 1) * 100;
      const y = 100 - stat[key] * 100;
      return { x, y, value: stat[key] };
    });
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", "0 0 100 100");
    svg.setAttribute("preserveAspectRatio", "none");
    svg.style.width = "100%";
    svg.style.height = "200px";
    const pathData = points.map(
      (p, i) => `${i === 0 ? "M" : "L"} ${p.x} ${p.y}`
    ).join(" ");
    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
    path.setAttribute("d", pathData);
    path.setAttribute("fill", "none");
    path.setAttribute("stroke", "var(--interactive-accent)");
    path.setAttribute("stroke-width", "2");
    svg.appendChild(path);
    chart.appendChild(svg);
    const labelsContainer = container.createDiv({ cls: "chart-labels" });
    data.forEach((stat, i) => {
      if (i % Math.ceil(data.length / 7) === 0) {
        const chartLabel = labelsContainer.createDiv({ cls: "chart-label" });
        const date = new Date(stat.date);
        chartLabel.textContent = `${date.getMonth() + 1}/${date.getDate()}`;
      }
    });
  }
  renderHeatmap(container) {
    const heatmapData = this.analytics.getHeatmapData(90);
    const weeks = [];
    let currentWeek = [];
    heatmapData.forEach((day, i) => {
      currentWeek.push(day);
      if (currentWeek.length === 7 || i === heatmapData.length - 1) {
        weeks.push(currentWeek);
        currentWeek = [];
      }
    });
    weeks.forEach((week) => {
      const weekRow = container.createDiv({ cls: "heatmap-week" });
      week.forEach((day) => {
        const cell = weekRow.createDiv({ cls: "heatmap-cell" });
        const level = Math.ceil(day.intensity * 4);
        cell.addClass(`level-${level}`);
        cell.title = `${day.date}: ${day.count} reviews`;
      });
    });
  }
  async jumpToCard(card) {
    const file = this.app.vault.getAbstractFileByPath(card.sourceFile);
    if (!(file instanceof import_obsidian12.TFile))
      return;
    const contentUnit = this.plugin.dataManager.getContentUnit(card.sourceContentId);
    if (!contentUnit)
      return;
    const leaf = this.app.workspace.getLeaf(false);
    await leaf.openFile(file);
    setTimeout(() => {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian12.ItemView);
      if (view) {
        const editor = view.editor;
        if (editor) {
          editor.setCursor({ line: contentUnit.source.position.line, ch: 0 });
          editor.scrollIntoView({
            from: { line: contentUnit.source.position.line, ch: 0 },
            to: { line: contentUnit.source.position.line, ch: 0 }
          }, true);
        }
      }
    }, 100);
  }
  async deleteFlashcard(cardId) {
    try {
      await this.plugin.flashcardManager.deleteCard(cardId);
      new import_obsidian12.Notice(t("notice.flashcardDeleted", this.language));
      this.render();
    } catch (error) {
      console.error("Error deleting flashcard:", error);
      new import_obsidian12.Notice(t("notice.deleteFlashcardFailed", this.language));
    }
  }
  showClearStatsModal() {
    var _a, _b, _c, _d, _e;
    const modal = document.createElement("div");
    modal.className = "modal-container";
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">Clear Statistics</div>
        <div class="modal-content">
          <p>Choose what statistics to clear:</p>
          <div class="clear-options">
            <button class="clear-option-btn" data-action="all">
              \u{1F5D1}\uFE0F Clear All Statistics
              <span class="option-desc">Reset all cards and review logs</span>
            </button>
            <button class="clear-option-btn" data-action="old">
              \u{1F4C5} Clear Old Data (30+ days)
              <span class="option-desc">Keep recent 30 days only</span>
            </button>
            <button class="clear-option-btn" data-action="deck">
              \u{1F4DA} Clear Specific Deck
              <span class="option-desc">Choose a deck to reset</span>
            </button>
          </div>
        </div>
        <div class="modal-button-container">
          <button class="mod-cta cancel-btn">Cancel</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => {
      modal.remove();
    });
    (_b = modal.querySelector('[data-action="all"]')) == null ? void 0 : _b.addEventListener("click", async () => {
      if (confirm("\u26A0\uFE0F This will reset ALL statistics and card progress. Are you sure?")) {
        await this.analytics.clearAllStats();
        new import_obsidian12.Notice("\u2705 All statistics cleared");
        modal.remove();
        this.render();
      }
    });
    (_c = modal.querySelector('[data-action="old"]')) == null ? void 0 : _c.addEventListener("click", async () => {
      if (confirm("Clear statistics older than 30 days?")) {
        await this.analytics.clearStatsBeforeDate(30);
        new import_obsidian12.Notice("\u2705 Old statistics cleared");
        modal.remove();
        this.render();
      }
    });
    (_d = modal.querySelector('[data-action="deck"]')) == null ? void 0 : _d.addEventListener("click", () => {
      modal.remove();
      this.showDeckSelectionModal();
    });
    (_e = modal.querySelector(".modal-bg")) == null ? void 0 : _e.addEventListener("click", () => {
      modal.remove();
    });
  }
  showDeckSelectionModal() {
    var _a, _b;
    const deckStats = this.analytics.getDeckStats();
    if (deckStats.length === 0) {
      new import_obsidian12.Notice("No decks available");
      return;
    }
    const modal = document.createElement("div");
    modal.className = "modal-container";
    let optionsHtml = "";
    deckStats.forEach((deck) => {
      optionsHtml += `
        <button class="clear-option-btn deck-option" data-deck="${deck.deckName}">
          \u{1F4DA} ${deck.deckName}
          <span class="option-desc">${deck.totalCards} cards</span>
        </button>
      `;
    });
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">Select Deck to Clear</div>
        <div class="modal-content">
          <div class="clear-options">
            ${optionsHtml}
          </div>
        </div>
        <div class="modal-button-container">
          <button class="mod-cta cancel-btn">Cancel</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => {
      modal.remove();
    });
    modal.querySelectorAll(".deck-option").forEach((btn) => {
      btn.addEventListener("click", async () => {
        const deckName = btn.dataset.deck;
        if (deckName && confirm(`Clear statistics for deck "${deckName}"?`)) {
          await this.analytics.clearDeckStats(deckName);
          new import_obsidian12.Notice(`\u2705 Statistics cleared for ${deckName}`);
          modal.remove();
          this.render();
        }
      });
    });
    (_b = modal.querySelector(".modal-bg")) == null ? void 0 : _b.addEventListener("click", () => {
      modal.remove();
    });
  }
  async generateAndShowReport() {
    const report = this.analytics.generateReport(30);
    const fileName = `Learning Report ${new Date().toISOString().split("T")[0]}.md`;
    try {
      let file = this.app.vault.getAbstractFileByPath(fileName);
      if (file instanceof import_obsidian12.TFile) {
        if (!confirm(`Report "${fileName}" already exists. Overwrite?`)) {
          return;
        }
        await this.app.vault.modify(file, report);
      } else {
        file = await this.app.vault.create(fileName, report);
      }
      const leaf = this.app.workspace.getLeaf(false);
      await leaf.openFile(file);
      new import_obsidian12.Notice("\u{1F4CA} Report generated!");
    } catch (error) {
      console.error("Error generating report:", error);
      new import_obsidian12.Notice("\u274C Failed to generate report");
    }
  }
  renderCycleBanner(container) {
    const cycleInfo = this.analytics.getCurrentCycleInfo();
    const banner = container.createDiv({ cls: "cycle-info-banner" });
    const badge = banner.createDiv({ cls: "cycle-badge" });
    badge.textContent = `Cycle ${cycleInfo.currentCycle}`;
    const stats = banner.createDiv({ cls: "cycle-stats" });
    const daysSince = Math.floor(
      (Date.now() - new Date(cycleInfo.startDate).getTime()) / (1e3 * 60 * 60 * 24)
    );
    stats.textContent = `Day ${daysSince} \xB7 ${cycleInfo.reviewsThisCycle} reviews`;
    const btn = banner.createEl("button", {
      text: "Start New Cycle",
      cls: "start-new-cycle-btn"
    });
    btn.addEventListener("click", () => this.confirmStartNewCycle());
  }
  confirmStartNewCycle() {
    var _a, _b, _c;
    const modal = document.createElement("div");
    modal.className = "modal-container";
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal">
        <div class="modal-title">\u{1F504} Start New Learning Cycle</div>
        <div class="modal-content">
          <p>This will:</p>
          <ul>
            <li>\u2705 Archive current cycle data (read-only)</li>
            <li>\u2705 Reset current stats to zero</li>
            <li>\u2705 Keep all flashcard progress</li>
            <li>\u26A0\uFE0F Cannot be undone</li>
          </ul>
          <p>Start fresh with Cycle ${this.analytics.getCurrentCycleNumber() + 1}?</p>
        </div>
        <div class="modal-button-container">
          <button class="mod-warning cancel-btn">Cancel</button>
          <button class="mod-cta confirm-btn">Start New Cycle</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    (_a = modal.querySelector(".cancel-btn")) == null ? void 0 : _a.addEventListener("click", () => modal.remove());
    (_b = modal.querySelector(".confirm-btn")) == null ? void 0 : _b.addEventListener("click", async () => {
      await this.analytics.startNewCycle();
      new import_obsidian12.Notice("\u2728 New learning cycle started!");
      modal.remove();
      this.render();
    });
    (_c = modal.querySelector(".modal-bg")) == null ? void 0 : _c.addEventListener("click", () => modal.remove());
  }
  renderCycleHistory(container) {
    container.createEl("h3", { text: "\u{1F4DC} Learning Cycle History" });
    const cycles = this.analytics.getArchivedCycles();
    if (cycles.length === 0) {
      container.createDiv({
        text: "\u{1F4DD} No archived cycles yet. Complete your first cycle to see history!",
        cls: "empty-message"
      });
      return;
    }
    const cyclesList = container.createDiv({ cls: "cycles-list" });
    cycles.forEach((cycle) => {
      const cycleCard = cyclesList.createDiv({ cls: "cycle-card" });
      const header = cycleCard.createDiv({ cls: "cycle-card-header" });
      header.createEl("h4", { text: `Cycle ${cycle.cycleNumber}` });
      const duration = this.formatDateRange(cycle.startDate, cycle.endDate);
      const badge = header.createSpan({ cls: "cycle-duration" });
      badge.textContent = duration;
      const stats = cycleCard.createDiv({ cls: "cycle-card-stats" });
      this.createStatRow(stats, "Reviews", cycle.totalReviews.toString(), "\u{1F4DD}");
      this.createStatRow(stats, "Cards", cycle.totalCards.toString(), "\u{1F0CF}");
      this.createStatRow(
        stats,
        "Correct Rate",
        `${(cycle.correctRate * 100).toFixed(1)}%`,
        "\u2705"
      );
      const actions = cycleCard.createDiv({ cls: "cycle-card-actions" });
      const detailBtn = actions.createEl("button", {
        text: "\u{1F4CA} View Details",
        cls: "mod-cta"
      });
      detailBtn.addEventListener("click", () => this.showCycleDetails(cycle.cycleNumber));
    });
  }
  formatDateRange(start, end) {
    const startDate = new Date(start);
    const endDate = new Date(end);
    const days = Math.floor((endDate.getTime() - startDate.getTime()) / (1e3 * 60 * 60 * 24));
    const formatOpts = { month: "short", day: "numeric" };
    return `${startDate.toLocaleDateString("en-US", formatOpts)} - ${endDate.toLocaleDateString("en-US", formatOpts)} (${days}d)`;
  }
  showCycleDetails(cycleNumber) {
    var _a, _b;
    const details = this.analytics.getCycleDetails(cycleNumber);
    if (!details) {
      new import_obsidian12.Notice("Cycle data not found");
      return;
    }
    const { cycle, dailyStats, deckStats } = details;
    const modal = document.createElement("div");
    modal.className = "modal-container cycle-details-modal";
    const avgCorrectRate = dailyStats.length > 0 ? dailyStats.reduce((sum, d) => sum + d.correctRate, 0) / dailyStats.length : 0;
    modal.innerHTML = `
      <div class="modal-bg"></div>
      <div class="modal modal-large">
        <div class="modal-title">\u{1F4CA} Cycle ${cycleNumber} Details</div>
        <div class="modal-content">
          
          <div class="cycle-detail-section">
            <h4>\u{1F4C5} Duration</h4>
            <p>${this.formatDateRange(cycle.startDate, cycle.endDate)}</p>
          </div>
  
          <div class="cycle-detail-section">
            <h4>\u{1F4C8} Key Metrics</h4>
            <div class="metrics-grid-small">
              <div class="metric-small">
                <span class="metric-label">Total Reviews</span>
                <span class="metric-value">${cycle.totalReviews}</span>
              </div>
              <div class="metric-small">
                <span class="metric-label">Avg Correct Rate</span>
                <span class="metric-value">${(avgCorrectRate * 100).toFixed(1)}%</span>
              </div>
              <div class="metric-small">
                <span class="metric-label">Total Cards</span>
                <span class="metric-value">${cycle.totalCards}</span>
              </div>
            </div>
          </div>
          
          <div class="cycle-detail-section">
            <h4>\u{1F4CA} Daily Activity</h4>
            <div id="cycle-daily-chart"></div>
          </div>
          
          <div class="cycle-detail-section">
            <h4>\u{1F4DA} Deck Breakdown</h4>
            <div id="cycle-deck-stats"></div>
          </div>
  
        </div>
        <div class="modal-button-container">
          <button class="mod-cta close-btn">Close</button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    const dailyChart = modal.querySelector("#cycle-daily-chart");
    if (dailyChart) {
      this.renderSimpleBarChart(dailyChart, dailyStats.slice(-14));
    }
    const deckStatsEl = modal.querySelector("#cycle-deck-stats");
    if (deckStatsEl) {
      if (deckStats.length === 0) {
        deckStatsEl.textContent = "No deck data available";
      } else {
        deckStats.forEach((deck) => {
          const row = deckStatsEl.createDiv({ cls: "deck-stat-row" });
          row.createSpan({ text: deck.deckName, cls: "deck-name" });
          const info = row.createDiv({ cls: "deck-info" });
          info.createSpan({ text: `${deck.totalCards} cards`, cls: "deck-detail" });
          info.createSpan({
            text: `${(deck.correctRate * 100).toFixed(1)}% correct`,
            cls: "deck-detail"
          });
        });
      }
    }
    (_a = modal.querySelector(".close-btn")) == null ? void 0 : _a.addEventListener("click", () => modal.remove());
    (_b = modal.querySelector(".modal-bg")) == null ? void 0 : _b.addEventListener("click", () => modal.remove());
  }
  addStyles() {
    const styleEl = document.createElement("style");
    styleEl.textContent = `
      .stats-container {
        padding: 20px;
        overflow-y: auto;
      }

      .stats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .stats-header h2 {
        margin: 0;
      }

      .stats-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 20px;
        border-bottom: 2px solid var(--background-modifier-border);
      }

      .tab {
        padding: 10px 20px;
        cursor: pointer;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
        user-select: none;
      }

      .tab:hover {
        background: var(--background-modifier-hover);
      }

      .tab.active {
        border-bottom-color: var(--interactive-accent);
        color: var(--interactive-accent);
        font-weight: 600;
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
      }

      .metric-card {
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
        display: flex;
        gap: 15px;
        align-items: center;
      }

      .metric-icon {
        font-size: 32px;
      }

      .metric-content {
        flex: 1;
      }

      .metric-title {
        font-size: 0.9em;
        color: var(--text-muted);
        margin-bottom: 5px;
      }

      .metric-value {
        font-size: 1.8em;
        font-weight: 600;
      }

      .week-comparison {
        margin-bottom: 30px;
      }

      .comparison-grid {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 15px;
      }

      .comparison-item {
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 6px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .comparison-label {
        font-weight: 500;
      }

      .comparison-values {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .this-week {
        font-weight: 600;
        font-size: 1.1em;
      }

      .last-week {
        color: var(--text-muted);
      }

      .change {
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.9em;
        font-weight: 500;
      }

      .change.positive {
        background: var(--background-modifier-success);
        color: var(--text-on-accent);
      }

      .change.negative {
        background: var(--background-modifier-error);
        color: white;
      }

      .chart-section {
        margin-bottom: 30px;
      }

      .recent-activity .activity-chart {
        display: flex;
        justify-content: space-around;
        align-items: flex-end;
        height: 150px;
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
      }

      .simple-bar {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        flex: 1;
      }

      .simple-bar .bar-container {
        width: 100%;
        height: 100px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
      }

      .simple-bar .bar-fill {
        width: 60%;
        background: var(--interactive-accent);
        border-radius: 4px 4px 0 0;
        transition: height 0.3s;
      }

      .bar-label, .bar-value {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .heatmap {
        display: flex;
        flex-direction: column;
        gap: 4px;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 8px;
      }

      .heatmap-week {
        display: flex;
        gap: 4px;
      }

      .heatmap-cell {
        width: 12px;
        height: 12px;
        background: var(--background-primary);
        border-radius: 2px;
        cursor: pointer;
      }

      .heatmap-cell.level-1 { background: rgba(94, 156, 235, 0.3); }
      .heatmap-cell.level-2 { background: rgba(94, 156, 235, 0.5); }
      .heatmap-cell.level-3 { background: rgba(94, 156, 235, 0.7); }
      .heatmap-cell.level-4 { background: rgba(94, 156, 235, 1); }

      .decks-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 15px;
      }

      .deck-card {
        padding: 20px;
        background: var(--background-secondary);
        border-radius: 8px;
        border: 1px solid var(--background-modifier-border);
      }

      .deck-card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--background-modifier-border);
      }

      .deck-card-header h4 {
        margin: 0;
      }

      .deck-badge {
        padding: 4px 10px;
        background: var(--interactive-accent);
        color: white;
        border-radius: 12px;
        font-size: 0.85em;
      }

      .deck-card-stats {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 15px;
      }

      .stat-row {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .stat-icon {
        width: 20px;
      }

      .stat-label {
        flex: 1;
        color: var(--text-muted);
      }

      .stat-value {
        font-weight: 500;
      }

      .deck-progress {
        margin-top: 15px;
      }

      .progress-bar-container {
        height: 8px;
        background: var(--background-primary);
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 5px;
      }


      .progress-label {
        font-size: 0.85em;
        color: var(--text-muted);
      }

      .difficult-cards-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .difficult-card-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        background: var(--background-secondary);
        border-radius: 8px;
        border: 1px solid var(--background-modifier-border);
      }

      .card-rank {
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--interactive-accent);
        color: white;
        border-radius: 50%;
        font-weight: 600;
        flex-shrink: 0;
      }

      .card-content {
        flex: 1;
      }

      .card-question {
        font-weight: 500;
        margin-bottom: 8px;
      }

      .card-meta {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom:8px;
      } 

.pattern-badge, .error-count, .avg-time {
    padding: 3px 10px;
    background: var(--background-primary);
    border-radius: 12px;
    font-size: 0.85em;
  }

  .difficulty-bar-container {
    height: 6px;
    background: var(--background-primary);
    border-radius: 3px;
    overflow: hidden;
  }

  .difficulty-bar {
    height: 100%;
    background: linear-gradient(to right, var(--color-green), var(--color-yellow), var(--color-red));
    transition: width 0.3s;
  }

  .card-actions {
    display: flex;
    gap: 8px;
  }

  .action-btn-small {
    padding: 6px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn-small:hover {
    background: var(--interactive-accent);
    color: white;
    border-color: var(--interactive-accent);
  }

  .action-btn-small.delete-btn:hover {
    background: var(--color-red);
    border-color: var(--color-red);
    color: white;
  }

  .empty-message {
    text-align: center;
    padding: 40px;
    color: var(--text-muted);
    font-size: 1.1em;
  }

  .report-section {
    text-align: center;
    margin-top: 30px;
    padding: 20px;
  }

  .chart-canvas {
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    height: 200px;
    padding: 20px;
    background: var(--background-secondary);
    border-radius: 8px;
    margin-bottom: 10px;
  }

  .bar-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    height: 100%;
  }

  .bar-group .bar {
    width: 80%;
    background: var(--interactive-accent);
    border-radius: 4px 4px 0 0;
    transition: height 0.3s;
    margin-top: auto;
  }

  .line-chart-canvas {
    background: var(--background-secondary);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 10px;
  }

  .chart-labels {
    display: flex;
    justify-content: space-around;
    padding: 10px 20px;
    background: var(--background-secondary);
    border-radius: 8px;
  }

  .chart-label {
    font-size: 0.85em;
    color: var(--text-muted);
  }
    .modal-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-bg {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
}

.modal {
  position: relative;
  background: var(--background-primary);
  border-radius: 8px;
  padding: 20px;
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.modal-title {
  font-size: 1.5em;
  font-weight: 600;
  margin-bottom: 15px;
}

.modal-content {
  margin-bottom: 20px;
}

.clear-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 15px;
}

.clear-option-btn {
  padding: 15px;
  background: var(--background-secondary);
  border: 2px solid var(--background-modifier-border);
  border-radius: 6px;
  cursor: pointer;
  text-align: left;
  transition: all 0.2s;
  display: flex;
  gap: 5px;
}

.clear-option-btn:hover {
  border-color: var(--interactive-accent);
  background: var(--background-modifier-hover);
}

.option-desc {
  font-size: 0.85em;
  color: var(--text-muted);
}

.modal-button-container {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}


/* \u91CD\u7F6E\u590D\u4E60\u5468\u671F */           
.cycle-info-banner {
  display: flex;
  flex-direction: row;  /* \u{1F448} \u660E\u786E\u6307\u5B9A\u6A2A\u5411\u6392\u5217 */
  align-items: center;
  justify-content: space-between; /* \u{1F448} \u4E24\u7AEF\u5BF9\u9F50 */
  gap: 15px;
  padding: 15px 20px;
  border-radius: 8px;
  margin-bottom: 20px;
  color: white;
  flex-wrap: nowrap; /* \u{1F448} \u7981\u6B62\u6362\u884C */
}

.cycle-badge {
  font-size: 1.2em;
  font-weight: 600;
  padding: 5px 15px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 20px;
}

.cycle-stats {
  flex: 1;
  font-size: 0.95em;
  opacity: 0.9;
}

.start-new-cycle-btn {
  padding: 8px 16px;
  background: white;
  color: var(--interactive-accent);
  border: none;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.start-new-cycle-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}
  /* \u5468\u671F\u5386\u53F2\u5361\u7247 */
.cycles-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.cycle-card {
  padding: 20px;
  background: var(--background-secondary);
  border-radius: 8px;
  border: 1px solid var(--background-modifier-border);
}

.cycle-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.cycle-card-header h4 {
  margin: 0;
  font-size: 1.2em;
}

.cycle-duration {
  font-size: 0.85em;
  color: var(--text-muted);
  padding: 4px 10px;
  background: var(--background-primary);
  border-radius: 12px;
}

.cycle-card-actions {
  margin-top: 15px;
  text-align: right;
}

/* \u5468\u671F\u8BE6\u60C5\u5F39\u7A97 */
.cycle-details-modal .modal-large {
  max-width: 800px;
}

.cycle-detail-section {
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--background-modifier-border);
}

.cycle-detail-section:last-child {
  border-bottom: none;
}

.cycle-detail-section h4 {
  margin: 0 0 15px 0;
  font-size: 1.1em;
}

.metrics-grid-small {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.metric-small {
  display: flex;
  flex-direction: column;
  gap: 5px;
  padding: 15px;
  background: var(--background-primary);
  border-radius: 6px;
}

.metric-small .metric-label {
  font-size: 0.85em;
  color: var(--text-muted);
}

.metric-small .metric-value {
  font-size: 1.5em;
  font-weight: 600;
}

.deck-stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--background-modifier-border);
}

.deck-stat-row:last-child {
  border-bottom: none;
}

.deck-name {
  font-weight: 500;
}

.deck-info {
  display: flex;
  gap: 15px;
}

.deck-detail {
  font-size: 0.9em;
  color: var(--text-muted);
}
`;
    document.head.appendChild(styleEl);
  }
};

// src/core/DataManager.ts
var DataManager = class {
  // 5分钟
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.contentUnits = /* @__PURE__ */ new Map();
    this.fileIndex = /* @__PURE__ */ new Map();
    this.CACHE_TTL = 5 * 60 * 1e3;
    // 最近删除
    this.deletedUnits = [];
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.ensureDataFolder();
    await this.loadData();
    await this.loadDeleteHistory();
  }
  async ensureDataFolder() {
    const adapter = this.app.vault.adapter;
    if (!await adapter.exists(this.dataFolder)) {
      await adapter.mkdir(this.dataFolder);
    }
    const subfolders = ["indexes", "config", "cache"];
    for (const folder of subfolders) {
      const path = `${this.dataFolder}/${folder}`;
      if (!await adapter.exists(path)) {
        await adapter.mkdir(path);
      }
    }
  }
  async loadData() {
    try {
      const contentPath = `${this.dataFolder}/content-units.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(contentPath)) {
        const data = await adapter.read(contentPath);
        const units = JSON.parse(data);
        for (const unit of units) {
          this.contentUnits.set(unit.id, unit);
          if (!this.fileIndex.has(unit.source.file)) {
            this.fileIndex.set(unit.source.file, []);
          }
          this.fileIndex.get(unit.source.file).push(unit.id);
        }
      }
    } catch (error) {
      console.error("Error loading data:", error);
    }
  }
  async saveContentUnit(unit) {
    this.contentUnits.set(unit.id, unit);
    if (!this.fileIndex.has(unit.source.file)) {
      this.fileIndex.set(unit.source.file, []);
    }
    if (!this.fileIndex.get(unit.source.file).includes(unit.id)) {
      this.fileIndex.get(unit.source.file).push(unit.id);
    }
    await this.persist();
  }
  async saveContentUnits(units) {
    for (const unit of units) {
      this.contentUnits.set(unit.id, unit);
      if (!this.fileIndex.has(unit.source.file)) {
        this.fileIndex.set(unit.source.file, []);
      }
      if (!this.fileIndex.get(unit.source.file).includes(unit.id)) {
        this.fileIndex.get(unit.source.file).push(unit.id);
      }
    }
    await this.persist();
  }
  getContentUnit(id) {
    return this.contentUnits.get(id);
  }
  getContentUnitsByFile(filePath) {
    const ids = this.fileIndex.get(filePath) || [];
    return ids.map((id) => this.contentUnits.get(id)).filter(Boolean);
  }
  getContentUnitsByType(type) {
    return Array.from(this.contentUnits.values()).filter((unit) => unit.type === type);
  }
  getAllContentUnits(page, size) {
    const all = Array.from(this.contentUnits.values());
    if (!page || !size)
      return all;
    return all.slice(page * size, (page + 1) * size);
  }
  async deleteContentUnit(id, reason = "user-deleted") {
    const unit = this.contentUnits.get(id);
    if (unit) {
      const allCards = this.plugin.flashcardManager.getAllFlashcards();
      const associatedCardIds = allCards.filter((card) => {
        const match = card.sourceContentId === id;
        if (match) {
        }
        return match;
      }).map((card) => card.id);
      this.deletedUnits.push({
        type: "note",
        id: unit.id,
        unit: { ...unit },
        deletedAt: Date.now(),
        deletedBy: reason,
        associatedCardIds
      });
      const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
      this.deletedUnits = this.deletedUnits.filter((d) => d.deletedAt > sevenDaysAgo);
      this.contentUnits.delete(id);
      const fileUnits = this.fileIndex.get(unit.source.file);
      if (fileUnits) {
        const index = fileUnits.indexOf(id);
        if (index > -1) {
          fileUnits.splice(index, 1);
        }
      }
      await this.persist();
      await this.persistDeleteHistory();
    }
  }
  // 新增：获取最近删除的笔记
  getRecentlyDeletedUnits(days = 7) {
    const cutoff = Date.now() - days * 24 * 60 * 60 * 1e3;
    return this.deletedUnits.filter((d) => d.deletedAt > cutoff).sort((a, b) => b.deletedAt - a.deletedAt);
  }
  // 新增：恢复笔记
  async restoreContentUnit(deletedItem) {
    try {
      if (this.contentUnits.has(deletedItem.unit.id)) {
        return false;
      }
      this.contentUnits.set(deletedItem.unit.id, deletedItem.unit);
      if (!this.fileIndex.has(deletedItem.unit.source.file)) {
        this.fileIndex.set(deletedItem.unit.source.file, []);
      }
      this.fileIndex.get(deletedItem.unit.source.file).push(deletedItem.unit.id);
      await this.persist();
      this.deletedUnits = this.deletedUnits.filter((item) => item.id !== deletedItem.id);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error restoring content unit:", error);
      return false;
    }
  }
  // 新增：永久删除笔记（从历史中移除）
  async permanentlyDeleteContentUnit(deletedItemId) {
    try {
      this.deletedUnits = this.deletedUnits.filter((item) => item.id !== deletedItemId);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error permanently deleting content unit:", error);
      return false;
    }
  }
  // 新增：一键清空笔记删除历史
  async clearDeleteHistory() {
    const count = this.deletedUnits.length;
    this.deletedUnits = [];
    await this.persistDeleteHistory();
    return count;
  }
  async persistDeleteHistory() {
    try {
      const path = `${this.dataFolder}/deleted-units.json`;
      const data = JSON.stringify(this.deletedUnits, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting delete history:", error);
    }
  }
  async loadDeleteHistory() {
    try {
      const path = `${this.dataFolder}/deleted-units.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        this.deletedUnits = JSON.parse(data);
        const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
        this.deletedUnits = this.deletedUnits.filter((d) => d.deletedAt > sevenDaysAgo);
        await this.persistDeleteHistory();
      }
    } catch (error) {
      console.error("Error loading delete history:", error);
    }
  }
  /** 对外统一保存入口 */
  async save() {
    await this.persist();
  }
  async persist() {
    try {
      const contentPath = `${this.dataFolder}/content-units.json`;
      const units = Array.from(this.contentUnits.values());
      const data = JSON.stringify(units, null, 2);
      await this.app.vault.adapter.write(contentPath, data);
      const indexPath = `${this.dataFolder}/indexes/file-index.json`;
      const indexData = JSON.stringify(
        Object.fromEntries(this.fileIndex),
        null,
        2
      );
      await this.app.vault.adapter.write(indexPath, indexData);
    } catch (error) {
      console.error("Error persisting data:", error);
    }
  }
  // 🔧 优化 : 批量操作使用事务
  async transaction(operations) {
    try {
      await operations();
      await this.persist();
    } catch (error) {
      await this.loadData();
      throw error;
    }
  }
};

// src/core/ExtractionEngine.ts
var import_obsidian13 = require("obsidian");
var ExtractionEngine = class {
  constructor(app, dataManager, flashcardManager, plugin) {
    this.app = app;
    this.dataManager = dataManager;
    this.flashcardManager = flashcardManager;
    this.plugin = plugin;
  }
  /**
   * 注册右键菜单
   */
  registerContextMenu(menu, editor, file) {
    const selection = editor.getSelection();
    if (!selection)
      return;
    menu.addItem((item) => {
      item.setTitle("\u{1F4DD} Extract as text only").setIcon("file-text").onClick(async () => {
        await this.extractSelectedText(editor, file, "text");
      });
    });
    menu.addItem((item) => {
      item.setTitle("\u2753 Extract as QA card").setIcon("help-circle").onClick(async () => {
        await this.extractSelectedText(editor, file, "QA");
      });
    });
    menu.addItem((item) => {
      item.setTitle("\u270F\uFE0F Extract as Cloze card").setIcon("highlighter").onClick(async () => {
        await this.extractSelectedText(editor, file, "cloze");
      });
    });
  }
  /**
   * 提取选中的文本
   */
  async extractSelectedText(editor, file, extractType) {
    var _a, _b;
    const selection = editor.getSelection();
    if (!selection) {
      new import_obsidian13.Notice("No text selected");
      return;
    }
    const cursor = editor.getCursor("from");
    const content = await this.app.vault.read(file);
    const offset = this.getOffsetFromCursor(content, cursor.line, cursor.ch);
    try {
      let unit;
      switch (extractType) {
        case "text":
          unit = this.createTextUnit(file, selection, offset, content);
          break;
        case "QA":
          unit = this.createQAUnit(file, selection, offset, content);
          break;
        case "cloze":
          unit = this.createClozeUnit(file, selection, offset, content);
          break;
      }
      const existingUnit = await this.findDuplicateUnit(unit);
      if (existingUnit) {
        new import_obsidian13.Notice(`\u26A0\uFE0F This content was already extracted`);
        return;
      }
      await this.dataManager.saveContentUnits([unit]);
      if (extractType === "QA" || extractType === "cloze") {
        try {
          const cardType = extractType === "QA" ? "qa" : "cloze";
          const flashcard = await this.flashcardManager.createFlashcardFromUnit(unit, {
            cardType
          });
          if ((_a = this.plugin) == null ? void 0 : _a.unlockSystem) {
            if (extractType === "QA") {
              await this.plugin.unlockSystem.onNoteExtractedAsQA();
            } else {
              await this.plugin.unlockSystem.onNoteExtractedAsCloze();
            }
          }
          await this.dataManager.saveContentUnits([unit]);
        } catch (error) {
          console.error("[extractSelectedText] Failed to create flashcard:", error);
        }
      } else if (extractType === "text") {
        if ((_b = this.plugin) == null ? void 0 : _b.unlockSystem) {
          await this.plugin.unlockSystem.onNoteExtractedAsText();
        }
      }
      const typeNames = {
        text: "text",
        QA: "QA card",
        cloze: "cloze card"
      };
      new import_obsidian13.Notice(`\u2705 Extracted as ${typeNames[extractType]}`);
      this.refreshAllViews();
    } catch (error) {
      console.error("Error extracting selection:", error);
      new import_obsidian13.Notice(`\u274C Error: ${error.message}`);
    }
  }
  /**
   * 🆕 查找重复的 ContentUnit
   * 根据文件路径和位置判断是否已存在
   */
  async findDuplicateUnit(unit) {
    const allUnits = await this.dataManager.getAllContentUnits();
    const duplicate = allUnits.find(
      (existing) => existing.source.file === unit.source.file && existing.source.position.start === unit.source.position.start && existing.source.position.end === unit.source.position.end && existing.type === unit.type
    );
    return duplicate || null;
  }
  /**
   * 🆕 检查内容是否重复（基于内容相似度）
   */
  isContentDuplicate(content1, content2) {
    const normalized1 = content1.trim().toLowerCase();
    const normalized2 = content2.trim().toLowerCase();
    return normalized1 === normalized2;
  }
  /**
   * 创建纯文本单元
   */
  createTextUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    return {
      id: this.generateId(),
      type: "text",
      content: selection.trim(),
      fullContext: selection.trim(),
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "text-manual",
        ruleName: "Manual Text Extract",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 创建 QA 卡片单元
   */
  createQAUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    let question, answer;
    if (selection.includes("::")) {
      const parts = selection.split("::");
      question = parts[0].trim();
      answer = parts.slice(1).join("::").trim();
    } else {
      question = selection.trim();
      answer = "[Answer needed]";
    }
    return {
      id: this.generateId(),
      type: "QA",
      content: question,
      answer,
      fullContext: selection.trim(),
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "QA-manual",
        ruleName: "Manual QA Card",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 创建完形填空卡片单元
   */
  createClozeUnit(file, selection, offset, fileContent) {
    const position = this.calculatePosition(fileContent, offset);
    const fullSentence = this.extractFullSentence(fileContent, offset, selection.length);
    return {
      id: this.generateId(),
      type: "cloze",
      content: selection.trim(),
      fullContext: fullSentence,
      source: {
        file: file.path,
        position: {
          start: offset,
          end: offset + selection.length,
          line: position.line
        },
        heading: this.findHeading(fileContent, offset),
        anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
      },
      extractRule: {
        ruleId: "cloze-manual",
        ruleName: "Manual Cloze Card",
        extractedBy: "manual"
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now(),
        tags: this.extractTags(fileContent, offset)
      },
      flashcardIds: []
    };
  }
  /**
   * 从光标位置计算文件偏移量
   */
  getOffsetFromCursor(content, line, ch) {
    const lines = content.split("\n");
    let offset = 0;
    for (let i = 0; i < line; i++) {
      offset += lines[i].length + 1;
    }
    offset += ch;
    return offset;
  }
  /**
   * 扫描单个文件
   */
  async scanFile(file) {
    try {
      const content = await this.app.vault.read(file);
      const units = await this.extractContent(file, content);
      if (units.length > 0) {
        await this.dataManager.saveContentUnits(units);
        const qaCount = units.filter((u) => u.type === "QA").length;
        const clozeCount = units.filter((u) => u.type === "cloze").length;
        new import_obsidian13.Notice(`Extracted ${qaCount} QA cards and ${clozeCount} cloze cards from ${file.name}`);
        setTimeout(() => {
          this.refreshAllViews();
        }, 100);
      }
      return units.length;
    } catch (error) {
      console.error("[scanFile] Error:", error);
      new import_obsidian13.Notice(`Error scanning file: ${error.message}`);
      return 0;
    }
  }
  /**
   * 刷新所有相关视图
   */
  refreshAllViews() {
    this.app.workspace.iterateAllLeaves((leaf) => {
      const viewType = leaf.view.getViewType();
      if (viewType === "learning-system-sidebar-overview" || viewType === "learning-system-main-overview") {
        const view = leaf.view;
        if (view && typeof view.refresh === "function") {
          view.refresh();
        }
      }
    });
  }
  /**
   * 扫描整个 Vault
   */
  async scanVault() {
    const files = this.app.vault.getMarkdownFiles();
    let scanned = 0;
    let extracted = 0;
    new import_obsidian13.Notice(`Scanning ${files.length} files...`);
    for (const file of files) {
      const count = await this.scanFile(file);
      scanned++;
      extracted += count;
    }
    new import_obsidian13.Notice(`Scan complete! Extracted ${extracted} items from ${scanned} files.`);
    return { scanned, extracted };
  }
  /**
   * 🔧 修改: 先保存 units，再创建闪卡，同时过滤重复项
   */
  async extractContent(file, content) {
    var _a;
    const units = [];
    const qaUnits = this.extractQACards(file, content);
    const clozeUnits = await this.extractClozeCards(file, content);
    const allExtractedUnits = [...qaUnits, ...clozeUnits];
    const existingUnits = await this.dataManager.getAllContentUnits();
    const newUnits = await this.filterDuplicateUnits(allExtractedUnits, existingUnits);
    if (newUnits.length === 0) {
      new import_obsidian13.Notice(` ${file.name}: No new content to extract`);
      return [];
    }
    if (newUnits.length < allExtractedUnits.length) {
      const skipped = allExtractedUnits.length - newUnits.length;
      new import_obsidian13.Notice(` ${file.name}:Skipped ${skipped} duplicate items`);
    }
    units.push(...newUnits);
    if (units.length > 0) {
      await this.dataManager.saveContentUnits(units);
    }
    for (const unit of units) {
      try {
        const cardType = unit.type === "QA" ? "qa" : "cloze";
        const flashcard = await this.flashcardManager.createFlashcardFromUnit(unit, {
          cardType
        });
      } catch (error) {
        console.error("[extractContent]  Failed to create flashcard:", error);
      }
    }
    if (((_a = this.plugin) == null ? void 0 : _a.unlockSystem) && units.length > 0) {
      for (let i = 0; i < units.length; i++) {
        await this.plugin.unlockSystem.onNoteScanned();
      }
    }
    return units;
  }
  /**
   * 🆕 过滤重复的 units
   * 根据文件路径、位置和内容判断是否重复
   */
  async filterDuplicateUnits(newUnits, existingUnits) {
    const filtered = [];
    for (const newUnit of newUnits) {
      const isDuplicate = existingUnits.some((existing) => {
        const sameLocation = existing.source.file === newUnit.source.file && existing.source.position.start === newUnit.source.position.start && existing.source.position.end === newUnit.source.position.end && existing.type === newUnit.type;
        const sameContent = existing.source.file === newUnit.source.file && existing.type === newUnit.type && this.isContentDuplicate(existing.content, newUnit.content) && this.isContentDuplicate(existing.fullContext || "", newUnit.fullContext || "");
        const sameQA = existing.type === "QA" && newUnit.type === "QA" && existing.source.file === newUnit.source.file && this.isContentDuplicate(existing.content, newUnit.content) && this.isContentDuplicate(existing.answer || "", newUnit.answer || "");
        return sameLocation || sameContent || sameQA;
      });
      if (!isDuplicate) {
        filtered.push(newUnit);
      }
    }
    return filtered;
  }
  /**
   * ✅ 检查是否为任务完成标记
   * 排除: [completion:: date], [due:: date] 等任务相关的 :: 格式
   */
  isTaskCompletion(line) {
    const taskPattern = /^[\s]*-\s*\[[x\s]\].*::/i;
    return taskPattern.test(line);
  }
  /**
   * ✅ 检查是否为日期/时间字段
   * 排除: date1:: 2021-02-26T15:15, date2:: 2021-04-17 18:00 等格式
   */
  isDateTimeField(question, answer) {
    const dateFieldPattern = /\b(date\d*|time\d*|created|updated|modified|scheduled|due|completion)\b/i;
    const dateTimePattern = /^\s*\d{4}-\d{2}-\d{2}(T|\s)\d{2}:\d{2}|\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}/;
    const dateOnlyPattern = /^\s*\d{4}-\d{2}-\d{2}\s*$/;
    return dateFieldPattern.test(question) && (dateTimePattern.test(answer) || dateOnlyPattern.test(answer));
  }
  /**
   * ✅ 检查是否为 Excalidraw 高亮
   * 排除: ==switch to excalidraw view...== 这类特定高亮
   */
  isExcalidrawHighlight(matchText, line) {
    const excalidrawKeywords = /excalidraw|drawing|sketch/i;
    return excalidrawKeywords.test(matchText) || excalidrawKeywords.test(line);
  }
  /**
   * ✅ 提取 QA 卡片 (格式: Question :: Answer)
   * 新增: 过滤任务完成标记和日期时间字段
   */
  extractQACards(file, content) {
    const units = [];
    const qaRegex = /^(.+?)\s*::\s*(.+?)$/gm;
    let match;
    while ((match = qaRegex.exec(content)) !== null) {
      const fullMatch = match[0];
      const question = match[1].trim();
      const answer = match[2].trim();
      if (this.isTaskCompletion(fullMatch)) {
        continue;
      }
      if (this.isDateTimeField(question, answer)) {
        continue;
      }
      const position = this.calculatePosition(content, match.index);
      const unit = {
        id: this.generateId(),
        type: "QA",
        content: question,
        answer,
        fullContext: fullMatch,
        source: {
          file: file.path,
          position: {
            start: match.index,
            end: match.index + fullMatch.length,
            line: position.line
          },
          heading: this.findHeading(content, match.index),
          anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
        },
        extractRule: {
          ruleId: "QA",
          ruleName: "QA Card",
          extractedBy: "auto"
        },
        metadata: {
          createdAt: Date.now(),
          updatedAt: Date.now(),
          tags: this.extractTags(content, match.index)
        },
        flashcardIds: []
      };
      units.push(unit);
    }
    return units;
  }
  /**
   * 提取包含高亮的完整句子
   */
  extractFullSentence(content, highlightStart, highlightLength) {
    const sentenceEnds = /[.!?。！?\n]/;
    let start = highlightStart;
    while (start > 0) {
      const char = content[start - 1];
      if (sentenceEnds.test(char)) {
        break;
      }
      start--;
    }
    let end = highlightStart + highlightLength;
    while (end < content.length) {
      const char = content[end];
      if (sentenceEnds.test(char)) {
        end++;
        break;
      }
      end++;
    }
    return content.substring(start, end).trim();
  }
  /**
   * 计算文本位置
   */
  calculatePosition(content, offset) {
    const lines = content.substring(0, offset).split("\n");
    return {
      line: lines.length - 1,
      column: lines[lines.length - 1].length
    };
  }
  /**
   * 查找所在标题
   */
  findHeading(content, position) {
    const beforeContent = content.substring(0, position);
    const headings = beforeContent.match(/^#{1,6} .+$/gm);
    return headings ? headings[headings.length - 1] : void 0;
  }
  /**
   * 提取附近的标签
   */
  extractTags(content, position) {
    const tags = /* @__PURE__ */ new Set();
    const yamlMatch = content.match(/^---\n([\s\S]*?)\n---/);
    if (yamlMatch) {
      const yamlContent = yamlMatch[1];
      const tagsMatch = yamlContent.match(/^tags:\s*(.+)$/m);
      if (tagsMatch) {
        const tagContent = tagsMatch[1].trim();
        if (tagContent.startsWith("[")) {
          const arrayTags = tagContent.match(/[\w/-]+/g);
          arrayTags == null ? void 0 : arrayTags.forEach((tag) => tags.add(`#${tag}`));
        } else {
          tagContent.split(",").forEach((tag) => {
            const cleaned = tag.trim();
            if (cleaned)
              tags.add(`#${cleaned}`);
          });
        }
      }
    }
    const lines = content.substring(0, position).split("\n");
    const currentLine = lines.length - 1;
    const lineContent = content.split("\n")[currentLine] || "";
    const inlineTagRegex = /#[\w/-]+/g;
    const inlineTags = lineContent.match(inlineTagRegex);
    inlineTags == null ? void 0 : inlineTags.forEach((tag) => tags.add(tag));
    return Array.from(tags);
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
  /**
   * 生成 Block ID
   */
  generateBlockId() {
    return `extract-${Date.now()}-${Math.random().toString(36).substr(2, 6)}`;
  }
  // 表格提取方法
  /**
   * 🆕 检测高亮是否在表格中
   */
  isInTable(content, position) {
    var _a, _b, _c;
    const lines = content.split("\n");
    const { line } = this.calculatePosition(content, position);
    if (!((_a = lines[line]) == null ? void 0 : _a.includes("|"))) {
      return false;
    }
    const hasPrevTableLine = line > 0 && ((_b = lines[line - 1]) == null ? void 0 : _b.includes("|"));
    const hasNextTableLine = line < lines.length - 1 && ((_c = lines[line + 1]) == null ? void 0 : _c.includes("|"));
    return hasPrevTableLine || hasNextTableLine;
  }
  /**
   * 🆕 提取表格及其高亮信息
   */
  extractTableWithHighlights(content, highlightPosition) {
    var _a, _b;
    const lines = content.split("\n");
    const { line: currentLine } = this.calculatePosition(content, highlightPosition);
    let tableStart = currentLine;
    let tableEnd = currentLine;
    while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
      tableStart--;
    }
    while (tableEnd < lines.length - 1 && ((_b = lines[tableEnd + 1]) == null ? void 0 : _b.includes("|"))) {
      tableEnd++;
    }
    const tableLines = lines.slice(tableStart, tableEnd + 1);
    const tableContent = tableLines.join("\n");
    const highlightRegex = /==(.+?)==/g;
    const highlightRows = /* @__PURE__ */ new Set();
    const highlightColumns = /* @__PURE__ */ new Set();
    let highlightCount = 0;
    tableLines.forEach((line, rowIndex) => {
      const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
      if (cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell))) {
        return;
      }
      cells.forEach((cell, colIndex) => {
        if (highlightRegex.test(cell)) {
          highlightRows.add(rowIndex);
          highlightColumns.add(colIndex);
          highlightCount++;
        }
      });
    });
    return {
      tableContent,
      highlightCount,
      highlightRows,
      highlightColumns
    };
  }
  /**
   * 🆕 根据高亮位置提取表格的特定部分
   */
  extractTablePortion(tableLines, highlightRows, highlightColumns, highlightCount) {
    const totalRows = tableLines.length;
    const separatorIndex = tableLines.findIndex((line, idx) => {
      if (idx === 0)
        return false;
      const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
      return cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell));
    });
    const actualSeparatorIndex = separatorIndex !== -1 ? separatorIndex : 1;
    const firstDataRow = tableLines[separatorIndex + 1] || tableLines[1];
    const columnCount = firstDataRow.split("|").filter((c) => c.trim()).length;
    if (highlightColumns.size === columnCount || highlightCount >= totalRows - 1) {
      return tableLines.join("\n");
    }
    if (highlightRows.size === 1) {
      const highlightRow = Array.from(highlightRows)[0];
      const result2 = [
        tableLines[0],
        // 表头
        tableLines[separatorIndex],
        // 分隔符
        tableLines[highlightRow]
        // 高亮行
      ];
      return result2.join("\n");
    }
    const result = [tableLines[0], tableLines[separatorIndex]];
    highlightRows.forEach((rowIndex) => {
      if (rowIndex !== 0 && rowIndex !== separatorIndex) {
        result.push(tableLines[rowIndex]);
      }
    });
    return result.join("\n");
  }
  async extractClozeCards(file, content) {
    var _a, _b;
    const units = [];
    const highlightRegex = /==(.+?)==/g;
    const processedTables = /* @__PURE__ */ new Set();
    const processedHighlights = /* @__PURE__ */ new Set();
    let match;
    while ((match = highlightRegex.exec(content)) !== null) {
      const extractedText = match[1];
      const fullMatch = match[0];
      const position = this.calculatePosition(content, match.index);
      if (processedHighlights.has(match.index)) {
        continue;
      }
      const lineStart = content.lastIndexOf("\n", match.index) + 1;
      const lineEnd = content.indexOf("\n", match.index);
      const currentLine = content.substring(lineStart, lineEnd === -1 ? content.length : lineEnd);
      if (this.isExcalidrawHighlight(extractedText, currentLine)) {
        continue;
      }
      if (this.isInTable(content, match.index)) {
        const tableInfo = this.extractTableWithHighlights(content, match.index);
        if (tableInfo) {
          const tableKey = `${file.path}-${tableInfo.tableContent.substring(0, 50)}`;
          if (processedTables.has(tableKey)) {
            continue;
          }
          processedTables.add(tableKey);
          const tableHighlights = this.findAllHighlightsInTable(content, tableInfo.tableContent, match.index);
          tableHighlights.forEach((pos) => processedHighlights.add(pos));
          const lines = content.split("\n");
          const { line: currentLineIndex } = this.calculatePosition(content, match.index);
          let tableStart = currentLineIndex;
          while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
            tableStart--;
          }
          const tableLines = tableInfo.tableContent.split("\n");
          const extractedTable = this.extractTablePortion(
            tableLines,
            tableInfo.highlightRows,
            tableInfo.highlightColumns,
            tableInfo.highlightCount
          );
          const extractedLines = extractedTable.split("\n");
          const hasSeparator = extractedLines.some((line) => {
            const cells = line.split("|").map((c) => c.trim()).filter((c) => c);
            return cells.length > 0 && cells.every((cell) => /^[-:\s]+$/.test(cell));
          });
          if (!hasSeparator && extractedLines.length >= 2) {
            const headerCells = extractedLines[0].split("|").map((c) => c.trim()).filter((c) => c);
            const separator = "| " + headerCells.map(() => "---").join(" | ") + " |";
            extractedLines.splice(1, 0, separator);
            const extractedTable2 = extractedLines.join("\n");
          }
          let tableStartOffset = 0;
          for (let i = 0; i < tableStart; i++) {
            tableStartOffset += lines[i].length + 1;
          }
          const allHighlights = this.extractAllHighlightsFromTable(tableInfo.tableContent);
          const unit2 = {
            id: this.generateId(),
            type: "cloze",
            content: allHighlights.join(", "),
            // 🆕 包含所有高亮
            fullContext: extractedTable,
            // 显示提取的表格部分
            source: {
              file: file.path,
              position: {
                start: tableStartOffset,
                end: tableStartOffset + tableInfo.tableContent.length,
                line: tableStart
              },
              heading: this.findHeading(content, match.index),
              anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
            },
            extractRule: {
              ruleId: "cloze-table",
              ruleName: "Table Cloze Deletion",
              extractedBy: "auto"
            },
            metadata: {
              createdAt: Date.now(),
              updatedAt: Date.now(),
              tags: [...this.extractTags(content, match.index), "#table"],
              customData: {
                tableType: "partial",
                highlightCount: tableInfo.highlightCount,
                rowCount: tableInfo.highlightRows.size,
                columnCount: tableInfo.highlightColumns.size,
                allHighlights
                // 🆕 保存所有高亮
              }
            },
            flashcardIds: []
          };
          units.push(unit2);
          if ((_b = this.plugin) == null ? void 0 : _b.unlockSystem) {
            await this.plugin.unlockSystem.onTableScanned();
          }
          continue;
        }
      }
      const fullSentence = this.extractFullSentence(content, match.index, fullMatch.length);
      const unit = {
        id: this.generateId(),
        type: "cloze",
        content: extractedText.trim(),
        fullContext: fullSentence,
        source: {
          file: file.path,
          position: {
            start: match.index,
            end: match.index + fullMatch.length,
            line: position.line
          },
          heading: this.findHeading(content, match.index),
          anchorLink: `[[${file.basename}#^${this.generateBlockId()}]]`
        },
        extractRule: {
          ruleId: "cloze",
          ruleName: "Cloze Deletion",
          extractedBy: "auto"
        },
        metadata: {
          createdAt: Date.now(),
          updatedAt: Date.now(),
          tags: this.extractTags(content, match.index)
        },
        flashcardIds: []
      };
      units.push(unit);
    }
    return units;
  }
  // 🆕 添加辅助方法:找到表格内所有高亮的位置
  findAllHighlightsInTable(content, tableContent, currentHighlightPos) {
    var _a, _b;
    const positions = [];
    const lines = content.split("\n");
    const { line: currentLine } = this.calculatePosition(content, currentHighlightPos);
    let tableStart = currentLine;
    let tableEnd = currentLine;
    while (tableStart > 0 && ((_a = lines[tableStart - 1]) == null ? void 0 : _a.includes("|"))) {
      tableStart--;
    }
    while (tableEnd < lines.length - 1 && ((_b = lines[tableEnd + 1]) == null ? void 0 : _b.includes("|"))) {
      tableEnd++;
    }
    let offset = 0;
    for (let i = 0; i < tableStart; i++) {
      offset += lines[i].length + 1;
    }
    const highlightRegex = /==(.+?)==/g;
    let match;
    const tableEndOffset = offset + tableContent.length;
    while ((match = highlightRegex.exec(content)) !== null) {
      if (match.index >= offset && match.index < tableEndOffset) {
        positions.push(match.index);
      }
    }
    return positions;
  }
  // 🆕 添加辅助方法:提取表格中所有高亮内容
  extractAllHighlightsFromTable(tableContent) {
    const highlights = [];
    const highlightRegex = /==(.+?)==/g;
    let match;
    while ((match = highlightRegex.exec(tableContent)) !== null) {
      highlights.push(match[1].trim());
    }
    return highlights;
  }
};

// src/core/AnnotationManager.ts
var AnnotationManager = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.annotations = /* @__PURE__ */ new Map();
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.loadAnnotations();
  }
  /**
   * 加载所有批注
   */
  async loadAnnotations() {
    try {
      const path = `${this.dataFolder}/annotations.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        const annotations = JSON.parse(data);
        for (const annotation of annotations) {
          this.annotations.set(annotation.id, annotation);
        }
      }
    } catch (error) {
      console.error("Error loading annotations:", error);
    }
  }
  /**
   * 添加内容批注
   */
  async addContentAnnotation(contentUnitId, content, badge) {
    const annotation = {
      id: this.generateId(),
      targetType: "content",
      targetId: contentUnitId,
      content,
      badge,
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.annotations.set(annotation.id, annotation);
    await this.persist();
    await this.plugin.unlockSystem.onAnnotationCompleted();
    const contentUnit = this.plugin.dataManager.getContentUnit(contentUnitId);
    if (contentUnit) {
      contentUnit.annotationId = annotation.id;
      contentUnit.metadata.updatedAt = Date.now();
      await this.plugin.dataManager.saveContentUnit(contentUnit);
    }
    return annotation;
  }
  /**
   * 添加文件批注
   */
  async addFileAnnotation(filePath, content) {
    const annotation = {
      id: this.generateId(),
      targetType: "file",
      targetId: filePath,
      content,
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.annotations.set(annotation.id, annotation);
    await this.persist();
    await this.plugin.unlockSystem.onAnnotationCompleted();
    return annotation;
  }
  /**
   * 获取批注
   */
  getAnnotation(id) {
    return this.annotations.get(id);
  }
  /**
   * 获取内容的批注
   */
  getContentAnnotation(contentUnitId) {
    const contentUnit = this.plugin.dataManager.getContentUnit(contentUnitId);
    if (!(contentUnit == null ? void 0 : contentUnit.annotationId))
      return void 0;
    return this.annotations.get(contentUnit.annotationId);
  }
  /**
   * 获取文件的所有批注
   */
  getFileAnnotations(filePath) {
    return Array.from(this.annotations.values()).filter(
      (ann) => ann.targetType === "file" && ann.targetId === filePath
    );
  }
  /**
   * 更新批注
   */
  async updateAnnotation(id, updates) {
    const annotation = this.annotations.get(id);
    if (!annotation)
      return;
    Object.assign(annotation, updates, {
      metadata: {
        ...annotation.metadata,
        updatedAt: Date.now()
      }
    });
    await this.persist();
  }
  /**
   * 删除批注
   */
  async deleteAnnotation(id) {
    const annotation = this.annotations.get(id);
    if (!annotation)
      return;
    if (annotation.targetType === "content") {
      const contentUnit = this.plugin.dataManager.getContentUnit(annotation.targetId);
      if (contentUnit) {
        contentUnit.annotationId = void 0;
        await this.plugin.dataManager.saveContentUnit(contentUnit);
      }
    }
    this.annotations.delete(id);
    await this.persist();
  }
  /**
   * 获取所有批注
   */
  getAllAnnotations() {
    return Array.from(this.annotations.values());
  }
  /**
   * 持久化
   */
  async persist() {
    try {
      const path = `${this.dataFolder}/annotations.json`;
      const annotations = Array.from(this.annotations.values());
      const data = JSON.stringify(annotations, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting annotations:", error);
    }
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `ann-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
};

// src/core/FlashcardManager.ts
var FlashcardManager = class {
  constructor(app, dataManager, plugin) {
    this.app = app;
    this.dataManager = dataManager;
    this.plugin = plugin;
    this.flashcards = /* @__PURE__ */ new Map();
    this.reviewLogs = [];
    this.deletedItems = [];
    this.dataFolder = `${this.app.vault.configDir}/plugins/learning-system/data`;
  }
  async initialize() {
    await this.loadFlashcards();
    await this.loadReviewLogs();
    await this.loadDeleteHistory();
    await this.loadDeleteHistory();
  }
  // ==================== 统一创建入口 ====================
  /**
   * 🆕 统一入口: 从 ContentUnit 创建闪卡
   * 适配所有场景: 右键提取、Scan、批量创建、快速生成
   */
  async createFlashcardFromUnit(unit, options) {
    const cardType = (options == null ? void 0 : options.cardType) || (unit.type === "QA" ? "qa" : "cloze");
    let flashcard;
    if (cardType === "qa" || unit.type === "QA") {
      const question = (options == null ? void 0 : options.customQuestion) || unit.content;
      const answer = (options == null ? void 0 : options.customAnswer) || unit.answer || unit.content;
      flashcard = await this.createQACard(unit.id, question, answer);
    } else {
      const text = unit.fullContext || unit.content;
      const answer = (options == null ? void 0 : options.customAnswer) || unit.content;
      const deletions = [{
        index: text.indexOf(answer),
        answer
      }];
      flashcard = await this.createClozeCard(unit.id, text, deletions);
    }
    await this.plugin.unlockSystem.onCardExtracted();
    return flashcard;
  }
  // ==================== 核心创建方法 ====================
  /**
   * 创建问答卡（唯一版本，合并了所有功能）
   */
  async createQACard(contentUnitId, question, answer, deck) {
    const contentUnit = this.dataManager.getContentUnit(contentUnitId);
    if (!contentUnit)
      throw new Error("Content unit not found");
    const card = {
      id: this.generateId(),
      type: "qa",
      sourceContentId: contentUnitId,
      sourceFile: contentUnit.source.file,
      anchorLink: contentUnit.source.anchorLink,
      front: question,
      back: answer,
      deck: deck || this.inferDeck(contentUnit.source.file),
      tags: contentUnit.metadata.tags,
      scheduling: this.initializeScheduling(),
      stats: {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        difficulty: 0.5
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.flashcards.set(card.id, card);
    contentUnit.flashcardIds.push(card.id);
    await this.dataManager.saveContentUnits([contentUnit]);
    await this.persistFlashcards();
    return card;
  }
  /**
   * 创建完形填空卡（唯一版本，合并了所有功能）
   */
  async createClozeCard(contentUnitId, original, deletions) {
    const contentUnit = this.dataManager.getContentUnit(contentUnitId);
    if (!contentUnit)
      throw new Error("Content unit not found");
    const isTable = this.isTableFormat(original);
    const front = isTable ? original : this.generateClozeText(original, deletions);
    const back = deletions.map((d) => d.answer);
    const card = {
      id: this.generateId(),
      type: "cloze",
      sourceContentId: contentUnitId,
      sourceFile: contentUnit.source.file,
      anchorLink: contentUnit.source.anchorLink,
      front,
      back,
      cloze: {
        original,
        deletions
      },
      deck: this.inferDeck(contentUnit.source.file),
      tags: contentUnit.metadata.tags,
      scheduling: this.initializeScheduling(),
      stats: {
        totalReviews: 0,
        correctCount: 0,
        averageTime: 0,
        difficulty: 0.5
      },
      metadata: {
        createdAt: Date.now(),
        updatedAt: Date.now()
      }
    };
    this.flashcards.set(card.id, card);
    contentUnit.flashcardIds.push(card.id);
    await this.dataManager.saveContentUnits([contentUnit]);
    await this.persistFlashcards();
    return card;
  }
  // ← 添加辅助方法
  isTableFormat(text) {
    if (!text || !text.trim())
      return false;
    const lines = text.trim().split("\n");
    if (lines.length < 2)
      return false;
    const hasSeparator = lines.some((line) => /^\|?[\s-:|]+\|?$/.test(line.trim()));
    const pipeLines = lines.filter((line) => line.includes("|")).length;
    return hasSeparator || pipeLines >= lines.length * 0.7;
  }
  // ==================== 查询方法 ====================
  /**
   * 获取闪卡
   */
  getFlashcard(id) {
    return this.flashcards.get(id);
  }
  /**
   * 获取所有闪卡
   */
  getAllFlashcards() {
    const cards = Array.from(this.flashcards.values());
    return cards;
  }
  /**
   * 获取今日待复习的卡片
   */
  getDueCards() {
    const now = Date.now();
    return Array.from(this.flashcards.values()).filter((card) => card.scheduling.due <= now).sort((a, b) => {
      const aPriority = this.getCardPriority(a);
      const bPriority = this.getCardPriority(b);
      return bPriority - aPriority;
    });
  }
  /**
   * 获取新卡片
   */
  getNewCards() {
    return Array.from(this.flashcards.values()).filter((card) => card.scheduling.state === "new");
  }
  // ==================== 更新和删除 ====================
  /**
   * 更新卡片（复习后）
   */
  async updateCard(card) {
    this.flashcards.set(card.id, card);
    await this.persistFlashcards();
  }
  /**
   * 删除卡片
   */
  async deleteCard(id, reason = "user-deleted") {
    const card = this.flashcards.get(id);
    if (!card)
      return;
    const contentUnit = this.dataManager.getContentUnit(card.sourceContentId);
    if (contentUnit) {
      const index = contentUnit.flashcardIds.indexOf(id);
      if (index > -1) {
        contentUnit.flashcardIds.splice(index, 1);
        await this.dataManager.saveContentUnits([contentUnit]);
      }
    }
    await this.addToDeleteHistory({
      type: "flashcard",
      id: card.id,
      content: {
        front: card.front,
        back: typeof card.back === "string" ? card.back : card.back.join(", "),
        sourceFile: card.sourceFile,
        sourceContentId: card.sourceContentId,
        cardType: card.type,
        fullCard: { ...card }
        // 保存完整卡片数据以便恢复
      },
      deletedAt: Date.now(),
      deletedBy: reason,
      metadata: {
        deck: card.deck,
        stats: card.stats
      }
    });
    this.reviewLogs = this.reviewLogs.filter((log) => log.flashcardId !== id);
    await this.persistReviewLogs();
    this.flashcards.delete(id);
    await this.persistFlashcards();
  }
  // 新增：添加到删除历史
  async addToDeleteHistory(item) {
    this.deletedItems.push(item);
    const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
    this.deletedItems = this.deletedItems.filter((item2) => item2.deletedAt > sevenDaysAgo);
    await this.persistDeleteHistory();
  }
  // 新增：获取最近删除
  getRecentlyDeleted(days = 7) {
    const cutoff = Date.now() - days * 24 * 60 * 60 * 1e3;
    return this.deletedItems.filter((item) => item.deletedAt > cutoff).sort((a, b) => b.deletedAt - a.deletedAt);
  }
  // 新增：恢复闪卡
  async restoreFlashcard(deletedItem) {
    try {
      if (deletedItem.type !== "flashcard")
        return false;
      const card = deletedItem.content.fullCard;
      if (this.flashcards.has(card.id)) {
        return false;
      }
      this.flashcards.set(card.id, card);
      const contentUnit = this.dataManager.getContentUnit(card.sourceContentId);
      if (contentUnit && !contentUnit.flashcardIds.includes(card.id)) {
        contentUnit.flashcardIds.push(card.id);
        await this.dataManager.saveContentUnits([contentUnit]);
      }
      await this.persistFlashcards();
      this.deletedItems = this.deletedItems.filter((item) => item.id !== deletedItem.id);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error restoring flashcard:", error);
      return false;
    }
  }
  // 新增：永久删除闪卡（从历史中移除）
  async permanentlyDeleteFlashcard(deletedItemId) {
    try {
      this.deletedItems = this.deletedItems.filter((item) => item.id !== deletedItemId);
      await this.persistDeleteHistory();
      return true;
    } catch (error) {
      console.error("Error permanently deleting flashcard:", error);
      return false;
    }
  }
  // 新增：一键清空删除历史
  async clearDeleteHistory() {
    const count = this.deletedItems.filter((item) => item.type === "flashcard").length;
    this.deletedItems = this.deletedItems.filter((item) => item.type !== "flashcard");
    await this.persistDeleteHistory();
    return count;
  }
  // 新增：持久化删除历史
  async persistDeleteHistory() {
    try {
      const path = `${this.dataFolder}/delete-history.json`;
      const data = JSON.stringify(this.deletedItems, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting delete history:", error);
    }
  }
  async loadDeleteHistory() {
    try {
      const path = `${this.dataFolder}/delete-history.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        this.deletedItems = JSON.parse(data);
        const sevenDaysAgo = Date.now() - 7 * 24 * 60 * 60 * 1e3;
        this.deletedItems = this.deletedItems.filter((item) => item.deletedAt > sevenDaysAgo);
        await this.persistDeleteHistory();
      }
    } catch (error) {
      console.error("Error loading delete history:", error);
    }
  }
  // ==================== 复习日志 ====================
  /**
   * 记录复习日志
   */
  async logReview(log) {
    var _a;
    if (!log.cycle) {
      log.cycle = ((_a = this.plugin.analyticsEngine) == null ? void 0 : _a.getCurrentCycleNumber()) || 1;
    }
    this.reviewLogs.push(log);
    if (this.reviewLogs.length > 1e3) {
      this.reviewLogs = this.reviewLogs.slice(-1e3);
    }
    await this.persistReviewLogs();
  }
  /**
   * 获取卡片的复习历史
   */
  getCardReviewHistory(cardId) {
    return this.reviewLogs.filter((log) => log.flashcardId === cardId);
  }
  // ==================== 统计 ====================
  /**
   * 获取统计数据
   */
  getStats() {
    const all = this.getAllFlashcards();
    const due = this.getDueCards();
    const newCards = this.getNewCards();
    const today = new Date().setHours(0, 0, 0, 0);
    const reviewedToday = this.reviewLogs.filter(
      (log) => log.timestamp >= today
    ).length;
    return {
      total: all.length,
      new: newCards.length,
      due: due.length,
      reviewedToday,
      totalReviews: this.reviewLogs.length
    };
  }
  // ==================== 私有工具方法 ====================
  /**
   * 加载闪卡
   */
  async loadFlashcards() {
    try {
      const path = `${this.dataFolder}/flashcards.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        const flashcards = JSON.parse(data);
        for (const card of flashcards) {
          this.flashcards.set(card.id, card);
        }
      }
    } catch (error) {
      console.error("Error loading flashcards:", error);
    }
  }
  /**
   * 加载复习日志
   */
  async loadReviewLogs() {
    try {
      const path = `${this.dataFolder}/review-logs.json`;
      const adapter = this.app.vault.adapter;
      if (await adapter.exists(path)) {
        const data = await adapter.read(path);
        this.reviewLogs = JSON.parse(data);
      }
    } catch (error) {
      console.error("Error loading review logs:", error);
    }
  }
  /**
   * 初始化调度参数
   */
  initializeScheduling() {
    return {
      interval: 0,
      ease: 2.5,
      due: Date.now(),
      lapses: 0,
      reps: 0,
      state: "new"
    };
  }
  /**
   * 生成完形填空文本
   */
  generateClozeText(original, deletions) {
    let result = original;
    const sorted = [...deletions].sort((a, b) => b.index - a.index);
    for (const deletion of sorted) {
      const before = result.substring(0, deletion.index);
      const after = result.substring(deletion.index + deletion.answer.length);
      result = `${before}[...]${after}`;
    }
    return result;
  }
  /**
   * 推断卡组名称
   */
  inferDeck(filePath) {
    const parts = filePath.split("/");
    return parts.length > 1 ? parts[parts.length - 2] : "Default";
  }
  /**
   * 获取卡片优先级
   */
  getCardPriority(card) {
    const now = Date.now();
    const overdue = Math.max(0, now - card.scheduling.due);
    const daysOverdue = overdue / (24 * 60 * 60 * 1e3);
    if (card.scheduling.state === "new")
      return 100 + daysOverdue;
    if (card.scheduling.state === "relearning")
      return 200 + daysOverdue;
    return daysOverdue;
  }
  /**
   * 持久化闪卡
   */
  async persistFlashcards() {
    try {
      const path = `${this.dataFolder}/flashcards.json`;
      const flashcards = Array.from(this.flashcards.values());
      const data = JSON.stringify(flashcards, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("\u274C Error persisting flashcards:", error);
    }
  }
  /**
   * 持久化复习日志
   */
  async persistReviewLogs() {
    try {
      const path = `${this.dataFolder}/review-logs.json`;
      const data = JSON.stringify(this.reviewLogs, null, 2);
      await this.app.vault.adapter.write(path, data);
    } catch (error) {
      console.error("Error persisting review logs:", error);
    }
  }
  /**
   * 生成唯一 ID
   */
  generateId() {
    return `card-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
};

// src/ui/view/RecentlyDeletedView.ts
var import_obsidian14 = require("obsidian");

// src/ui/style/recentlyDeletedStyle.ts
var RecentlyDeletedStyle = class {
  static inject() {
    if (this.injected)
      return;
    const existing = document.getElementById(this.styleId);
    if (existing) {
      existing.remove();
    }
    const styleEl = document.createElement("style");
    styleEl.id = this.styleId;
    styleEl.textContent = this.getStyles();
    document.head.appendChild(styleEl);
    this.injected = true;
  }
  static remove() {
    const styleEl = document.getElementById(this.styleId);
    if (styleEl) {
      styleEl.remove();
    }
    this.injected = false;
  }
  static getStyles() {
    return `
          /* \u5F39\u7A97\u57FA\u7840\u6837\u5F0F */
    .recently-deleted-modal {
      padding: 0;
    }

    .recently-deleted-modal .modal-content {
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
    }

    .recently-deleted-modal .modal-title {
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--background-modifier-border);
    }

    .recently-deleted-modal .modal-title h2 {
      margin: 0;
      font-size: 1.3em;
      font-weight: 600;
    }

    
        .recently-deleted-container {
          padding: 20px;
          height: 100%;
          overflow-y: auto;
        }
  
        .recently-deleted-toolbar {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px;
          background: var(--background-secondary);
          border-radius: 8px;
          margin-bottom: 20px;
        }
  
        .deleted-stats {
          font-size: 0.9em;
          color: var(--text-muted);
        }
  
        .deleted-actions {
          display: flex;
          gap: 8px;
        }
  
        .deleted-section {
          margin-bottom: 32px;
        }
  
        .section-header {
          margin-bottom: 16px;
        }
  
        .section-header h3 {
          margin: 0;
          font-size: 1.1em;
          font-weight: 600;
        }
  
        .deleted-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
  
        .deleted-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding: 16px;
          background: var(--background-primary);
          border: 1px solid var(--background-modifier-border);
          border-radius: 8px;
          transition: all 0.2s ease;
        }
  
        .deleted-item:hover {
          border-color: var(--interactive-accent);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
  
        .deleted-item-info {
          flex: 1;
          min-width: 0;
          margin-right: 16px;
        }
  
        .deleted-item-content {
          margin-bottom: 8px;
          color: var(--text-normal);
          line-height: 1.5;
          word-break: break-word;
        }
  
        .card-front, 
        .card-back {
          margin: 4px 0;
          font-size: 0.95em;
        }
  
        .card-front strong,
        .card-back strong {
          color: var(--text-accent);
        }
  
        .deleted-item-meta {
          display: flex;
          flex-wrap: wrap;
          gap: 12px;
          font-size: 0.85em;
          color: var(--text-muted);
        }
  
        .deleted-item-meta span {
          display: inline-flex;
          align-items: center;
          gap: 4px;
        }
  
        .deleted-time {
          color: var(--text-accent);
        }
  
        .deleted-reason {
          padding: 2px 8px;
          background: var(--background-secondary);
          border-radius: 4px;
          font-size: 0.9em;
        }
  
        .deleted-item-actions {
          display: flex;
          gap: 8px;
          align-items: flex-start;
          flex-shrink: 0;
        }
  
        .empty-deleted {
          text-align: center;
          padding: 60px 20px;
        }
  
        .empty-icon {
          font-size: 4em;
          margin-bottom: 16px;
          opacity: 0.5;
        }
  
        .empty-text {
          font-size: 1.2em;
          margin-bottom: 8px;
          color: var(--text-normal);
          font-weight: 500;
        }
  
        .empty-hint {
          color: var(--text-muted);
          font-size: 0.9em;
        }
  
        /* \u54CD\u5E94\u5F0F\u8BBE\u8BA1 */
        @media (max-width: 768px) {
          .recently-deleted-container {
            padding: 12px;
          }
  
          .deleted-item {
            flex-direction: column;
            gap: 12px;
          }
  
          .deleted-item-info {
            margin-right: 0;
          }
  
          .deleted-item-actions {
            width: 100%;
            justify-content: flex-end;
          }
        }
      `;
  }
};
RecentlyDeletedStyle.styleId = "recently-deleted-styles";
RecentlyDeletedStyle.injected = false;

// src/ui/view/RecentlyDeletedView.ts
var RecentlyDeletedModal = class extends import_obsidian14.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.plugin = plugin;
  }
  onOpen() {
    RecentlyDeletedStyle.inject();
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("recently-deleted-modal");
    this.render();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
  render() {
    const { contentEl } = this;
    contentEl.empty();
    const header = contentEl.createDiv({ cls: "modal-title" });
    header.createEl("h2", { text: t("recentDelete.title", this.plugin.settings.language) });
    const toolbar = contentEl.createDiv({ cls: "recently-deleted-toolbar" });
    const stats = this.getStats();
    const statsText = toolbar.createDiv({ cls: "deleted-stats" });
    statsText.innerHTML = `
      \u{1F4DD} ${stats.notes} ${t("confirm.notes", this.plugin.settings.language)} \u2022 
      \u{1F0CF} ${stats.cards} ${t("confirm.flashcards", this.plugin.settings.language)}
    `;
    const actions = toolbar.createDiv({ cls: "deleted-actions" });
    new import_obsidian14.ButtonComponent(actions).setButtonText(t("recentDelete.clearAll", this.plugin.settings.language)).setWarning().onClick(async () => {
      if (confirm(t("confirm.clearAllDeleted", this.plugin.settings.language))) {
        await this.clearAll();
      }
    });
    const content = contentEl.createDiv({ cls: "recently-deleted-content" });
    const deletedNotes = this.plugin.dataManager.getRecentlyDeletedUnits();
    const deletedCards = this.plugin.flashcardManager.getRecentlyDeleted();
    if (deletedNotes.length === 0 && deletedCards.length === 0) {
      this.renderEmpty(content);
      return;
    }
    if (deletedNotes.length > 0) {
      this.renderDeletedNotes(content, deletedNotes);
    }
    if (deletedCards.length > 0) {
      this.renderDeletedCards(content, deletedCards);
    }
  }
  renderEmpty(container) {
    const empty = container.createDiv({ cls: "empty-deleted" });
    empty.innerHTML = `
      <div class="empty-icon">\u{1F389}</div>
      <div class="empty-text">${t("recentDelete.empty", this.plugin.settings.language)}</div>
      <div class="empty-hint">${t("recentDelete.emptyHint", this.plugin.settings.language)}</div>
    `;
  }
  renderDeletedNotes(container, items) {
    const section = container.createDiv({ cls: "deleted-section" });
    const header = section.createDiv({ cls: "section-header" });
    header.innerHTML = `
      <h3>\u{1F4DD} ${t("confirm.notes", this.plugin.settings.language)} (${items.length})</h3>
    `;
    const list = section.createDiv({ cls: "deleted-list" });
    items.forEach((item) => {
      const itemEl = list.createDiv({ cls: "deleted-item" });
      const info = itemEl.createDiv({ cls: "deleted-item-info" });
      const content = info.createDiv({ cls: "deleted-item-content" });
      content.textContent = item.unit.content.substring(0, 150) + (item.unit.content.length > 150 ? "..." : "");
      const meta = info.createDiv({ cls: "deleted-item-meta" });
      meta.innerHTML = `
        <span class="deleted-time">${this.formatTime(item.deletedAt)}</span>
        <span class="deleted-source">\u{1F4C4} ${item.unit.source.file}</span>
        ${item.associatedCardIds.length > 0 ? `<span class="deleted-cards">\u{1F0CF} ${item.associatedCardIds.length} ${t("confirm.flashcards", this.plugin.settings.language)}</span>` : ""}
        <span class="deleted-reason">${this.getDeleteReason(item.deletedBy)}</span>
      `;
      const actions = itemEl.createDiv({ cls: "deleted-item-actions" });
      new import_obsidian14.ButtonComponent(actions).setButtonText(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreNote(item);
      });
      new import_obsidian14.ButtonComponent(actions).setIcon("more-vertical").onClick((e) => {
        this.showNoteMenu(e, item);
      });
    });
  }
  renderDeletedCards(container, items) {
    const section = container.createDiv({ cls: "deleted-section" });
    const header = section.createDiv({ cls: "section-header" });
    header.innerHTML = `
      <h3>\u{1F0CF} ${t("confirm.flashcards", this.plugin.settings.language)} (${items.length})</h3>
    `;
    const list = section.createDiv({ cls: "deleted-list" });
    items.forEach((item) => {
      const itemEl = list.createDiv({ cls: "deleted-item" });
      const info = itemEl.createDiv({ cls: "deleted-item-info" });
      const content = info.createDiv({ cls: "deleted-item-content" });
      content.innerHTML = `
        <div class="card-front"><strong>Q:</strong> ${item.content.front.substring(0, 100)}</div>
        <div class="card-back"><strong>A:</strong> ${typeof item.content.back === "string" ? item.content.back.substring(0, 100) : item.content.back}</div>
      `;
      const meta = info.createDiv({ cls: "deleted-item-meta" });
      meta.innerHTML = `
        <span class="deleted-time">${this.formatTime(item.deletedAt)}</span>
        <span class="deleted-source">\u{1F4C4} ${item.content.sourceFile}</span>
        <span class="deleted-type">${item.content.cardType === "qa" ? "Q&A" : t("stats.type.cloze", this.plugin.settings.language)}</span>
        <span class="deleted-reason">${this.getDeleteReason(item.deletedBy)}</span>
      `;
      const actions = itemEl.createDiv({ cls: "deleted-item-actions" });
      new import_obsidian14.ButtonComponent(actions).setButtonText(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreCard(item);
      });
      new import_obsidian14.ButtonComponent(actions).setIcon("more-vertical").onClick((e) => {
        this.showCardMenu(e, item);
      });
    });
  }
  showNoteMenu(event, item) {
    const menu = new import_obsidian14.Menu();
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreNote(item);
      })
    );
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.deletePermanently", this.plugin.settings.language)).setIcon("trash").setWarning(true).onClick(async () => {
        await this.permanentlyDeleteNote(item);
      })
    );
    menu.showAtMouseEvent(event);
  }
  showCardMenu(event, item) {
    const menu = new import_obsidian14.Menu();
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.restore", this.plugin.settings.language)).setIcon("rotate-ccw").onClick(async () => {
        await this.restoreCard(item);
      })
    );
    menu.addItem(
      (menuItem) => menuItem.setTitle(t("recentDelete.deletePermanently", this.plugin.settings.language)).setIcon("trash").setWarning(true).onClick(async () => {
        await this.permanentlyDeleteCard(item);
      })
    );
    menu.showAtMouseEvent(event);
  }
  async restoreNote(item) {
    const success = await this.plugin.dataManager.restoreContentUnit(item);
    if (success) {
      if (item.associatedCardIds && item.associatedCardIds.length > 0) {
        const restored = await this.restoreAssociatedCards(item.associatedCardIds);
        if (restored > 0) {
          new import_obsidian14.Notice(t("notice.noteRestored", this.plugin.settings.language) + ` (${restored} ${t("confirm.flashcards", this.plugin.settings.language)} ${t("notice.cardRestored", this.plugin.settings.language)})`);
        } else {
          new import_obsidian14.Notice(t("notice.noteRestored", this.plugin.settings.language));
        }
      } else {
        new import_obsidian14.Notice(t("notice.noteRestored", this.plugin.settings.language));
      }
      this.render();
      this.plugin.refreshOverview();
    } else {
      new import_obsidian14.Notice(t("notice.restoreFailed", this.plugin.settings.language));
    }
  }
  async restoreCard(item) {
    const success = await this.plugin.flashcardManager.restoreFlashcard(item);
    if (success) {
      new import_obsidian14.Notice(t("notice.cardRestored", this.plugin.settings.language));
      this.render();
      this.plugin.refreshOverview();
    } else {
      new import_obsidian14.Notice(t("notice.restoreFailed", this.plugin.settings.language));
    }
  }
  async permanentlyDeleteNote(item) {
    const success = await this.plugin.dataManager.permanentlyDeleteContentUnit(item.id);
    if (success) {
      new import_obsidian14.Notice(t("notice.permanentlyDeleted", this.plugin.settings.language));
      this.render();
    } else {
      new import_obsidian14.Notice(t("notice.deleteFailed", this.plugin.settings.language));
    }
  }
  async permanentlyDeleteCard(item) {
    const success = await this.plugin.flashcardManager.permanentlyDeleteFlashcard(item.id);
    if (success) {
      new import_obsidian14.Notice(t("notice.permanentlyDeleted", this.plugin.settings.language));
      this.render();
    } else {
      new import_obsidian14.Notice(t("notice.deleteFailed", this.plugin.settings.language));
    }
  }
  async restoreAssociatedCards(cardIds) {
    const deletedCards = this.plugin.flashcardManager.getRecentlyDeleted();
    let restored = 0;
    for (const cardId of cardIds) {
      const deletedCard = deletedCards.find((item) => item.id === cardId);
      if (deletedCard) {
        const success = await this.plugin.flashcardManager.restoreFlashcard(deletedCard);
        if (success)
          restored++;
      } else {
      }
    }
    return restored;
  }
  async clearAll() {
    const notesCount = await this.plugin.dataManager.clearDeleteHistory();
    const cardsCount = await this.plugin.flashcardManager.clearDeleteHistory();
    new import_obsidian14.Notice(t("notice.allDeleted", this.plugin.settings.language, {
      notes: notesCount,
      cards: cardsCount
    }));
    this.render();
  }
  getStats() {
    const deletedNotes = this.plugin.dataManager.getRecentlyDeletedUnits();
    const deletedCards = this.plugin.flashcardManager.getRecentlyDeleted();
    return {
      notes: deletedNotes.length,
      cards: deletedCards.length
    };
  }
  formatTime(timestamp) {
    const now = Date.now();
    const diff = now - timestamp;
    const minutes = Math.floor(diff / 6e4);
    const hours = Math.floor(diff / 36e5);
    const days = Math.floor(diff / 864e5);
    if (minutes < 1)
      return t("time.justNow", this.plugin.settings.language);
    if (minutes < 60)
      return t("time.minutesAgo", this.plugin.settings.language, { minutes });
    if (hours < 24)
      return t("time.hoursAgo", this.plugin.settings.language, { hours });
    return t("time.daysAgo", this.plugin.settings.language, { days });
  }
  getDeleteReason(reason) {
    const reasons = {
      "user-deleted": t("deleteReason.user", this.plugin.settings.language),
      "note-deleted": t("deleteReason.note", this.plugin.settings.language),
      "file-deleted": t("deleteReason.file", this.plugin.settings.language)
    };
    return reasons[reason] || reason;
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  extractionEnabled: true,
  autoScan: false,
  defaultDeck: "Default",
  cycleData: void 0
  // language: 'en'
};
var LearningSystemPlugin = class extends import_obsidian16.Plugin {
  async onload() {
    console.log("Loading Learning System Plugin");
    await this.loadSettings();
    this.detectAndSetLanguage();
    this.unlockSystem = new UnlockSystem(this.app, this);
    await this.unlockSystem.initialize();
    this.dataManager = new DataManager(this.app, this);
    await this.dataManager.initialize();
    this.annotationManager = new AnnotationManager(this.app, this);
    await this.annotationManager.initialize();
    this.flashcardManager = new FlashcardManager(
      this.app,
      this.dataManager,
      this
    );
    await this.flashcardManager.initialize();
    this.extractionEngine = new ExtractionEngine(
      this.app,
      this.dataManager,
      this.flashcardManager,
      this
    );
    this.registerView(
      VIEW_TYPE_SIDEBAR_OVERVIEW,
      (leaf) => new SidebarOverviewView(leaf, this, false)
    );
    this.registerView(
      VIEW_TYPE_MAIN_OVERVIEW,
      (leaf) => new SidebarOverviewView(leaf, this, true)
    );
    this.registerView(
      VIEW_TYPE_REVIEW,
      (leaf) => new ReviewView(leaf, this)
    );
    this.registerView(
      VIEW_TYPE_STATS,
      (leaf) => new StatsView(leaf, this)
    );
    this.registerEvent(
      this.app.vault.on("delete", async (file) => {
        if (file instanceof import_obsidian16.TFile && file.extension === "md") {
          const stats = ViewState.getFileDeleteStats(file.path, this);
          if (stats.notes > 0 || stats.cards > 0) {
            const units = this.dataManager.getAllContentUnits().filter((u) => u.source.file === file.path);
            for (const unit of units) {
              for (const cardId of unit.flashcardIds) {
                await this.flashcardManager.deleteCard(cardId, "file-deleted");
              }
              await this.dataManager.deleteContentUnit(unit.id, "file-deleted");
            }
            new import_obsidian16.Notice(t("notice.fileDeletedSimple", this.settings.language, {
              notes: stats.notes,
              cards: stats.cards
            }), 3e3);
          }
        }
      })
    );
    this.addSettingTab(new SettingsTab(this.app, this));
    this.addCommands();
    this.registerEvent(
      this.app.workspace.on("editor-menu", (menu, editor, view) => {
        if (view instanceof import_obsidian16.MarkdownView && view.file) {
          this.extractionEngine.registerContextMenu(menu, editor, view.file);
        }
      })
    );
    this.addRibbonIcon("layout-list", "Open Learning Overview(Sidebar)", () => {
      this.activateSidebarOverview();
    });
    this.addRibbonIcon("layers", "Start Review", () => {
      if (!this.unlockSystem.tryUseFeature("review-page", "Start Review")) {
        return;
      }
      this.activateReview();
    });
    this.setupStatusBar();
    this.analyticsEngine = new AnalyticsEngine(this);
    console.log("Learning System Plugin loaded");
  }
  onunload() {
    console.log("Unloading Learning System Plugin");
    const styleEl = document.getElementById("learning-overview-styles");
    if (styleEl) {
      styleEl.remove();
    }
  }
  async loadSettings() {
    const data = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, data);
    this.detectAndSetLanguage();
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  addCommands() {
    this.addCommand({
      id: "scan-current-file",
      name: "Scan current file for content",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("scan-file", "Scan Current File")) {
          return;
        }
        const activeFile = this.app.workspace.getActiveFile();
        if (!activeFile)
          return;
        await this.extractionEngine.scanFile(activeFile);
        this.refreshOverview();
      }
    });
    this.addCommand({
      id: "scan-vault",
      name: "Scan entire vault",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("scan-vault", "Scan Entire Vault")) {
          return;
        }
        await this.extractionEngine.scanVault();
        this.refreshOverview();
      }
    });
    this.addCommand({
      id: "open-overview",
      name: "Open Learning Overview(Sidebar)",
      callback: () => {
        this.activateSidebarOverview();
      }
    });
    this.addCommand({
      id: "open-main-overview",
      name: "Toggle Learning Overview (Main View)",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("open-main- overview", "Toggle Learning Overview (Main View)")) {
          return;
        }
        await this.toggleMainView();
      }
    });
    this.addCommand({
      id: "add-file-annotation",
      name: "Add file annotation",
      callback: async () => {
        if (!this.unlockSystem.tryUseFeature("annotation", "File Annotation")) {
          return;
        }
        const activeFile = this.app.workspace.getActiveFile();
        if (!activeFile)
          return;
        const { FileAnnotationModal: FileAnnotationModal2 } = await Promise.resolve().then(() => (init_AnnotationModal(), AnnotationModal_exports));
        const modal = new FileAnnotationModal2(
          this.app,
          this,
          activeFile.path,
          () => this.refreshOverview()
        );
        modal.open();
      }
    });
    this.addCommand({
      id: "start-review",
      name: "Start flashcard review",
      callback: () => {
        if (!this.unlockSystem.tryUseFeature("review-page", "Flashcard Review")) {
          return;
        }
        this.activateReview();
      }
    });
    this.addCommand({
      id: "show-stats",
      name: "Show flashcard statistics",
      callback: () => {
        if (!this.unlockSystem.tryUseFeature("stats-page", "Statistics")) {
          return;
        }
        this.activateStats();
      }
    });
    this.addCommand({
      id: "show-recently-deleted",
      name: "Show recently deleted items",
      callback: async () => {
        this.openRecentlyDeletedModal();
      }
    });
  }
  async openRecentlyDeletedModal() {
    const modal = new RecentlyDeletedModal(this);
    modal.open();
  }
  async activateMainView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW)[0];
    if (!leaf) {
      leaf = workspace.getLeaf("tab");
      await leaf.setViewState({
        type: VIEW_TYPE_MAIN_OVERVIEW,
        active: true
      });
    }
    workspace.revealLeaf(leaf);
  }
  async toggleMainView() {
    const { workspace } = this.app;
    const existingLeaves = workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW);
    const activeLeaf = workspace.activeLeaf;
    const isMainOverviewActive = activeLeaf && activeLeaf.view.getViewType() === VIEW_TYPE_MAIN_OVERVIEW;
    if (existingLeaves.length > 0 && isMainOverviewActive) {
      existingLeaves.forEach((leaf) => {
        leaf.detach();
      });
    } else if (existingLeaves.length > 0 && !isMainOverviewActive) {
      workspace.revealLeaf(existingLeaves[0]);
    } else {
      const leaf = workspace.getLeaf("tab");
      await leaf.setViewState({
        type: VIEW_TYPE_MAIN_OVERVIEW,
        active: true
      });
      workspace.revealLeaf(leaf);
    }
  }
  async activateSidebarOverview() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_SIDEBAR_OVERVIEW,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async activateReview() {
    const stats = this.flashcardManager.getStats();
    if (stats.due === 0) {
      new import_obsidian16.Notice("No cards due for review!");
      return;
    }
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_REVIEW);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getLeaf(true);
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_REVIEW,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async activateStats() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_STATS);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getLeaf("tab");
      await (leaf == null ? void 0 : leaf.setViewState({
        type: VIEW_TYPE_STATS,
        active: true
      }));
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  refreshOverview() {
    const sidebarLeaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW);
    sidebarLeaves.forEach((leaf) => {
      const view = leaf.view;
      if (view && typeof view.refresh === "function") {
        view.refresh();
      }
    });
    const mainLeaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW);
    mainLeaves.forEach((leaf) => {
      const view = leaf.view;
      if (view && typeof view.refresh === "function") {
        view.refresh();
      }
    });
  }
  setupStatusBar() {
    const statusBarItem = this.addStatusBarItem();
    statusBarItem.addClass("learning-system-status");
    const updateStatus = () => {
      const stats = this.flashcardManager.getStats();
      statusBarItem.setText(`\u{1F0CF} ${stats.due} due`);
      statusBarItem.title = `${stats.due} cards due for review
${stats.new} new cards`;
    };
    updateStatus();
    this.registerInterval(
      window.setInterval(updateStatus, 6e4)
    );
    statusBarItem.addEventListener("click", () => {
      this.activateReview();
    });
  }
  // 辅助方法：检查视图是否激活
  isSidebarOverviewActive() {
    return this.app.workspace.getLeavesOfType(VIEW_TYPE_SIDEBAR_OVERVIEW).length > 0;
  }
  isMainOverviewActive() {
    return this.app.workspace.getLeavesOfType(VIEW_TYPE_MAIN_OVERVIEW).length > 0;
  }
  detectAndSetLanguage() {
    const obsidianLang = this.app.vault.getConfig("language") || localStorage.getItem("language") || "en";
    const detectedLang = obsidianLang.startsWith("zh") ? "zh-CN" : "en";
    if (!this.settings.language || this.settings.language !== detectedLang) {
      this.settings.language = detectedLang;
      this.saveSettings();
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3VpL3ZpZXcvQW5ub3RhdGlvbk1vZGFsLnRzIiwgInNyYy9tYWluLnRzIiwgInNyYy91aS92aWV3L1NldHRpbmdzVGFiLnRzIiwgInNyYy91aS9zdHlsZS9zaWRlYmFyU3R5bGUudHMiLCAic3JjL3VpL3N0eWxlL3Jldmlld1N0eWxlLnRzIiwgInNyYy9pMThuL3RyYW5zbGF0aW9ucy50cyIsICJzcmMvY29yZS9RdWlja0ZsYXNoY2FyZENyZWF0b3IudHMiLCAic3JjL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldy50cyIsICJzcmMvdWkvc3RhdHMvVmlld1N0YXRlLnRzIiwgInNyYy91aS9jb21wb25lbnRzL1Rvb2xiYXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvQmF0Y2hBY3Rpb25zLnRzIiwgInNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRDYXJkLnRzIiwgInNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzIiwgInNyYy91aS9jb21wb25lbnRzL0Fubm90YXRpb25FZGl0b3IudHMiLCAic3JjL3VpL3NlcnZpY2Uvc2lkZU92ZXJ2aWV3U2VydmljZS50cyIsICJzcmMvdWkvY29tcG9uZW50cy9tb2RhbHMvTWFudWFsRmxhc2hjYXJkTW9kYWwudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvbW9kYWxzL0VkaXRGbGFzaGNhcmRNb2RhbC50cyIsICJzcmMvdWkvY29tcG9uZW50cy9Db250ZXh0TWVudUJ1aWxkZXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvbW9kYWxzL0JhdGNoQ3JlYXRlTW9kYWwudHMiLCAic3JjL2NvcmUvVW5sb2NrU3lzdGVtLnRzIiwgInNyYy91aS92aWV3L1Jldmlld1ZpZXcudHMiLCAic3JjL2NvcmUvQ2FyZFNjaGVkdWxlci50cyIsICJzcmMvdWkvY29tcG9uZW50cy9tb2RhbHMvRmxhc2hjYXJkRWRpdE1vZGFsLnRzIiwgInNyYy91aS9zdGF0cy9yZXZpZXdTdGF0ZU1hbmFnZXIudHMiLCAic3JjL3VpL2NvbXBvbmVudHMvVGFibGVSZW5kZXJlci50cyIsICJzcmMvdWkvY29tcG9uZW50cy9yZXZpZXdDYXJkUmVuZGVyLnRzIiwgInNyYy91aS92aWV3L1N0YXRzVmlldy50cyIsICJzcmMvY29yZS9BbmFseXRpY3NFbmdpbmUudHMiLCAic3JjL2NvcmUvRGF0YU1hbmFnZXIudHMiLCAic3JjL2NvcmUvRXh0cmFjdGlvbkVuZ2luZS50cyIsICJzcmMvY29yZS9Bbm5vdGF0aW9uTWFuYWdlci50cyIsICJzcmMvY29yZS9GbGFzaGNhcmRNYW5hZ2VyLnRzIiwgInNyYy91aS92aWV3L1JlY2VudGx5RGVsZXRlZFZpZXcudHMiLCAic3JjL3VpL3N0eWxlL3JlY2VudGx5RGVsZXRlZFN0eWxlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBhbm5vdGF0aW9uTW9kYWwudHNcbmltcG9ydCB7IEFwcCwgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvQW5ub3RhdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi8uLi9jb3JlL0RhdGFNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBjb250ZW50VW5pdDogQ29udGVudFVuaXQ7XG4gIHByaXZhdGUgZXhpc3RpbmdBbm5vdGF0aW9uPzogQW5ub3RhdGlvbjtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uVGV4dDogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgYmFkZ2VUZXh0OiBzdHJpbmcgPSAnJztcbiAgcHJpdmF0ZSBiYWRnZUNvbG9yOiBzdHJpbmcgPSAnIzVCOUJENSc7XG4gIHByaXZhdGUgb25TYXZlOiAoYW5ub3RhdGlvbjogQW5ub3RhdGlvbikgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sXG4gICAgY29udGVudFVuaXQ6IENvbnRlbnRVbml0LFxuICAgIG9uU2F2ZTogKGFubm90YXRpb246IEFubm90YXRpb24pID0+IHZvaWRcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLmNvbnRlbnRVbml0ID0gY29udGVudFVuaXQ7XG4gICAgdGhpcy5vblNhdmUgPSBvblNhdmU7XG5cbiAgICAvLyBcdTUyQTBcdThGN0RcdTczQjBcdTY3MDlcdTYyNzlcdTZDRThcbiAgICB0aGlzLmV4aXN0aW5nQW5ub3RhdGlvbiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKFxuICAgICAgY29udGVudFVuaXQuaWRcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uKSB7XG4gICAgICB0aGlzLmFubm90YXRpb25UZXh0ID0gdGhpcy5leGlzdGluZ0Fubm90YXRpb24uY29udGVudDtcbiAgICAgIGlmICh0aGlzLmV4aXN0aW5nQW5ub3RhdGlvbi5iYWRnZSkge1xuICAgICAgICB0aGlzLmJhZGdlVGV4dCA9IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmJhZGdlLnRleHQ7XG4gICAgICAgIHRoaXMuYmFkZ2VDb2xvciA9IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmJhZGdlLmNvbG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2Fubm90YXRpb24tbW9kYWwnKTtcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyBcbiAgICAgIHRleHQ6IHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uID8gJ0VkaXQgQW5ub3RhdGlvbicgOiAnQWRkIEFubm90YXRpb24nIFxuICAgIH0pO1xuXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU1MzlGXHU2NTg3XHU1MTg1XHU1QkI5XG4gICAgY29uc3QgY29udGVudFByZXZpZXcgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYW5ub3RhdGlvbi1jb250ZW50LXByZXZpZXcnIH0pO1xuICAgIGNvbnRlbnRQcmV2aWV3LmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NvbnRlbnQ6JyB9KTtcbiAgICBjb250ZW50UHJldmlldy5jcmVhdGVFbCgnYmxvY2txdW90ZScsIHsgdGV4dDogdGhpcy5jb250ZW50VW5pdC5jb250ZW50IH0pO1xuXG4gICAgLy8gXHU2Mjc5XHU2Q0U4XHU2NTg3XHU2NzJDXHU1MzNBXHU1N0RGXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoJ0Fubm90YXRpb24nKVxuICAgICAgLnNldERlc2MoJ0FkZCB5b3VyIG5vdGVzIG9yIGNvbW1lbnRzIGFib3V0IHRoaXMgY29udGVudCcpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHlvdXIgYW5ub3RhdGlvbiBoZXJlLi4uJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5hbm5vdGF0aW9uVGV4dClcbiAgICAgICAgICAub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9uVGV4dCA9IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSA2O1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcblxuICAgIC8vIFx1ODlEMlx1NjgwN1x1OEJCRVx1N0Y2RVxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdCYWRnZSAoT3B0aW9uYWwpJyB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgIC5zZXROYW1lKCdCYWRnZSB0ZXh0JylcbiAgICAgIC5zZXREZXNjKCdTaG9ydCB0ZXh0IHRvIGRpc3BsYXkgYXMgYSBiYWRnZSAoZS5nLiwgXHUyMDFDSW1wb3J0YW50XHUyMDFELCBcdTIwMUNUbyBSZXZpZXdcdTIwMURcIiknKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdCYWRnZSB0ZXh0JylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5iYWRnZVRleHQpXG4gICAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmFkZ2VUZXh0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhZGdlUHJldmlldygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoJ0JhZGdlIGNvbG9yJylcbiAgICAgIC5zZXREZXNjKCdDaG9vc2UgYSBjb2xvciBmb3IgdGhlIGJhZGdlJylcbiAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG4gICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgLmFkZE9wdGlvbignIzVCOUJENScsICdcdUQ4M0RcdUREMzUgQmx1ZScpXG4gICAgICAgICAgLmFkZE9wdGlvbignIzcwQUQ0NycsICdcdUQ4M0RcdURGRTIgR3JlZW4nKVxuICAgICAgICAgIC5hZGRPcHRpb24oJyNGRkMwMDAnLCAnXHVEODNEXHVERkUxIFllbGxvdycpXG4gICAgICAgICAgLmFkZE9wdGlvbignI0ZGNkI2QicsICdcdUQ4M0RcdUREMzQgUmVkJylcbiAgICAgICAgICAuYWRkT3B0aW9uKCcjQzc4QkZGJywgJ1x1RDgzRFx1REZFMyBQdXJwbGUnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJyNGRjlGNDMnLCAnXHVEODNEXHVERkUwIE9yYW5nZScpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuYmFkZ2VDb2xvcilcbiAgICAgICAgICAub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5iYWRnZUNvbG9yID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhZGdlUHJldmlldygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAvLyBcdTg5RDJcdTY4MDdcdTk4ODRcdTg5QzhcbiAgICBjb25zdCBiYWRnZVByZXZpZXcgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnYmFkZ2UtcHJldmlldy1jb250YWluZXInIH0pO1xuICAgIGJhZGdlUHJldmlldy5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogJ1ByZXZpZXc6ICcsIGNsczogJ3ByZXZpZXctbGFiZWwnIH0pO1xuICAgIGNvbnN0IGJhZGdlRWwgPSBiYWRnZVByZXZpZXcuY3JlYXRlRWwoJ3NwYW4nLCB7IGNsczogJ2JhZGdlLXByZXZpZXcnIH0pO1xuICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwgPSBiYWRnZUVsO1xuICAgIHRoaXMudXBkYXRlQmFkZ2VQcmV2aWV3KCk7XG5cbiAgICAvLyBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cbiAgICAvLyBcdTUyMjBcdTk2NjRcdTYzMDlcdTk0QUVcdUZGMDhcdTU5ODJcdTY3OUNcdTY2MkZcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICBpZiAodGhpcy5leGlzdGluZ0Fubm90YXRpb24pIHtcbiAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgICAgdGV4dDogJ0RlbGV0ZScsXG4gICAgICAgIGNsczogJ21vZC13YXJuaW5nJ1xuICAgICAgfSk7XG4gICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlQW5ub3RhdGlvbigpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnIH0pO1xuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNhdmVCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAnU2F2ZScsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnNhdmVBbm5vdGF0aW9uKCk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTY4MzdcdTVGMEZcbiAgICB0aGlzLmFkZFN0eWxlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBiYWRnZVByZXZpZXdFbDogSFRNTEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB1cGRhdGVCYWRnZVByZXZpZXcoKSB7XG4gICAgaWYgKCF0aGlzLmJhZGdlUHJldmlld0VsKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5iYWRnZVRleHQpIHtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwudGV4dENvbnRlbnQgPSB0aGlzLmJhZGdlVGV4dDtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWRnZUNvbG9yO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYmFkZ2VQcmV2aWV3RWwudGV4dENvbnRlbnQgPSAnTm8gYmFkZ2UnO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgdGhpcy5iYWRnZVByZXZpZXdFbC5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzYXZlQW5ub3RhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuYW5ub3RhdGlvblRleHQudHJpbSgpKSB7XG4gICAgICBuZXcgTm90aWNlKCdQbGVhc2UgZW50ZXIgYW5ub3RhdGlvbiB0ZXh0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBhbm5vdGF0aW9uOiBBbm5vdGF0aW9uO1xuXG4gICAgICBpZiAodGhpcy5leGlzdGluZ0Fubm90YXRpb24pIHtcbiAgICAgICAgLy8gXHU2NkY0XHU2NUIwXHU3M0IwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLnVwZGF0ZUFubm90YXRpb24oXG4gICAgICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb24uaWQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29udGVudDogdGhpcy5hbm5vdGF0aW9uVGV4dCxcbiAgICAgICAgICAgIGJhZGdlOiB0aGlzLmJhZGdlVGV4dCA/IHtcbiAgICAgICAgICAgICAgdGV4dDogdGhpcy5iYWRnZVRleHQsXG4gICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmJhZGdlQ29sb3JcbiAgICAgICAgICAgIH0gOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRBbm5vdGF0aW9uKFxuICAgICAgICAgIHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uLmlkXG4gICAgICAgICkhO1xuICAgICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIHVwZGF0ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NjVCMFx1NjI3OVx1NkNFOFxuICAgICAgICBhbm5vdGF0aW9uID0gYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuYWRkQ29udGVudEFubm90YXRpb24oXG4gICAgICAgICAgdGhpcy5jb250ZW50VW5pdC5pZCxcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25UZXh0LFxuICAgICAgICAgIHRoaXMuYmFkZ2VUZXh0ID8ge1xuICAgICAgICAgICAgdGV4dDogdGhpcy5iYWRnZVRleHQsXG4gICAgICAgICAgICBjb2xvcjogdGhpcy5iYWRnZUNvbG9yXG4gICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICApO1xuICAgICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGFkZGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub25TYXZlKGFubm90YXRpb24pO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBzYXZpbmcgYW5ub3RhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlQW5ub3RhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuZXhpc3RpbmdBbm5vdGF0aW9uKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbihcbiAgICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb24uaWRcbiAgICAgICk7XG4gICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGRlbGV0ZWQnKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMub25TYXZlKG51bGwgYXMgYW55KTsgLy8gXHU5MDFBXHU3N0U1XHU1MjIwXHU5NjY0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGFubm90YXRpb246JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnRXJyb3IgZGVsZXRpbmcgYW5ub3RhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBgXG4gICAgICAuYW5ub3RhdGlvbi1tb2RhbCB7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbm5vdGF0aW9uLWNvbnRlbnQtcHJldmlldyB7XG4gICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIH1cblxuICAgICAgLmFubm90YXRpb24tY29udGVudC1wcmV2aWV3IGgzIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICAuYW5ub3RhdGlvbi1jb250ZW50LXByZXZpZXcgYmxvY2txdW90ZSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC5iYWRnZS1wcmV2aWV3LWNvbnRhaW5lciB7XG4gICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIH1cblxuICAgICAgLnByZXZpZXctbGFiZWwge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgIH1cblxuICAgICAgLmJhZGdlLXByZXZpZXcge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLm1vZGFsLWJ1dHRvbi1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5tb2RhbC1idXR0b24tY29udGFpbmVyIGJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICBgO1xuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBcdTY1ODdcdTRFRjZcdTYyNzlcdTZDRThcdTZBMjFcdTYwMDFcdTY4NDZcbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVBbm5vdGF0aW9uTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgZmlsZVBhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBleGlzdGluZ0Fubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSBhbm5vdGF0aW9uVGV4dDogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgb25TYXZlOiAoKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbixcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIG9uU2F2ZTogKCkgPT4gdm9pZFxuICApIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMuZmlsZVBhdGggPSBmaWxlUGF0aDtcbiAgICB0aGlzLm9uU2F2ZSA9IG9uU2F2ZTtcblxuICAgIC8vIFx1NTJBMFx1OEY3RFx1NzNCMFx1NjcwOVx1NjI3OVx1NkNFOFxuICAgIHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9ucyA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldEZpbGVBbm5vdGF0aW9ucyhmaWxlUGF0aCk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0ZpbGUgQW5ub3RhdGlvbnMnIH0pO1xuXG4gICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLmZpbGVQYXRoLnNwbGl0KCcvJykucG9wKCk/LnJlcGxhY2UoJy5tZCcsICcnKSB8fCB0aGlzLmZpbGVQYXRoO1xuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiBgRmlsZTogJHtmaWxlTmFtZX1gLFxuICAgICAgY2xzOiAnZmlsZS1uYW1lJ1xuICAgIH0pO1xuXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU3M0IwXHU2NzA5XHU2Mjc5XHU2Q0U4XG4gICAgaWYgKHRoaXMuZXhpc3RpbmdBbm5vdGF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBleGlzdGluZ1NlY3Rpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnZXhpc3RpbmctYW5ub3RhdGlvbnMnIH0pO1xuICAgICAgZXhpc3RpbmdTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0V4aXN0aW5nIEFubm90YXRpb25zJyB9KTtcblxuICAgICAgdGhpcy5leGlzdGluZ0Fubm90YXRpb25zLmZvckVhY2goYW5ub3RhdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25DYXJkID0gZXhpc3RpbmdTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2Fubm90YXRpb24tY2FyZCcgfSk7XG4gICAgICAgIGFubm90YXRpb25DYXJkLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBhbm5vdGF0aW9uLmNvbnRlbnQgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYW5ub3RhdGlvbi5tZXRhZGF0YS5jcmVhdGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgICAgICBhbm5vdGF0aW9uQ2FyZC5jcmVhdGVFbCgnc21hbGwnLCB7IFxuICAgICAgICAgIHRleHQ6IGBDcmVhdGVkOiAke2RhdGV9YCxcbiAgICAgICAgICBjbHM6ICdhbm5vdGF0aW9uLWRhdGUnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGFubm90YXRpb25DYXJkLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgdGV4dDogJ1x1RDgzRFx1REREMSBEZWxldGUnLFxuICAgICAgICAgIGNsczogJ2RlbGV0ZS1hbm5vdGF0aW9uLWJ0bidcbiAgICAgICAgfSk7XG4gICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUFubm90YXRpb24oYW5ub3RhdGlvbi5pZCk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIHRoaXMub25TYXZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gXHU2NUIwXHU2Mjc5XHU2Q0U4XHU4RjkzXHU1MTY1XG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0FkZCBOZXcgQW5ub3RhdGlvbicgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSgnQW5ub3RhdGlvbicpXG4gICAgICAuc2V0RGVzYygnQWRkIG5vdGVzIGFib3V0IHRoaXMgZmlsZScpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGZpbGUgYW5ub3RhdGlvbi4uLicpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMuYW5ub3RhdGlvblRleHQpXG4gICAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYW5ub3RhdGlvblRleHQgPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRleHQuaW5wdXRFbC5yb3dzID0gNDtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgfSk7XG5cbiAgICAvLyBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG5cbiAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc2F2ZUJ0biA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgIHRleHQ6ICdTYXZlJyxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgc2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZUFubm90YXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2F2ZUFubm90YXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLmFubm90YXRpb25UZXh0LnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIGVudGVyIGFubm90YXRpb24gdGV4dCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5hZGRGaWxlQW5ub3RhdGlvbihcbiAgICAgICAgdGhpcy5maWxlUGF0aCxcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uVGV4dFxuICAgICAgKTtcbiAgICAgIG5ldyBOb3RpY2UoJ0ZpbGUgYW5ub3RhdGlvbiBhZGRlZCcpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy5vblNhdmUoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGZpbGUgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBzYXZpbmcgZmlsZSBhbm5vdGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVBbm5vdGF0aW9uKGlkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZGVsZXRlQW5ub3RhdGlvbihpZCk7XG4gICAgICBuZXcgTm90aWNlKCdBbm5vdGF0aW9uIGRlbGV0ZWQnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgYW5ub3RhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdFcnJvciBkZWxldGluZyBhbm5vdGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBtYWluLnRzXG5pbXBvcnQgeyBQbHVnaW4sIFRGaWxlLCBXb3Jrc3BhY2VMZWFmLCBOb3RpY2UsIE1hcmtkb3duVmlldyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFNldHRpbmdzVGFiIH0gZnJvbSAnLi91aS92aWV3L1NldHRpbmdzVGFiJztcbmltcG9ydCB7IFNpZGViYXJPdmVydmlld1ZpZXcsIFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXLCBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyAgfSBmcm9tICcuL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldyc7XG5pbXBvcnQgeyBSZXZpZXdWaWV3LCBWSUVXX1RZUEVfUkVWSUVXIH0gZnJvbSAnLi91aS92aWV3L1Jldmlld1ZpZXcnO1xuaW1wb3J0IHsgU3RhdHNWaWV3LCBWSUVXX1RZUEVfU1RBVFMgfSBmcm9tICcuL3VpL3ZpZXcvU3RhdHNWaWV3JztcbmltcG9ydCB7IERhdGFNYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEV4dHJhY3Rpb25FbmdpbmUgfSBmcm9tICcuL2NvcmUvRXh0cmFjdGlvbkVuZ2luZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uTWFuYWdlciB9IGZyb20gJy4vY29yZS9Bbm5vdGF0aW9uTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmRNYW5hZ2VyIH0gZnJvbSAnLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgQW5hbHl0aWNzRW5naW5lLEN5Y2xlSW5mbyB9IGZyb20gJy4vY29yZS9BbmFseXRpY3NFbmdpbmUnO1xuaW1wb3J0IHsgVW5sb2NrU3lzdGVtIH0gZnJvbSAnLi9jb3JlL1VubG9ja1N5c3RlbSc7XG5pbXBvcnQgeyBWaWV3U3RhdGUgfSBmcm9tICcuL3VpL3N0YXRzL1ZpZXdTdGF0ZSc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi9pMThuL3RyYW5zbGF0aW9ucydcbmltcG9ydCB7IFJlY2VudGx5RGVsZXRlZE1vZGFsIH0gZnJvbSAnLi91aS92aWV3L1JlY2VudGx5RGVsZXRlZFZpZXcnO1xuXG5cbmludGVyZmFjZSBMZWFybmluZ1N5c3RlbVNldHRpbmdzIHtcbiAgZXh0cmFjdGlvbkVuYWJsZWQ6IGJvb2xlYW47XG4gIGF1dG9TY2FuOiBib29sZWFuO1xuICBkZWZhdWx0RGVjazogc3RyaW5nO1xuICBjeWNsZURhdGE/OiBDeWNsZUluZm87XG4gIGxhbmd1YWdlPzogJ2VuJyB8ICd6aC1DTic7IFxufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBMZWFybmluZ1N5c3RlbVNldHRpbmdzID0ge1xuICBleHRyYWN0aW9uRW5hYmxlZDogdHJ1ZSxcbiAgYXV0b1NjYW46IGZhbHNlLFxuICBkZWZhdWx0RGVjazogJ0RlZmF1bHQnLFxuICBjeWNsZURhdGE6IHVuZGVmaW5lZFxuICAgIC8vIGxhbmd1YWdlOiAnZW4nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZWFybmluZ1N5c3RlbVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBMZWFybmluZ1N5c3RlbVNldHRpbmdzO1xuICBkYXRhTWFuYWdlcjogRGF0YU1hbmFnZXI7XG4gIGV4dHJhY3Rpb25FbmdpbmU6IEV4dHJhY3Rpb25FbmdpbmU7XG4gIGFubm90YXRpb25NYW5hZ2VyOiBBbm5vdGF0aW9uTWFuYWdlcjtcbiAgZmxhc2hjYXJkTWFuYWdlcjogRmxhc2hjYXJkTWFuYWdlcjtcbiAgYW5hbHl0aWNzRW5naW5lOiBBbmFseXRpY3NFbmdpbmU7XG4gIHVubG9ja1N5c3RlbTogVW5sb2NrU3lzdGVtO1xuXG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIExlYXJuaW5nIFN5c3RlbSBQbHVnaW4nKTtcbiAgXG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICB0aGlzLmRldGVjdEFuZFNldExhbmd1YWdlKCk7XG4gIFxuICAgIC8vIFx1RDgzRFx1REQyNSAxLiBcdTY3MDBcdTRGMThcdTUxNDg6XHU1MjFEXHU1OUNCXHU1MzE2XHU4OUUzXHU5NTAxXHU3Q0ZCXHU3RURGXG4gICAgdGhpcy51bmxvY2tTeXN0ZW0gPSBuZXcgVW5sb2NrU3lzdGVtKHRoaXMuYXBwLCB0aGlzKTtcbiAgICBhd2FpdCB0aGlzLnVubG9ja1N5c3RlbS5pbml0aWFsaXplKCk7XG4gIFxuICAgIC8vIDIuIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjgzOFx1NUZDM1x1NkEyMVx1NTc1N1xuICAgIHRoaXMuZGF0YU1hbmFnZXIgPSBuZXcgRGF0YU1hbmFnZXIodGhpcy5hcHAsIHRoaXMpO1xuICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICBcbiAgICB0aGlzLmFubm90YXRpb25NYW5hZ2VyID0gbmV3IEFubm90YXRpb25NYW5hZ2VyKHRoaXMuYXBwLCB0aGlzKTtcbiAgICBhd2FpdCB0aGlzLmFubm90YXRpb25NYW5hZ2VyLmluaXRpYWxpemUoKTtcbiAgXG4gICAgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyID0gbmV3IEZsYXNoY2FyZE1hbmFnZXIoXG4gICAgICB0aGlzLmFwcCxcbiAgICAgIHRoaXMuZGF0YU1hbmFnZXIsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLmZsYXNoY2FyZE1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICBcbiAgICB0aGlzLmV4dHJhY3Rpb25FbmdpbmUgPSBuZXcgRXh0cmFjdGlvbkVuZ2luZShcbiAgICAgIHRoaXMuYXBwLFxuICAgICAgdGhpcy5kYXRhTWFuYWdlcixcbiAgICAgIHRoaXMuZmxhc2hjYXJkTWFuYWdlcixcbiAgICAgIHRoaXNcbiAgICApO1xuICBcbiAgICAvLyAzLiBcdTZDRThcdTUxOENcdTg5QzZcdTU2RkVcbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhcbiAgICAgIFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXLFxuICAgICAgKGxlYWYpID0+IG5ldyBTaWRlYmFyT3ZlcnZpZXdWaWV3KGxlYWYsIHRoaXMsIGZhbHNlKVxuICAgICk7XG4gICAgXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgIChsZWFmKSA9PiBuZXcgU2lkZWJhck92ZXJ2aWV3VmlldyhsZWFmLCB0aGlzLCB0cnVlKVxuICAgICk7XG4gIFxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxuICAgICAgVklFV19UWVBFX1JFVklFVyxcbiAgICAgIChsZWFmKSA9PiBuZXcgUmV2aWV3VmlldyhsZWFmLCB0aGlzKVxuICAgICk7XG4gIFxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxuICAgICAgVklFV19UWVBFX1NUQVRTLFxuICAgICAgKGxlYWYpID0+IG5ldyBTdGF0c1ZpZXcobGVhZiwgdGhpcylcbiAgICApO1xuXG5cbnRoaXMucmVnaXN0ZXJFdmVudChcbiAgdGhpcy5hcHAudmF1bHQub24oJ2RlbGV0ZScsIGFzeW5jIChmaWxlKSA9PiB7XG4gICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLmV4dGVuc2lvbiA9PT0gJ21kJykge1xuICAgICAgY29uc3Qgc3RhdHMgPSBWaWV3U3RhdGUuZ2V0RmlsZURlbGV0ZVN0YXRzKGZpbGUucGF0aCwgdGhpcyk7XG4gICAgICBcbiAgICAgIGlmIChzdGF0cy5ub3RlcyA+IDAgfHwgc3RhdHMuY2FyZHMgPiAwKSB7XG4gICAgICAgIC8vIFx1MjcwNSBcdTc2RjRcdTYzQTVcdTUyMjBcdTk2NjRcdUZGMENcdTRFMERcdTVGMzlcdTdBOTdcbiAgICAgICAgY29uc3QgdW5pdHMgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpXG4gICAgICAgICAgLmZpbHRlcih1ID0+IHUuc291cmNlLmZpbGUgPT09IGZpbGUucGF0aCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IHVuaXQgb2YgdW5pdHMpIHtcbiAgICAgICAgICAvLyBcdTUyMjBcdTk2NjRcdTUxNzNcdTgwNTRcdTc2ODRcdTk1RUFcdTUzNjFcbiAgICAgICAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiB1bml0LmZsYXNoY2FyZElkcykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZElkLCAnZmlsZS1kZWxldGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFx1NTIyMFx1OTY2NFx1N0IxNFx1OEJCMFxuICAgICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuZGVsZXRlQ29udGVudFVuaXQodW5pdC5pZCwgJ2ZpbGUtZGVsZXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdTdCODBcdTc3RURcdTYzRDBcdTc5M0FcbiAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZmlsZURlbGV0ZWRTaW1wbGUnLCB0aGlzLnNldHRpbmdzLmxhbmd1YWdlLCB7XG4gICAgICAgICAgbm90ZXM6IHN0YXRzLm5vdGVzLFxuICAgICAgICAgIGNhcmRzOiBzdGF0cy5jYXJkc1xuICAgICAgICB9KSwgMzAwMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH0pXG4pO1xuICBcbiAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG4gICAgXG4gICAgLy8gXHVEODNEXHVERDI1IDQuIFx1NzNCMFx1NTcyOFx1NjI0RFx1NkNFOFx1NTE4Q1x1NTQ3RFx1NEVFNChcdTc4NkVcdTRGREQgdW5sb2NrU3lzdGVtIFx1NURGMlx1NUMzMVx1N0VFQSlcbiAgICB0aGlzLmFkZENvbW1hbmRzKCk7XG4gIC8vIFx1RDgzQ1x1REQ5NSA0LjUgXHU2Q0U4XHU1MThDXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XG50aGlzLnJlZ2lzdGVyRXZlbnQoXG4gIHRoaXMuYXBwLndvcmtzcGFjZS5vbignZWRpdG9yLW1lbnUnLCAobWVudSwgZWRpdG9yLCB2aWV3KSA9PiB7XG4gICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBNYXJrZG93blZpZXcgJiYgdmlldy5maWxlKSB7XG4gICAgICB0aGlzLmV4dHJhY3Rpb25FbmdpbmUucmVnaXN0ZXJDb250ZXh0TWVudShtZW51LCBlZGl0b3IsIHZpZXcuZmlsZSk7XG4gICAgfVxuICB9KVxuKTtcbiAgICAvLyA1LiBSaWJib24gXHU1NkZFXHU2ODA3KFx1NUUyNlx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNSlcbiAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2xheW91dC1saXN0JywgJ09wZW4gTGVhcm5pbmcgT3ZlcnZpZXcoU2lkZWJhciknLCAoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRlU2lkZWJhck92ZXJ2aWV3KCk7XG4gICAgfSk7XG4gIFxuICAgIHRoaXMuYWRkUmliYm9uSWNvbignbGF5ZXJzJywgJ1N0YXJ0IFJldmlldycsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgncmV2aWV3LXBhZ2UnLCAnU3RhcnQgUmV2aWV3JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5hY3RpdmF0ZVJldmlldygpO1xuICAgIH0pO1xuICBcbiAgICAvLyA2LiBcdTcyQjZcdTYwMDFcdTY4MEZcbiAgICB0aGlzLnNldHVwU3RhdHVzQmFyKCk7XG4gICAgXG4gICAgdGhpcy5hbmFseXRpY3NFbmdpbmUgPSBuZXcgQW5hbHl0aWNzRW5naW5lKHRoaXMpO1xuICBcbiAgICBjb25zb2xlLmxvZygnTGVhcm5pbmcgU3lzdGVtIFBsdWdpbiBsb2FkZWQnKTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdVbmxvYWRpbmcgTGVhcm5pbmcgU3lzdGVtIFBsdWdpbicpO1xuICAgIFxuICAgIC8vIFx1NTNFQVx1NTcyOFx1NjNEMlx1NEVGNlx1NUI4Q1x1NTE2OFx1NTM3OFx1OEY3RFx1NjVGNlx1NjI0RFx1NkUwNVx1NzQwNlx1NjI0MFx1NjcwOVx1ODlDNlx1NTZGRVxuICAgIC8vIFx1NkNFOFx1NjEwRlx1RkYxQVx1OEZEOVx1OTFDQ1x1NEUwRFx1ODk4MVx1NTIyMFx1OTY2NFx1NzI3OVx1NUI5QVx1ODlDNlx1NTZGRVx1N0M3Qlx1NTc4Qlx1RkYwQ1x1OEJBOSBPYnNpZGlhbiBcdTgxRUFcdTVERjFcdTdCQTFcdTc0MDZcbiAgICAvLyBcdTUzRUFcdTZFMDVcdTc0MDZcdTYzRDJcdTRFRjZcdTdFQTdcdTUyMkJcdTc2ODRcdThENDRcdTZFOTBcbiAgICBcbiAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXJuaW5nLW92ZXJ2aWV3LXN0eWxlcycpO1xuICAgIGlmIChzdHlsZUVsKSB7XG4gICAgICBzdHlsZUVsLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkYXRhKTtcbiAgICBcbiAgICB0aGlzLmRldGVjdEFuZFNldExhbmd1YWdlKCk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQ29tbWFuZHMoKSB7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnc2Nhbi1jdXJyZW50LWZpbGUnLFxuICAgICAgbmFtZTogJ1NjYW4gY3VycmVudCBmaWxlIGZvciBjb250ZW50JyxcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBcdUQ4M0NcdURGQUYgXHU2NzQzXHU5NjUwXHU2OEMwXHU2N0U1XG4gICAgaWYgKCF0aGlzLnVubG9ja1N5c3RlbS50cnlVc2VGZWF0dXJlKCdzY2FuLWZpbGUnLCAnU2NhbiBDdXJyZW50IEZpbGUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmICghYWN0aXZlRmlsZSkgcmV0dXJuO1xuICAgICAgICBhd2FpdCB0aGlzLmV4dHJhY3Rpb25FbmdpbmUuc2NhbkZpbGUoYWN0aXZlRmlsZSk7XG4gICAgICAgIHRoaXMucmVmcmVzaE92ZXJ2aWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdzY2FuLXZhdWx0JyxcbiAgICAgIG5hbWU6ICdTY2FuIGVudGlyZSB2YXVsdCcsXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnc2Nhbi12YXVsdCcsICdTY2FuIEVudGlyZSBWYXVsdCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmV4dHJhY3Rpb25FbmdpbmUuc2NhblZhdWx0KCk7XG4gICAgICAgIHRoaXMucmVmcmVzaE92ZXJ2aWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdvcGVuLW92ZXJ2aWV3JyxcbiAgICAgIG5hbWU6ICdPcGVuIExlYXJuaW5nIE92ZXJ2aWV3KFNpZGViYXIpJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVTaWRlYmFyT3ZlcnZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ29wZW4tbWFpbi1vdmVydmlldycsXG4gICAgICBuYW1lOiAnVG9nZ2xlIExlYXJuaW5nIE92ZXJ2aWV3IChNYWluIFZpZXcpJyxcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBcdTY3NDNcdTk2NTBcdTY4QzBcdTY3RTVcbiAgICBpZiAoIXRoaXMudW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ29wZW4tbWFpbi0gb3ZlcnZpZXcnLCAnVG9nZ2xlIExlYXJuaW5nIE92ZXJ2aWV3IChNYWluIFZpZXcpJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMudG9nZ2xlTWFpblZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2FkZC1maWxlLWFubm90YXRpb24nLFxuICAgICAgbmFtZTogJ0FkZCBmaWxlIGFubm90YXRpb24nLFxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnYW5ub3RhdGlvbicsICdGaWxlIEFubm90YXRpb24nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmICghYWN0aXZlRmlsZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHsgRmlsZUFubm90YXRpb25Nb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuL3VpL3ZpZXcvQW5ub3RhdGlvbk1vZGFsJyk7XG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IEZpbGVBbm5vdGF0aW9uTW9kYWwoXG4gICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBhY3RpdmVGaWxlLnBhdGgsXG4gICAgICAgICAgKCkgPT4gdGhpcy5yZWZyZXNoT3ZlcnZpZXcoKVxuICAgICAgICApO1xuICAgICAgICBtb2RhbC5vcGVuKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdzdGFydC1yZXZpZXcnLFxuICAgICAgbmFtZTogJ1N0YXJ0IGZsYXNoY2FyZCByZXZpZXcnLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBcdTY3NDNcdTk2NTBcdTY4QzBcdTY3RTVcbiAgICBpZiAoIXRoaXMudW5sb2NrU3lzdGVtLnRyeVVzZUZlYXR1cmUoJ3Jldmlldy1wYWdlJywgJ0ZsYXNoY2FyZCBSZXZpZXcnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmF0ZVJldmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnc2hvdy1zdGF0cycsXG4gICAgICBuYW1lOiAnU2hvdyBmbGFzaGNhcmQgc3RhdGlzdGljcycsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgLy8gXHVEODNDXHVERkFGIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICAgIGlmICghdGhpcy51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnc3RhdHMtcGFnZScsICdTdGF0aXN0aWNzJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZVN0YXRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnc2hvdy1yZWNlbnRseS1kZWxldGVkJyxcbiAgICAgIG5hbWU6ICdTaG93IHJlY2VudGx5IGRlbGV0ZWQgaXRlbXMnLFxuICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHsgXG4gICAgICAgIHRoaXMub3BlblJlY2VudGx5RGVsZXRlZE1vZGFsKCk7ICBcbiAgICAgIH1cbiAgICBcbiAgICB9KTtcbiAgICBcbiAgfVxuICBhc3luYyBvcGVuUmVjZW50bHlEZWxldGVkTW9kYWwoKSB7XG4gICAgY29uc3QgbW9kYWwgPSBuZXcgUmVjZW50bHlEZWxldGVkTW9kYWwodGhpcyk7XG4gICAgbW9kYWwub3BlbigpO1xuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVNYWluVmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVERjJcdTdFQ0ZcdTY3MDlcdTRFM0JcdTc1NENcdTk3NjJcdTg5QzZcdTU2RkVcdTYyNTNcdTVGMDBcbiAgICBsZXQgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpWzBdO1xuICAgIFxuICAgIGlmICghbGVhZikge1xuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU2ODA3XHU3QjdFXHU5ODc1XG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuICAgICAgYXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gIH1cblxuICBhc3luYyB0b2dnbGVNYWluVmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgY29uc3QgZXhpc3RpbmdMZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXKTtcbiAgICBcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTc2ODRcdTk4NzVcdTk3NjJcdTY2MkZcdTU0MjZcdTY2MkZcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcbiAgICBjb25zdCBhY3RpdmVMZWFmID0gd29ya3NwYWNlLmFjdGl2ZUxlYWY7XG4gICAgY29uc3QgaXNNYWluT3ZlcnZpZXdBY3RpdmUgPSBhY3RpdmVMZWFmICYmIFxuICAgICAgYWN0aXZlTGVhZi52aWV3LmdldFZpZXdUeXBlKCkgPT09IFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXO1xuICAgIFxuICAgIGlmIChleGlzdGluZ0xlYXZlcy5sZW5ndGggPiAwICYmIGlzTWFpbk92ZXJ2aWV3QWN0aXZlKSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcdTZCNjNcdTU3MjhcdTY2M0VcdTc5M0FcdTRFMTRcdTY2MkZcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTk4NzVcdTk3NjJcdUZGMENcdTUyMTlcdTUxNzNcdTk1RURcdTVCODNcbiAgICAgIGV4aXN0aW5nTGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICAgIGxlYWYuZGV0YWNoKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV4aXN0aW5nTGVhdmVzLmxlbmd0aCA+IDAgJiYgIWlzTWFpbk92ZXJ2aWV3QWN0aXZlKSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTRFM0JcdTc1NENcdTk3NjJcdTZBMjFcdTVGMEZcdTVCNThcdTU3MjhcdTRGNDZcdTRFMERcdTY2MkZcdTVGNTNcdTUyNERcdTZGQzBcdTZEM0JcdTk4NzVcdTk3NjJcdUZGMENcdTUyMTlcdTZGQzBcdTZEM0JcdTVCODNcbiAgICAgIHdvcmtzcGFjZS5yZXZlYWxMZWFmKGV4aXN0aW5nTGVhdmVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1OTgyXHU2NzlDXHU0RTNCXHU3NTRDXHU5NzYyXHU2QTIxXHU1RjBGXHU0RTBEXHU1QjU4XHU1NzI4XHVGRjBDXHU1MjE5XHU1MjFCXHU1RUZBXHU1RTc2XHU2NjNFXHU3OTNBXG4gICAgICBjb25zdCBsZWFmID0gd29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xuICAgICAgYXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVNpZGViYXJPdmVydmlldygpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgXG4gICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXKTtcblxuICAgIGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1NzI4XHU1M0YzXHU0RkE3XHU4RkI5XHU2ODBGXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU4OUM2XHU1NkZFXG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgICBhd2FpdCBsZWFmPy5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVyxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGVhZikge1xuICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVSZXZpZXcoKSB7XG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLmZsYXNoY2FyZE1hbmFnZXIuZ2V0U3RhdHMoKTtcbiAgICBcbiAgICBpZiAoc3RhdHMuZHVlID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKCdObyBjYXJkcyBkdWUgZm9yIHJldmlldyEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG4gICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcbiAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9SRVZJRVcpO1xuXG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICBsZWFmID0gbGVhdmVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWFmID0gd29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG4gICAgICBhd2FpdCBsZWFmPy5zZXRWaWV3U3RhdGUoe1xuICAgICAgICB0eXBlOiBWSUVXX1RZUEVfUkVWSUVXLFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChsZWFmKSB7XG4gICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVN0YXRzKCkge1xuICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcbiAgICBsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NUQVRTKTtcblxuICAgIGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGVhZiA9IGxlYXZlc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcbiAgICAgIGF3YWl0IGxlYWY/LnNldFZpZXdTdGF0ZSh7XG4gICAgICAgIHR5cGU6IFZJRVdfVFlQRV9TVEFUUyxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGVhZikge1xuICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaE92ZXJ2aWV3KCkge1xuICAgIC8vIFx1NTIzN1x1NjVCMFx1NEZBN1x1OEZCOVx1NjgwRlx1ODlDNlx1NTZGRVxuICAgIGNvbnN0IHNpZGViYXJMZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9TSURFQkFSX09WRVJWSUVXKTtcbiAgICBzaWRlYmFyTGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICBjb25zdCB2aWV3ID0gbGVhZi52aWV3IGFzIFNpZGViYXJPdmVydmlld1ZpZXc7XG4gICAgICBpZiAodmlldyAmJiB0eXBlb2Ygdmlldy5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZpZXcucmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTUyMzdcdTY1QjBcdTRFM0JcdTc1NENcdTk3NjJcdTg5QzZcdTU2RkVcbiAgICBjb25zdCBtYWluTGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyk7XG4gICAgbWFpbkxlYXZlcy5mb3JFYWNoKGxlYWYgPT4ge1xuICAgICAgY29uc3QgdmlldyA9IGxlYWYudmlldyBhcyBTaWRlYmFyT3ZlcnZpZXdWaWV3O1xuICAgICAgaWYgKHZpZXcgJiYgdHlwZW9mIHZpZXcucmVmcmVzaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2aWV3LnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBTdGF0dXNCYXIoKSB7XG4gICAgY29uc3Qgc3RhdHVzQmFySXRlbSA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuICAgIHN0YXR1c0Jhckl0ZW0uYWRkQ2xhc3MoJ2xlYXJuaW5nLXN5c3RlbS1zdGF0dXMnKTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVTdGF0dXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0cyA9IHRoaXMuZmxhc2hjYXJkTWFuYWdlci5nZXRTdGF0cygpO1xuICAgICAgc3RhdHVzQmFySXRlbS5zZXRUZXh0KGBcdUQ4M0NcdURDQ0YgJHtzdGF0cy5kdWV9IGR1ZWApO1xuICAgICAgc3RhdHVzQmFySXRlbS50aXRsZSA9IGAke3N0YXRzLmR1ZX0gY2FyZHMgZHVlIGZvciByZXZpZXdcXG4ke3N0YXRzLm5ld30gbmV3IGNhcmRzYDtcbiAgICB9O1xuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU2NkY0XHU2NUIwXG4gICAgdXBkYXRlU3RhdHVzKCk7XG5cbiAgICAvLyBcdTZCQ0ZcdTUyMDZcdTk0OUZcdTY2RjRcdTY1QjBcdTRFMDBcdTZCMjFcbiAgICB0aGlzLnJlZ2lzdGVySW50ZXJ2YWwoXG4gICAgICB3aW5kb3cuc2V0SW50ZXJ2YWwodXBkYXRlU3RhdHVzLCA2MDAwMClcbiAgICApO1xuXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU2MjUzXHU1RjAwXHU1OTBEXHU0RTYwXG4gICAgc3RhdHVzQmFySXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuYWN0aXZhdGVSZXZpZXcoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENVx1RkYxQVx1NjhDMFx1NjdFNVx1ODlDNlx1NTZGRVx1NjYyRlx1NTQyNlx1NkZDMFx1NkQzQlxuICBwdWJsaWMgaXNTaWRlYmFyT3ZlcnZpZXdBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBwdWJsaWMgaXNNYWluT3ZlcnZpZXdBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpLmxlbmd0aCA+IDA7XG4gIH1cbiAgcHJpdmF0ZSBkZXRlY3RBbmRTZXRMYW5ndWFnZSgpIHtcbiAgICAvLyBcdTU5ODJcdTY3OUNcdTVERjJcdTdFQ0ZcdTY3MDlcdThCRURcdThBMDBcdThCQkVcdTdGNkUsXHU1MTQ4XHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU5NzAwXHU4OTgxXHU2NkY0XHU2NUIwXG4gICAgY29uc3Qgb2JzaWRpYW5MYW5nID0gKHRoaXMuYXBwIGFzIGFueSkudmF1bHQuZ2V0Q29uZmlnKCdsYW5ndWFnZScpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYW5ndWFnZScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgJ2VuJztcbiAgICBcbiAgICAvLyBcdTY2MjBcdTVDMDRcdTUyMzBcdTY1MkZcdTYzMDFcdTc2ODRcdThCRURcdThBMDBcbiAgICBjb25zdCBkZXRlY3RlZExhbmc6ICdlbicgfCAnemgtQ04nID0gb2JzaWRpYW5MYW5nLnN0YXJ0c1dpdGgoJ3poJykgPyAnemgtQ04nIDogJ2VuJztcbiAgICBcbiAgICAvLyBcdThCQkVcdTdGNkVcdThCRURcdThBMDAoXHU1OTgyXHU2NzlDXHU2NzJBXHU4QkJFXHU3RjZFXHU2MjE2XHU5NzAwXHU4OTgxXHU2NkY0XHU2NUIwKVxuICAgIGlmICghdGhpcy5zZXR0aW5ncy5sYW5ndWFnZSB8fCB0aGlzLnNldHRpbmdzLmxhbmd1YWdlICE9PSBkZXRlY3RlZExhbmcpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3MubGFuZ3VhZ2UgPSBkZXRlY3RlZExhbmc7XG4gICAgICB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgIH1cbiAgfVxufSIsICIvLyBTZXR0aW5nc1RhYi50c1xuaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0xlYXJuaW5nIFN5c3RlbSBTZXR0aW5ncycgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdFbmFibGUgZXh0cmFjdGlvbicpXG4gICAgICAuc2V0RGVzYygnRW5hYmxlIGF1dG9tYXRpYyBjb250ZW50IGV4dHJhY3Rpb24nKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4dHJhY3Rpb25FbmFibGVkKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5leHRyYWN0aW9uRW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdBdXRvIHNjYW4nKVxuICAgICAgLnNldERlc2MoJ0F1dG9tYXRpY2FsbHkgc2NhbiBmaWxlcyB3aGVuIHRoZXkgYXJlIG9wZW5lZCcpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b1NjYW4pXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TY2FuID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ0RlZmF1bHQgZGVjaycpXG4gICAgICAuc2V0RGVzYygnRGVmYXVsdCBkZWNrIG5hbWUgZm9yIG5ldyBmbGFzaGNhcmRzJylcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdCcpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHREZWNrKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0RGVjayA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICAvLyBcdTU3MjggZGlzcGxheSgpIFx1NjVCOVx1NkNENVx1NEUyRFx1NkRGQlx1NTJBMFxubmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4uc2V0TmFtZSgnTGFuZ3VhZ2UgLyBcdThCRURcdThBMDAnKVxuLnNldERlc2MoJ1NlbGVjdCBpbnRlcmZhY2UgbGFuZ3VhZ2UgLyBcdTkwMDlcdTYyRTlcdTc1NENcdTk3NjJcdThCRURcdThBMDAnKVxuLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG4gIC5hZGRPcHRpb24oJ2VuJywgJ0VuZ2xpc2gnKVxuICAuYWRkT3B0aW9uKCd6aC1DTicsICdcdTdCODBcdTRGNTNcdTRFMkRcdTY1ODcnKVxuICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpXG4gIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSA9IHZhbHVlIGFzICdlbicgfCAnemgtQ04nO1xuICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgIFxuICAgIC8vIFx1NTIzN1x1NjVCMFx1NjI0MFx1NjcwOVx1ODlDNlx1NTZGRVxuICAgIHRoaXMucGx1Z2luLnJlZnJlc2hPdmVydmlldygpO1xuICAgIG5ldyBOb3RpY2UoJ0xhbmd1YWdlIHVwZGF0ZWQuIFNvbWUgY2hhbmdlcyByZXF1aXJlIHJlbG9hZC4gJyk7XG4gIH0pXG4pO1xuICB9XG59IiwgIi8vIHNyYy91aS9zdHlsZXMvU3R5bGVMb2FkZXIudHNcblxuLyoqXG4gKiBcdTY4MzdcdTVGMEZcdTUyQTBcdThGN0RcdTU2NjggLSBcdThEMUZcdThEMjNcdTZDRThcdTUxNjVcdTU0OENcdTdCQTFcdTc0MDYgQ1NTXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHlsZUxvYWRlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgc3R5bGVJZCA9ICdsZWFybmluZy1zaWRlT3ZlcnZpZXctc3R5bGVzJztcbiAgICBwcml2YXRlIHN0YXRpYyBpc0luamVjdGVkID0gZmFsc2U7XG4gIFxuICAgIC8qKlxuICAgICAqIFx1NkNFOFx1NTE2NVx1NjgzN1x1NUYwRlx1NTIzMFx1OTg3NVx1OTc2MlxuICAgICAqL1xuICAgIHN0YXRpYyBpbmplY3QoKTogdm9pZCB7XG4gICAgICBpZiAodGhpcy5pc0luamVjdGVkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3R5bGVJZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbC5pZCA9IHRoaXMuc3R5bGVJZDtcbiAgICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSB0aGlzLmdldFN0eWxlcygpO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgICAgIFxuICAgICAgdGhpcy5pc0luamVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIFx1NzlGQlx1OTY2NFx1NjgzN1x1NUYwRlxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmUoKTogdm9pZCB7XG4gICAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHlsZUlkKTtcbiAgICAgIGlmIChzdHlsZUVsKSB7XG4gICAgICAgIHN0eWxlRWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuaXNJbmplY3RlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgXG4gICAgLyoqXG4gICAgICogXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU2ODM3XHU1RjBGXHVGRjA4XHU0RUNFXHU4RkQ5XHU5MUNDXHU3RURGXHU0RTAwXHU3QkExXHU3NDA2XHVGRjA5XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3R5bGVzKCk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gYFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBDU1MgXHU1M0Q4XHU5MUNGXHU5MTREXHU3RjZFID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5sZWFybmluZy1vdmVydmlldy1jb250YWluZXIge1xuICAgIC0tb3ZlcnZpZXctc2lkZWJhci13aWR0aDogMjUwcHg7XG4gICAgLS1vdmVydmlldy1jYXJkLWdhcDogOHB4O1xuICAgIC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1czogNnB4O1xuICAgIC0tb3ZlcnZpZXctdHJhbnNpdGlvbjogYWxsIDAuMnMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU1MTY4XHU1QzQwXHU1QkI5XHU1NjY4ID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5sZWFybmluZy1vdmVydmlldy1jb250YWluZXIge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEYgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLmxlYXJuaW5nLW92ZXJ2aWV3LWNvbnRhaW5lcltkYXRhLW1vZGU9XCJzaWRlYmFyXCJdIHtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG4gIFxuICAuc2lkZWJhci10b29sYmFyIHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTA7XG4gIH1cbiAgXG4gIC5zaWRlYmFyLWNvbnRlbnQtbGlzdCB7XG4gICAgZmxleDogMTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIHBhZGRpbmc6IHZhcigtLW92ZXJ2aWV3LWNhcmQtZ2FwKTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU1REU1XHU1MTc3XHU2ODBGXHU3RUM0XHU0RUY2ID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5zZWFyY2gtY29udGFpbmVyIHtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gIH1cbiAgXG4gIC5zZWFyY2gtaW5wdXQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gIH1cbiAgXG4gIC5zZWFyY2gtaW5wdXQ6Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG4gIFxuICAuZmlsdGVyLWNoaXBzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogNnB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cbiAgXG4gIC5maWx0ZXItY2hpcCB7XG4gICAgZmxleDogMTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogNnB4IDhweDtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICB9XG4gIFxuICAuZmlsdGVyLWNoaXA6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICB9XG4gIFxuICAuZmlsdGVyLWNoaXAuYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5ncm91cC1zd2l0Y2hlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDZweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG4gIFxuICAuZ3JvdXAtYnRuIHtcbiAgICBmbGV4OiAxO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA2cHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIH1cbiAgXG4gIC5ncm91cC1idG46aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICB9XG4gIFxuICAuZ3JvdXAtYnRuLmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5zdGF0cy1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgZ2FwOiAzcHg7XG4gIH1cbiAgXG4uc3RhdHMtbGVmdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogNnB4O1xuICBmbGV4LXNocmluazogMDtcbn1cblxuLnN0YXRzLWNlbnRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogNnB4O1xuICBmbGV4OiAxO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG59XG5cbi5zdGF0cy1yaWdodCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMXB4O1xuICBmbGV4LXNocmluazogMDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87IC8qIFx1NjNBOFx1NTIzMFx1NjcwMFx1NTNGM1x1NEZBNyAqL1xufVxuXG4uaGVhZGVyLWFjdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDhweDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLyogXHU1OTBEXHU0RTYwXHU2OEMwXHU2N0U1XHU2MzA5XHU5NEFFXHU2ODM3XHU1RjBGICovXG4ucmV2aWV3LWNoZWNrLWJ0bi1zdGF0cyB7XG4gIHdpZHRoOiAzMnB4O1xuICBoZWlnaHQ6IDMycHg7XG4gIHBhZGRpbmc6IDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxNHB4O1xuICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgZmxleC1zaHJpbms6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBsaW5lLWhlaWdodDogMTtcbiAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgYm9yZGVyOm5vbmU7XG59XG5cbi5yZXZpZXctY2hlY2stYnRuLXN0YXRzOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbn1cblxuLnJldmlldy1jaGVjay1idG4tc3RhdHM6YWN0aXZlIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTtcbn1cblxuLyogXHU1OTgyXHU2NzlDXHU2NzA5XHU1Rjg1XHU1OTBEXHU0RTYwXHU1MzYxXHU3MjQ3LFx1NkRGQlx1NTJBMFx1NjNEMFx1NzkzQVx1NTJBOFx1NzUzQiAqL1xuLnJldmlldy1jaGVjay1idG4tc3RhdHMuaGFzLWR1ZSB7XG4gIGFuaW1hdGlvbjogYmVsbFJpbmcgMnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhO1xufVxuXG5Aa2V5ZnJhbWVzIGJlbGxSaW5nIHtcbiAgMCUsIDEwMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG4gIDEwJSwgMzAlIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMTBkZWcpO1xuICB9XG4gIDIwJSwgNDAlIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxMGRlZyk7XG4gIH1cbiAgNTAlIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgfVxufVxuXG4gIC5iYXRjaC1jcmVhdGUtY2FyZHMtYnRuLXNpZGViYXIsXG4gIC5iYXRjaC1kZWxldGUtYnRuLXNpZGViYXIsXG4gIC5jYW5jZWwtc2VsZWN0aW9uLWJ0bi1zaWRlYmFyIHtcbiAgICBwYWRkaW5nOiA2cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLW92ZXJ2aWV3LWJvcmRlci1yYWRpdXMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgfVxuICBcbiAgLmJhdGNoLWNyZWF0ZS1jYXJkcy1idG4tc2lkZWJhcjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG4gIFxuICAuYmF0Y2gtZGVsZXRlLWJ0bi1zaWRlYmFyOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1yZWQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG4gIH1cbiAgXG4gIC5jYW5jZWwtc2VsZWN0aW9uLWJ0bi1zaWRlYmFyOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIH1cbiAgXG4gIC5iYXRjaC1jcmVhdGUtY2FyZHMtYnRuLWhlYWRlcixcbiAgLmJhdGNoLWRlbGV0ZS1idG4taGVhZGVyLFxuICAuY2FuY2VsLXNlbGVjdGlvbi1idG4taGVhZGVyIHtcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB9XG4gIFxuICAuYmF0Y2gtY3JlYXRlLWNhcmRzLWJ0bi1oZWFkZXI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuICBcbiAgLmJhdGNoLWRlbGV0ZS1idG4taGVhZGVyOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1yZWQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG4gIH1cbiAgXG4gIC5jYW5jZWwtc2VsZWN0aW9uLWJ0bi1oZWFkZXI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgfVxuICBcbiAgLnNlbGVjdC1hbGwtYnRuLXNpZGViYXIge1xuICAgIHBhZGRpbmc6IDZweCAxMnB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICB9XG4gIFxuICAuc2VsZWN0LWFsbC1idG4tc2lkZWJhcjpob3ZlcixcbiAgLnNlbGVjdC1hbGwtYnRuLXNpZGViYXIuY29tcGxldGVkIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cbiAgXG4gIC5zZWxlY3QtYWxsLWJ0bi1oZWFkZXIge1xuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4wOCk7XG4gIH1cbiAgXG4gIC5zZWxlY3QtYWxsLWJ0bi1oZWFkZXI6aG92ZXIsXG4gIC5zZWxlY3QtYWxsLWJ0bi1oZWFkZXIuY29tcGxldGVkIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcbiAgICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgfVxuICBcbiAgLnN0YXRzLWJhZGdlIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBwYWRkaW5nOiA0cHg7XG4gICAgZmxleDogMTtcbiAgfVxuICBcbiAgLmJhdGNoLWFjdGlvbnMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA2cHg7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYW5pbWF0aW9uOiBzbGlkZURvd24gMC4ycyBlYXNlO1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTUzNjFcdTcyNDdcdTY4MzdcdTVGMEYgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgLmNvbXBhY3QtY2FyZCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDhweDtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIG1hcmdpbjogNHB4IDA7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC5jb21wYWN0LWNhcmQ6aG92ZXIge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnktYWx0KTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMnB4KTtcbiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB9XG4gIFxuICAuY2FyZC1pbmRpY2F0b3Ige1xuICAgIHdpZHRoOiA0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLmNhcmQtaW5kaWNhdG9yLnR5cGUtcWEge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHRyYW5zcGFyZW50IDAlLCB0cmFuc3BhcmVudCA1MCUsICMxMGI5ODEgNTAlLCAjMTBiOTgxIDEwMCUpO1xuICB9XG4gIFxuICAuY2FyZC1pbmRpY2F0b3IudHlwZS1jbG96ZSB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdHJhbnNwYXJlbnQgMCUsIHRyYW5zcGFyZW50IDUwJSwgI0ZGRjE3NiA1MCUsICNGRkYxNzYgMTAwJSk7XG4gIH1cbiAgXG4gIC5jYXJkLWluZGljYXRvci50eXBlLXRleHQge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHRyYW5zcGFyZW50IDAlLCB0cmFuc3BhcmVudCA1MCUsICM2YjcyODAgNTAlLCAjNmI3MjgwIDEwMCUpO1xuICB9XG4gIFxuICAuY2FyZC1pbmRpY2F0b3IudHlwZS1xYS5oYXMtYW5ub3RhdGlvbiB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzNiODJmNiAwJSwgIzNiODJmNiA1MCUsICMxMGI5ODEgNTAlLCAjMTBiOTgxIDEwMCUpO1xuICB9XG4gIFxuICAuY2FyZC1pbmRpY2F0b3IudHlwZS1jbG96ZS5oYXMtYW5ub3RhdGlvbiB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzNiODJmNiAwJSwgIzNiODJmNiA1MCUsICNGRkYxNzYgNTAlLCAjRkZGMTc2IDEwMCUpO1xuICB9XG4gIFxuICAuY2FyZC1pbmRpY2F0b3IudHlwZS10ZXh0Lmhhcy1hbm5vdGF0aW9uIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjM2I4MmY2IDAlLCAjM2I4MmY2IDUwJSwgIzZiNzI4MCA1MCUsICM2YjcyODAgMTAwJSk7XG4gIH1cbiAgXG4gIC50eXBlLWluZGljYXRvciB7XG4gICAgcGFkZGluZzogMnB4IDhweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIH1cbiAgXG4gIC50eXBlLWluZGljYXRvci50eXBlLXFhIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE2LCAxODUsIDEyOSwgMC4yKTtcbiAgICBjb2xvcjogIzEwYjk4MTtcbiAgfVxuICBcbiAgLnR5cGUtaW5kaWNhdG9yLnR5cGUtY2xvemUge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNDEsIDExOCwgMC4yKTtcbiAgICBjb2xvcjogI0ZGRjE3NjtcbiAgfVxuICBcbiAgLnR5cGUtaW5kaWNhdG9yLnR5cGUtdGV4dCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgxMDcsIDExNCwgMTI4LCAwLjIpO1xuICAgIGNvbG9yOiAjNmI3MjgwO1xuICB9XG4gIFxuICAuY2FyZC1jb250ZW50IHtcbiAgICBmbGV4OiAxO1xuICAgIG1pbi13aWR0aDogMDtcbiAgfVxuICBcbiAgLmNhcmQtaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIG1hcmdpbi1ib3R0b206IDJweDtcbiAgfVxuICBcbiAgLmNhcmQtdG9vbHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA0cHg7XG4gIH1cbiAgXG4gIC50b29sLWJ0biB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBwYWRkaW5nOiA0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAudG9vbC1idG46aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICB9XG4gIFxuICAuYW5ub3RhdGlvbi1idG4ge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gIH1cbiAgXG5cbiAgXG4gIC5ub3RlLXRleHQge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBsaW5lLWhlaWdodDogMS42O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcbiAgICBtYXJnaW4tYm90dG9tOiA2cHg7XG4gIH1cbiAgXG4gIC5ub3RlLXRleHQ6aG92ZXIge1xuICAgIGNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG4gIFxuICAucWEtcXVlc3Rpb24ge1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgfVxuICBcbiAgLnFhLXNlcGFyYXRvciB7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIG1hcmdpbjogMCA0cHg7XG4gIH1cbiAgXG4gIC5xYS1hbnN3ZXIge1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICB9XG4gIFxuICAuY2xvemUtaGlnaGxpZ2h0IHtcbiAgICBjb2xvcjogI2Y1OWUwYjtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHBhZGRpbmc6IDFweCAzcHg7XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICB9XG4gIFxuICAuYW5ub3RhdGlvbi1wcmV2aWV3IHtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgcGFkZGluZzogNnB4IDhweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIG1hcmdpbi10b3A6IDZweDtcbiAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAuYW5ub3RhdGlvbi1wcmV2aWV3OmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgfVxuICBcbiAgLmNhcmQtbWV0YSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBnYXA6IDZweDtcbiAgICBtYXJnaW4tdG9wOiA4cHg7XG4gIH1cbiAgXG4gIC50YWcge1xuICAgIHBhZGRpbmc6IDJweCA2cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tdGFnLWJhY2tncm91bmQpO1xuICAgIGNvbG9yOiB2YXIoLS10YWctY29sb3IpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBmb250LXNpemU6IDEwcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuICBcbiAgLmJhZGdlIHtcbiAgICBwYWRkaW5nOiAycHggNnB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZm9udC1zaXplOiAxMHB4O1xuICB9XG4gIFxuICAuZ3JvdXAtaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiA2cHg7XG4gICAgcGFkZGluZzogNnB4IDhweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgbWFyZ2luLWJvdHRvbTogNnB4O1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgdG9wOiAwO1xuICAgIHotaW5kZXg6IDEwO1xuICB9XG4gIFxuLyogPT09PT09PT09PT09PT09PT09PT0gXHU2Mjc5XHU2Q0U4XHU3RjE2XHU4RjkxXHU1NjY4ID09PT09PT09PT09PT09PT09PT09ICovXG4uaW5saW5lLWFubm90YXRpb24tZWRpdG9yIHtcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50O1xuICBtYXJnaW4tdG9wOiA4cHg7XG4gIHBhZGRpbmc6IDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuICBcbiAgLmlubGluZS1hbm5vdGF0aW9uLXRleHRhcmVhIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtaW4taGVpZ2h0OiA4MHB4O1xuICAgIHBhZGRpbmc6IDEycHggMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tb3ZlcnZpZXctYm9yZGVyLXJhZGl1cyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXh0KTtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICByZXNpemU6IHZlcnRpY2FsO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbiAgXG4gIC5pbmxpbmUtYW5ub3RhdGlvbi10ZXh0YXJlYTpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgfVxuICBcbiAgLmlubGluZS1hbm5vdGF0aW9uLXRleHRhcmVhOjpwbGFjZWhvbGRlciB7XG4gICAgY29sb3I6IHZhcigtLXRleHQtZmFpbnQpO1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgfVxuICBcbiAgLmlubGluZS1hbm5vdGF0aW9uLWhpbnQge1xuICAgIG1hcmdpbi10b3A6IDZweDtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgY29sb3I6IHZhcigtLXRleHQtZmFpbnQpO1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB9XG4gIFxuICAuZ3JpZC1jYXJkIC5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3Ige1xuICAgIG1hcmdpbi10b3A6IDhweDtcbiAgfVxuICBcbiAgLmdyaWQtY2FyZCAuaW5saW5lLWFubm90YXRpb24tdGV4dGFyZWEge1xuICAgIG1pbi1oZWlnaHQ6IDEwMHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBwYWRkaW5nOiA4cHggMTRweDtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU0RTNCXHU3NTRDXHU5NzYyXHU1RTAzXHU1QzQwID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5tYWluLWxheW91dCB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHZhcigtLW92ZXJ2aWV3LXNpZGViYXItd2lkdGgpIDFmcjtcbiAgICBnYXA6IDFweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICB9XG4gIFxuICAubGVmdC1wYW5lbCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuICBcbiAgLnJpZ2h0LXBhbmVsIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgcGFkZGluZzogdmFyKC0tb3ZlcnZpZXctY2FyZC1nYXApO1xuICB9XG4gIFxuICAuZml4ZWQtZW50cmllcyB7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBnYXA6IDZweDtcbiAgfVxuICBcbiAgLmVudHJ5LWJ0biB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogOHB4O1xuICAgIHBhZGRpbmc6IDEwcHggMTJweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICB9XG4gIFxuICAuZW50cnktYnRuOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMnB4KTtcbiAgfVxuICBcbiAgLmVudHJ5LWJ0bi5hY3RpdmUge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgfVxuICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU0RTNCXHU3NTRDXHU5NzYyXHU1REU1XHU1MTc3XHU2ODBGID09PT09PT09PT09PT09PT09PT09ICovXG4gIC5tYWluLXRvb2xiYXIge1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICB9XG4gIFxuICAuc2VhcmNoLWlucHV0LW1haW4ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIH1cbiAgXG4gIC5zZWFyY2gtaW5wdXQtbWFpbjpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5ncm91cC1zd2l0Y2hlci1tYWluIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogNnB4O1xuICB9XG4gIFxuICAuZ3JvdXAtYnRuLW1haW4ge1xuICAgIGZsZXg6IDE7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGdhcDogNHB4O1xuICAgIHBhZGRpbmc6IDhweCAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cbiAgXG4gIC5ncm91cC1idG4tbWFpbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICB9XG4gIFxuICAuZ3JvdXAtYnRuLW1haW4uYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gIH1cbiAgXG4gIC5iYXRjaC1hY3Rpb25zLW1haW4ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA4cHg7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gIH1cbiAgXG4gIC5iYXRjaC1hY3Rpb25zLW1haW4gLmJhdGNoLW1vZGUtYnRuLFxuICAuYmF0Y2gtYWN0aW9ucy1tYWluIC5zZWxlY3QtYWxsLWJ0bixcbiAgLmJhdGNoLWFjdGlvbnMtbWFpbiAuYmF0Y2gtZGVsZXRlLWJ0bixcbiAgLmJhdGNoLWFjdGlvbnMtbWFpbiAuYmF0Y2gtY3JlYXRlLWNhcmRzLWJ0biB7XG4gICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICB9XG4gIFxuICAuYmF0Y2gtYWN0aW9ucy1tYWluIC5zZWxlY3QtYWxsLWJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICB9XG4gIFxuICAucGFuZWwtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgbWFyZ2luOiAwO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgfVxuICBcbiAgLmZpbGUtbGlzdCB7XG4gICAgcGFkZGluZzogMCA4cHggOHB4IDhweDtcbiAgICBmbGV4OiAxO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gIH1cbiAgXG4gIC5maWxlLWl0ZW0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDhweDtcbiAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gICAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICB9XG4gIFxuICAuZmlsZS1pdGVtOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgfVxuICBcbiAgLmZpbGUtaXRlbS5zZWxlY3RlZCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpO1xuICB9XG4gIFxuICAuZmlsZS1pY29uIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbiAgXG4gIC5maWxlLW5hbWUge1xuICAgIGZsZXg6IDE7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgfVxuICBcbiAgLmZpbGUtY291bnQge1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBwYWRkaW5nOiAycHggNnB4O1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB9XG4gIFxuICAuZmlsZS1pdGVtLnNlbGVjdGVkIC5maWxlLWNvdW50IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1N0Y1MVx1NjgzQ1x1NUUwM1x1NUM0MCA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAuZ3JpZC1oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTJweDtcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICB9XG4gIFxuICAuZ3JpZC1oZWFkZXIgaDIge1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIG1hcmdpbjogMDtcbiAgfVxuICBcbiAgLmNvbnRlbnQtZ3JpZCB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyNDBweCwgMWZyKSk7XG4gICAgZ2FwOiB2YXIoLS1vdmVydmlldy1jYXJkLWdhcCk7XG4gIH1cbiAgXG4gIC5ncmlkLWNhcmQge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBwYWRkaW5nOiB2YXIoLS1vdmVydmlldy1jYXJkLWdhcCk7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcbiAgICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB9XG4gIFxuICAuZ3JpZC1jYXJkOmhvdmVyIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgfVxuICBcbiAgLmdyaWQtY2FyZC1oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIH1cbiAgXG4gIC5ncmlkLWNhcmQtdG9vbHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA0cHg7XG4gIH1cbiAgXG4gIC50b29sLWJ0bi1ncmlkIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIHBhZGRpbmc6IDRweCA2cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAudG9vbC1idG4tZ3JpZDpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xuICB9XG4gIFxuICAuZ3JpZC1ub3RlLXRleHQge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBsaW5lLWhlaWdodDogMS42O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICB9XG4gIFxuICAuZ3JpZC1ub3RlLXRleHQ6aG92ZXIge1xuICAgIGNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB9XG4gIFxuICAuZ3JpZC1hbm5vdGF0aW9uIHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS1vdmVydmlldy10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLmdyaWQtYW5ub3RhdGlvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gIH1cbiAgXG4gIC5ncmlkLXRhZ3Mge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGdhcDogNnB4O1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gIH1cbiAgXG4gIC50YWctZ3JpZCB7XG4gICAgcGFkZGluZzogNHB4IDhweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWctYmFja2dyb3VuZCk7XG4gICAgY29sb3I6IHZhcigtLXRhZy1jb2xvcik7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gIFxuICAuZ3JpZC1jYXJkLW1ldGEge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgcGFkZGluZy10b3A6IDEwcHg7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICBmb250LXNpemU6IDExcHg7XG4gIH1cbiAgXG4gIC5kb2MtbmFtZSB7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuICB9XG4gIFxuICAubGluZS1pbmZvIHtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIH1cbiAgXG4gIC5iYWRnZS1ncmlkIHtcbiAgICBwYWRkaW5nOiAzcHggOHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1OTVFQVx1NTM2MVx1NjgzN1x1NUYwRiA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAuZmxhc2hjYXJkLWl0ZW0ge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBwYWRkaW5nOiAxNnB4O1xuICAgIHRyYW5zaXRpb246IHZhcigtLW92ZXJ2aWV3LXRyYW5zaXRpb24pO1xuICB9XG4gIFxuICAuZmxhc2hjYXJkLWl0ZW06aG92ZXIge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuICBcbiAgLmZsYXNoY2FyZC1oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgfVxuICBcbiAgLmZsYXNoY2FyZC10eXBlIHtcbiAgICBwYWRkaW5nOiA0cHggMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICB9XG4gIFxuICAuZmxhc2hjYXJkLXR5cGUucWEge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMTYsIDE4NSwgMTI5LCAwLjIpO1xuICAgIGNvbG9yOiAjMTBiOTgxO1xuICB9XG4gIFxuICAuZmxhc2hjYXJkLXR5cGUuY2xvemUge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNDEsIDExOCwgMC4yKTtcbiAgICBjb2xvcjogI0ZGRjE3NjtcbiAgfVxuICBcbiAgLmZsYXNoY2FyZC1ib2R5IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAxMHB4O1xuICB9XG4gIFxuICAuZmxhc2hjYXJkLXF1ZXN0aW9uLFxuICAuZmxhc2hjYXJkLWFuc3dlciB7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIH1cbiAgXG4gIC8qID09PT09PT09PT09PT09PT09PT09IFx1N0E3QVx1NzJCNlx1NjAwMSA9PT09PT09PT09PT09PT09PT09PSAqL1xuICAuZW1wdHktc3RhdGUge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA0MHB4IDIwcHg7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTtcbiAgfVxuICBcbiAgLmVtcHR5LWhpbnQge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gIH1cbiAgXG4gIC5lbXB0eS1yaWdodC1wYW5lbCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgfVxuICBcbiAgLmVtcHR5LWljb24ge1xuICAgIGZvbnQtc2l6ZTogNDhweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICB9XG4gIFxuICAuZW1wdHktdGV4dCB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTUyQThcdTc1M0IgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgQGtleWZyYW1lcyBzbGlkZURvd24ge1xuICAgIGZyb20ge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTBweCk7XG4gICAgfVxuICAgIHRvIHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgfVxuICB9XG4gIFxuICAvKiA9PT09PT09PT09PT09PT09PT09PSBcdTU0Q0RcdTVFOTRcdTVGMEYgPT09PT09PT09PT09PT09PT09PT0gKi9cbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgLm1haW4tbGF5b3V0IHtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgIH1cbiAgXG4gICAgLmxlZnQtcGFuZWwge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIFxuICAgIC5jb250ZW50LWdyaWQge1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgfVxuICAgIH1cblxuXG4vKiBcdTU5MERcdTRFNjBcdTU2RkVcdTY4MDcqL1xuXG5cbi5yZXZpZXctY2hlY2stYnRuIHtcbiAgd2lkdGg6IDM2cHg7XG4gIGhlaWdodDogMzZweDtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1vdmVydmlldy1ib3JkZXItcmFkaXVzKTtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgdHJhbnNpdGlvbjogdmFyKC0tb3ZlcnZpZXctdHJhbnNpdGlvbik7XG4gIGZsZXgtc2hyaW5rOiAwO1xufVxuXG4ucmV2aWV3LWNoZWNrLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbn1cbkBrZXlmcmFtZXMgcHVsc2Uge1xuICAwJSwgMTAwJSB7XG4gICAgb3BhY2l0eTogMC44NTtcbiAgfVxuICA1MCUge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbn1cblxuLyogXHU1OTBEXHU0RTYwXHU2M0QwXHU5MTkyXHU1MTc3XHU0RjUzXHU2ODM3XHU1RjBGICovXG4uY29udGVudC1saXN0LXJldmlldy1yZW1pbmRlciB7XG5cbn1cblxuLnJlbWluZGVyLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogOHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG4ucmVtaW5kZXItaWNvbiB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cblxuLnJlbWluZGVyLXRleHQgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4ucmVtaW5kZXItcHJvZ3Jlc3Mge1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG5cblxuLnByb2dyZXNzLWZpbGwge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2U7XG59XG5cbi5wcm9ncmVzcy10ZXh0IHtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBvcGFjaXR5OiAwLjk7XG59XG5cbi5yZW1pbmRlci1zdGF0cyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogNnB4O1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuXG5cblxuLnN0cmVhay1pbmZvIHtcbiAgb3BhY2l0eTogMC45NTtcbn1cblxuLnJlbWluZGVyLWFjdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xufVxuXG4ucmVtaW5kZXItYnRuLnByaW1hcnkge1xuXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnJlbWluZGVyLWJ0bi5wcmltYXJ5OmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xufVxuXG4vKiBcdTUzNjFcdTcyNDdcdTRFMkRcdTg4NjhcdTY4M0NcdTc2ODRcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTlBRDhcdTRFQUUgLSBcdTZBNTlcdTgyNzIgKi9cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgLmNhcmQtY2xvemUtaGlnaGxpZ2h0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE0MCwgMCwgMC4yNSk7XG4gIHBhZGRpbmc6IDJweCA0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbiAgICBcbiAgLyogPT09PT09PT09PT09PT09PT09PT0gXHU3QjQ5XHU3RUE3XHU1RkJEXHU3QUUwXHU1NkZFXHU2ODA3ID09PT09PT09PT09PT09PT09PT09ICovXG4ubGV2ZWwtYmFkZ2UtaWNvbiB7XG4gIHBhZGRpbmc6IDRweCA2cHggO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIHVzZXItc2VsZWN0OiBub25lO1xufVxuXG4ubGV2ZWwtYmFkZ2UtaWNvbjpob3ZlciB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT0gXHU3QjQ5XHU3RUE3XHU0RkUxXHU2MDZGXHU2QTIxXHU2MDAxXHU2ODQ2ID09PT09PT09PT09PT09PT09PT09ICovXG4ubGV2ZWwtaW5mby1tb2RhbCB7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIG1heC13aWR0aDogNjAwcHg7XG59XG5cbi5sZXZlbC1pbmZvLW1vZGFsIGgyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICBmb250LXNpemU6IDEuOGVtO1xufVxuXG4ubGV2ZWwtaW5mby1tb2RhbCBoMyB7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgZm9udC1zaXplOiAxLjFlbTtcbn1cblxuLnByb2dyZXNzLXNlY3Rpb24sXG4uc3RhdHMtc2VjdGlvbixcbi5taWxlc3RvbmVzLXNlY3Rpb24ge1xuICBtYXJnaW4tYm90dG9tOiAyNHB4O1xufVxuXG4ucHJvZ3Jlc3MtYm94IHtcbiAgcGFkZGluZzogMTZweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgbGluZS1oZWlnaHQ6IDEuODtcbn1cblxuLnN0YXRzLWdyaWQge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE1MHB4LCAxZnIpKTtcbiAgZ2FwOiAxMnB4O1xufVxuXG4uc3RhdHMtZ3JpZCAuc3RhdC1pdGVtIHtcbiAgcGFkZGluZzogMTJweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogNHB4O1xufVxuXG4uc3RhdC1pY29uIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbn1cblxuLnN0YXQtbGFiZWwge1xuICBmb250LXNpemU6IDAuODVlbTtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xufVxuXG4uc3RhdC12YWx1ZSB7XG4gIGZvbnQtc2l6ZTogMS4zZW07XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xufVxuXG4ubWlsZXN0b25lcy1saXN0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxMnB4O1xufVxuXG4ubWlsZXN0b25lLWl0ZW0ge1xuICBwYWRkaW5nOiAxMnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xufVxuXG4ubWlsZXN0b25lLW1lc3NhZ2Uge1xuICBmb250LXdlaWdodDogNTAwO1xuICBtYXJnaW4tYm90dG9tOiA0cHg7XG59XG5cbi5taWxlc3RvbmUtZGF0ZSB7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG59XG5cbi5tb2RhbC1mb290ZXIge1xuICBtYXJnaW4tdG9wOiAyNHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLm1vZGFsLWZvb3RlciBidXR0b24ge1xuICBwYWRkaW5nOiA4cHggMjRweDtcbiAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXNpemU6IDFlbTtcbn1cblxuLm1vZGFsLWZvb3RlciBidXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpO1xufVxuICBcblxuLyogXHU1MzYxXHU3MjQ3XHU3QzdCXHU1NzhCXHU2ODA3XHU4QkM2ICovXG4uY2FyZC10eXBlLWJhZGdlIHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDNweCA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4uY2FyZC10eXBlLWJhZGdlLnR5cGUtcWEge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE2LCAxODUsIDEyOSwgMC4yKTtcbiAgY29sb3I6ICMxMGI5ODE7XG59XG5cbi5jYXJkLXR5cGUtYmFkZ2UudHlwZS1jbG96ZSB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNDEsIDExOCwgMC4yKTtcbiAgY29sb3I6ICNGRkYxNzY7XG59XG5cbi8qIFx1Nzg2RVx1NEZERCBoZWFkZXIgXHU0RjdGXHU3NTI4IGZsZXggXHU1RTAzXHU1QzQwXHU1RTc2XHU1QkY5XHU5RjUwICovXG4uZ3JpZC1jYXJkLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogOHB4O1xufVxuXG4vKiBcdTk1RUFcdTUzNjFcdTU5MERcdTRFNjBcdTY1RjZcdTk1RjRcdTY4MzdcdTVGMEYgKi9cbi5mbGFzaGNhcmQtcmV2aWV3LWluZm8ge1xuICBtYXJnaW4tdG9wOiA4cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4ucmV2aWV3LXRpbWUge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA0cHg7XG4gIHBhZGRpbmc6IDRweCAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBmb250LXNpemU6IDAuODVlbTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG59XG5cbi5yZXZpZXctdGltZS5vdmVyZHVlIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvci1ob3Zlcik7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWVycm9yKTtcbn1cblxuLnJldmlldy10aW1lLnVwY29taW5nIHtcbiAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbn1cblxuLnJldmlldy1pY29uIHtcbiAgZm9udC1zaXplOiAxZW07XG4gIGxpbmUtaGVpZ2h0OiAxO1xufVxuXG4ucmV2aWV3LXRleHQge1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4gICAgICBgO1xuICAgIH1cbiAgfSIsICIvKipcbiAqIFx1NjgzN1x1NUYwRlx1NTJBMFx1OEY3RFx1NTY2OCAtIFx1OEQxRlx1OEQyM1x1NkNFOFx1NTE2NVx1NTQ4Q1x1N0JBMVx1NzQwNiBDU1NcbiAqL1xuZXhwb3J0IGNsYXNzIHJldmlld1N0eWxlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBzdHlsZUlkID0gJ2xlYXJuaW5nLXJldmlldy1zdHlsZXMnO1xuICAgIHByaXZhdGUgc3RhdGljIGlzSW5qZWN0ZWQgPSBmYWxzZTtcbiAgXG4gICAgLyoqXG4gICAgICogXHU2Q0U4XHU1MTY1XHU2ODM3XHU1RjBGXHU1MjMwXHU5ODc1XHU5NzYyXG4gICAgICovXG4gICAgc3RhdGljIGluamVjdCgpOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLmlzSW5qZWN0ZWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHlsZUlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gIFxuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsLmlkID0gdGhpcy5zdHlsZUlkO1xuICAgICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuZ2V0U3R5bGVzKCk7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICAgICAgXG4gICAgICB0aGlzLmlzSW5qZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgXG4gICAgLyoqXG4gICAgICogXHU3OUZCXHU5NjY0XHU2ODM3XHU1RjBGXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZSgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0eWxlSWQpO1xuICAgICAgaWYgKHN0eWxlRWwpIHtcbiAgICAgICAgc3R5bGVFbC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5pc0luamVjdGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICBcbiAgICAvKipcbiAgICAgKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTY4MzdcdTVGMEZcdUZGMDhcdTRFQ0VcdThGRDlcdTkxQ0NcdTdFREZcdTRFMDBcdTdCQTFcdTc0MDZcdUZGMDlcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRTdHlsZXMoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBgXG4gICAgICAgLnJldmlldy1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICBtYXgtd2lkdGg6IDgwMHB4O1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIH1cblxuICAgICAgLmVtcHR5LXN0YXRlIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiA0MHB4IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5lbXB0eS1zdGF0ZSBoMiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS44ZW07XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIH1cblxuICAgICAgLnN0YXRzLXN1bW1hcnkge1xuICAgICAgICBtYXJnaW46IDIwcHggMDtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgICB9XG5cbiAucmV2aWV3LWNvbnRhaW5lciAucHJvZ3Jlc3MtYmFyIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsgIC8qIFx1ODk4Nlx1NzZENiBhcHAuY3NzIFx1NzY4NCBmbGV4ICovXG4gIHBvc2l0aW9uOiBzdGF0aWMgIWltcG9ydGFudDsgIC8qIFx1ODk4Nlx1NzZENiBhcHAuY3NzIFx1NzY4NCByZWxhdGl2ZSAqL1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59XG5cbi5yZXZpZXctY29udGFpbmVyIC5wcm9ncmVzcy1zdGF0cyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG59XG5cbi5yZXZpZXctY29udGFpbmVyIC5wcm9ncmVzcy10ZXh0IHtcbiAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgZm9udC1zaXplOiAwLjllbTtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5yZXZpZXctY29udGFpbmVyIC5iYXItY29udGFpbmVyIHtcbiAgaGVpZ2h0OiA2cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnJldmlldy1jb250YWluZXIgLmJhciB7XG4gIGhlaWdodDogNDAlO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2U7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4gICAgICAuY2FyZC1hcmVhIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBtaW4taGVpZ2h0OiAzNTBweDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuXG4gICAgICAudG9wLWFjdGlvbnMtYmFyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDE2cHg7XG4gICAgICAgIHJpZ2h0OiAxNnB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDZweDtcbiAgICAgICAgei1pbmRleDogMTA7XG4gICAgICB9XG5cbiAgICAgIC50b3AtYWN0aW9uLWJ0biB7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgfVxuXG4gICAgICAudG9wLWFjdGlvbi1idG46aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgfVxuXG4gICAgICAubW9yZS1kcm9wZG93biB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAzOHB4O1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICAgICAgbWluLXdpZHRoOiAxNTBweDtcbiAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgfVxuXG4gICAgICAuZHJvcGRvd24taXRlbSB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycztcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgIH1cblxuICAgICAgLmRyb3Bkb3duLWl0ZW06aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgIH1cblxuICAgICAgLmRlbGV0ZS1pdGVtOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvci1ob3Zlcik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1yZWQpO1xuICAgICAgfVxuXG4gICAgICAuY2FyZC1pbmZvIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAxMHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTJweDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgcGFkZGluZy1yaWdodDogODBweDtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtdHlwZSwgLmNhcmQtZGVjayB7XG4gICAgICAgIHBhZGRpbmc6IDNweCAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAucXVlc3Rpb24tYXJlYSwgLmFuc3dlci1hcmVhIHtcbiAgICAgICAgbWFyZ2luOiAxNnB4IDA7XG4gICAgICB9XG5cbiAgICAgIC5xdWVzdGlvbi10ZXh0IHtcbiAgICAgICAgZm9udC1zaXplOiAxLjJlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgcGFkZGluZzogMTRweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICB9XG5cbiAgICAgIC5jbG96ZS1pbnB1dC1hcmVhLCAucWEtaW5wdXQtYXJlYSB7XG4gICAgICAgIG1hcmdpbjogMTZweCAwO1xuICAgICAgfVxuXG4gICAgICAuY2xvemUtaW5wdXQtYXJlYSBoNCwgLnFhLWlucHV0LWFyZWEgaDQge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICB9XG4gICAgICAgIFxuLnFhLWFuc3dlci1pbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtaW4taGVpZ2h0OiAxMjBweDtcbiAgcGFkZGluZzogMTJweDtcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gIGZvbnQtc2l6ZTogMC45NWVtO1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcbiAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnMsIGJveC1zaGFkb3cgMC4ycztcbn1cblxuLnFhLWFuc3dlci1pbnB1dDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi5xYS1hbnN3ZXItaW5wdXQ6OnBsYWNlaG9sZGVyIHtcbiAgY29sb3I6IHZhcigtLXRleHQtZmFpbnQpO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG4gICAgICAuaW5wdXQtZ3JvdXAge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgfVxuXG4gICAgICAuY2xvemUtaW5wdXQge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgICAgfVxuXG4gICAgICAuY2xvemUtaW5wdXQ6Zm9jdXMsIC5xYS1pbnB1dDpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5xYS1pbnB1dCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgICAgICAgcGFkZGluZzogMTBweCAxMnB4O1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgICAgICByZXNpemU6IHZlcnRpY2FsO1xuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgICAgfVxuXG4gICAgICAucXVlc3Rpb24tcmV2aWV3IHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnktYWx0KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgfVxuXG4gICAgICAucXVlc3Rpb24tcmV2aWV3IGg0IHtcbiAgICAgICAgbWFyZ2luOiAwIDAgNnB4IDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICB9XG5cbiAgICAgIC5yZXZpZXctdGV4dCB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgICB9XG5cbiAgICAgIC5mdWxsLXRleHQge1xuICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICAgIH1cblxuICAgICAgLmFuc3dlci1jb21wYXJpc29uIHtcbiAgICAgIGZvbnQtc2l6ZToxM3B4O1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgICB9XG5cbiAgICAgIC5hbnN3ZXItY29tcGFyaXNvbiBoNCB7XG4gICAgICAgIG1hcmdpbjogMCAwIDhweCAwO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi1pdGVtIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXIge1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICBwYWRkaW5nOiAycHggNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlci5jb3JyZWN0IHtcbiAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQwLCAxNjcsIDY5LCAwLjEpICAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogICMyZWEwNDM7XG4gICAgICB9XG5cbiAgICAgIC51c2VyLWFuc3dlci5wYXJ0aWFsIHtcbiAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxOTMsIDcsIDAuMTUpICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiAjZmY5ZjBhO1xuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXIud3Jvbmcge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjEpICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiAjZTU1MzRiO1xuICAgICAgfVxuXG4gICAgICAuY29ycmVjdC1hbnN3ZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuXG4gICAgICAuc2ltaWxhcml0eS1pbmZvIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAucWEtY29sdW1ucy1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XG4gICAgICAgIGdhcDogMTZweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICAgIH1cblxuICAgICAgLnFhLWNvbHVtbiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG5cbiAgICAgIC5jb2x1bW4tbGFiZWwge1xuICAgICAgICBtYXJnaW46IDAgMCA4cHggMCAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAucWEtdXNlci1hbnN3ZXIsIC5xYS1jb3JyZWN0LWFuc3dlciB7XG4gICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgICAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICAgICAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgbWluLWhlaWdodDogNjBweDtcbiAgICAgIH1cblxuICAgICAgLnFhLWNvcnJlY3QtYW5zd2VyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAucWEtdXNlci1hbnN3ZXIuY29ycmVjdCB7XG4gICAgICAgIGJhY2tncm91bmQ6ICM0Y2FmNTAgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5xYS11c2VyLWFuc3dlci5wYXJ0aWFsIHtcbiAgICAgICAgYmFja2dyb3VuZDogI0ZGQzAwMCAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLnFhLXVzZXItYW5zd2VyLndyb25nIHtcbiAgICAgICAgYmFja2dyb3VuZDogI2Y0NDMzNiAhaW1wb3J0YW50O1xuICAgICAgICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLnFhLXVzZXItYW5zd2VyLm5vLWFuc3dlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b24tYXJlYSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMTJweDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgIEFjdGlvbiBSb3cgLSBcdTYzMDlcdTk0QUVcdTVFMDNcdTVDNDBcbiAgICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICAgIC5hY3Rpb24tcm93IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgICAgcGFkZGluZzogMCAyMHB4O1xuICAgICAgICBtaW4taGVpZ2h0OiA2MHB4O1xuICAgICAgfVxuXG4gICAgICAvKiBcdTRFMkRcdTk1RjRcdTc2ODRcdTRFM0JcdTg5ODFcdTYzMDlcdTk0QUUoXHU4QkM0XHU3RUE3XHU2MjE2XHU2NjNFXHU3OTNBXHU3QjU0XHU2ODQ4KSAqL1xuICAgICAgLmFjdGlvbi1yb3cgLnJhdGluZy1idXR0b25zLFxuICAgICAgLmFjdGlvbi1yb3cgLnNob3ctYW5zd2VyLWJ0biB7XG4gICAgICAgIGZsZXg6IDAgMSBhdXRvO1xuICAgICAgfVxuXG4gICAgICAvKiBcdTdGRkJcdTk4NzVcdTYzMDlcdTk0QUVcdTVCOUFcdTRGNERcdTUyMzBcdTVERTZcdTRFMEJcdTg5RDJcdTU0OENcdTUzRjNcdTRFMEJcdTg5RDIgKi9cblxuICAgICAgLnNob3ctYW5zd2VyLWJ0biB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMzJweDtcbiAgICAgICAgZm9udC1zaXplOiAxZW07XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLnNob3ctYW5zd2VyLWJ0bjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudC1ob3Zlcik7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgICAgfVxuLyogXHU3RkZCXHU5ODc1XHU2MzA5XHU5NEFFIC0gXHU3RUFGXHU2NTg3XHU2NzJDXHU2ODM3XHU1RjBGICovXG4gICAgYnV0dG9uLm5hdi1idG4ge1xuICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7ICFpbXBvcnRhbnRcbiAgICAgICAgYm9yZGVyOiBub25lOyFpbXBvcnRhbnRcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xuICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKSAhaW1wb3J0YW50O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTshaW1wb3J0YW50XG4gICAgICB9XG5cbiAgICAgYnV0dG9uLm5hdi1idG46aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDshaW1wb3J0YW50XG4gICAgICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCkgIWltcG9ydGFudDtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xuICAgICAgICBib3gtc2hhZG93OiBub25lOyFpbXBvcnRhbnRcbiAgICAgIH1cblxuICAgICAgLm5hdi1idG46YWN0aXZlIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xuICAgICAgfVxuXG4gICAgICAvKiBhY3Rpb24tcm93IFx1NEUyRFx1NzY4NFx1NUI5QVx1NEY0RCAqL1xuICAgICAgLmFjdGlvbi1yb3cgLm5hdi1idG4ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB9XG5cbiAgICAgIC5hY3Rpb24tcm93IC5wcmV2LWJ0biB7XG4gICAgICAgIGxlZnQ6IDBweDtcbiAgICAgIH1cblxuICAgICAgLmFjdGlvbi1yb3cgLm5leHQtYnRuIHtcbiAgICAgICAgcmlnaHQ6IDBweDtcbiAgICAgIH1cblxuICAgICAgLnByZXYtYnRuOmhvdmVyIHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtM3B4KSBzY2FsZSgxLjIpO1xuICAgICAgfVxuXG4gICAgICAubmV4dC1idG46aG92ZXIge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiA4cHg7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzcHgpIHNjYWxlKDEuMik7XG4gICAgICB9XG5cblxuICAgICAgXG4gICAgICAuc2hvdy1hbnN3ZXItYnRuIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAzMnB4O1xuICAgICAgICBmb250LXNpemU6IDFlbTtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1hcmVhIHtcbiAgICAgICAgbWFyZ2luOiAxNXB4IDAgMTBweCAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA0MHB4OyBcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1idXR0b25zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAyMHB4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1idG4ge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBtYXgtd2lkdGg6IDEyMHB4O1xuICAgICAgICBwYWRkaW5nOiAxNHB4IDhweDtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctYnRuOmhvdmVyIHtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgICAgICBib3gtc2hhZG93OiAwIDNweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1yZWQ6aG92ZXIgeyBcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci1yZWQpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yLWhvdmVyKTtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1vcmFuZ2U6aG92ZXIgeyBcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjRkZDMDAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMTkyLCAwLCAwLjEpO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWJsdWU6aG92ZXIgeyBcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1ncmVlbjpob3ZlciB7IFxuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLWdyZWVuKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzLWhvdmVyKTtcbiAgICAgIH1cblxuICAgICAgLnJhdGluZy1sYWJlbCB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC5yYXRpbmctaW50ZXJ2YWwge1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWhvdGtleSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC43NWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgfVxuXG4gICAgICAucmF0aW5nLWJ0bjpob3ZlciAucmF0aW5nLWhvdGtleSB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICB9XG5cbiAgIFxuXG4gICAgICAuY2xvemUtYmxhbmsge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1pbi13aWR0aDogNjBweDtcbiAgICAgICAgcGFkZGluZzogMnB4IDhweDtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgfVxuXG4gICAgICAgICAgXG5cbiAgICAgIC50YWJsZS1hbnN3ZXIsIC50YWJsZS1xdWVzdGlvbiB7XG4gICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmNsb3plLXRhYmxlLWNvbHVtbnMge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXItY2VsbCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZTtcbiAgICAgICAgcGFkZGluZzogMHB4IDRweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXItY2VsbC5jb3JyZWN0IHtcbiAgICAgICAgIGNvbG9yOiAjMmVhMDQzO1xuICAgICAgfVxuXG4gICAgICAudXNlci1hbnN3ZXItY2VsbC5wYXJ0aWFsIHtcbiAgICAgICAgY29sb3I6ICNmZjlmMGE7XG5cbiAgICAgIH1cblxuICAgICAgLnVzZXItYW5zd2VyLWNlbGwud3Jvbmcge1xuICAgICAgIGNvbG9yOiAjZTU1MzRiO1xuXG4gICAgICB9XG5cbiAgICAgIC8qIFx1ODg2OFx1NjgzQ1x1NTM1NVx1NTE0M1x1NjgzQ1x1NkI2M1x1Nzg2RVx1NjAyN1x1OTg5Q1x1ODI3MiAqL1xuLmxlYXJuaW5nLXN5c3RlbS10YWJsZS51c2VyLWFuc3dlci10YWJsZSB0ZC5jZWxsLWNvcnJlY3QsXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlLnVzZXItYW5zd2VyLXRhYmxlIHRoLmNlbGwtY29ycmVjdCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDAsIDE2NywgNjksIDAuMSk7XG59XG5cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUudXNlci1hbnN3ZXItdGFibGUgdGQuY2VsbC1wYXJ0aWFsLFxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZS51c2VyLWFuc3dlci10YWJsZSB0aC5jZWxsLXBhcnRpYWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTkzLCA3LCAwLjE1KTtcbn1cblxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZS51c2VyLWFuc3dlci10YWJsZSB0ZC5jZWxsLXdyb25nLFxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZS51c2VyLWFuc3dlci10YWJsZSB0aC5jZWxsLXdyb25nIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMjAsIDUzLCA2OSwgMC4xKTtcbn1cblxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZS51c2VyLWFuc3dlci10YWJsZSAudXNlci1hbnN3ZXItY2VsbCB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG4vLyBcdTU3MjggcmV2aWV3U3R5bGUuaW5qZWN0KCkgXHU0RTJEXHU2REZCXHU1MkEwXHU2M0QwXHU3OTNBXHU2ODM3XHU1RjBGXG5cbi5jbG96ZS1pbnB1dC1oaW50IHtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgcGFkZGluZzogOHB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xufVxuLy8gXHU1NzI4IHJldmlld1N0eWxlLmluamVjdCgpIFx1NjVCOVx1NkNENVx1NEUyRFx1NkRGQlx1NTJBMDpcblxuLyogXHU1MzU1XHU0RTJBXHU4RjkzXHU1MTY1XHU2ODQ2XHU2ODM3XHU1RjBGICovXG4uc2luZ2xlLWlucHV0LWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcbn1cblxuLmNsb3plLXNpbmdsZS1pbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxMnB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycztcbn1cblxuLmNsb3plLXNpbmdsZS1pbnB1dDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cblxuXG4uY2xvemUtaW5wdXQtaGludCBjb2RlIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBwYWRkaW5nOiAycHggNnB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm9zcGFjZSk7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG59XG5cbi8qIFx1OTg4NFx1ODlDOFx1NTMzQVx1NTdERiAqL1xuLmFuc3dlci1wcmV2aWV3LWFyZWEge1xuICBtYXJnaW4tdG9wOiAxNnB4O1xuICBwYWRkaW5nOiAxMnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbn1cblxuLmFuc3dlci1wcmV2aWV3LWFyZWEgaDUge1xuICBtYXJnaW46IDAgMCA4cHggMDtcbiAgZm9udC1zaXplOiAwLjllbTtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG59XG5cbi5wcmV2aWV3LWxpc3Qge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmctbGVmdDogMjRweDtcbiAgbGlzdC1zdHlsZTogZGVjaW1hbDtcbn1cblxuLnByZXZpZXctaXRlbSB7XG4gIHBhZGRpbmc6IDZweCA4cHg7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1tb25vc3BhY2UpO1xuICBmb250LXNpemU6IDAuOWVtO1xufVxuXG4ucHJldmlldy1pdGVtLmZpbGxlZCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5wcmV2aWV3LWl0ZW0uZW1wdHkge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgY29sb3I6IHZhcigtLXRleHQtZmFpbnQpO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgVGFibGUgU3R5bGVzXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIG1hcmdpbjogOHB4IDA7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cblxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0aCxcbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGQge1xuICBsaW5lLWhlaWdodDogMS40O1xuICBoZWlnaHQ6IDIycHg7ICAgICAgICBcbiAgcGFkZGluZzogMnB4IDRweDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0aCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbn1cblxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0ZCB7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG59XG5cbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdHI6aG92ZXIgdGQge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbn1cblxuLyogXHUyMTkwIFx1NjVCMFx1NTg5RTpcdTg4QUJcdTYzMTZcdTdBN0FcdTc2ODRcdTUzNTVcdTUxNDNcdTY4M0NcdTgwQ0NcdTY2NkZcdTgyNzIoXHU2NjNFXHU3OTNBXHU3QjU0XHU2ODQ4XHU1MjREKSAqL1xuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0ZDpoYXMoLmNsb3plLWJsYW5rKSxcbi5sZWFybmluZy1zeXN0ZW0tdGFibGUgdGg6aGFzKC5jbG96ZS1ibGFuaykge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgwLCAxMjYsIDkxLCAwLjEpO1xufVxuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0aC5oYXMtY2xvemUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQwLCAxNjcsIDY5LCAwLjE1KSAhaW1wb3J0YW50O1xuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHJnYmEoNDAsIDE2NywgNjksIDAuNik7XG59XG4vKiBcdTIxOTAgXHU2NUIwXHU1ODlFOlx1ODhBQlx1NjMxNlx1N0E3QVx1NzY4NFx1NTM1NVx1NTE0M1x1NjgzQ1x1ODBDQ1x1NjY2Rlx1ODI3MihcdTY2M0VcdTc5M0FcdTdCNTRcdTY4NDhcdTU0MEUsXHU1REYyXHU2M0VEXHU3OTNBKSAqL1xuLmxlYXJuaW5nLXN5c3RlbS10YWJsZSB0ZDpoYXMoc3Bhbi5yZXZlYWxlZCksXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIHRoOmhhcyhzcGFuLnJldmVhbGVkKVxue1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDcwLCAxMTMsIDgwLCAwLjE1KTtcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCByZ2JhKDQwLCAxNjcsIDY5LCAwLjUpO1xufVxuXG4vKiBVc2VyIEFuc3dlciBUYWJsZSAtIENlbGwgY29ycmVjdG5lc3MgYmFja2dyb3VuZCAqL1xuLnVzZXItYW5zd2VyLXRhYmxlIHRkLmNlbGwtY29ycmVjdCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzYsIDEyNSwgODUsIDAuMTUpO1xufVxuXG4vKiBcdTk4ODRcdTg5QzhcdTdCNTRcdTY4NDhcdTc2ODRcdTY4MzdcdTVGMEYgKi9cbi5wcmV2aWV3LWFuc3dlciB7XG5cbiAgY29sb3I6ICM0YTllZmY7XG4gIHBhZGRpbmc6IDJweCA2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLnByZXZpZXctdGFibGUgLmNsb3plLWJsYW5rIHtcbiAgY29sb3I6ICM2NjY7XG4gIHBhZGRpbmc6IDJweCA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbn1cblxuLyogXHU1MzYxXHU3MjQ3XHU0RTJEXHU4ODY4XHU2ODNDXHU3Njg0XHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU5QUQ4XHU0RUFFIC0gXHU2QTU5XHU4MjcyICovXG4ubGVhcm5pbmctc3lzdGVtLXRhYmxlIC5jYXJkLWNsb3plLWhpZ2hsaWdodCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxNDAsIDAsIDAuMjUpO1xuICBwYWRkaW5nOiAycHggNHB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5gXG4gICAgICA7XG59XG4gIH0iLCAiLy8gc3JjL2kxOG4vdHJhbnNsYXRpb25zLnRzXG5leHBvcnQgdHlwZSBMYW5ndWFnZSA9ICdlbicgfCAnemgtQ04nO1xuXG4vLyBcdTVCOUFcdTRFNDlcdTdGRkJcdThCRDFcdTk1MkVcdTdDN0JcdTU3OEJcbnR5cGUgVHJhbnNsYXRpb25LZXkgPSBcbiAgfCAndmlldy5vdmVydmlldydcbiAgfCAndmlldy5yZXZpZXcnXG4gIHwgJ3ZpZXcuc3RhdHMnXG4gIHwgJ3Rvb2xiYXIuc2VhcmNoJ1xuICB8ICd0b29sYmFyLmZpbHRlci5hbGwnXG4gIHwgJ3Rvb2xiYXIuZmlsdGVyLmFubm90YXRlZCdcbiAgfCAndG9vbGJhci5maWx0ZXIuZmxhc2hjYXJkcydcbiAgfCAndG9vbGJhci5ncm91cC5maWxlJ1xuICB8ICd0b29sYmFyLmdyb3VwLmFubm90YXRpb24nXG4gIHwgJ3Rvb2xiYXIuZ3JvdXAudGFnJ1xuICB8ICd0b29sYmFyLmdyb3VwLmRhdGUnXG4gIHwgJ3Rvb2xiYXIuY2hlY2tSZXZpZXcnXG4gIHwgJ2JhdGNoLnNlbGVjdEFsbCdcbiAgfCAnYmF0Y2guY3JlYXRlJ1xuICB8ICdiYXRjaC5kZWxldGUnXG4gIHwgJ2JhdGNoLmNhbmNlbCdcbiAgfCAnZW50cnkuYWxsTm90ZXMnXG4gIHwgJ2VudHJ5LmNhcmRMaXN0J1xuICB8ICdsZXZlbC4xJ1xuICB8ICdsZXZlbC4yJ1xuICB8ICdsZXZlbC4zJ1xuICB8ICdsZXZlbC40J1xuICB8ICdsZXZlbC41J1xuICB8ICdsZXZlbC5jdXJyZW50J1xuICB8ICdsZXZlbC5jbGlja0RldGFpbHMnXG4gIHwgJ3Jldmlldy50b2RheSdcbiAgfCAncmV2aWV3LnN0YXJ0J1xuICB8ICdyZXZpZXcuanVzdER1ZSdcbiAgfCAncmV2aWV3LmRlbGF5ZWQnXG4gIHwgJ3Jldmlldy51cmdlbnRIb3VycydcbiAgfCAncmV2aWV3LnVyZ2VudERheXMnXG4gIHwgJ3Jldmlldy5zdHJlYWsnXG4gIHwgJ25vdGljZS5ub1NlbGVjdGlvbidcbiAgfCAnbm90aWNlLm5vRHVlQ2FyZHMnXG4gIHwgJ25vdGljZS5kZWxldGVkJ1xuICB8ICdub3RpY2Uuc2F2ZWQnXG4gIHwgJ2NvbW1hbmQuc2NhbkZpbGUnXG4gIHwgJ2NvbW1hbmQuc2NhblZhdWx0J1xuICB8ICdjb21tYW5kLm9wZW5PdmVydmlldydcbiAgfCAnY29tbWFuZC5vcGVuTWFpbk92ZXJ2aWV3J1xuICB8ICdjb21tYW5kLmFkZEFubm90YXRpb24nXG4gIHwgJ2NvbW1hbmQuc3RhcnRSZXZpZXcnXG4gIHwgJ2NvbW1hbmQuc2hvd1N0YXRzJ1xuICB8ICdyaWJib24ub3ZlcnZpZXcnXG4gIHwgJ3JpYmJvbi5yZXZpZXcnXG4gIHwgJ21lbnUuanVtcFRvU291cmNlJ1xuICB8ICdtZW51LnRvZ2dsZUFubm90YXRpb24nXG4gIHwgJ21lbnUuZWRpdEZsYXNoY2FyZCdcbiAgfCAnbWVudS5xdWlja0dlbmVyYXRlJ1xuICB8ICdtZW51LmNyZWF0ZVFBJ1xuICB8ICdtZW51LmNyZWF0ZUNsb3plJ1xuICB8ICdtZW51LnZpZXdTdGF0cydcbiAgfCAnbWVudS5kZWxldGUnXG4gIHwgJ3N0YXR1cy5kdWUnXG4gIHwgJ3N0YXR1cy50b29sdGlwJ1xuICB8ICdlbXB0eS5ub0NvbnRlbnQnXG4gIHwgJ2VtcHR5Lm5vRG9jdW1lbnRzJ1xuICB8ICdmaWxlTGlzdC50aXRsZSdcblxuICB8ICdub3RpY2UuZmlsZU5vdEZvdW5kJ1xufCAnbm90aWNlLmp1bXBlZFRvU291cmNlJ1xufCAnbm90aWNlLmp1bXBGYWlsZWQnXG58ICdub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnXG58ICdub3RpY2UuYWxyZWFkeUhhc0ZsYXNoY2FyZHMnXG58ICdub3RpY2UuYmF0Y2hEZWxldGVkJ1xufCAnY29uZmlybS5kZWxldGVOb3RlJ1xufCAnY29uZmlybS5kZWxldGVGbGFzaGNhcmQnXG58ICdjb25maXJtLmJhdGNoRGVsZXRlTm90ZXMnXG58ICdjb25maXJtLmJhdGNoRGVsZXRlRmxhc2hjYXJkcydcbiAgXG58ICd0b29sYmFyLmNoZWNrUmV2aWV3LnRvb2x0aXAnXG5cbnwgJ2JhdGNoLmRlc2VsZWN0QWxsJ1xufCAnYmF0Y2guZGVzZWxlY3RBbGwudG9vbHRpcCdcbnwgJ2JhdGNoLnNlbGVjdEFsbC50b29sdGlwJ1xufCAnYmF0Y2gubm9JdGVtcydcbnwgJ2JhdGNoLnNlbGVjdEFubm90YXRpb25GaXJzdCdcbnwgJ2JhdGNoLmNyZWF0ZS50b29sdGlwJ1xufCAnYmF0Y2guZGVsZXRlLnRvb2x0aXAnXG58ICdiYXRjaC5jYW5jZWwudG9vbHRpcCdcbi8vIHJldmlld1xufCAnY29uZmlybS5yZXNldENhcmRTdGF0cydcbnwgJ2NvbmZpcm0ucmVzZXREZWNrU3RhdHMnXG58ICdub3RpY2UuZGVja1N0YXRzUmVzZXQnXG58ICdub3RpY2UuZmxhc2hjYXJkRGVsZXRlZCdcbnwgJ25vdGljZS5kZWxldGVGbGFzaGNhcmRGYWlsZWQnXG58ICdub3RpY2UuZmxhc2hjYXJkVXBkYXRlZCdcbnwgJ25vdGljZS51cGRhdGVGbGFzaGNhcmRGYWlsZWQnXG58ICdub3RpY2UuY2FyZFN0YXRzUmVzZXQnXG58ICdub3RpY2UucmVzZXRTdGF0c0ZhaWxlZCdcbi8vIHNpZGViYXJcbnwgJ3Jldmlldy50b2RheVByb2dyZXNzJ1xufCAncmV2aWV3LmRlbGF5ZWRIb3Vyc1Nob3J0J1xufCAnZ3JvdXAudW5jYXRlZ29yaXplZCdcbi8vIGNvbXBvbmVudC9tb2RhbC9iYXRjaFxufCAnYmF0Y2hDcmVhdGUudGl0bGUnXG58ICdiYXRjaENyZWF0ZS5kZXNjcmlwdGlvbidcbnwgJ2JhdGNoQ3JlYXRlLmNhcmRUeXBlJ1xufCAnYmF0Y2hDcmVhdGUuc21hcnRUeXBlJ1xufCAnYmF0Y2hDcmVhdGUuc21hcnRUeXBlLmRlc2MnXG58ICdiYXRjaENyZWF0ZS5xYVR5cGUnXG58ICdiYXRjaENyZWF0ZS5xYVR5cGUuZGVzYydcbnwgJ2JhdGNoQ3JlYXRlLmNsb3plVHlwZSdcbnwgJ2JhdGNoQ3JlYXRlLmNsb3plVHlwZS5kZXNjJ1xufCAnYmF0Y2hDcmVhdGUuY2FuY2VsJ1xufCAnYmF0Y2hDcmVhdGUuY3JlYXRlQnV0dG9uJ1xufCAnYmF0Y2hDcmVhdGUuc3VjY2Vzc05vdGljZSdcbi8vIGNvbXBvbmVudC9tb2RhbC9FZGl0Rmxhc2hjYXJkTW9kYWxcbnwgJ2VkaXRDYXJkLnRpdGxlJ1xufCAnZWRpdENhcmQuZGVzY3JpcHRpb24ucWEnXG58ICdlZGl0Q2FyZC5kZXNjcmlwdGlvbi5jbG96ZSdcbnwgJ2VkaXRDYXJkLmluZm8uZmlsZSdcbnwgJ2VkaXRDYXJkLmluZm8uZGVjaydcbnwgJ2VkaXRDYXJkLmluZm8ucmV2aWV3cydcbnwgJ2VkaXRDYXJkLmluZm8uY29ycmVjdCdcbnwgJ2VkaXRDYXJkLmZyb250LnFhJ1xufCAnZWRpdENhcmQuZnJvbnQuY2xvemUnXG58ICdlZGl0Q2FyZC5mcm9udC5kZXNjJ1xufCAnZWRpdENhcmQuYmFjay5xYSdcbnwgJ2VkaXRDYXJkLmJhY2suY2xvemUnXG58ICdlZGl0Q2FyZC5iYWNrLmRlc2MucWEnXG58ICdlZGl0Q2FyZC5iYWNrLmRlc2MuY2xvemUnXG58ICdlZGl0Q2FyZC5jYW5jZWwnXG58ICdlZGl0Q2FyZC5zYXZlJ1xufCAnZWRpdENhcmQuZXJyb3IuZW1wdHlGcm9udCdcbnwgJ2VkaXRDYXJkLmVycm9yLmVtcHR5QmFjaydcbnwgJ2VkaXRDYXJkLnN1Y2Nlc3MnXG58ICdlZGl0Q2FyZC5zYXZlRmFpbGVkJ1xuLy8gY29tcG9uZW50L21vZGFsL0ZsYXNoY2FyZEVkaXRNb2RhbFxufCAnZmxhc2hjYXJkRWRpdC50aXRsZSdcbnwgJ2ZsYXNoY2FyZEVkaXQucXVlc3Rpb24nXG58ICdmbGFzaGNhcmRFZGl0LmFuc3dlcidcbnwgJ2ZsYXNoY2FyZEVkaXQuc2F2ZSdcbi8vIGNvbXBvbmVudC9tb2RhbC9NYW51YWxGbGFzaGNhcmRNb2RhbC50c1xufCAnbWFudWFsQ2FyZC50aXRsZS5xYSdcbnwgJ21hbnVhbENhcmQudGl0bGUuY2xvemUnXG58ICdtYW51YWxDYXJkLmRlc2NyaXB0aW9uLnFhJ1xufCAnbWFudWFsQ2FyZC5kZXNjcmlwdGlvbi5jbG96ZSdcbnwgJ21hbnVhbENhcmQuZnJvbnQucWEnXG58ICdtYW51YWxDYXJkLmZyb250LmNsb3plJ1xufCAnbWFudWFsQ2FyZC5mcm9udC5kZXNjLnFhJ1xufCAnbWFudWFsQ2FyZC5mcm9udC5kZXNjLmNsb3plJ1xufCAnbWFudWFsQ2FyZC5mcm9udC5wbGFjZWhvbGRlci5xYSdcbnwgJ21hbnVhbENhcmQuZnJvbnQucGxhY2Vob2xkZXIuY2xvemUnXG58ICdtYW51YWxDYXJkLmJhY2sucWEnXG58ICdtYW51YWxDYXJkLmJhY2suY2xvemUnXG58ICdtYW51YWxDYXJkLmJhY2suZGVzYy5xYSdcbnwgJ21hbnVhbENhcmQuYmFjay5kZXNjLmNsb3plJ1xufCAnbWFudWFsQ2FyZC5iYWNrLnBsYWNlaG9sZGVyLnFhJ1xufCAnbWFudWFsQ2FyZC5iYWNrLnBsYWNlaG9sZGVyLmNsb3plJ1xufCAnbWFudWFsQ2FyZC5jYW5jZWwnXG58ICdtYW51YWxDYXJkLmNyZWF0ZSdcbnwgJ21hbnVhbENhcmQuZXJyb3IuZW1wdHlGcm9udCdcbnwgJ21hbnVhbENhcmQuZXJyb3IuZW1wdHlCYWNrJ1xufCAnbWFudWFsQ2FyZC5zdWNjZXNzLnFhJ1xufCAnbWFudWFsQ2FyZC5zdWNjZXNzLmNsb3plJ1xufCAnbWFudWFsQ2FyZC5jcmVhdGVGYWlsZWQnXG4vLyBzcmMvdWkvY29tcG9uZW50cy9Db250ZW50TGlzdC50cyBcbnwgJ2NvbnRlbnRMaXN0Lmdyb3VwLmFubm90YXRlZCdcbnwgJ2NvbnRlbnRMaXN0Lmdyb3VwLm5vdEFubm90YXRlZCdcbnwgJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vRmxhc2hjYXJkcydcbnwgJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vTm90ZXMnXG58ICdjb250ZW50TGlzdC5lbXB0eS50cnlGaWx0ZXInXG58ICdjb250ZW50TGlzdC5lbXB0eS5zdGFydEhpZ2hsaWdodCdcbnwgJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vQ29udGVudCdcbi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRleHRNZW51QnVpbGRlci50c1xufCAnY29udGV4dE1lbnUuanVtcFRvU291cmNlJ1xufCAnY29udGV4dE1lbnUuZWRpdEFubm90YXRpb24nXG58ICdjb250ZXh0TWVudS5lZGl0Rmxhc2hjYXJkJ1xufCAnY29udGV4dE1lbnUuZ2VuZXJhdGVGbGFzaGNhcmQnXG58ICdjb250ZXh0TWVudS5jcmVhdGVRQSdcbnwgJ2NvbnRleHRNZW51LmNyZWF0ZUNsb3plJ1xufCAnY29udGV4dE1lbnUudmlld1N0YXRzJ1xufCAnY29udGV4dE1lbnUuZGVsZXRlTm90ZSdcbnwgJ2NvbnRleHRNZW51LmVkaXRDYXJkJ1xufCAnY29udGV4dE1lbnUuZGVsZXRlQ2FyZCdcbnwgJ3N0YXRzLnRpdGxlJ1xufCAnc3RhdHMuZmlsZSdcbnwgJ3N0YXRzLnR5cGUnXG58ICdzdGF0cy50eXBlLnFhJ1xufCAnc3RhdHMudHlwZS5jbG96ZSdcbnwgJ3N0YXRzLmRlY2snXG58ICdzdGF0cy50YWdzJ1xufCAnc3RhdHMudGFncy5ub25lJ1xufCAnc3RhdHMucmV2aWV3Q291bnQnXG58ICdzdGF0cy5jb3JyZWN0Q291bnQnXG58ICdzdGF0cy5hY2N1cmFjeSdcbnwgJ3N0YXRzLmF2ZXJhZ2VUaW1lJ1xufCAnc3RhdHMuZGlmZmljdWx0eSdcbnwgJ3N0YXRzLmNyZWF0ZWRBdCdcbnwgJ3N0YXRzLmxhc3RSZXZpZXcnXG58ICdzdGF0cy5sYXN0UmV2aWV3Lm5ldmVyJ1xufCAnc3RhdHMubmV4dFJldmlldydcbnwgJ3N0YXRzLmludGVydmFsJ1xufCAnc3RhdHMuZWFzZSdcbnwgJ3N0YXRzLnNlcGFyYXRvcidcbnwgJ3N0YXRzLnRpbWVzJ1xufCAnc3RhdHMuc2Vjb25kcydcbnwgJ3N0YXRzLmRheXMnXG4vLyBzcmMvdWkvc2VydmljZXMvT3ZlcnZpZXdTZXJ2aWNlLnRzXG58ICdzZXJ2aWNlLmZpbGVOb3RFeGlzdCdcbnwgJ3NlcnZpY2UuYW5ub3RhdGlvbkRlbGV0ZWQnXG58ICdzZXJ2aWNlLmZsYXNoY2FyZEdlbmVyYXRlZCdcbnwgJ3NlcnZpY2UuZ2VuZXJhdGVGYWlsZWQnXG58ICdzZXJ2aWNlLmZsYXNoY2FyZE5vdEZvdW5kJ1xufCAnc2VydmljZS5zb3VyY2VGaWxlT3BlbmVkJ1xufCAnc2VydmljZS5ub3RlTm90Rm91bmQnXG4vLyBcdTY3MDBcdThGRDFcdTUyMjBcdTk2NjRcbnwgJ2NvbmZpcm0uZGVsZXRlV2lsbFJlbW92ZSdcbnwgJ2NvbmZpcm0ubm90ZSdcbnwgJ2NvbmZpcm0ubm90ZXMnXG58ICdjb25maXJtLmZsYXNoY2FyZHMnXG58ICdjb25maXJtLmFubm90YXRpb24nXG58ICdjb25maXJtLmNhbm5vdFVuZG8nXG58ICdub3RpY2UuZmlsZURlbGV0ZWQnXG58ICdub3RpY2UuYXV0b0NsZWFudXAnXG58ICdyZWNlbnREZWxldGUudGl0bGUnXG58ICdyZWNlbnREZWxldGUuZW1wdHknXG58ICdyZWNlbnREZWxldGUucmVzdG9yZSdcbnwgJ3JlY2VudERlbGV0ZS5kZWxldGVQZXJtYW5lbnRseSdcblxufCAnbm90aWNlLm1vdmVkVG9UcmFzaCdcbnwgJ25vdGljZS5iYXRjaE1vdmVkVG9UcmFzaCdcbnwgJ25vdGljZS5maWxlRGVsZXRlZFNpbXBsZSdcbnwgJ25vdGljZS5ub3RlUmVzdG9yZWQnXG58ICdub3RpY2UuY2FyZFJlc3RvcmVkJ1xufCAnbm90aWNlLmNhcmRzUmVzdG9yZWQnXG58ICdub3RpY2UucmVzdG9yZUZhaWxlZCdcbnwgJ25vdGljZS5wZXJtYW5lbnRseURlbGV0ZWQnXG58ICdub3RpY2UuZGVsZXRlRmFpbGVkJ1xufCAnbm90aWNlLmFsbERlbGV0ZWQnXG58ICdyZWNlbnREZWxldGUuY2xlYXJBbGwnXG58ICdyZWNlbnREZWxldGUuZW1wdHlIaW50J1xufCAnY29uZmlybS5jbGVhckFsbERlbGV0ZWQnXG58ICdjb25maXJtLnJlc3RvcmVBc3NvY2lhdGVkQ2FyZHMnXG58ICdkZWxldGVSZWFzb24udXNlcidcbnwgJ2RlbGV0ZVJlYXNvbi5ub3RlJ1xufCAnZGVsZXRlUmVhc29uLmZpbGUnXG58ICd0aW1lLmp1c3ROb3cnXG58ICd0aW1lLm1pbnV0ZXNBZ28nXG58ICd0aW1lLmhvdXJzQWdvJ1xufCAndGltZS5kYXlzQWdvJ1xuLy8gZGVsZXRlIGNvbmZpcm1cbnwgJ2NvbmZpcm0uZGVsZXRlSXRlbXMnXG58ICdjb25maXJtLm5vdGVzQ291bnQnXG58ICdjb25maXJtLmNhcmRzQ291bnQnXG4vLyBxdWljayBmbGFzaGNhcmQgIGNyZWF0b3JcbnwgJ3F1aWNrQ2FyZC5jcmVhdGVkLnFhJ1xufCAncXVpY2tDYXJkLmNyZWF0ZWQuY2xvemUnXG58ICdxdWlja0NhcmQuY3JlYXRlRmFpbGVkJ1xufCAncXVpY2tDYXJkLm5vS2V5d29yZHMnXG58ICdxdWlja0NhcmQubm9EZWxldGlvbnMnXG58ICdxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5oZWFkaW5nJ1xufCAncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQuc2hvcnQnXG58ICdxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5tZWRpdW0nXG58ICdxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5sb25nJ1xuLy8gVW5sb2NrU3lzdGVtXG58ICd1bmxvY2subGV2ZWwuMSdcbnwgJ3VubG9jay5sZXZlbC4yJ1xufCAndW5sb2NrLmxldmVsLjMnXG58ICd1bmxvY2subGV2ZWwuNCdcbnwgJ3VubG9jay5sZXZlbC41J1xufCAndW5sb2NrLmxldmVsVXAuMSdcbnwgJ3VubG9jay5sZXZlbFVwLjInXG58ICd1bmxvY2subGV2ZWxVcC4zJ1xufCAndW5sb2NrLmxldmVsVXAuNCdcbnwgJ3VubG9jay5sZXZlbFVwLjUnXG58ICd1bmxvY2sucHJvZ3Jlc3MuY2FyZHNFeHRyYWN0ZWQnXG58ICd1bmxvY2sucHJvZ3Jlc3MuYW5ub3RhdGlvbnNDb21wbGV0ZWQnXG58ICd1bmxvY2sucHJvZ3Jlc3MuY2FyZHNSZXZpZXdlZCdcbnwgJ3VubG9jay5wcm9ncmVzcy50YWJsZXNTY2FubmVkJ1xufCAndW5sb2NrLnByb2dyZXNzLmNvbnNlY3V0aXZlRGF5cydcbnwgJ3VubG9jay5wcm9ncmVzcy50b3RhbERheXMnXG58ICd1bmxvY2sucHJvZ3Jlc3Muc3RhdHNQYWdlVmlzaXRlZCdcbnwgJ3VubG9jay5uZXh0U3RlcHMubGV2ZWwxJ1xufCAndW5sb2NrLm5leHRTdGVwcy5sZXZlbDInXG58ICd1bmxvY2submV4dFN0ZXBzLmxldmVsMydcbnwgJ3VubG9jay5uZXh0U3RlcHMubGV2ZWw0J1xufCAndW5sb2NrLm5leHRTdGVwcy5sZXZlbDUnXG58ICd1bmxvY2subW9kYWwudGl0bGUnXG58ICd1bmxvY2subW9kYWwucmVxdWlyZUxldmVsJ1xufCAndW5sb2NrLm1vZGFsLmN1cnJlbnRQcm9ncmVzcydcbnwgJ3VubG9jay5sZXZlbEluZm8udGl0bGUnXG58ICd1bmxvY2subGV2ZWxJbmZvLmN1bXVsYXRpdmVTdGF0cydcbnwgJ3VubG9jay5sZXZlbEluZm8ubWlsZXN0b25lcydcbnwgJ3VubG9jay5zdGF0LmNhcmRzRXh0cmFjdGVkJ1xufCAndW5sb2NrLnN0YXQuYW5ub3RhdGlvbnNDb21wbGV0ZWQnXG58ICd1bmxvY2suc3RhdC5jYXJkc1Jldmlld2VkJ1xufCAndW5sb2NrLnN0YXQudGFibGVzU2Nhbm5lZCdcbnwgJ3VubG9jay5zdGF0LmNvbnNlY3V0aXZlRGF5cydcbnwgJ3VubG9jay5zdGF0LnRvdGFsRGF5cydcbnwgJ3VubG9jay5jb21tdW5pdHkubG9ja2VkJ1xufCAndW5sb2NrLmNvbW11bml0eS5saW5rJ1xuXG5cbnwgJ2ZpbHRlci51bmFubm90YXRlZCdcbi8vIHVubG9jayByZWZhY3RvclxufCAndW5sb2NrLnN0YXQubm90ZXNFeHRyYWN0ZWRBc1RleHQnXG58ICd1bmxvY2suc3RhdC5ub3Rlc0V4dHJhY3RlZEFzUUEnXG58ICd1bmxvY2suc3RhdC5ub3Rlc0V4dHJhY3RlZEFzQ2xvemUnXG58ICd1bmxvY2suc3RhdC5ub3Rlc1NjYW5uZWQnXG5cbi8vIFx1NUI5QVx1NEU0OVx1N0ZGQlx1OEJEMVx1NUI1N1x1NTE3OFx1N0M3Qlx1NTc4QlxudHlwZSBUcmFuc2xhdGlvbkRpY3QgPSBSZWNvcmQ8VHJhbnNsYXRpb25LZXksIHN0cmluZz4gJiB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZzsgLy8gXHU2REZCXHU1MkEwXHU3RDIyXHU1RjE1XHU3QjdFXHU1NDBEXHU0RUU1XHU2NTJGXHU2MzAxXHU1MkE4XHU2MDAxXHU5NTJFXG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNsYXRpb25zOiBSZWNvcmQ8TGFuZ3VhZ2UsIFRyYW5zbGF0aW9uRGljdD4gPSB7XG4gIGVuOiB7XG4gICAgLy8gVmlldyB0aXRsZXNcbiAgICAndmlldy5vdmVydmlldyc6ICdMZWFybmluZyBPdmVydmlldycsXG4gICAgJ3ZpZXcucmV2aWV3JzogJ1JldmlldycsXG4gICAgJ3ZpZXcuc3RhdHMnOiAnU3RhdGlzdGljcycsXG4gICAgXG4gICAgLy8gVG9vbGJhclxuICAgICd0b29sYmFyLnNlYXJjaCc6ICdTZWFyY2guLi4nLFxuICAgICd0b29sYmFyLmZpbHRlci5hbGwnOiAnQWxsJyxcbiAgICAndG9vbGJhci5maWx0ZXIuYW5ub3RhdGVkJzogJ0Fubm90YXRlZCcsXG4gICAgJ3Rvb2xiYXIuZmlsdGVyLmZsYXNoY2FyZHMnOiAnRmxhc2hjYXJkcycsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAuZmlsZSc6ICdCeSBGaWxlJyxcbiAgICAndG9vbGJhci5ncm91cC5hbm5vdGF0aW9uJzogJ0J5IEFubm90YXRpb24nLFxuICAgICd0b29sYmFyLmdyb3VwLnRhZyc6ICdCeSBUYWcnLFxuICAgICd0b29sYmFyLmdyb3VwLmRhdGUnOiAnQnkgRGF0ZScsXG4gICAgJ3Rvb2xiYXIuY2hlY2tSZXZpZXcnOiAnQ2hlY2sgUmV2aWV3JyxcbiAgICBcbiAgICAvLyBCYXRjaCBhY3Rpb25zXG4gICAgJ2JhdGNoLnNlbGVjdEFsbCc6ICdTZWxlY3QgQWxsJyxcbiAgICAnYmF0Y2guY3JlYXRlJzogJ0NyZWF0ZSBGbGFzaGNhcmRzJyxcbiAgICAnYmF0Y2guZGVsZXRlJzogJ0RlbGV0ZScsXG4gICAgJ2JhdGNoLmNhbmNlbCc6ICdDYW5jZWwnLFxuICAgIFxuICAgIC8vIEZpeGVkIGVudHJpZXNcbiAgICAnZW50cnkuYWxsTm90ZXMnOiAnQWxsIE5vdGVzJyxcbiAgICAnZW50cnkuY2FyZExpc3QnOiAnQ2FyZCBMaXN0JyxcbiAgICBcbiAgICAvLyBMZXZlbCBuYW1lc1xuICAgICdsZXZlbC4xJzogJ0NvbGxlY3RvcicsXG4gICAgJ2xldmVsLjInOiAnVGhpbmtlcicsXG4gICAgJ2xldmVsLjMnOiAnTWVtb3JpemVyJyxcbiAgICAnbGV2ZWwuNCc6ICdUcmFpbmVyJyxcbiAgICAnbGV2ZWwuNSc6ICdBbmFseXN0JyxcbiAgICAnbGV2ZWwuY3VycmVudCc6ICdDdXJyZW50IExldmVsJyxcbiAgICAnbGV2ZWwuY2xpY2tEZXRhaWxzJzogJ0NsaWNrIGZvciBkZXRhaWxzJyxcbiAgICBcbiAgICAvLyBSZXZpZXcgcmVtaW5kZXJcbiAgICAncmV2aWV3LnRvZGF5JzogJ1RvZGF5XFwncyBSZXZpZXcnLFxuICAgICdyZXZpZXcuc3RhcnQnOiAnU3RhcnQgUmV2aWV3JyxcbiAgICAncmV2aWV3Lmp1c3REdWUnOiAnXHUyM0YwIEp1c3QgZHVlLCByZXZpZXcgd2hpbGUgaG90JyxcbiAgICAncmV2aWV3LmRlbGF5ZWQnOiAnXHUyNkEwXHVGRTBGIFJldmlldyBkZWxheWVkIHtob3Vyc30gaG91cnMnLFxuICAgICdyZXZpZXcudXJnZW50SG91cnMnOiAnXHUyNkEwXHVGRTBGIFJldmlldyBkZWxheWVkIHtob3Vyc30gaG91cnMsIHJlY29tbWVuZCBwcmlvcml0eScsXG4gICAgJ3Jldmlldy51cmdlbnREYXlzJzogJ1x1RDgzRFx1REVBOCBSZXZpZXcgZGVsYXllZCB7ZGF5c30gZGF5cywgY2xlYXIgQVNBUCEnLFxuICAgICdyZXZpZXcuc3RyZWFrJzogJ1x1RDgzRFx1REQyNSBEYXkge2RheXN9IHN0cmVhayEnLFxuICAgIFxuICAgIC8vIE5vdGljZXNcbiAgICAnbm90aWNlLm5vU2VsZWN0aW9uJzogJ1x1MjZBMFx1RkUwRiBObyBpdGVtcyBzZWxlY3RlZCcsXG4gICAgJ25vdGljZS5ub0R1ZUNhcmRzJzogJ05vIGNhcmRzIGR1ZSBmb3IgcmV2aWV3IScsXG4gICAgJ25vdGljZS5kZWxldGVkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBEZWxldGVkJyxcbiAgICAnbm90aWNlLnNhdmVkJzogJ1x1MjcwNSBTYXZlZCcsXG4gICAgXG4gICAgLy8gQ29tbWFuZHNcbiAgICAnY29tbWFuZC5zY2FuRmlsZSc6ICdTY2FuIGN1cnJlbnQgZmlsZSBmb3IgY29udGVudCcsXG4gICAgJ2NvbW1hbmQuc2NhblZhdWx0JzogJ1NjYW4gZW50aXJlIHZhdWx0JyxcbiAgICAnY29tbWFuZC5vcGVuT3ZlcnZpZXcnOiAnT3BlbiBMZWFybmluZyBPdmVydmlldyhTaWRlYmFyKScsXG4gICAgJ2NvbW1hbmQub3Blbk1haW5PdmVydmlldyc6ICdUb2dnbGUgTGVhcm5pbmcgT3ZlcnZpZXcgKE1haW4gVmlldyknLFxuICAgICdjb21tYW5kLmFkZEFubm90YXRpb24nOiAnQWRkIGZpbGUgYW5ub3RhdGlvbicsXG4gICAgJ2NvbW1hbmQuc3RhcnRSZXZpZXcnOiAnU3RhcnQgZmxhc2hjYXJkIHJldmlldycsXG4gICAgJ2NvbW1hbmQuc2hvd1N0YXRzJzogJ1Nob3cgZmxhc2hjYXJkIHN0YXRpc3RpY3MnLFxuICAgIFxuICAgIC8vIFJpYmJvbnNcbiAgICAncmliYm9uLm92ZXJ2aWV3JzogJ09wZW4gTGVhcm5pbmcgT3ZlcnZpZXcoU2lkZWJhciknLFxuICAgICdyaWJib24ucmV2aWV3JzogJ1N0YXJ0IFJldmlldycsXG4gICAgXG4gICAgLy8gQ29udGV4dCBtZW51XG4gICAgJ21lbnUuanVtcFRvU291cmNlJzogJ0p1bXAgdG8gU291cmNlJyxcbiAgICAnbWVudS50b2dnbGVBbm5vdGF0aW9uJzogJ1RvZ2dsZSBBbm5vdGF0aW9uJyxcbiAgICAnbWVudS5lZGl0Rmxhc2hjYXJkJzogJ0VkaXQgRmxhc2hjYXJkJyxcbiAgICAnbWVudS5xdWlja0dlbmVyYXRlJzogJ1F1aWNrIEdlbmVyYXRlJyxcbiAgICAnbWVudS5jcmVhdGVRQSc6ICdDcmVhdGUgUSZBJyxcbiAgICAnbWVudS5jcmVhdGVDbG96ZSc6ICdDcmVhdGUgQ2xvemUnLFxuICAgICdtZW51LnZpZXdTdGF0cyc6ICdWaWV3IFN0YXRzJyxcbiAgICAnbWVudS5kZWxldGUnOiAnRGVsZXRlJyxcbiAgICBcbiAgICAvLyBTdGF0dXMgYmFyXG4gICAgJ3N0YXR1cy5kdWUnOiAne2NvdW50fSBkdWUnLFxuICAgICdzdGF0dXMudG9vbHRpcCc6ICd7ZHVlfSBjYXJkcyBkdWUgZm9yIHJldmlld1xcbntuZXd9IG5ldyBjYXJkcycsXG4gICAgXG4gICAgLy8gTWlzY1xuICAgICdlbXB0eS5ub0NvbnRlbnQnOiAnTm8gY29udGVudCB5ZXQnLFxuICAgICdlbXB0eS5ub0RvY3VtZW50cyc6ICdObyBkb2N1bWVudHMnLFxuICAgICdmaWxlTGlzdC50aXRsZSc6ICdcdUQ4M0RcdURDQzEgRG9jdW1lbnRzJyxcblxuICAgICdub3RpY2UuZmlsZU5vdEZvdW5kJzogJ1x1Mjc0QyBTb3VyY2UgZmlsZSBub3QgZm91bmQnLFxuJ25vdGljZS5qdW1wZWRUb1NvdXJjZSc6ICdcdTI3MDUgSnVtcGVkIHRvIHNvdXJjZScsXG4nbm90aWNlLmp1bXBGYWlsZWQnOiAnXHUyNzRDIEp1bXAgZmFpbGVkJyxcbidub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIEZsYXNoY2FyZCBub3QgZm91bmQnLFxuJ25vdGljZS5hbHJlYWR5SGFzRmxhc2hjYXJkcyc6ICdcdTI2QTBcdUZFMEYgU2VsZWN0ZWQgbm90ZXMgYWxyZWFkeSBoYXZlIGZsYXNoY2FyZHMnLFxuJ25vdGljZS5iYXRjaERlbGV0ZWQnOiAnXHUyNzA1IERlbGV0ZWQge3N1Y2Nlc3N9IGl0ZW1zJyxcbidjb25maXJtLmRlbGV0ZU5vdGUnOiAnRGVsZXRlIHRoaXMgbm90ZT8nLFxuJ2NvbmZpcm0uZGVsZXRlRmxhc2hjYXJkJzogJ0RlbGV0ZSB0aGlzIGZsYXNoY2FyZD8nLFxuJ2NvbmZpcm0uYmF0Y2hEZWxldGVOb3Rlcyc6ICdEZWxldGUge2NvdW50fSBzZWxlY3RlZCBub3Rlcz8nLFxuJ2NvbmZpcm0uYmF0Y2hEZWxldGVGbGFzaGNhcmRzJzogJ0RlbGV0ZSB7Y291bnR9IHNlbGVjdGVkIGZsYXNoY2FyZHM/JyxcbiBcbid0b29sYmFyLmNoZWNrUmV2aWV3LnRvb2x0aXAnOiAnQ2hlY2sgaWYgdGhlcmUgYXJlIGNhcmRzIHRvIHJldmlldycsXG5cbidiYXRjaC5kZXNlbGVjdEFsbCc6ICdEZXNlbGVjdCBBbGwnLFxuJ2JhdGNoLmRlc2VsZWN0QWxsLnRvb2x0aXAnOiAnRGVzZWxlY3QgYWxsIGl0ZW1zIG9uIGN1cnJlbnQgcGFnZScsXG4nYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnOiAnU2VsZWN0IGFsbCB7Y291bnR9IGl0ZW1zJyxcbidiYXRjaC5ub0l0ZW1zJzogJ05vIGl0ZW1zIHRvIHNlbGVjdCcsXG4nYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0JzogJ1BsZWFzZSBzZWxlY3QgXCJBbm5vdGF0ZWRcIiBvciBcIk5vdCBBbm5vdGF0ZWRcIiBmaXJzdCcsXG4nYmF0Y2guY3JlYXRlLnRvb2x0aXAnOiAnQmF0Y2ggY3JlYXRlIGZsYXNoY2FyZHMnLFxuJ2JhdGNoLmRlbGV0ZS50b29sdGlwJzogJ0JhdGNoIGRlbGV0ZScsXG4nYmF0Y2guY2FuY2VsLnRvb2x0aXAnOiAnRXhpdCBiYXRjaCBtb2RlIGFuZCBjbGVhciBhbGwgc2VsZWN0aW9ucycsXG5cbi8vIHJldmlld1xuJ2NvbmZpcm0ucmVzZXRDYXJkU3RhdHMnOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0IHRoaXMgY2FyZFxcJ3MgbGVhcm5pbmcgcHJvZ3Jlc3M/Jyxcbidjb25maXJtLnJlc2V0RGVja1N0YXRzJzogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCBhbGwgbGVhcm5pbmcgcHJvZ3Jlc3MgZm9yIGRlY2sgXCJ7ZGVja31cIj8nLFxuJ25vdGljZS5kZWNrU3RhdHNSZXNldCc6ICdcdTI3MDUgRGVjayBcIntkZWNrfVwiIHN0YXRpc3RpY3MgcmVzZXQnLFxuJ25vdGljZS5mbGFzaGNhcmREZWxldGVkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBGbGFzaGNhcmQgZGVsZXRlZCcsXG4nbm90aWNlLmRlbGV0ZUZsYXNoY2FyZEZhaWxlZCc6ICdcdTI3NEMgRmFpbGVkIHRvIGRlbGV0ZSBmbGFzaGNhcmQnLFxuJ25vdGljZS5mbGFzaGNhcmRVcGRhdGVkJzogJ1x1MjcwNSBGbGFzaGNhcmQgdXBkYXRlZCcsXG4nbm90aWNlLnVwZGF0ZUZsYXNoY2FyZEZhaWxlZCc6ICdcdTI3NEMgRmFpbGVkIHRvIHVwZGF0ZSBmbGFzaGNhcmQnLFxuJ25vdGljZS5jYXJkU3RhdHNSZXNldCc6ICdcdTI3MDUgQ2FyZCBzdGF0aXN0aWNzIHJlc2V0Jyxcbidub3RpY2UucmVzZXRTdGF0c0ZhaWxlZCc6ICdcdTI3NEMgRmFpbGVkIHRvIHJlc2V0IHN0YXRpc3RpY3MnLFxuLy8gc2lkZWJhclxuJ3Jldmlldy50b2RheVByb2dyZXNzJzogJ1RvZGF5XFwncyBSZXZpZXc6IHtyZXZpZXdlZH0gLyB7dG90YWx9JyxcbidyZXZpZXcuZGVsYXllZEhvdXJzU2hvcnQnOiAnXHUyNkEwXHVGRTBGIFJldmlldyBkZWxheWVkIHtob3Vyc30gaG91cnMsIGdvb2QgdGltZSB0byBoYW5kbGUnLFxuJ2dyb3VwLnVuY2F0ZWdvcml6ZWQnOiAnVW5jYXRlZ29yaXplZCcsXG5cblxuLy8gY29tcG9uZW50L21vZGFsL2JhdGNoXG5cbidiYXRjaENyZWF0ZS50aXRsZSc6ICdcdTI2QTEgQmF0Y2ggQ3JlYXRlIEZsYXNoY2FyZHMnLFxuICAnYmF0Y2hDcmVhdGUuZGVzY3JpcHRpb24nOiAnQ3JlYXRlIGZsYXNoY2FyZHMgZm9yIHtjb3VudH0gbm90ZXMgd2l0aG91dCBjYXJkcycsXG4gICdiYXRjaENyZWF0ZS5jYXJkVHlwZSc6ICdDYXJkIFR5cGUnLFxuICAnYmF0Y2hDcmVhdGUuc21hcnRUeXBlJzogJ1x1MjZBMSBTbWFydCBSZWNvZ25pdGlvbicsXG4gICdiYXRjaENyZWF0ZS5zbWFydFR5cGUuZGVzYyc6ICdBdXRvbWF0aWNhbGx5IGNob29zZSB0aGUgYmVzdCB0eXBlJyxcbiAgJ2JhdGNoQ3JlYXRlLnFhVHlwZSc6ICdcdUQ4M0RcdURDREQgUSZBIENhcmQnLFxuICAnYmF0Y2hDcmVhdGUucWFUeXBlLmRlc2MnOiAnUXVlc3Rpb24gYW5kIGFuc3dlciBmb3JtYXQnLFxuICAnYmF0Y2hDcmVhdGUuY2xvemVUeXBlJzogJ1x1MjcwRlx1RkUwRiBDbG96ZSBDYXJkJyxcbiAgJ2JhdGNoQ3JlYXRlLmNsb3plVHlwZS5kZXNjJzogJ0ZpbGwgaW4gdGhlIGJsYW5rJyxcbiAgJ2JhdGNoQ3JlYXRlLmNhbmNlbCc6ICdDYW5jZWwnLFxuICAnYmF0Y2hDcmVhdGUuY3JlYXRlQnV0dG9uJzogJ0NyZWF0ZSB7Y291bnR9IGNhcmRzJyxcbiAgJ2JhdGNoQ3JlYXRlLnN1Y2Nlc3NOb3RpY2UnOiAnXHUyNzA1IENyZWF0ZWQge3N1Y2Nlc3N9IGZsYXNoY2FyZHMhe2ZhaWxlZCwgcGx1cmFsLCA9MCB7fSBvdGhlciB7ICh7ZmFpbGVkfSBmYWlsZWQpfX0nLFxuLy8gY29tcG9uZW50L21vZGFsL0VkaXRGbGFzaGNhcmRNb2RhbFxuJ2VkaXRDYXJkLnRpdGxlJzogJ1x1MjcwRlx1RkUwRiBFZGl0IEZsYXNoY2FyZCcsXG4nZWRpdENhcmQuZGVzY3JpcHRpb24ucWEnOiAnRWRpdCBRJkEgY2FyZCBjb250ZW50JyxcbidlZGl0Q2FyZC5kZXNjcmlwdGlvbi5jbG96ZSc6ICdFZGl0IENsb3plIGNhcmQgY29udGVudCcsXG4nZWRpdENhcmQuaW5mby5maWxlJzogJ1x1RDgzRFx1RENDMSBGaWxlJyxcbidlZGl0Q2FyZC5pbmZvLmRlY2snOiAnXHVEODNEXHVEQ0RBIERlY2snLFxuJ2VkaXRDYXJkLmluZm8ucmV2aWV3cyc6ICdcdUQ4M0RcdURDQ0EgUmV2aWV3cycsXG4nZWRpdENhcmQuaW5mby5jb3JyZWN0JzogJ0NvcnJlY3QnLFxuJ2VkaXRDYXJkLmZyb250LnFhJzogJ1F1ZXN0aW9uIChGcm9udCknLFxuJ2VkaXRDYXJkLmZyb250LmNsb3plJzogJ0Z1bGwgVGV4dCcsXG4nZWRpdENhcmQuZnJvbnQuZGVzYyc6ICdDb250ZW50IHNob3duIG9uIGNhcmQgZnJvbnQnLFxuJ2VkaXRDYXJkLmJhY2sucWEnOiAnQW5zd2VyIChCYWNrKScsXG4nZWRpdENhcmQuYmFjay5jbG96ZSc6ICdDbG96ZSBBbnN3ZXJzJyxcbidlZGl0Q2FyZC5iYWNrLmRlc2MucWEnOiAnQW5zd2VyIHNob3duIG9uIGNhcmQgYmFjaycsXG4nZWRpdENhcmQuYmFjay5kZXNjLmNsb3plJzogJ1NlcGFyYXRlIG11bHRpcGxlIGFuc3dlcnMgd2l0aCBjb21tYXMnLFxuJ2VkaXRDYXJkLmNhbmNlbCc6ICdDYW5jZWwnLFxuJ2VkaXRDYXJkLnNhdmUnOiAnU2F2ZScsXG4nZWRpdENhcmQuZXJyb3IuZW1wdHlGcm9udCc6ICdcdTI2QTBcdUZFMEYgUXVlc3Rpb24vVGV4dCBjYW5ub3QgYmUgZW1wdHknLFxuJ2VkaXRDYXJkLmVycm9yLmVtcHR5QmFjayc6ICdcdTI2QTBcdUZFMEYgQW5zd2VyIGNhbm5vdCBiZSBlbXB0eScsXG4nZWRpdENhcmQuc3VjY2Vzcyc6ICdcdTI3MDUgRmxhc2hjYXJkIHVwZGF0ZWQnLFxuJ2VkaXRDYXJkLnNhdmVGYWlsZWQnOiAnXHUyNzRDIFNhdmUgZmFpbGVkJyxcbi8vIGNvbXBvbmVudC9tb2RhbC9GbGFzaGNhcmRFZGl0TW9kYWxcbidmbGFzaGNhcmRFZGl0LnRpdGxlJzogJ0VkaXQgRmxhc2hjYXJkJyxcbidmbGFzaGNhcmRFZGl0LnF1ZXN0aW9uJzogJ1F1ZXN0aW9uJyxcbidmbGFzaGNhcmRFZGl0LmFuc3dlcic6ICdBbnN3ZXInLFxuJ2ZsYXNoY2FyZEVkaXQuc2F2ZSc6ICdTYXZlJyxcbi8vIGNvbXBvbmVudC9tb2RhbC9NYW51YWxGbGFzaGNhcmRNb2RhbC50c1xuJ21hbnVhbENhcmQudGl0bGUucWEnOiAnXHUyNzBGXHVGRTBGIENyZWF0ZSBRJkEgRmxhc2hjYXJkJyxcbidtYW51YWxDYXJkLnRpdGxlLmNsb3plJzogJ1x1MjcwRlx1RkUwRiBDcmVhdGUgQ2xvemUgRmxhc2hjYXJkJyxcbidtYW51YWxDYXJkLmRlc2NyaXB0aW9uLnFhJzogJ0NyZWF0ZSBhIFEmQSBjYXJkIHdpdGggY3VzdG9tIHF1ZXN0aW9uIGFuZCBhbnN3ZXInLFxuJ21hbnVhbENhcmQuZGVzY3JpcHRpb24uY2xvemUnOiAnQ3JlYXRlIGEgY2xvemUgY2FyZCBieSBtYXJraW5nIGNvbnRlbnQgdG8gYmUgaGlkZGVuIGluIGZ1bGwgdGV4dCcsXG4nbWFudWFsQ2FyZC5mcm9udC5xYSc6ICdRdWVzdGlvbiAoRnJvbnQpJyxcbidtYW51YWxDYXJkLmZyb250LmNsb3plJzogJ0Z1bGwgVGV4dCcsXG4nbWFudWFsQ2FyZC5mcm9udC5kZXNjLnFhJzogJ1F1ZXN0aW9uIGRpc3BsYXllZCBvbiBjYXJkIGZyb250JyxcbidtYW51YWxDYXJkLmZyb250LmRlc2MuY2xvemUnOiAnQ29tcGxldGUgc2VudGVuY2Ugb3IgcGFyYWdyYXBoIGNvbnRhaW5pbmcgdGhlIGFuc3dlcicsXG4nbWFudWFsQ2FyZC5mcm9udC5wbGFjZWhvbGRlci5xYSc6ICdlLmcuLCBXaGF0IGlzIHNwYWNlZCByZXBldGl0aW9uPycsXG4nbWFudWFsQ2FyZC5mcm9udC5wbGFjZWhvbGRlci5jbG96ZSc6ICdlLmcuLCBTcGFjZWQgcmVwZXRpdGlvbiBpcyBhIGxlYXJuaW5nIHRlY2huaXF1ZScsXG4nbWFudWFsQ2FyZC5iYWNrLnFhJzogJ0Fuc3dlciAoQmFjayknLFxuJ21hbnVhbENhcmQuYmFjay5jbG96ZSc6ICdDbG96ZSBDb250ZW50JyxcbidtYW51YWxDYXJkLmJhY2suZGVzYy5xYSc6ICdBbnN3ZXIgZGlzcGxheWVkIG9uIGNhcmQgYmFjaycsXG4nbWFudWFsQ2FyZC5iYWNrLmRlc2MuY2xvemUnOiAnS2V5d29yZCBvciBwaHJhc2UgdG8gYmUgaGlkZGVuJyxcbidtYW51YWxDYXJkLmJhY2sucGxhY2Vob2xkZXIucWEnOiAnZS5nLiwgU3BhY2VkIHJlcGV0aXRpb24gaXMgYSBsZWFybmluZyB0ZWNobmlxdWUuLi4nLFxuJ21hbnVhbENhcmQuYmFjay5wbGFjZWhvbGRlci5jbG96ZSc6ICdlLmcuLCBzcGFjZWQgcmVwZXRpdGlvbicsXG4nbWFudWFsQ2FyZC5jYW5jZWwnOiAnQ2FuY2VsJyxcbidtYW51YWxDYXJkLmNyZWF0ZSc6ICdDcmVhdGUgRmxhc2hjYXJkJyxcbidtYW51YWxDYXJkLmVycm9yLmVtcHR5RnJvbnQnOiAnXHUyNkEwXHVGRTBGIFF1ZXN0aW9uL1RleHQgY2Fubm90IGJlIGVtcHR5JyxcbidtYW51YWxDYXJkLmVycm9yLmVtcHR5QmFjayc6ICdcdTI2QTBcdUZFMEYgQW5zd2VyIGNhbm5vdCBiZSBlbXB0eScsXG4nbWFudWFsQ2FyZC5zdWNjZXNzLnFhJzogJ1x1MjcwNSBRJkEgZmxhc2hjYXJkIGNyZWF0ZWQnLFxuJ21hbnVhbENhcmQuc3VjY2Vzcy5jbG96ZSc6ICdcdTI3MDUgQ2xvemUgZmxhc2hjYXJkIGNyZWF0ZWQnLFxuJ21hbnVhbENhcmQuY3JlYXRlRmFpbGVkJzogJ1x1Mjc0QyBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZCcsXG4vLyBzcmMvdWkvY29tcG9uZW50cy9Db250ZW50TGlzdC50cyBcbidjb250ZW50TGlzdC5ncm91cC5hbm5vdGF0ZWQnOiAnQW5ub3RhdGVkJyxcbidjb250ZW50TGlzdC5ncm91cC5ub3RBbm5vdGF0ZWQnOiAnTm90IEFubm90YXRlZCcsXG4nY29udGVudExpc3QuZW1wdHkubm9GbGFzaGNhcmRzJzogJ1x1RDgzRFx1RENFRCBObyBmbGFzaGNhcmRzIGluIHRoaXMgZ3JvdXAnLFxuJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vTm90ZXMnOiAnTm8gbm90ZXMgaW4gY3VycmVudCBkb2N1bWVudCcsXG4nY29udGVudExpc3QuZW1wdHkudHJ5RmlsdGVyJzogJ1RyeSBzd2l0Y2hpbmcgZmlsdGVycyB0byB2aWV3Jyxcbidjb250ZW50TGlzdC5lbXB0eS5zdGFydEhpZ2hsaWdodCc6ICdTdGFydCBoaWdobGlnaHRpbmcgdGV4dCB0byBjcmVhdGUgbm90ZXMnLFxuJ2NvbnRlbnRMaXN0LmVtcHR5Lm5vQ29udGVudCc6ICdObyBjb250ZW50IHlldCcsXG4vLyBzcmMvdWkvY29tcG9uZW50cy9Db250ZXh0TWVudUJ1aWxkZXIudHNcbidjb250ZXh0TWVudS5qdW1wVG9Tb3VyY2UnOiAnXHVEODNEXHVEQ0Q2IEp1bXAgdG8gU291cmNlJyxcbidjb250ZXh0TWVudS5lZGl0QW5ub3RhdGlvbic6ICdcdUQ4M0RcdURDQUMgRWRpdCBBbm5vdGF0aW9uJyxcbidjb250ZXh0TWVudS5lZGl0Rmxhc2hjYXJkJzogJ1x1MjcwRlx1RkUwRiBFZGl0IEZsYXNoY2FyZCcsXG4nY29udGV4dE1lbnUuZ2VuZXJhdGVGbGFzaGNhcmQnOiAnXHUyNkExIEdlbmVyYXRlIEZsYXNoY2FyZCcsXG4nY29udGV4dE1lbnUuY3JlYXRlUUEnOiAnXHUyNzk1IENyZWF0ZSBRJkEgQ2FyZCcsXG4nY29udGV4dE1lbnUuY3JlYXRlQ2xvemUnOiAnXHUyNzk1IENyZWF0ZSBDbG96ZSBDYXJkJyxcbidjb250ZXh0TWVudS52aWV3U3RhdHMnOiAnXHVEODNEXHVEQ0NBIFZpZXcgU3RhdHMnLFxuJ2NvbnRleHRNZW51LmRlbGV0ZU5vdGUnOiAnXHVEODNEXHVEREQxXHVGRTBGIERlbGV0ZSBOb3RlJyxcbidjb250ZXh0TWVudS5lZGl0Q2FyZCc6ICdcdTI3MEZcdUZFMEYgRWRpdCBDYXJkJyxcbidjb250ZXh0TWVudS5kZWxldGVDYXJkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBEZWxldGUgQ2FyZCcsXG4nc3RhdHMudGl0bGUnOiAnXHVEODNEXHVEQ0NBIEZsYXNoY2FyZCBTdGF0aXN0aWNzJyxcbidzdGF0cy5maWxlJzogJ1x1RDgzRFx1RENDMSBGaWxlJyxcbidzdGF0cy50eXBlJzogJ1x1RDgzQ1x1RENDRiBUeXBlJyxcbidzdGF0cy50eXBlLnFhJzogJ1EmQScsXG4nc3RhdHMudHlwZS5jbG96ZSc6ICdDbG96ZScsXG4nc3RhdHMuZGVjayc6ICdcdUQ4M0RcdURDREEgRGVjaycsXG4nc3RhdHMudGFncyc6ICdcdUQ4M0NcdURGRjdcdUZFMEYgVGFncycsXG4nc3RhdHMudGFncy5ub25lJzogJ05vbmUnLFxuJ3N0YXRzLnJldmlld0NvdW50JzogJ1x1RDgzRFx1RENDOCBSZXZpZXcgQ291bnQnLFxuJ3N0YXRzLmNvcnJlY3RDb3VudCc6ICdcdTI3MDUgQ29ycmVjdCBDb3VudCcsXG4nc3RhdHMuYWNjdXJhY3knOiAnXHVEODNEXHVEQ0NBIEFjY3VyYWN5JyxcbidzdGF0cy5hdmVyYWdlVGltZSc6ICdcdTIzRjFcdUZFMEYgQXZlcmFnZSBUaW1lJyxcbidzdGF0cy5kaWZmaWN1bHR5JzogJ1x1RDgzQ1x1REZBRiBEaWZmaWN1bHR5JyxcbidzdGF0cy5jcmVhdGVkQXQnOiAnXHVEODNEXHVEQ0M1IENyZWF0ZWQnLFxuJ3N0YXRzLmxhc3RSZXZpZXcnOiAnXHVEODNEXHVERDA0IExhc3QgUmV2aWV3JyxcbidzdGF0cy5sYXN0UmV2aWV3Lm5ldmVyJzogJ05ldmVyJyxcbidzdGF0cy5uZXh0UmV2aWV3JzogJ1x1MjNGMCBOZXh0IFJldmlldycsXG4nc3RhdHMuaW50ZXJ2YWwnOiAnXHVEODNEXHVEQ0NGIEludGVydmFsJyxcbidzdGF0cy5lYXNlJzogJ1x1RDgzRFx1RENBQSBFYXNlJyxcbidzdGF0cy5zZXBhcmF0b3InOiAnXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxJyxcbidzdGF0cy50aW1lcyc6ICd0aW1lcycsXG4nc3RhdHMuc2Vjb25kcyc6ICdzJyxcbidzdGF0cy5kYXlzJzogJ2RheXMnLFxuLy8gc3JjL3VpL3NlcnZpY2VzL092ZXJ2aWV3U2VydmljZS50c1xuJ3NlcnZpY2UuZmlsZU5vdEV4aXN0JzogJ1x1MjZBMFx1RkUwRiBGaWxlIGRvZXMgbm90IGV4aXN0JyxcbidzZXJ2aWNlLmFubm90YXRpb25EZWxldGVkJzogJ1x1RDgzRFx1REREMVx1RkUwRiBBbm5vdGF0aW9uIGRlbGV0ZWQnLFxuJ3NlcnZpY2UuZmxhc2hjYXJkR2VuZXJhdGVkJzogJ1x1MjZBMSBGbGFzaGNhcmQgZ2VuZXJhdGVkJyxcbidzZXJ2aWNlLmdlbmVyYXRlRmFpbGVkJzogJ1x1Mjc0QyBGYWlsZWQgdG8gZ2VuZXJhdGUgZmxhc2hjYXJkJyxcbidzZXJ2aWNlLmZsYXNoY2FyZE5vdEZvdW5kJzogJ1x1MjZBMFx1RkUwRiBGbGFzaGNhcmQgbm90IGZvdW5kJyxcbidzZXJ2aWNlLnNvdXJjZUZpbGVPcGVuZWQnOiAnXHUyNzA1IFNvdXJjZSBmaWxlIG9wZW5lZCcsXG4nc2VydmljZS5ub3RlTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIE9yaWdpbmFsIG5vdGUgbm90IGZvdW5kJyxcbi8vIFx1NjcwMFx1OEZEMVx1NTIyMFx1OTY2NFxuJ2NvbmZpcm0uZGVsZXRlV2lsbFJlbW92ZSc6ICdUaGlzIHdpbGwgcmVtb3ZlOicsXG4nY29uZmlybS5ub3RlJzogJ25vdGUnLFxuJ2NvbmZpcm0ubm90ZXMnOiAnbm90ZXMnLFxuJ2NvbmZpcm0uZmxhc2hjYXJkcyc6ICdmbGFzaGNhcmRzJyxcbidjb25maXJtLmFubm90YXRpb24nOiAnYW5ub3RhdGlvbicsXG4nY29uZmlybS5jYW5ub3RVbmRvJzogJ1x1MjZBMFx1RkUwRiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lIScsXG4nbm90aWNlLmZpbGVEZWxldGVkJzogJ1x1RDgzRFx1RENDNCBGaWxlIFwie2ZpbGV9XCIgaGFzIGJlZW4gZGVsZXRlZCcsXG4nbm90aWNlLmF1dG9DbGVhbnVwJzogJ0F1dG8tY2xlYW5pbmcgYXNzb2NpYXRlZCBjb250ZW50OicsXG4ncmVjZW50RGVsZXRlLnRpdGxlJzogJ1x1RDgzRFx1REREMVx1RkUwRiBSZWNlbnRseSBEZWxldGVkIChMYXN0IDcgRGF5cyknLFxuJ3JlY2VudERlbGV0ZS5lbXB0eSc6ICdObyByZWNlbnRseSBkZWxldGVkIGl0ZW1zJyxcbidyZWNlbnREZWxldGUucmVzdG9yZSc6ICdSZXN0b3JlJyxcbidyZWNlbnREZWxldGUuZGVsZXRlUGVybWFuZW50bHknOiAnRGVsZXRlIFBlcm1hbmVudGx5JyxcblxuJ25vdGljZS5tb3ZlZFRvVHJhc2gnOiAnXHVEODNEXHVEREQxXHVGRTBGIE1vdmVkIHRvIHRyYXNoIChyZWNvdmVyYWJsZSB3aXRoaW4gNyBkYXlzKScsXG4nbm90aWNlLmJhdGNoTW92ZWRUb1RyYXNoJzogJ1x1MjcwNSBNb3ZlZCB7c3VjY2Vzc30gaXRlbXMgdG8gdHJhc2h7ZmFpbGVkLCBwbHVyYWwsID0wIHt9IG90aGVyIHssIHtmYWlsZWR9IGZhaWxlZH19Jyxcbidub3RpY2UuZmlsZURlbGV0ZWRTaW1wbGUnOiAnXHVEODNEXHVEQ0M0IEZpbGUgZGVsZXRlZDoge25vdGVzfSBub3RlcyBhbmQge2NhcmRzfSBjYXJkcyBtb3ZlZCB0byB0cmFzaCcsXG4nbm90aWNlLm5vdGVSZXN0b3JlZCc6ICdcdTI3MDUgTm90ZSByZXN0b3JlZCcsXG4nbm90aWNlLmNhcmRSZXN0b3JlZCc6ICdcdTI3MDUgRmxhc2hjYXJkIHJlc3RvcmVkJyxcbidub3RpY2UuY2FyZHNSZXN0b3JlZCc6ICdcdTI3MDUgUmVzdG9yZWQge2NvdW50fSBmbGFzaGNhcmRzJyxcbidub3RpY2UucmVzdG9yZUZhaWxlZCc6ICdcdTI3NEMgUmVzdG9yZSBmYWlsZWQnLFxuJ25vdGljZS5wZXJtYW5lbnRseURlbGV0ZWQnOiAnXHUyNzA1IFBlcm1hbmVudGx5IGRlbGV0ZWQnLFxuJ25vdGljZS5kZWxldGVGYWlsZWQnOiAnXHUyNzRDIERlbGV0ZSBmYWlsZWQnLFxuJ25vdGljZS5hbGxEZWxldGVkJzogJ1x1MjcwNSBDbGVhcmVkIHtub3Rlc30gbm90ZXMgYW5kIHtjYXJkc30gZmxhc2hjYXJkcyBmcm9tIHRyYXNoJyxcbidyZWNlbnREZWxldGUuY2xlYXJBbGwnOiAnXHVEODNEXHVEREQxXHVGRTBGIENsZWFyIEFsbCcsXG4ncmVjZW50RGVsZXRlLmVtcHR5SGludCc6ICdEZWxldGVkIGl0ZW1zIHdpbGwgYmUga2VwdCBmb3IgNyBkYXlzJyxcbidjb25maXJtLmNsZWFyQWxsRGVsZXRlZCc6ICdQZXJtYW5lbnRseSBkZWxldGUgYWxsIGl0ZW1zIGluIHRyYXNoPyBUaGlzIGNhbm5vdCBiZSB1bmRvbmUhJyxcbidjb25maXJtLnJlc3RvcmVBc3NvY2lhdGVkQ2FyZHMnOiAnUmVzdG9yZSB7Y291bnR9IGFzc29jaWF0ZWQgZmxhc2hjYXJkcz8nLFxuJ2RlbGV0ZVJlYXNvbi51c2VyJzogJ01hbnVhbCBkZWxldGlvbicsXG4nZGVsZXRlUmVhc29uLm5vdGUnOiAnTm90ZSBkZWxldGVkJyxcbidkZWxldGVSZWFzb24uZmlsZSc6ICdGaWxlIGRlbGV0ZWQnLFxuJ3RpbWUuanVzdE5vdyc6ICdKdXN0IG5vdycsXG4ndGltZS5taW51dGVzQWdvJzogJ3ttaW51dGVzfW0gYWdvJyxcbid0aW1lLmhvdXJzQWdvJzogJ3tob3Vyc31oIGFnbycsXG4ndGltZS5kYXlzQWdvJzogJ3tkYXlzfWQgYWdvJyxcbi8vIGRlbGV0ZSBjb25maXJtXG4nY29uZmlybS5kZWxldGVJdGVtcyc6ICdDb25maXJtIGRlbGV0aW9uPycsXG4nY29uZmlybS5ub3Rlc0NvdW50JzogJ3tjb3VudH0gbm90ZXMnLFxuJ2NvbmZpcm0uY2FyZHNDb3VudCc6ICd7Y291bnR9IGZsYXNoY2FyZHMnLFxuLy8gcXVpY2sgZmxhc2hjYXJkICBjcmVhdG9yXG4ncXVpY2tDYXJkLmNyZWF0ZWQucWEnOiAnXHUyNzA1IEZsYXNoY2FyZCBjcmVhdGVkISAoUSZBKScsXG4ncXVpY2tDYXJkLmNyZWF0ZWQuY2xvemUnOiAnXHUyNzA1IEZsYXNoY2FyZCBjcmVhdGVkISAoQ2xvemUgd2l0aCB7Y291bnR9IGJsYW5rcyknLFxuJ3F1aWNrQ2FyZC5jcmVhdGVGYWlsZWQnOiAnXHUyNzRDIEZhaWxlZCB0byBjcmVhdGUgZmxhc2hjYXJkJyxcbidxdWlja0NhcmQubm9LZXl3b3Jkcyc6ICdcdTI2QTBcdUZFMEYgTm8ga2V5d29yZHMgZm91bmQgZm9yIGNsb3plIGRlbGV0aW9uJyxcbidxdWlja0NhcmQubm9EZWxldGlvbnMnOiAnXHUyNkEwXHVGRTBGIENvdWxkIG5vdCBjcmVhdGUgY2xvemUgZGVsZXRpb25zJyxcbidxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5oZWFkaW5nJzogJ1doYXQgaXMgdGhlIGtleSBwb2ludCBhYm91dCBcIntoZWFkaW5nfVwiPycsXG4ncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQuc2hvcnQnOiAnV2hhdCBkb2VzIFwie2NvbnRlbnR9XCIgbWVhbj8nLFxuJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0Lm1lZGl1bSc6ICdFeHBsYWluOiBcIntjb250ZW50fVwiJyxcbidxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5sb25nJzogJ1doYXQgYXJlIHRoZSBrZXkgcG9pbnRzIGluIHRoaXMgY29udGVudD8nLFxuICAvLyBVbmxvY2tTeXN0ZW0gLSBMZXZlbCBOYW1lc1xuICAndW5sb2NrLmxldmVsLjEnOiAnQ29sbGVjdG9yJyxcbiAgJ3VubG9jay5sZXZlbC4yJzogJ1RoaW5rZXInLFxuICAndW5sb2NrLmxldmVsLjMnOiAnTWVtb3JpemVyJyxcbiAgJ3VubG9jay5sZXZlbC40JzogJ1RyYWluZXInLFxuICAndW5sb2NrLmxldmVsLjUnOiAnQW5hbHlzdCcsXG4gIFxuICAvLyBMZXZlbCBVcCBNZXNzYWdlc1xuICAndW5sb2NrLmxldmVsVXAuMSc6ICdcdUQ4M0NcdURGODkgbGV2ZWwuMSBXZWxjb21lLCBDb2xsZWN0b3IhJyxcbiAgJ3VubG9jay5sZXZlbFVwLjInOiAnXHVEODNDXHVERjkzIGxldmVsLjIgVXBncmFkZWQgdG8gVGhpbmtlciFcXG5VbmxvY2tlZDogQW5ub3RhdGlvbnMsIEJhdGNoIE9wZXJhdGlvbnMnLFxuICAndW5sb2NrLmxldmVsVXAuMyc6ICdcdUQ4M0VcdURERTAgbGV2ZWwuMyBZb3UgYXJlIG5vdyBhIE1lbW9yaXplciFcXG5VbmxvY2tlZDogU2NhbiBGZWF0dXJlcywgUmV2aWV3IFN5c3RlbScsXG4gICd1bmxvY2subGV2ZWxVcC40JzogJ1x1RDgzRFx1RENBQSBsZXZlbC40IFByb21vdGVkIHRvIFRyYWluZXIhXFxuVW5sb2NrZWQ6IFN0YXRpc3RpY3MgJiBBbmFseXNpcycsXG4gICd1bmxvY2subGV2ZWxVcC41JzogJ1x1RDgzQ1x1REZDNiBsZXZlbC41IEFjaGlldmVkIEFuYWx5c3QhXFxuQWxsIGZlYXR1cmVzIHVubG9ja2VkJyxcbiAgXG4vLyBOZXh0IFN0ZXBzXG4ndW5sb2NrLm5leHRTdGVwcy5sZXZlbDEnOiAnXHVEODNEXHVEQ0U2IEV4dHJhY3QgTm90ZXM6XFxuICBcdTIwMjIgQXMgVGV4dDoge3RleHR9LzNcXG4gIFx1MjAyMiBBcyBRJkE6IHtxYX0vM1xcbiAgXHUyMDIyIEFzIENsb3plOiB7Y2xvemV9LzMnLFxuJ3VubG9jay5uZXh0U3RlcHMubGV2ZWwyJzogJ1x1RDgzRFx1RENERCBDb21wbGV0ZSBBbm5vdGF0aW9uczoge2Fubm90YXRpb25zfS8zXFxuXHVEODNEXHVEQ0NCIFNjYW4gTm90ZXM6IHtzY2FubmVkfS81Jyxcbid1bmxvY2submV4dFN0ZXBzLmxldmVsMyc6ICdcdUQ4M0RcdUREMDQgUmV2aWV3IENhcmRzOiB7cmV2aWV3ZWR9LzMwXFxuXHVEODNEXHVEQ0NCIFNjYW4gVGFibGVzOiB7dGFibGVzfS8yJyxcbid1bmxvY2submV4dFN0ZXBzLmxldmVsNCc6ICdcdUQ4M0RcdUREMDQgUmV2aWV3IENhcmRzOiB7cmV2aWV3ZWR9LzcwXFxuXHVEODNEXHVEQ0M1IFRvdGFsIERheXM6IHt0b3RhbH0vMjFcXG5cdUQ4M0RcdURDQ0EgVmlzaXQgU3RhdHMgUGFnZToge3Zpc2l0ZWR9Jyxcbid1bmxvY2submV4dFN0ZXBzLmxldmVsNSc6ICdcdUQ4M0NcdURGODkgQ29uZ3JhdHVsYXRpb25zISBBbGwgZmVhdHVyZXMgdW5sb2NrZWQhXFxuXFxuXHVEODNEXHVERDJFIENvbW11bml0eSBmZWF0dXJlIGNvbWluZyBzb29uXFxuV2lsbCBiZSBlbmFibGVkIHdoZW4gY29uZGl0aW9ucyBhcmUgbWV0XFxuXHVEODNEXHVERDE3IDxhIGhyZWY9XCJodHRwczovL2p6LXF1YXJ0ei5wYWdlcy5kZXYvNi5hYm91dC8lRTYlOTklQkElRTUlOUIlOEElRTUlOUIlQTJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5MZWFybiBNb3JlIChDbGljayB0byBWaWV3KTwvYT4nLFxuIFxuLy8gTW9kYWxcbiAgJ3VubG9jay5tb2RhbC50aXRsZSc6ICdcdUQ4M0RcdUREMTIgRmVhdHVyZSBMb2NrZWQnLFxuICAndW5sb2NrLm1vZGFsLnJlcXVpcmVMZXZlbCc6ICdcIntmZWF0dXJlfVwiIHJlcXVpcmVzIEx2e2xldmVsfSB0byB1bmxvY2snLFxuICAndW5sb2NrLm1vZGFsLmN1cnJlbnRQcm9ncmVzcyc6ICdDdXJyZW50IFByb2dyZXNzOicsXG4gIFxuICAvLyBMZXZlbCBJbmZvIE1vZGFsXG4gICd1bmxvY2subGV2ZWxJbmZvLnRpdGxlJzogJ1x1RDgzQ1x1REZDNiBMdntsZXZlbH0ge25hbWV9JyxcbiAgJ3VubG9jay5sZXZlbEluZm8uY3VtdWxhdGl2ZVN0YXRzJzogJ0N1bXVsYXRpdmUgU3RhdGlzdGljcycsXG4gICd1bmxvY2subGV2ZWxJbmZvLm1pbGVzdG9uZXMnOiAnXHVEODNDXHVERkFGIEFjaGlldmVtZW50IE1pbGVzdG9uZXMnLFxuICBcbiAgLy8gU3RhdHMgTGFiZWxzXG4gICd1bmxvY2suc3RhdC5jYXJkc0V4dHJhY3RlZCc6ICdDYXJkcyBFeHRyYWN0ZWQnLFxuICAndW5sb2NrLnN0YXQuYW5ub3RhdGlvbnNDb21wbGV0ZWQnOiAnQW5ub3RhdGlvbnMgQWRkZWQnLFxuICAndW5sb2NrLnN0YXQuY2FyZHNSZXZpZXdlZCc6ICdDYXJkcyBSZXZpZXdlZCcsXG4gICd1bmxvY2suc3RhdC50YWJsZXNTY2FubmVkJzogJ1RhYmxlcyBTY2FubmVkJyxcbiAgJ3VubG9jay5zdGF0LmNvbnNlY3V0aXZlRGF5cyc6ICdDb25zZWN1dGl2ZSBEYXlzJyxcbiAgJ3VubG9jay5zdGF0LnRvdGFsRGF5cyc6ICdUb3RhbCBEYXlzJyxcbiAgXG4gIC8vIFByb2dyZXNzIEluZGljYXRvcnNcbiAgJ3VubG9jay5wcm9ncmVzcy5jYXJkc0V4dHJhY3RlZCc6ICdcdUQ4M0RcdURDRTYgRXh0cmFjdCBDYXJkcycsXG4gICd1bmxvY2sucHJvZ3Jlc3MuYW5ub3RhdGlvbnNDb21wbGV0ZWQnOiAnXHVEODNEXHVEQ0REIENvbXBsZXRlIEFubm90YXRpb25zJyxcbiAgJ3VubG9jay5wcm9ncmVzcy5jYXJkc1Jldmlld2VkJzogJ1x1RDgzRFx1REQwNCBSZXZpZXcgQ2FyZHMnLFxuICAndW5sb2NrLnByb2dyZXNzLnRhYmxlc1NjYW5uZWQnOiAnXHVEODNEXHVEQ0NCIFNjYW4gVGFibGVzJyxcbiAgJ3VubG9jay5wcm9ncmVzcy5jb25zZWN1dGl2ZURheXMnOiAnXHVEODNEXHVERDI1IENvbnNlY3V0aXZlIERheXMnLFxuICAndW5sb2NrLnByb2dyZXNzLnRvdGFsRGF5cyc6ICdcdUQ4M0RcdURDQzggVG90YWwgRGF5cycsXG4gICd1bmxvY2sucHJvZ3Jlc3Muc3RhdHNQYWdlVmlzaXRlZCc6ICdcdUQ4M0RcdURDQ0EgVmlzaXQgU3RhdHMgUGFnZScsXG4gICd1bmxvY2suY29tbXVuaXR5LmxvY2tlZCc6ICdDb21tdW5pdHkgZmVhdHVyZSBsb2NrZWQnLFxuJ3VubG9jay5jb21tdW5pdHkubGluayc6ICdMZWFybiBhYm91dCBDb21tdW5pdHknLFxuXG4nZmlsdGVyLnVuYW5ub3RhdGVkJzogJ05vIEFubm90YXRpb24nLFxuXG4vLyB1bmxvY2sgcmVmYWN0b3Jcbid1bmxvY2suc3RhdC5ub3Rlc0V4dHJhY3RlZEFzVGV4dCc6ICdOb3RlcyBhcyBUZXh0Jyxcbid1bmxvY2suc3RhdC5ub3Rlc0V4dHJhY3RlZEFzUUEnOiAnTm90ZXMgYXMgUSZBJyxcbid1bmxvY2suc3RhdC5ub3Rlc0V4dHJhY3RlZEFzQ2xvemUnOiAnTm90ZXMgYXMgQ2xvemUnLFxuJ3VubG9jay5zdGF0Lm5vdGVzU2Nhbm5lZCc6ICdOb3RlcyBTY2FubmVkJyxcbn0sXG5cbiAgXG4gICd6aC1DTic6IHtcbiAgICAvLyBWaWV3IHRpdGxlc1xuICAgICd2aWV3Lm92ZXJ2aWV3JzogJ1x1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOCcsXG4gICAgJ3ZpZXcucmV2aWV3JzogJ1x1NTkwRFx1NEU2MCcsXG4gICAgJ3ZpZXcuc3RhdHMnOiAnXHU3RURGXHU4QkExJyxcbiAgICBcbiAgICAvLyBUb29sYmFyXG4gICAgJ3Rvb2xiYXIuc2VhcmNoJzogJ1x1NjQxQ1x1N0QyMi4uLicsXG4gICAgJ3Rvb2xiYXIuZmlsdGVyLmFsbCc6ICdcdTUxNjhcdTkwRTgnLFxuICAgICd0b29sYmFyLmZpbHRlci5hbm5vdGF0ZWQnOiAnXHU2NzA5XHU2Mjc5XHU2Q0U4JyxcbiAgICAndG9vbGJhci5maWx0ZXIuZmxhc2hjYXJkcyc6ICdcdTY3MDlcdTk1RUFcdTUzNjEnLFxuICAgICd0b29sYmFyLmdyb3VwLmZpbGUnOiAnXHU2MzA5XHU2NTg3XHU0RUY2JyxcbiAgICAndG9vbGJhci5ncm91cC5hbm5vdGF0aW9uJzogJ1x1NjMwOVx1NjI3OVx1NkNFOCcsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAudGFnJzogJ1x1NjMwOVx1NjgwN1x1N0I3RScsXG4gICAgJ3Rvb2xiYXIuZ3JvdXAuZGF0ZSc6ICdcdTYzMDlcdTY1RTVcdTY3MUYnLFxuICAgICd0b29sYmFyLmNoZWNrUmV2aWV3JzogJ1x1NjhDMFx1NjdFNVx1NTkwRFx1NEU2MCcsXG4gICAgXG4gICAgLy8gQmF0Y2ggYWN0aW9uc1xuICAgICdiYXRjaC5zZWxlY3RBbGwnOiAnXHU1MTY4XHU5MDA5JyxcbiAgICAnYmF0Y2guY3JlYXRlJzogJ1x1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MScsXG4gICAgJ2JhdGNoLmRlbGV0ZSc6ICdcdTUyMjBcdTk2NjQnLFxuICAgICdiYXRjaC5jYW5jZWwnOiAnXHU1M0Q2XHU2RDg4JyxcbiAgICBcbiAgICAvLyBGaXhlZCBlbnRyaWVzXG4gICAgJ2VudHJ5LmFsbE5vdGVzJzogJ1x1NTE2OFx1OTBFOFx1N0IxNFx1OEJCMCcsXG4gICAgJ2VudHJ5LmNhcmRMaXN0JzogJ1x1OTVFQVx1NTM2MVx1NTIxN1x1ODg2OCcsXG4gICAgXG4gICAgLy8gTGV2ZWwgbmFtZXNcbiAgICAnbGV2ZWwuMSc6ICdcdTkxQzdcdTk2QzZcdTgwMDUnLFxuICAgICdsZXZlbC4yJzogJ1x1NjAxRFx1ODAwM1x1ODAwNScsXG4gICAgJ2xldmVsLjMnOiAnXHU4QkIwXHU1RkM2XHU1RTA4JyxcbiAgICAnbGV2ZWwuNCc6ICdcdThCQURcdTdFQzNcdTgwMDUnLFxuICAgICdsZXZlbC41JzogJ1x1NTIwNlx1Njc5MFx1NUUwOCcsXG4gICAgJ2xldmVsLmN1cnJlbnQnOiAnXHU1RjUzXHU1MjREXHU3QjQ5XHU3RUE3JyxcbiAgICAnbGV2ZWwuY2xpY2tEZXRhaWxzJzogJ1x1NzBCOVx1NTFGQlx1NjdFNVx1NzcwQlx1OEJFNlx1NjBDNScsXG4gICAgXG4gICAgLy8gUmV2aWV3IHJlbWluZGVyXG4gICAgJ3Jldmlldy50b2RheSc6ICdcdTRFQ0FcdTY1RTVcdTU5MERcdTRFNjAnLFxuICAgICdyZXZpZXcuc3RhcnQnOiAnXHU1RjAwXHU1OUNCXHU1OTBEXHU0RTYwJyxcbiAgICAncmV2aWV3Lmp1c3REdWUnOiAnXHUyM0YwIFx1NTIxQVx1NTIxQVx1NTIzMFx1NjcxRixcdThEODFcdTcwRURcdTU5MERcdTRFNjAnLFxuICAgICdyZXZpZXcuZGVsYXllZCc6ICdcdTI2QTBcdUZFMEYgXHU1OTBEXHU0RTYwXHU1REYyXHU1RUY2XHU1NDBFIHtob3Vyc30gXHU1QzBGXHU2NUY2JyxcbiAgICAncmV2aWV3LnVyZ2VudEhvdXJzJzogJ1x1MjZBMFx1RkUwRiBcdTU5MERcdTRFNjBcdTVERjJcdTVFRjZcdTU0MEUge2hvdXJzfSBcdTVDMEZcdTY1RjYsXHU1RUZBXHU4QkFFXHU0RjE4XHU1MTQ4XHU1QjhDXHU2MjEwJyxcbiAgICAncmV2aWV3LnVyZ2VudERheXMnOiAnXHVEODNEXHVERUE4IFx1NTkwRFx1NEU2MFx1NURGMlx1NUVGNlx1NTQwRSB7ZGF5c30gXHU1OTI5LFx1NUVGQVx1OEJBRVx1NUMzRFx1NUZFQlx1NkUwNVx1N0E3QSEnLFxuICAgICdyZXZpZXcuc3RyZWFrJzogJ1x1RDgzRFx1REQyNSBcdThGREVcdTdFRURcdTU5MERcdTRFNjBcdTdCMkMge2RheXN9IFx1NTkyOSEnLFxuICAgIFxuICAgIC8vIE5vdGljZXNcbiAgICAnbm90aWNlLm5vU2VsZWN0aW9uJzogJ1x1MjZBMFx1RkUwRiBcdThCRjdcdTUxNDhcdTkwMDlcdTYyRTlcdTk4NzlcdTc2RUUnLFxuICAgICdub3RpY2Uubm9EdWVDYXJkcyc6ICdcdTY2ODJcdTY1RTBcdTk3MDBcdTg5ODFcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDchJyxcbiAgICAnbm90aWNlLmRlbGV0ZWQnOiAnXHVEODNEXHVEREQxXHVGRTBGIFx1NURGMlx1NTIyMFx1OTY2NCcsXG4gICAgJ25vdGljZS5zYXZlZCc6ICdcdTI3MDUgXHU1REYyXHU0RkREXHU1QjU4JyxcbiAgICBcbiAgICAvLyBDb21tYW5kc1xuICAgICdjb21tYW5kLnNjYW5GaWxlJzogJ1x1NjI2Qlx1NjNDRlx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNicsXG4gICAgJ2NvbW1hbmQuc2NhblZhdWx0JzogJ1x1NjI2Qlx1NjNDRlx1NjU3NFx1NEUyQVx1NEVEM1x1NUU5MycsXG4gICAgJ2NvbW1hbmQub3Blbk92ZXJ2aWV3JzogJ1x1NjI1M1x1NUYwMFx1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOChcdTRGQTdcdThGQjlcdTY4MEYpJyxcbiAgICAnY29tbWFuZC5vcGVuTWFpbk92ZXJ2aWV3JzogJ1x1NTIwN1x1NjM2Mlx1NUI2Nlx1NEU2MFx1Njk4Mlx1ODlDOChcdTRFM0JcdTg5QzZcdTU2RkUpJyxcbiAgICAnY29tbWFuZC5hZGRBbm5vdGF0aW9uJzogJ1x1NkRGQlx1NTJBMFx1NjU4N1x1NEVGNlx1NjI3OVx1NkNFOCcsXG4gICAgJ2NvbW1hbmQuc3RhcnRSZXZpZXcnOiAnXHU1RjAwXHU1OUNCXHU5NUVBXHU1MzYxXHU1OTBEXHU0RTYwJyxcbiAgICAnY29tbWFuZC5zaG93U3RhdHMnOiAnXHU2NjNFXHU3OTNBXHU5NUVBXHU1MzYxXHU3RURGXHU4QkExJyxcbiAgICBcbiAgICAvLyBSaWJib25zXG4gICAgJ3JpYmJvbi5vdmVydmlldyc6ICdcdTYyNTNcdTVGMDBcdTVCNjZcdTRFNjBcdTY5ODJcdTg5QzgoXHU0RkE3XHU4RkI5XHU2ODBGKScsXG4gICAgJ3JpYmJvbi5yZXZpZXcnOiAnXHU1RjAwXHU1OUNCXHU1OTBEXHU0RTYwJyxcbiAgICBcbiAgICAvLyBDb250ZXh0IG1lbnVcbiAgICAnbWVudS5qdW1wVG9Tb3VyY2UnOiAnXHU4REYzXHU4RjZDXHU1MjMwXHU2RTkwJyxcbiAgICAnbWVudS50b2dnbGVBbm5vdGF0aW9uJzogJ1x1NTIwN1x1NjM2Mlx1NjI3OVx1NkNFOCcsXG4gICAgJ21lbnUuZWRpdEZsYXNoY2FyZCc6ICdcdTdGMTZcdThGOTFcdTk1RUFcdTUzNjEnLFxuICAgICdtZW51LnF1aWNrR2VuZXJhdGUnOiAnXHU1RkVCXHU5MDFGXHU3NTFGXHU2MjEwJyxcbiAgICAnbWVudS5jcmVhdGVRQSc6ICdcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTQnLFxuICAgICdtZW51LmNyZWF0ZUNsb3plJzogJ1x1NTIxQlx1NUVGQVx1NTg2Qlx1N0E3QScsXG4gICAgJ21lbnUudmlld1N0YXRzJzogJ1x1NjdFNVx1NzcwQlx1N0VERlx1OEJBMScsXG4gICAgJ21lbnUuZGVsZXRlJzogJ1x1NTIyMFx1OTY2NCcsXG4gICAgXG4gICAgLy8gU3RhdHVzIGJhclxuICAgICdzdGF0dXMuZHVlJzogJ3tjb3VudH0gXHU1RjIwXHU1Rjg1XHU1OTBEXHU0RTYwJyxcbiAgICAnc3RhdHVzLnRvb2x0aXAnOiAne2R1ZX0gXHU1RjIwXHU1MzYxXHU3MjQ3XHU1Rjg1XHU1OTBEXHU0RTYwXFxue25ld30gXHU1RjIwXHU2NUIwXHU1MzYxXHU3MjQ3JyxcbiAgICBcbiAgICAvLyBNaXNjXG4gICAgJ2VtcHR5Lm5vQ29udGVudCc6ICdcdTY2ODJcdTY1RTBcdTUxODVcdTVCQjknLFxuICAgICdlbXB0eS5ub0RvY3VtZW50cyc6ICdcdTY2ODJcdTY1RTBcdTY1ODdcdTY4NjMnLFxuICAgICdmaWxlTGlzdC50aXRsZSc6ICdcdUQ4M0RcdURDQzEgXHU2NTg3XHU2ODYzXHU1MjE3XHU4ODY4JyxcblxuICAgICdub3RpY2UuZmlsZU5vdEZvdW5kJzogJ1x1Mjc0QyBcdTZFOTBcdTY1ODdcdTRFRjZcdTRFMERcdTVCNThcdTU3MjgnLFxuJ25vdGljZS5qdW1wZWRUb1NvdXJjZSc6ICdcdTI3MDUgXHU1REYyXHU4REYzXHU4RjZDXHU1MjMwXHU2RTkwXHU2NTg3XHU0RUY2Jyxcbidub3RpY2UuanVtcEZhaWxlZCc6ICdcdTI3NEMgXHU4REYzXHU4RjZDXHU1OTMxXHU4RDI1Jyxcbidub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIFx1NjI3RVx1NEUwRFx1NTIzMFx1NUJGOVx1NUU5NFx1NzY4NFx1OTVFQVx1NTM2MScsXG4nbm90aWNlLmFscmVhZHlIYXNGbGFzaGNhcmRzJzogJ1x1MjZBMFx1RkUwRiBcdTkwMDlcdTRFMkRcdTc2ODRcdTdCMTRcdThCQjBcdTkwRkRcdTVERjJcdTUyMUJcdTVFRkFcdThGQzdcdTk1RUFcdTUzNjEnLFxuJ25vdGljZS5iYXRjaERlbGV0ZWQnOiAnXHUyNzA1IFx1NURGMlx1NTIyMFx1OTY2NCB7c3VjY2Vzc30gXHU5ODc5e2ZhaWxlZCwgcGx1cmFsLCA9MCB7fSBvdGhlciB7XHVGRjBDe2ZhaWxlZH0gXHU5ODc5XHU1OTMxXHU4RDI1fX0nLFxuJ2NvbmZpcm0uZGVsZXRlTm90ZSc6ICdcdTc4NkVcdTVCOUFcdTg5ODFcdTUyMjBcdTk2NjRcdThGRDlcdTY3NjFcdTdCMTRcdThCQjBcdTU0MTdcdUZGMUYnLFxuJ2NvbmZpcm0uZGVsZXRlRmxhc2hjYXJkJzogJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NFx1OEZEOVx1NUYyMFx1OTVFQVx1NTM2MVx1NTQxN1x1RkYxRicsXG4nY29uZmlybS5iYXRjaERlbGV0ZU5vdGVzJzogJ1x1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NFx1OTAwOVx1NEUyRFx1NzY4NCB7Y291bnR9IFx1Njc2MVx1N0IxNFx1OEJCMFx1NTQxN1x1RkYxRicsXG4nY29uZmlybS5iYXRjaERlbGV0ZUZsYXNoY2FyZHMnOiAnXHU3ODZFXHU1QjlBXHU4OTgxXHU1MjIwXHU5NjY0XHU5MDA5XHU0RTJEXHU3Njg0IHtjb3VudH0gXHU1RjIwXHU5NUVBXHU1MzYxXHU1NDE3XHVGRjFGJyxcblxuJ3Rvb2xiYXIuY2hlY2tSZXZpZXcudG9vbHRpcCc6ICdcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTY3MDlcdTk3MDBcdTg5ODFcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDcnLFxuXG4nYmF0Y2guZGVzZWxlY3RBbGwnOiAnXHU1M0Q2XHU2RDg4XHU1MTY4XHU5MDA5JyxcbidiYXRjaC5kZXNlbGVjdEFsbC50b29sdGlwJzogJ1x1NTNENlx1NkQ4OFx1NUY1M1x1NTI0RFx1OTg3NVx1OTc2Mlx1NzY4NFx1NTE2OFx1OTAwOScsXG4nYmF0Y2guc2VsZWN0QWxsLnRvb2x0aXAnOiAnXHU1MTY4XHU5MDA5XHU1RjUzXHU1MjREIHtjb3VudH0gXHU5ODc5JyxcbidiYXRjaC5ub0l0ZW1zJzogJ1x1NkNBMVx1NjcwOVx1NTNFRlx1OTAwOVx1OTg3OScsXG4nYmF0Y2guc2VsZWN0QW5ub3RhdGlvbkZpcnN0JzogJ1x1OEJGN1x1NTE0OFx1OTAwOVx1NjJFOVwiXHU2NzA5XHU2Mjc5XHU2Q0U4XCJcdTYyMTZcIlx1NjVFMFx1NjI3OVx1NkNFOFwiJyxcbidiYXRjaC5jcmVhdGUudG9vbHRpcCc6ICdcdTYyNzlcdTkxQ0ZcdTUyMzZcdTUzNjEnLFxuJ2JhdGNoLmRlbGV0ZS50b29sdGlwJzogJ1x1NjI3OVx1OTFDRlx1NTIyMFx1OTY2NCcsXG4nYmF0Y2guY2FuY2VsLnRvb2x0aXAnOiAnXHU5MDAwXHU1MUZBXHU2Mjc5XHU5MUNGXHU2QTIxXHU1RjBGXHU1RTc2XHU2RTA1XHU3QTdBXHU2MjQwXHU2NzA5XHU5MDA5XHU2MkU5JyxcblxuLy9yZXZpZXcgXG4nY29uZmlybS5yZXNldENhcmRTdGF0cyc6ICdcdTc4NkVcdTVCOUFcdTg5ODFcdTkxQ0RcdTdGNkVcdThGRDlcdTVGMjBcdTUzNjFcdTcyNDdcdTc2ODRcdTVCNjZcdTRFNjBcdThGREJcdTVFQTZcdTU0MTdcdUZGMUYnLFxuJ2NvbmZpcm0ucmVzZXREZWNrU3RhdHMnOiAnXHU3ODZFXHU1QjlBXHU4OTgxXHU5MUNEXHU3RjZFXHU1MzYxXHU3RUM0XCJ7ZGVja31cIlx1NzY4NFx1NjI0MFx1NjcwOVx1NUI2Nlx1NEU2MFx1OEZEQlx1NUVBNlx1NTQxN1x1RkYxRicsXG4nbm90aWNlLmRlY2tTdGF0c1Jlc2V0JzogJ1x1MjcwNSBcdTUzNjFcdTdFQzRcIntkZWNrfVwiXHU3Njg0XHU3RURGXHU4QkExXHU1REYyXHU5MUNEXHU3RjZFJyxcbidub3RpY2UuZmxhc2hjYXJkRGVsZXRlZCc6ICdcdUQ4M0RcdURERDFcdUZFMEYgXHU5NUVBXHU1MzYxXHU1REYyXHU1MjIwXHU5NjY0Jyxcbidub3RpY2UuZGVsZXRlRmxhc2hjYXJkRmFpbGVkJzogJ1x1Mjc0QyBcdTUyMjBcdTk2NjRcdTk1RUFcdTUzNjFcdTU5MzFcdThEMjUnLFxuJ25vdGljZS5mbGFzaGNhcmRVcGRhdGVkJzogJ1x1MjcwNSBcdTk1RUFcdTUzNjFcdTVERjJcdTY2RjRcdTY1QjAnLFxuJ25vdGljZS51cGRhdGVGbGFzaGNhcmRGYWlsZWQnOiAnXHUyNzRDIFx1NjZGNFx1NjVCMFx1OTVFQVx1NTM2MVx1NTkzMVx1OEQyNScsXG4nbm90aWNlLmNhcmRTdGF0c1Jlc2V0JzogJ1x1MjcwNSBcdTUzNjFcdTcyNDdcdTdFREZcdThCQTFcdTVERjJcdTkxQ0RcdTdGNkUnLFxuJ25vdGljZS5yZXNldFN0YXRzRmFpbGVkJzogJ1x1Mjc0QyBcdTkxQ0RcdTdGNkVcdTdFREZcdThCQTFcdTU5MzFcdThEMjUnLFxuLy8gc2lkZWJhclxuJ3Jldmlldy50b2RheVByb2dyZXNzJzogJ1x1NEVDQVx1NjVFNVx1NTkwRFx1NEU2MDoge3Jldmlld2VkfSAvIHt0b3RhbH0nLFxuJ3Jldmlldy5kZWxheWVkSG91cnNTaG9ydCc6ICdcdTI2QTBcdUZFMEYgXHU1OTBEXHU0RTYwXHU1REYyXHU1RUY2XHU1NDBFIHtob3Vyc30gXHU1QzBGXHU2NUY2XHVGRjBDXHU3M0IwXHU1NzI4XHU1OTA0XHU3NDA2XHU1MjFBXHU1OTdEJyxcbidncm91cC51bmNhdGVnb3JpemVkJzogJ1x1NjcyQVx1NTIwNlx1N0M3QicsXG4vLyBjb21wb25lbnQvbW9kYWwvYmF0Y2hcbidiYXRjaENyZWF0ZS50aXRsZSc6ICdcdTI2QTEgXHU2Mjc5XHU5MUNGXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxJyxcbiAgJ2JhdGNoQ3JlYXRlLmRlc2NyaXB0aW9uJzogJ1x1NEUzQSB7Y291bnR9IFx1Njc2MVx1NjcyQVx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1NzY4NFx1N0IxNFx1OEJCMFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MScsXG4gICdiYXRjaENyZWF0ZS5jYXJkVHlwZSc6ICdcdTUzNjFcdTcyNDdcdTdDN0JcdTU3OEInLFxuICAnYmF0Y2hDcmVhdGUuc21hcnRUeXBlJzogJ1x1MjZBMSBcdTY2N0FcdTgwRkRcdThCQzZcdTUyMkInLFxuICAnYmF0Y2hDcmVhdGUuc21hcnRUeXBlLmRlc2MnOiAnXHU4MUVBXHU1MkE4XHU5MDA5XHU2MkU5XHU2NzAwXHU1NDA4XHU5MDAyXHU3Njg0XHU3QzdCXHU1NzhCJyxcbiAgJ2JhdGNoQ3JlYXRlLnFhVHlwZSc6ICdcdUQ4M0RcdURDREQgXHU5NUVFXHU3QjU0XHU1MzYxXHU3MjQ3JyxcbiAgJ2JhdGNoQ3JlYXRlLnFhVHlwZS5kZXNjJzogJ1x1OTVFRVx1OTg5OFx1NTQ4Q1x1N0I1NFx1Njg0OFx1NjgzQ1x1NUYwRicsXG4gICdiYXRjaENyZWF0ZS5jbG96ZVR5cGUnOiAnXHUyNzBGXHVGRTBGIFx1NTg2Qlx1N0E3QVx1NTM2MVx1NzI0NycsXG4gICdiYXRjaENyZWF0ZS5jbG96ZVR5cGUuZGVzYyc6ICdcdTYzMTZcdTdBN0FcdTU4NkJcdTdBN0EnLFxuICAnYmF0Y2hDcmVhdGUuY2FuY2VsJzogJ1x1NTNENlx1NkQ4OCcsXG4gICdiYXRjaENyZWF0ZS5jcmVhdGVCdXR0b24nOiAnXHU1MjFCXHU1RUZBIHtjb3VudH0gXHU1RjIwXHU1MzYxXHU3MjQ3JyxcbiAgJ2JhdGNoQ3JlYXRlLnN1Y2Nlc3NOb3RpY2UnOiAnXHUyNzA1IFx1NURGMlx1NTIxQlx1NUVGQSB7c3VjY2Vzc30gXHU1RjIwXHU5NUVBXHU1MzYxXHVGRjAxe2ZhaWxlZCwgcGx1cmFsLCA9MCB7fSBvdGhlciB7ICh7ZmFpbGVkfSBcdTk4NzlcdTU5MzFcdThEMjUpfX0nLFxuLy8gY29tcG9uZW50L21vZGFsL0VkaXRGbGFzaGNhcmRNb2RhbFxuJ2VkaXRDYXJkLnRpdGxlJzogJ1x1MjcwRlx1RkUwRiBcdTdGMTZcdThGOTFcdTk1RUFcdTUzNjEnLFxuJ2VkaXRDYXJkLmRlc2NyaXB0aW9uLnFhJzogJ1x1N0YxNlx1OEY5MSBRJkEgXHU1MzYxXHU3MjQ3XHU1MTg1XHU1QkI5JyxcbidlZGl0Q2FyZC5kZXNjcmlwdGlvbi5jbG96ZSc6ICdcdTdGMTZcdThGOTFcdTU4NkJcdTdBN0FcdTUzNjFcdTcyNDdcdTUxODVcdTVCQjknLFxuJ2VkaXRDYXJkLmluZm8uZmlsZSc6ICdcdUQ4M0RcdURDQzEgXHU2NTg3XHU0RUY2JyxcbidlZGl0Q2FyZC5pbmZvLmRlY2snOiAnXHVEODNEXHVEQ0RBIFx1NTM2MVx1N0VDNCcsXG4nZWRpdENhcmQuaW5mby5yZXZpZXdzJzogJ1x1RDgzRFx1RENDQSBcdTU5MERcdTRFNjAnLFxuJ2VkaXRDYXJkLmluZm8uY29ycmVjdCc6ICdcdTZCNjNcdTc4NkUnLFxuJ2VkaXRDYXJkLmZyb250LnFhJzogJ1x1OTVFRVx1OTg5OCAoRnJvbnQpJyxcbidlZGl0Q2FyZC5mcm9udC5jbG96ZSc6ICdcdTVCOENcdTY1NzRcdTY1ODdcdTY3MkMnLFxuJ2VkaXRDYXJkLmZyb250LmRlc2MnOiAnXHU1MzYxXHU3MjQ3XHU2QjYzXHU5NzYyXHU2NjNFXHU3OTNBXHU3Njg0XHU1MTg1XHU1QkI5JyxcbidlZGl0Q2FyZC5iYWNrLnFhJzogJ1x1N0I1NFx1Njg0OCAoQmFjayknLFxuJ2VkaXRDYXJkLmJhY2suY2xvemUnOiAnXHU2MzE2XHU3QTdBXHU3QjU0XHU2ODQ4JyxcbidlZGl0Q2FyZC5iYWNrLmRlc2MucWEnOiAnXHU1MzYxXHU3MjQ3XHU4MENDXHU5NzYyXHU2NjNFXHU3OTNBXHU3Njg0XHU3QjU0XHU2ODQ4JyxcbidlZGl0Q2FyZC5iYWNrLmRlc2MuY2xvemUnOiAnXHU1OTFBXHU0RTJBXHU3QjU0XHU2ODQ4XHU3NTI4XHU5MDE3XHU1M0Y3XHU1MjA2XHU5Njk0JyxcbidlZGl0Q2FyZC5jYW5jZWwnOiAnXHU1M0Q2XHU2RDg4JyxcbidlZGl0Q2FyZC5zYXZlJzogJ1x1NEZERFx1NUI1OCcsXG4nZWRpdENhcmQuZXJyb3IuZW1wdHlGcm9udCc6ICdcdTI2QTBcdUZFMEYgXHU5NUVFXHU5ODk4L1x1NjU4N1x1NjcyQ1x1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QScsXG4nZWRpdENhcmQuZXJyb3IuZW1wdHlCYWNrJzogJ1x1MjZBMFx1RkUwRiBcdTdCNTRcdTY4NDhcdTRFMERcdTgwRkRcdTRFM0FcdTdBN0EnLFxuJ2VkaXRDYXJkLnN1Y2Nlc3MnOiAnXHUyNzA1IFx1OTVFQVx1NTM2MVx1NURGMlx1NjZGNFx1NjVCMCcsXG4nZWRpdENhcmQuc2F2ZUZhaWxlZCc6ICdcdTI3NEMgXHU0RkREXHU1QjU4XHU1OTMxXHU4RDI1JyxcblxuLy8gY29tcG9uZW50L21vZGFsL0ZsYXNoY2FyZEVkaXRNb2RhbFxuJ2ZsYXNoY2FyZEVkaXQudGl0bGUnOiAnXHU3RjE2XHU4RjkxXHU5NUVBXHU1MzYxJyxcbidmbGFzaGNhcmRFZGl0LnF1ZXN0aW9uJzogJ1x1OTVFRVx1OTg5OCcsXG4nZmxhc2hjYXJkRWRpdC5hbnN3ZXInOiAnXHU3QjU0XHU2ODQ4JyxcbidmbGFzaGNhcmRFZGl0LnNhdmUnOiAnXHU0RkREXHU1QjU4Jyxcbi8vIGNvbXBvbmVudC9tb2RhbC9NYW51YWxGbGFzaGNhcmRNb2RhbC50c1xuJ21hbnVhbENhcmQudGl0bGUucWEnOiAnXHUyNzBGXHVGRTBGIFx1NTIxQlx1NUVGQSBRQSBcdTk1RUFcdTUzNjEnLFxuJ21hbnVhbENhcmQudGl0bGUuY2xvemUnOiAnXHUyNzBGXHVGRTBGIFx1NTIxQlx1NUVGQVx1NTg2Qlx1N0E3QVx1OTVFQVx1NTM2MScsXG4nbWFudWFsQ2FyZC5kZXNjcmlwdGlvbi5xYSc6ICdcdTUyMUJcdTVFRkFcdTRFMDBcdTVGMjBcdTk1RUVcdTdCNTRcdTUzNjFcdTcyNDdcdUZGMENcdTUzRUZcdTRFRTVcdTgxRUFcdTVCOUFcdTRFNDlcdTk1RUVcdTk4OThcdTU0OENcdTdCNTRcdTY4NDgnLFxuJ21hbnVhbENhcmQuZGVzY3JpcHRpb24uY2xvemUnOiAnXHU1MjFCXHU1RUZBXHU0RTAwXHU1RjIwXHU1ODZCXHU3QTdBXHU1MzYxXHU3MjQ3XHVGRjBDXHU1NzI4XHU1QjhDXHU2NTc0XHU2NTg3XHU2NzJDXHU0RTJEXHU2ODA3XHU4QkIwXHU4OTgxXHU2MzE2XHU3QTdBXHU3Njg0XHU1MTg1XHU1QkI5JyxcbidtYW51YWxDYXJkLmZyb250LnFhJzogJ1x1OTVFRVx1OTg5OCAoRnJvbnQpJyxcbidtYW51YWxDYXJkLmZyb250LmNsb3plJzogJ1x1NUI4Q1x1NjU3NFx1NjU4N1x1NjcyQycsXG4nbWFudWFsQ2FyZC5mcm9udC5kZXNjLnFhJzogJ1x1NTM2MVx1NzI0N1x1NkI2M1x1OTc2Mlx1NjYzRVx1NzkzQVx1NzY4NFx1OTVFRVx1OTg5OCcsXG4nbWFudWFsQ2FyZC5mcm9udC5kZXNjLmNsb3plJzogJ1x1NTMwNVx1NTQyQlx1N0I1NFx1Njg0OFx1NzY4NFx1NUI4Q1x1NjU3NFx1NTNFNVx1NUI1MFx1NjIxNlx1NkJCNVx1ODQzRCcsXG4nbWFudWFsQ2FyZC5mcm9udC5wbGFjZWhvbGRlci5xYSc6ICdcdTRGOEJcdTU5ODI6IFx1NEVDMFx1NEU0OFx1NjYyRlx1OTVGNFx1OTY5NFx1OTFDRFx1NTkwRD8nLFxuJ21hbnVhbENhcmQuZnJvbnQucGxhY2Vob2xkZXIuY2xvemUnOiAnXHU0RjhCXHU1OTgyOiBcdTk1RjRcdTk2OTRcdTkxQ0RcdTU5MERcdTY2MkZcdTRFMDBcdTc5Q0RcdTVCNjZcdTRFNjBcdTYyODBcdTY3MkYnLFxuJ21hbnVhbENhcmQuYmFjay5xYSc6ICdcdTdCNTRcdTY4NDggKEJhY2spJyxcbidtYW51YWxDYXJkLmJhY2suY2xvemUnOiAnXHU2MzE2XHU3QTdBXHU1MTg1XHU1QkI5JyxcbidtYW51YWxDYXJkLmJhY2suZGVzYy5xYSc6ICdcdTUzNjFcdTcyNDdcdTgwQ0NcdTk3NjJcdTY2M0VcdTc5M0FcdTc2ODRcdTdCNTRcdTY4NDgnLFxuJ21hbnVhbENhcmQuYmFjay5kZXNjLmNsb3plJzogJ1x1ODk4MVx1ODhBQlx1NjMxNlx1N0E3QVx1NzY4NFx1NTE3M1x1OTUyRVx1OEJDRFx1NjIxNlx1NzdFRFx1OEJFRCcsXG4nbWFudWFsQ2FyZC5iYWNrLnBsYWNlaG9sZGVyLnFhJzogJ1x1NEY4Qlx1NTk4MjogXHU5NUY0XHU5Njk0XHU5MUNEXHU1OTBEXHU2NjJGXHU0RTAwXHU3OUNEXHU1QjY2XHU0RTYwXHU2MjgwXHU2NzJGLi4uJyxcbidtYW51YWxDYXJkLmJhY2sucGxhY2Vob2xkZXIuY2xvemUnOiAnXHU0RjhCXHU1OTgyOiBcdTk1RjRcdTk2OTRcdTkxQ0RcdTU5MEQnLFxuJ21hbnVhbENhcmQuY2FuY2VsJzogJ1x1NTNENlx1NkQ4OCcsXG4nbWFudWFsQ2FyZC5jcmVhdGUnOiAnXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxJyxcbidtYW51YWxDYXJkLmVycm9yLmVtcHR5RnJvbnQnOiAnXHUyNkEwXHVGRTBGIFx1OTVFRVx1OTg5OC9cdTY1ODdcdTY3MkNcdTRFMERcdTgwRkRcdTRFM0FcdTdBN0EnLFxuJ21hbnVhbENhcmQuZXJyb3IuZW1wdHlCYWNrJzogJ1x1MjZBMFx1RkUwRiBcdTdCNTRcdTY4NDhcdTRFMERcdTgwRkRcdTRFM0FcdTdBN0EnLFxuJ21hbnVhbENhcmQuc3VjY2Vzcy5xYSc6ICdcdTI3MDUgUUEgXHU5NUVBXHU1MzYxXHU1REYyXHU1MjFCXHU1RUZBJyxcbidtYW51YWxDYXJkLnN1Y2Nlc3MuY2xvemUnOiAnXHUyNzA1IFx1NTg2Qlx1N0E3QVx1OTVFQVx1NTM2MVx1NURGMlx1NTIxQlx1NUVGQScsXG4nbWFudWFsQ2FyZC5jcmVhdGVGYWlsZWQnOiAnXHUyNzRDIFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1NTkzMVx1OEQyNScsXG4vLyBzcmMvdWkvY29tcG9uZW50cy9Db250ZW50TGlzdC50cyBcbidjb250ZW50TGlzdC5ncm91cC5hbm5vdGF0ZWQnOiAnXHU2NzA5XHU2Mjc5XHU2Q0U4Jyxcbidjb250ZW50TGlzdC5ncm91cC5ub3RBbm5vdGF0ZWQnOiAnXHU2NUUwXHU2Mjc5XHU2Q0U4Jyxcbidjb250ZW50TGlzdC5lbXB0eS5ub0ZsYXNoY2FyZHMnOiAnXHVEODNEXHVEQ0VEIFx1OEJFNVx1NTIwNlx1N0VDNFx1NEUwQlx1NjY4Mlx1NjVFMFx1OTVFQVx1NTM2MScsXG4nY29udGVudExpc3QuZW1wdHkubm9Ob3Rlcyc6ICdcdTVGNTNcdTUyNERcdTY1ODdcdTY4NjNcdTY2ODJcdTY1RTBcdTdCMTRcdThCQjAnLFxuJ2NvbnRlbnRMaXN0LmVtcHR5LnRyeUZpbHRlcic6ICdcdTVDMURcdThCRDVcdTUyMDdcdTYzNjJcdTUxNzZcdTRFRDZcdThGQzdcdTZFRTRcdTU2NjhcdTY3RTVcdTc3MEInLFxuJ2NvbnRlbnRMaXN0LmVtcHR5LnN0YXJ0SGlnaGxpZ2h0JzogJ1x1NUYwMFx1NTlDQlx1OUFEOFx1NEVBRVx1NjU4N1x1NjcyQ1x1Njc2NVx1NTIxQlx1NUVGQVx1N0IxNFx1OEJCMCcsXG4nY29udGVudExpc3QuZW1wdHkubm9Db250ZW50JzogJ1x1NjY4Mlx1NjVFMFx1NTE4NVx1NUJCOScsXG4vLyBzcmMvdWkvY29tcG9uZW50cy9Db250ZXh0TWVudUJ1aWxkZXIudHNcbidjb250ZXh0TWVudS5qdW1wVG9Tb3VyY2UnOiAnXHVEODNEXHVEQ0Q2IFx1OERGM1x1OEY2Q1x1NTIzMFx1NTM5Rlx1NjU4NycsXG4nY29udGV4dE1lbnUuZWRpdEFubm90YXRpb24nOiAnXHVEODNEXHVEQ0FDIFx1N0YxNlx1OEY5MVx1NjI3OVx1NkNFOCcsXG4nY29udGV4dE1lbnUuZWRpdEZsYXNoY2FyZCc6ICdcdTI3MEZcdUZFMEYgXHU3RjE2XHU4RjkxXHU5NUVBXHU1MzYxJyxcbidjb250ZXh0TWVudS5nZW5lcmF0ZUZsYXNoY2FyZCc6ICdcdTI2QTEgXHU3NTFGXHU2MjEwXHU5NUVBXHU1MzYxJyxcbidjb250ZXh0TWVudS5jcmVhdGVRQSc6ICdcdTI3OTUgXHU1MjFCXHU1RUZBIFFBIFx1OTVFQVx1NTM2MScsXG4nY29udGV4dE1lbnUuY3JlYXRlQ2xvemUnOiAnXHUyNzk1IFx1NTIxQlx1NUVGQVx1NTg2Qlx1N0E3QVx1OTVFQVx1NTM2MScsXG4nY29udGV4dE1lbnUudmlld1N0YXRzJzogJ1x1RDgzRFx1RENDQSBcdTY3RTVcdTc3MEJcdTdFREZcdThCQTEnLFxuJ2NvbnRleHRNZW51LmRlbGV0ZU5vdGUnOiAnXHVEODNEXHVEREQxXHVGRTBGIFx1NTIyMFx1OTY2NFx1N0IxNFx1OEJCMCcsXG4nY29udGV4dE1lbnUuZWRpdENhcmQnOiAnXHUyNzBGXHVGRTBGIFx1N0YxNlx1OEY5MVx1NTM2MVx1NzI0NycsXG4nY29udGV4dE1lbnUuZGVsZXRlQ2FyZCc6ICdcdUQ4M0RcdURERDFcdUZFMEYgXHU1MjIwXHU5NjY0XHU1MzYxXHU3MjQ3JyxcbidzdGF0cy50aXRsZSc6ICdcdUQ4M0RcdURDQ0EgXHU5NUVBXHU1MzYxXHU3RURGXHU4QkExJyxcbidzdGF0cy5maWxlJzogJ1x1RDgzRFx1RENDMSBcdTY1ODdcdTRFRjYnLFxuJ3N0YXRzLnR5cGUnOiAnXHVEODNDXHVEQ0NGIFx1N0M3Qlx1NTc4QicsXG4nc3RhdHMudHlwZS5xYSc6ICdRJkEnLFxuJ3N0YXRzLnR5cGUuY2xvemUnOiAnXHU1ODZCXHU3QTdBJyxcbidzdGF0cy5kZWNrJzogJ1x1RDgzRFx1RENEQSBcdTUzNjFcdTdFQzQnLFxuJ3N0YXRzLnRhZ3MnOiAnXHVEODNDXHVERkY3XHVGRTBGIFx1NjgwN1x1N0I3RScsXG4nc3RhdHMudGFncy5ub25lJzogJ1x1NjVFMCcsXG4nc3RhdHMucmV2aWV3Q291bnQnOiAnXHVEODNEXHVEQ0M4IFx1NTkwRFx1NEU2MFx1NkIyMVx1NjU3MCcsXG4nc3RhdHMuY29ycmVjdENvdW50JzogJ1x1MjcwNSBcdTZCNjNcdTc4NkVcdTZCMjFcdTY1NzAnLFxuJ3N0YXRzLmFjY3VyYWN5JzogJ1x1RDgzRFx1RENDQSBcdTZCNjNcdTc4NkVcdTczODcnLFxuJ3N0YXRzLmF2ZXJhZ2VUaW1lJzogJ1x1MjNGMVx1RkUwRiBcdTVFNzNcdTU3NDdcdTc1MjhcdTY1RjYnLFxuJ3N0YXRzLmRpZmZpY3VsdHknOiAnXHVEODNDXHVERkFGIFx1OTZCRVx1NUVBNicsXG4nc3RhdHMuY3JlYXRlZEF0JzogJ1x1RDgzRFx1RENDNSBcdTUyMUJcdTVFRkFcdTY1RjZcdTk1RjQnLFxuJ3N0YXRzLmxhc3RSZXZpZXcnOiAnXHVEODNEXHVERDA0IFx1NEUwQVx1NkIyMVx1NTkwRFx1NEU2MCcsXG4nc3RhdHMubGFzdFJldmlldy5uZXZlcic6ICdcdTY3MkFcdTU5MERcdTRFNjAnLFxuJ3N0YXRzLm5leHRSZXZpZXcnOiAnXHUyM0YwIFx1NEUwQlx1NkIyMVx1NTkwRFx1NEU2MCcsXG4nc3RhdHMuaW50ZXJ2YWwnOiAnXHVEODNEXHVEQ0NGIFx1OTVGNFx1OTY5NCcsXG4nc3RhdHMuZWFzZSc6ICdcdUQ4M0RcdURDQUEgXHU3MTlGXHU3RUMzXHU1RUE2JyxcbidzdGF0cy5zZXBhcmF0b3InOiAnXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxXHUyNTAxJyxcbidzdGF0cy50aW1lcyc6ICdcdTZCMjEnLFxuJ3N0YXRzLnNlY29uZHMnOiAnXHU3OUQyJyxcbidzdGF0cy5kYXlzJzogJ1x1NTkyOScsXG4vLyBzcmMvdWkvc2VydmljZXMvT3ZlcnZpZXdTZXJ2aWNlLnRzXG4nc2VydmljZS5maWxlTm90RXhpc3QnOiAnXHUyNkEwXHVGRTBGIFx1NjU4N1x1NEVGNlx1NEUwRFx1NUI1OFx1NTcyOCcsXG4nc2VydmljZS5hbm5vdGF0aW9uRGVsZXRlZCc6ICdcdUQ4M0RcdURERDFcdUZFMEYgXHU2Mjc5XHU2Q0U4XHU1REYyXHU1MjIwXHU5NjY0JyxcbidzZXJ2aWNlLmZsYXNoY2FyZEdlbmVyYXRlZCc6ICdcdTI2QTEgXHU5NUVBXHU1MzYxXHU1REYyXHU3NTFGXHU2MjEwJyxcbidzZXJ2aWNlLmdlbmVyYXRlRmFpbGVkJzogJ1x1Mjc0QyBcdTc1MUZcdTYyMTBcdTk1RUFcdTUzNjFcdTU5MzFcdThEMjUnLFxuJ3NlcnZpY2UuZmxhc2hjYXJkTm90Rm91bmQnOiAnXHUyNkEwXHVGRTBGIFx1NjI3RVx1NEUwRFx1NTIzMFx1OTVFQVx1NTM2MScsXG4nc2VydmljZS5zb3VyY2VGaWxlT3BlbmVkJzogJ1x1MjcwNSBcdTVERjJcdTYyNTNcdTVGMDBcdTZFOTBcdTY1ODdcdTRFRjYnLFxuJ3NlcnZpY2Uubm90ZU5vdEZvdW5kJzogJ1x1MjZBMFx1RkUwRiBcdTYyN0VcdTRFMERcdTUyMzBcdTUzOUZcdTU5Q0JcdTdCMTRcdThCQjAnLFxuLy8gXHU2NzAwXHU4RkQxXHU1MjIwXHU5NjY0XG4nY29uZmlybS5kZWxldGVXaWxsUmVtb3ZlJzogJ1x1NkI2NFx1NjRDRFx1NEY1Q1x1NUMwNlx1NTIyMFx1OTY2NFx1RkYxQScsXG4nY29uZmlybS5ub3RlJzogJ1x1Njc2MVx1N0IxNFx1OEJCMCcsXG4nY29uZmlybS5ub3Rlcyc6ICdcdTY3NjFcdTdCMTRcdThCQjAnLFxuJ2NvbmZpcm0uZmxhc2hjYXJkcyc6ICdcdTVGMjBcdTk1RUFcdTUzNjEnLFxuJ2NvbmZpcm0uYW5ub3RhdGlvbic6ICdcdTY3NjFcdTYyNzlcdTZDRTgnLFxuJ2NvbmZpcm0uY2Fubm90VW5kbyc6ICdcdTI2QTBcdUZFMEYgXHU2QjY0XHU2NENEXHU0RjVDXHU2NUUwXHU2Q0Q1XHU2NEE0XHU5NTAwXHVGRjAxJyxcbidub3RpY2UuZmlsZURlbGV0ZWQnOiAnXHVEODNEXHVEQ0M0IFx1NjU4N1x1NEVGNiBcIntmaWxlfVwiIFx1NURGMlx1ODhBQlx1NTIyMFx1OTY2NCcsXG4nbm90aWNlLmF1dG9DbGVhbnVwJzogJ1x1ODFFQVx1NTJBOFx1NkUwNVx1NzQwNlx1NTE3M1x1ODA1NFx1NTE4NVx1NUJCOVx1RkYxQScsXG4ncmVjZW50RGVsZXRlLnRpdGxlJzogJ1x1RDgzRFx1REREMVx1RkUwRiBcdTY3MDBcdThGRDFcdTUyMjBcdTk2NjQgKFx1NjcwMFx1OEZEMTdcdTU5MjkpJyxcbidyZWNlbnREZWxldGUuZW1wdHknOiAnXHU2NjgyXHU2NUUwXHU2NzAwXHU4RkQxXHU1MjIwXHU5NjY0XHU3Njg0XHU5ODc5XHU3NkVFJyxcbidyZWNlbnREZWxldGUucmVzdG9yZSc6ICdcdTYwNjJcdTU5MEQnLFxuJ3JlY2VudERlbGV0ZS5kZWxldGVQZXJtYW5lbnRseSc6ICdcdTZDMzhcdTRFNDVcdTUyMjBcdTk2NjQnLFxuXG4nbm90aWNlLm1vdmVkVG9UcmFzaCc6ICdcdUQ4M0RcdURERDFcdUZFMEYgXHU1REYyXHU3OUZCXHU4MUYzXHU1NkRFXHU2NTM2XHU3QUQ5ICg3XHU1OTI5XHU1MTg1XHU1M0VGXHU2MDYyXHU1OTBEKScsXG4nbm90aWNlLmJhdGNoTW92ZWRUb1RyYXNoJzogJ1x1MjcwNSBcdTVERjJcdTVDMDYge3N1Y2Nlc3N9IFx1OTg3OVx1NzlGQlx1ODFGM1x1NTZERVx1NjUzNlx1N0FEOScsXG4nbm90aWNlLmZpbGVEZWxldGVkU2ltcGxlJzogJ1x1RDgzRFx1RENDNCBcdTY1ODdcdTRFRjZcdTVERjJcdTUyMjBcdTk2NjRcdUZGMUF7bm90ZXN9IFx1Njc2MVx1N0IxNFx1OEJCMFx1NTQ4QyB7Y2FyZHN9IFx1NUYyMFx1OTVFQVx1NTM2MVx1NURGMlx1NzlGQlx1ODFGM1x1NTZERVx1NjUzNlx1N0FEOScsXG4nbm90aWNlLm5vdGVSZXN0b3JlZCc6ICdcdTI3MDUgXHU3QjE0XHU4QkIwXHU1REYyXHU2MDYyXHU1OTBEJyxcbidub3RpY2UuY2FyZFJlc3RvcmVkJzogJ1x1MjcwNSBcdTk1RUFcdTUzNjFcdTVERjJcdTYwNjJcdTU5MEQnLFxuJ25vdGljZS5jYXJkc1Jlc3RvcmVkJzogJ1x1MjcwNSBcdTVERjJcdTYwNjJcdTU5MEQge2NvdW50fSBcdTVGMjBcdTk1RUFcdTUzNjEnLFxuJ25vdGljZS5yZXN0b3JlRmFpbGVkJzogJ1x1Mjc0QyBcdTYwNjJcdTU5MERcdTU5MzFcdThEMjUnLFxuJ25vdGljZS5wZXJtYW5lbnRseURlbGV0ZWQnOiAnXHUyNzA1IFx1NURGMlx1NkMzOFx1NEU0NVx1NTIyMFx1OTY2NCcsXG4nbm90aWNlLmRlbGV0ZUZhaWxlZCc6ICdcdTI3NEMgXHU1MjIwXHU5NjY0XHU1OTMxXHU4RDI1Jyxcbidub3RpY2UuYWxsRGVsZXRlZCc6ICdcdTI3MDUgXHU1REYyXHU2RTA1XHU3QTdBIHtub3Rlc30gXHU2NzYxXHU3QjE0XHU4QkIwXHU1NDhDIHtjYXJkc30gXHU1RjIwXHU5NUVBXHU1MzYxJyxcbidyZWNlbnREZWxldGUuY2xlYXJBbGwnOiAnXHVEODNEXHVEREQxXHVGRTBGIFx1NEUwMFx1OTUyRVx1NkUwNVx1N0E3QScsXG4ncmVjZW50RGVsZXRlLmVtcHR5SGludCc6ICdcdTUyMjBcdTk2NjRcdTc2ODRcdTUxODVcdTVCQjlcdTVDMDZcdTRGRERcdTc1NTk3XHU1OTI5Jyxcbidjb25maXJtLmNsZWFyQWxsRGVsZXRlZCc6ICdcdTc4NkVcdTVCOUFcdTg5ODFcdTZDMzhcdTRFNDVcdTUyMjBcdTk2NjRcdTU2REVcdTY1MzZcdTdBRDlcdTRFMkRcdTc2ODRcdTYyNDBcdTY3MDlcdTk4NzlcdTc2RUVcdTU0MTdcdUZGMUZcdTZCNjRcdTY0Q0RcdTRGNUNcdTY1RTBcdTZDRDVcdTY0QTRcdTk1MDBcdUZGMDEnLFxuJ2NvbmZpcm0ucmVzdG9yZUFzc29jaWF0ZWRDYXJkcyc6ICdcdTY2MkZcdTU0MjZcdTYwNjJcdTU5MEQge2NvdW50fSBcdTVGMjBcdTUxNzNcdTgwNTRcdTc2ODRcdTk1RUFcdTUzNjFcdUZGMUYnLFxuJ2RlbGV0ZVJlYXNvbi51c2VyJzogJ1x1NjI0Qlx1NTJBOFx1NTIyMFx1OTY2NCcsXG4nZGVsZXRlUmVhc29uLm5vdGUnOiAnXHU3QjE0XHU4QkIwXHU1MjIwXHU5NjY0JyxcbidkZWxldGVSZWFzb24uZmlsZSc6ICdcdTY1ODdcdTRFRjZcdTUyMjBcdTk2NjQnLFxuJ3RpbWUuanVzdE5vdyc6ICdcdTUyMUFcdTUyMUEnLFxuJ3RpbWUubWludXRlc0Fnbyc6ICd7bWludXRlc31cdTUyMDZcdTk0OUZcdTUyNEQnLFxuJ3RpbWUuaG91cnNBZ28nOiAne2hvdXJzfVx1NUMwRlx1NjVGNlx1NTI0RCcsXG4ndGltZS5kYXlzQWdvJzogJ3tkYXlzfVx1NTkyOVx1NTI0RCcsXG4vLyBkZWxldGUgY29uZmlybVxuJ2NvbmZpcm0uZGVsZXRlSXRlbXMnOiAnXHU3ODZFXHU4QkE0XHU1MjIwXHU5NjY0XHVGRjFGJyxcbidjb25maXJtLm5vdGVzQ291bnQnOiAne2NvdW50fSBcdTY3NjFcdTdCMTRcdThCQjAnLFxuJ2NvbmZpcm0uY2FyZHNDb3VudCc6ICd7Y291bnR9IFx1NUYyMFx1OTVFQVx1NTM2MScsXG4vLyBxdWljayBmbGFzaGNhcmQgIGNyZWF0b3JcbidxdWlja0NhcmQuY3JlYXRlZC5xYSc6ICdcdTI3MDUgXHU5NUVBXHU1MzYxXHU1REYyXHU1MjFCXHU1RUZBXHVGRjAxKFx1OTVFRVx1N0I1NFx1NTM2MSknLFxuJ3F1aWNrQ2FyZC5jcmVhdGVkLmNsb3plJzogJ1x1MjcwNSBcdTk1RUFcdTUzNjFcdTVERjJcdTUyMUJcdTVFRkFcdUZGMDEoXHU1ODZCXHU3QTdBXHU1MzYxXHVGRjBDe2NvdW50fSBcdTRFMkFcdTdBN0EpJyxcbidxdWlja0NhcmQuY3JlYXRlRmFpbGVkJzogJ1x1Mjc0QyBcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdTU5MzFcdThEMjUnLFxuJ3F1aWNrQ2FyZC5ub0tleXdvcmRzJzogJ1x1MjZBMFx1RkUwRiBcdTY3MkFcdTYyN0VcdTUyMzBcdTUzRUZcdTc1MjhcdTRFOEVcdTYzMTZcdTdBN0FcdTc2ODRcdTUxNzNcdTk1MkVcdThCQ0QnLFxuJ3F1aWNrQ2FyZC5ub0RlbGV0aW9ucyc6ICdcdTI2QTBcdUZFMEYgXHU2NUUwXHU2Q0Q1XHU1MjFCXHU1RUZBXHU2MzE2XHU3QTdBJyxcbidxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5oZWFkaW5nJzogJ1x1NTE3M1x1NEU4RVwie2hlYWRpbmd9XCJcdTc2ODRcdTg5ODFcdTcwQjlcdTY2MkZcdTRFQzBcdTRFNDhcdUZGMUYnLFxuJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0LnNob3J0JzogJ1wie2NvbnRlbnR9XCJcdTY2MkZcdTRFQzBcdTRFNDhcdTYxMEZcdTYwMURcdUZGMUYnLFxuJ3F1aWNrQ2FyZC5xdWVzdGlvbi5kZWZhdWx0Lm1lZGl1bSc6ICdcdTg5RTNcdTkxQ0FcdUZGMUFcIntjb250ZW50fVwiJyxcbidxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5sb25nJzogJ1x1OEZEOVx1NkJCNVx1NTE4NVx1NUJCOVx1NzY4NFx1ODk4MVx1NzBCOVx1NjYyRlx1NEVDMFx1NEU0OFx1RkYxRicsXG5cbiAgLy8gVW5sb2NrU3lzdGVtIC0gXHU3QjQ5XHU3RUE3XHU1NDBEXHU3OUYwXG4gICd1bmxvY2subGV2ZWwuMSc6ICdcdTkxQzdcdTk2QzZcdTgwMDUnLFxuICAndW5sb2NrLmxldmVsLjInOiAnXHU2MDFEXHU4MDAzXHU4MDA1JyxcbiAgJ3VubG9jay5sZXZlbC4zJzogJ1x1OEJCMFx1NUZDNlx1NUUwOCcsXG4gICd1bmxvY2subGV2ZWwuNCc6ICdcdThCQURcdTdFQzNcdTgwMDUnLFxuICAndW5sb2NrLmxldmVsLjUnOiAnXHU1MjA2XHU2NzkwXHU1RTA4JyxcbiAgXG4gIC8vIFx1NTM0N1x1N0VBN1x1NkQ4OFx1NjA2RlxuICAndW5sb2NrLmxldmVsVXAuMSc6ICdcdUQ4M0NcdURGODkgbGV2ZWwuMSBcdTZCMjJcdThGQ0VcdTYyMTBcdTRFM0FcdTkxQzdcdTk2QzZcdTgwMDUhJyxcbiAgJ3VubG9jay5sZXZlbFVwLjInOiAnXHVEODNDXHVERjkzIGxldmVsLjIgXHU1MzQ3XHU3RUE3XHU0RTNBXHU2MDFEXHU4MDAzXHU4MDA1IVxcblx1ODlFM1x1OTUwMTogXHU2Mjc5XHU2Q0U4XHU1MjlGXHU4MEZEXHUzMDAxXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDJyxcbiAgJ3VubG9jay5sZXZlbFVwLjMnOiAnXHVEODNFXHVEREUwIGxldmVsLjMgXHU2MjEwXHU0RTNBXHU4QkIwXHU1RkM2XHU1RTA4IVxcblx1ODlFM1x1OTUwMTogXHU2MjZCXHU2M0NGXHU1MjlGXHU4MEZEXHUzMDAxXHU1OTBEXHU0RTYwXHU3Q0ZCXHU3RURGJyxcbiAgJ3VubG9jay5sZXZlbFVwLjQnOiAnXHVEODNEXHVEQ0FBIGxldmVsLjQgXHU2NjRCXHU1MzQ3XHU4QkFEXHU3RUMzXHU4MDA1IVxcblx1ODlFM1x1OTUwMTogXHU3RURGXHU4QkExXHU1MjA2XHU2NzkwJyxcbiAgJ3VubG9jay5sZXZlbFVwLjUnOiAnXHVEODNDXHVERkM2IGxldmVsLjUgXHU4RkJFXHU2MjEwXHU1MjA2XHU2NzkwXHU1RTA4IVxcblx1NjI0MFx1NjcwOVx1NTI5Rlx1ODBGRFx1NURGMlx1ODlFM1x1OTUwMScsXG4gIFxuLy8gXHU0RTBCXHU0RTAwXHU2QjY1XHU2M0QwXHU3OTNBXG4ndW5sb2NrLm5leHRTdGVwcy5sZXZlbDEnOiAnXHVEODNEXHVEQ0U2IFx1NTNGM1x1OTUyRVx1NjNEMFx1NTNENlx1N0IxNFx1OEJCMDpcXG4gIFx1MjAyMiBcdTYzRDBcdTUzRDZcdTRFM0FcdTY1ODdcdTY3MkM6IHt0ZXh0fS8zXFxuICBcdTIwMjIgXHU2M0QwXHU1M0Q2XHU0RTNBXHU5NUVFXHU3QjU0OiB7cWF9LzNcXG4gIFx1MjAyMiBcdTYzRDBcdTUzRDZcdTRFM0FcdTU4NkJcdTdBN0E6IHtjbG96ZX0vMycsXG4ndW5sb2NrLm5leHRTdGVwcy5sZXZlbDInOiAnXHVEODNEXHVEQ0REIFx1NUI4Q1x1NjIxMFx1NjI3OVx1NkNFODoge2Fubm90YXRpb25zfS8zXFxuXHVEODNEXHVEQ0NCIFx1NjI2Qlx1NjNDRlx1NjNEMFx1NTNENlx1N0IxNFx1OEJCMDoge3NjYW5uZWR9LzUnLFxuJ3VubG9jay5uZXh0U3RlcHMubGV2ZWwzJzogJ1x1RDgzRFx1REQwNCBcdTU5MERcdTRFNjBcdTUzNjFcdTcyNDc6IHtyZXZpZXdlZH0vMzBcXG5cdUQ4M0RcdURDQ0IgXHU2MjZCXHU2M0NGXHU4ODY4XHU2ODNDOiB7dGFibGVzfS8yJyxcbid1bmxvY2submV4dFN0ZXBzLmxldmVsNCc6ICdcdUQ4M0RcdUREMDQgXHU1OTBEXHU0RTYwXHU1MzYxXHU3MjQ3OiB7cmV2aWV3ZWR9LzcwXFxuXHVEODNEXHVEQ0M1IFx1NjAzQlx1NEY3Rlx1NzUyOFx1NTkyOVx1NjU3MDoge3RvdGFsfS8yMVxcblx1RDgzRFx1RENDQSBcdThCQkZcdTk1RUVcdTdFREZcdThCQTFcdTk4NzU6IHt2aXNpdGVkfScsXG4ndW5sb2NrLm5leHRTdGVwcy5sZXZlbDUnOiAnXHVEODNDXHVERjg5IFx1NjA2RFx1NTU5Q1x1ODlFM1x1OTUwMVx1NjI0MFx1NjcwOVx1NTI5Rlx1ODBGRCFcXG5cXG5cdUQ4M0RcdUREMkUgXHU2NjdBXHU1NkNBXHU1NkUyXHU1MjlGXHU4MEZEXHU1QzFBXHU2NzJBXHU1RjAwXHU2NTNFXFxuXHU4RkJFXHU1MjMwXHU0RUJBXHU2NTcwXHU0RTBFXHU2QkI1XHU0RjREXHU2NzYxXHU0RUY2XHU1NDBFXHU1RjAwXHU1NDJGXFxuXHVEODNEXHVERDE3IDxhIGhyZWY9XCJodHRwczovL2p6LXF1YXJ0ei5wYWdlcy5kZXYvNi5hYm91dC8lRTYlOTklQkElRTUlOUIlOEElRTUlOUIlQTJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5cdTRFODZcdTg5RTNcdTY2N0FcdTU2Q0FcdTU2RTIoXHU3MEI5XHU1MUZCXHU2N0U1XHU3NzBCKTwvYT4nLFxuICAvLyBcdTVGMzlcdTdBOTdcbiAgJ3VubG9jay5tb2RhbC50aXRsZSc6ICdcdUQ4M0RcdUREMTIgXHU1MjlGXHU4MEZEXHU2NzJBXHU4OUUzXHU5NTAxJyxcbiAgJ3VubG9jay5tb2RhbC5yZXF1aXJlTGV2ZWwnOiAnXCJ7ZmVhdHVyZX1cIiBcdTk3MDBcdTg5ODEgTHZ7bGV2ZWx9IFx1ODlFM1x1OTUwMScsXG4gICd1bmxvY2subW9kYWwuY3VycmVudFByb2dyZXNzJzogJ1x1NUY1M1x1NTI0RFx1OEZEQlx1NUVBNjonLFxuICBcbiAgLy8gXHU3QjQ5XHU3RUE3XHU0RkUxXHU2MDZGXHU1RjM5XHU3QTk3XG4gICd1bmxvY2subGV2ZWxJbmZvLnRpdGxlJzogJ1x1RDgzQ1x1REZDNiBMdntsZXZlbH0ge25hbWV9JyxcbiAgJ3VubG9jay5sZXZlbEluZm8uY3VtdWxhdGl2ZVN0YXRzJzogJ1x1N0QyRlx1OEJBMVx1N0VERlx1OEJBMScsXG4gICd1bmxvY2subGV2ZWxJbmZvLm1pbGVzdG9uZXMnOiAnXHVEODNDXHVERkFGIFx1NjIxMFx1NUMzMVx1OTFDQ1x1N0EwQlx1Nzg5MScsXG4gIFxuICAvLyBcdTdFREZcdThCQTFcdTY4MDdcdTdCN0VcbiAgJ3VubG9jay5zdGF0LmNhcmRzRXh0cmFjdGVkJzogJ1x1NjNEMFx1NTNENlx1NTM2MVx1NzI0NycsXG4gICd1bmxvY2suc3RhdC5hbm5vdGF0aW9uc0NvbXBsZXRlZCc6ICdcdTVCOENcdTYyMTBcdTYyNzlcdTZDRTgnLFxuICAndW5sb2NrLnN0YXQuY2FyZHNSZXZpZXdlZCc6ICdcdTU5MERcdTRFNjBcdTUzNjFcdTcyNDcnLFxuICAndW5sb2NrLnN0YXQudGFibGVzU2Nhbm5lZCc6ICdcdTYyNkJcdTYzQ0ZcdTg4NjhcdTY4M0MnLFxuICAndW5sb2NrLnN0YXQuY29uc2VjdXRpdmVEYXlzJzogJ1x1OEZERVx1N0VFRFx1NTkyOVx1NjU3MCcsXG4gICd1bmxvY2suc3RhdC50b3RhbERheXMnOiAnXHU2MDNCXHU0RjdGXHU3NTI4XHU1OTI5XHU2NTcwJyxcbiAgXG4gIC8vIFx1OEZEQlx1NUVBNlx1NjMwN1x1NjgwN1xuICAndW5sb2NrLnByb2dyZXNzLmNhcmRzRXh0cmFjdGVkJzogJ1x1RDgzRFx1RENFNiBcdTYzRDBcdTUzRDZcdTUzNjFcdTcyNDcnLFxuICAndW5sb2NrLnByb2dyZXNzLmFubm90YXRpb25zQ29tcGxldGVkJzogJ1x1RDgzRFx1RENERCBcdTVCOENcdTYyMTBcdTYyNzlcdTZDRTgnLFxuICAndW5sb2NrLnByb2dyZXNzLmNhcmRzUmV2aWV3ZWQnOiAnXHVEODNEXHVERDA0IFx1NTkwRFx1NEU2MFx1NTM2MVx1NzI0NycsXG4gICd1bmxvY2sucHJvZ3Jlc3MudGFibGVzU2Nhbm5lZCc6ICdcdUQ4M0RcdURDQ0IgXHU2MjZCXHU2M0NGXHU4ODY4XHU2ODNDJyxcbiAgJ3VubG9jay5wcm9ncmVzcy5jb25zZWN1dGl2ZURheXMnOiAnXHVEODNEXHVERDI1IFx1OEZERVx1N0VFRFx1NEY3Rlx1NzUyOFx1NTkyOVx1NjU3MCcsXG4gICd1bmxvY2sucHJvZ3Jlc3MudG90YWxEYXlzJzogJ1x1RDgzRFx1RENDOCBcdTYwM0JcdTRGN0ZcdTc1MjhcdTU5MjlcdTY1NzAnLFxuICAndW5sb2NrLnByb2dyZXNzLnN0YXRzUGFnZVZpc2l0ZWQnOiAnXHVEODNEXHVEQ0NBIFx1OEJCRlx1OTVFRVx1N0VERlx1OEJBMVx1OTg3NScsXG4ndW5sb2NrLmNvbW11bml0eS5sb2NrZWQnOiAnXHU2NjdBXHU1NkNBXHU1NkUyXHU1MjlGXHU4MEZEXHU1REYyXHU5NTAxXHU1QjlBJyxcbid1bmxvY2suY29tbXVuaXR5LmxpbmsnOiAnXHU0RTg2XHU4OUUzXHU2NjdBXHU1NkNBXHU1NkUyJyxcblxuJ2ZpbHRlci51bmFubm90YXRlZCc6ICdcdTY1RTBcdTYyNzlcdTZDRTgnLFxuXG4vLyB1bmxvY2sgcmVmYWN0b3Jcbid1bmxvY2suc3RhdC5ub3Rlc0V4dHJhY3RlZEFzVGV4dCc6ICdcdTYzRDBcdTUzRDZcdTRFM0FcdTY1ODdcdTY3MkMnLFxuJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNRQSc6ICdcdTYzRDBcdTUzRDZcdTRFM0FcdTk1RUVcdTdCNTQnLFxuJ3VubG9jay5zdGF0Lm5vdGVzRXh0cmFjdGVkQXNDbG96ZSc6ICdcdTYzRDBcdTUzRDZcdTRFM0FcdTU4NkJcdTdBN0EnLFxuJ3VubG9jay5zdGF0Lm5vdGVzU2Nhbm5lZCc6ICdcdTYyNkJcdTYzQ0ZcdTdCMTRcdThCQjAnLFxuXG4gIH1cbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiB0KGtleTogc3RyaW5nLCBsYW5ndWFnZTogTGFuZ3VhZ2UgPSAnZW4nLCBwYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogc3RyaW5nIHtcbiAgbGV0IHRleHQgPSB0cmFuc2xhdGlvbnNbbGFuZ3VhZ2VdW2tleV0gfHwgdHJhbnNsYXRpb25zWydlbiddW2tleV0gfHwga2V5O1xuICBcbiAgLy8gXHU2NkZGXHU2MzYyXHU1M0MyXHU2NTcwXG4gIGlmIChwYXJhbXMpIHtcbiAgICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtwYXJhbUtleSwgdmFsdWVdKSA9PiB7XG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKGB7JHtwYXJhbUtleX19YCwgU3RyaW5nKHZhbHVlKSk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIHJldHVybiB0ZXh0O1xufSIsICIvLyBxdWljayBmbGFzaGNhcmQgIGNyZWF0b3JcbmltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHsgQ29udGVudFVuaXQgfSBmcm9tICcuLi9jb3JlL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEFubm90YXRpb24gfSBmcm9tICcuLi9jb3JlL0Fubm90YXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IHQgfSBmcm9tICdzcmMvaTE4bi90cmFuc2xhdGlvbnMnO1xuXG4vKipcbiAqIFx1NEUwMFx1OTUyRVx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVx1NURFNVx1NTE3N1x1N0M3QlxuICovXG5leHBvcnQgY2xhc3MgUXVpY2tGbGFzaGNhcmRDcmVhdG9yIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luKSB7fVxuICBwcml2YXRlIGdldCBsYW5ndWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgfVxuICAvKipcbiAgICogXHU0RUNFXHU2M0QwXHU1M0Q2XHU1MTg1XHU1QkI5XHU0RTAwXHU5NTJFXHU1MjFCXHU1RUZBXHU5NUVFXHU3QjU0XHU1MzYxXG4gICAqIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NjI3OVx1NkNFOFx1RkYwQ1x1NEY3Rlx1NzUyOFx1NjI3OVx1NkNFOFx1NEY1Q1x1NEUzQVx1N0I1NFx1Njg0OFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlUXVpY2tRQUNhcmQoY29udGVudFVuaXQ6IENvbnRlbnRVbml0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRDb250ZW50QW5ub3RhdGlvbihjb250ZW50VW5pdC5pZCk7XG4gICAgICBcbiAgICAgIGxldCBxdWVzdGlvbjogc3RyaW5nO1xuICAgICAgbGV0IGFuc3dlcjogc3RyaW5nO1xuXG4gICAgICBpZiAoYW5ub3RhdGlvbiAmJiBhbm5vdGF0aW9uLmNvbnRlbnQpIHtcbiAgICAgICAgLy8gXHU1OTgyXHU2NzlDXHU2NzA5XHU2Mjc5XHU2Q0U4XHVGRjBDXHU0RjdGXHU3NTI4XHU2Mjc5XHU2Q0U4XHU1MTg1XHU1QkI5XHU0RjVDXHU0RTNBXHU3QjU0XHU2ODQ4XG4gICAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjI3OVx1NkNFOFx1NjYyRlx1NTQyNlx1NjYyRlx1OTVFRVx1OTg5OFx1NUY2Mlx1NUYwRlxuICAgICAgICBpZiAodGhpcy5pc1F1ZXN0aW9uKGFubm90YXRpb24uY29udGVudCkpIHtcbiAgICAgICAgICAvLyBcdTYyNzlcdTZDRThcdTY2MkZcdTk1RUVcdTk4OThcdUZGMENcdTc1MUZcdTYyMTBcdTlFRDhcdThCQTRcdTk1RUVcdTk4OThcdUZGMENcdTYyNzlcdTZDRThcdTUxODVcdTVCQjlcdTRGNUNcdTRFM0FcdTdCNTRcdTY4NDhcbiAgICAgICAgICBxdWVzdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZWZhdWx0UXVlc3Rpb24oY29udGVudFVuaXQpO1xuICAgICAgICAgIGFuc3dlciA9IGFubm90YXRpb24uY29udGVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBcdTYyNzlcdTZDRThcdTRFMERcdTY2MkZcdTk1RUVcdTk4OThcdTVGNjJcdTVGMEZcdUZGMENcdTc1MUZcdTYyMTBcdTlFRDhcdThCQTRcdTk1RUVcdTk4OThcdUZGMENcdTYyNzlcdTZDRThcdTUxODVcdTVCQjlcdTRGNUNcdTRFM0FcdTdCNTRcdTY4NDhcbiAgICAgICAgICBxdWVzdGlvbiA9IHRoaXMuZ2VuZXJhdGVEZWZhdWx0UXVlc3Rpb24oY29udGVudFVuaXQpO1xuICAgICAgICAgIGFuc3dlciA9IGFubm90YXRpb24uY29udGVudDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU2Q0ExXHU2NzA5XHU2Mjc5XHU2Q0U4XHVGRjBDXHU0RjdGXHU3NTI4XHU5RUQ4XHU4QkE0XHU2QTIxXHU1RjBGXG4gICAgICAgIHF1ZXN0aW9uID0gdGhpcy5nZW5lcmF0ZURlZmF1bHRRdWVzdGlvbihjb250ZW50VW5pdCk7XG4gICAgICAgIGFuc3dlciA9IGNvbnRlbnRVbml0LmNvbnRlbnQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVxuICAgICAgY29uc3QgY2FyZCA9IGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuY3JlYXRlUUFDYXJkKFxuICAgICAgICBjb250ZW50VW5pdC5pZCxcbiAgICAgICAgcXVlc3Rpb24sXG4gICAgICAgIGFuc3dlclxuICAgICAgKTtcblxuICAgICAgbmV3IE5vdGljZShgXHUyNzA1IEZsYXNoY2FyZCBjcmVhdGVkISAoUSZBKWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBxdWljayBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzRDIEZhaWxlZCB0byBjcmVhdGUgZmxhc2hjYXJkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NEVDRVx1NjNEMFx1NTNENlx1NTE4NVx1NUJCOVx1NEUwMFx1OTUyRVx1NTIxQlx1NUVGQVx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NTM2MVxuICAgKiBcdTgxRUFcdTUyQThcdThCQzZcdTUyMkJcdTUxNzNcdTk1MkVcdThCQ0RcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVF1aWNrQ2xvemVDYXJkKGNvbnRlbnRVbml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXl3b3JkcyA9IHRoaXMuZXh0cmFjdEtleXdvcmRzKGNvbnRlbnRVbml0LmNvbnRlbnQpO1xuICAgICAgXG4gICAgICBpZiAoa2V5d29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoJ1x1MjZBMFx1RkUwRiBObyBrZXl3b3JkcyBmb3VuZCBmb3IgY2xvemUgZGVsZXRpb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBcdTYyN0VcdTUyMzBcdTUxNzNcdTk1MkVcdThCQ0RcdTU3MjhcdTY1ODdcdTY3MkNcdTRFMkRcdTc2ODRcdTRGNERcdTdGNkVcbiAgICAgIGNvbnN0IGRlbGV0aW9ucyA9IGtleXdvcmRzLm1hcChrZXl3b3JkID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBjb250ZW50VW5pdC5jb250ZW50LmluZGV4T2Yoa2V5d29yZC53b3JkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBhbnN3ZXI6IGtleXdvcmQud29yZFxuICAgICAgICB9O1xuICAgICAgfSkuZmlsdGVyKGQgPT4gZC5pbmRleCAhPT0gLTEpO1xuXG4gICAgICBpZiAoZGVsZXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuZXcgTm90aWNlKCdcdTI2QTBcdUZFMEYgQ291bGQgbm90IGNyZWF0ZSBjbG96ZSBkZWxldGlvbnMnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBcdTUyMUJcdTVFRkFcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdTUzNjFcbiAgICAgIGNvbnN0IGNhcmQgPSBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmNyZWF0ZUNsb3plQ2FyZChcbiAgICAgICAgY29udGVudFVuaXQuaWQsXG4gICAgICAgIGNvbnRlbnRVbml0LmNvbnRlbnQsXG4gICAgICAgIGRlbGV0aW9uc1xuICAgICAgKTtcblxuICAgICAgbmV3IE5vdGljZShgXHUyNzA1IEZsYXNoY2FyZCBjcmVhdGVkISAoQ2xvemUgd2l0aCAke2RlbGV0aW9ucy5sZW5ndGh9IGJsYW5rcylgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcXVpY2sgY2xvemUgY2FyZDonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdcdTI3NEMgRmFpbGVkIHRvIGNyZWF0ZSBmbGFzaGNhcmQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2NjdBXHU4MEZEXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXHVGRjA4XHU4MUVBXHU1MkE4XHU1MjI0XHU2NUFEXHU3QzdCXHU1NzhCXHVGRjA5XG4gICAqL1xuICBhc3luYyBjcmVhdGVTbWFydENhcmQoY29udGVudFVuaXQ6IENvbnRlbnRVbml0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYW5ub3RhdGlvbiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKGNvbnRlbnRVbml0LmlkKTtcblxuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1OTVFRVx1OTg5OFx1NUY2Mlx1NUYwRlx1NzY4NFx1NjI3OVx1NkNFOFx1RkYwQ1x1NTIxQlx1NUVGQVx1OTVFRVx1N0I1NFx1NTM2MVxuICAgIGlmIChhbm5vdGF0aW9uICYmIHRoaXMuaXNRdWVzdGlvbihhbm5vdGF0aW9uLmNvbnRlbnQpKSB7XG4gICAgICBhd2FpdCB0aGlzLmNyZWF0ZVF1aWNrUUFDYXJkKGNvbnRlbnRVbml0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBcdTU5ODJcdTY3OUNcdTUxODVcdTVCQjlcdThGODNcdTc3RURcdTRFMTRcdTUzMDVcdTU0MkJcdTUxNzNcdTk1MkVcdTRGRTFcdTYwNkZcdUZGMENcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTRcdTUzNjFcbiAgICBpZiAoY29udGVudFVuaXQuY29udGVudC5sZW5ndGggPCAyMDApIHtcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlUXVpY2tRQUNhcmQoY29udGVudFVuaXQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NTE4NVx1NUJCOVx1OEY4M1x1OTU3Rlx1RkYwQ1x1NTIxQlx1NUVGQVx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NTM2MVxuICAgIGF3YWl0IHRoaXMuY3JlYXRlUXVpY2tDbG96ZUNhcmQoY29udGVudFVuaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjI3OVx1OTFDRlx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlQmF0Y2hDYXJkcyhcbiAgICBjb250ZW50VW5pdHM6IENvbnRlbnRVbml0W10sXG4gICAgdHlwZTogJ3FhJyB8ICdjbG96ZScgfCAnc21hcnQnID0gJ3NtYXJ0J1xuICApOiBQcm9taXNlPHsgc3VjY2VzczogbnVtYmVyOyBmYWlsZWQ6IG51bWJlciB9PiB7XG4gICAgbGV0IHN1Y2Nlc3MgPSAwO1xuICAgIGxldCBmYWlsZWQgPSAwO1xuXG4gICAgZm9yIChjb25zdCB1bml0IG9mIGNvbnRlbnRVbml0cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSAncWEnOlxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVRdWlja1FBQ2FyZCh1bml0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Nsb3plJzpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlUXVpY2tDbG96ZUNhcmQodW5pdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzbWFydCc6XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVNtYXJ0Q2FyZCh1bml0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN1Y2Nlc3MrKztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGNhcmQ6JywgZXJyb3IpO1xuICAgICAgICBmYWlsZWQrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzLCBmYWlsZWQgfTtcbiAgfVxuXG5cbi8qKlxuICogXHU1MjI0XHU2NUFEXHU2NTg3XHU2NzJDXHU2NjJGXHU1NDI2XHU2NjJGXHU5NUVFXHU5ODk4XG4gKi9cbnByaXZhdGUgaXNRdWVzdGlvbih0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgbG93ZXJUZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgXG4gIC8vIFx1NEVFNVx1OTVFRVx1NTNGN1x1N0VEM1x1NUMzRVxuICBpZiAobG93ZXJUZXh0LmVuZHNXaXRoKCc/JykgfHwgdGV4dC5lbmRzV2l0aCgnPycpIHx8IHRleHQuZW5kc1dpdGgoJ1x1RkYxRicpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIC8vIFx1ODJGMVx1NjU4N1x1NzU5MVx1OTVFRVx1OEJDRFxuICBjb25zdCBlblF1ZXN0aW9uV29yZHMgPSBbJ3doYXQnLCAnd2h5JywgJ2hvdycsICd3aGVuJywgJ3doZXJlJywgJ3dobycsICd3aGljaCddO1xuICBmb3IgKGNvbnN0IHdvcmQgb2YgZW5RdWVzdGlvbldvcmRzKSB7XG4gICAgaWYgKGxvd2VyVGV4dC5zdGFydHNXaXRoKHdvcmQgKyAnICcpKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgLy8gXHU0RTJEXHU2NTg3XHU3NTkxXHU5NUVFXHU4QkNEXG4gIGNvbnN0IGNuUXVlc3Rpb25Xb3JkcyA9IFsnXHU0RUMwXHU0RTQ4JywgJ1x1NEUzQVx1NEVDMFx1NEU0OCcsICdcdTYwMEVcdTRFNDgnLCAnXHU1OTgyXHU0RjU1JywgJ1x1NTRFQScsICdcdThDMDEnLCAnXHU0RjU1XHU2NUY2JywgJ1x1NEUzQVx1NEY1NSddO1xuICBmb3IgKGNvbnN0IHdvcmQgb2YgY25RdWVzdGlvbldvcmRzKSB7XG4gICAgaWYgKHRleHQuaW5jbHVkZXMod29yZCkpIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICAvLyBcdTRFMkRcdTY1ODdcdTk1RUVcdTUzRTVcdTdFRDNcdTVDM0VcbiAgaWYgKHRleHQuZW5kc1dpdGgoJ1x1NTQxN1x1RkYxRicpIHx8IHRleHQuZW5kc1dpdGgoJ1x1NTQ2Mlx1RkYxRicpIHx8IHRleHQuZW5kc1dpdGgoJ1x1NTQxNycpIHx8IHRleHQuZW5kc1dpdGgoJ1x1NTQ2MicpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIHJldHVybiBmYWxzZTtcbn1cblxuICAvKipcbiAgICogXHU3NTFGXHU2MjEwXHU5RUQ4XHU4QkE0XHU5NUVFXHU5ODk4XG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlRGVmYXVsdFF1ZXN0aW9uKGNvbnRlbnRVbml0OiBDb250ZW50VW5pdCk6IHN0cmluZyB7XG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NzA5XHU2ODA3XHU5ODk4XHVGRjBDXHU0RjdGXHU3NTI4XHU2ODA3XHU5ODk4XHU3NTFGXHU2MjEwXHU5NUVFXHU5ODk4XG4gICAgaWYgKGNvbnRlbnRVbml0LnNvdXJjZS5oZWFkaW5nKSB7XG4gICAgICBjb25zdCBoZWFkaW5nID0gY29udGVudFVuaXQuc291cmNlLmhlYWRpbmcucmVwbGFjZSgvXiMrXFxzKi8sICcnKTtcbiAgICAgIHJldHVybiB0KCdxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5oZWFkaW5nJywgdGhpcy5sYW5ndWFnZSwgeyBoZWFkaW5nIH0pO1xuICAgIH1cbiAgXG4gICAgLy8gXHU2ODM5XHU2MzZFXHU1MTg1XHU1QkI5XHU5NTdGXHU1RUE2XHU3NTFGXHU2MjEwXHU0RTBEXHU1NDBDXHU3Njg0XHU5NUVFXHU5ODk4XG4gICAgaWYgKGNvbnRlbnRVbml0LmNvbnRlbnQubGVuZ3RoIDwgNTApIHtcbiAgICAgIHJldHVybiB0KCdxdWlja0NhcmQucXVlc3Rpb24uZGVmYXVsdC5zaG9ydCcsIHRoaXMubGFuZ3VhZ2UsIHsgXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRVbml0LmNvbnRlbnQgXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRVbml0LmNvbnRlbnQubGVuZ3RoIDwgMTUwKSB7XG4gICAgICBjb25zdCBmaXJzdFdvcmRzID0gY29udGVudFVuaXQuY29udGVudC5zdWJzdHJpbmcoMCwgMzApICsgJy4uLic7XG4gICAgICByZXR1cm4gdCgncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQubWVkaXVtJywgdGhpcy5sYW5ndWFnZSwgeyBcbiAgICAgICAgY29udGVudDogZmlyc3RXb3JkcyBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdCgncXVpY2tDYXJkLnF1ZXN0aW9uLmRlZmF1bHQubG9uZycsIHRoaXMubGFuZ3VhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYzRDBcdTUzRDZcdTUxNzNcdTk1MkVcdThCQ0RcdUZGMDhcdTc1MjhcdTRFOEVcdTVCOENcdTVGNjJcdTU4NkJcdTdBN0FcdUZGMDlcbiAgICovXG4gIHByaXZhdGUgZXh0cmFjdEtleXdvcmRzKHRleHQ6IHN0cmluZyk6IEFycmF5PHsgd29yZDogc3RyaW5nOyBzY29yZTogbnVtYmVyIH0+IHtcbiAgICAvLyBcdTUyMDZcdThCQ0RcbiAgICBjb25zdCB3b3JkcyA9IHRleHQubWF0Y2goL1xcYltBLVphLXpdezMsfVxcYi9nKSB8fCBbXTtcbiAgICBcbiAgICAvLyBcdTVFMzhcdTg5QzFcdTUwNUNcdTc1MjhcdThCQ0RcbiAgICBjb25zdCBzdG9wV29yZHMgPSBuZXcgU2V0KFtcbiAgICAgICd0aGUnLCAnaXMnLCAnYXQnLCAnd2hpY2gnLCAnb24nLCAnYScsICdhbicsICdhbmQnLCAnb3InLCAnYnV0JyxcbiAgICAgICdpbicsICd3aXRoJywgJ3RvJywgJ2ZvcicsICdvZicsICdhcycsICdieScsICd0aGlzJywgJ3RoYXQnLFxuICAgICAgJ2Zyb20nLCAndGhleScsICd3ZScsICdzYXknLCAnaGVyJywgJ3NoZScsICdoZScsICd3aWxsJywgJ215JyxcbiAgICAgICdvbmUnLCAnYWxsJywgJ3dvdWxkJywgJ3RoZXJlJywgJ3RoZWlyJywgJ3doYXQnLCAnc28nLCAndXAnLCAnb3V0JyxcbiAgICAgICdpZicsICdhYm91dCcsICd3aG8nLCAnZ2V0JywgJ3doaWNoJywgJ2dvJywgJ21lJywgJ3doZW4nLCAnbWFrZScsXG4gICAgICAnY2FuJywgJ2xpa2UnLCAndGltZScsICdubycsICdqdXN0JywgJ2hpbScsICdrbm93JywgJ3Rha2UnLCAncGVvcGxlJyxcbiAgICAgICdpbnRvJywgJ3llYXInLCAneW91cicsICdnb29kJywgJ3NvbWUnLCAnY291bGQnLCAndGhlbScsICdzZWUnLCAnb3RoZXInXG4gICAgXSk7XG5cbiAgICAvLyBcdThCQ0RcdTk4OTFcdTdFREZcdThCQTFcbiAgICBjb25zdCB3b3JkRnJlcSA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgd29yZHMuZm9yRWFjaCh3b3JkID0+IHtcbiAgICAgIGNvbnN0IGxvd2VyID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFzdG9wV29yZHMuaGFzKGxvd2VyKSAmJiB3b3JkLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgd29yZEZyZXEuc2V0KHdvcmQsICh3b3JkRnJlcS5nZXQod29yZCkgfHwgMCkgKyAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFx1OEJBMVx1N0I5N1x1NTIwNlx1NjU3MFx1RkYwOFx1ODAwM1x1ODY1MVx1OTg5MVx1NzM4N1x1MzAwMVx1OTU3Rlx1NUVBNlx1MzAwMVx1NTkyN1x1NTE5OVx1RkYwOVxuICAgIGNvbnN0IHNjb3JlZCA9IEFycmF5LmZyb20od29yZEZyZXEuZW50cmllcygpKS5tYXAoKFt3b3JkLCBmcmVxXSkgPT4ge1xuICAgICAgbGV0IHNjb3JlID0gZnJlcTtcbiAgICAgIFxuICAgICAgLy8gXHU5NTdGXHU4QkNEXHU1MkEwXHU1MjA2XG4gICAgICBpZiAod29yZC5sZW5ndGggPiA4KSBzY29yZSArPSAyO1xuICAgICAgZWxzZSBpZiAod29yZC5sZW5ndGggPiA2KSBzY29yZSArPSAxO1xuICAgICAgXG4gICAgICAvLyBcdTk5OTZcdTVCNTdcdTZCQ0RcdTU5MjdcdTUxOTlcdTUyQTBcdTUyMDZcdUZGMDhcdTUzRUZcdTgwRkRcdTY2MkZcdTRFMTNcdTY3MDlcdTU0MERcdThCQ0RcdUZGMDlcbiAgICAgIGlmICh3b3JkWzBdID09PSB3b3JkWzBdLnRvVXBwZXJDYXNlKCkpIHNjb3JlICs9IDE7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHdvcmQsIHNjb3JlIH07XG4gICAgfSk7XG5cbiAgICAvLyBcdTYzOTJcdTVFOEZcdTVFNzZcdThGRDRcdTU2REVcdTUyNEQzXHU0RTJBXHU1MTczXHU5NTJFXHU4QkNEXG4gICAgcmV0dXJuIHNjb3JlZFxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKVxuICAgICAgLnNsaWNlKDAsIDMpO1xuICB9XG59IiwgIi8vIHNyYy91aS9TaWRlYmFyT3ZlcnZpZXdWaWV3LnRzIC0gXHU5MUNEXHU2Nzg0XHU1NDBFXHU3MjQ4XHU2NzJDXG5pbXBvcnQgeyBTdHlsZUxvYWRlciB9IGZyb20gJy4uL3N0eWxlL3NpZGViYXJTdHlsZSdcbmltcG9ydCB7IHJldmlld1N0eWxlIH0gZnJvbSAnLi4vc3R5bGUvcmV2aWV3U3R5bGUnO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuaW1wb3J0IHsgUXVpY2tGbGFzaGNhcmRDcmVhdG9yIH0gZnJvbSAnLi4vLi4vY29yZS9RdWlja0ZsYXNoY2FyZENyZWF0b3InO1xuaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBNZW51LCBOb3RpY2UsIE1vZGFsLCBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LEFwcCwgTWFya2Rvd25WaWV3fSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuXG4vLyBcdTVCRkNcdTUxNjVcdTY1QjBcdTc2ODRcdTdFQzRcdTRFRjZcdTU0OENcdTcyQjZcdTYwMDFcdTdCQTFcdTc0MDZcbmltcG9ydCB7IEZpbHRlck1vZGUsIEdyb3VwTW9kZSwgVmlld1N0YXRlIH0gZnJvbSAnLi4vc3RhdHMvVmlld1N0YXRlJztcbmltcG9ydCB7IFRvb2xiYXIgfSAgZnJvbSAnLi4vY29tcG9uZW50cy9Ub29sYmFyJztcbmltcG9ydCB7IEJhdGNoQWN0aW9ucywgQmF0Y2hBY3Rpb25DYWxsYmFja3MgfSBmcm9tICcuLi9jb21wb25lbnRzL0JhdGNoQWN0aW9ucyc7XG5pbXBvcnQgeyBDb250ZW50TGlzdCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ29udGVudExpc3QnO1xuaW1wb3J0IHsgQ29udGVudENhcmQsIENhcmRDYWxsYmFja3MgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRlbnRDYXJkJztcbmltcG9ydCB7IEFubm90YXRpb25FZGl0b3IsIEFubm90YXRpb25FZGl0b3JDYWxsYmFja3MgfSBmcm9tICcuLi9jb21wb25lbnRzL0Fubm90YXRpb25FZGl0b3InO1xuaW1wb3J0IHsgc2lkZU92ZXJ2aWV3U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2Uvc2lkZU92ZXJ2aWV3U2VydmljZSc7XG5pbXBvcnQgeyBNYW51YWxGbGFzaGNhcmRNb2RhbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWxzL01hbnVhbEZsYXNoY2FyZE1vZGFsJztcbmltcG9ydCB7IEVkaXRGbGFzaGNhcmRNb2RhbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWxzL0VkaXRGbGFzaGNhcmRNb2RhbCc7XG5pbXBvcnQgeyBcbiAgQ29udGV4dE1lbnVCdWlsZGVyLCBcbiAgQ29udGVudFVuaXRNZW51Q2FsbGJhY2tzLCBcbiAgRmxhc2hjYXJkTWVudUNhbGxiYWNrcyBcbn0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0TWVudUJ1aWxkZXInO1xuaW1wb3J0IHsgQmF0Y2hDcmVhdGVNb2RhbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWxzL0JhdGNoQ3JlYXRlTW9kYWwnO1xuaW1wb3J0IHsgTGV2ZWxJbmZvTW9kYWwgLFVubG9ja1Byb2dyZXNzfSBmcm9tICcuLi8uLi9jb3JlL1VubG9ja1N5c3RlbSdcblxuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcgPSAnbGVhcm5pbmctc3lzdGVtLXNpZGViYXItb3ZlcnZpZXcnO1xuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9NQUlOX09WRVJWSUVXID0gJ2xlYXJuaW5nLXN5c3RlbS1tYWluLW92ZXJ2aWV3JztcblxuZXhwb3J0IGNsYXNzIFNpZGViYXJPdmVydmlld1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG4gIFxuICAvLyBcdTRGN0ZcdTc1MjhcdTcyQjZcdTYwMDFcdTdCQTFcdTc0MDZcdTU2NjhcbiAgcHJpdmF0ZSBzdGF0ZTogVmlld1N0YXRlO1xuICBcbiAgLy8gXHU0RjdGXHU3NTI4XHU3RUM0XHU0RUY2XG4gIHByaXZhdGUgdG9vbGJhcjogVG9vbGJhcjtcbiAgcHJpdmF0ZSBiYXRjaEFjdGlvbnM6IEJhdGNoQWN0aW9ucztcbiAgcHJpdmF0ZSBjb250ZW50TGlzdDogQ29udGVudExpc3Q7XG4gIHByaXZhdGUgYW5ub3RhdGlvbkVkaXRvcjogQW5ub3RhdGlvbkVkaXRvcjtcbiAgcHJpdmF0ZSBvdmVydmlld1NlcnZpY2U6IHNpZGVPdmVydmlld1NlcnZpY2U7IFxuXG4gIHByaXZhdGUgX2ZvcmNlTWFpbk1vZGU6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBpc09wZW5pbmdFZGl0b3I6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbiwgZm9yY2VNYWluTW9kZSA9IGZhbHNlKSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgXG4gICAgdGhpcy5fZm9yY2VNYWluTW9kZSA9IGZvcmNlTWFpbk1vZGU7XG4gICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU3MkI2XHU2MDAxXG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBWaWV3U3RhdGUoZm9yY2VNYWluTW9kZSk7XG4gICAgXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU3RUM0XHU0RUY2XG4gICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50cygpO1xuICAgIFxuICAgIFxuICAgIC8vIFx1OEJCRVx1N0Y2RVx1NTIxRFx1NTlDQlx1OTAwOVx1NEUyRFx1NjU4N1x1NEVGNlxuICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgIGlmIChhY3RpdmVGaWxlKSB7XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGFjdGl2ZUZpbGUucGF0aDtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU3NkQxXHU1NDJDXHU3QTk3XHU1M0UzXHU1OTI3XHU1QzBGXHU1M0Q4XHU1MzE2XHVGRjA4XHU5NjMyXHU2Mjk2XHVGRjA5XG4gICAgdGhpcy5zZXR1cFJlc2l6ZUxpc3RlbmVyKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTc1MUZcdTU0N0RcdTU0NjhcdTY3MUZcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZvcmNlTWFpbk1vZGUgPSB0aGlzLl9mb3JjZU1haW5Nb2RlIHx8IGZhbHNlO1xuICAgIHJldHVybiBmb3JjZU1haW5Nb2RlIFxuICAgICAgPyBWSUVXX1RZUEVfTUFJTl9PVkVSVklFVyBcbiAgICAgIDogVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVc7XG4gIH1cblxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnTGVhcm5pbmcgT3ZlcnZpZXcnO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnYm9vay1tYXJrZWQnO1xuICB9XG5cbiAgYXN5bmMgb25PcGVuKCkge1xuICAgIFxuICAgICAgICB0aGlzLmRldGVjdERpc3BsYXlNb2RlKCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY20tZWRpdG9yJyk7XG4gICAgICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgICBjb25zdCBzdG9wRWRpdG9yQ2FwdHVyZSA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5sZWFybmluZy1vdmVydmlldy1jb250YWluZXInKSkge1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN0b3BFZGl0b3JDYXB0dXJlLCB0cnVlKTtcbiAgICAgICAgICBlZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wRWRpdG9yQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAvLyBcdTc5ODFcdTc1MjhcdTdGMTZcdThGOTFcdTU2NjhcdTgxRUFcdTUyQThcdTgwNUFcdTcxMjZcbiAgICBjb25zdCBlZGl0b3JDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY20tY29udGVudCcpO1xuICAgIGlmIChlZGl0b3JDb250YWluZXIpIHtcbiAgICAgIChlZGl0b3JDb250YWluZXIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICBlZGl0b3JDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgLy8gXHU1OTgyXHU2NzlDXHU3MEI5XHU1MUZCXHU3Njg0XHU2NjJGXHU2NDFDXHU3RDIyXHU2ODQ2XHU1MzNBXHU1N0RGXHVGRjBDXHU0RTBEXHU4QkE5XHU3RjE2XHU4RjkxXHU1NjY4XHU1OTA0XHU3NDA2XG4gICAgICAgIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtY29udGFpbmVyJyk7XG4gICAgICAgIGlmIChzZWFyY2hCb3ggJiYgc2VhcmNoQm94LmNvbnRhaW5zKGUudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTc4NkVcdTRGRERcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdTRFMEJcdThCQkVcdTdGNkVcdTVGNTNcdTUyNERcdTZEM0JcdTUyQThcdTY1ODdcdTRFRjZcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ3NpZGViYXInKSB7XG4gICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgIGlmIChhY3RpdmVGaWxlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gYWN0aXZlRmlsZS5wYXRoO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBcdTZDRThcdTUxOENcdTRFOEJcdTRFRjZcdTc2RDFcdTU0MkNcbiAgICBpZiAoIXRoaXMuc3RhdGUuZm9yY2VNYWluTW9kZSkge1xuICAgICAgdGhpcy5yZWdpc3RlckFjdGl2ZUxlYWZDaGFuZ2UoKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zdGF0ZS51cGRhdGVEdWVDb3VudCh0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyKTtcbiAgICBcbiAgICAvLyBcdTUxNDhcdTZFMzJcdTY3RDNcdTc1NENcdTk3NjJcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIFN0eWxlTG9hZGVyLmluamVjdCgpO1xuICAgIHJldmlld1N0eWxlLmluamVjdCgpO1xuICAgIFxuICAgIC8vIFx1NzU0Q1x1OTc2Mlx1NkUzMlx1NjdEM1x1NTQwRVx1NTE4RFx1NjhDMFx1NjdFNVx1NTkwRFx1NEU2MFx1NjNEMFx1OTE5MlxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgfVxuICBcbiAgYXN5bmMgb25DbG9zZSgpIHtcbiAgICAvLyBcdTZFMDVcdTc0MDZcdTVCOUFcdTY1RjZcdTU2NjhcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lcik7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NTE3M1x1OTVFRFx1NjI0MFx1NjcwOVx1NkQzQlx1NTJBOFx1NzY4NFx1N0YxNlx1OEY5MVx1NTY2OFxuICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvci5jbG9zZUFsbCgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1MjFEXHU1OUNCXHU1MzE2XHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplQ29tcG9uZW50cygpOiB2b2lkIHtcbiAgICB0aGlzLm92ZXJ2aWV3U2VydmljZSA9IG5ldyBzaWRlT3ZlcnZpZXdTZXJ2aWNlKHRoaXMucGx1Z2luLCB0aGlzLnN0YXRlKTtcbiAgICAvLyBcdTVERTVcdTUxNzdcdTY4MEZcdTU2REVcdThDMDNcbiAgICB0aGlzLnRvb2xiYXIgPSBuZXcgVG9vbGJhcih0aGlzLnN0YXRlLCB7XG4gICAgICBvblNlYXJjaENoYW5nZTogKHF1ZXJ5KSA9PiB0aGlzLmhhbmRsZVNlYXJjaENoYW5nZShxdWVyeSksXG4gICAgICBvbkZpbHRlckNoYW5nZTogKG1vZGUpID0+IHRoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlKG1vZGUpLFxuICAgICAgb25Hcm91cENoYW5nZTogKG1vZGUpID0+IHRoaXMuaGFuZGxlR3JvdXBDaGFuZ2UobW9kZSksXG4gICAgICBvbkNoZWNrUmV2aWV3OiAoKSA9PiB0aGlzLmNoZWNrUmV2aWV3UmVtaW5kZXIoKSxcblxuICAgICAgY2hlY2tGaWx0ZXJIYXNOb3RlczogKG1vZGUpID0+IHRoaXMuY2hlY2tGaWx0ZXJIYXNOb3Rlcyhtb2RlKSxcbiAgICAgIGNoZWNrR3JvdXBIYXNOb3RlczogKG1vZGUpID0+IHRoaXMuY2hlY2tHcm91cEhhc05vdGVzKG1vZGUpXG4gICAgfSwgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpOyBcbiAgICBcbiAgICBcbiAgICAvLyBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUNcdTU2REVcdThDMDNcbiAgICBjb25zdCBiYXRjaENhbGxiYWNrczogQmF0Y2hBY3Rpb25DYWxsYmFja3MgPSB7XG4gICAgICBvblNlbGVjdEFsbDogKCkgPT4gdGhpcy5oYW5kbGVTZWxlY3RBbGwoKSxcbiAgICAgIG9uRGVzZWxlY3RBbGw6ICgpID0+IHRoaXMuaGFuZGxlRGVzZWxlY3RBbGwoKSxcbiAgICAgIG9uQmF0Y2hDcmVhdGU6ICgpID0+IHRoaXMuaGFuZGxlQmF0Y2hDcmVhdGUoKSxcbiAgICAgIG9uQmF0Y2hEZWxldGU6ICgpID0+IHRoaXMuaGFuZGxlQmF0Y2hEZWxldGUoKSxcbiAgICAgIG9uQ2FuY2VsOiAoKSA9PiB0aGlzLmhhbmRsZUJhdGNoQ2FuY2VsKClcbiAgICB9O1xuICAgIHRoaXMuYmF0Y2hBY3Rpb25zID0gbmV3IEJhdGNoQWN0aW9ucyh0aGlzLnN0YXRlLCBiYXRjaENhbGxiYWNrcyx0aGlzLnRvb2xiYXIsICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSk7XG4gICAgXG4gICAgLy8gXHU1MzYxXHU3MjQ3XHU1NkRFXHU4QzAzXG4gICAgY29uc3QgY2FyZENhbGxiYWNrczogQ2FyZENhbGxiYWNrcyA9IHtcbiAgICAgIG9uSnVtcFRvU291cmNlOiAodW5pdCkgPT4gdGhpcy5qdW1wVG9Tb3VyY2UodW5pdCksXG4gICAgICBvbkp1bXBUb0ZsYXNoY2FyZDogKGNhcmQpID0+IHRoaXMuanVtcFRvRmxhc2hjYXJkU291cmNlKGNhcmQpLCBcbiAgICAgIG9uVG9nZ2xlQW5ub3RhdGlvbjogKGNhcmQsIHVuaXQpID0+IHtcbiAgICAgICAgLy8gXHVEODNDXHVERkFGIEx2MiBcdTY3NDNcdTk2NTBcdTY4QzBcdTY3RTVcbiAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0udHJ5VXNlRmVhdHVyZSgnYW5ub3RhdGlvbicsICdBbm5vdGF0aW9uJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFx1MkI1MCBcdThCQkVcdTdGNkVcdTk1MDFcbiAgICAgICAgdGhpcy5pc09wZW5pbmdFZGl0b3IgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uRWRpdG9yLnRvZ2dsZShjYXJkLCB1bml0KTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNPcGVuaW5nRWRpdG9yID0gZmFsc2U7XG4gICAgICAgIH0sIDUwMCk7IFxuICAgICAgfSxcbiAgICAgIG9uUXVpY2tGbGFzaGNhcmQ6ICh1bml0KSA9PiB0aGlzLnF1aWNrR2VuZXJhdGVGbGFzaGNhcmQodW5pdCksXG4gICAgICBvblNob3dDb250ZXh0TWVudTogKGV2ZW50LCB1bml0KSA9PiB0aGlzLnNob3dDb250ZXh0TWVudShldmVudCwgdW5pdCksXG4gICAgICBvbkZsYXNoY2FyZENvbnRleHRNZW51OiAoZXZlbnQsIGNhcmQpID0+IHRoaXMuc2hvd0ZsYXNoY2FyZENvbnRleHRNZW51KGV2ZW50LCBjYXJkKSxcbiAgICAgIGdldEFubm90YXRpb25Db250ZW50OiAodW5pdElkKSA9PiB7XG4gICAgICAgIGNvbnN0IGFubiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKHVuaXRJZCk7XG4gICAgICAgIHJldHVybiBhbm4/LmNvbnRlbnQ7XG4gICAgICB9LFxuICAgICAgZ2V0Q29udGVudFVuaXQ6ICh1bml0SWQpID0+IHtcbiAgICAgICAgY29uc3QgYWxsVW5pdHMgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKTtcbiAgICAgICAgY29uc3QgdW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KHVuaXRJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodW5pdCkge1xuICAgICAgICAgIHJldHVybiB1bml0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY29udGVudExpc3QgPSBuZXcgQ29udGVudExpc3QodGhpcy5zdGF0ZSwgY2FyZENhbGxiYWNrcyk7XG4gICAgXG4gICAgLy8gXHU2Mjc5XHU2Q0U4XHU3RjE2XHU4RjkxXHU1NjY4XHU1NkRFXHU4QzAzXG4gICAgY29uc3QgYW5ub3RhdGlvbkNhbGxiYWNrczogQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcyA9IHtcbiAgICAgIG9uU2F2ZTogYXN5bmMgKHVuaXRJZCwgY29udGVudCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVBbm5vdGF0aW9uKHVuaXRJZCwgY29udGVudCk7XG4gICAgICB9LFxuICAgICAgb25DYW5jZWw6ICh1bml0SWQpID0+IHtcbiAgICAgICAgLy8gXHU1M0Q2XHU2RDg4XHU3RjE2XHU4RjkxXHVGRjBDXHU0RTBEXHU1MDVBXHU0RUZCXHU0RjU1XHU2NENEXHU0RjVDXG4gICAgICB9LFxuICAgICAgZ2V0QW5ub3RhdGlvbkNvbnRlbnQ6ICh1bml0SWQpID0+IHtcbiAgICAgICAgY29uc3QgYW5uID0gdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIuZ2V0Q29udGVudEFubm90YXRpb24odW5pdElkKTtcbiAgICAgICAgcmV0dXJuIGFubj8uY29udGVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYW5ub3RhdGlvbkVkaXRvciA9IG5ldyBBbm5vdGF0aW9uRWRpdG9yKGFubm90YXRpb25DYWxsYmFja3MpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFJlc2l6ZUxpc3RlbmVyKCk6IHZvaWQge1xuICAgIGxldCByZXNpemVUaW1lcjogbnVtYmVyO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZXIpO1xuICAgICAgcmVzaXplVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZGV0ZWN0RGlzcGxheU1vZGUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyQWN0aXZlTGVhZkNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2FjdGl2ZS1sZWFmLWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgIGlmIChhY3RpdmVGaWxlICYmIHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gYWN0aXZlRmlsZS5wYXRoO1xuICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCAoZmlsZSkgPT4ge1xuICAgICAgICBpZiAoZmlsZSAmJiB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGZpbGUucGF0aDtcbiAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2NjNFXHU3OTNBXHU2QTIxXHU1RjBGXHU2OEMwXHU2RDRCID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBkZXRlY3REaXNwbGF5TW9kZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5mb3JjZU1haW5Nb2RlKSB7XG4gICAgICB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID0gJ21haW4nO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwYXJlbnRTcGxpdCA9ICh0aGlzLmxlYWYgYXMgYW55KS5wYXJlbnRTcGxpdDtcbiAgICBjb25zdCBpc0xlZnRTaWRlYmFyID0gcGFyZW50U3BsaXQ/LnR5cGUgPT09ICdzcGxpdCcgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5sZWZ0U3BsaXQgPT09IHBhcmVudFNwbGl0O1xuICAgIGNvbnN0IGlzUmlnaHRTaWRlYmFyID0gcGFyZW50U3BsaXQ/LnR5cGUgPT09ICdzcGxpdCcgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmlnaHRTcGxpdCA9PT0gcGFyZW50U3BsaXQ7XG4gICAgXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNvbnRhaW5lckVsLmNsaWVudFdpZHRoO1xuICAgIGNvbnN0IGlzTmFycm93ID0gd2lkdGggPCA1MDA7XG4gICAgXG4gICAgY29uc3QgaXNTaWRlYmFyID0gaXNMZWZ0U2lkZWJhciB8fCBpc1JpZ2h0U2lkZWJhciB8fCBpc05hcnJvdztcbiAgICB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID0gaXNTaWRlYmFyID8gJ3NpZGViYXInIDogJ21haW4nO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2RTMyXHU2N0QzXHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgcmVmcmVzaCgpOiB2b2lkIHtcbiAgXG4gIGNvbnN0IGhhc0FjdGl2ZUVkaXRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgIT09IG51bGw7XG4gIGlmIChoYXNBY3RpdmVFZGl0b3JzIHx8IHRoaXMuaXNPcGVuaW5nRWRpdG9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZW5kZXJpbmcpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnJlZnJlc2goKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaERlYm91bmNlVGltZXIgIT09IG51bGwpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5zZWFyY2hEZWJvdW5jZVRpbWVyKTtcbiAgICAgIHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuc2hvdWxkUmVzdG9yZVNjcm9sbCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVuZGVyaW5nKSByZXR1cm47XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5pc1JlbmRlcmluZyA9IHRydWU7XG4gICAgXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgICBcbiAgICAvLyBcdTRGRERcdTVCNThcdTZFREFcdTUyQThcdTRGNERcdTdGNkVcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ3NpZGViYXInKSB7XG4gICAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjb250ZW50TGlzdCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNhdmVkU2Nyb2xsUG9zaXRpb24gPSBjb250ZW50TGlzdC5zY3JvbGxUb3A7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NkUwNVx1N0E3QVx1NUJCOVx1NTY2OFxuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hZGRDbGFzcygnbGVhcm5pbmctb3ZlcnZpZXctY29udGFpbmVyJyk7XG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgdGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSk7XG4gICAgXG4gICAgLy8gXHU2ODM5XHU2MzZFXHU2QTIxXHU1RjBGXHU2RTMyXHU2N0QzXG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgPT09ICdzaWRlYmFyJykge1xuICAgICAgdGhpcy5yZW5kZXJTaWRlYmFyTW9kZShjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlck1haW5Nb2RlKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NjA2Mlx1NTkwRFx1NkVEQVx1NTJBOFx1NEY0RFx1N0Y2RVxuICAgIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicgJiYgdGhpcy5zdGF0ZS5zaG91bGRSZXN0b3JlU2Nyb2xsKSB7XG4gICAgICBjb25zdCBjb250ZW50TGlzdCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1jb250ZW50LWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjb250ZW50TGlzdCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGNvbnRlbnRMaXN0LnNjcm9sbFRvcCA9IHRoaXMuc3RhdGUuc2F2ZWRTY3JvbGxQb3NpdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhdGUuaXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgfVxuXG4vLyBzcmMvdWkvU2lkZWJhck92ZXJ2aWV3Vmlldy50c1xuXG5wcml2YXRlIHJlbmRlclNpZGViYXJNb2RlKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgLy8gMS4gXHU2RTMyXHU2N0QzXHU1REU1XHU1MTc3XHU2ODBGXG4gIGNvbnN0IHRvb2xiYXJFbCA9IHRoaXMudG9vbGJhci5yZW5kZXJTaWRlYmFyVG9vbGJhcihjb250YWluZXIpO1xuXG4gIC8vIDIuIFx1NTIxQlx1NUVGQVx1N0VERlx1OEJBMVx1ODg0Q1xuICBsZXQgc3RhdHNSb3cgPSB0b29sYmFyRWwucXVlcnlTZWxlY3RvcignLnN0YXRzLXJvdycpIGFzIEhUTUxFbGVtZW50O1xuICBpZiAoIXN0YXRzUm93KSB7XG4gICAgc3RhdHNSb3cgPSB0b29sYmFyRWwuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtcm93JyB9KTtcbiAgICBzdGF0c1Jvdy5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHMtY29udGFpbmVyJywgJ3RydWUnKTtcbiAgfVxuICBcbiAgLy8gMy4gXHU4M0I3XHU1M0Q2XHU1M0VGXHU4OUMxXHU5ODc5XHU3NkVFXG4gIGNvbnN0IGN1cnJlbnRGaWxlVW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTsgXG4gIGNvbnN0IGl0ZW1zID0gdGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJyBcbiAgICA/IHRoaXMuZ2V0RmlsdGVyZWRDYXJkc0ZvckN1cnJlbnRGaWxlKCkgXG4gICAgOiBjdXJyZW50RmlsZVVuaXRzO1xuICBcbiAgXG4gIC8vIDQuIFx1NTIxQlx1NUVGQVx1NURFNlx1NEZBN1x1NUJCOVx1NTY2OChcdTUxNjhcdTkwMDlcdTYzMDlcdTk0QUUpXG4gIGNvbnN0IGxlZnRBY3Rpb25zID0gc3RhdHNSb3cuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtbGVmdCcgfSk7XG4gIHRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlclNlbGVjdEFsbEJ1dHRvbihsZWZ0QWN0aW9ucywgaXRlbXMsICdzaWRlYmFyJyk7XG4gIFxuICAvLyA1LiBcdTUyMUJcdTVFRkFcdTRFMkRcdTk1RjRcdTVCQjlcdTU2NjgoXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFKVxuICBjb25zdCBjZW50ZXJBY3Rpb25zID0gc3RhdHNSb3cuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtY2VudGVyJyB9KTtcbiAgdGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyQWN0aW9uQnV0dG9ucyhjZW50ZXJBY3Rpb25zLCAnc2lkZWJhcicpO1xuICBcbi8vIFx1NjYzRVx1NzkzQVx1N0I0OVx1N0VBN1x1NUZCRFx1N0FFMFx1RkYwOEx2MS1MdjQgXHU1OUNCXHU3RUM4XHU2NjNFXHU3OTNBXHVGRjBDTHY1IFx1NjYzRVx1NzkzQTMwXHU1MjA2XHU5NDlGXHU1NDBFXHU5NjkwXHU4NUNGXHVGRjA5XG5jb25zdCBwcm9ncmVzcyA9IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5nZXRQcm9ncmVzcygpO1xuY29uc3Qgc2hvdWxkU2hvd0Z1bGxCYWRnZSA9IHRoaXMuc2hvdWxkU2hvd0Z1bGxMZXZlbEJhZGdlKHByb2dyZXNzKTtcblxuaWYgKHNob3VsZFNob3dGdWxsQmFkZ2UpIHtcbiAgY29uc3QgbGV2ZWxCYWRnZSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdsZXZlbC1iYWRnZScgfSk7XG5cbiAgY29uc3QgbGV2ZWxOYW1lczogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IHtcbiAgICAxOiAnQ29sbGVjdG9yJyxcbiAgICAyOiAnVGhpbmtlcicsXG4gICAgMzogJ01lbW9yaXplcicsXG4gICAgNDogJ1RyYWluZXInLFxuICAgIDU6ICdBbmFseXN0J1xuICB9O1xuICBjb25zdCBsZXZlbE5hbWUgPSBsZXZlbE5hbWVzW3Byb2dyZXNzLmN1cnJlbnRMZXZlbF0gfHwgJyc7XG5cbiAgbGV2ZWxCYWRnZS50ZXh0Q29udGVudCA9IGBMdiR7cHJvZ3Jlc3MuY3VycmVudExldmVsfTogICR7bGV2ZWxOYW1lfWA7XG4gIGxldmVsQmFkZ2Uuc3R5bGUuZm9udFNpemUgPSAnMWVtJztcblxuICBjb25zdCBwcm9ncmVzc1RleHQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3MtdGV4dCcgfSk7XG4gIHByb2dyZXNzVGV4dC5pbm5lckhUTUwgPSB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0uZ2V0TmV4dFN0ZXBzRm9yTGV2ZWwocHJvZ3Jlc3MuY3VycmVudExldmVsKS5yZXBsYWNlKC9cXG4vZywgJzxicj4nKTtcbiAgcHJvZ3Jlc3NUZXh0LnN0eWxlLmZvbnRTaXplID0gJzAuOTNlbSc7XG4gIFxuICAvLyBcdTZERkJcdTUyQTBcdTdCMkNcdTRFMDBcdTY3NjFcdTUyMDZcdTk2OTRcdTdFQkZcbiAgY29uc3QgZGl2aWRlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdsZXZlbC1kaXZpZGVyJyB9KTtcbiAgZGl2aWRlci5zdHlsZS53aWR0aCA9ICdjYWxjKDEwMCUgLSAyNHB4KSc7XG4gIGRpdmlkZXIuc3R5bGUuaGVpZ2h0ID0gJzFweCc7XG4gIGRpdmlkZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSc7XG4gIGRpdmlkZXIuc3R5bGUubWFyZ2luID0gJzEycHggYXV0byc7XG59XG5cbi8vIDYuIFx1NTIxQlx1NUVGQVx1NTNGM1x1NEZBN1x1NUJCOVx1NTY2OChcdTdCNDlcdTdFQTdcdTVGQkRcdTdBRTAgKyBcdTU5MERcdTRFNjBcdTY4QzBcdTY3RTVcdTYzMDlcdTk0QUUpXG5jb25zdCByaWdodEFjdGlvbnMgPSBzdGF0c1Jvdy5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy1yaWdodCcgfSk7XG5cbi8vIFx1MkI1MCBMdjUgXHU0RTE0MzBcdTUyMDZcdTk0OUZcdTU0MEVcdTY2M0VcdTc5M0FcdTVDMEZcdTVGQkRcdTdBRTBcdUZGMDhcdTU5MERcdTc1MjhcdTRFMEFcdTk3NjJcdTc2ODQgcHJvZ3Jlc3MgXHU1M0Q4XHU5MUNGXHVGRjA5XG5pZiAoIXNob3VsZFNob3dGdWxsQmFkZ2UgJiYgcHJvZ3Jlc3MuY3VycmVudExldmVsID09PSA1KSB7XG4gIHRoaXMucmVuZGVyTGV2ZWxCYWRnZShyaWdodEFjdGlvbnMsIHByb2dyZXNzKTtcbn1cblxudGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyUmV2aWV3Q2hlY2tCdXR0b24ocmlnaHRBY3Rpb25zLCAnc2lkZWJhcicpO1xuICBcbiAgLy8gNy4gXHU1MjFCXHU1RUZBXHU1MTg1XHU1QkI5XHU1MjE3XHU4ODY4XHU1QkI5XHU1NjY4XG4gIGNvbnN0IGNvbnRlbnRMaXN0RWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc2lkZWJhci1jb250ZW50LWxpc3QnIH0pO1xuICBcbiAgLy8gOC4gXHU1MTQ4XHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XG4gIHRoaXMuY29udGVudExpc3QucmVuZGVyQ29tcGFjdExpc3QoY29udGVudExpc3RFbCwgY3VycmVudEZpbGVVbml0cyk7XG5cbiAgLy8gOS4gXHUyQjUwIFx1NkUzMlx1NjdEM1x1NUI4Q1x1NjIxMFx1NTQwRSxcdTVDMDZcdTYzRDBcdTkxOTJcdTYzRDJcdTUxNjVcdTUyMzBcdTY3MDBcdTUyNERcdTk3NjJcbiAgdGhpcy5pbnNlcnRSZXZpZXdSZW1pbmRlckF0VG9wKGNvbnRlbnRMaXN0RWwpO1xufVxuXG4gIHByaXZhdGUgcmVuZGVyTWFpbk1vZGUoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXG4gICAgY29uc3QgbGF5b3V0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ21haW4tbGF5b3V0JyB9KTtcblxuICAgIC8vIFx1NURFNlx1NEZBN1x1OTc2Mlx1Njc3RlxuICAgIGNvbnN0IGxlZnRQYW5lbCA9IGxheW91dC5jcmVhdGVEaXYoeyBjbHM6ICdsZWZ0LXBhbmVsJyB9KTtcbiAgICB0aGlzLnJlbmRlckxlZnRQYW5lbChsZWZ0UGFuZWwpO1xuICAgIFxuICAgIC8vIFx1NTNGM1x1NEZBN1x1OTc2Mlx1Njc3RlxuICAgIGNvbnN0IHJpZ2h0UGFuZWwgPSBsYXlvdXQuY3JlYXRlRGl2KHsgY2xzOiAncmlnaHQtcGFuZWwnIH0pO1xuICAgIHRoaXMucmVuZGVyUmlnaHRQYW5lbChyaWdodFBhbmVsKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyTGVmdFBhbmVsKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAvLyBcdTVERTVcdTUxNzdcdTY4MEZcbiAgICB0aGlzLnRvb2xiYXIucmVuZGVyTWFpblRvb2xiYXIoY29udGFpbmVyKTtcbiAgICBcbiAgICAvLyBcdTU2RkFcdTVCOUFcdTUxNjVcdTUzRTNcdUZGMDhBbGwgTm90ZXMsIENhcmQgTGlzdFx1RkYwOVxuICAgIHRoaXMucmVuZGVyRml4ZWRFbnRyaWVzKGNvbnRhaW5lcik7XG4gICAgXG4gICAgLy8gXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XG4gICAgdGhpcy5yZW5kZXJGaWxlTGlzdChjb250YWluZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJSaWdodFBhbmVsKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgdGhpcy5yZW5kZXJGbGFzaGNhcmRzVmlldyhjb250YWluZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTgxRUFcdTUyQThcdTkwMDlcdTRFMkRcdTdCMkNcdTRFMDBcdTRFMkFcdTUyMDZcdTdFQzRcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB7XG4gICAgICBjb25zdCB1bml0cyA9IHRoaXMuZ2V0RmlsdGVyZWRVbml0cygpO1xuICAgICAgY29uc3QgZ3JvdXBlZCA9IHRoaXMuY29udGVudExpc3QuZ3JvdXBVbml0cyh1bml0cyk7XG4gICAgICBpZiAoZ3JvdXBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID0gZ3JvdXBlZFswXS5ncm91cEtleTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgICAgdGhpcy5yZW5kZXJFbXB0eVJpZ2h0UGFuZWwoY29udGFpbmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2RTMyXHU2N0QzXHU1OTM0XHU5MEU4XG4gICAgY29uc3QgaGVhZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtaGVhZGVyJyB9KTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSB8fCAnXHU1MTg1XHU1QkI5JyB9KTtcbiAgICBcbiAgICBjb25zdCBoZWFkZXJBY3Rpb25zID0gaGVhZGVyLmNyZWF0ZURpdih7IGNsczogJ2hlYWRlci1hY3Rpb25zJyB9KTtcbiAgICBjb25zdCB2aXNpYmxlSXRlbXMgPSB0aGlzLmdldFZpc2libGVJdGVtcygpO1xuICAgIGNvbnN0IGl0ZW1zID0gKHZpc2libGVJdGVtcy51bml0cyB8fCBbXSk7XG4gICAgXG4gICAgdGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyQWN0aW9uQnV0dG9ucyhoZWFkZXJBY3Rpb25zLCAnaGVhZGVyJyk7XG4gICAgdGhpcy5iYXRjaEFjdGlvbnMucmVuZGVyU2VsZWN0QWxsQnV0dG9uKGhlYWRlckFjdGlvbnMsIGl0ZW1zLCAnaGVhZGVyJyk7XG4gICAgXG4gICAgLy8gXHU2RTMyXHU2N0QzXHU3RjUxXHU2ODNDXG4gICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjb250ZW50LWdyaWQnIH0pO1xuICAgIGNvbnN0IGZpbHRlcmVkVW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHNGb3JTZWxlY3RlZEdyb3VwKCk7XG4gICAgdGhpcy5jb250ZW50TGlzdC5yZW5kZXJDb250ZW50R3JpZChncmlkQ29udGFpbmVyLCBmaWx0ZXJlZFVuaXRzKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmxhc2hjYXJkc1ZpZXcoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGZsYXNoY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgICBcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB7XG4gICAgICBjb25zdCBncm91cGVkID0gdGhpcy5jb250ZW50TGlzdC5ncm91cEZsYXNoY2FyZHMoXG4gICAgICAgIGZsYXNoY2FyZHMsXG4gICAgICAgIChpZCkgPT4gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoaWQpXG4gICAgICApO1xuICAgICAgaWYgKGdyb3VwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSA9IGdyb3VwZWRbMF0uZ3JvdXBLZXk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICAgIHRoaXMucmVuZGVyRW1wdHlSaWdodFBhbmVsKGNvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NkUzMlx1NjdEM1x1NTkzNFx1OTBFOFxuICAgIGNvbnN0IGhlYWRlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWhlYWRlcicgfSk7XG4gICAgaGVhZGVyLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgfHwgJ1x1OTVFQVx1NTM2MScgfSk7XG4gICAgXG4gICAgY29uc3QgaGVhZGVyQWN0aW9ucyA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICdoZWFkZXItYWN0aW9ucycgfSk7XG4gICAgY29uc3QgdmlzaWJsZUl0ZW1zID0gdGhpcy5nZXRWaXNpYmxlSXRlbXMoKTtcbiAgICBjb25zdCBpdGVtcyA9ICh2aXNpYmxlSXRlbXMuY2FyZHMgfHwgW10pO1xuICAgIFxuICAgIHRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlckFjdGlvbkJ1dHRvbnMoaGVhZGVyQWN0aW9ucywgJ2hlYWRlcicpO1xuICAgIHRoaXMuYmF0Y2hBY3Rpb25zLnJlbmRlclNlbGVjdEFsbEJ1dHRvbihoZWFkZXJBY3Rpb25zLCBpdGVtcywgJ2hlYWRlcicpO1xuICAgIFxuICAgIC8vIFx1NkUzMlx1NjdEM1x1OTVFQVx1NTM2MVx1N0Y1MVx1NjgzQ1xuICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY29udGVudC1ncmlkJyB9KTtcbiAgICBjb25zdCBmaWx0ZXJlZENhcmRzID0gdGhpcy5nZXRGaWx0ZXJlZENhcmRzRm9yU2VsZWN0ZWRHcm91cCgpO1xuICAgIHRoaXMuY29udGVudExpc3QucmVuZGVyRmxhc2hjYXJkc0dyaWQoZ3JpZENvbnRhaW5lciwgZmlsdGVyZWRDYXJkcyk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZpeGVkRW50cmllcyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3QgZW50cmllcyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdmaXhlZC1lbnRyaWVzJyB9KTtcbiAgICBcbiAgICBjb25zdCBhbGxOb3Rlc0J0biA9IGVudHJpZXMuY3JlYXRlRGl2KHtcbiAgICAgIGNsczogYGVudHJ5LWJ0biAke3RoaXMuc3RhdGUudmlld1R5cGUgPT09ICdub3RlcycgPyAnYWN0aXZlJyA6ICcnfWBcbiAgICB9KTtcbiAgICBhbGxOb3Rlc0J0bi5pbm5lckhUTUwgPSAnXHVEODNEXHVEQ0REIDxzcGFuPkFsbCBOb3Rlczwvc3Bhbj4nO1xuICAgIGFsbE5vdGVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMuc3RhdGUuc2V0Vmlld1R5cGUoJ25vdGVzJykpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBjYXJkTGlzdEJ0biA9IGVudHJpZXMuY3JlYXRlRGl2KHtcbiAgICAgIGNsczogYGVudHJ5LWJ0biAke3RoaXMuc3RhdGUudmlld1R5cGUgPT09ICdjYXJkcycgPyAnYWN0aXZlJyA6ICcnfWBcbiAgICB9KTtcbiAgICBjYXJkTGlzdEJ0bi5pbm5lckhUTUwgPSAnXHVEODNDXHVEQ0NGIDxzcGFuPkNhcmQgTGlzdDwvc3Bhbj4nO1xuICAgIGNhcmRMaXN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMuc3RhdGUuc2V0Vmlld1R5cGUoJ2NhcmRzJykpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmlsZUxpc3QoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHRoaXMudCgnZmlsZUxpc3QudGl0bGUnKSwgY2xzOiAncGFuZWwtdGl0bGUnIH0pO1xuXG4gICAgY29uc3QgZmlsZUxpc3RDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZmlsZS1saXN0JyB9KTtcbiAgICB0aGlzLnJlbmRlckZpbGVMaXN0Q29udGVudChmaWxlTGlzdENvbnRhaW5lcik7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZpbGVMaXN0Q29udGVudChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29udGFpbmVyLmVtcHR5KCk7XG4gICAgXG4gICAgbGV0IGdyb3VwZWQ6IEFycmF5PHsgZ3JvdXBLZXk6IHN0cmluZzsgY291bnQ6IG51bWJlciB9PjtcbiAgICBcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgY29uc3QgZmxhc2hjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICAgICAgXG4gICAgICAvLyBcdTJCNTAgXHU2MzA5XHU2Mjc5XHU2Q0U4XHU1MjA2XHU3RUM0XHU2NUY2XHU3Njg0XHU3Mjc5XHU2QjhBXHU1OTA0XHU3NDA2XG4gICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdhbm5vdGF0aW9uJykge1xuICAgICAgICBjb25zdCBhbm5vdGF0ZWRDYXJkczogRmxhc2hjYXJkW10gPSBbXTtcbiAgICAgICAgY29uc3QgdW5hbm5vdGF0ZWRDYXJkczogRmxhc2hjYXJkW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NTIwNlx1N0M3Qlx1OTVFQVx1NTM2MVx1RkYxQVx1NjcwOVx1NjI3OVx1NkNFOCB2cyBcdTY1RTBcdTYyNzlcdTZDRThcbiAgICAgICAgZmxhc2hjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgICAgIGNvbnN0IHVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChjYXJkLnNvdXJjZUNvbnRlbnRJZCk7XG4gICAgICAgICAgaWYgKHVuaXQgJiYgdW5pdC5hbm5vdGF0aW9uSWQpIHtcbiAgICAgICAgICAgIGFubm90YXRlZENhcmRzLnB1c2goY2FyZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuYW5ub3RhdGVkQ2FyZHMucHVzaChjYXJkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2MzA5XHU2NTg3XHU0RUY2XHU1MjA2XHU3RUM0XHU2NzA5XHU2Mjc5XHU2Q0U4XHU3Njg0XHU5NUVBXHU1MzYxXG4gICAgICAgIGNvbnN0IGZpbGVHcm91cHMgPSBuZXcgTWFwPHN0cmluZywgRmxhc2hjYXJkW10+KCk7XG4gICAgICAgIGFubm90YXRlZENhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBjYXJkLnNvdXJjZUZpbGU7XG4gICAgICAgICAgaWYgKCFmaWxlR3JvdXBzLmhhcyhmaWxlTmFtZSkpIHtcbiAgICAgICAgICAgIGZpbGVHcm91cHMuc2V0KGZpbGVOYW1lLCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbGVHcm91cHMuZ2V0KGZpbGVOYW1lKSEucHVzaChjYXJkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTY3ODRcdTVFRkFcdTUyMDZcdTdFQzRcdTUyMTdcdTg4NjhcbiAgICAgICAgZ3JvdXBlZCA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2REZCXHU1MkEwXHU1NDA0XHU0RTJBXHU2NTg3XHU0RUY2XHU3Njg0XHU2NzA5XHU2Mjc5XHU2Q0U4XHU5NUVBXHU1MzYxXG4gICAgICAgIGZpbGVHcm91cHMuZm9yRWFjaCgoY2FyZHMsIGZpbGVOYW1lKSA9PiB7XG4gICAgICAgICAgZ3JvdXBlZC5wdXNoKHtcbiAgICAgICAgICAgIGdyb3VwS2V5OiBmaWxlTmFtZSxcbiAgICAgICAgICAgIGNvdW50OiBjYXJkcy5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTZERkJcdTUyQTBcIlx1NjVFMFx1NjI3OVx1NkNFOFwiXHU1MjA2XHU3RUM0XHVGRjA4XHU1OTgyXHU2NzlDXHU2NzA5XHU2NUUwXHU2Mjc5XHU2Q0U4XHU3Njg0XHU5NUVBXHU1MzYxXHVGRjA5XG4gICAgICAgIGlmICh1bmFubm90YXRlZENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBncm91cGVkLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBLZXk6ICdmaWx0ZXIudW5hbm5vdGF0ZWQnLFxuICAgICAgICAgICAgY291bnQ6IHVuYW5ub3RhdGVkQ2FyZHMubGVuZ3RoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTE3Nlx1NEVENlx1NTIwNlx1N0VDNFx1NkEyMVx1NUYwRlxuICAgICAgICBjb25zdCBjYXJkR3JvdXBzID0gdGhpcy5jb250ZW50TGlzdC5ncm91cEZsYXNoY2FyZHMoXG4gICAgICAgICAgZmxhc2hjYXJkcyxcbiAgICAgICAgICAoaWQpID0+IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGlkKVxuICAgICAgICApO1xuICAgICAgICBncm91cGVkID0gY2FyZEdyb3Vwcy5tYXAoZyA9PiAoeyBcbiAgICAgICAgICBncm91cEtleTogZy5ncm91cEtleSwgXG4gICAgICAgICAgY291bnQ6IGcuY2FyZHMubGVuZ3RoIFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vdGVzIFx1ODlDNlx1NTZGRVxuICAgICAgY29uc3QgdW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTtcbiAgICAgIFxuICAgICAgLy8gXHUyQjUwIFx1NjMwOVx1NjI3OVx1NkNFOFx1NTIwNlx1N0VDNFx1NjVGNlx1NzY4NFx1NzI3OVx1NkI4QVx1NTkwNFx1NzQwNlxuICAgICAgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnYW5ub3RhdGlvbicpIHtcbiAgICAgICAgY29uc3QgYW5ub3RhdGVkVW5pdHMgPSB1bml0cy5maWx0ZXIodSA9PiB1LmFubm90YXRpb25JZCk7XG4gICAgICAgIGNvbnN0IHVuYW5ub3RhdGVkVW5pdHMgPSB1bml0cy5maWx0ZXIodSA9PiAhdS5hbm5vdGF0aW9uSWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2MzA5XHU2NTg3XHU0RUY2XHU1MjA2XHU3RUM0XHU2NzA5XHU2Mjc5XHU2Q0U4XHU3Njg0XHU3QjE0XHU4QkIwXG4gICAgICAgIGNvbnN0IGZpbGVHcm91cHMgPSBuZXcgTWFwPHN0cmluZywgQ29udGVudFVuaXRbXT4oKTtcbiAgICAgICAgYW5ub3RhdGVkVW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHVuaXQuc291cmNlLmZpbGU7XG4gICAgICAgICAgaWYgKCFmaWxlR3JvdXBzLmhhcyhmaWxlTmFtZSkpIHtcbiAgICAgICAgICAgIGZpbGVHcm91cHMuc2V0KGZpbGVOYW1lLCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbGVHcm91cHMuZ2V0KGZpbGVOYW1lKSEucHVzaCh1bml0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTY3ODRcdTVFRkFcdTUyMDZcdTdFQzRcdTUyMTdcdTg4NjhcbiAgICAgICAgZ3JvdXBlZCA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU2REZCXHU1MkEwXHU1NDA0XHU0RTJBXHU2NTg3XHU0RUY2XHU3Njg0XHU2NzA5XHU2Mjc5XHU2Q0U4XHU3QjE0XHU4QkIwXG4gICAgICAgIGZpbGVHcm91cHMuZm9yRWFjaCgodW5pdHMsIGZpbGVOYW1lKSA9PiB7XG4gICAgICAgICAgZ3JvdXBlZC5wdXNoKHtcbiAgICAgICAgICAgIGdyb3VwS2V5OiBmaWxlTmFtZSxcbiAgICAgICAgICAgIGNvdW50OiB1bml0cy5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTZERkJcdTUyQTBcIlx1NjVFMFx1NjI3OVx1NkNFOFwiXHU1MjA2XHU3RUM0XHVGRjA4XHU1OTgyXHU2NzlDXHU2NzA5XHU2NUUwXHU2Mjc5XHU2Q0U4XHU3Njg0XHU3QjE0XHU4QkIwXHVGRjA5XG4gICAgICAgIGlmICh1bmFubm90YXRlZFVuaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBncm91cGVkLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBLZXk6ICdmaWx0ZXIudW5hbm5vdGF0ZWQnLFxuICAgICAgICAgICAgY291bnQ6IHVuYW5ub3RhdGVkVW5pdHMubGVuZ3RoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NTE3Nlx1NEVENlx1NTIwNlx1N0VDNFx1NkEyMVx1NUYwRlxuICAgICAgICBjb25zdCB1bml0R3JvdXBzID0gdGhpcy5jb250ZW50TGlzdC5ncm91cFVuaXRzKHVuaXRzKTtcbiAgICAgICAgZ3JvdXBlZCA9IHVuaXRHcm91cHMubWFwKGcgPT4gKHsgXG4gICAgICAgICAgZ3JvdXBLZXk6IGcuZ3JvdXBLZXksIFxuICAgICAgICAgIGNvdW50OiBnLnVuaXRzLmxlbmd0aCBcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoZ3JvdXBlZC5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnRhaW5lci5jcmVhdGVEaXYoeyB0ZXh0OiB0aGlzLnQoJ2VtcHR5Lm5vRG9jdW1lbnRzJyksIGNsczogJ2VtcHR5LWhpbnQnIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlICYmIGdyb3VwZWQubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPSBncm91cGVkWzBdLmdyb3VwS2V5O1xuICAgIH1cbiAgICBcbiAgICBncm91cGVkLmZvckVhY2goKHsgZ3JvdXBLZXksIGNvdW50IH0pID0+IHtcbiAgICAgIGNvbnN0IGZpbGVJdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdih7XG4gICAgICAgIGNsczogYGZpbGUtaXRlbSAke3RoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID09PSBncm91cEtleSA/ICdzZWxlY3RlZCcgOiAnJ31gXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gXHUyQjUwIFx1NzI3OVx1NkI4QVx1NjYzRVx1NzkzQVwiXHU2NUUwXHU2Mjc5XHU2Q0U4XCJcdTUyMDZcdTdFQzRcbiAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZ3JvdXBLZXkgPT09ICdmaWx0ZXIudW5hbm5vdGF0ZWQnIFxuICAgICAgICA/IHRoaXMudCgnZmlsdGVyLnVuYW5ub3RhdGVkJylcbiAgICAgICAgOiBncm91cEtleTtcbiAgICAgIFxuICAgICAgZmlsZUl0ZW0uaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3BhbiBjbGFzcz1cImZpbGUtaWNvblwiPiR7dGhpcy5nZXRHcm91cEljb24oKX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1uYW1lXCI+JHtkaXNwbGF5TmFtZX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1jb3VudFwiPiR7Y291bnR9PC9zcGFuPlxuICAgICAgYDtcbiAgICAgIFxuICAgICAgZmlsZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgIT09IGdyb3VwS2V5KSB7XG4gICAgICAgICAgdGhpcy5hbm5vdGF0aW9uRWRpdG9yLmNsb3NlQWxsKCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUgPSBncm91cEtleTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBhbGxJdGVtcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZS1pdGVtJyk7XG4gICAgICAgICAgYWxsSXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJykpO1xuICAgICAgICAgIGZpbGVJdGVtLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMucmVmcmVzaFJpZ2h0UGFuZWwoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIHByaXZhdGUgcmVuZGVyRW1wdHlSaWdodFBhbmVsKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBlbXB0eSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdlbXB0eS1yaWdodC1wYW5lbCcgfSk7XG4gICAgZW1wdHkuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LWljb25cIj5cdUQ4M0RcdURDRUQ8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS10ZXh0XCI+JHt0aGlzLnQoJ2VtcHR5Lm5vQ29udGVudCcpfTwvZGl2PlxuICAgIGA7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxucHJpdmF0ZSBoYW5kbGVTZWFyY2hDaGFuZ2UocXVlcnk6IHN0cmluZyk6IHZvaWQge1xuICB0aGlzLnN0YXRlLnNldFNlYXJjaFF1ZXJ5KHF1ZXJ5KTtcbiAgXG4gIGlmICh0aGlzLnN0YXRlLnNlYXJjaERlYm91bmNlVGltZXIgIT09IG51bGwpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lcik7XG4gIH1cbiAgXG4gIHRoaXMuc3RhdGUuc2VhcmNoRGVib3VuY2VUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zdCBoYXNBY3RpdmVFZGl0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpICE9PSBudWxsO1xuICAgIGlmIChoYXNBY3RpdmVFZGl0b3JzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB0aGlzLnJlZnJlc2hDb250ZW50T25seSgpOyAgLy8gXHUyQjUwIFx1NTNFQVx1NTIzN1x1NjVCMFx1NTE4NVx1NUJCOVx1NTMzQVx1NTdERlxuICB9LCAzMDApO1xufVxuXG4vLyBcdTZERkJcdTUyQTBcdTY1QjBcdTY1QjlcdTZDRDU6XHU1M0VBXHU1MjM3XHU2NUIwXHU1MTg1XHU1QkI5XHU1MjE3XHU4ODY4XG5wcml2YXRlIHJlZnJlc2hDb250ZW50T25seSgpOiB2b2lkIHtcbiAgLy8gXHUyQjUwIFx1NTk4Mlx1Njc5Q1x1NkI2M1x1NTcyOFx1NjI1M1x1NUYwMFx1N0YxNlx1OEY5MVx1NTY2OFx1RkYwQ1x1OERGM1x1OEZDN1x1NTIzN1x1NjVCMFxuICBpZiAodGhpcy5pc09wZW5pbmdFZGl0b3IpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIGNvbnN0IGhhc0FjdGl2ZUVkaXRvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgIT09IG51bGw7XG4gIGlmIChoYXNBY3RpdmVFZGl0b3JzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQ7XG4gIFxuICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ3NpZGViYXInKSB7XG4gICAgY29uc3QgY29udGVudExpc3QgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnNpZGViYXItY29udGVudC1saXN0JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKGNvbnRlbnRMaXN0KSB7XG4gICAgICBjb25zdCBzY3JvbGxQb3MgPSBjb250ZW50TGlzdC5zY3JvbGxUb3A7XG5cbiAgICAgIGNvbnN0IGVkaXRpbmdDYXJkcyA9IG5ldyBNYXA8c3RyaW5nLCBIVE1MRWxlbWVudD4oKTtcbiAgICAgIGNvbnRlbnRMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKS5mb3JFYWNoKChlZGl0b3I6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBlZGl0b3IuY2xvc2VzdCgnW2RhdGEtdW5pdC1pZF0nKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgICBjb25zdCB1bml0SWQgPSBjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS11bml0LWlkJyk7XG4gICAgICAgICAgaWYgKHVuaXRJZCkge1xuICAgICAgICAgICAgZWRpdGluZ0NhcmRzLnNldCh1bml0SWQsIGVkaXRvci5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnRlbnRMaXN0LmVtcHR5KCk7XG4gICAgICBjb25zdCBjdXJyZW50RmlsZVVuaXRzID0gdGhpcy5nZXRGaWx0ZXJlZFVuaXRzKCk7XG4gICAgICB0aGlzLmNvbnRlbnRMaXN0LnJlbmRlckNvbXBhY3RMaXN0KGNvbnRlbnRMaXN0LCBjdXJyZW50RmlsZVVuaXRzKTtcbiAgICAgIHRoaXMuaW5zZXJ0UmV2aWV3UmVtaW5kZXJBdFRvcChjb250ZW50TGlzdCk7XG4gICAgICBcbiAgICAgIGlmIChlZGl0aW5nQ2FyZHMuc2l6ZSA+IDApIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBlZGl0aW5nQ2FyZHMuZm9yRWFjaCgoZWRpdG9yLCB1bml0SWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBjb250ZW50TGlzdC5xdWVyeVNlbGVjdG9yKGBbZGF0YS11bml0LWlkPVwiJHt1bml0SWR9XCJdYCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoY2FyZCkge1xuICAgICAgICAgICAgICBjYXJkLnNldEF0dHJpYnV0ZSgnZGF0YS1lZGl0aW5nJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IHByZXZpZXcgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5hbm5vdGF0aW9uLXByZXZpZXcnKTtcbiAgICAgICAgICAgICAgaWYgKHByZXZpZXcpIHtcbiAgICAgICAgICAgICAgICBwcmV2aWV3LnJlcGxhY2VXaXRoKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dGFyZWEgPSBlZGl0b3IucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0YXJlYSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9uRWRpdG9yWydiaW5kRWRpdG9yRXZlbnRzJ10odGV4dGFyZWEsIHVuaXRJZCk7XG4gICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICBjb250ZW50TGlzdC5zY3JvbGxUb3AgPSBzY3JvbGxQb3M7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMucmVmcmVzaFJpZ2h0UGFuZWwoKTtcbiAgICBcbiAgICBjb25zdCBmaWxlTGlzdENvbnRhaW5lciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZmlsZS1saXN0JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKGZpbGVMaXN0Q29udGFpbmVyKSB7XG4gICAgICB0aGlzLnJlbmRlckZpbGVMaXN0Q29udGVudChmaWxlTGlzdENvbnRhaW5lcik7XG4gICAgfVxuICB9XG59XG5cbiAgcHJpdmF0ZSBoYW5kbGVGaWx0ZXJDaGFuZ2UobW9kZTogdHlwZW9mIHRoaXMuc3RhdGUuZmlsdGVyTW9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLnNldEZpbHRlck1vZGUobW9kZSkpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2hvdWxkUmVzdG9yZVNjcm9sbCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUdyb3VwQ2hhbmdlKG1vZGU6IHR5cGVvZiB0aGlzLnN0YXRlLmdyb3VwTW9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlLnNldEdyb3VwTW9kZShtb2RlKSkge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVNlbGVjdEFsbCgpOiB2b2lkIHtcbiAgICBjb25zdCB2aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlSXRlbXMoKTtcbiAgICBcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgY29uc3QgY2FyZHMgPSB2aXNpYmxlLmNhcmRzIHx8IFtdO1xuICAgICAgaWYgKGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLm5vU2VsZWN0aW9uJykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdEFsbENhcmRzKGNhcmRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdW5pdHMgPSB2aXNpYmxlLnVuaXRzIHx8IFtdO1xuICAgICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLm5vU2VsZWN0aW9uJykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdEFsbFVuaXRzKHVuaXRzKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRGVzZWxlY3RBbGwoKTogdm9pZCB7XG4gICAgY29uc3QgdmlzaWJsZSA9IHRoaXMuZ2V0VmlzaWJsZUl0ZW1zKCk7XG4gICAgXG4gICAgaWYgKHRoaXMuc3RhdGUudmlld1R5cGUgPT09ICdjYXJkcycpIHtcbiAgICAgIHRoaXMuc3RhdGUuZGVzZWxlY3RBbGxDYXJkcyh2aXNpYmxlLmNhcmRzIHx8IFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5kZXNlbGVjdEFsbFVuaXRzKHZpc2libGUudW5pdHMgfHwgW10pO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVCYXRjaENyZWF0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMuc2l6ZSA9PT0gMCkge1xuICAgICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5ub1NlbGVjdGlvbicpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU4QzAzXHU3NTI4XHU2Mjc5XHU5MUNGXHU1MjFCXHU1RUZBXHU5MDNCXHU4RjkxXG4gICAgdGhpcy5iYXRjaENyZWF0ZUZsYXNoY2FyZHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQmF0Y2hEZWxldGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZ2V0U2VsZWN0ZWRDb3VudCgpID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLm5vU2VsZWN0aW9uJykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgdGhpcy5iYXRjaERlbGV0ZUZsYXNoY2FyZHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5iYXRjaERlbGV0ZU5vdGVzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVCYXRjaENhbmNlbCgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLmNsZWFyU2VsZWN0aW9uKCk7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2NTcwXHU2MzZFXHU4M0I3XHU1M0Q2XHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBnZXRGaWx0ZXJlZFVuaXRzKCk6IENvbnRlbnRVbml0W10ge1xuICAgIGxldCB1bml0cyA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpO1xuICAgIC8vIFx1NEZBN1x1OEZCOVx1NjgwRlx1NkEyMVx1NUYwRlx1RkYxQVx1NTNFQVx1NjYzRVx1NzkzQVx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNlx1NzY4NFx1N0IxNFx1OEJCMFxuICAgIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicgJiYgdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICAgIHVuaXRzID0gdW5pdHMuZmlsdGVyKHVuaXQgPT4gdW5pdC5zb3VyY2UuZmlsZSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpO1xuICAgIH1cblxuICAgIC8vIFx1NjQxQ1x1N0QyMlx1OEZDN1x1NkVFNFxuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaFF1ZXJ5KSB7XG4gICAgICBjb25zdCBxdWVyeSA9IHRoaXMuc3RhdGUuc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgIHVuaXRzID0gdW5pdHMuZmlsdGVyKHVuaXQgPT5cbiAgICAgICAgdW5pdC5jb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpIHx8XG4gICAgICAgIHVuaXQuc291cmNlLmZpbGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkgfHxcbiAgICAgICAgdW5pdC5tZXRhZGF0YS50YWdzLnNvbWUodGFnID0+IHRhZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSlcbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1N0M3Qlx1NTc4Qlx1OEZDN1x1NkVFNFxuICAgIGlmICh0aGlzLnN0YXRlLmZpbHRlck1vZGUgPT09ICdhbm5vdGF0ZWQnKSB7XG4gICAgICB1bml0cyA9IHVuaXRzLmZpbHRlcih1ID0+IHUuYW5ub3RhdGlvbklkKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZmlsdGVyTW9kZSA9PT0gJ2ZsYXNoY2FyZHMnKSB7XG4gICAgICB1bml0cyA9IHVuaXRzLmZpbHRlcih1ID0+IHUuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApO1xuICAgIH1cbiAgICBcblxuICAgIFxuICAgIHJldHVybiB1bml0cztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RmlsdGVyZWRVbml0c0ZvclNlbGVjdGVkR3JvdXAoKTogQ29udGVudFVuaXRbXSB7XG4gICAgY29uc3QgdW5pdHMgPSB0aGlzLmdldEZpbHRlcmVkVW5pdHMoKTtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlO1xuICBcbiAgICBpZiAoIXNlbGVjdGVkKSByZXR1cm4gW107XG4gIFxuICAgIHJldHVybiB1bml0cy5maWx0ZXIodW5pdCA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdmaWxlJykge1xuICAgICAgICByZXR1cm4gdW5pdC5zb3VyY2UuZmlsZSA9PT0gc2VsZWN0ZWQ7XG4gIFxuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmdyb3VwTW9kZSA9PT0gJ2Fubm90YXRpb24nKSB7XG4gICAgICAgIC8vIFx1MkI1MCBcdTRGRUVcdTY1MzlcdUZGMUFcdTYzMDlcdTYyNzlcdTZDRThcdTUyMDZcdTdFQzRcdTY1RjZcdTc2ODRcdThGQzdcdTZFRTRcdTkwM0JcdThGOTFcbiAgICAgICAgaWYgKHNlbGVjdGVkID09PSAnZmlsdGVyLnVuYW5ub3RhdGVkJykge1xuICAgICAgICAgIC8vIFx1NjYzRVx1NzkzQVx1NjI0MFx1NjcwOVx1NjVFMFx1NjI3OVx1NkNFOFx1NzY4NFx1N0IxNFx1OEJCMFxuICAgICAgICAgIHJldHVybiAhdW5pdC5hbm5vdGF0aW9uSWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gXHU2NjNFXHU3OTNBXHU3Mjc5XHU1QjlBXHU2NTg3XHU0RUY2XHU3Njg0XHU2NzA5XHU2Mjc5XHU2Q0U4XHU3QjE0XHU4QkIwXG4gICAgICAgICAgcmV0dXJuIHVuaXQuc291cmNlLmZpbGUgPT09IHNlbGVjdGVkICYmICEhdW5pdC5hbm5vdGF0aW9uSWQ7XG4gICAgICAgIH1cbiAgXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAndGFnJykge1xuICAgICAgICByZXR1cm4gdW5pdC5tZXRhZGF0YS50YWdzLmluY2x1ZGVzKHNlbGVjdGVkKTtcbiAgXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnZGF0ZScpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICB0aGlzLmZvcm1hdERhdGUobmV3IERhdGUodW5pdC5tZXRhZGF0YS5jcmVhdGVkQXQpKSA9PT0gc2VsZWN0ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBcblxuICBwcml2YXRlIGdldEZpbHRlcmVkQ2FyZHNGb3JTZWxlY3RlZEdyb3VwKCk6IEZsYXNoY2FyZFtdIHtcbiAgICBjb25zdCBmbGFzaGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZTtcbiAgICBpZiAoIXNlbGVjdGVkKSByZXR1cm4gW107XG4gICAgXG4gICAgcmV0dXJuIGZsYXNoY2FyZHMuZmlsdGVyKGNhcmQgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnZmlsZScpIHtcbiAgICAgICAgcmV0dXJuIGNhcmQuc291cmNlRmlsZSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnYW5ub3RhdGlvbicpIHtcbiAgLy8gXHUyQjUwIFx1NEZFRVx1NjUzOVx1RkYxQVx1NjMwOVx1NjI3OVx1NkNFOFx1NTIwNlx1N0VDNFx1NjVGNlx1NzY4NFx1OEZDN1x1NkVFNFx1OTAzQlx1OEY5MVxuICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICBcbiAgaWYgKHNlbGVjdGVkID09PSAnZmlsdGVyLnVuYW5ub3RhdGVkJykge1xuICAgIC8vIFx1NjYzRVx1NzkzQVx1NjI0MFx1NjcwOVx1NjVFMFx1NjI3OVx1NkNFOFx1NzY4NFx1OTVFQVx1NTM2MVxuICAgIHJldHVybiAhdW5pdCB8fCAhdW5pdC5hbm5vdGF0aW9uSWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gXHU2NjNFXHU3OTNBXHU3Mjc5XHU1QjlBXHU2NTg3XHU0RUY2XHU3Njg0XHU2NzA5XHU2Mjc5XHU2Q0U4XHU5NUVBXHU1MzYxXG4gICAgcmV0dXJuIGNhcmQuc291cmNlRmlsZSA9PT0gc2VsZWN0ZWQgJiYgdW5pdCAmJiAhIXVuaXQuYW5ub3RhdGlvbklkO1xuICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAndGFnJykge1xuICAgICAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgICAgICByZXR1cm4gKHVuaXQgJiYgdW5pdC5tZXRhZGF0YS50YWdzLmluY2x1ZGVzKHNlbGVjdGVkKSkgfHxcbiAgICAgICAgICAgICAgIChjYXJkLnRhZ3MgJiYgY2FyZC50YWdzLmluY2x1ZGVzKHNlbGVjdGVkKSkgfHxcbiAgICAgICAgICAgICAgIChjYXJkLmRlY2sgPT09IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKSB8fFxuICAgICAgICAgICAgICAgKHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlID09PSAnZ3JvdXAudW5jYXRlZ29yaXplZCcgJiYgXG4gICAgICAgICAgICAgICAgKCFjYXJkLnRhZ3MgfHwgY2FyZC50YWdzLmxlbmd0aCA9PT0gMCkgJiYgXG4gICAgICAgICAgICAgICAgIWNhcmQuZGVjayAmJlxuICAgICAgICAgICAgICAgICghdW5pdCB8fCAhdW5pdC5tZXRhZGF0YS50YWdzIHx8IHVuaXQubWV0YWRhdGEudGFncy5sZW5ndGggPT09IDApKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdkYXRlJykge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKGNhcmQubWV0YWRhdGEuY3JlYXRlZEF0KSkgPT09IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRWaXNpYmxlSXRlbXMoKTogeyB1bml0cz86IENvbnRlbnRVbml0W107IGNhcmRzPzogRmxhc2hjYXJkW10gfSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudmlld1R5cGUgPT09ICdjYXJkcycpIHtcbiAgICAgIGNvbnN0IGNhcmRzID0gdGhpcy5nZXRGaWx0ZXJlZENhcmRzRm9yU2VsZWN0ZWRHcm91cCgpO1xuICAgICAgcmV0dXJuIHsgY2FyZHMgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdW5pdHMgPSB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicgXG4gICAgICAgID8gdGhpcy5nZXRGaWx0ZXJlZFVuaXRzKCkgXG4gICAgICAgIDogdGhpcy5nZXRGaWx0ZXJlZFVuaXRzRm9yU2VsZWN0ZWRHcm91cCgpO1xuICAgICAgcmV0dXJuIHsgdW5pdHMgfTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTRFMUFcdTUyQTFcdTkwM0JcdThGOTFcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuIFxuXG5wcml2YXRlIGFzeW5jIGp1bXBUb1NvdXJjZSh1bml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCB0aGlzLm92ZXJ2aWV3U2VydmljZS5qdW1wVG9Tb3VyY2UodW5pdCwgdGhpcy5hcHApO1xufVxuXG5wcml2YXRlIGFzeW5jIGp1bXBUb0ZsYXNoY2FyZFNvdXJjZShjYXJkOiBGbGFzaGNhcmQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICAvLyBcdTk5OTZcdTUxNDhcdTVDMURcdThCRDVcdTkwMUFcdThGQzcgQ29udGVudFVuaXQgXHU4REYzXHU4RjZDXG4gICAgY29uc3QgdW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNhcmQuc291cmNlQ29udGVudElkKTtcbiAgICBcbiAgICBpZiAodW5pdCkge1xuICAgICAgYXdhaXQgdGhpcy5qdW1wVG9Tb3VyY2UodW5pdCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoY2FyZC5zb3VyY2VGaWxlKTtcbiAgICBpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICBuZXcgTm90aWNlKHRoaXMudCgnbm90aWNlLmZpbGVOb3RGb3VuZCcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2XG4gICAgY29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKGZhbHNlKTtcbiAgICBhd2FpdCBsZWFmLm9wZW5GaWxlKGZpbGUpO1xuICAgIFxuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjcwOSBhbmNob3JMaW5rXHVGRjBDXHU1QzFEXHU4QkQ1XHU4REYzXHU4RjZDXHU1MjMwXHU1MTc3XHU0RjUzXHU0RjREXHU3RjZFXG4gICAgaWYgKGNhcmQuYW5jaG9yTGluaykge1xuICAgICAgLy8gXHU0RUNFIGFuY2hvckxpbmsgXHU2M0QwXHU1M0Q2IGJsb2NrSWRcbiAgICAgIC8vIFx1NjgzQ1x1NUYwRjogW1tmaWxlbmFtZSNeYmxvY2staWRdXVxuICAgICAgY29uc3QgYmxvY2tJZE1hdGNoID0gY2FyZC5hbmNob3JMaW5rLm1hdGNoKC9cXF5cXFMrLyk7XG4gICAgICBpZiAoYmxvY2tJZE1hdGNoKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrSWQgPSBibG9ja0lkTWF0Y2hbMF0uc3Vic3RyaW5nKDEpOyAvLyBcdTc5RkJcdTk2NjQgXlxuICAgICAgICBcbiAgICAgICAgLy8gXHU3QjQ5XHU1Rjg1XHU3RjE2XHU4RjkxXHU1NjY4XHU1MkEwXHU4RjdEXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NkI2M1x1Nzg2RVx1ODNCN1x1NTNENiBNYXJrZG93blZpZXdcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG4gICAgICAgIGlmICh2aWV3ICYmIHZpZXcuZWRpdG9yKSB7XG4gICAgICAgICAgY29uc3QgZWRpdG9yID0gdmlldy5lZGl0b3I7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xuICAgICAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gXHU2N0U1XHU2MjdFIGJsb2NrIElEXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGxpbmVzW2ldLmluY2x1ZGVzKGBeJHtibG9ja0lkfWApKSB7XG4gICAgICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiBpLCBjaDogMCB9KTtcbiAgICAgICAgICAgICAgZWRpdG9yLnNjcm9sbEludG9WaWV3KHsgZnJvbTogeyBsaW5lOiBpLCBjaDogMCB9LCB0bzogeyBsaW5lOiBpLCBjaDogMCB9IH0sIHRydWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5qdW1wZWRUb1NvdXJjZScpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBqdW1waW5nIHRvIGZsYXNoY2FyZCBzb3VyY2U6JywgZXJyb3IpO1xuICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuanVtcEZhaWxlZCcpKTtcbiAgfVxufVxuXG5wcml2YXRlIGFzeW5jIHNhdmVBbm5vdGF0aW9uKHVuaXRJZDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgdGhpcy5vdmVydmlld1NlcnZpY2Uuc2F2ZUFubm90YXRpb24odW5pdElkLCBjb250ZW50KTtcbn1cblxucHJpdmF0ZSBhc3luYyBxdWlja0dlbmVyYXRlRmxhc2hjYXJkKHVuaXQ6IENvbnRlbnRVbml0KTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IHRoaXMub3ZlcnZpZXdTZXJ2aWNlLnF1aWNrR2VuZXJhdGVGbGFzaGNhcmQodW5pdCk7XG4gIFxuICAvLyBcdTUyMzdcdTY1QjAgVUlcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgfSk7XG59XG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NSA9PT09PT09PT09PT09PT09PT09PVxucHJpdmF0ZSBzaG93Q29udGV4dE1lbnUoZXZlbnQ6IE1vdXNlRXZlbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gIGNvbnN0IGNhbGxiYWNrczogQ29udGVudFVuaXRNZW51Q2FsbGJhY2tzID0ge1xuICAgIG9uSnVtcFRvU291cmNlOiAodW5pdCkgPT4gdGhpcy5qdW1wVG9Tb3VyY2UodW5pdCksXG4gICAgXG4gICAgb25Ub2dnbGVBbm5vdGF0aW9uOiAodW5pdCkgPT4ge1xuICAgICAgICAvLyBcdUQ4M0NcdURGQUYgTHYyIFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNVxuICBpZiAoIXRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS50cnlVc2VGZWF0dXJlKCdhbm5vdGF0aW9uJywgJ0Fubm90YXRpb24nKSkge1xuICAgIHJldHVybjtcbiAgfVxuICAgICAgY29uc3QgY2FyZCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IGNhcmRFbCA9IGNhcmQuY2xvc2VzdCgnLmNvbXBhY3QtY2FyZCwgLmdyaWQtY2FyZCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKGNhcmRFbCkge1xuICAgICAgICB0aGlzLmFubm90YXRpb25FZGl0b3IudG9nZ2xlKGNhcmRFbCwgdW5pdCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBvbkVkaXRGbGFzaGNhcmQ6ICh1bml0KSA9PiB7XG4gICAgICBjb25zdCBjYXJkSWQgPSB1bml0LmZsYXNoY2FyZElkc1swXTtcbiAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEZsYXNoY2FyZChjYXJkSWQpO1xuICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgbmV3IEVkaXRGbGFzaGNhcmRNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIGNhcmQpLm9wZW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuZmxhc2hjYXJkTm90Rm91bmQnKSk7XG5cbiAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIG9uUXVpY2tHZW5lcmF0ZTogKHVuaXQpID0+IHRoaXMucXVpY2tHZW5lcmF0ZUZsYXNoY2FyZCh1bml0KSxcbiAgICBcbiAgICBvbkNyZWF0ZVFBOiAodW5pdCkgPT4ge1xuICAgICAgbmV3IE1hbnVhbEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgdW5pdCwgJ3FhJykub3BlbigpO1xuICAgIH0sXG4gICAgXG4gICAgb25DcmVhdGVDbG96ZTogKHVuaXQpID0+IHtcbiAgICAgIG5ldyBNYW51YWxGbGFzaGNhcmRNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIHVuaXQsICdjbG96ZScpLm9wZW4oKTtcbiAgICB9LFxuICAgIFxuICAgIG9uVmlld1N0YXRzOiAoKSA9PiB7XG4gICAgICB0aGlzLnBsdWdpbi5hY3RpdmF0ZVN0YXRzKCk7XG4gICAgfSxcbiAgICBcbm9uRGVsZXRlOiBhc3luYyAodW5pdCkgPT4ge1xuICBcbiAgYXdhaXQgdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZGVsZXRlQ29udGVudFVuaXQodW5pdC5pZCwgJ3VzZXItZGVsZXRlZCcpO1xuICBcbiAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5tb3ZlZFRvVHJhc2gnKSk7XG4gIHRoaXMucmVmcmVzaCgpO1xuICBcbn1cbiAgfTtcbiAgXG4gIGNvbnN0IG1lbnUgPSBDb250ZXh0TWVudUJ1aWxkZXIuYnVpbGRDb250ZW50VW5pdE1lbnUodW5pdCwgY2FsbGJhY2tzKTtcbiAgbWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcbn1cbiAgXG4gIHByaXZhdGUgb3Blbk1hbnVhbEZsYXNoY2FyZE1vZGFsKHVuaXQ6IENvbnRlbnRVbml0LCB0eXBlOiAncWEnIHwgJ2Nsb3plJyk6IHZvaWQge1xuXG4gICAgXG4gICAgbmV3IE1hbnVhbEZsYXNoY2FyZE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgdW5pdCwgdHlwZSkub3BlbigpO1xuICB9XG5cblxuICBwcml2YXRlIHNob3dGbGFzaGNhcmRDb250ZXh0TWVudShldmVudDogTW91c2VFdmVudCwgY2FyZDogRmxhc2hjYXJkKTogdm9pZCB7XG4gICAgY29uc3QgY2FsbGJhY2tzOiBGbGFzaGNhcmRNZW51Q2FsbGJhY2tzID0ge1xuICAgICAgb25KdW1wVG9Tb3VyY2U6IGFzeW5jIChjYXJkKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMub3ZlcnZpZXdTZXJ2aWNlLmp1bXBUb0ZsYXNoY2FyZFNvdXJjZShjYXJkLmlkLCB0aGlzLmFwcCk7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBvbkVkaXQ6IChjYXJkKSA9PiB7XG4gICAgICAgIG5ldyBFZGl0Rmxhc2hjYXJkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBjYXJkKS5vcGVuKCk7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBvblZpZXdTdGF0czogKGNhcmQpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdHNUZXh0ID0gQ29udGV4dE1lbnVCdWlsZGVyLmZvcm1hdEZsYXNoY2FyZFN0YXRzKGNhcmQpO1xuICAgICAgICBuZXcgTm90aWNlKHN0YXRzVGV4dCwgMTAwMDApO1xuICAgICAgfSxcbiAgICAgIFxuICAgICAgb25EZWxldGU6IGFzeW5jIChjYXJkKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZGVsZXRlQ2FyZChjYXJkLmlkLCAndXNlci1kZWxldGVkJyk7XG4gICAgICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UubW92ZWRUb1RyYXNoJykpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IG1lbnUgPSBDb250ZXh0TWVudUJ1aWxkZXIuYnVpbGRGbGFzaGNhcmRNZW51KGNhcmQsIGNhbGxiYWNrcyk7XG4gICAgbWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcbiAgfVxuICBcblxuICBwcml2YXRlIG9wZW5FZGl0Rmxhc2hjYXJkTW9kYWwoY2FyZDogRmxhc2hjYXJkKTogdm9pZCB7XG4gICAgXG4gICAgbmV3IEVkaXRGbGFzaGNhcmRNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIGNhcmQpLm9wZW4oKTtcbiAgfVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IFx1NjI3OVx1OTFDRlx1NjRDRFx1NEY1QyA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgYXN5bmMgYmF0Y2hDcmVhdGVGbGFzaGNhcmRzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHVuaXRzID0gQXJyYXkuZnJvbSh0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcylcbiAgICAgIC5tYXAoaWQgPT4gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoaWQpKVxuICAgICAgLmZpbHRlcih1ID0+IHUgIT09IHVuZGVmaW5lZCAmJiB1LmZsYXNoY2FyZElkcy5sZW5ndGggPT09IDApIGFzIENvbnRlbnRVbml0W107XG4gICAgXG4gICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5hbHJlYWR5SGFzRmxhc2hjYXJkcycpKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTY2M0VcdTc5M0FcdTYyNzlcdTkxQ0ZcdTUyMUJcdTVFRkFcdTZBMjFcdTYwMDFcdTY4NDZcbiAgIGNvbnN0IHF1aWNrQ3JlYXRvciA9IG5ldyBRdWlja0ZsYXNoY2FyZENyZWF0b3IodGhpcy5wbHVnaW4pO1xuICAgIGNvbnN0IG1vZGFsID0gbmV3IEJhdGNoQ3JlYXRlTW9kYWwoXG4gICAgICB0aGlzLmFwcCxcbiAgICAgIHRoaXMucGx1Z2luLFxuICAgICAgcXVpY2tDcmVhdG9yLFxuICAgICAgdW5pdHMsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc3RhdGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB9XG4gICAgKTtcbiAgICBtb2RhbC5vcGVuKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGJhdGNoRGVsZXRlTm90ZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gXHU4M0I3XHU1M0Q2XHU1MjIwXHU5NjY0XHU3RURGXHU4QkExXG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLnN0YXRlLmdldERlbGV0ZVN0YXRzKHRoaXMucGx1Z2luKTtcbiAgICBcbiAgICAvLyBcdTY3ODRcdTVFRkFcdTc4NkVcdThCQTRcdTZEODhcdTYwNkZcbiAgICBsZXQgY29uZmlybU1zZyA9IHRoaXMudCgnY29uZmlybS5kZWxldGVJdGVtcycpO1xuICAgIGNvbnN0IGRldGFpbHM6IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgaWYgKHN0YXRzLm5vdGVzID4gMCkge1xuICAgICAgZGV0YWlscy5wdXNoKHRoaXMudCgnY29uZmlybS5ub3Rlc0NvdW50JywgeyBjb3VudDogc3RhdHMubm90ZXMgfSkpO1xuICAgIH1cbiAgICBpZiAoc3RhdHMuY2FyZHMgPiAwKSB7XG4gICAgICBkZXRhaWxzLnB1c2godGhpcy50KCdjb25maXJtLmNhcmRzQ291bnQnLCB7IGNvdW50OiBzdGF0cy5jYXJkcyB9KSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChkZXRhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbmZpcm1Nc2cgKz0gJ1xcblxcbicgKyBkZXRhaWxzLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWNvbmZpcm0oY29uZmlybU1zZykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBzdWNjZXNzLCBmYWlsZWQgfSA9IGF3YWl0IHRoaXMub3ZlcnZpZXdTZXJ2aWNlLmJhdGNoRGVsZXRlTm90ZXMoXG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkc1xuICAgICk7XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5jbGVhclNlbGVjdGlvbigpO1xuICAgIG5ldyBOb3RpY2UodGhpcy50KCdub3RpY2UuYmF0Y2hEZWxldGVkJywgeyBzdWNjZXNzLCBmYWlsZWQ6IGZhaWxlZCA+IDAgPyBmYWlsZWQgOiAwIH0pKTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYmF0Y2hEZWxldGVGbGFzaGNhcmRzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN0YXRzID0gdGhpcy5zdGF0ZS5nZXREZWxldGVTdGF0cyh0aGlzLnBsdWdpbik7XG4gICAgXG4gICAgY29uc3QgY29uZmlybU1zZyA9IHRoaXMudCgnY29uZmlybS5kZWxldGVGbGFzaGNhcmRzJywgeyBjb3VudDogc3RhdHMuY2FyZHMgfSk7XG4gICAgXG4gICAgaWYgKCFjb25maXJtKGNvbmZpcm1Nc2cpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGxldCBzdWNjZXNzID0gMDtcbiAgICBsZXQgZmFpbGVkID0gMDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiB0aGlzLnN0YXRlLnNlbGVjdGVkQ2FyZElkcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmRJZCk7XG4gICAgICAgIHN1Y2Nlc3MrKztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICAgIGZhaWxlZCsrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aGlzLnN0YXRlLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgbmV3IE5vdGljZSh0aGlzLnQoJ25vdGljZS5iYXRjaERlbGV0ZWQnLCB7IHN1Y2Nlc3MsIGZhaWxlZDogZmFpbGVkID4gMCA/IGZhaWxlZCA6IDAgfSkpO1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1REU1XHU1MTc3XHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSByZWZyZXNoUmlnaHRQYW5lbCgpOiB2b2lkIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IHJpZ2h0UGFuZWwgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnJpZ2h0LXBhbmVsJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHJpZ2h0UGFuZWwpIHtcbiAgICAgIHJpZ2h0UGFuZWwuZW1wdHkoKTtcbiAgICAgIHRoaXMucmVuZGVyUmlnaHRQYW5lbChyaWdodFBhbmVsKTtcbiAgICB9XG4gIH1cblxucHJpdmF0ZSBnZXRGaWx0ZXJlZENhcmRzRm9yQ3VycmVudEZpbGUoKTogRmxhc2hjYXJkW10ge1xuICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSAhPT0gJ3NpZGViYXInIHx8ICF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBcbiAgY29uc3QgZmxhc2hjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICByZXR1cm4gZmxhc2hjYXJkcy5maWx0ZXIoY2FyZCA9PiBjYXJkLnNvdXJjZUZpbGUgPT09IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKTtcbn1cbnByaXZhdGUgY2hlY2tGaWx0ZXJIYXNOb3Rlcyhtb2RlOiBGaWx0ZXJNb2RlKTogYm9vbGVhbiB7XG4gIC8vIFx1NTNFQVx1NTcyOFx1NEZBN1x1OEZCOVx1NjgwRlx1NkEyMVx1NUYwRlx1NEUwQlx1NjhDMFx1NjdFNVx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNlxuICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSAhPT0gJ3NpZGViYXInIHx8ICF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICBjb25zdCB1bml0cyA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpXG4gICAgLmZpbHRlcih1ID0+IHUuc291cmNlLmZpbGUgPT09IHRoaXMuc3RhdGUuc2VsZWN0ZWRGaWxlKTtcbiAgXG4gIGlmIChtb2RlID09PSAnYWxsJykge1xuICAgIHJldHVybiB1bml0cy5sZW5ndGggPiAwO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09ICdhbm5vdGF0ZWQnKSB7XG4gICAgcmV0dXJuIHVuaXRzLnNvbWUodSA9PiB1LmFubm90YXRpb25JZCk7XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2ZsYXNoY2FyZHMnKSB7XG4gICAgcmV0dXJuIHVuaXRzLnNvbWUodSA9PiB1LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKTtcbiAgfVxuICBcbiAgcmV0dXJuIHRydWU7XG59XG5cbnByaXZhdGUgY2hlY2tHcm91cEhhc05vdGVzKG1vZGU6IEdyb3VwTW9kZSk6IGJvb2xlYW4ge1xuICAvLyBcdTUzRUFcdTU3MjhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdTRFMEJcdTY4QzBcdTY3RTVcbiAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU1vZGUgIT09ICdzaWRlYmFyJyB8fCAhdGhpcy5zdGF0ZS5zZWxlY3RlZEZpbGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgY29uc3QgdW5pdHMgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKVxuICAgIC5maWx0ZXIodSA9PiB1LnNvdXJjZS5maWxlID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSk7XG4gIFxuICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gIFxuICBpZiAobW9kZSA9PT0gJ2ZpbGUnKSB7XG4gICAgcmV0dXJuIHRydWU7IC8vIFx1NjU4N1x1NEVGNlx1NTIwNlx1N0VDNFx1NTlDQlx1N0VDOFx1NTNFRlx1NzUyOFxuICB9IGVsc2UgaWYgKG1vZGUgPT09ICd0YWcnKSB7XG4gICAgcmV0dXJuIHVuaXRzLnNvbWUodSA9PiB1Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoID4gMCk7XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2RhdGUnKSB7XG4gICAgcmV0dXJuIHRydWU7IC8vIFx1NjVFNVx1NjcxRlx1NTIwNlx1N0VDNFx1NTlDQlx1N0VDOFx1NTNFRlx1NzUyOFxuICB9IGVsc2UgaWYgKG1vZGUgPT09ICdhbm5vdGF0aW9uJykge1xuICAgIHJldHVybiB1bml0cy5zb21lKHUgPT4gdS5hbm5vdGF0aW9uSWQpO1xuICB9XG4gIFxuICByZXR1cm4gdHJ1ZTtcbn1cbiAgcHJpdmF0ZSBnZXRHcm91cEljb24oKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUuZ3JvdXBNb2RlKSB7XG4gICAgICBjYXNlICdmaWxlJzogcmV0dXJuICdcdUQ4M0RcdURDQzQnO1xuICAgICAgY2FzZSAnYW5ub3RhdGlvbic6IHJldHVybiAnXHVEODNEXHVEQ0FDJztcbiAgICAgIGNhc2UgJ3RhZyc6IHJldHVybiAnXHVEODNDXHVERkY3XHVGRTBGJztcbiAgICAgIGNhc2UgJ2RhdGUnOiByZXR1cm4gJ1x1RDgzRFx1RENDNSc7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ1x1RDgzRFx1RENDMSc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXREYXRlKGRhdGU6IERhdGUgfCBudWxsKTogc3RyaW5nIHtcbiAgICBpZiAoIWRhdGUpIHJldHVybiAnJztcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICAgIGRheTogJzItZGlnaXQnXG4gICAgfSk7XG4gIFxuICB9XG5cbi8vID09PT09PT09PT09PT09PT09PT09IFx1N0I0OVx1N0VBN1x1NUZCRFx1N0FFMFx1NjYzRVx1NzkzQSA9PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NjYzRVx1NzkzQVx1NUI4Q1x1NjU3NFx1NzY4NFx1N0I0OVx1N0VBN1x1NUZCRFx1N0FFMFxuICogTHYxLTQ6IFx1NTlDQlx1N0VDOFx1NjYzRVx1NzkzQVxuICogTHY1OiBcdThGQkVcdTYyMTBcdTU0MEUzMFx1NTIwNlx1OTQ5Rlx1NTE4NVx1NjYzRVx1NzkzQVx1RkYwQ1x1NEU0Qlx1NTQwRVx1OTY5MFx1ODVDRlxuICovXG5wcml2YXRlIHNob3VsZFNob3dGdWxsTGV2ZWxCYWRnZShwcm9ncmVzczogVW5sb2NrUHJvZ3Jlc3MpOiBib29sZWFuIHtcbiAgaWYgKHByb2dyZXNzLmN1cnJlbnRMZXZlbCA8IDUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgLy8gTHY1OiBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTU3MjgzMFx1NTIwNlx1OTQ5Rlx1NTE4NVxuICBjb25zdCBsdjVVbmxvY2tlZFRpbWUgPSBwcm9ncmVzcy5sZXZlbFVubG9ja2VkQXRbNV07XG4gIGlmICghbHY1VW5sb2NrZWRUaW1lKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCB0aGlydHlNaW51dGVzID0gMzAgKiA2MCAqIDEwMDA7XG4gIHJldHVybiAobm93IC0gbHY1VW5sb2NrZWRUaW1lKSA8IHRoaXJ0eU1pbnV0ZXM7XG59XG5cbi8qKlxuICogXHU2RTMyXHU2N0QzXHU1QzBGXHU1NzhCXHU3QjQ5XHU3RUE3XHU1RkJEXHU3QUUwXHVGRjA4THY1XHU0RTEzXHU3NTI4XHVGRjA5XG4gKi9cbnByaXZhdGUgcmVuZGVyTGV2ZWxCYWRnZShjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm9ncmVzczogVW5sb2NrUHJvZ3Jlc3MpOiB2b2lkIHtcbiAgY29uc3QgbGV2ZWxCYWRnZSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdsZXZlbC1iYWRnZS1pY29uJyB9KTtcbiAgXG5cbiAgY29uc3QgbGV2ZWxOYW1lID0gdGhpcy50KGBsZXZlbC4ke3Byb2dyZXNzLmN1cnJlbnRMZXZlbH1gKTtcbiAgbGV2ZWxCYWRnZS50ZXh0Q29udGVudCA9IGBMdiR7cHJvZ3Jlc3MuY3VycmVudExldmVsfWA7XG4gIGxldmVsQmFkZ2UudGl0bGUgPSBgJHt0aGlzLnQoJ2xldmVsLmN1cnJlbnQnKX06ICR7bGV2ZWxOYW1lfSAtICR7dGhpcy50KCdsZXZlbC5jbGlja0RldGFpbHMnKX1gO1xuICBcbiAgLy8gXHU3MEI5XHU1MUZCXHU2NjNFXHU3OTNBXHU3QjQ5XHU3RUE3XHU4QkU2XHU2MEM1XG4gIGxldmVsQmFkZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBuZXcgTGV2ZWxJbmZvTW9kYWwodGhpcy5hcHAsIHByb2dyZXNzLCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0pLm9wZW4oKTtcbiAgfSk7XG59XG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NTkwRFx1NEU2MFx1NjhDMFx1NjdFNSA9PT09PT09PT09PT09PT09PT09PVxuLy8gXHU2QkNGXHU2NUU1XHU2M0QwXHU5MTkyXHU1OTBEXHU0RTYwXG4vLyBcdTYyNEJcdTUyQThcdTg5RTZcdTUzRDFcdTU5MERcdTRFNjBcdTYzRDBcdTkxOTJcdTY4QzBcdTY3RTVcbnB1YmxpYyBjaGVja1Jldmlld1JlbWluZGVyKCk6IHZvaWQge1xuICBjb25zdCBpc0Rpc21pc3NlZCA9IHRoaXMuaXNSZW1pbmRlckRpc21pc3NlZFRvZGF5KCk7XG4gIFxuICBpZiAoaXNEaXNtaXNzZWQpIHtcbiAgICAvLyBcdTY2M0VcdTc5M0FcdTYzRDBcdTkxOTJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbGVhcm5pbmctc3lzdGVtLXJlbWluZGVyLWRpc21pc3NlZCcpO1xuICB9IGVsc2Uge1xuICAgIC8vIFx1OTY5MFx1ODVDRlx1NjNEMFx1OTE5MlxuICAgIHRoaXMubWFya1JlbWluZGVyRGlzbWlzc2VkKCk7XG4gIH1cbiAgXG4gIHRoaXMucmVmcmVzaCgpO1xufVxuXG5cblxuXG5cblxuXG5wcml2YXRlIHN0YXJ0UmV2aWV3KCkge1xuICAvLyBcdTZGQzBcdTZEM0JcdTU5MERcdTRFNjBcdTg5QzZcdTU2RkVcbiAgdGhpcy5wbHVnaW4uYWN0aXZhdGVSZXZpZXcoKTtcbn1cblxucHJpdmF0ZSBtYXJrUmVtaW5kZXJEaXNtaXNzZWQoKSB7XG4gIC8vIFx1NEZERFx1NUI1OFx1NEVDQVx1NTkyOVx1NURGMlx1NUZGRFx1NzU2NVx1NzY4NFx1NzJCNlx1NjAwMShcdTUzRUZcdTkwMDlcdTUyOUZcdTgwRkQpXG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xlYXJuaW5nLXN5c3RlbS1yZW1pbmRlci1kaXNtaXNzZWQnLCB0b2RheSk7XG59XG5cbnByaXZhdGUgaXNSZW1pbmRlckRpc21pc3NlZFRvZGF5KCk6IGJvb2xlYW4ge1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9EYXRlU3RyaW5nKCk7XG4gIGNvbnN0IGRpc21pc3NlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsZWFybmluZy1zeXN0ZW0tcmVtaW5kZXItZGlzbWlzc2VkJyk7XG4gIHJldHVybiBkaXNtaXNzZWQgPT09IHRvZGF5O1xufVxucHJpdmF0ZSBpbnNlcnRSZXZpZXdSZW1pbmRlckF0VG9wKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgaWYgKHRoaXMuaXNSZW1pbmRlckRpc21pc3NlZFRvZGF5KCkpIHJldHVybjtcbiAgXG4gIC8vIFx1MkI1MCBcdTc2RjRcdTYzQTVcdTRFQ0UgRmxhc2hjYXJkTWFuYWdlciBcdTgzQjdcdTUzRDZcdTVCOUVcdTk2NDVcdTY1NzBcdTkxQ0ZcbiAgY29uc3QgZHVlQ291bnQgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldER1ZUNhcmRzKCkubGVuZ3RoO1xuICBcbiAgaWYgKGR1ZUNvdW50ID09PSAwKSByZXR1cm47XG4gIFxuICBjb25zdCBiYW5uZXIgPSB0aGlzLmNyZWF0ZVJldmlld0Jhbm5lcihkdWVDb3VudCk7XG4gIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoYmFubmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgLy8gXHU1NzI4IGJhbm5lciBcdTU0MEVcdTk3NjJcdTZERkJcdTUyQTBcdTdCMkNcdTRFOENcdTY3NjFcdTUyMDZcdTk2OTRcdTdFQkZcbiAgICBjb25zdCBkaXZpZGVyMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdmlkZXIyLmNsYXNzTmFtZSA9ICdyZXZpZXctZGl2aWRlcic7XG4gICAgZGl2aWRlcjIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgZGl2aWRlcjIuc3R5bGUuaGVpZ2h0ID0gJzFweCc7XG4gICAgZGl2aWRlcjIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSc7XG4gICAgZGl2aWRlcjIuc3R5bGUubWFyZ2luID0gJzEycHggMCc7XG4gICAgXG4gICAgaWYgKGJhbm5lci5uZXh0U2libGluZykge1xuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShkaXZpZGVyMiwgYmFubmVyLm5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdmlkZXIyKTtcbiAgICB9XG59XG5cblxuXG5wcml2YXRlIGNyZWF0ZVJldmlld0Jhbm5lcihjb3VudDogbnVtYmVyKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBiYW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYmFubmVyLmNsYXNzTmFtZSA9ICdjb250ZW50LWxpc3QtcmV2aWV3LXJlbWluZGVyJztcbiAgXG4gIC8vIFx1MkI1MCBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTVGODVcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDdcbiAgY29uc3QgZHVlQ2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldER1ZUNhcmRzKCk7XG4gIGNvbnN0IGFjdHVhbER1ZUNvdW50ID0gZHVlQ2FyZHMubGVuZ3RoO1xuICBcbiAgLy8gXHUyQjUwIFx1NkI2M1x1Nzg2RVx1NzY4NFx1OTAzQlx1OEY5MVx1RkYxQVx1OEJBMVx1N0I5N1x1NEVDQVx1NTkyOVx1NzY4NFx1NTkwRFx1NEU2MFx1NEVGQlx1NTJBMVx1NjAzQlx1NjU3MFxuICAvLyBcdTRFQ0FcdTU5MjlcdTU5MERcdTRFNjBcdThGQzdcdTc2ODRcdTUzNjFcdTcyNDcgPSBcdTRFQ0FcdTU5MjlcdTU5MERcdTRFNjBcdThGQzdcdTRFMTRcdTRFQ0FcdTU5MjlcdTUyMzBcdTY3MUZcdTc2ODRcdTUzNjFcdTcyNDdcbiAgY29uc3QgYWxsQ2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBcbiAgLy8gXHU4M0I3XHU1M0Q2XHU0RUNBXHU1OTI5XHU1MjMwXHU2NzFGXHU3Njg0XHU2MjQwXHU2NzA5XHU1MzYxXHU3MjQ3SURcdUZGMDhcdTUzMDVcdTYyRUNcdTVERjJcdTU5MERcdTRFNjBcdTU0OENcdTY3MkFcdTU5MERcdTRFNjBcdUZGMDlcbiAgY29uc3QgdG9kYXlEdWVDYXJkSWRzID0gbmV3IFNldChcbiAgICBhbGxDYXJkc1xuICAgICAgLmZpbHRlcihjYXJkID0+IHtcbiAgICAgICAgY29uc3QgZHVlRGF0ZSA9IG5ldyBEYXRlKGNhcmQuc2NoZWR1bGluZy5kdWUpLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICByZXR1cm4gZHVlRGF0ZSA8PSB0b2RheTtcbiAgICAgIH0pXG4gICAgICAubWFwKGNhcmQgPT4gY2FyZC5pZClcbiAgKTtcbiAgXG4gIC8vIFx1N0VERlx1OEJBMVx1NEVDQVx1NTkyOVx1NURGMlx1NTkwRFx1NEU2MFx1NzY4NFx1NTM2MVx1NzI0N1x1RkYwOFx1NEUxNFx1NUM1RVx1NEU4RVx1NEVDQVx1NTkyOVx1NzY4NFx1NEVGQlx1NTJBMVx1RkYwOVxuICBjb25zdCByZXZpZXdlZFRvZGF5ID0gYWxsQ2FyZHMuZmlsdGVyKGNhcmQgPT4ge1xuICAgIGlmICghY2FyZC5zdGF0cy5sYXN0UmV2aWV3KSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbGFzdFJldmlld0RhdGUgPSBuZXcgRGF0ZShjYXJkLnN0YXRzLmxhc3RSZXZpZXcpLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIHJldHVybiBsYXN0UmV2aWV3RGF0ZSA9PT0gdG9kYXkgJiYgdG9kYXlEdWVDYXJkSWRzLmhhcyhjYXJkLmlkKTtcbiAgfSkubGVuZ3RoO1xuICBcbiAgLy8gXHUyQjUwIFx1NEVDQVx1NTkyOVx1NzY4NFx1NjAzQlx1NEVGQlx1NTJBMVx1NjU3MCA9IFx1NURGMlx1NUI4Q1x1NjIxMCArIFx1NUY4NVx1NUI4Q1x1NjIxMFxuICBjb25zdCB0b3RhbFRvZGF5ID0gcmV2aWV3ZWRUb2RheSArIGFjdHVhbER1ZUNvdW50O1xuICBjb25zdCBwcm9ncmVzc1BlcmNlbnQgPSB0b3RhbFRvZGF5ID4gMCA/IE1hdGgucm91bmQoKHJldmlld2VkVG9kYXkgLyB0b3RhbFRvZGF5KSAqIDEwMCkgOiAwO1xuICBcbiAgLy8gXHU4QkExXHU3Qjk3XHU2NzAwXHU3RDI3XHU2MDI1XHU3Njg0XHU1MzYxXHU3MjQ3XHU1RUY2XHU1NDBFXHU2NUY2XHU5NUY0XG4gIGNvbnN0IG1vc3RVcmdlbnQgPSBkdWVDYXJkcy5sZW5ndGggPiAwIFxuICAgID8gZHVlQ2FyZHMucmVkdWNlKChlYXJsaWVzdCwgY2FyZCkgPT4gXG4gICAgICAgIGNhcmQuc2NoZWR1bGluZy5kdWUgPCBlYXJsaWVzdCA/IGNhcmQuc2NoZWR1bGluZy5kdWUgOiBlYXJsaWVzdFxuICAgICAgLCBEYXRlLm5vdygpKVxuICAgIDogRGF0ZS5ub3coKTtcbiAgY29uc3QgaG91cnNTaW5jZUR1ZSA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBtb3N0VXJnZW50KSAvICgxMDAwICogNjAgKiA2MCkpO1xuICBcbiAgLy8gXHU4M0I3XHU1M0Q2XHU1RUY2XHU1NDBFXHU2M0QwXHU3OTNBXHU2NTg3XHU2NzJDXG4gIGNvbnN0IGRlbGF5VGV4dCA9IHRoaXMuZ2V0RGVsYXlUZXh0KGhvdXJzU2luY2VEdWUpO1xuICBcbiAgLy8gXHU4M0I3XHU1M0Q2XHU4RkRFXHU3RUVEXHU1OTBEXHU0RTYwXHU1OTI5XHU2NTcwXG4gIGNvbnN0IHN0cmVha0RheXMgPSB0aGlzLmdldFJldmlld1N0cmVhaygpO1xuICBcbiAgYmFubmVyLmlubmVySFRNTCA9IGBcbiAgPGRpdiBjbGFzcz1cInJlbWluZGVyLWhlYWRlclwiPlxuICAgIDxkaXYgY2xhc3M9XCJyZW1pbmRlci10ZXh0XCI+XG4gPHN0cm9uZz4ke3RoaXMudCgncmV2aWV3LnRvZGF5UHJvZ3Jlc3MnLCB7IHJldmlld2VkOiByZXZpZXdlZFRvZGF5LCB0b3RhbDogdG90YWxUb2RheSB9KX08L3N0cm9uZz4gIFxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgXG4gIDxkaXYgY2xhc3M9XCJyZW1pbmRlci1zdGF0c1wiPlxuICAgIDxkaXYgY2xhc3M9XCJzdGF0LWl0ZW0gZGVsYXktd2FybmluZ1wiPlxuICAgICAgJHtkZWxheVRleHR9XG4gICAgPC9kaXY+XG4gICAgJHtzdHJlYWtEYXlzID4gMCA/IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWl0ZW0gc3RyZWFrLWluZm9cIj5cbiAgICAgICAgICR7dGhpcy50KCdyZXZpZXcuc3RyZWFrJywgeyBkYXlzOiBzdHJlYWtEYXlzIH0pfVxuICAgICAgPC9kaXY+XG4gICAgYCA6ICcnfVxuICA8L2Rpdj5cbiAgXG4gIDxkaXYgY2xhc3M9XCJyZW1pbmRlci1hY3Rpb25zXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInJlbWluZGVyLWJ0biBwcmltYXJ5XCI+JHt0aGlzLnQoJ3Jldmlldy5zdGFydCcpfTwvYnV0dG9uPlxuICA8L2Rpdj5cbmA7XG5cbi8vIFx1OEJCRVx1N0Y2RVx1NUI1N1x1NEY1M1x1NTkyN1x1NUMwRlxuYmFubmVyLnN0eWxlLmZvbnRTaXplID0gJzAuODVlbSc7XG4vLyBcdThCQkVcdTdGNkVcdTYzMDlcdTk0QUVcdTVDNDVcdTRFMkRcbmNvbnN0IGFjdGlvbnMgPSBiYW5uZXIucXVlcnlTZWxlY3RvcignLnJlbWluZGVyLWFjdGlvbnMnKSBhcyBIVE1MRWxlbWVudDtcbmlmIChhY3Rpb25zKSB7XG4gIGFjdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgYWN0aW9ucy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xufVxuICBcbiAgYmFubmVyLnF1ZXJ5U2VsZWN0b3IoJy5wcmltYXJ5JykhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zdGFydFJldmlldygpO1xuICAgIGJhbm5lci5yZW1vdmUoKTtcbiAgICB0aGlzLm1hcmtSZW1pbmRlckRpc21pc3NlZCgpO1xuICB9KTtcbiAgXG4gIHJldHVybiBiYW5uZXI7XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENSAxOiBcdTgzQjdcdTUzRDZcdTVFRjZcdTU0MEVcdTYzRDBcdTc5M0FcdTY1ODdcdTY3MkNcbnByaXZhdGUgZ2V0RGVsYXlUZXh0KGhvdXJzU2luY2VEdWU6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChob3Vyc1NpbmNlRHVlIDwgMSkge1xuICAgIHJldHVybiB0aGlzLnQoJ3Jldmlldy5qdXN0RHVlJyk7XG4gIH0gZWxzZSBpZiAoaG91cnNTaW5jZUR1ZSA8IDYpIHtcbiAgICByZXR1cm4gdGhpcy50KCdyZXZpZXcuZGVsYXllZEhvdXJzU2hvcnQnLCB7IGhvdXJzOiBob3Vyc1NpbmNlRHVlIH0pO1xuICB9IGVsc2UgaWYgKGhvdXJzU2luY2VEdWUgPCAyNCkge1xuICAgIHJldHVybiB0aGlzLnQoJ3Jldmlldy51cmdlbnRIb3VycycsIHsgaG91cnM6IGhvdXJzU2luY2VEdWUgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IoaG91cnNTaW5jZUR1ZSAvIDI0KTtcbiAgICByZXR1cm4gdGhpcy50KCdyZXZpZXcudXJnZW50RGF5cycsIHsgZGF5cyB9KTtcbiAgfVxufVxuXG4vLyBcdTY1QjBcdTU4OUVcdThGODVcdTUyQTlcdTY1QjlcdTZDRDUgMjogXHU4M0I3XHU1M0Q2XHU4RkRFXHU3RUVEXHU1OTBEXHU0RTYwXHU1OTI5XHU2NTcwXG5wcml2YXRlIGdldFJldmlld1N0cmVhaygpOiBudW1iZXIge1xuICBjb25zdCBhbGxDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICBcbiAgLy8gXHU2MzA5XHU2NUU1XHU2NzFGXHU1MjA2XHU3RUM0XHU3RURGXHU4QkExXHU1OTBEXHU0RTYwXHU4QkIwXHU1RjU1XG4gIGNvbnN0IHJldmlld0RhdGVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGFsbENhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgaWYgKGNhcmQuc3RhdHMubGFzdFJldmlldykge1xuICAgICAgY29uc3QgZGF0ZVN0ciA9IG5ldyBEYXRlKGNhcmQuc3RhdHMubGFzdFJldmlldylcbiAgICAgICAgLnRvTG9jYWxlRGF0ZVN0cmluZygnemgtQ04nKTtcbiAgICAgIHJldmlld0RhdGVzLmFkZChkYXRlU3RyKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gXHU4QkExXHU3Qjk3XHU4RkRFXHU3RUVEXHU1OTI5XHU2NTcwXG4gIGxldCBzdHJlYWsgPSAwO1xuICBsZXQgY2hlY2tEYXRlID0gbmV3IERhdGUoKTtcbiAgXG4gIHdoaWxlIChzdHJlYWsgPCAzNjUpIHsgLy8gXHU2NzAwXHU1OTFBXHU2OEMwXHU2N0U1XHU0RTAwXHU1RTc0XG4gICAgY29uc3QgZGF0ZVN0ciA9IGNoZWNrRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJyk7XG4gICAgaWYgKHJldmlld0RhdGVzLmhhcyhkYXRlU3RyKSkge1xuICAgICAgc3RyZWFrKys7XG4gICAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHN0cmVhaztcbn1cbnByaXZhdGUgdChrZXk6IHN0cmluZywgcGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyB7XG4gIHJldHVybiB0KGtleSwgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UsIHBhcmFtcyk7XG59XG59IiwgIi8vIHNyYy91aS9zdGF0ZS9WaWV3U3RhdGUudHNcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmQgLEZsYXNoY2FyZE1hbmFnZXJ9IGZyb20gJy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5cbmV4cG9ydCB0eXBlIEZpbHRlck1vZGUgPSAnYWxsJyB8ICdhbm5vdGF0ZWQnIHwgJ2ZsYXNoY2FyZHMnO1xuZXhwb3J0IHR5cGUgRGlzcGxheU1vZGUgPSAnc2lkZWJhcicgfCAnbWFpbic7XG5leHBvcnQgdHlwZSBHcm91cE1vZGUgPSAnZmlsZScgfCAnYW5ub3RhdGlvbicgfCAndGFnJyB8ICdkYXRlJztcbmV4cG9ydCB0eXBlIFZpZXdUeXBlID0gJ25vdGVzJyB8ICdjYXJkcyc7XG5cbmV4cG9ydCBjbGFzcyBWaWV3U3RhdGUge1xuICAvLyBcdTY2M0VcdTc5M0FcdTcyQjZcdTYwMDFcbiAgZm9yY2VNYWluTW9kZTogYm9vbGVhbiA9IGZhbHNlO1xuICBkaXNwbGF5TW9kZTogRGlzcGxheU1vZGUgPSAnc2lkZWJhcic7XG4gIHZpZXdUeXBlOiBWaWV3VHlwZSA9ICdub3Rlcyc7XG4gIFxuICAvLyBcdThGQzdcdTZFRTRcdTU0OENcdTUyMDZcdTdFQzRcbiAgc2VhcmNoUXVlcnk6IHN0cmluZyA9ICcnO1xuICBmaWx0ZXJNb2RlOiBGaWx0ZXJNb2RlID0gJ2FsbCc7XG4gIGdyb3VwTW9kZTogR3JvdXBNb2RlID0gJ2ZpbGUnO1xuICBzZWxlY3RlZEZpbGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBcbiAgLy8gXHU2Mjc5XHU5MUNGXHU2NENEXHU0RjVDXG4gIGJhdGNoTW9kZTogYm9vbGVhbiA9IGZhbHNlO1xuICBzZWxlY3RlZFVuaXRJZHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBzZWxlY3RlZENhcmRJZHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBcbiAgLy8gVUlcdTcyQjZcdTYwMDFcbiAgYWN0aXZlTWVudUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgc2F2ZWRTY3JvbGxQb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgc2hvdWxkUmVzdG9yZVNjcm9sbDogYm9vbGVhbiA9IGZhbHNlO1xuICBcbiAgLy8gXHU2MDI3XHU4MEZEXHU0RjE4XHU1MzE2XG4gIHNlYXJjaERlYm91bmNlVGltZXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBpc1JlbmRlcmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU3RjEzXHU1QjU4XG4gICAgZHVlRmxhc2hjYXJkc0NvdW50OiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGZvcmNlTWFpbk1vZGU6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMuZm9yY2VNYWluTW9kZSA9IGZvcmNlTWFpbk1vZGU7XG4gICAgdGhpcy5kaXNwbGF5TW9kZSA9IGZvcmNlTWFpbk1vZGUgPyAnbWFpbicgOiAnc2lkZWJhcic7XG4gICAgXG4gIH1cblxuICAvLyBcdTcyQjZcdTYwMDFcdTkxQ0RcdTdGNkVcdTY1QjlcdTZDRDVcbiAgY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy5zZWxlY3RlZFVuaXRJZHMuY2xlYXIoKTtcbiAgICB0aGlzLnNlbGVjdGVkQ2FyZElkcy5jbGVhcigpO1xuICAgIHRoaXMuYmF0Y2hNb2RlID0gZmFsc2U7XG4gIH1cbi8vIFx1NTIwN1x1NjM2Mlx1NjI3OVx1OTFDRlx1NkEyMVx1NUYwRlxuICB0b2dnbGVCYXRjaE1vZGUoKTogdm9pZCB7XG4gICAgdGhpcy5iYXRjaE1vZGUgPSAhdGhpcy5iYXRjaE1vZGU7XG4gICAgaWYgKCF0aGlzLmJhdGNoTW9kZSkge1xuICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH1cbiAgfVxuICAvLyBcdTY0MUNcdTdEMjJcdTc2RjhcdTUxNzNcbiAgc2V0U2VhcmNoUXVlcnkocXVlcnk6IHN0cmluZykge1xuICAgIHRoaXMuc2VhcmNoUXVlcnkgPSBxdWVyeTtcbiAgfVxuXG4gIC8vIFx1OEZDN1x1NkVFNFx1NTY2OFx1NTIwN1x1NjM2MlxuICBzZXRGaWx0ZXJNb2RlKG1vZGU6IEZpbHRlck1vZGUpIHtcbiAgICBpZiAodGhpcy5maWx0ZXJNb2RlICE9PSBtb2RlKSB7XG4gICAgICB0aGlzLmZpbHRlck1vZGUgPSBtb2RlO1xuICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFx1NTIwNlx1N0VDNFx1NkEyMVx1NUYwRlx1NTIwN1x1NjM2MlxuICBzZXRHcm91cE1vZGUobW9kZTogR3JvdXBNb2RlKSB7XG4gICAgaWYgKHRoaXMuZ3JvdXBNb2RlICE9PSBtb2RlKSB7XG4gICAgICB0aGlzLmdyb3VwTW9kZSA9IG1vZGU7XG4gICAgICBpZiAodGhpcy5kaXNwbGF5TW9kZSAhPT0gJ3NpZGViYXInKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBcdTg5QzZcdTU2RkVcdTdDN0JcdTU3OEJcdTUyMDdcdTYzNjJcbiAgc2V0Vmlld1R5cGUodHlwZTogVmlld1R5cGUpIHtcbiAgICBpZiAodGhpcy52aWV3VHlwZSAhPT0gdHlwZSkge1xuICAgICAgdGhpcy52aWV3VHlwZSA9IHR5cGU7XG4gICAgICB0aGlzLnNlbGVjdGVkRmlsZSA9IG51bGw7XG4gICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gXHU2Mjc5XHU5MUNGXHU5MDA5XHU2MkU5XG4gIHRvZ2dsZVVuaXRTZWxlY3Rpb24odW5pdElkOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZFVuaXRJZHMuaGFzKHVuaXRJZCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRVbml0SWRzLmRlbGV0ZSh1bml0SWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkVW5pdElkcy5hZGQodW5pdElkKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVDYXJkU2VsZWN0aW9uKGNhcmRJZDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRDYXJkSWRzLmhhcyhjYXJkSWQpKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkQ2FyZElkcy5kZWxldGUoY2FyZElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RlZENhcmRJZHMuYWRkKGNhcmRJZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gXHU1MTY4XHU5MDA5XHU5MDNCXHU4RjkxXG4gIHNlbGVjdEFsbFVuaXRzKHVuaXRzOiBDb250ZW50VW5pdFtdKSB7XG4gICAgdW5pdHMuZm9yRWFjaCh1bml0ID0+IHRoaXMuc2VsZWN0ZWRVbml0SWRzLmFkZCh1bml0LmlkKSk7XG4gICAgdGhpcy5iYXRjaE1vZGUgPSB0cnVlO1xuICB9XG5cbiAgc2VsZWN0QWxsQ2FyZHMoY2FyZHM6IEZsYXNoY2FyZFtdKSB7XG4gICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHRoaXMuc2VsZWN0ZWRDYXJkSWRzLmFkZChjYXJkLmlkKSk7XG4gICAgdGhpcy5iYXRjaE1vZGUgPSB0cnVlO1xuICB9XG5cbiAgLy8gXHU1M0Q2XHU2RDg4XHU1MTY4XHU5MDA5XG4gIGRlc2VsZWN0QWxsVW5pdHModW5pdHM6IENvbnRlbnRVbml0W10pIHtcbiAgICB1bml0cy5mb3JFYWNoKHVuaXQgPT4gdGhpcy5zZWxlY3RlZFVuaXRJZHMuZGVsZXRlKHVuaXQuaWQpKTtcbiAgfVxuXG4gIGRlc2VsZWN0QWxsQ2FyZHMoY2FyZHM6IEZsYXNoY2FyZFtdKSB7XG4gICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHRoaXMuc2VsZWN0ZWRDYXJkSWRzLmRlbGV0ZShjYXJkLmlkKSk7XG4gIH1cblxuICAvLyBcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTUxNjhcdTkwMDlcbiAgaXNBbGxTZWxlY3RlZChpdGVtczogQ29udGVudFVuaXRbXSB8IEZsYXNoY2FyZFtdKTogYm9vbGVhbiB7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGlmICh0aGlzLnZpZXdUeXBlID09PSAnY2FyZHMnKSB7XG4gICAgICByZXR1cm4gKGl0ZW1zIGFzIEZsYXNoY2FyZFtdKS5ldmVyeShjYXJkID0+IFxuICAgICAgICB0aGlzLnNlbGVjdGVkQ2FyZElkcy5oYXMoY2FyZC5pZClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoaXRlbXMgYXMgQ29udGVudFVuaXRbXSkuZXZlcnkodW5pdCA9PiBcbiAgICAgICAgdGhpcy5zZWxlY3RlZFVuaXRJZHMuaGFzKHVuaXQuaWQpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFx1ODNCN1x1NTNENlx1OTAwOVx1NEUyRFx1NjU3MFx1OTFDRlxuICBnZXRTZWxlY3RlZENvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmlld1R5cGUgPT09ICdjYXJkcycgXG4gICAgICA/IHRoaXMuc2VsZWN0ZWRDYXJkSWRzLnNpemUgXG4gICAgICA6IHRoaXMuc2VsZWN0ZWRVbml0SWRzLnNpemU7XG4gIH1cblxuICAvLyBcdTU5MERcdTRFNjBcdTYzRDBcdTkxOTJcbiAgdXBkYXRlRHVlQ291bnQoZmxhc2hjYXJkTWFuYWdlcjogRmxhc2hjYXJkTWFuYWdlcik6IHZvaWQge1xuICAgIHRoaXMuZHVlRmxhc2hjYXJkc0NvdW50ID0gZmxhc2hjYXJkTWFuYWdlci5nZXREdWVDYXJkcygpLmxlbmd0aDtcbiAgfVxuXG4vLyBcdTgzQjdcdTUzRDZcdTVGODVcdTUyMjBcdTk2NjRcdTc2ODRcdTdFREZcdThCQTFcdTRGRTFcdTYwNkZcbmdldERlbGV0ZVN0YXRzKHBsdWdpbjogYW55KTogeyBub3RlczogbnVtYmVyOyBjYXJkczogbnVtYmVyIH0ge1xuICBsZXQgdG90YWxDYXJkcyA9IDA7XG4gIFxuICBpZiAodGhpcy52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgIC8vIFx1NTIyMFx1OTY2NFx1OTVFQVx1NTM2MVx1NkEyMVx1NUYwRlx1RkYxQVx1NTNFQVx1N0VERlx1OEJBMVx1OTAwOVx1NEUyRFx1NzY4NFx1OTVFQVx1NTM2MVxuICAgIHRvdGFsQ2FyZHMgPSB0aGlzLnNlbGVjdGVkQ2FyZElkcy5zaXplO1xuICAgIHJldHVybiB7IG5vdGVzOiAwLCBjYXJkczogdG90YWxDYXJkcyB9O1xuICB9IGVsc2Uge1xuICAgIC8vIFx1NTIyMFx1OTY2NFx1N0IxNFx1OEJCMFx1NkEyMVx1NUYwRlx1RkYxQVx1N0VERlx1OEJBMVx1OTAwOVx1NEUyRFx1N0IxNFx1OEJCMFx1NTNDQVx1NTE3Nlx1NTE3M1x1ODA1NFx1NzY4NFx1OTVFQVx1NTM2MVxuICAgIGNvbnN0IG5vdGVzID0gdGhpcy5zZWxlY3RlZFVuaXRJZHMuc2l6ZTtcbiAgICBcbiAgICB0aGlzLnNlbGVjdGVkVW5pdElkcy5mb3JFYWNoKHVuaXRJZCA9PiB7XG4gICAgICBjb25zdCB1bml0ID0gcGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KHVuaXRJZCk7XG4gICAgICBpZiAodW5pdCkge1xuICAgICAgICB0b3RhbENhcmRzICs9IHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4geyBub3RlcywgY2FyZHM6IHRvdGFsQ2FyZHMgfTtcbiAgfVxufVxuXG4vLyBcdTgzQjdcdTUzRDZcdTY1ODdcdTRFRjZcdTUyMjBcdTk2NjRcdTc2ODRcdTdFREZcdThCQTFcdTRGRTFcdTYwNkZcbnN0YXRpYyBnZXRGaWxlRGVsZXRlU3RhdHMoZmlsZVBhdGg6IHN0cmluZywgcGx1Z2luOiBhbnkpOiB7IG5vdGVzOiBudW1iZXI7IGNhcmRzOiBudW1iZXIgfSB7XG4gIGNvbnN0IHVuaXRzID0gcGx1Z2luLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpXG4gICAgLmZpbHRlcigodTogYW55KSA9PiB1LnNvdXJjZS5maWxlID09PSBmaWxlUGF0aCk7XG4gIFxuICBjb25zdCBub3RlcyA9IHVuaXRzLmxlbmd0aDtcbiAgbGV0IGNhcmRzID0gMDtcbiAgXG4gIHVuaXRzLmZvckVhY2goKHVuaXQ6IGFueSkgPT4ge1xuICAgIGNhcmRzICs9IHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aDtcbiAgfSk7XG4gIFxuICByZXR1cm4geyBub3RlcywgY2FyZHMgfTtcbn1cblxufSIsICIvLyBzcmMvdWkvY29tcG9uZW50cy9Ub29sYmFyLnRzICBcdTVERTVcdTUxNzdcdTY4MEZcdTdFQzRcdTRFRjZcbmltcG9ydCB7IFZpZXdTdGF0ZSwgRmlsdGVyTW9kZSwgR3JvdXBNb2RlIH0gZnJvbSAnLi4vc3RhdHMvVmlld1N0YXRlJztcbmltcG9ydCB7IHQsIExhbmd1YWdlIH0gZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgVG9vbGJhciB7XG4gIHByaXZhdGUgc3RhdGU6IFZpZXdTdGF0ZTtcbiAgcHJpdmF0ZSBvblNlYXJjaENoYW5nZTogKHF1ZXJ5OiBzdHJpbmcpID0+IHZvaWQ7XG4gIHByaXZhdGUgb25GaWx0ZXJDaGFuZ2U6IChtb2RlOiBGaWx0ZXJNb2RlKSA9PiB2b2lkO1xuICBwcml2YXRlIG9uR3JvdXBDaGFuZ2U6IChtb2RlOiBHcm91cE1vZGUpID0+IHZvaWQ7XG4gIHByaXZhdGUgb25DaGVja1Jldmlldz86ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgbGFuZ3VhZ2U6IExhbmd1YWdlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0YXRlOiBWaWV3U3RhdGUsXG4gICAgY2FsbGJhY2tzOiB7XG4gICAgICBvblNlYXJjaENoYW5nZTogKHF1ZXJ5OiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgICBvbkZpbHRlckNoYW5nZTogKG1vZGU6IEZpbHRlck1vZGUpID0+IHZvaWQ7XG4gICAgICBvbkdyb3VwQ2hhbmdlOiAobW9kZTogR3JvdXBNb2RlKSA9PiB2b2lkO1xuICAgICAgb25DaGVja1Jldmlldz86ICgpID0+IHZvaWQ7IFxuICAgICAgY2hlY2tGaWx0ZXJIYXNOb3Rlcz86IChtb2RlOiBGaWx0ZXJNb2RlKSA9PiBib29sZWFuO1xuICAgICAgY2hlY2tHcm91cEhhc05vdGVzPzogKG1vZGU6IEdyb3VwTW9kZSkgPT4gYm9vbGVhbjtcbiAgICB9LFxuICAgIGxhbmd1YWdlOiBMYW5ndWFnZSA9ICdlbicgXG4gICkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLm9uU2VhcmNoQ2hhbmdlID0gY2FsbGJhY2tzLm9uU2VhcmNoQ2hhbmdlO1xuICAgIHRoaXMub25GaWx0ZXJDaGFuZ2UgPSBjYWxsYmFja3Mub25GaWx0ZXJDaGFuZ2U7XG4gICAgdGhpcy5vbkdyb3VwQ2hhbmdlID0gY2FsbGJhY2tzLm9uR3JvdXBDaGFuZ2U7XG4gICAgdGhpcy5vbkNoZWNrUmV2aWV3ID0gY2FsbGJhY2tzLm9uQ2hlY2tSZXZpZXc7IFxuICAgIHRoaXMuY2hlY2tGaWx0ZXJIYXNOb3RlcyA9IGNhbGxiYWNrcy5jaGVja0ZpbHRlckhhc05vdGVzO1xuICAgIHRoaXMuY2hlY2tHcm91cEhhc05vdGVzID0gY2FsbGJhY2tzLmNoZWNrR3JvdXBIYXNOb3RlcztcbiAgXG4gICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICB9XG4gIHByaXZhdGUgY2hlY2tGaWx0ZXJIYXNOb3Rlcz86IChtb2RlOiBGaWx0ZXJNb2RlKSA9PiBib29sZWFuO1xuICBwcml2YXRlIGNoZWNrR3JvdXBIYXNOb3Rlcz86IChtb2RlOiBHcm91cE1vZGUpID0+IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSB0KGtleTogc3RyaW5nLCBwYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogc3RyaW5nIHtcbiAgICByZXR1cm4gdChrZXksIHRoaXMubGFuZ3VhZ2UsIHBhcmFtcyk7XG4gIH1cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1NEZBN1x1OEZCOVx1NjgwRlx1NURFNVx1NTE3N1x1NjgwRlxuICAgKi9cbiAgcmVuZGVyU2lkZWJhclRvb2xiYXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCB0b29sYmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3NpZGViYXItdG9vbGJhcicgfSk7XG4gICAgXG4gICAgdGhpcy5yZW5kZXJTZWFyY2hCb3godG9vbGJhcik7XG4gICAgdGhpcy5yZW5kZXJGaWx0ZXJDaGlwcyh0b29sYmFyKTtcbiAgICB0aGlzLnJlbmRlckdyb3VwU3dpdGNoZXIodG9vbGJhcik7XG4gICAgdGhpcy5yZW5kZXJTdGF0c1Jvdyh0b29sYmFyKTtcbiAgICBcbiAgICByZXR1cm4gdG9vbGJhcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTRFM0JcdTc1NENcdTk3NjJcdTVERTVcdTUxNzdcdTY4MEZcbiAgICovXG4gIHJlbmRlck1haW5Ub29sYmFyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgdG9vbGJhciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdtYWluLXRvb2xiYXInIH0pO1xuICAgIFxuICAgIHRoaXMucmVuZGVyU2VhcmNoQm94KHRvb2xiYXIsIHRydWUpO1xuICAgIHRoaXMucmVuZGVyR3JvdXBTd2l0Y2hlcih0b29sYmFyLCB0cnVlKTtcbiAgICBcbiAgICByZXR1cm4gdG9vbGJhcjtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyU2VhcmNoQm94KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGlzTWFpbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgY29uc3Qgc2VhcmNoQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3NlYXJjaC1jb250YWluZXInIH0pO1xuICAgIFxuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2VhcmNoQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLnQoJ3Rvb2xiYXIuc2VhcmNoJyksIFxuICAgICAgY2xzOiBpc01haW4gPyAnc2VhcmNoLWlucHV0LW1haW4nIDogJ3NlYXJjaC1pbnB1dCdcbiAgICB9KTtcbiAgICBcbiAgICBzZWFyY2hJbnB1dC52YWx1ZSA9IHRoaXMuc3RhdGUuc2VhcmNoUXVlcnk7XG4gICAgXG4gICAgLy8gPT09PT09PT09PSBcdTcxMjZcdTcwQjlcdTdCQTFcdTc0MDYgPT09PT09PT09PVxuICAgIFxuICAgIC8vIFx1NjM1NVx1ODNCN1x1OTYzNlx1NkJCNVx1NjJFNlx1NjIyQVxuICAgIHNlYXJjaENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCB0cnVlKTtcbiAgICBcbiAgICAvLyBtb3VzZXVwIFx1NjVGNlx1NUYzQVx1NTIzNlx1ODA1QVx1NzEyNlxuICAgIHNlYXJjaENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZWFyY2hJbnB1dC5mb2N1cygpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIGNsaWNrIFx1NEU4Qlx1NEVGNlx1NEU1Rlx1NjJFNlx1NjIyQVxuICAgIHNlYXJjaENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1NTE3Nlx1NEVENlx1NEU4Qlx1NEVGNlxuICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCB2YWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgIHRoaXMub25TZWFyY2hDaGFuZ2UodmFsdWUpO1xuICAgIH0pO1xuICAgIFxuICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZWFyY2hJbnB1dC5zZWxlY3QoKTtcbiAgICB9KTtcbiAgICBcbiAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgc2VhcmNoSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy5vblNlYXJjaENoYW5nZSgnJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJGaWx0ZXJDaGlwcyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3QgZmlsdGVycyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdmaWx0ZXItY2hpcHMnIH0pO1xuICAgIFxuICAgIGNvbnN0IGZpbHRlck9wdGlvbnM6IEFycmF5PHsgbW9kZTogRmlsdGVyTW9kZTsgaWNvbjogc3RyaW5nOyBsYWJlbDogc3RyaW5nIDt0b29sdGlwOnN0cmluZ30+ID0gW1xuICAgICAgXG4gICAgICB7IG1vZGU6ICdhbGwnLCBpY29uOiAnXHVEODNEXHVEQ0REJywgbGFiZWw6ICdub3RlcycsdG9vbHRpcDonYWxsTm90ZXMnIH0sXG4gICAgICB7IG1vZGU6ICdhbm5vdGF0ZWQnLCBpY29uOiAnXHVEODNEXHVEQ0FDJywgbGFiZWw6ICdhbm5vdGF0ZWQnICx0b29sdGlwOidhbm5vdGF0ZWQnIH0sXG4gICAgICB7IG1vZGU6ICdmbGFzaGNhcmRzJywgaWNvbjogJ1x1RDgzQ1x1RENDRicsIGxhYmVsOiAnZmxhc2hjYXJkcycsdG9vbHRpcDonZmxhc2hjYXJkcycgfVxuICAgIF07XG5cbiAgICBmaWx0ZXJPcHRpb25zLmZvckVhY2goKHsgbW9kZSwgaWNvbiwgbGFiZWwgLHRvb2x0aXB9KSA9PiB7XG4gICAgY29uc3QgaGFzTm90ZXMgPSB0aGlzLmNoZWNrRmlsdGVySGFzTm90ZXMgPyB0aGlzLmNoZWNrRmlsdGVySGFzTm90ZXMobW9kZSkgOiB0cnVlO1xuICAgIGNvbnN0IGlzQWN0aXZlID0gdGhpcy5zdGF0ZS5maWx0ZXJNb2RlID09PSBtb2RlO1xuICAgIFxuICAgIGNvbnN0IGNoaXAgPSBmaWx0ZXJzLmNyZWF0ZURpdih7XG4gICAgICBjbHM6IGBmaWx0ZXItY2hpcCAke2lzQWN0aXZlID8gJ2FjdGl2ZScgOiAnJ30gJHshaGFzTm90ZXMgPyAnZGlzYWJsZWQnIDogJyd9YCxcbiAgICAgIHRleHQ6IGAke2ljb259YCxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTJCNTAgXHU4QkJFXHU3RjZFXHU2M0QwXHU3OTNBXHU2NTg3XHU2NzJDXG4gICAgaWYgKCFoYXNOb3Rlcykge1xuICAgICAgY2hpcC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ05vIG5vdGVzIG9mIHRoaXMgdHlwZSBpbiB0aGUgY3VycmVudCBmaWxlJyk7XG4gICAgICBjaGlwLnN0eWxlLm9wYWNpdHkgPSAnMC40JztcbiAgICAgIGNoaXAuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpcC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdG9vbHRpcCk7XG4gICAgfVxuICAgIFxuICAgIGNoaXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLm9uRmlsdGVyQ2hhbmdlKG1vZGUpO1xuICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJHcm91cFN3aXRjaGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGlzTWFpbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgY29uc3QgZ3JvdXBTd2l0Y2hlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBcbiAgICAgIGNsczogaXNNYWluID8gJ2dyb3VwLXN3aXRjaGVyLW1haW4nIDogJ2dyb3VwLXN3aXRjaGVyJyBcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBncm91cE9wdGlvbnM6IEFycmF5PHsgbW9kZTogR3JvdXBNb2RlOyBpY29uOiBzdHJpbmc7IGxhYmVsPzogc3RyaW5nOyB0b29sdGlwOiBzdHJpbmcgfT4gPSBcbiAgICAgIGlzTWFpbiA/IFtcbiAgICAgICAgeyBtb2RlOiAnZmlsZScsIGljb246ICdcdUQ4M0RcdURDQzEnLCBsYWJlbDogJ2ZpbGUnLCB0b29sdGlwOiAnYnkgZmlsZScgfSxcbiAgICAgICAgeyBtb2RlOiAnYW5ub3RhdGlvbicsIGljb246ICdcdUQ4M0RcdURDQUMnLCBsYWJlbDogJ2Fubm90YXR0aW9uJywgdG9vbHRpcDogJ2J5IGFubm90YXRpb24nIH0sXG4gICAgICAgIHsgbW9kZTogJ3RhZycsIGljb246ICdcdUQ4M0NcdURGRjdcdUZFMEYnLCBsYWJlbDogJ3RhZycsIHRvb2x0aXA6ICdieSB0YWcnIH0sXG4gICAgICAgIHsgbW9kZTogJ2RhdGUnLCBpY29uOiAnXHVEODNEXHVEQ0M1JywgbGFiZWw6ICdkYXRlJywgdG9vbHRpcDogJ2J5IGRhdGUnIH1cbiAgICAgIF0gOiBbXG4gICAgICAgIHsgbW9kZTogJ2ZpbGUnLCBpY29uOiAnXHVEODNEXHVEQ0MxJywgdG9vbHRpcDogJ2J5IGZpbGUnIH0sXG4gICAgICAgIHsgbW9kZTogJ3RhZycsIGljb246ICdcdUQ4M0NcdURGRjdcdUZFMEYnLCB0b29sdGlwOiAnYnkgdGFnJyB9LFxuICAgICAgICB7IG1vZGU6ICdkYXRlJywgaWNvbjogJ1x1RDgzRFx1RENDNScsIHRvb2x0aXA6ICdieSBkYXRlJyB9XG4gICAgICBdO1xuXG4gICAgZ3JvdXBPcHRpb25zLmZvckVhY2goKHsgbW9kZSwgaWNvbiwgbGFiZWwsIHRvb2x0aXAgfSkgPT4ge1xuICAgIC8vIFx1MkI1MCBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTY3MDlcdTUzRUZcdTc1MjhcdTdCMTRcdThCQjBcdUZGMDhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdTRFMEJcdTYyNERcdTY4QzBcdTY3RTVcdUZGMDlcbiAgICBjb25zdCBoYXNOb3RlcyA9ICh0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicgJiYgdGhpcy5jaGVja0dyb3VwSGFzTm90ZXMpIFxuICAgICAgPyB0aGlzLmNoZWNrR3JvdXBIYXNOb3Rlcyhtb2RlKSBcbiAgICAgIDogdHJ1ZTtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSBtb2RlO1xuICAgIFxuICAgIGNvbnN0IGJ0biA9IGdyb3VwU3dpdGNoZXIuY3JlYXRlRGl2KHtcbiAgICAgIGNsczogYCR7aXNNYWluID8gJ2dyb3VwLWJ0bi1tYWluJyA6ICdncm91cC1idG4nfSAke1xuICAgICAgICBpc0FjdGl2ZSA/ICdhY3RpdmUnIDogJydcbiAgICAgIH0gJHshaGFzTm90ZXMgPyAnZGlzYWJsZWQnIDogJyd9YFxuICAgIH0pO1xuICAgIFxuICAgIGJ0bi5pbm5lckhUTUwgPSBpc01haW4gPyBgJHtpY29ufSBgIDogaWNvbjtcbiAgICBcbiAgICAvLyBcdTJCNTAgXHU4QkJFXHU3RjZFXHU2M0QwXHU3OTNBXHU2NTg3XHU2NzJDXG4gICAgaWYgKCFoYXNOb3Rlcykge1xuICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnTm90ZXMgaW4gdGhlIGN1cnJlbnQgZmlsZSBjYW5ub3QgYmUgZ3JvdXBlZCB0aGlzIHdheScpO1xuICAgICAgYnRuLnN0eWxlLm9wYWNpdHkgPSAnMC40JztcbiAgICAgIGJ0bi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBidG4uc2V0QXR0cmlidXRlKCd0aXRsZScsIHRvb2x0aXApO1xuICAgIH1cbiAgICBcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9uR3JvdXBDaGFuZ2UobW9kZSk7XG4gICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclN0YXRzUm93KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBzdGF0c1JvdyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy1yb3cnIH0pO1xuICAgIFxuICAgIC8vIFx1OEZEOVx1OTFDQ1x1NEYxQVx1NzUzMSBCYXRjaEFjdGlvbnMgXHU3RUM0XHU0RUY2XHU1ODZCXHU1MTQ1XG4gICAgLy8gXHU5ODg0XHU3NTU5XHU1QkI5XHU1NjY4XHU0RjlCXHU1OTE2XHU5MEU4XHU0RjdGXHU3NTI4XG4gICAgc3RhdHNSb3cuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXRzLWNvbnRhaW5lcicsICd0cnVlJyk7XG4gIH1cbiAgLy8gXHU2NUIwXHU1ODlFOlx1NkUzMlx1NjdEM1x1NTkwRFx1NEU2MFx1NjhDMFx1NjdFNVx1NjMwOVx1OTRBRVx1NzY4NFx1NjVCOVx1NkNENVxucmVuZGVyUmV2aWV3Q2hlY2tCdXR0b24oY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gIGlmICghdGhpcy5vbkNoZWNrUmV2aWV3KSByZXR1cm4gbnVsbDtcbiAgXG4gIGNvbnN0IHJldmlld0J0biA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgIGNsczogJ3Jldmlldy1jaGVjay1idG4tc3RhdHMnLFxuICAgIGF0dHI6IHsgXG4gICAgICAnYXJpYS1sYWJlbCc6ICdDaGVjayBmb3IgQ2FyZHMgdG8gUmV2aWV3J1xuICAgIH1cbiAgfSk7XG4gIHJldmlld0J0bi5pbm5lckhUTUwgPSAnXHVEODNEXHVERDE0JzsgXG4gIHJldmlld0J0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMub25DaGVja1Jldmlldz8uKCk7XG4gIH0pO1xuICBcbiAgcmV0dXJuIHJldmlld0J0bjtcbn1cbnByaXZhdGUgaGFzTm90ZXNGb3JGaWx0ZXIobW9kZTogRmlsdGVyTW9kZSk6IGJvb2xlYW4ge1xuICAvLyBcdThGRDlcdTRFMkFcdTY1QjlcdTZDRDVcdTk3MDBcdTg5ODFcdThCQkZcdTk1RUVcdTY1NzBcdTYzNkVcdUZGMENcdTYyNDBcdTRFRTVcdTk3MDBcdTg5ODFcdTkwMUFcdThGQzdcdTU2REVcdThDMDNcdTYyMTZcdTgwMDVcdTc2RjRcdTYzQTVcdThCQkZcdTk1RUUgc3RhdGVcbiAgLy8gXHU2NjgyXHU2NUY2XHU4RkQ0XHU1NkRFIHRydWVcdUZGMENcdTdBMERcdTU0MEVcdTkwMUFcdThGQzdcdTY3ODRcdTkwMjBcdTUxRkRcdTY1NzBcdTRGMjBcdTUxNjVcdTY4QzBcdTY3RTVcdTUxRkRcdTY1NzBcbiAgcmV0dXJuIHRydWU7XG59XG5cbnByaXZhdGUgaGFzTm90ZXNGb3JHcm91cChtb2RlOiBHcm91cE1vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvQmF0Y2hBY3Rpb25zLnRzICBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUNcblxuaW1wb3J0IHsgVmlld1N0YXRlIH0gZnJvbSAnLi4vc3RhdHMvVmlld1N0YXRlJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgVG9vbGJhciB9IGZyb20gJy4vVG9vbGJhcic7XG5pbXBvcnQgeyB0LCBMYW5ndWFnZSB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJzsgXG5cblxuZXhwb3J0IGludGVyZmFjZSBCYXRjaEFjdGlvbkNhbGxiYWNrcyB7XG4gIG9uU2VsZWN0QWxsOiAoKSA9PiB2b2lkO1xuICBvbkRlc2VsZWN0QWxsOiAoKSA9PiB2b2lkO1xuICBvbkJhdGNoQ3JlYXRlOiAoKSA9PiB2b2lkO1xuICBvbkJhdGNoRGVsZXRlOiAoKSA9PiB2b2lkO1xuICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEJhdGNoQWN0aW9ucyB7XG4gIHByaXZhdGUgc3RhdGU6IFZpZXdTdGF0ZTtcbiAgcHJpdmF0ZSBjYWxsYmFja3M6IEJhdGNoQWN0aW9uQ2FsbGJhY2tzO1xuICBwcml2YXRlIHRvb2xiYXI/OiBUb29sYmFyOyBcbiAgcHJpdmF0ZSBsYW5ndWFnZTogTGFuZ3VhZ2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhdGU6IFZpZXdTdGF0ZSwgXG4gICAgY2FsbGJhY2tzOiBCYXRjaEFjdGlvbkNhbGxiYWNrcyxcbiAgICB0b29sYmFyPzogVG9vbGJhcixcbiAgICBsYW5ndWFnZTogTGFuZ3VhZ2UgPSAnZW4nXG4gICkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgICB0aGlzLnRvb2xiYXIgPSB0b29sYmFyO1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTsgXG4gIH1cbiAgcHJpdmF0ZSB0KGtleTogc3RyaW5nLCBwYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogc3RyaW5nIHtcbiAgICByZXR1cm4gdChrZXksIHRoaXMubGFuZ3VhZ2UsIHBhcmFtcyk7XG4gIH1cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1NTE2OFx1OTAwOVx1NjMwOVx1OTRBRVxuICAgKi9cbiAgcmVuZGVyU2VsZWN0QWxsQnV0dG9uKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIFxuICAgIHZpc2libGVJdGVtczogQ29udGVudFVuaXRbXSB8IEZsYXNoY2FyZFtdLFxuICAgIHN0eWxlQ2xhc3M6ICdzaWRlYmFyJyB8ICdoZWFkZXInXG4gICk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBidG5DbGFzcyA9IHN0eWxlQ2xhc3MgPT09ICdzaWRlYmFyJyBcbiAgICAgID8gJ3NlbGVjdC1hbGwtYnRuLXNpZGViYXInIFxuICAgICAgOiAnc2VsZWN0LWFsbC1idG4taGVhZGVyJztcbiAgICBcbiAgICBjb25zdCBpc0FsbENoZWNrZWQgPSB0aGlzLnN0YXRlLmlzQWxsU2VsZWN0ZWQodmlzaWJsZUl0ZW1zKTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSB2aXNpYmxlSXRlbXMubGVuZ3RoO1xuICAgIFxuICAgIGNvbnN0IHNlbGVjdEFsbEJ0biA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogaXNBbGxDaGVja2VkIFxuICAgICAgPyBgXHUyNzEzICR7dGhpcy50KCdiYXRjaC5kZXNlbGVjdEFsbCcpfWAgIFxuICAgICAgOiBgXHUyNjEwICR7dGhpcy50KCdiYXRjaC5zZWxlY3RBbGwnKX1gLCAgIFxuICAgIGNsczogYCR7YnRuQ2xhc3N9ICR7aXNBbGxDaGVja2VkID8gJ2NvbXBsZXRlZCcgOiAnJ31gLFxuICAgIHRpdGxlOiBpc0FsbENoZWNrZWQgXG4gICAgICA/IHRoaXMudCgnYmF0Y2guZGVzZWxlY3RBbGwudG9vbHRpcCcpICBcbiAgICAgIDogdGhpcy50KCdiYXRjaC5zZWxlY3RBbGwudG9vbHRpcCcsIHsgY291bnQ6IGl0ZW1Db3VudCB9KSBcbiAgfSk7XG4gICAgXG4gICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9IChcbiAgICAgIGl0ZW1Db3VudCA9PT0gMCB8fFxuICAgICAgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnYW5ub3RhdGlvbicgJiYgXG4gICAgICAgdGhpcy5zdGF0ZS5kaXNwbGF5TW9kZSA9PT0gJ21haW4nICYmIFxuICAgICAgICF0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSlcbiAgICApO1xuICAgIFxuICAgIGlmIChzaG91bGREaXNhYmxlKSB7XG4gICAgICBzZWxlY3RBbGxCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgc2VsZWN0QWxsQnRuLnN0eWxlLm9wYWNpdHkgPSAnMC41JztcbiAgICAgIHNlbGVjdEFsbEJ0bi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xuICAgICAgc2VsZWN0QWxsQnRuLnRpdGxlID0gaXRlbUNvdW50ID09PSAwIFxuICAgICAgICA/IHRoaXMudCgnYmF0Y2gubm9JdGVtcycpICBcbiAgICAgICAgOiB0aGlzLnQoJ2JhdGNoLnNlbGVjdEFubm90YXRpb25GaXJzdCcpO1xuICAgIH1cbiAgICBcbiAgICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICAgICAgXG4gICAgICBpZiAoaXNBbGxDaGVja2VkKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRGVzZWxlY3RBbGwoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uU2VsZWN0QWxsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHNlbGVjdEFsbEJ0bjtcbiAgfVxuICAvLyBcdTY1QjBcdTU4OUU6XHU2RTMyXHU2N0QzXHU1OTBEXHU0RTYwXHU2OEMwXHU2N0U1XHU2MzA5XHU5NEFFKFx1NzJFQ1x1N0FDQlx1NjVCOVx1NkNENSlcbiAgcmVuZGVyUmV2aWV3Q2hlY2tCdXR0b24oY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbW9kZTogJ3NpZGViYXInIHwgJ2hlYWRlcicpOiB2b2lkIHtcbiAgICBpZiAobW9kZSA9PT0gJ3NpZGViYXInICYmIHRoaXMudG9vbGJhcikge1xuICAgICAgdGhpcy50b29sYmFyLnJlbmRlclJldmlld0NoZWNrQnV0dG9uKGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUNcdTYzMDlcdTk0QUVcdTdFQzRcbiAgICovXG4gIHJlbmRlckFjdGlvbkJ1dHRvbnMoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBzdHlsZUNsYXNzOiAnc2lkZWJhcicgfCAnaGVhZGVyJ1xuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYmF0Y2hNb2RlKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgYnRuUHJlZml4ID0gc3R5bGVDbGFzcyA9PT0gJ3NpZGViYXInID8gJ3NpZGViYXInIDogJ2hlYWRlcic7XG4gICAgXG4gICAgLy8gXHU1MjM2XHU1MzYxXHU2MzA5XHU5NEFFXHVGRjA4XHU0RUM1XHU3QjE0XHU4QkIwXHU4OUM2XHU1NkZFXHVGRjA5XG4gICAgaWYgKHRoaXMuc3RhdGUudmlld1R5cGUgPT09ICdub3RlcycpIHtcbiAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFVuaXRJZHMuc2l6ZTtcbiAgICAgIGNvbnN0IGNyZWF0ZUJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uKFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHN0eWxlQ2xhc3MgPT09ICdzaWRlYmFyJyBcbiAgICAgICAgPyBgXHUyNkExKCR7Y291bnR9KWAgXG4gICAgICAgIDogYFx1MjZBMSAke3RoaXMudCgnYmF0Y2guY3JlYXRlJyl9ICgke2NvdW50fSlgLFxuICAgICAgYGJhdGNoLWNyZWF0ZS1jYXJkcy1idG4tJHtidG5QcmVmaXh9YCxcbiAgICAgIHRoaXMudCgnYmF0Y2guY3JlYXRlLnRvb2x0aXAnKSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAvLyBcdThGRDlcdTkxQ0NcdTVFOTRcdThCRTVcdTg5RTZcdTUzRDEgTm90aWNlXHVGRjBDXHU0RjQ2XHU0RTNBXHU0RTg2XHU4OUUzXHU4MDI2XHVGRjBDXHU5MDFBXHU4RkM3XHU1NkRFXHU4QzAzXHU1OTA0XHU3NDA2XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkJhdGNoQ3JlYXRlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uQmF0Y2hDcmVhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNyZWF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgICAgICBjcmVhdGVCdG4uc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcbiAgICAgICAgY3JlYXRlQnRuLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjcmVhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICAgICAgY3JlYXRlQnRuLnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJztcbiAgICAgICAgY3JlYXRlQnRuLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU1MjIwXHU5NjY0XHU2MzA5XHU5NEFFXG4gICAgY29uc3QgY291bnQgPSB0aGlzLnN0YXRlLmdldFNlbGVjdGVkQ291bnQoKTtcbiAgICBjb25zdCBkZWxldGVCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHN0eWxlQ2xhc3MgPT09ICdzaWRlYmFyJyBcbiAgICAgID8gYFx1RDgzRFx1REREMVx1RkUwRigke2NvdW50fSlgIFxuICAgICAgOiBgXHVEODNEXHVEREQxXHVGRTBGICR7dGhpcy50KCdiYXRjaC5kZWxldGUnKX0gKCR7Y291bnR9KWAsIFxuICAgIGBiYXRjaC1kZWxldGUtYnRuLSR7YnRuUHJlZml4fWAsXG4gICAgdGhpcy50KCdiYXRjaC5kZWxldGUudG9vbHRpcCcpLCBcbiAgICAgICgpID0+IHRoaXMuY2FsbGJhY2tzLm9uQmF0Y2hEZWxldGUoKVxuICAgICk7XG4gICAgXG4gICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gICAgICBkZWxldGVCdG4uc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1jb2xvci1yZWQpJztcbiAgICAgIGRlbGV0ZUJ0bi5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG4gICAgfSk7XG4gICAgXG4gICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gICAgICBkZWxldGVCdG4uc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgICAgZGVsZXRlQnRuLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU1M0Q2XHU2RDg4XHU2MzA5XHU5NEFFXG4gICAgY29uc3QgY2FuY2VsQnRuID0gdGhpcy5jcmVhdGVCdXR0b24oXG4gICAgICBjb250YWluZXIsXG4gICAgICBzdHlsZUNsYXNzID09PSAnc2lkZWJhcicgXG4gICAgICA/ICdcdTI3MTUnIFxuICAgICAgOiBgXHUyNzE1ICR7dGhpcy50KCdiYXRjaC5jYW5jZWwnKX1gLCBcbiAgICBgY2FuY2VsLXNlbGVjdGlvbi1idG4tJHtidG5QcmVmaXh9YCxcbiAgICB0aGlzLnQoJ2JhdGNoLmNhbmNlbC50b29sdGlwJyksIFxuICAgICgpID0+IHRoaXMuY2FsbGJhY2tzLm9uQ2FuY2VsKClcbiAgICBcbiAgICApO1xuXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUJ1dHRvbihcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHRleHQ6IHN0cmluZyxcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIG9uQ2xpY2s6ICgpID0+IHZvaWRcbiAgKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGJ0biA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dCxcbiAgICAgIGNsczogY2xhc3NOYW1lLFxuICAgICAgdGl0bGVcbiAgICB9KTtcbiAgICBcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBvbkNsaWNrKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJ0bjtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTYyNzlcdTkxQ0ZcdTkwMDlcdTYyRTkgQ2hlY2tib3hcbiAgICovXG4gIHJlbmRlckNoZWNrYm94KFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgaXRlbUlkOiBzdHJpbmcsXG4gICAgaXNTZWxlY3RlZDogYm9vbGVhbixcbiAgICBvbkNoYW5nZTogKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHZvaWRcbiAgKTogSFRNTElucHV0RWxlbWVudCB7XG4gICAgY29uc3QgY2hlY2tib3ggPSBjb250YWluZXIuY3JlYXRlRWwoJ2lucHV0Jywge1xuICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgIGNsczogJ2JhdGNoLWNoZWNrYm94J1xuICAgIH0pO1xuICAgIFxuICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZSgnZGF0YS1pdGVtLWlkJywgaXRlbUlkKTtcbiAgICBjaGVja2JveC5jaGVja2VkID0gaXNTZWxlY3RlZDtcbiAgICBcbiAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uQ2hhbmdlKChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gY2hlY2tib3g7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvQ29udGVudENhcmQudHMgIFx1NTM2MVx1NzI0N1x1NTE4NVx1NUJCOVxuLy8gaW1wb3J0IHsgU3R5bGVMb2FkZXIgfSBmcm9tICcuLi9zdHlsZS9zaWRlYmFyU3R5bGUnXG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IFZpZXdTdGF0ZSB9IGZyb20gJy4uL3N0YXRzL1ZpZXdTdGF0ZSc7XG5pbXBvcnQgeyBNYXJrZG93blJlbmRlcmVyIH0gZnJvbSAnb2JzaWRpYW4nOyAvLyBcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkQ2FsbGJhY2tzIHtcbiAgb25KdW1wVG9Tb3VyY2U6ICh1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25KdW1wVG9GbGFzaGNhcmQ/OiAoY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkOyBcbiAgb25Ub2dnbGVBbm5vdGF0aW9uOiAoY2FyZDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvblF1aWNrRmxhc2hjYXJkOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uU2hvd0NvbnRleHRNZW51OiAoZXZlbnQ6IE1vdXNlRXZlbnQsIHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvbkZsYXNoY2FyZENvbnRleHRNZW51PzogKGV2ZW50OiBNb3VzZUV2ZW50LCBjYXJkOiBGbGFzaGNhcmQpID0+IHZvaWQ7XG4gIGdldEFubm90YXRpb25Db250ZW50PzogKHVuaXRJZDogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGdldENvbnRlbnRVbml0PzogKHVuaXRJZDogc3RyaW5nKSA9PiBDb250ZW50VW5pdCB8IHVuZGVmaW5lZDsgIFxufVxuXG5leHBvcnQgY2xhc3MgQ29udGVudENhcmQge1xuICBwcml2YXRlIHN0YXRlOiBWaWV3U3RhdGU7XG4gIHByaXZhdGUgY2FsbGJhY2tzOiBDYXJkQ2FsbGJhY2tzO1xuXG4gIGNvbnN0cnVjdG9yKHN0YXRlOiBWaWV3U3RhdGUsIGNhbGxiYWNrczogQ2FyZENhbGxiYWNrcykge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTdEMjdcdTUxRDFcdTUzNjFcdTcyNDdcdUZGMDhcdTRGQTdcdThGQjlcdTY4MEZcdTZBMjFcdTVGMEZcdUZGMDlcbiAgICovXG4gIHJlbmRlckNvbXBhY3QoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCBjYXJkID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NvbXBhY3QtY2FyZCcgfSk7XG4gICAgY2FyZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdW5pdC1pZCcsIHVuaXQuaWQpO1xuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nQ2FyZCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbZGF0YS11bml0LWlkPVwiJHt1bml0LmlkfVwiXWApO1xuICAgIGlmIChleGlzdGluZ0NhcmQ/LmdldEF0dHJpYnV0ZSgnZGF0YS1lZGl0aW5nJykgPT09ICd0cnVlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBcdTJCNTAgXHU0RjdGXHU3NTI4XHU2MzU1XHU4M0I3XHU5NjM2XHU2QkI1ICsgbW91c2Vkb3duXHVGRjBDXHU0RjQ2XHU0RTBEXHU4QzAzXHU3NTI4IHByZXZlbnREZWZhdWx0XG4gICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgLy8gXHUyQjUwIFx1NTNFQVx1NTkwNFx1NzQwNlx1NURFNlx1OTUyRVx1NzBCOVx1NTFGQlxuICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBcbiAgICAgIC8vIFx1NjM5Mlx1OTY2NFx1NURFNVx1NTE3N1x1NjMwOVx1OTRBRVx1N0I0OVxuICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuY2FyZC10b29scycpIHx8IFxuICAgICAgICAgIHRhcmdldC5jbG9zZXN0KCcuYmF0Y2gtY2hlY2tib3gnKSB8fFxuICAgICAgICAgIHRhcmdldC5jbG9zZXN0KCcuYW5ub3RhdGlvbi1idG4nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFx1NjM5Mlx1OTY2NFx1N0YxNlx1OEY5MVx1NTY2OFx1NTE4NVx1OTBFOFxuICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gIC8vIFx1MkI1MCBcdTcwQjlcdTUxRkJcdTUxODVcdTVCQjlcdTUzM0FcdTU3REZcdTYyNTNcdTVGMDBcdTYyNzlcdTZDRThcbiAgaWYgKHRhcmdldC5jbG9zZXN0KCcubm90ZS10ZXh0JykgfHwgdGFyZ2V0LmNsb3Nlc3QoJy5hbm5vdGF0aW9uLXByZXZpZXcnKSkge1xuICAgIFxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gXHUyQjUwIFx1OTYzQlx1NkI2Mlx1OUVEOFx1OEJBNFx1ODg0Q1x1NEUzQSxcdTk2MzJcdTZCNjJcdTVFNzJcdTYyNzBcdTgwNUFcdTcxMjZcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24oY2FyZCwgdW5pdCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpOyAvLyBcdTJCNTAgZmFsc2UgPSBcdTUxOTJcdTZDRTFcdTk2MzZcdTZCQjVcdUZGMDhcdTlFRDhcdThCQTRcdUZGMDlcbiAgXG4gICAgLy8gXHU2Mjc5XHU5MUNGXHU5MDA5XHU2MkU5IGNoZWNrYm94XG4gICAgaWYgKHRoaXMuc3RhdGUuYmF0Y2hNb2RlKSB7XG4gICAgICB0aGlzLnJlbmRlckNoZWNrYm94KGNhcmQsIHVuaXQuaWQsIHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzLmhhcyh1bml0LmlkKSk7XG4gICAgfVxuICBcbiAgICAvLyBcdTVERTZcdTRGQTdcdTYzMDdcdTc5M0FcdTU2NjhcbiAgICB0aGlzLnJlbmRlckluZGljYXRvcihjYXJkLCB1bml0KTtcbiAgXG4gICAgLy8gXHU1MTg1XHU1QkI5XHU1MzNBXHU1N0RGXG4gICAgY29uc3QgY29udGVudCA9IGNhcmQuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1jb250ZW50JyB9KTtcbiAgICB0aGlzLnJlbmRlckNhcmRIZWFkZXIoY29udGVudCwgY2FyZCwgdW5pdCk7XG4gICAgdGhpcy5yZW5kZXJDYXJkQ29udGVudChjb250ZW50LCB1bml0KTtcbiAgICB0aGlzLnJlbmRlckFubm90YXRpb25QcmV2aWV3KGNvbnRlbnQsIGNhcmQsIHVuaXQpO1xuICAgIHRoaXMucmVuZGVyQ2FyZE1ldGEoY29udGVudCwgdW5pdCk7XG4gIH1cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1N0Y1MVx1NjgzQ1x1NTM2MVx1NzI0N1x1RkYwOFx1NEUzQlx1NzU0Q1x1OTc2Mlx1NkEyMVx1NUYwRlx1RkYwOVxuICAgKi9cbnJlbmRlckdyaWQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgY29uc3QgY2FyZCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQnIH0pO1xuICBjYXJkLnNldEF0dHJpYnV0ZSgnZGF0YS11bml0LWlkJywgdW5pdC5pZCk7IC8vIFx1MkI1MCBcdTZERkJcdTUyQTBcdThGRDlcdTg4NENcdUZGMENcdTY1QjlcdTRGQkZcdTY3RTVcdTYyN0VcbiAgXG4gIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIFxuICAgIC8vIFx1NjM5Mlx1OTY2NFx1NURFNVx1NTE3N1x1NjMwOVx1OTRBRVx1MzAwMWNoZWNrYm94XHUzMDAxaGVhZGVyXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuZ3JpZC1jYXJkLXRvb2xzJykgfHwgXG4gICAgICAgIHRhcmdldC5jbG9zZXN0KCcuYmF0Y2gtY2hlY2tib3gnKSB8fFxuICAgICAgICB0YXJnZXQuY2xvc2VzdCgnLmdyaWQtY2FyZC1oZWFkZXInKSB8fFxuICAgICAgICB0YXJnZXQuY2xvc2VzdCgnLmRvYy1uYW1lJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU3MEI5XHU1MUZCXHU1MTg1XHU1QkI5XHU1MzNBXHU1N0RGID0gXHU2MjUzXHU1RjAwXHU2Mjc5XHU2Q0U4XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuZ3JpZC1jYXJkLWNvbnRlbnQnKSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICB9XG4gIH0pO1xuICBcbiAgY2FyZC5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG5cbiAgaWYgKHRoaXMuc3RhdGUuYmF0Y2hNb2RlKSB7XG4gICAgdGhpcy5yZW5kZXJDaGVja2JveChjYXJkLCB1bml0LmlkLCB0aGlzLnN0YXRlLnNlbGVjdGVkVW5pdElkcy5oYXModW5pdC5pZCkpO1xuICB9XG5cbiAgY29uc3QgaGVhZGVyID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtaGVhZGVyJyB9KTtcbiAgdGhpcy5yZW5kZXJUeXBlSW5kaWNhdG9yKGhlYWRlciwgdW5pdCk7XG4gIFxuICBjb25zdCBmaWxlTmFtZSA9IHRoaXMucmVuZGVyRmlsZU5hbWUoaGVhZGVyLCB1bml0KTtcbiAgZmlsZU5hbWUub25jbGljayA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLmNhbGxiYWNrcy5vbkp1bXBUb1NvdXJjZSh1bml0KTtcbiAgfTtcbiAgZmlsZU5hbWUuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICBcbiAgdGhpcy5yZW5kZXJHcmlkVG9vbHMoaGVhZGVyLCB1bml0KTtcblxuICBjb25zdCBjb250ZW50ID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtY29udGVudCcgfSk7XG4gIGNvbnRlbnQuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICBcbiAgdGhpcy5yZW5kZXJHcmlkQ29udGVudChjb250ZW50LCBjYXJkLCB1bml0KTtcbiAgdGhpcy5yZW5kZXJHcmlkQW5ub3RhdGlvbihjb250ZW50LCBjYXJkLCB1bml0KTtcbiAgdGhpcy5yZW5kZXJHcmlkVGFncyhjb250ZW50LCB1bml0KTtcblxuICBjb25zdCBtZXRhID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLWNhcmQtbWV0YScgfSk7XG4gIHRoaXMucmVuZGVyR3JpZE1ldGEobWV0YSwgdW5pdCk7XG59XG5cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1OTVFQVx1NTM2MVx1N0Y1MVx1NjgzQ1xuICAgKi9cbiAgcmVuZGVyRmxhc2hjYXJkR3JpZChjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYXJkOiBGbGFzaGNhcmQpOiB2b2lkIHtcbiAgICBjb25zdCBjYXJkRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkIGZsYXNoY2FyZC1ncmlkLWNhcmQnIH0pO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuYmF0Y2hNb2RlKSB7XG4gICAgICB0aGlzLnJlbmRlckNoZWNrYm94KGNhcmRFbCwgY2FyZC5pZCwgdGhpcy5zdGF0ZS5zZWxlY3RlZENhcmRJZHMuaGFzKGNhcmQuaWQpKTtcbiAgICB9XG5cbiAgICBjb25zdCBoZWFkZXIgPSBjYXJkRWwuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkLWhlYWRlcicgfSk7XG4gICAgY29uc3QgY2FyZFR5cGUgPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC10eXBlLWJhZGdlJyB9KTtcbiAgICBjYXJkVHlwZS50ZXh0Q29udGVudCA9IGNhcmQudHlwZSA9PT0gJ3FhJyA/ICdRJkEnIDogJ0Nsb3plJztcbiAgICBjYXJkVHlwZS5hZGRDbGFzcyhgdHlwZS0ke2NhcmQudHlwZX1gKTtcbiAgICBcbiAgICBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIShlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnLmJhdGNoLWNoZWNrYm94JykpIHtcbiAgICAgICAgLy8gXHU0RjdGXHU3NTI4XHU2NUIwXHU3Njg0XHU1NkRFXHU4QzAzXHU1OTA0XHU3NDA2IGZsYXNoY2FyZCBcdThERjNcdThGNkNcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uSnVtcFRvRmxhc2hjYXJkKSB7XG4gICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25KdW1wVG9GbGFzaGNhcmQoY2FyZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgY29uc3QgdG9vbHMgPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkLXRvb2xzJyB9KTtcbiAgICBjb25zdCBtb3JlQnRuID0gdG9vbHMuY3JlYXRlRGl2KHsgY2xzOiAndG9vbC1idG4tZ3JpZCcgfSk7XG4gICAgbW9yZUJ0bi5pbm5lckhUTUwgPSAnXHUyMkVFJztcbiAgICBtb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uRmxhc2hjYXJkQ29udGV4dE1lbnUpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25GbGFzaGNhcmRDb250ZXh0TWVudShlLCBjYXJkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRlbnQgPSBjYXJkRWwuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkLWNvbnRlbnQnIH0pO1xuICAgIHRoaXMucmVuZGVyRmxhc2hjYXJkQ29udGVudChjb250ZW50LCBjYXJkKTtcblxuICAgIGNvbnN0IG1ldGEgPSBjYXJkRWwuY3JlYXRlRGl2KHsgY2xzOiAnZ3JpZC1jYXJkLW1ldGEnIH0pO1xuICAgIHRoaXMucmVuZGVyRmxhc2hjYXJkTWV0YShtZXRhLCBjYXJkKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU2RTMyXHU2N0QzXHU2NUI5XHU2Q0Q1ID09PT09PT09PT1cblxuICBwcml2YXRlIHJlbmRlckNoZWNrYm94KGNhcmQ6IEhUTUxFbGVtZW50LCBpdGVtSWQ6IHN0cmluZywgaXNDaGVja2VkOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgY2hlY2tib3ggPSBjYXJkLmNyZWF0ZUVsKCdpbnB1dCcsIHtcbiAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICBjbHM6ICdiYXRjaC1jaGVja2JveCdcbiAgICB9KTtcbiAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaXRlbS1pZCcsIGl0ZW1JZCk7XG4gICAgY2hlY2tib3guY2hlY2tlZCA9IGlzQ2hlY2tlZDtcbiAgICBcbiAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRDYXJkSWRzLmFkZChpdGVtSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzLmFkZChpdGVtSWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS52aWV3VHlwZSA9PT0gJ2NhcmRzJykge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRDYXJkSWRzLmRlbGV0ZShpdGVtSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRVbml0SWRzLmRlbGV0ZShpdGVtSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBcdTg5RTZcdTUzRDFcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdUZGMDhcdTkwMUFcdThGQzdcdTU2REVcdThDMDNcdUZGMDlcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVySW5kaWNhdG9yKGNhcmQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IGluZGljYXRvciA9IGNhcmQuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1pbmRpY2F0b3InIH0pO1xuXG4gICAgaWYgKHVuaXQudHlwZSA9PT0gJ1FBJykge1xuICAgICAgaW5kaWNhdG9yLmFkZENsYXNzKCd0eXBlLXFhJyk7XG4gICAgfSBlbHNlIGlmICh1bml0LnR5cGUgPT09ICdjbG96ZScpIHtcbiAgICAgIGluZGljYXRvci5hZGRDbGFzcygndHlwZS1jbG96ZScpO1xuICAgIH0gZWxzZSBpZiAodW5pdC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgIGluZGljYXRvci5hZGRDbGFzcygndHlwZS10ZXh0Jyk7XG4gICAgfVxuXG4gICAgaWYgKHVuaXQuYW5ub3RhdGlvbklkKSBpbmRpY2F0b3IuYWRkQ2xhc3MoJ2hhcy1hbm5vdGF0aW9uJyk7XG4gICAgaWYgKHVuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aCA+IDApIGluZGljYXRvci5hZGRDbGFzcygnaGFzLWZsYXNoY2FyZCcpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJDYXJkSGVhZGVyKGNvbnRlbnQ6IEhUTUxFbGVtZW50LCBjYXJkOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCBoZWFkZXIgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2NhcmQtaGVhZGVyJyB9KTtcbiAgICBcbiAgICAvLyBcdTJCNTAgXHU1REU2XHU0RkE3XHU2Mjc5XHU2Q0U4XHU2MzA5XHU5NEFFXHU1MzNBXHU1N0RGIC0gXHU3MEI5XHU1MUZCXHU4REYzXHU4RjZDXHU1MzlGXHU2NTg3XG4gICAgY29uc3QgYW5ub3RhdGlvbkJ0biA9IGhlYWRlci5jcmVhdGVEaXYoeyBjbHM6ICdhbm5vdGF0aW9uLWJ0bicgfSk7XG4gICAgdGhpcy5yZW5kZXJTaWRlTGluZShhbm5vdGF0aW9uQnRuLCB1bml0KTtcbiAgICBcbiAgICAvLyBcdTJCNTAgXHU0RjdGXHU3NTI4IG1vdXNlZG93biBcdTRFRTNcdTY2RkYgY2xpY2tcdUZGMENcdTVFNzZcdTRFMTRcdTUzRUEgc3RvcFByb3BhZ2F0aW9uXG4gICAgYW5ub3RhdGlvbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uSnVtcFRvU291cmNlKHVuaXQpO1xuICAgIH0pO1xuICAgIGFubm90YXRpb25CdG4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICBcbiAgICAvLyBcdTJCNTAgXHU1M0YzXHU0RkE3XHU1REU1XHU1MTc3XHU2MzA5XHU5NEFFXHU1MzNBXHU1N0RGXG4gICAgY29uc3QgdG9vbHMgPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC10b29scycgfSk7XG4gICAgXG4gICAgLy8gXHU5NjNCXHU2QjYyXHU1REU1XHU1MTc3XHU1MzNBXHU1N0RGXHU0RThCXHU0RUY2XHU1MTkyXHU2Q0UxXG4gICAgdG9vbHMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gIFxuICAgIGlmICghdGhpcy5zdGF0ZS5iYXRjaE1vZGUpIHtcbiAgICAgIGNvbnN0IGZsYXNoY2FyZEJ0biA9IHRvb2xzLmNyZWF0ZURpdih7IGNsczogJ3Rvb2wtYnRuIGZsYXNoY2FyZC1idG4nIH0pO1xuICAgICAgZmxhc2hjYXJkQnRuLmlubmVySFRNTCA9ICdcdTI2QTEnO1xuICAgICAgZmxhc2hjYXJkQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdHZW5lcmF0ZSBGbGFzaGNhcmRzJyk7XG4gICAgICBmbGFzaGNhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25RdWlja0ZsYXNoY2FyZCh1bml0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgXG4gICAgY29uc3QgbW9yZUJ0biA9IHRvb2xzLmNyZWF0ZURpdih7IGNsczogJ3Rvb2wtYnRuIG1vcmUtYnRuJyB9KTtcbiAgICBtb3JlQnRuLmlubmVySFRNTCA9ICdcdTIyRUUnO1xuICAgIG1vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblNob3dDb250ZXh0TWVudShlLCB1bml0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ2FyZENvbnRlbnQoY29udGVudDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gICAgY29uc3Qgbm90ZVRleHQgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ25vdGUtdGV4dCcgfSk7XG4gIFxuICAgIGlmICh0aGlzLmlzVGFibGVDb250ZW50KHVuaXQuZnVsbENvbnRleHQgfHwgdW5pdC5jb250ZW50KSkge1xuICAgICAgdGhpcy5yZW5kZXJNYXJrZG93bkNvbnRlbnQobm90ZVRleHQsIHVuaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZGlzcGxheUhUTUwgPSB0aGlzLmZvcm1hdENvbnRlbnQodW5pdCk7XG4gICAgICBub3RlVGV4dC5pbm5lckhUTUwgPSBkaXNwbGF5SFRNTDtcbiAgICB9XG4gIFxuICAgIC8vIFx1MkI1MCBcdTUzRUFcdThCQkVcdTdGNkVcdTY4MzdcdTVGMEYsXHU0RTBEXHU3RUQxXHU1QjlBXHU0RThCXHU0RUY2XG4gICAgbm90ZVRleHQuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICB9XG4gIFxuXG4gIHByaXZhdGUgZm9ybWF0Q29udGVudCh1bml0OiBDb250ZW50VW5pdCk6IHN0cmluZyB7XG4gICAgaWYgKHVuaXQudHlwZSA9PT0gJ1FBJyAmJiB1bml0LmFuc3dlcikge1xuICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cInFhLXF1ZXN0aW9uXCI+JHt1bml0LmNvbnRlbnR9PC9zcGFuPiA8c3BhbiBjbGFzcz1cInFhLXNlcGFyYXRvclwiPjo6PC9zcGFuPiA8c3BhbiBjbGFzcz1cInFhLWFuc3dlclwiPiR7dW5pdC5hbnN3ZXJ9PC9zcGFuPmA7XG4gICAgfSBlbHNlIGlmICh1bml0LnR5cGUgPT09ICdjbG96ZScgJiYgdW5pdC5mdWxsQ29udGV4dCkge1xuICAgICAgbGV0IGNvbnRleHQgPSB1bml0LmZ1bGxDb250ZXh0LnJlcGxhY2UoLz09L2csICcnKTtcbiAgICAgIGNvbnN0IGFuc3dlciA9IHVuaXQuY29udGVudDtcbiAgICAgIHJldHVybiBjb250ZXh0LnJlcGxhY2UoXG4gICAgICAgIGFuc3dlciwgXG4gICAgICAgIGA8c3BhbiBjbGFzcz1cImNsb3plLWhpZ2hsaWdodFwiPiR7YW5zd2VyfTwvc3Bhbj5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5pdC5jb250ZW50O1xuICAgIH1cbiAgfVxuICBwcml2YXRlIHJlbmRlclNpZGVMaW5lKG1ldGE6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIG1ldGEuY3JlYXRlU3Bhbih7IHRleHQ6IGBMJHt1bml0LnNvdXJjZS5wb3NpdGlvbi5saW5lfWAsIGNsczogJ2xpbmUtaW5mbycgfSk7XG4gICAgXG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJBbm5vdGF0aW9uUHJldmlldyhcbiAgICBjb250ZW50OiBIVE1MRWxlbWVudCwgXG4gICAgY2FyZDogSFRNTEVsZW1lbnQsIFxuICAgIHVuaXQ6IENvbnRlbnRVbml0XG4gICk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBhbm5vdGF0aW9uQ29udGVudCA9IHRoaXMuY2FsbGJhY2tzLmdldEFubm90YXRpb25Db250ZW50KHVuaXQuaWQpO1xuICAgIGlmICghYW5ub3RhdGlvbkNvbnRlbnQpIHJldHVybjtcbiAgICBcbiAgICAvLyBcdTJCNTAgXHU3OUZCXHU5NjY0IGlzRWRpdGluZyBcdTY4QzBcdTY3RTUsXHU3NkY0XHU2M0E1XHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1REYyXHU2NzA5XHU5ODg0XHU4OUM4XG4gICAgY29uc3QgZXhpc3RpbmdQcmV2aWV3ID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCcuYW5ub3RhdGlvbi1wcmV2aWV3Jyk7XG4gICAgaWYgKGV4aXN0aW5nUHJldmlldykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTJCNTAgXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU2NzA5XHU3RjE2XHU4RjkxXHU1NjY4KFx1NjZGNFx1NTNFRlx1OTc2MClcbiAgICBjb25zdCBleGlzdGluZ0VkaXRvciA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpO1xuICAgIGlmIChleGlzdGluZ0VkaXRvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICBjb25zdCBhbm5FbCA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnYW5ub3RhdGlvbi1wcmV2aWV3JyB9KTtcbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGFubm90YXRpb25Db250ZW50Lmxlbmd0aCA+IDYwXG4gICAgICA/IGFubm90YXRpb25Db250ZW50LnN1YnN0cmluZygwLCA2MCkgKyAnLi4uJ1xuICAgICAgOiBhbm5vdGF0aW9uQ29udGVudDtcbiAgICBhbm5FbC50ZXh0Q29udGVudCA9IGBcdUQ4M0RcdURDQUMgJHtkaXNwbGF5VGV4dH1gO1xuICAgIFxuICAgIC8vIFx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlxuICAgIGFubkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24oY2FyZCwgdW5pdCk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gVGFiIFx1OTUyRVx1NEU4Qlx1NEVGNlxuICAgIGFubkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLm5vdGUtdGV4dCwgLmdyaWQtbm90ZS10ZXh0JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKG5vdGVUZXh0KSB7XG4gICAgICBub3RlVGV4dC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgYW5uRWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGFubkVsKTtcbiAgICB9XG4gICAgXG4gICAgYW5uRWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJDYXJkTWV0YShjb250ZW50OiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb25zdCBtZXRhID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLW1ldGEnIH0pO1xuICAgIGlmICh1bml0LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICBtZXRhLmNyZWF0ZVNwYW4oeyBcbiAgICAgICAgdGV4dDogYFx1RDgzQ1x1RENDRiAke3VuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aH1gLCBcbiAgICAgICAgY2xzOiAnYmFkZ2UnIFxuICAgICAgfSk7XG4gICAgfSBcbiAgICBpZiAodW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHVuaXQubWV0YWRhdGEudGFncy5zbGljZSgwLCAyKS5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgIG1ldGEuY3JlYXRlU3Bhbih7IHRleHQ6IGAke3RhZ31gLCBjbHM6ICd0YWcnIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAodW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgbWV0YS5jcmVhdGVTcGFuKHsgXG4gICAgICAgICAgdGV4dDogYCske3VuaXQubWV0YWRhdGEudGFncy5sZW5ndGggLSAyfWAsIFxuICAgICAgICAgIGNsczogJ3RhZy1tb3JlJyBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVHlwZUluZGljYXRvcihoZWFkZXI6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IHR5cGVJbmRpY2F0b3IgPSBoZWFkZXIuY3JlYXRlRGl2KHsgY2xzOiAndHlwZS1pbmRpY2F0b3InIH0pO1xuICAgIGlmICh1bml0LnR5cGUgPT09ICdRQScpIHtcbiAgICAgIHR5cGVJbmRpY2F0b3IuYWRkQ2xhc3MoJ3R5cGUtcWEnKTtcbiAgICAgIHR5cGVJbmRpY2F0b3IudGV4dENvbnRlbnQgPSAnUSZBJztcbiAgICB9IGVsc2UgaWYgKHVuaXQudHlwZSA9PT0gJ2Nsb3plJykge1xuICAgICAgdHlwZUluZGljYXRvci5hZGRDbGFzcygndHlwZS1jbG96ZScpO1xuICAgICAgdHlwZUluZGljYXRvci50ZXh0Q29udGVudCA9ICdDbG96ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGVJbmRpY2F0b3IuYWRkQ2xhc3MoJ3R5cGUtdGV4dCcpO1xuICAgICAgdHlwZUluZGljYXRvci50ZXh0Q29udGVudCA9ICdUZXh0JztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZpbGVOYW1lKGhlYWRlcjogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gdW5pdC5zb3VyY2UuZmlsZS5zcGxpdCgnLycpLnBvcCgpPy5yZXBsYWNlKCcubWQnLCAnJykgfHwgJyc7XG4gICAgY29uc3QgZmlsZU5hbWVTcGFuID0gaGVhZGVyLmNyZWF0ZVNwYW4oeyB0ZXh0OiBmaWxlTmFtZSwgY2xzOiAnZG9jLW5hbWUnIH0pO1xuICAgIHJldHVybiBmaWxlTmFtZVNwYW47XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckdyaWRUb29scyhoZWFkZXI6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IHRvb2xzID0gaGVhZGVyLmNyZWF0ZURpdih7IGNsczogJ2dyaWQtY2FyZC10b29scycgfSk7XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuYmF0Y2hNb2RlKSB7XG4gICAgICBjb25zdCBmbGFzaGNhcmRCdG4gPSB0b29scy5jcmVhdGVEaXYoeyBjbHM6ICd0b29sLWJ0bi1ncmlkJyB9KTtcbiAgICAgIGZsYXNoY2FyZEJ0bi5pbm5lckhUTUwgPSAnXHUyNkExJztcbiAgICAgIGZsYXNoY2FyZEJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnR2VuZXJhdGUgRmxhc2hjYXJkcycpO1xuICAgICAgZmxhc2hjYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25RdWlja0ZsYXNoY2FyZCh1bml0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IG1vcmVCdG4gPSB0b29scy5jcmVhdGVEaXYoeyBjbHM6ICd0b29sLWJ0bi1ncmlkJyB9KTtcbiAgICBtb3JlQnRuLmlubmVySFRNTCA9ICdcdTIyRUUnO1xuICAgIG1vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblNob3dDb250ZXh0TWVudShlLCB1bml0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyR3JpZENvbnRlbnQoY29udGVudDogSFRNTEVsZW1lbnQsIGNhcmQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGNvbnN0IG5vdGVUZXh0ID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdncmlkLW5vdGUtdGV4dCcgfSk7XG4gICAgXG4gICAgaWYgKHRoaXMuaXNUYWJsZUNvbnRlbnQodW5pdC5mdWxsQ29udGV4dCB8fCB1bml0LmNvbnRlbnQpKSB7XG4gICAgICB0aGlzLnJlbmRlck1hcmtkb3duQ29udGVudChub3RlVGV4dCwgdW5pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vdGVUZXh0LmlubmVySFRNTCA9IHRoaXMuZm9ybWF0Q29udGVudCh1bml0KTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1N0I4MFx1NTMxNlx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1RkYxQVx1NTNFQVx1NEZERFx1NzU1OSBjbGlja1xuICAgIG5vdGVUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIFxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8vIFx1MkI1MCBcdTc5RkJcdTk2NjQgcHJldmVudERlZmF1bHRcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVG9nZ2xlQW5ub3RhdGlvbihjYXJkLCB1bml0KTtcbiAgICB9KTtcbiAgICBcbiAgICBub3RlVGV4dC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gIH1cbiAgXG4gIHByaXZhdGUgcmVuZGVyR3JpZEFubm90YXRpb24oY29udGVudDogSFRNTEVsZW1lbnQsIGNhcmQ6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBhbm5vdGF0aW9uQ29udGVudCA9IHRoaXMuY2FsbGJhY2tzLmdldEFubm90YXRpb25Db250ZW50KHVuaXQuaWQpO1xuICAgIGlmIChhbm5vdGF0aW9uQ29udGVudCkge1xuICAgICAgY29uc3QgYW5uRWwgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2dyaWQtYW5ub3RhdGlvbicgfSk7XG4gICAgICBhbm5FbC5pbm5lckhUTUwgPSBgXHVEODNEXHVEQ0FDICR7YW5ub3RhdGlvbkNvbnRlbnR9YDtcbiAgICAgIFxuICAgICAgYW5uRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGFubkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24oY2FyZCwgdW5pdCk7XG4gICAgICB9KTtcbiAgXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJHcmlkVGFncyhjb250ZW50OiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBpZiAodW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRhZ3MgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2dyaWQtdGFncycgfSk7XG4gICAgICB1bml0Lm1ldGFkYXRhLnRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICB0YWdzLmNyZWF0ZVNwYW4oeyB0ZXh0OiBgJHt0YWd9YCwgY2xzOiAndGFnLWdyaWQnIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJHcmlkTWV0YShtZXRhOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBtZXRhLmNyZWF0ZVNwYW4oeyB0ZXh0OiBgTCR7dW5pdC5zb3VyY2UucG9zaXRpb24ubGluZX1gLCBjbHM6ICdsaW5lLWluZm8nIH0pO1xuICAgIFxuICAgIGlmICh1bml0LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICBtZXRhLmNyZWF0ZVNwYW4oeyBcbiAgICAgICAgdGV4dDogYFx1RDgzQ1x1RENDRiAke3VuaXQuZmxhc2hjYXJkSWRzLmxlbmd0aH1gLCBcbiAgICAgICAgY2xzOiAnYmFkZ2UtZ3JpZCcgXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZsYXNoY2FyZENvbnRlbnQoY29udGVudDogSFRNTEVsZW1lbnQsIGNhcmQ6IEZsYXNoY2FyZCk6IHZvaWQge1xuICAgIGNvbnN0IHF1ZXN0aW9uID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdmbGFzaGNhcmQtcXVlc3Rpb24nIH0pO1xuICAgIHF1ZXN0aW9uLmlubmVySFRNTCA9IGA8c3Ryb25nPlx1OTVFRVx1OTg5OFx1RkYxQTwvc3Ryb25nPiR7Y2FyZC5mcm9udH1gO1xuICAgIFxuICAgIGNvbnN0IGFuc3dlciA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnZmxhc2hjYXJkLWFuc3dlcicgfSk7XG4gICAgY29uc3QgYW5zd2VyVGV4dCA9IEFycmF5LmlzQXJyYXkoY2FyZC5iYWNrKSA/IGNhcmQuYmFjay5qb2luKCcsICcpIDogY2FyZC5iYWNrO1xuICAgIGFuc3dlci5pbm5lckhUTUwgPSBgPHN0cm9uZz5cdTdCNTRcdTY4NDhcdUZGMUE8L3N0cm9uZz4ke2Fuc3dlclRleHR9YDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmxhc2hjYXJkTWV0YShtZXRhOiBIVE1MRWxlbWVudCwgY2FyZDogRmxhc2hjYXJkKTogdm9pZCB7XG4gICAgbWV0YS5jcmVhdGVTcGFuKHtcbiAgICAgIHRleHQ6IHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShjYXJkLm1ldGFkYXRhLmNyZWF0ZWRBdCkpLFxuICAgICAgY2xzOiAnZmxhc2hjYXJkLWRhdGUnXG4gICAgfSk7XG4gICAgY29uc3QgcmV2aWV3SW5mbyA9IG1ldGEuY3JlYXRlRGl2KHsgY2xzOiAnZmxhc2hjYXJkLXJldmlldy1pbmZvJyB9KTtcbiAgXG4gICAgY29uc3QgZHVlRGF0ZSA9IG5ldyBEYXRlKGNhcmQuc2NoZWR1bGluZy5kdWUpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgaXNPdmVyZHVlID0gZHVlRGF0ZSA8IG5vdztcbiAgICBcbiAgICBjb25zdCB0aW1lVGV4dCA9IHRoaXMuZm9ybWF0UmV2aWV3VGltZShkdWVEYXRlLCBub3csIGlzT3ZlcmR1ZSk7XG4gICAgXG4gICAgcmV2aWV3SW5mby5pbm5lckhUTUwgPSBgXG4gICAgICA8c3BhbiBjbGFzcz1cInJldmlldy10aW1lICR7aXNPdmVyZHVlID8gJ292ZXJkdWUnIDogJ3VwY29taW5nJ31cIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXZpZXctdGV4dFwiPiR7dGltZVRleHR9PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicsIHtcbiAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgIG1vbnRoOiAnMi1kaWdpdCcsXG4gICAgICBkYXk6ICcyLWRpZ2l0J1xuICAgIH0pO1xuICB9XG4gIHByaXZhdGUgZm9ybWF0UmV2aWV3VGltZShkdWVEYXRlOiBEYXRlLCBub3c6IERhdGUsIGlzT3ZlcmR1ZTogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKGR1ZURhdGUuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjApKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA2MCkpO1xuICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKGhvdXJzIC8gMjQpO1xuICAgIFxuICAgIGlmIChpc092ZXJkdWUpIHtcbiAgICAgIGlmIChob3VycyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG1pbnV0ZXMgPCAxID8gJ1x1NTIxQVx1NTIxQVx1NTIzMFx1NjcxRicgOiBgXHU1RUY2XHU1NDBFICR7bWludXRlc30gXHU1MjA2XHU5NDlGYDtcbiAgICAgIH0gZWxzZSBpZiAoaG91cnMgPCAyNCkge1xuICAgICAgICByZXR1cm4gYFx1NUVGNlx1NTQwRSAke2hvdXJzfSBcdTVDMEZcdTY1RjZgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGBcdTVFRjZcdTU0MEUgJHtkYXlzfSBcdTU5MjlgO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaG91cnMgPCAxKSB7XG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfSBcdTUyMDZcdTk0OUZcdTU0MEVgO1xuICAgICAgfSBlbHNlIGlmIChob3VycyA8IDI0KSB7XG4gICAgICAgIHJldHVybiBgJHtob3Vyc30gXHU1QzBGXHU2NUY2XHU1NDBFYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBgJHtkYXlzfSBcdTU5MjlcdTU0MEVgO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFx1RDgzQ1x1REQ5NSBcdTZERkJcdTUyQTBcdTg4NjhcdTY4M0NcdTY4QzBcdTZENEJcdTY1QjlcdTZDRDVcbiAgcHJpdmF0ZSBpc1RhYmxlQ29udGVudChjb250ZW50OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICBpZiAoIWNvbnRlbnQpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQudHJpbSgpLnNwbGl0KCdcXG4nKTtcbiAgICByZXR1cm4gbGluZXMubGVuZ3RoID49IDIgJiYgXG4gICAgICAgICAgIGxpbmVzLmV2ZXJ5KGxpbmUgPT4gbGluZS5pbmNsdWRlcygnfCcpKSAmJlxuICAgICAgICAgICAhIWxpbmVzWzFdPy5tYXRjaCgvXlxccypcXHxbXFxzOi1dK1xcfC8pO1xuICB9XG5cbiAgLy8gXHVEODNDXHVERDk1IFx1NkRGQlx1NTJBMCBNYXJrZG93biBcdTZFMzJcdTY3RDNcdTY1QjlcdTZDRDVcbiAgcHJpdmF0ZSByZW5kZXJNYXJrZG93bkNvbnRlbnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdW5pdDogQ29udGVudFVuaXQpOiB2b2lkIHtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBcbiAgICBsZXQgY29udGVudCA9IHVuaXQuZnVsbENvbnRleHQgfHwgdW5pdC5jb250ZW50O1xuICAgIFxuICAgIC8vIFx1RDgzQ1x1REQ5NSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0FcdTg4NjhcdTY4M0NcbiAgICBpZiAodGhpcy5pc1RhYmxlQ29udGVudChjb250ZW50KSkge1xuICAgICAgLy8gXHU2MjRCXHU1MkE4XHU2RTMyXHU2N0QzXHU4ODY4XHU2ODNDXG4gICAgICB0aGlzLnJlbmRlclRhYmxlV2l0aEhpZ2hsaWdodHMoY29udGFpbmVyLCBjb250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU0RjdGXHU3NTI4IE1hcmtkb3duIFx1NkUzMlx1NjdEM1x1NTY2OFxuICAgICAgY29uc3QgeyBNYXJrZG93blJlbmRlcmVyIH0gPSByZXF1aXJlKCdvYnNpZGlhbicpO1xuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPT0oW149XSspPT0vZywgJzxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+JDE8L3NwYW4+Jyk7XG4gICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlck1hcmtkb3duKGNvbnRlbnQsIGNvbnRhaW5lciwgdW5pdC5zb3VyY2UuZmlsZSwgbnVsbCk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBcdUQ4M0NcdUREOTUgXHU2REZCXHU1MkEwXHU2MjRCXHU1MkE4XHU4ODY4XHU2ODNDXHU2RTMyXHU2N0QzXHU2NUI5XHU2Q0Q1XG5wcml2YXRlIHJlbmRlclRhYmxlV2l0aEhpZ2hsaWdodHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbWFya2Rvd246IHN0cmluZyk6IHZvaWQge1xuICBcbiAgY29uc3QgbGluZXMgPSBtYXJrZG93bi50cmltKCkuc3BsaXQoJ1xcbicpO1xuICBcbiAgY29uc3QgdGFibGUgPSBjb250YWluZXIuY3JlYXRlRWwoJ3RhYmxlJywgeyBjbHM6ICdsZWFybmluZy1zeXN0ZW0tdGFibGUnIH0pO1xuICBcbiAgLy8gXHU4OUUzXHU2NzkwXHU4ODY4XHU1OTM0XG4gIGNvbnN0IGhlYWRlckNlbGxzID0gbGluZXNbMF1cbiAgICAuc3BsaXQoJ3wnKVxuICAgIC5tYXAoYyA9PiBjLnRyaW0oKSlcbiAgICAuZmlsdGVyKGMgPT4gYyk7XG4gIFxuICBcbiAgY29uc3QgdGhlYWQgPSB0YWJsZS5jcmVhdGVFbCgndGhlYWQnKTtcbiAgY29uc3QgaGVhZGVyUm93ID0gdGhlYWQuY3JlYXRlRWwoJ3RyJyk7XG4gIGhlYWRlckNlbGxzLmZvckVhY2goKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgdGggPSBoZWFkZXJSb3cuY3JlYXRlRWwoJ3RoJyk7XG4gICAgXG4gICAgaWYgKGNlbGwuaW5jbHVkZXMoJz09JykpIHtcbiAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGNlbGwucmVwbGFjZShcbiAgICAgICAgLz09KFtePV0rKT09L2csIFxuICAgICAgICAnPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTQwLCAwLCAwLjI1KTsgcGFkZGluZzogMnB4IDRweDsgYm9yZGVyLXJhZGl1czogM3B4OyBmb250LXdlaWdodDogNTAwO1wiPiQxPC9zcGFuPidcbiAgICAgICk7XG4gICAgICB0aC5pbm5lckhUTUwgPSBwcm9jZXNzZWQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdGgudGV4dENvbnRlbnQgPSBjZWxsO1xuICAgIH1cbiAgfSk7XG4gIFxuICAvLyBcdTg5RTNcdTY3OTBcdTY1NzBcdTYzNkVcdTg4NENcbiAgY29uc3QgdGJvZHkgPSB0YWJsZS5jcmVhdGVFbCgndGJvZHknKTtcbiAgZm9yIChsZXQgaSA9IDI7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIFxuICAgIGNvbnN0IGNlbGxzID0gbGluZXNbaV1cbiAgICAgIC5zcGxpdCgnfCcpXG4gICAgICAubWFwKGMgPT4gYy50cmltKCkpXG4gICAgICAuZmlsdGVyKGMgPT4gYyk7XG4gICAgXG4gICAgaWYgKGNlbGxzLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgXG4gICAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHRkID0gcm93LmNyZWF0ZUVsKCd0ZCcpO1xuICAgICAgXG4gICAgICBpZiAoY2VsbC5pbmNsdWRlcygnPT0nKSkge1xuICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBjZWxsLnJlcGxhY2UoXG4gICAgICAgICAgLz09KFtePV0rKT09L2csIFxuICAgICAgICAgICc8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxNDAsIDAsIDAuMjUpOyBwYWRkaW5nOiAycHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IGZvbnQtd2VpZ2h0OiA1MDA7XCI+JDE8L3NwYW4+J1xuICAgICAgICApO1xuICAgICAgICB0ZC5pbm5lckhUTUwgPSBwcm9jZXNzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZC50ZXh0Q29udGVudCA9IGNlbGw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG59XG59XG4gIFxuXG4gIiwgIi8vIHNyYy91aS9jb21wb25lbnRzL0NvbnRlbnRMaXN0LnRzICAgXHU1MTg1XHU1QkI5XHU1MjE3XHU4ODY4XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IFZpZXdTdGF0ZSwgR3JvdXBNb2RlIH0gZnJvbSAnLi4vc3RhdHMvVmlld1N0YXRlJztcbmltcG9ydCB7IENvbnRlbnRDYXJkLCBDYXJkQ2FsbGJhY2tzIH0gZnJvbSAnLi9Db250ZW50Q2FyZCc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwZWRVbml0cyB7XG4gIGdyb3VwS2V5OiBzdHJpbmc7XG4gIHVuaXRzOiBDb250ZW50VW5pdFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwZWRDYXJkcyB7XG4gIGdyb3VwS2V5OiBzdHJpbmc7XG4gIGNhcmRzOiBGbGFzaGNhcmRbXTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbnRlbnRMaXN0IHtcbiAgcHJpdmF0ZSBzdGF0ZTogVmlld1N0YXRlO1xuICBwcml2YXRlIGNhcmRSZW5kZXJlcjogQ29udGVudENhcmQ7XG4gIHByaXZhdGUgbGFuZ3VhZ2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogVmlld1N0YXRlLCBjYXJkQ2FsbGJhY2tzOiBDYXJkQ2FsbGJhY2tzLCBsYW5ndWFnZTogc3RyaW5nID0gJ2VuJykge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmNhcmRSZW5kZXJlciA9IG5ldyBDb250ZW50Q2FyZChzdGF0ZSwgY2FyZENhbGxiYWNrcyk7XG4gICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuXG4gIH1cbiAgc2V0TGFuZ3VhZ2UobGFuZ3VhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgfVxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU3RDI3XHU1MUQxXHU1MjE3XHU4ODY4XHVGRjA4XHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGXHVGRjA5XG4gICAqL1xuICByZW5kZXJDb21wYWN0TGlzdChjb250YWluZXI6IEhUTUxFbGVtZW50LCB1bml0czogQ29udGVudFVuaXRbXSk6IHZvaWQge1xuICAgIC8vIFx1MkI1MCBcdTYyN0VcdTUxRkFcdTZCNjNcdTU3MjhcdTdGMTZcdThGOTFcdTc2ODQgdW5pdCBJRHNcbiAgICBjb25zdCBlZGl0aW5nVW5pdElkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGFjdC1jYXJkW2RhdGEtZWRpdGluZz1cInRydWVcIl0nKS5mb3JFYWNoKChjYXJkOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgdW5pdElkID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdW5pdC1pZCcpO1xuICAgICAgaWYgKHVuaXRJZCkge1xuICAgICAgICBlZGl0aW5nVW5pdElkcy5hZGQodW5pdElkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgLy8gXHUyQjUwIFx1NEZERFx1NzU1OVx1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVx1NzY4NFx1NTM2MVx1NzI0NyBET01cbiAgICBjb25zdCBlZGl0aW5nQ2FyZHNNYXAgPSBuZXcgTWFwPHN0cmluZywgSFRNTEVsZW1lbnQ+KCk7XG4gICAgZWRpdGluZ1VuaXRJZHMuZm9yRWFjaCh1bml0SWQgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbZGF0YS11bml0LWlkPVwiJHt1bml0SWR9XCJdYCk7XG4gICAgICBpZiAoY2FyZCkge1xuICAgICAgICBlZGl0aW5nQ2FyZHNNYXAuc2V0KHVuaXRJZCwgY2FyZCBhcyBIVE1MRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIC8vIFx1MkI1MCBcdTUzRUFcdTUyMjBcdTk2NjRcdTk3NUVcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcdTc2ODRcdTUxNDNcdTdEMjBcbiAgICBjb25zdCBhbGxFbGVtZW50cyA9IEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkcmVuKTtcbiAgICBhbGxFbGVtZW50cy5mb3JFYWNoKChlbDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHVuaXRJZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS11bml0LWlkJyk7XG4gICAgICBpZiAoIXVuaXRJZCB8fCAhZWRpdGluZ1VuaXRJZHMuaGFzKHVuaXRJZCkpIHtcbiAgICAgICAgZWwucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIGlmICh1bml0cy5sZW5ndGggPT09IDAgJiYgZWRpdGluZ1VuaXRJZHMuc2l6ZSA9PT0gMCkge1xuICAgICAgdGhpcy5yZW5kZXJFbXB0eVN0YXRlKGNvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBjb25zdCBncm91cGVkID0gdGhpcy5ncm91cFVuaXRzKHVuaXRzKTtcbiAgXG4gICAgZ3JvdXBlZC5mb3JFYWNoKCh7IGdyb3VwS2V5LCB1bml0czogZ3JvdXBVbml0cyB9KSA9PiB7XG4gICAgICBjb25zdCBncm91cEVsID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NvbnRlbnQtZ3JvdXAnIH0pO1xuICAgICAgdGhpcy5yZW5kZXJHcm91cEhlYWRlcihncm91cEVsLCBncm91cEtleSwgZ3JvdXBVbml0cy5sZW5ndGgpO1xuICBcbiAgICAgIGdyb3VwVW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgICAgLy8gXHUyQjUwIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NEZERFx1NUI1OFx1NzY4NFx1N0YxNlx1OEY5MVx1NEUyRFx1NTM2MVx1NzI0N1x1RkYwQ1x1NzZGNFx1NjNBNVx1OTFDRFx1NzUyOFxuICAgICAgICBjb25zdCBleGlzdGluZ0NhcmQgPSBlZGl0aW5nQ2FyZHNNYXAuZ2V0KHVuaXQuaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmdDYXJkKSB7XG4gICAgICAgICAgZ3JvdXBFbC5hcHBlbmRDaGlsZChleGlzdGluZ0NhcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2FyZFJlbmRlcmVyLnJlbmRlckNvbXBhY3QoZ3JvdXBFbCwgdW5pdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICogXHU2RTMyXHU2N0QzXHU3RDI3XHU1MUQxXHU1MjE3XHU4ODY4XHVGRjA4XHU0RkE3XHU4RkI5XHU2ODBGXHU2QTIxXHU1RjBGIC0gXHU0RTBEXHU1MjA2XHU3RUM0XHVGRjA5XG4gKi9cbnJlbmRlckNvbXBhY3RMaXN0V2l0aG91dEdyb3VwaW5nKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHVuaXRzOiBDb250ZW50VW5pdFtdKTogdm9pZCB7XG4gIGNvbnN0IGV4aXN0aW5nQ2FyZHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmNvbXBhY3QtY2FyZCwgLmdyb3VwLXNlY3Rpb24sIC5lbXB0eS1zdGF0ZScpO1xuICBleGlzdGluZ0NhcmRzLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuXG4gIGlmICh1bml0cy5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLnJlbmRlckVtcHR5U3RhdGUoY29udGFpbmVyKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBcdTJCNTAgXHU3NkY0XHU2M0E1XHU2RTMyXHU2N0QzXHVGRjBDXHU0RTBEXHU1MjA2XHU3RUM0XG4gIHVuaXRzLmZvckVhY2godW5pdCA9PiB7XG4gICAgdGhpcy5jYXJkUmVuZGVyZXIucmVuZGVyQ29tcGFjdChjb250YWluZXIsIHVuaXQpO1xuICB9KTtcbn1cbiAgLyoqXG4gICAqIFx1NkUzMlx1NjdEM1x1NTE4NVx1NUJCOVx1N0Y1MVx1NjgzQ1x1RkYwOFx1NEUzQlx1NzU0Q1x1OTc2Mlx1NkEyMVx1NUYwRlx1RkYwOVxuICAgKi9cbiAgcmVuZGVyQ29udGVudEdyaWQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdW5pdHM6IENvbnRlbnRVbml0W10pOiB2b2lkIHtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcblxuICAgIGlmICh1bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucmVuZGVyRW1wdHlTdGF0ZShjb250YWluZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVuaXRzLmZvckVhY2godW5pdCA9PiB7XG4gICAgICB0aGlzLmNhcmRSZW5kZXJlci5yZW5kZXJHcmlkKGNvbnRhaW5lciwgdW5pdCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU5NUVBXHU1MzYxXHU3RjUxXHU2ODNDXG4gICAqL1xuICByZW5kZXJGbGFzaGNhcmRzR3JpZChjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYXJkczogRmxhc2hjYXJkW10pOiB2b2lkIHtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcblxuICAgIGlmIChjYXJkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnRhaW5lci5jcmVhdGVEaXYoeyBcbiAgICAgICAgdGV4dDogdCgnY29udGVudExpc3QuZW1wdHkubm9GbGFzaGNhcmRzJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpLFxuICAgICAgICBjbHM6ICdlbXB0eS1zdGF0ZScgXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgdGhpcy5jYXJkUmVuZGVyZXIucmVuZGVyRmxhc2hjYXJkR3JpZChjb250YWluZXIsIGNhcmQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NTIwNlx1N0VDNFx1N0IxNFx1OEJCMFx1NTM1NVx1NTE0M1xuICAgKi9cbiAgZ3JvdXBVbml0cyh1bml0czogQ29udGVudFVuaXRbXSk6IEdyb3VwZWRVbml0c1tdIHtcbiAgICBjb25zdCBncm91cGVkID0gbmV3IE1hcDxzdHJpbmcsIENvbnRlbnRVbml0W10+KCk7XG5cbiAgICB1bml0cy5mb3JFYWNoKHVuaXQgPT4ge1xuICAgICAgY29uc3Qga2V5cyA9IHRoaXMuZ2V0R3JvdXBLZXlzKHVuaXQpO1xuICAgICAgXG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKCFncm91cGVkLmhhcyhrZXkpKSB7XG4gICAgICAgICAgZ3JvdXBlZC5zZXQoa2V5LCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBlZC5nZXQoa2V5KSEucHVzaCh1bml0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuc29ydEdyb3Vwcyhncm91cGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMDZcdTdFQzRcdTk1RUFcdTUzNjFcbiAgICovXG4gIGdyb3VwRmxhc2hjYXJkcyhcbiAgICBjYXJkczogRmxhc2hjYXJkW10sIFxuICAgIGdldFVuaXQ6IChjYXJkSWQ6IHN0cmluZykgPT4gQ29udGVudFVuaXQgfCB1bmRlZmluZWRcbiAgKTogR3JvdXBlZENhcmRzW10ge1xuICAgIGNvbnN0IGdyb3VwZWQgPSBuZXcgTWFwPHN0cmluZywgRmxhc2hjYXJkW10+KCk7XG4gICAgY29uc3QgYW5ub3RhdGVkS2V5ID0gdCgnY29udGVudExpc3QuZ3JvdXAuYW5ub3RhdGVkJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpO1xuICBcbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgY29uc3QgdW5pdCA9IGdldFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgICAgY29uc3Qga2V5cyA9IHRoaXMuZ2V0Rmxhc2hjYXJkR3JvdXBLZXlzKGNhcmQsIHVuaXQpO1xuICAgICAgXG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKCFncm91cGVkLmhhcyhrZXkpKSB7XG4gICAgICAgICAgZ3JvdXBlZC5zZXQoa2V5LCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBlZC5nZXQoa2V5KSEucHVzaChjYXJkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICBcbiAgICByZXR1cm4gQXJyYXkuZnJvbShncm91cGVkLmVudHJpZXMoKSlcbiAgICAgIC5tYXAoKFtncm91cEtleSwgY2FyZHNdKSA9PiAoeyBncm91cEtleSwgY2FyZHMgfSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdhbm5vdGF0aW9uJykge1xuICAgICAgICAgIGlmIChhLmdyb3VwS2V5ID09PSBhbm5vdGF0ZWRLZXkpIHJldHVybiAtMTtcbiAgICAgICAgICBpZiAoYi5ncm91cEtleSA9PT0gYW5ub3RhdGVkS2V5KSByZXR1cm4gMTtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncm91cE1vZGUgPT09ICdkYXRlJykge1xuICAgICAgICAgIHJldHVybiBiLmdyb3VwS2V5LmxvY2FsZUNvbXBhcmUoYS5ncm91cEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGIuY2FyZHMubGVuZ3RoIC0gYS5jYXJkcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTUzNTVcdTUxNDNcdTc2ODRcdTUyMDZcdTdFQzRcdTk1MkVcbiAgICovXG4gIHByaXZhdGUgZ2V0R3JvdXBLZXlzKHVuaXQ6IENvbnRlbnRVbml0KTogc3RyaW5nW10ge1xuICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5ncm91cE1vZGUpIHtcbiAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICByZXR1cm4gW3VuaXQuc291cmNlLmZpbGVdO1xuICAgICAgXG4gICAgICBjYXNlICdhbm5vdGF0aW9uJzpcbiAgICAgICAgcmV0dXJuIFt1bml0LmFubm90YXRpb25JZCBcbiAgICAgICAgICA/IHQoJ2NvbnRlbnRMaXN0Lmdyb3VwLmFubm90YXRlZCcsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KVxuICAgICAgICAgIDogdCgnY29udGVudExpc3QuZ3JvdXAubm90QW5ub3RhdGVkJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXG4gICAgICAgIF07XG4gICAgICBcbiAgICAgIGNhc2UgJ3RhZyc6XG4gICAgICAgIHJldHVybiB1bml0Lm1ldGFkYXRhLnRhZ3MubGVuZ3RoID4gMCBcbiAgICAgICAgICA/IHVuaXQubWV0YWRhdGEudGFncyBcbiAgICAgICAgICA6IFt0KCdncm91cC51bmNhdGVnb3JpemVkJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXTtcbiAgICAgIFxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgIHJldHVybiBbdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKHVuaXQubWV0YWRhdGEuY3JlYXRlZEF0KSldO1xuICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gW3QoJ2dyb3VwLnVuY2F0ZWdvcml6ZWQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSldO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTk1RUFcdTUzNjFcdTc2ODRcdTUyMDZcdTdFQzRcdTk1MkVcbiAgICovXG4gIHByaXZhdGUgZ2V0Rmxhc2hjYXJkR3JvdXBLZXlzKGNhcmQ6IEZsYXNoY2FyZCwgdW5pdD86IENvbnRlbnRVbml0KTogc3RyaW5nW10ge1xuICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5ncm91cE1vZGUpIHtcbiAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICByZXR1cm4gW2NhcmQuc291cmNlRmlsZV07XG4gICAgICBcbiAgICAgIGNhc2UgJ2Fubm90YXRpb24nOlxuICAgICAgICBpZiAodW5pdCAmJiB1bml0LmFubm90YXRpb25JZCkge1xuICAgICAgICAgIHJldHVybiBbdCgnY29udGVudExpc3QuZ3JvdXAuYW5ub3RhdGVkJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW3QoJ2NvbnRlbnRMaXN0Lmdyb3VwLm5vdEFubm90YXRlZCcsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KV07XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgY2FzZSAndGFnJzpcbiAgICAgICAgaWYgKHVuaXQgJiYgdW5pdC5tZXRhZGF0YS50YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdW5pdC5tZXRhZGF0YS50YWdzO1xuICAgICAgICB9IGVsc2UgaWYgKGNhcmQudGFncyAmJiBjYXJkLnRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiBjYXJkLnRhZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FyZC5kZWNrKSB7XG4gICAgICAgICAgcmV0dXJuIFtjYXJkLmRlY2tdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbdCgnZ3JvdXAudW5jYXRlZ29yaXplZCcsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KV07XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgIHJldHVybiBbdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKGNhcmQubWV0YWRhdGEuY3JlYXRlZEF0KSldO1xuICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gW3QoJ2dyb3VwLnVuY2F0ZWdvcml6ZWQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSldO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYzOTJcdTVFOEZcdTUyMDZcdTdFQzRcbiAgICovXG4gIHByaXZhdGUgc29ydEdyb3Vwcyhncm91cGVkOiBNYXA8c3RyaW5nLCBDb250ZW50VW5pdFtdPik6IEdyb3VwZWRVbml0c1tdIHtcbiAgICBjb25zdCBhbm5vdGF0ZWRLZXkgPSB0KCdjb250ZW50TGlzdC5ncm91cC5hbm5vdGF0ZWQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSk7XG4gICAgXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZ3JvdXBlZC5lbnRyaWVzKCkpXG4gICAgICAubWFwKChbZ3JvdXBLZXksIHVuaXRzXSkgPT4gKHsgZ3JvdXBLZXksIHVuaXRzIH0pKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnYW5ub3RhdGlvbicpIHtcbiAgICAgICAgICBpZiAoYS5ncm91cEtleSA9PT0gYW5ub3RhdGVkS2V5KSByZXR1cm4gLTE7XG4gICAgICAgICAgaWYgKGIuZ3JvdXBLZXkgPT09IGFubm90YXRlZEtleSkgcmV0dXJuIDE7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZ3JvdXBNb2RlID09PSAnZGF0ZScpIHtcbiAgICAgICAgICByZXR1cm4gYi5ncm91cEtleS5sb2NhbGVDb21wYXJlKGEuZ3JvdXBLZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiLnVuaXRzLmxlbmd0aCAtIGEudW5pdHMubGVuZ3RoO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogXHU2RTMyXHU2N0QzXHU1MjA2XHU3RUM0XHU1OTM0XHU5MEU4XG4gICAqL1xuICBwcml2YXRlIHJlbmRlckdyb3VwSGVhZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGdyb3VwS2V5OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZ3JvdXAtaGVhZGVyJyB9KTtcbiAgICBoZWFkZXIuY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogdGhpcy5nZXRHcm91cEljb24odGhpcy5zdGF0ZS5ncm91cE1vZGUpLCBcbiAgICAgIGNsczogJ2dyb3VwLWljb24nIFxuICAgIH0pO1xuICAgIGhlYWRlci5jcmVhdGVTcGFuKHsgdGV4dDogZ3JvdXBLZXksIGNsczogJ2dyb3VwLXRpdGxlJyB9KTtcbiAgICBoZWFkZXIuY3JlYXRlU3Bhbih7IHRleHQ6IGAke2NvdW50fWAsIGNsczogJ2dyb3VwLWNvdW50JyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZFMzJcdTY3RDNcdTdBN0FcdTcyQjZcdTYwMDFcbiAgICovXG4gIHByaXZhdGUgcmVuZGVyRW1wdHlTdGF0ZShjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3QgZW1wdHlEaXYgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZW1wdHktc3RhdGUnIH0pO1xuICAgIFxuICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkRmlsZSAmJiB0aGlzLnN0YXRlLmRpc3BsYXlNb2RlID09PSAnc2lkZWJhcicpIHtcbiAgICAgIGVtcHR5RGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAzMnB4OyBtYXJnaW4tYm90dG9tOiAxMHB4O1wiPlx1RDgzRFx1RENFRDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+JHt0KCdjb250ZW50TGlzdC5lbXB0eS5ub05vdGVzJywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpfTwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDEycHg7IGNvbG9yOiB2YXIoLS10ZXh0LWZhaW50KTsgbWFyZ2luLXRvcDogOHB4O1wiPlxuICAgICAgICAgICAgJHt0aGlzLnN0YXRlLmZpbHRlck1vZGUgIT09ICdhbGwnIFxuICAgICAgICAgICAgICA/IHQoJ2NvbnRlbnRMaXN0LmVtcHR5LnRyeUZpbHRlcicsIHRoaXMubGFuZ3VhZ2UgYXMgYW55KVxuICAgICAgICAgICAgICA6IHQoJ2NvbnRlbnRMaXN0LmVtcHR5LnN0YXJ0SGlnaGxpZ2h0JywgdGhpcy5sYW5ndWFnZSBhcyBhbnkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1wdHlEaXYudGV4dENvbnRlbnQgPSB0KCdjb250ZW50TGlzdC5lbXB0eS5ub0NvbnRlbnQnLCB0aGlzLmxhbmd1YWdlIGFzIGFueSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NTIwNlx1N0VDNFx1NTZGRVx1NjgwN1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRHcm91cEljb24obW9kZTogR3JvdXBNb2RlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgJ2ZpbGUnOiByZXR1cm4gJ1x1RDgzRFx1RENDNCc7XG4gICAgICBjYXNlICdhbm5vdGF0aW9uJzogcmV0dXJuICdcdUQ4M0RcdURDQUMnO1xuICAgICAgY2FzZSAndGFnJzogcmV0dXJuICdcdUQ4M0NcdURGRjdcdUZFMEYnO1xuICAgICAgY2FzZSAnZGF0ZSc6IHJldHVybiAnXHVEODNEXHVEQ0M1JztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnXHVEODNEXHVEQ0MxJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2ODNDXHU1RjBGXHU1MzE2XHU2NUU1XHU2NzFGXG4gICAqL1xuICBwcml2YXRlIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCd6aC1DTicsIHtcbiAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgIG1vbnRoOiAnMi1kaWdpdCcsXG4gICAgICBkYXk6ICcyLWRpZ2l0J1xuICAgIH0pO1xuICB9XG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL0Fubm90YXRpb25FZGl0b3IudHMgICAgXHU2Mjc5XHU2Q0U4XHU3RjE2XHU4RjkxXHU1NjY4XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFubm90YXRpb25FZGl0b3JDYWxsYmFja3Mge1xuICBvblNhdmU6ICh1bml0SWQ6IHN0cmluZywgY29udGVudDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBvbkNhbmNlbDogKHVuaXRJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBnZXRBbm5vdGF0aW9uQ29udGVudDogKHVuaXRJZDogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBBbm5vdGF0aW9uRWRpdG9yIHtcbiAgcHJpdmF0ZSBjYWxsYmFja3M6IEFubm90YXRpb25FZGl0b3JDYWxsYmFja3M7XG4gIHByaXZhdGUgYWN0aXZlRWRpdG9yczogTWFwPHN0cmluZywgSFRNTEVsZW1lbnQ+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHRvZ2dsZUxvY2s6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgcHJpdmF0ZSBpc09wZW5pbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrczogQW5ub3RhdGlvbkVkaXRvckNhbGxiYWNrcykge1xuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICB9XG5cbi8qKlxuICogXHU1MjA3XHU2MzYyXHU1MTg1XHU4MDU0XHU2Mjc5XHU2Q0U4XHU3RjE2XHU4RjkxXHU1NjY4XG4gKi9cbnRvZ2dsZShjYXJkRWw6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICBpZiAodGhpcy5pc09wZW5pbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCBsYXN0VG9nZ2xlID0gdGhpcy50b2dnbGVMb2NrLmdldCh1bml0LmlkKSB8fCAwO1xuICBcbiAgLy8gXHUyQjUwIFx1NEZFRVx1NjUzOVx1RkYxQVx1NTNFQVx1NUJGOVx1NTQwQ1x1NEUwMFx1NEUyQSB1bml0IFx1OEZEQlx1ODg0Q1x1OTYzMlx1NjI5Nlx1RkYwQ1x1NEUwRFx1NTQwQyB1bml0IFx1NTNFRlx1NEVFNVx1N0FDQlx1NTM3M1x1NTIwN1x1NjM2MlxuICBpZiAobm93IC0gbGFzdFRvZ2dsZSA8IDIwMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMudG9nZ2xlTG9jay5zZXQodW5pdC5pZCwgbm93KTtcbiAgXG5cbiAgLy8gXHUyQjUwIFx1NEY3Rlx1NzUyOFx1NjZGNFx1NEUyNVx1NjgzQ1x1NzY4NFx1NjhDMFx1NjdFNVxuICBjb25zdCBleGlzdGluZ0VkaXRvciA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJyk7XG4gIGNvbnN0IGlzQ3VycmVudEVkaXRpbmcgPSAhIWV4aXN0aW5nRWRpdG9yO1xuICBcbiAgXG4gIGlmIChpc0N1cnJlbnRFZGl0aW5nKSB7XG4gICAgdGhpcy5jbG9zZShjYXJkRWwsIHVuaXQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFx1MkI1MCBcdTZFMDVcdTc0MDZcdTZCOEJcdTc1NTlcdTk4ODRcdTg5QzhcbiAgY29uc3QgY29udGVudCA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250ZW50LCAuZ3JpZC1jYXJkLWNvbnRlbnQnKTtcbiAgY29uc3Qgb2xkUHJldmlld3MgPSBjb250ZW50Py5xdWVyeVNlbGVjdG9yQWxsKCcuYW5ub3RhdGlvbi1wcmV2aWV3LCAuZ3JpZC1hbm5vdGF0aW9uJyk7XG4gIGlmIChvbGRQcmV2aWV3cyAmJiBvbGRQcmV2aWV3cy5sZW5ndGggPiAwKSB7XG4gICAgb2xkUHJldmlld3MuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gIH1cblxuICAvLyBcdTJCNTAgXHU0RkVFXHU2NTM5XHVGRjFBXHU1MTQ4XHU1MTczXHU5NUVEXHU1MTc2XHU0RUQ2XHU3RjE2XHU4RjkxXHU1NjY4XHVGRjBDXHU1MThEXHU1RjAyXHU2QjY1XHU2MjUzXHU1RjAwXHU2NUIwXHU3RjE2XHU4RjkxXHU1NjY4XG4gIHRoaXMuY2xvc2VBbGxPdGhlcnModW5pdC5pZCk7XG4gIFxuICAvLyBcdTJCNTAgXHU0RjdGXHU3NTI4IHJlcXVlc3RBbmltYXRpb25GcmFtZSBcdTc4NkVcdTRGRERcdTUxNzNcdTk1RURcdTY0Q0RcdTRGNUNcdTVCOENcdTYyMTBcdTU0MEVcdTUxOERcdTYyNTNcdTVGMDBcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICB0aGlzLm9wZW4oY2FyZEVsLCB1bml0KTtcbiAgfSk7XG59XG5cbi8qKlxuICogXHU1MTczXHU5NUVEXHU5NjY0XHU2MzA3XHU1QjlBIHVuaXRJZCBcdTU5MTZcdTc2ODRcdTYyNDBcdTY3MDlcdTdGMTZcdThGOTFcdTU2NjhcbiAqL1xucHJpdmF0ZSBjbG9zZUFsbE90aGVycyhjdXJyZW50VW5pdElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgYWxsRWRpdGluZ0NhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWRpdGluZz1cInRydWVcIl0nKTtcbiAgXG4gIGlmIChhbGxFZGl0aW5nQ2FyZHMubGVuZ3RoID4gMCkge1xuICAgIFxuICAgIGFsbEVkaXRpbmdDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjb25zdCB1bml0SWQgPSBjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS11bml0LWlkJyk7XG4gICAgICBpZiAodW5pdElkICYmIHVuaXRJZCAhPT0gY3VycmVudFVuaXRJZCkge1xuICAgICAgICBjb25zdCB1bml0ID0geyBpZDogdW5pdElkIH0gYXMgQ29udGVudFVuaXQ7XG4gICAgICAgIHRoaXMuY2xvc2UoY2FyZCBhcyBIVE1MRWxlbWVudCwgdW5pdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBcdTYyNTNcdTVGMDBcdTdGMTZcdThGOTFcdTU2NjhcbiAqL1xucHJpdmF0ZSBvcGVuKGNhcmRFbDogSFRNTEVsZW1lbnQsIHVuaXQ6IENvbnRlbnRVbml0KTogdm9pZCB7XG4gIHRoaXMuaXNPcGVuaW5nID0gdHJ1ZTtcbiAgXG4gIFxuICBjYXJkRWwuc2V0QXR0cmlidXRlKCdkYXRhLWVkaXRpbmcnLCAndHJ1ZScpO1xuICBcbiAgY29uc3QgYW5ub3RhdGlvbkNvbnRlbnQgPSB0aGlzLmNhbGxiYWNrcy5nZXRBbm5vdGF0aW9uQ29udGVudCh1bml0LmlkKTtcbiAgY29uc3QgY29udGVudCA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250ZW50LCAuZ3JpZC1jYXJkLWNvbnRlbnQnKSBhcyBIVE1MRWxlbWVudDtcbiAgXG4gIGNvbnN0IGV4aXN0aW5nUHJldmlld3MgPSBjb250ZW50Py5xdWVyeVNlbGVjdG9yQWxsKCcuYW5ub3RhdGlvbi1wcmV2aWV3LCAuZ3JpZC1hbm5vdGF0aW9uJyk7XG4gIGV4aXN0aW5nUHJldmlld3M/LmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICBcbiAgY29uc3QgZXhpc3RpbmdFZGl0b3JzID0gY29udGVudD8ucXVlcnlTZWxlY3RvckFsbCgnLmlubGluZS1hbm5vdGF0aW9uLWVkaXRvcicpO1xuICBleGlzdGluZ0VkaXRvcnM/LmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICBcbiAgY29uc3QgZWRpdG9yID0gdGhpcy5jcmVhdGVFZGl0b3IodW5pdC5pZCwgYW5ub3RhdGlvbkNvbnRlbnQgfHwgJycpO1xuICBcbiAgY29uc3Qgbm90ZVRleHQgPSBjb250ZW50Py5xdWVyeVNlbGVjdG9yKCcubm90ZS10ZXh0LCAuZ3JpZC1ub3RlLXRleHQnKSBhcyBIVE1MRWxlbWVudDtcbiAgaWYgKG5vdGVUZXh0KSB7XG4gICAgbm90ZVRleHQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGVkaXRvcik7XG4gIH0gZWxzZSB7XG4gICAgY29udGVudD8uYXBwZW5kQ2hpbGQoZWRpdG9yKTtcbiAgfVxuICBcblxuICBjb25zdCB0ZXh0YXJlYSA9IGVkaXRvci5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG5cbiAgLy8gXHUyQjUwIFx1NUVGNlx1OEZERlx1ODA1QVx1NzEyNixcdTc4NkVcdTRGREQgRE9NIFx1NUI4Q1x1NTE2OFx1NkUzMlx1NjdEM1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0ZXh0YXJlYS5mb2N1cygpO1xuICAgICAgdGV4dGFyZWEuc2V0U2VsZWN0aW9uUmFuZ2UodGV4dGFyZWEudmFsdWUubGVuZ3RoLCB0ZXh0YXJlYS52YWx1ZS5sZW5ndGgpO1xuICAgIH0pO1xuICB9KTtcblxuICB0aGlzLmFjdGl2ZUVkaXRvcnMuc2V0KHVuaXQuaWQsIGVkaXRvcik7XG4gIFxuICBcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgdGhpcy5pc09wZW5pbmcgPSBmYWxzZTtcbiAgfSwgMjAwKTtcbiAgXG59XG4gIC8qKlxuICAgKiBcdTUxNzNcdTk1RURcdTdGMTZcdThGOTFcdTU2NjhcbiAgICovXG5cbiAgcHJpdmF0ZSBjbG9zZShjYXJkRWw6IEhUTUxFbGVtZW50LCB1bml0OiBDb250ZW50VW5pdCk6IHZvaWQge1xuICAgIFxuICAgIGNvbnN0IGVkaXRvciA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKCFlZGl0b3IpIHtcbiAgICAgIGNhcmRFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZWRpdGluZycpO1xuICAgICAgdGhpcy5hY3RpdmVFZGl0b3JzLmRlbGV0ZSh1bml0LmlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIFxuICAgIGVkaXRvci5yZW1vdmUoKTtcbiAgICB0aGlzLmFjdGl2ZUVkaXRvcnMuZGVsZXRlKHVuaXQuaWQpO1xuICAgIGNhcmRFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZWRpdGluZycpO1xuICBcbiAgICAvLyBcdTJCNTAgXHU0RkVFXHU2NTM5Olx1N0FDQlx1NTM3M1x1OTFDRFx1NUVGQVx1OTg4NFx1ODlDOCxcdTRFMERcdTRGN0ZcdTc1MjggcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgY29uc3QgYW5ub3RhdGlvbkNvbnRlbnQgPSB0aGlzLmNhbGxiYWNrcy5nZXRBbm5vdGF0aW9uQ29udGVudCh1bml0LmlkKTtcbiAgICBpZiAoYW5ub3RhdGlvbkNvbnRlbnQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBjYXJkRWwucXVlcnlTZWxlY3RvcignLmNhcmQtY29udGVudCwgLmdyaWQtY2FyZC1jb250ZW50JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBcbiAgICAgIC8vIFx1MkI1MCBcdTUxNDhcdTZFMDVcdTc0MDZcdTY1RTdcdTk4ODRcdTg5QzhcbiAgICAgIGNvbnN0IG9sZFByZXZpZXcgPSBjb250ZW50Py5xdWVyeVNlbGVjdG9yKCcuYW5ub3RhdGlvbi1wcmV2aWV3LCAuZ3JpZC1hbm5vdGF0aW9uJyk7XG4gICAgICBpZiAob2xkUHJldmlldykge1xuICAgICAgICBvbGRQcmV2aWV3LnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTJCNTAgXHU3QUNCXHU1MzczXHU1MjFCXHU1RUZBXHU2NUIwXHU5ODg0XHU4OUM4XG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICB0aGlzLnJlY3JlYXRlUHJldmlldyhjb250ZW50LCBjYXJkRWwsIHVuaXQsIGFubm90YXRpb25Db250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuLyoqXG4gKiBcdTUyMUJcdTVFRkFcdTdGMTZcdThGOTFcdTU2NjhcdTUxNDNcdTdEMjBcbiAqL1xucHJpdmF0ZSBjcmVhdGVFZGl0b3IodW5pdElkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBlZGl0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZWRpdG9yLmNsYXNzTmFtZSA9ICdpbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InO1xuICBcblxuXG4gIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgdGV4dGFyZWEuY2xhc3NOYW1lID0gJ2lubGluZS1hbm5vdGF0aW9uLXRleHRhcmVhJztcbiAgdGV4dGFyZWEucGxhY2Vob2xkZXIgPSAnQWRkIGNvbW1lbnQuLi4nO1xuICB0ZXh0YXJlYS52YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdkYXRhLXVuaXQtaWQnLCB1bml0SWQpO1xuICBcbiAgY29uc3QgaGludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBoaW50LmNsYXNzTmFtZSA9ICdpbmxpbmUtYW5ub3RhdGlvbi1oaW50JztcbiAgaGludC50ZXh0Q29udGVudCA9ICdTaGlmdCArIEVudGVyIHRvIGluc2VydCBhIG5ldyBsaW5lJztcbiAgXG4gIGVkaXRvci5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XG4gIGVkaXRvci5hcHBlbmRDaGlsZChoaW50KTtcbiAgICAvLyBcdTJCNTAgXHU3NkQxXHU2M0E3XHU2ODM3XHU1RjBGXHU4OEFCXHU0RkVFXHU2NTM5XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBtdXRhdGlvbnMuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycgJiYgbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1x1RDgzRFx1REVBOCBbRWRpdG9yXSBTdHlsZSB3YXMgbW9kaWZpZWQhJywge1xuICAgICAgICAgICAgb2xkVmFsdWU6IG11dGF0aW9uLm9sZFZhbHVlLFxuICAgICAgICAgICAgbmV3VmFsdWU6IGVkaXRvci5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyksXG4gICAgICAgICAgICBzdGFjazogbmV3IEVycm9yKCkuc3RhY2tcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlZGl0b3IsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydzdHlsZSddXG4gICAgfSk7XG5cbiAgXG4gIC8vIFx1N0VEMVx1NUI5QVx1NTE3Nlx1NEVENlx1NEU4Qlx1NEVGNlxuICB0aGlzLmJpbmRFZGl0b3JFdmVudHModGV4dGFyZWEsIHVuaXRJZCk7XG5cbiAgcmV0dXJuIGVkaXRvcjtcbn1cblxuXG4vKipcbiAqIFx1N0VEMVx1NUI5QVx1N0YxNlx1OEY5MVx1NTY2OFx1NEU4Qlx1NEVGNlxuICovXG5wcml2YXRlIGJpbmRFZGl0b3JFdmVudHModGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQsIHVuaXRJZDogc3RyaW5nKTogdm9pZCB7XG4gIFxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYXN5bmMgKGUpID0+IHtcbiAgICBcbiAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0gZS5yZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGVkaXRvciA9IHRleHRhcmVhLmNsb3Nlc3QoJy5pbmxpbmUtYW5ub3RhdGlvbi1lZGl0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBjYXJkID0gZWRpdG9yPy5jbG9zZXN0KCcuY29tcGFjdC1jYXJkLCAuZ3JpZC1jYXJkJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgXG4gICAgLy8gXHUyQjUwIFx1NjhDMFx1NjdFNVx1NzEyNlx1NzBCOVx1NjYyRlx1NTQyNlx1NzlGQlx1NTIzMFx1N0YxNlx1OEY5MVx1NTY2OFx1NTkxNlx1OTBFOFxuICAgIGlmICghcmVsYXRlZFRhcmdldCB8fCAhZWRpdG9yPy5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgLy8gXHUyQjUwIFx1NUVGNlx1OEZERlx1NTkwNFx1NzQwNixcdTk2MzJcdTZCNjJcdThCRUZcdTg5RTZcbiAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBcdTUxOERcdTZCMjFcdTY4QzBcdTY3RTVcdTdGMTZcdThGOTFcdTU2NjhcdTY2MkZcdTU0MjZcdThGRDhcdTU3MjggRE9NIFx1NEUyRFxuICAgICAgICBpZiAoZWRpdG9yPy5wYXJlbnRFbGVtZW50ICYmIGNhcmQpIHtcbiAgICAgICAgICBcbiAgICAgICAgICBhd2FpdCB0aGlzLmNhbGxiYWNrcy5vblNhdmUodW5pdElkLCB0ZXh0YXJlYS52YWx1ZS50cmltKCkpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHVuaXQgPSB7IGlkOiB1bml0SWQgfSBhcyBDb250ZW50VW5pdDtcbiAgICAgICAgICB0aGlzLmNsb3NlKGNhcmQsIHVuaXQpO1xuICAgICAgICB9XG4gICAgICB9LCAxNTApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVGFiIFx1OTUyRVx1NEZERFx1NUI1OFxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXN5bmMgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdUYWInKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBlZGl0b3IgPSB0ZXh0YXJlYS5jbG9zZXN0KCcuaW5saW5lLWFubm90YXRpb24tZWRpdG9yJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBhd2FpdCB0aGlzLnNhdmUoZWRpdG9yLCB1bml0SWQsIHRleHRhcmVhLnZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gXHU5NjNCXHU2QjYyXHU0RThCXHU0RUY2XHU1MTkyXHU2Q0UxXG4gIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIFxuICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG59XG4gIC8qKlxuICAgKiBcdTRGRERcdTVCNThcdTYyNzlcdTZDRThcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2F2ZShlZGl0b3JFbDogSFRNTEVsZW1lbnQsIHVuaXRJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBcbiAgICBjb25zdCB0cmltbWVkVGV4dCA9IHRleHQudHJpbSgpO1xuICAgIFxuICAgIGF3YWl0IHRoaXMuY2FsbGJhY2tzLm9uU2F2ZSh1bml0SWQsIHRyaW1tZWRUZXh0KTtcbiAgICBcbiAgICBcbiAgICBjb25zdCBjYXJkID0gZWRpdG9yRWwuY2xvc2VzdCgnLmNvbXBhY3QtY2FyZCwgLmdyaWQtY2FyZCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIGVkaXRvckVsLnJlbW92ZSgpO1xuICAgIHRoaXMuYWN0aXZlRWRpdG9ycy5kZWxldGUodW5pdElkKTtcbiAgICBcblxuICAgIFxuICAgIGlmICh0cmltbWVkVGV4dCAmJiBjYXJkKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250ZW50LCAuZ3JpZC1jYXJkLWNvbnRlbnQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIC8vIFx1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1ODNCN1x1NTNENlx1NjcwMFx1NjVCMFx1NzY4NFx1NjI3OVx1NkNFOFx1NTE4NVx1NUJCOVxuICAgICAgICBjb25zdCBsYXRlc3RDb250ZW50ID0gdGhpcy5jYWxsYmFja3MuZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdElkKTtcbiAgICAgICAgaWYgKGxhdGVzdENvbnRlbnQpIHtcbiAgICAgICAgICAvLyBcdTk3MDBcdTg5ODFcdTRGMjBcdTUxNjVcdTVCOENcdTY1NzRcdTc2ODQgQ29udGVudFVuaXRcdUZGMENcdThGRDlcdTkxQ0NcdTdCODBcdTUzMTZcdTU5MDRcdTc0MDZcbiAgICAgICAgICB0aGlzLnJlY3JlYXRlUHJldmlldyhjb250ZW50LCBjYXJkLCB7IGlkOiB1bml0SWQgfSBhcyBDb250ZW50VW5pdCwgbGF0ZXN0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjZGNFx1NjVCMCBpbmRpY2F0b3JcbiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1pbmRpY2F0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGluZGljYXRvciAmJiAhaW5kaWNhdG9yLmNsYXNzTGlzdC5jb250YWlucygnaGFzLWFubm90YXRpb24nKSkge1xuICAgICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdoYXMtYW5ub3RhdGlvbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghdHJpbW1lZFRleHQgJiYgY2FyZCkge1xuICAgICAgY29uc3QgaW5kaWNhdG9yID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1pbmRpY2F0b3InKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChpbmRpY2F0b3IgJiYgaW5kaWNhdG9yLmNsYXNzTGlzdC5jb250YWlucygnaGFzLWFubm90YXRpb24nKSkge1xuICAgICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGFzLWFubm90YXRpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU5MUNEXHU2NUIwXHU1MjFCXHU1RUZBXHU2Mjc5XHU2Q0U4XHU5ODg0XHU4OUM4XG4gICAqL1xuICBwcml2YXRlIHJlY3JlYXRlUHJldmlldyhcbiAgICBjb250ZW50RWw6IEhUTUxFbGVtZW50LFxuICAgIGNhcmRFbDogSFRNTEVsZW1lbnQsXG4gICAgdW5pdDogQ29udGVudFVuaXQsXG4gICAgYW5ub3RhdGlvblRleHQ6IHN0cmluZ1xuICApOiB2b2lkIHtcbiAgICBjb25zdCBleGlzdGluZ1ByZXZpZXcgPSBjb250ZW50RWwucXVlcnlTZWxlY3RvcignLmFubm90YXRpb24tcHJldmlldywgLmdyaWQtYW5ub3RhdGlvbicpO1xuICAgIGlmIChleGlzdGluZ1ByZXZpZXcpIHtcbiAgICAgIGV4aXN0aW5nUHJldmlldy5yZW1vdmUoKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgaXNHcmlkQ2FyZCA9IGNhcmRFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2dyaWQtY2FyZCcpO1xuICAgIGNvbnN0IGFubkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYW5uRWwuY2xhc3NOYW1lID0gaXNHcmlkQ2FyZCA/ICdncmlkLWFubm90YXRpb24nIDogJ2Fubm90YXRpb24tcHJldmlldyc7XG4gICAgXG4gICAgaWYgKGlzR3JpZENhcmQpIHtcbiAgICAgIGFubkVsLmlubmVySFRNTCA9IGBcdUQ4M0RcdURDQUMgJHthbm5vdGF0aW9uVGV4dH1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGFubm90YXRpb25UZXh0Lmxlbmd0aCA+IDYwXG4gICAgICAgID8gYW5ub3RhdGlvblRleHQuc3Vic3RyaW5nKDAsIDYwKSArICcuLi4nXG4gICAgICAgIDogYW5ub3RhdGlvblRleHQ7XG4gICAgICBhbm5FbC50ZXh0Q29udGVudCA9IGBcdUQ4M0RcdURDQUMgJHtkaXNwbGF5VGV4dH1gO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdTcwQjlcdTUxRkJcdTRFOEJcdTRFRjZcbiAgICBhbm5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBUYWIgXHU5NTJFXHU0RThCXHU0RUY2XG4gICAgYW5uRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdUYWInKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy50b2dnbGUoY2FyZEVsLCB1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBub3RlVGV4dCA9IGNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcubm90ZS10ZXh0LCAuZ3JpZC1ub3RlLXRleHQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAobm90ZVRleHQpIHtcbiAgICAgIG5vdGVUZXh0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBhbm5FbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnRFbC5hcHBlbmRDaGlsZChhbm5FbCk7XG4gICAgfVxuICAgIFxuICAgIGFubkVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIGFubkVsLmZvY3VzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU1MTczXHU5NUVEXHU2MjQwXHU2NzA5XHU2RDNCXHU1MkE4XHU3Njg0XHU3RjE2XHU4RjkxXHU1NjY4XG4gICAqL1xuICBjbG9zZUFsbCgpOiB2b2lkIHtcbiAgICB0aGlzLmFjdGl2ZUVkaXRvcnMuZm9yRWFjaCgoZWRpdG9yKSA9PiB7XG4gICAgICBlZGl0b3IucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5hY3RpdmVFZGl0b3JzLmNsZWFyKCk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL3NlcnZpY2VzL092ZXJ2aWV3U2VydmljZS50c1xuXG5pbXBvcnQgeyBBcHAsIEl0ZW1WaWV3LCBURmlsZSwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBDb250ZW50VW5pdCB9IGZyb20gJy4uLy4uL2NvcmUvRGF0YU1hbmFnZXInO1xuaW1wb3J0IHsgUXVpY2tGbGFzaGNhcmRDcmVhdG9yIH0gZnJvbSAnLi4vLi4vY29yZS9RdWlja0ZsYXNoY2FyZENyZWF0b3InO1xuaW1wb3J0IHsgVmlld1N0YXRlIH0gZnJvbSAnLi4vc3RhdHMvVmlld1N0YXRlJztcbmltcG9ydCB7IHQgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBzaWRlT3ZlcnZpZXdTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luLFxuICAgIHByaXZhdGUgc3RhdGU6IFZpZXdTdGF0ZVxuICApIHt9XG5cbiAgLyoqXG4gICAqIFx1OERGM1x1OEY2Q1x1NTIzMFx1N0IxNFx1OEJCMFx1NzY4NFx1NkU5MFx1NjU4N1x1NEVGNlx1NEY0RFx1N0Y2RVxuICAgKi9cbiAgYXN5bmMganVtcFRvU291cmNlKHVuaXQ6IENvbnRlbnRVbml0LCBhcHA6IEFwcCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgICBjb25zdCBmaWxlID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh1bml0LnNvdXJjZS5maWxlKTtcbiAgICBpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuZmlsZU5vdEV4aXN0JywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnN0YXRlLnNob3VsZFJlc3RvcmVTY3JvbGwgPSB0cnVlO1xuICAgIFxuICAgIGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB2aWV3ID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKEl0ZW1WaWV3KTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9ICh2aWV3IGFzIGFueSkuZWRpdG9yO1xuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgY29uc3QgbGluZSA9IHVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmU7XG4gICAgICAgICAgY29uc3QgbGluZUNvdW50ID0gZWRpdG9yLmxpbmVDb3VudCgpO1xuICAgICAgICAgIGNvbnN0IHZhbGlkTGluZSA9IE1hdGgubWluKGxpbmUsIGxpbmVDb3VudCAtIDEpO1xuICAgICAgICAgIFxuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0pO1xuICAgICAgICAgIGVkaXRvci5zY3JvbGxJbnRvVmlldyhcbiAgICAgICAgICAgIHsgZnJvbTogeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0sIHRvOiB7IGxpbmU6IHZhbGlkTGluZSwgY2g6IDAgfSB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gZWRpdG9yLmdldExpbmUodmFsaWRMaW5lKT8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICAgIGVkaXRvci5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgeyBsaW5lOiB2YWxpZExpbmUsIGNoOiAwIH0sXG4gICAgICAgICAgICAgICAgeyBsaW5lOiB2YWxpZExpbmUsIGNoOiBsaW5lTGVuZ3RoIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2VsZWN0aW9uIGVycm9yOicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAyMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NEZERFx1NUI1OFx1NjIxNlx1NTIyMFx1OTY2NFx1NjI3OVx1NkNFOFxuICAgKi9cbiAgYXN5bmMgc2F2ZUFubm90YXRpb24odW5pdElkOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgICBjb25zdCB0cmltbWVkVGV4dCA9IGNvbnRlbnQudHJpbSgpO1xuICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5nZXRDb250ZW50QW5ub3RhdGlvbih1bml0SWQpO1xuICAgIFxuICAgIGlmICh0cmltbWVkVGV4dCkge1xuICAgICAgaWYgKGFubm90YXRpb24pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYW5ub3RhdGlvbk1hbmFnZXIudXBkYXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uLmlkLCB7XG4gICAgICAgICAgY29udGVudDogdHJpbW1lZFRleHRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hbm5vdGF0aW9uTWFuYWdlci5hZGRDb250ZW50QW5ub3RhdGlvbih1bml0SWQsIHRyaW1tZWRUZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFubm90YXRpb24pIHtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmRlbGV0ZUFubm90YXRpb24oYW5ub3RhdGlvbi5pZCk7XG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuYW5ub3RhdGlvbkRlbGV0ZWQnLCBsYW5nKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFJIFx1NUZFQlx1OTAxRlx1NzUxRlx1NjIxMFx1OTVFQVx1NTM2MVxuICAgKi9cbiAgYXN5bmMgcXVpY2tHZW5lcmF0ZUZsYXNoY2FyZCh1bml0OiBDb250ZW50VW5pdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3JlYXRvciA9IG5ldyBRdWlja0ZsYXNoY2FyZENyZWF0b3IodGhpcy5wbHVnaW4pO1xuICAgICAgXG4gICAgICAvLyBcdTdCNDlcdTVGODVcdTk1RUFcdTUzNjFcdTUyMUJcdTVFRkFcdTVCOENcdTYyMTBcbiAgICAgIGF3YWl0IGNyZWF0b3IuY3JlYXRlU21hcnRDYXJkKHVuaXQpO1xuICBcbiAgICAgIC8vIFx1N0VEOVx1NEUwMFx1NEUyQVx1NzdFRFx1NjY4Mlx1NUVGNlx1OEZERlx1Nzg2RVx1NEZERFx1NjU3MFx1NjM2RVx1NURGMlx1NTE5OVx1NTE2NVxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE1MCkpO1xuICAgICAgXG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuZmxhc2hjYXJkR2VuZXJhdGVkJywgbGFuZykpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnc2VydmljZS5nZW5lcmF0ZUZhaWxlZCcsIGxhbmcpKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNzlcdTkxQ0ZcdTUyMjBcdTk2NjRcdTdCMTRcdThCQjBcbiAgICovXG4gIGFzeW5jIGJhdGNoRGVsZXRlTm90ZXModW5pdElkczogU2V0PHN0cmluZz4pOiBQcm9taXNlPHsgc3VjY2VzczogbnVtYmVyOyBmYWlsZWQ6IG51bWJlciB9PiB7XG4gICAgbGV0IHN1Y2Nlc3MgPSAwO1xuICAgIGxldCBmYWlsZWQgPSAwO1xuICAgIFxuICAgIGZvciAoY29uc3QgdW5pdElkIG9mIHVuaXRJZHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdCh1bml0SWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVuaXQpIHtcbiAgICAgICAgICAvLyBcdTUxNDhcdTUyMjBcdTk2NjRcdTUxNzNcdTgwNTRcdTc2ODRcdTk1RUFcdTUzNjFcbiAgICAgICAgICBpZiAodW5pdC5mbGFzaGNhcmRJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJkSWQgb2YgdW5pdC5mbGFzaGNhcmRJZHMpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5kZWxldGVDYXJkKGNhcmRJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5kZWxldGVDb250ZW50VW5pdCh1bml0SWQpO1xuICAgICAgICBzdWNjZXNzKys7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBub3RlOicsIGVycm9yKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3MsIGZhaWxlZCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjI3OVx1OTFDRlx1NTIyMFx1OTY2NFx1OTVFQVx1NTM2MVxuICAgKi9cbiAgYXN5bmMgYmF0Y2hEZWxldGVGbGFzaGNhcmRzKGNhcmRJZHM6IFNldDxzdHJpbmc+KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfT4ge1xuICAgIGxldCBzdWNjZXNzID0gMDtcbiAgICBsZXQgZmFpbGVkID0gMDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiBjYXJkSWRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmRlbGV0ZUNhcmQoY2FyZElkKTtcbiAgICAgICAgc3VjY2VzcysrO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3MsIGZhaWxlZCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NjI3OVx1NkNFOFx1NTE4NVx1NUJCOVxuICAgKi9cbiAgZ2V0QW5ub3RhdGlvbkNvbnRlbnQodW5pdElkOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGFubiA9IHRoaXMucGx1Z2luLmFubm90YXRpb25NYW5hZ2VyLmdldENvbnRlbnRBbm5vdGF0aW9uKHVuaXRJZCk7XG4gICAgcmV0dXJuIGFubj8uY29udGVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdThERjNcdThGNkNcdTUyMzBcdTk1RUFcdTUzNjFcdTc2ODRcdTZFOTBcdTY1ODdcdTRFRjZcbiAgICovXG4gIGFzeW5jIGp1bXBUb0ZsYXNoY2FyZFNvdXJjZShjYXJkSWQ6IHN0cmluZywgYXBwOiBBcHApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7XG4gICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGNhcmRJZCk7XG4gICAgaWYgKCFjYXJkKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ3NlcnZpY2UuZmxhc2hjYXJkTm90Rm91bmQnLCBsYW5nKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBjb25zdCB1bml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICAgIGlmICh1bml0KSB7XG4gICAgICBhd2FpdCB0aGlzLmp1bXBUb1NvdXJjZSh1bml0LCBhcHApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTUxNzNcdTgwNTRcdTc2ODRcdTdCMTRcdThCQjBcdTUzNTVcdTUxNDNcdUZGMENcdTUzRUFcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcbiAgICAgIGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGNhcmQuc291cmNlRmlsZSk7XG4gICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgIGF3YWl0IGFwcC53b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSkub3BlbkZpbGUoZmlsZSk7XG4gICAgICAgIG5ldyBOb3RpY2UodCgnc2VydmljZS5zb3VyY2VGaWxlT3BlbmVkJywgbGFuZykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSh0KCdzZXJ2aWNlLm5vdGVOb3RGb3VuZCcsIGxhbmcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2RkMwXHU2RDNCXHU3RURGXHU4QkExXHU4OUM2XHU1NkZFXG4gICAqL1xuICBhY3RpdmF0ZVN0YXRzVmlldygpOiB2b2lkIHtcbiAgICB0aGlzLnBsdWdpbi5hY3RpdmF0ZVN0YXRzKCk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL21vZGFscy9NYW51YWxGbGFzaGNhcmRNb2RhbC50c1xuXG5pbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi8uLi9tYWluJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVywgVklFV19UWVBFX01BSU5fT1ZFUlZJRVcgfSBmcm9tICcuLi8uLi92aWV3L1NpZGViYXJPdmVydmlld1ZpZXcnO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuXG5leHBvcnQgY2xhc3MgTWFudWFsRmxhc2hjYXJkTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHVuaXQ6IENvbnRlbnRVbml0O1xuICB0eXBlOiAncWEnIHwgJ2Nsb3plJztcbiAgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbjtcbiAgcXVlc3Rpb246IHN0cmluZyA9ICcnO1xuICBhbnN3ZXI6IHN0cmluZyA9ICcnO1xuICBcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sIHVuaXQ6IENvbnRlbnRVbml0LCB0eXBlOiAncWEnIHwgJ2Nsb3plJykge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy51bml0ID0gdW5pdDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIFxuICAgIC8vIFx1NjgzOVx1NjM2RVx1N0M3Qlx1NTc4Qlx1OEJCRVx1N0Y2RVx1OUVEOFx1OEJBNFx1NTAzQ1xuICAgIGlmICh0eXBlID09PSAncWEnKSB7XG4gICAgICB0aGlzLnF1ZXN0aW9uID0gdW5pdC50eXBlID09PSAnUUEnID8gdW5pdC5jb250ZW50IDogdW5pdC5jb250ZW50O1xuICAgICAgdGhpcy5hbnN3ZXIgPSB1bml0LnR5cGUgPT09ICdRQScgJiYgdW5pdC5hbnN3ZXIgPyB1bml0LmFuc3dlciA6ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXN0aW9uID0gdW5pdC5mdWxsQ29udGV4dCB8fCB1bml0LmNvbnRlbnQ7XG4gICAgICB0aGlzLmFuc3dlciA9IHVuaXQuY29udGVudDtcbiAgICB9XG4gIH1cbiAgXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmFkZENsYXNzKCdtYW51YWwtZmxhc2hjYXJkLW1vZGFsJyk7XG4gICAgXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgXG4gICAgICB0ZXh0OiB0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLnRpdGxlLnFhJyA6ICdtYW51YWxDYXJkLnRpdGxlLmNsb3plJywgbGFuZylcbiAgICB9KTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG4gICAgICB0ZXh0OiB0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLmRlc2NyaXB0aW9uLnFhJyA6ICdtYW51YWxDYXJkLmRlc2NyaXB0aW9uLmNsb3plJywgbGFuZyksXG4gICAgICBjbHM6ICdtb2RhbC1kZXNjcmlwdGlvbidcbiAgICB9KTtcbiAgICBcbiAgICAvLyBcdTk1RUVcdTk4OTgvXHU1QjhDXHU2NTc0XHU2NTg3XHU2NzJDXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUodCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5mcm9udC5xYScgOiAnbWFudWFsQ2FyZC5mcm9udC5jbG96ZScsIGxhbmcpKVxuICAgICAgLnNldERlc2ModCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5mcm9udC5kZXNjLnFhJyA6ICdtYW51YWxDYXJkLmZyb250LmRlc2MuY2xvemUnLCBsYW5nKSlcbiAgICAgIC5hZGRUZXh0QXJlYSgodGV4dDogVGV4dEFyZWFDb21wb25lbnQpID0+IHtcbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnF1ZXN0aW9uKVxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcih0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLnFhJyA6ICdtYW51YWxDYXJkLmZyb250LnBsYWNlaG9sZGVyLmNsb3plJywgbGFuZykpXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLnF1ZXN0aW9uID0gdmFsdWUpO1xuICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDQ7XG4gICAgICAgIHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFx1N0I1NFx1Njg0OC9cdTYzMTZcdTdBN0FcdTUxODVcdTVCQjlcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXG4gICAgICAuc2V0TmFtZSh0KHRoaXMudHlwZSA9PT0gJ3FhJyA/ICdtYW51YWxDYXJkLmJhY2sucWEnIDogJ21hbnVhbENhcmQuYmFjay5jbG96ZScsIGxhbmcpKVxuICAgICAgLnNldERlc2ModCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5iYWNrLmRlc2MucWEnIDogJ21hbnVhbENhcmQuYmFjay5kZXNjLmNsb3plJywgbGFuZykpXG4gICAgICAuYWRkVGV4dEFyZWEoKHRleHQ6IFRleHRBcmVhQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5hbnN3ZXIpXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKHQodGhpcy50eXBlID09PSAncWEnID8gJ21hbnVhbENhcmQuYmFjay5wbGFjZWhvbGRlci5xYScgOiAnbWFudWFsQ2FyZC5iYWNrLnBsYWNlaG9sZGVyLmNsb3plJywgbGFuZykpXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB0aGlzLmFuc3dlciA9IHZhbHVlKTtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSAzO1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBcdTYzMDlcdTk0QUVcdTdFQzRcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoYnV0dG9uQ29udGFpbmVyKVxuICAgICAgLmFkZEJ1dHRvbigoYnRuOiBCdXR0b25Db21wb25lbnQpID0+IGJ0blxuICAgICAgICAuc2V0QnV0dG9uVGV4dCh0KCdtYW51YWxDYXJkLmNhbmNlbCcsIGxhbmcpKVxuICAgICAgICAub25DbGljaygoKSA9PiB0aGlzLmNsb3NlKCkpXG4gICAgICApXG4gICAgICAuYWRkQnV0dG9uKChidG46IEJ1dHRvbkNvbXBvbmVudCkgPT4gYnRuXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KHQoJ21hbnVhbENhcmQuY3JlYXRlJywgbGFuZykpXG4gICAgICAgIC5zZXRDdGEoKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmNyZWF0ZUZsYXNoY2FyZCgpKVxuICAgICAgKTtcbiAgfVxuICBhc3luYyBjcmVhdGVGbGFzaGNhcmQoKSB7XG4gICAgY29uc3QgbGFuZyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlO1xuICAgIFxuICAgIC8vIFx1OUE4Q1x1OEJDMVx1OEY5M1x1NTE2NVxuICAgIGlmICghdGhpcy5xdWVzdGlvbi50cmltKCkpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnbWFudWFsQ2FyZC5lcnJvci5lbXB0eUZyb250JywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYW5zd2VyLnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSh0KCdtYW51YWxDYXJkLmVycm9yLmVtcHR5QmFjaycsIGxhbmcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFx1NEY3Rlx1NzUyOCBGbGFzaGNhcmRNYW5hZ2VyIFx1NzY4NCBjcmVhdGVGbGFzaGNhcmRGcm9tVW5pdCBcdTY1QjlcdTZDRDVcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuY3JlYXRlRmxhc2hjYXJkRnJvbVVuaXQoXG4gICAgICAgIHRoaXMudW5pdCxcbiAgICAgICAge1xuICAgICAgICAgIGN1c3RvbVF1ZXN0aW9uOiB0aGlzLnF1ZXN0aW9uLnRyaW0oKSxcbiAgICAgICAgICBjdXN0b21BbnN3ZXI6IHRoaXMuYW5zd2VyLnRyaW0oKSxcbiAgICAgICAgICBjYXJkVHlwZTogdGhpcy50eXBlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIG5ldyBOb3RpY2UodCh0aGlzLnR5cGUgPT09ICdxYScgPyAnbWFudWFsQ2FyZC5zdWNjZXNzLnFhJyA6ICdtYW51YWxDYXJkLnN1Y2Nlc3MuY2xvemUnLCBsYW5nKSk7XG4gICAgICBcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIFxuICAgICAgLy8gXHU1MjM3XHU2NUIwXHU4OUM2XHU1NkZFXG4gICAgICB0aGlzLnJlZnJlc2hPdmVydmlld1ZpZXcoKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ21hbnVhbENhcmQuY3JlYXRlRmFpbGVkJywgbGFuZykpO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIHByaXZhdGUgcmVmcmVzaE92ZXJ2aWV3VmlldygpIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVylbMF0/LnZpZXcgfHxcbiAgICAgICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfTUFJTl9PVkVSVklFVylbMF0/LnZpZXc7XG4gICAgaWYgKHZpZXcgJiYgJ3JlZnJlc2gnIGluIHZpZXcpIHtcbiAgICAgICh2aWV3IGFzIGFueSkucmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuICBcbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBzcmMvdWkvbW9kYWxzL0VkaXRGbGFzaGNhcmRNb2RhbC50c1xuXG5pbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi8uLi9tYWluJztcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBWSUVXX1RZUEVfU0lERUJBUl9PVkVSVklFVywgVklFV19UWVBFX01BSU5fT1ZFUlZJRVcgfSBmcm9tICcuLi8uLi92aWV3L1NpZGViYXJPdmVydmlld1ZpZXcnO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGNsYXNzIEVkaXRGbGFzaGNhcmRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgY2FyZDogRmxhc2hjYXJkO1xuICBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luO1xuICBmcm9udDogc3RyaW5nO1xuICBiYWNrOiBzdHJpbmc7XG4gIFxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbiwgY2FyZDogRmxhc2hjYXJkKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLmNhcmQgPSBjYXJkO1xuICAgIHRoaXMuZnJvbnQgPSBjYXJkLmZyb250O1xuICAgIHRoaXMuYmFjayA9IEFycmF5LmlzQXJyYXkoY2FyZC5iYWNrKSA/IGNhcmQuYmFjay5qb2luKCcsICcpIDogY2FyZC5iYWNrO1xuICB9XG4gIFxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29uc3QgbGFuZyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnZWRpdC1mbGFzaGNhcmQtbW9kYWwnKTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyBcbiAgICAgIHRleHQ6IHQoJ2VkaXRDYXJkLnRpdGxlJywgbGFuZylcbiAgICB9KTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG4gICAgICB0ZXh0OiB0KHRoaXMuY2FyZC50eXBlID09PSAncWEnID8gJ2VkaXRDYXJkLmRlc2NyaXB0aW9uLnFhJyA6ICdlZGl0Q2FyZC5kZXNjcmlwdGlvbi5jbG96ZScsIGxhbmcpLFxuICAgICAgY2xzOiAnbW9kYWwtZGVzY3JpcHRpb24nXG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU1MzYxXHU3MjQ3XHU0RkUxXHU2MDZGXG4gICAgY29uc3QgaW5mb0RpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWluZm8nIH0pO1xuICAgIGluZm9EaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogNnB4OyBtYXJnaW4tYm90dG9tOiAxNXB4O1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAwLjllbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1wiPlxuICAgICAgICAgICR7dCgnZWRpdENhcmQuaW5mby5maWxlJywgbGFuZyl9OiAke3RoaXMuY2FyZC5zb3VyY2VGaWxlLnNwbGl0KCcvJykucG9wKCl9PGJyPlxuICAgICAgICAgICR7dCgnZWRpdENhcmQuaW5mby5kZWNrJywgbGFuZyl9OiAke3RoaXMuY2FyZC5kZWNrfTxicj5cbiAgICAgICAgICAke3QoJ2VkaXRDYXJkLmluZm8ucmV2aWV3cycsIGxhbmcpfTogJHt0aGlzLmNhcmQuc3RhdHMudG90YWxSZXZpZXdzfSR7dCgnZWRpdENhcmQuaW5mby5jb3JyZWN0JywgbGFuZyl9OiAke3RoaXMuY2FyZC5zdGF0cy5jb3JyZWN0Q291bnR9XHU2QjIxXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICAvLyBcdTk1RUVcdTk4OTgvXHU1MjREXHU5NzYyXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgIC5zZXROYW1lKHQodGhpcy5jYXJkLnR5cGUgPT09ICdxYScgPyAnZWRpdENhcmQuZnJvbnQucWEnIDogJ2VkaXRDYXJkLmZyb250LmNsb3plJywgbGFuZykpXG4gICAgLnNldERlc2ModCgnZWRpdENhcmQuZnJvbnQuZGVzYycsIGxhbmcpKVxuICAgIC5hZGRUZXh0QXJlYSgodGV4dDogVGV4dEFyZWFDb21wb25lbnQpID0+IHtcbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLmZyb250KVxuICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4gdGhpcy5mcm9udCA9IHZhbHVlKTtcbiAgICAgICAgdGV4dC5pbnB1dEVsLnJvd3MgPSA0O1xuICAgICAgICB0ZXh0LmlucHV0RWwuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBcdTdCNTRcdTY4NDgvXHU1NDBFXHU5NzYyXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgIC5zZXROYW1lKHQodGhpcy5jYXJkLnR5cGUgPT09ICdxYScgPyAnZWRpdENhcmQuYmFjay5xYScgOiAnZWRpdENhcmQuYmFjay5jbG96ZScsIGxhbmcpKVxuICAgIC5zZXREZXNjKHQodGhpcy5jYXJkLnR5cGUgPT09ICdxYScgPyAnZWRpdENhcmQuYmFjay5kZXNjLnFhJyA6ICdlZGl0Q2FyZC5iYWNrLmRlc2MuY2xvemUnLCBsYW5nKSlcbiAgICAuYWRkVGV4dEFyZWEoKHRleHQ6IFRleHRBcmVhQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5iYWNrKVxuICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWU6IHN0cmluZykgPT4gdGhpcy5iYWNrID0gdmFsdWUpO1xuICAgICAgICB0ZXh0LmlucHV0RWwucm93cyA9IDM7XG4gICAgICAgIHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH0pO1xuICAgIFxuLy8gXHU2MzA5XHU5NEFFXHU3RUM0XG5jb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicgfSk7XG4gIFxubmV3IFNldHRpbmcoYnV0dG9uQ29udGFpbmVyKVxuICAuYWRkQnV0dG9uKChidG46IEJ1dHRvbkNvbXBvbmVudCkgPT4gYnRuXG4gICAgLnNldEJ1dHRvblRleHQodCgnZWRpdENhcmQuY2FuY2VsJywgbGFuZykpXG4gICAgLm9uQ2xpY2soKCkgPT4gdGhpcy5jbG9zZSgpKVxuICApXG4gIC5hZGRCdXR0b24oKGJ0bjogQnV0dG9uQ29tcG9uZW50KSA9PiBidG5cbiAgICAuc2V0QnV0dG9uVGV4dCh0KCdlZGl0Q2FyZC5zYXZlJywgbGFuZykpXG4gICAgLnNldEN0YSgpXG4gICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4gYXdhaXQgdGhpcy5zYXZlRmxhc2hjYXJkKCkpXG4gICk7XG5cbiAgfVxuICBcbiAgYXN5bmMgc2F2ZUZsYXNoY2FyZCgpIHtcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7XG4gICAgLy8gXHU5QThDXHU4QkMxXHU4RjkzXHU1MTY1XG4gICAgaWYgKCF0aGlzLmZyb250LnRyaW0oKSkge1xuICAgICAgbmV3IE5vdGljZSh0KCdlZGl0Q2FyZC5lcnJvci5lbXB0eUZyb250JywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYmFjay50cmltKCkpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnZWRpdENhcmQuZXJyb3IuZW1wdHlCYWNrJywgbGFuZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gXHU2NkY0XHU2NUIwXHU1MzYxXHU3MjQ3XG4gICAgICB0aGlzLmNhcmQuZnJvbnQgPSB0aGlzLmZyb250LnRyaW0oKTtcbiAgICAgIFxuICAgICAgaWYgKHRoaXMuY2FyZC50eXBlID09PSAnY2xvemUnKSB7XG4gICAgICAgIC8vIFx1NTg2Qlx1N0E3QVx1NTM2MVx1RkYxQVx1NUMwNlx1OTAxN1x1NTNGN1x1NTIwNlx1OTY5NFx1NzY4NFx1N0I1NFx1Njg0OFx1OEY2Q1x1NjM2Mlx1NEUzQVx1NjU3MFx1N0VDNFxuICAgICAgICB0aGlzLmNhcmQuYmFjayA9IHRoaXMuYmFjay5zcGxpdCgnLCcpLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIocyA9PiBzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1OTVFRVx1N0I1NFx1NTM2MVx1RkYxQVx1NEZERFx1NjMwMVx1NUI1N1x1N0IyNlx1NEUzMlxuICAgICAgICB0aGlzLmNhcmQuYmFjayA9IHRoaXMuYmFjay50cmltKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRoaXMuY2FyZC5tZXRhZGF0YS51cGRhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnVwZGF0ZUNhcmQodGhpcy5jYXJkKTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZSh0KCdlZGl0Q2FyZC5zdWNjZXNzJywgbGFuZykpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgXG4gICAgICAvLyBcdTUyMzdcdTY1QjBcdTg5QzZcdTU2RkVcbiAgICAgIHRoaXMucmVmcmVzaE92ZXJ2aWV3VmlldygpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnZWRpdENhcmQuc2F2ZUZhaWxlZCcsIGxhbmcpKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIHJlZnJlc2hPdmVydmlld1ZpZXcoKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1NJREVCQVJfT1ZFUlZJRVcpWzBdPy52aWV3IHx8XG4gICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX01BSU5fT1ZFUlZJRVcpWzBdPy52aWV3O1xuICAgIGlmICh2aWV3ICYmICdyZWZyZXNoJyBpbiB2aWV3KSB7XG4gICAgICAodmlldyBhcyBhbnkpLnJlZnJlc2goKTtcbiAgICB9XG4gIH1cbiAgXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvQ29udGV4dE1lbnVCdWlsZGVyLnRzXG5cbmltcG9ydCB7IE1lbnUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuLyoqXG4gKiBcdTUxODVcdTVCQjlcdTUzNTVcdTUxNDNcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTU2REVcdThDMDNcdTYzQTVcdTUzRTNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb250ZW50VW5pdE1lbnVDYWxsYmFja3Mge1xuICBvbkp1bXBUb1NvdXJjZTogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvblRvZ2dsZUFubm90YXRpb246ICh1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25FZGl0Rmxhc2hjYXJkOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uUXVpY2tHZW5lcmF0ZTogKHVuaXQ6IENvbnRlbnRVbml0KSA9PiB2b2lkO1xuICBvbkNyZWF0ZVFBOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG4gIG9uQ3JlYXRlQ2xvemU6ICh1bml0OiBDb250ZW50VW5pdCkgPT4gdm9pZDtcbiAgb25WaWV3U3RhdHM6ICgpID0+IHZvaWQ7XG4gIG9uRGVsZXRlOiAodW5pdDogQ29udGVudFVuaXQpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogXHU5NUVBXHU1MzYxXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XHU1NkRFXHU4QzAzXHU2M0E1XHU1M0UzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hjYXJkTWVudUNhbGxiYWNrcyB7XG4gIG9uSnVtcFRvU291cmNlOiAoY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBvbkVkaXQ6IChjYXJkOiBGbGFzaGNhcmQpID0+IHZvaWQ7XG4gIG9uVmlld1N0YXRzOiAoY2FyZDogRmxhc2hjYXJkKSA9PiB2b2lkO1xuICBvbkRlbGV0ZTogKGNhcmQ6IEZsYXNoY2FyZCkgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcdTY3ODRcdTVFRkFcdTU2NjhcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51QnVpbGRlciB7XG4gIC8qKlxuICAgKiBcdTY3ODRcdTVFRkFcdTUxODVcdTVCQjlcdTUzNTVcdTUxNDNcdTc2ODRcdTUzRjNcdTk1MkVcdTgzRENcdTUzNTVcbiAgICovXG4gIHN0YXRpYyBidWlsZENvbnRlbnRVbml0TWVudShcbiAgICB1bml0OiBDb250ZW50VW5pdCxcbiAgICBjYWxsYmFja3M6IENvbnRlbnRVbml0TWVudUNhbGxiYWNrcyxcbiAgICBsYW5ndWFnZTogc3RyaW5nID0gJ2VuJ1xuICApOiBNZW51IHtcbiAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcbiAgICBcbiAgICAvLyBcdThERjNcdThGNkNcdTUyMzBcdTUzOUZcdTY1ODdcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5qdW1wVG9Tb3VyY2UnLCBsYW5ndWFnZSBhcyBhbnkpKVxuICAgICAgICAuc2V0SWNvbignYXJyb3ctdXAtcmlnaHQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25KdW1wVG9Tb3VyY2UodW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICAvLyBcdTdGMTZcdThGOTFcdTYyNzlcdTZDRThcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5lZGl0QW5ub3RhdGlvbicsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdtZXNzYWdlLXNxdWFyZScpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vblRvZ2dsZUFubm90YXRpb24odW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1N0YxNlx1OEY5MVx1OTVFQVx1NTM2MSAoXHU1OTgyXHU2NzlDXHU1REYyXHU2NzA5XHU5NUVBXHU1MzYxKVxuICAgIGlmICh1bml0LmZsYXNoY2FyZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICAgIGl0ZW1cbiAgICAgICAgICAuc2V0VGl0bGUodCgnY29udGV4dE1lbnUuZWRpdEZsYXNoY2FyZCcsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgICAgLnNldEljb24oJ3BlbmNpbCcpXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uRWRpdEZsYXNoY2FyZCh1bml0KSlcbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NzUxRlx1NjIxMFx1OTVFQVx1NTM2MSAoQUlcdTY2N0FcdTgwRkRcdTc1MUZcdTYyMTApXG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUodCgnY29udGV4dE1lbnUuZ2VuZXJhdGVGbGFzaGNhcmQnLCBsYW5ndWFnZSBhcyBhbnkpKVxuICAgICAgICAuc2V0SWNvbignemFwJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uUXVpY2tHZW5lcmF0ZSh1bml0KSlcbiAgICApO1xuICAgIFxuICAgIC8vIFx1NTIxQlx1NUVGQSBRQSBcdTk1RUFcdTUzNjFcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5jcmVhdGVRQScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdwbHVzJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uQ3JlYXRlUUEodW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICAvLyBcdTUyMUJcdTVFRkFcdTU4NkJcdTdBN0FcdTk1RUFcdTUzNjFcbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XG4gICAgICBpdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdjb250ZXh0TWVudS5jcmVhdGVDbG96ZScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdwbHVzJylcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gY2FsbGJhY2tzLm9uQ3JlYXRlQ2xvemUodW5pdCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NjdFNVx1NzcwQlx1N0VERlx1OEJBMVxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LnZpZXdTdGF0cycsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdiYXItY2hhcnQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25WaWV3U3RhdHMoKSlcbiAgICApO1xuICAgIFxuICAgIG1lbnUuYWRkU2VwYXJhdG9yKCk7XG4gICAgXG4gICAgLy8gXHU1MjIwXHU5NjY0XHU3QjE0XHU4QkIwXG4gICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUodCgnY29udGV4dE1lbnUuZGVsZXRlTm90ZScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCd0cmFzaCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkRlbGV0ZSh1bml0KSlcbiAgICApO1xuICAgIFxuICAgIHJldHVybiBtZW51O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1Njc4NFx1NUVGQVx1OTVFQVx1NTM2MVx1NzY4NFx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVxuICAgKi9cbiAgc3RhdGljIGJ1aWxkRmxhc2hjYXJkTWVudShcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgY2FsbGJhY2tzOiBGbGFzaGNhcmRNZW51Q2FsbGJhY2tzLFxuICAgIGxhbmd1YWdlOiBzdHJpbmcgPSAnZW4nXG4gICk6IE1lbnUge1xuICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuICAgIFxuICAgIC8vIFx1OERGM1x1OEY2Q1x1NTIzMFx1NTM5Rlx1NjU4N1xuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51Lmp1bXBUb1NvdXJjZScsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdhcnJvdy11cC1yaWdodCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkp1bXBUb1NvdXJjZShjYXJkKSlcbiAgICApO1xuICAgIFxuICAgIC8vIFx1N0YxNlx1OEY5MVx1NTM2MVx1NzI0N1xuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LmVkaXRDYXJkJywgbGFuZ3VhZ2UgYXMgYW55KSlcbiAgICAgICAgLnNldEljb24oJ3BlbmNpbCcpXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IGNhbGxiYWNrcy5vbkVkaXQoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NjdFNVx1NzcwQlx1N0VERlx1OEJBMVxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LnZpZXdTdGF0cycsIGxhbmd1YWdlIGFzIGFueSkpXG4gICAgICAgIC5zZXRJY29uKCdiYXItY2hhcnQnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25WaWV3U3RhdHMoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpO1xuICAgIFxuICAgIC8vIFx1NTIyMFx1OTY2NFx1NTM2MVx1NzI0N1xuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ2NvbnRleHRNZW51LmRlbGV0ZUNhcmQnLCBsYW5ndWFnZSBhcyBhbnkpKVxuICAgICAgICAuc2V0SWNvbigndHJhc2gnKVxuICAgICAgICAub25DbGljaygoKSA9PiBjYWxsYmFja3Mub25EZWxldGUoY2FyZCkpXG4gICAgKTtcbiAgICBcbiAgICByZXR1cm4gbWVudTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTY4M0NcdTVGMEZcdTUzMTZcdTk1RUFcdTUzNjFcdTdFREZcdThCQTFcdTRGRTFcdTYwNkZcbiAgICovXG4gIHN0YXRpYyBmb3JtYXRGbGFzaGNhcmRTdGF0cyhjYXJkOiBGbGFzaGNhcmQsIGxhbmd1YWdlOiBzdHJpbmcgPSAnZW4nKTogc3RyaW5nIHtcbiAgICBjb25zdCBsb2NhbGUgPSBsYW5ndWFnZSA9PT0gJ3poLUNOJyA/ICd6aC1DTicgOiAnZW4tVVMnO1xuICAgIGNvbnN0IGNyZWF0ZWREYXRlID0gbmV3IERhdGUoY2FyZC5tZXRhZGF0YS5jcmVhdGVkQXQpLnRvTG9jYWxlU3RyaW5nKGxvY2FsZSk7XG4gICAgY29uc3QgbGFzdFJldmlldyA9IGNhcmQuc3RhdHMubGFzdFJldmlldyBcbiAgICAgID8gbmV3IERhdGUoY2FyZC5zdGF0cy5sYXN0UmV2aWV3KS50b0xvY2FsZVN0cmluZyhsb2NhbGUpXG4gICAgICA6IHQoJ3N0YXRzLmxhc3RSZXZpZXcubmV2ZXInLCBsYW5ndWFnZSBhcyBhbnkpO1xuICAgIGNvbnN0IG5leHRSZXZpZXcgPSBuZXcgRGF0ZShjYXJkLnNjaGVkdWxpbmcuZHVlKS50b0xvY2FsZVN0cmluZyhsb2NhbGUpO1xuICAgIGNvbnN0IGFjY3VyYWN5ID0gY2FyZC5zdGF0cy50b3RhbFJldmlld3MgPiAwIFxuICAgICAgPyAoKGNhcmQuc3RhdHMuY29ycmVjdENvdW50IC8gY2FyZC5zdGF0cy50b3RhbFJldmlld3MpICogMTAwKS50b0ZpeGVkKDEpXG4gICAgICA6ICcwJztcbiAgICBcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB0KCdzdGF0cy5zZXBhcmF0b3InLCBsYW5ndWFnZSBhcyBhbnkpO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICBgJHt0KCdzdGF0cy50aXRsZScsIGxhbmd1YWdlIGFzIGFueSl9XFxuYCArXG4gICAgICBgJHtzZXBhcmF0b3J9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5maWxlJywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5zb3VyY2VGaWxlLnNwbGl0KCcvJykucG9wKCl9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy50eXBlJywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7dChjYXJkLnR5cGUgPT09ICdxYScgPyAnc3RhdHMudHlwZS5xYScgOiAnc3RhdHMudHlwZS5jbG96ZScsIGxhbmd1YWdlIGFzIGFueSl9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5kZWNrJywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5kZWNrfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMudGFncycsIGxhbmd1YWdlIGFzIGFueSl9OiAke2NhcmQudGFncz8ubGVuZ3RoID4gMCA/IGNhcmQudGFncy5qb2luKCcsICcpIDogdCgnc3RhdHMudGFncy5ub25lJywgbGFuZ3VhZ2UgYXMgYW55KX1cXG5gICtcbiAgICAgIGAke3NlcGFyYXRvcn1cXG5gICtcbiAgICAgIGAke3QoJ3N0YXRzLnJldmlld0NvdW50JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5zdGF0cy50b3RhbFJldmlld3N9ICR7dCgnc3RhdHMudGltZXMnLCBsYW5ndWFnZSBhcyBhbnkpfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuY29ycmVjdENvdW50JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y2FyZC5zdGF0cy5jb3JyZWN0Q291bnR9ICR7dCgnc3RhdHMudGltZXMnLCBsYW5ndWFnZSBhcyBhbnkpfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuYWNjdXJhY3knLCBsYW5ndWFnZSBhcyBhbnkpfTogJHthY2N1cmFjeX0lXFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5hdmVyYWdlVGltZScsIGxhbmd1YWdlIGFzIGFueSl9OiAke2NhcmQuc3RhdHMuYXZlcmFnZVRpbWUudG9GaXhlZCgxKX0ke3QoJ3N0YXRzLnNlY29uZHMnLCBsYW5ndWFnZSBhcyBhbnkpfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuZGlmZmljdWx0eScsIGxhbmd1YWdlIGFzIGFueSl9OiAkeyhjYXJkLnN0YXRzLmRpZmZpY3VsdHkgKiAxMDApLnRvRml4ZWQoMCl9JVxcbmAgK1xuICAgICAgYCR7c2VwYXJhdG9yfVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuY3JlYXRlZEF0JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7Y3JlYXRlZERhdGV9XFxuYCArXG4gICAgICBgJHt0KCdzdGF0cy5sYXN0UmV2aWV3JywgbGFuZ3VhZ2UgYXMgYW55KX06ICR7bGFzdFJldmlld31cXG5gICtcbiAgICAgIGAke3QoJ3N0YXRzLm5leHRSZXZpZXcnLCBsYW5ndWFnZSBhcyBhbnkpfTogJHtuZXh0UmV2aWV3fVxcbmAgK1xuICAgICAgYCR7dCgnc3RhdHMuaW50ZXJ2YWwnLCBsYW5ndWFnZSBhcyBhbnkpfTogJHtjYXJkLnNjaGVkdWxpbmcuaW50ZXJ2YWx9JHt0KCdzdGF0cy5kYXlzJywgbGFuZ3VhZ2UgYXMgYW55KX1cXG5gICtcbiAgICAgIGAke3QoJ3N0YXRzLmVhc2UnLCBsYW5ndWFnZSBhcyBhbnkpfTogJHtjYXJkLnNjaGVkdWxpbmcuZWFzZS50b0ZpeGVkKDIpfWBcbiAgICApO1xuICB9XG59IiwgIi8vIHNyYy91aS9jb21wb25lbnRzL21vZGFscy9CYXRjaENyZWF0ZU1vZGFsLnRzXG5pbXBvcnQgeyBNb2RhbCwgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi8uLi9tYWluJztcbmltcG9ydCB7IENvbnRlbnRVbml0IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9EYXRhTWFuYWdlcic7XG5pbXBvcnQgeyBRdWlja0ZsYXNoY2FyZENyZWF0b3IgfSBmcm9tICcuLi8uLi8uLi9jb3JlL1F1aWNrRmxhc2hjYXJkQ3JlYXRvcic7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgQmF0Y2hDcmVhdGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luLFxuICAgIHByaXZhdGUgcXVpY2tDcmVhdG9yOiBRdWlja0ZsYXNoY2FyZENyZWF0b3IsXG4gICAgcHJpdmF0ZSB1bml0czogQ29udGVudFVuaXRbXSxcbiAgICBwcml2YXRlIG9uQ29tcGxldGU6ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBsYW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2U7IFxuXG4gIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHQoJ2JhdGNoQ3JlYXRlLnRpdGxlJywgbGFuZykgfSk7XG4gIFxuICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgIHRleHQ6IHQoJ2JhdGNoQ3JlYXRlLmRlc2NyaXB0aW9uJywgbGFuZywgeyBjb3VudDogdGhpcy51bml0cy5sZW5ndGggfSlcbiAgfSk7XG5cbiAgY29uc3QgdHlwZUNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICd0eXBlLXNlbGVjdC1jb250YWluZXInIH0pO1xuICB0eXBlQ29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogdCgnYmF0Y2hDcmVhdGUuY2FyZFR5cGUnLCBsYW5nKSB9KTtcblxuICBsZXQgc2VsZWN0ZWRUeXBlOiAnc21hcnQnIHwgJ3FhJyB8ICdjbG96ZScgPSAnc21hcnQnO1xuXG4gIGNvbnN0IHR5cGVzID0gW1xuICAgIHsgXG4gICAgICB2YWx1ZTogJ3NtYXJ0JywgXG4gICAgICBsYWJlbDogdCgnYmF0Y2hDcmVhdGUuc21hcnRUeXBlJywgbGFuZyksIFxuICAgICAgZGVzYzogdCgnYmF0Y2hDcmVhdGUuc21hcnRUeXBlLmRlc2MnLCBsYW5nKSBcbiAgICB9LFxuICAgIHsgXG4gICAgICB2YWx1ZTogJ3FhJywgXG4gICAgICBsYWJlbDogdCgnYmF0Y2hDcmVhdGUucWFUeXBlJywgbGFuZyksIFxuICAgICAgZGVzYzogdCgnYmF0Y2hDcmVhdGUucWFUeXBlLmRlc2MnLCBsYW5nKSBcbiAgICB9LFxuICAgIHsgXG4gICAgICB2YWx1ZTogJ2Nsb3plJywgXG4gICAgICBsYWJlbDogdCgnYmF0Y2hDcmVhdGUuY2xvemVUeXBlJywgbGFuZyksIFxuICAgICAgZGVzYzogdCgnYmF0Y2hDcmVhdGUuY2xvemVUeXBlLmRlc2MnLCBsYW5nKSBcbiAgICB9XG4gIF07XG5cblxuICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiB7XG4gICAgICBjb25zdCBvcHRpb24gPSB0eXBlQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3R5cGUtb3B0aW9uJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmFkaW8gPSBvcHRpb24uY3JlYXRlRWwoJ2lucHV0Jywge1xuICAgICAgICB0eXBlOiAncmFkaW8nLFxuICAgICAgICB2YWx1ZTogdHlwZS52YWx1ZSxcbiAgICAgICAgYXR0cjogeyBuYW1lOiAnY2FyZC10eXBlJyB9XG4gICAgICB9KTtcbiAgICAgIGlmICh0eXBlLnZhbHVlID09PSAnc21hcnQnKSByYWRpby5jaGVja2VkID0gdHJ1ZTtcblxuICAgICAgY29uc3QgbGFiZWwgPSBvcHRpb24uY3JlYXRlRGl2KHsgY2xzOiAndHlwZS1sYWJlbCcgfSk7XG4gICAgICBsYWJlbC5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiB0eXBlLmxhYmVsIH0pO1xuICAgICAgbGFiZWwuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogdHlwZS5kZXNjLCBjbHM6ICd0eXBlLWRlc2MnIH0pO1xuXG4gICAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHJhZGlvLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBzZWxlY3RlZFR5cGUgPSB0eXBlLnZhbHVlIGFzIGFueTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gXHU2MzA5XHU5NEFFXG4gICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ21vZGFsLWJ1dHRvbi1jb250YWluZXInIH0pO1xuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogdCgnYmF0Y2hDcmVhdGUuY2FuY2VsJywgbGFuZykgXG4gICAgfSk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcbiAgXG4gICAgY29uc3QgY3JlYXRlQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogdCgnYmF0Y2hDcmVhdGUuY3JlYXRlQnV0dG9uJywgbGFuZywgeyBjb3VudDogdGhpcy51bml0cy5sZW5ndGggfSksXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIGNyZWF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuYmF0Y2hDcmVhdGUoc2VsZWN0ZWRUeXBlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkU3R5bGVzKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGJhdGNoQ3JlYXRlKHR5cGU6ICdzbWFydCcgfCAncWEnIHwgJ2Nsb3plJykge1xuICAgIGNvbnN0IHsgc3VjY2VzcywgZmFpbGVkIH0gPSBhd2FpdCB0aGlzLnF1aWNrQ3JlYXRvci5jcmVhdGVCYXRjaENhcmRzKHRoaXMudW5pdHMsIHR5cGUpO1xuICAgIFxuICAgIGNvbnN0IGxhbmcgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZTtcbiAgXG4gICAgbmV3IE5vdGljZSh0KCdiYXRjaENyZWF0ZS5zdWNjZXNzTm90aWNlJywgbGFuZywgeyBzdWNjZXNzLCBmYWlsZWQgfSkpO1xuICAgIFxuICAgIHRoaXMuY2xvc2UoKTtcbiAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBgXG4gICAgICAudHlwZS1zZWxlY3QtY29udGFpbmVyIHtcbiAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICB9XG5cbiAgICAgIC50eXBlLW9wdGlvbiB7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgfVxuXG4gICAgICAudHlwZS1vcHRpb246aG92ZXIge1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAudHlwZS1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgfVxuXG4gICAgICAudHlwZS1sYWJlbCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgIH1cblxuICAgICAgLnR5cGUtZGVzYyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgbWFyZ2luLXRvcDogNHB4O1xuICAgICAgfVxuICAgIGA7XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufSIsICIvLyBzcmMvY29yZS9VbmxvY2tTeXN0ZW0udHNcbmltcG9ydCB7IEFwcCwgTm90aWNlLE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBTdHlsZUxvYWRlciB9IGZyb20gJ3NyYy91aS9zdHlsZS9zaWRlYmFyU3R5bGUnO1xuaW1wb3J0IHsgdCAsTGFuZ3VhZ2V9IGZyb20gJy4uL2kxOG4vdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IHR5cGUgVXNlckxldmVsID0gMSB8IDIgfCAzIHwgNCB8IDU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5sb2NrUHJvZ3Jlc3Mge1xuICBjdXJyZW50TGV2ZWw6IFVzZXJMZXZlbDtcbiAgc3RhdHM6IHtcbiAgICBjYXJkc0V4dHJhY3RlZDogbnVtYmVyOyAgICAgIC8vIEx2MVx1MjE5MjI6IFx1OTcwMFx1ODk4MSBcdTIyNjUxMFxuICAgICBub3Rlc0V4dHJhY3RlZEFzVGV4dDogbnVtYmVyOyAgICAvLyBcdTY1QjBcdTU4OUU6XHU2M0QwXHU1M0Q2XHU0RTNBdGV4dFxuICBub3Rlc0V4dHJhY3RlZEFzUUE6IG51bWJlcjsgICAgICAvLyBcdTY1QjBcdTU4OUU6XHU2M0QwXHU1M0Q2XHU0RTNBUUFcbiAgbm90ZXNFeHRyYWN0ZWRBc0Nsb3plOiBudW1iZXI7ICAgLy8gXHU2NUIwXHU1ODlFOlx1NjNEMFx1NTNENlx1NEUzQWNsb3plXG4gIGFubm90YXRpb25zQ29tcGxldGVkOiBudW1iZXI7XG4gIG5vdGVzU2Nhbm5lZDogbnVtYmVyOyAvLyBMdjJcdTIxOTIzOiBcdTk3MDBcdTg5ODEgXHUyMjY1NVxuICAgIGNhcmRzUmV2aWV3ZWQ6IG51bWJlcjsgICAgICAgIC8vIEx2M1x1MjE5MjQ6IFx1MjI2NTMwLCBMdjRcdTIxOTI1OiBcdTIyNjU3MFxuICAgIHRhYmxlc1NjYW5uZWQ6IG51bWJlcjsgICAgICAgIC8vIEx2M1x1MjE5MjQ6IFx1OTcwMFx1ODk4MSBcdTIyNjUyXG4gICAgY29uc2VjdXRpdmVEYXlzOiBudW1iZXI7ICAgICAgLy8gTHY0XHUyMTkyNTogXHU5NzAwXHU4OTgxIFx1MjI2NTdcbiAgICB0b3RhbERheXM6IG51bWJlcjsgICAgICAgICAgICAvLyBMdjRcdTIxOTI1OiBcdTk3MDBcdTg5ODEgXHUyMjY1MjFcbiAgICBzdGF0c1BhZ2VWaXNpdGVkOiBib29sZWFuOyAgICAvLyBMdjRcdTIxOTI1OiBcdTk3MDBcdTg5ODFcdTgxRjNcdTVDMTExXHU2QjIxXG4gICAgbGFzdEFjdGl2ZURhdGU6IHN0cmluZzsgICAgICAgLy8gWVlZWS1NTS1ERCBcdTY4M0NcdTVGMEZcbiAgfTtcbiAgdW5sb2NrZWRGZWF0dXJlczogU2V0PHN0cmluZz47XG4gIGxldmVsVW5sb2NrZWRBdDogUmVjb3JkPG51bWJlciwgbnVtYmVyPjsgLy8gdGltZXN0YW1wXG4gIG1pbGVzdG9uZXM6IHtcbiAgICBsZXZlbDogVXNlckxldmVsO1xuICAgIHVubG9ja2VkQXQ6IG51bWJlcjtcbiAgfVtdO1xufVxuXG5leHBvcnQgY2xhc3MgVW5sb2NrU3lzdGVtIHtcbiAgcHJpdmF0ZSBwcm9ncmVzczogVW5sb2NrUHJvZ3Jlc3M7XG4gIHByaXZhdGUgZGF0YVBhdGg6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGFwcDogQXBwLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpblxuICApIHtcbiAgICB0aGlzLmRhdGFQYXRoID0gYCR7dGhpcy5hcHAudmF1bHQuY29uZmlnRGlyfS9wbHVnaW5zL2xlYXJuaW5nLXN5c3RlbS9kYXRhL3VubG9jay1wcm9ncmVzcy5qc29uYDtcbiAgfVxuICBwcml2YXRlIGdldCBsYW5ndWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnVwZGF0ZURhaWx5U3RyZWFrKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY4MzhcdTVGQzNcdTY4QzBcdTY3RTVcdTcwQjkgPT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1NTM2MVx1NzI0N1x1NjNEMFx1NTNENlx1NUI4Q1x1NjIxMFx1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25DYXJkRXh0cmFjdGVkKCkge1xuICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNFeHRyYWN0ZWQrKztcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cbi8qKlxuICogXHVEODNDXHVERkFGIFx1NjNEMFx1NTNENlx1NEUzQXRleHRcdTY1RjZcdThDMDNcdTc1MjhcbiAqL1xuYXN5bmMgb25Ob3RlRXh0cmFjdGVkQXNUZXh0KCkge1xuICB0aGlzLnByb2dyZXNzLnN0YXRzLm5vdGVzRXh0cmFjdGVkQXNUZXh0Kys7XG4gIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG59XG5cbi8qKlxuICogXHVEODNDXHVERkFGIFx1NjNEMFx1NTNENlx1NEUzQVFBXHU2NUY2XHU4QzAzXHU3NTI4XG4gKi9cbmFzeW5jIG9uTm90ZUV4dHJhY3RlZEFzUUEoKSB7XG4gIHRoaXMucHJvZ3Jlc3Muc3RhdHMubm90ZXNFeHRyYWN0ZWRBc1FBKys7XG4gIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG59XG5cbi8qKlxuICogXHVEODNDXHVERkFGIFx1NjNEMFx1NTNENlx1NEUzQWNsb3plXHU2NUY2XHU4QzAzXHU3NTI4XG4gKi9cbmFzeW5jIG9uTm90ZUV4dHJhY3RlZEFzQ2xvemUoKSB7XG4gIHRoaXMucHJvZ3Jlc3Muc3RhdHMubm90ZXNFeHRyYWN0ZWRBc0Nsb3plKys7XG4gIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG59XG5cbi8qKlxuICogXHVEODNDXHVERkFGIHNjYW5cdTYzRDBcdTUzRDZcdTdCMTRcdThCQjBcdTY1RjZcdThDMDNcdTc1MjhcbiAqL1xuYXN5bmMgb25Ob3RlU2Nhbm5lZCgpIHtcbiAgdGhpcy5wcm9ncmVzcy5zdGF0cy5ub3Rlc1NjYW5uZWQrKztcbiAgYXdhaXQgdGhpcy5jaGVja0xldmVsVXAoKTtcbiAgYXdhaXQgdGhpcy5zYXZlUHJvZ3Jlc3MoKTtcbn1cbiAgLyoqXG4gICAqIFx1RDgzQ1x1REZBRiBcdTYyNzlcdTZDRThcdTVCOENcdTYyMTBcdTY1RjZcdThDMDNcdTc1MjhcbiAgICovXG4gIGFzeW5jIG9uQW5ub3RhdGlvbkNvbXBsZXRlZCgpIHtcbiAgICB0aGlzLnByb2dyZXNzLnN0YXRzLmFubm90YXRpb25zQ29tcGxldGVkKys7XG4gICAgYXdhaXQgdGhpcy5jaGVja0xldmVsVXAoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmVQcm9ncmVzcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1RDgzQ1x1REZBRiBcdTUzNjFcdTcyNDdcdTU5MERcdTRFNjBcdTVCOENcdTYyMTBcdTY1RjZcdThDMDNcdTc1MjhcbiAgICovXG4gIGFzeW5jIG9uQ2FyZFJldmlld2VkKCkge1xuICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNSZXZpZXdlZCsrO1xuICAgIHRoaXMudXBkYXRlRGFpbHlTdHJlYWsoKTtcbiAgICBhd2FpdCB0aGlzLmNoZWNrTGV2ZWxVcCgpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVByb2dyZXNzKCk7XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERkFGIFx1NjI2Qlx1NjNDRlx1ODg2OFx1NjgzQ1x1NjVGNlx1OEMwM1x1NzUyOFxuICAgKi9cbiAgYXN5bmMgb25UYWJsZVNjYW5uZWQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcy5zdGF0cy50YWJsZXNTY2FubmVkKys7XG4gICAgYXdhaXQgdGhpcy5jaGVja0xldmVsVXAoKTtcbiAgICBhd2FpdCB0aGlzLnNhdmVQcm9ncmVzcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1RDgzQ1x1REZBRiBcdThCQkZcdTk1RUVcdTdFREZcdThCQTFcdTk4NzVcdTk3NjJcdTY1RjZcdThDMDNcdTc1MjhcbiAgICovXG4gIGFzeW5jIG9uU3RhdHNQYWdlVmlzaXRlZCgpIHtcbiAgICBpZiAoIXRoaXMucHJvZ3Jlc3Muc3RhdHMuc3RhdHNQYWdlVmlzaXRlZCkge1xuICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5zdGF0c1BhZ2VWaXNpdGVkID0gdHJ1ZTtcbiAgICAgIGF3YWl0IHRoaXMuY2hlY2tMZXZlbFVwKCk7XG4gICAgICBhd2FpdCB0aGlzLnNhdmVQcm9ncmVzcygpO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NTI5Rlx1ODBGRFx1Njc0M1x1OTY1MFx1NjhDMFx1NjdFNSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdTY4QzBcdTY3RTVcdTUyOUZcdTgwRkRcdTY2MkZcdTU0MjZcdTg5RTNcdTk1MDFcbiAgICovXG4gIGlzRmVhdHVyZVVubG9ja2VkKGZlYXR1cmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGxldmVsID0gdGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWw7XG4gICAgXG4gICAgY29uc3QgZmVhdHVyZU1hcDogUmVjb3JkPHN0cmluZywgVXNlckxldmVsPiA9IHtcbiAgICAgIC8vIEx2MVxuICAgICAgJ2V4dHJhY3Qtc2luZ2xlJzogMSxcbiAgICAgICdzaWRlYmFyLWJhc2ljJzogMSxcbiAgICAgIFxuICAgICAgLy8gTHYyXG4gICAgICAnZXh0cmFjdC1iYXRjaCc6IDIsXG4gICAgICAnYW5ub3RhdGlvbic6IDIsXG4gICAgICAnZmlsdGVyLWJ5LXR5cGUnOiAyLFxuICAgICAgXG4gICAgICAvLyBMdjNcbiAgICAgICdzY2FuLXZhdWx0JzogMyxcbiAgICAgICdzY2FuLWZpbGUnOiAzLFxuICAgICAgJ3Jldmlldy1wYWdlJzogMyxcbiAgICAgICdyZXZpZXctcmVtaW5kZXInOiAzLFxuICAgICAgJ2V4dHJhY3QtdGFibGUnOiAzLFxuICAgICAgXG4gICAgICAvLyBMdjRcbiAgICAgICdzdGF0cy1wYWdlJzogNCxcbiAgICAgIFxuICAgICAgLy8gTHY1XG4gICAgICAnYWR2YW5jZWQtYW5hbHl0aWNzJzogNSxcbiAgICAgICdjb21tdW5pdHknOiA1XG4gICAgfTtcblxuICAgIGNvbnN0IHJlcXVpcmVkTGV2ZWwgPSBmZWF0dXJlTWFwW2ZlYXR1cmVdIHx8IDE7XG4gICAgcmV0dXJuIGxldmVsID49IHJlcXVpcmVkTGV2ZWw7XG4gIH1cblxuICAvKipcbiAgICogXHU1QzFEXHU4QkQ1XHU0RjdGXHU3NTI4XHU1MjlGXHU4MEZEKFx1NTk4Mlx1Njc5Q1x1NjcyQVx1ODlFM1x1OTUwMVx1NTIxOVx1NjNEMFx1NzkzQSlcbiAgICovXG4gIHRyeVVzZUZlYXR1cmUoZmVhdHVyZTogc3RyaW5nLCBmZWF0dXJlTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNGZWF0dXJlVW5sb2NrZWQoZmVhdHVyZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgXG4gICAgY29uc3QgcmVxdWlyZWRMZXZlbCA9IHRoaXMuZ2V0RmVhdHVyZVJlcXVpcmVkTGV2ZWwoZmVhdHVyZSk7XG4gICAgY29uc3QgbmV4dFN0ZXBzID0gdGhpcy5nZXROZXh0U3RlcHNGb3JMZXZlbCh0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbCk7XG4gICAgXG4gICAgLy8gXHU0RjIwXHU5MDEyXHU4QkVEXHU4QTAwXHU1M0MyXHU2NTcwXG4gICAgbmV3IFVubG9ja05vdGljZU1vZGFsKFxuICAgICAgdGhpcy5hcHAsIFxuICAgICAgZmVhdHVyZU5hbWUsIFxuICAgICAgcmVxdWlyZWRMZXZlbCwgXG4gICAgICBuZXh0U3RlcHMsXG4gICAgICB0aGlzLmxhbmd1YWdlXG4gICAgKS5vcGVuKCk7XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3QjQ5XHU3RUE3XHU2OEMwXHU2N0U1XHU1NDhDXHU1MzQ3XHU3RUE3ID09PT09PT09PT09PT09PT09PT09XG5cbiAgcHJpdmF0ZSBhc3luYyBjaGVja0xldmVsVXAoKSB7XG4gICAgY29uc3Qgb2xkTGV2ZWwgPSB0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbDtcbiAgICBsZXQgbmV3TGV2ZWwgPSBvbGRMZXZlbDtcblxuICAgIC8vIFx1NjhDMFx1NjdFNVx1NTM0N1x1N0VBN1x1Njc2MVx1NEVGNlxuICAgIGlmIChvbGRMZXZlbCA9PT0gMSAmJiB0aGlzLmNhblVwZ3JhZGVUb0xldmVsMigpKSB7XG4gICAgICBuZXdMZXZlbCA9IDI7XG4gICAgfSBlbHNlIGlmIChvbGRMZXZlbCA9PT0gMiAmJiB0aGlzLmNhblVwZ3JhZGVUb0xldmVsMygpKSB7XG4gICAgICBuZXdMZXZlbCA9IDM7XG4gICAgfSBlbHNlIGlmIChvbGRMZXZlbCA9PT0gMyAmJiB0aGlzLmNhblVwZ3JhZGVUb0xldmVsNCgpKSB7XG4gICAgICBuZXdMZXZlbCA9IDQ7XG4gICAgfSBlbHNlIGlmIChvbGRMZXZlbCA9PT0gNCAmJiB0aGlzLmNhblVwZ3JhZGVUb0xldmVsNSgpKSB7XG4gICAgICBuZXdMZXZlbCA9IDU7XG4gICAgfVxuXG4gICAgaWYgKG5ld0xldmVsID4gb2xkTGV2ZWwpIHtcbiAgICAgIGF3YWl0IHRoaXMubGV2ZWxVcChuZXdMZXZlbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjYW5VcGdyYWRlVG9MZXZlbDIoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBub3Rlc0V4dHJhY3RlZEFzVGV4dCwgbm90ZXNFeHRyYWN0ZWRBc1FBLCBub3Rlc0V4dHJhY3RlZEFzQ2xvemUgfSA9IHRoaXMucHJvZ3Jlc3Muc3RhdHM7XG4gICAgLy8gXHU2QkNGXHU3OUNEXHU3QzdCXHU1NzhCXHU4MUYzXHU1QzExXHU2M0QwXHU1M0Q2M1x1NEUyQVx1N0IxNFx1OEJCMFxuICAgIHJldHVybiBub3Rlc0V4dHJhY3RlZEFzVGV4dCA+PSAzICYmIFxuICAgICAgICAgICBub3Rlc0V4dHJhY3RlZEFzUUEgPj0gMyAmJiBcbiAgICAgICAgICAgbm90ZXNFeHRyYWN0ZWRBc0Nsb3plID49IDM7XG4gIH1cbiAgXG4gIHByaXZhdGUgY2FuVXBncmFkZVRvTGV2ZWwzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzLnN0YXRzLmFubm90YXRpb25zQ29tcGxldGVkID49IDMgJiZcbiAgICAgICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5ub3Rlc1NjYW5uZWQgPj0gNTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBjYW5VcGdyYWRlVG9MZXZlbDQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNSZXZpZXdlZCA+PSAzMCAmJlxuICAgICAgICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnRhYmxlc1NjYW5uZWQgPj0gMjtcbiAgfVxuICBcbiAgcHJpdmF0ZSBjYW5VcGdyYWRlVG9MZXZlbDUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNSZXZpZXdlZCA+PSA3MCAmJlxuICAgICAgICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnRvdGFsRGF5cyA+PSAyMSAmJlxuICAgICAgICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnN0YXRzUGFnZVZpc2l0ZWQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxldmVsVXAobmV3TGV2ZWw6IFVzZXJMZXZlbCkge1xuICAgIHRoaXMucHJvZ3Jlc3MuY3VycmVudExldmVsID0gbmV3TGV2ZWw7XG4gICAgdGhpcy5wcm9ncmVzcy5sZXZlbFVubG9ja2VkQXRbbmV3TGV2ZWxdID0gRGF0ZS5ub3coKTtcbiAgXG4gICAgY29uc3QgbWVzc2FnZSA9IHQoYHVubG9jay5sZXZlbFVwLiR7bmV3TGV2ZWx9YCwgdGhpcy5sYW5ndWFnZSk7XG4gIFxuICAgIGNvbnN0IG1pbGVzdG9uZSA9IHtcbiAgICAgIGxldmVsOiBuZXdMZXZlbCxcbiAgICAgIHVubG9ja2VkQXQ6IERhdGUubm93KCksXG4gICAgfTtcbiAgXG4gICAgdGhpcy5wcm9ncmVzcy5taWxlc3RvbmVzLnB1c2gobWlsZXN0b25lKTtcbiAgXG4gICAgLy8gXHU2NjNFXHU3OTNBXHU1MzQ3XHU3RUE3XHU5MDFBXHU3N0U1XG4gICAgbmV3IE5vdGljZShtZXNzYWdlLCAxMDAwMCk7XG4gICAgXG4gICAgYXdhaXQgdGhpcy5zYXZlUHJvZ3Jlc3MoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NjVFNVx1NUUzOFx1OEZERVx1N0VFRFx1NTkyOVx1NjU3MCA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHByaXZhdGUgdXBkYXRlRGFpbHlTdHJlYWsoKSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICBjb25zdCBsYXN0QWN0aXZlID0gdGhpcy5wcm9ncmVzcy5zdGF0cy5sYXN0QWN0aXZlRGF0ZTtcblxuICAgIGlmIChsYXN0QWN0aXZlICE9PSB0b2RheSkge1xuICAgICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgIHllc3RlcmRheS5zZXREYXRlKHllc3RlcmRheS5nZXREYXRlKCkgLSAxKTtcbiAgICAgIGNvbnN0IHllc3RlcmRheVN0ciA9IHllc3RlcmRheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG5cbiAgICAgIGlmIChsYXN0QWN0aXZlID09PSB5ZXN0ZXJkYXlTdHIpIHtcbiAgICAgICAgLy8gXHU4RkRFXHU3RUVEXG4gICAgICAgIHRoaXMucHJvZ3Jlc3Muc3RhdHMuY29uc2VjdXRpdmVEYXlzKys7XG4gICAgICB9IGVsc2UgaWYgKCFsYXN0QWN0aXZlKSB7XG4gICAgICAgIC8vIFx1OTk5Nlx1NkIyMVxuICAgICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLmNvbnNlY3V0aXZlRGF5cyA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcdTRFMkRcdTY1QURcbiAgICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5jb25zZWN1dGl2ZURheXMgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb2dyZXNzLnN0YXRzLnRvdGFsRGF5cysrO1xuICAgICAgdGhpcy5wcm9ncmVzcy5zdGF0cy5sYXN0QWN0aXZlRGF0ZSA9IHRvZGF5O1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIGdldEN1cnJlbnRMZXZlbCgpOiBVc2VyTGV2ZWwge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzLmN1cnJlbnRMZXZlbDtcbiAgfVxuXG4gIGdldFByb2dyZXNzKCk6IFVubG9ja1Byb2dyZXNzIHtcbiAgICByZXR1cm4gdGhpcy5wcm9ncmVzcztcbiAgfVxuICBnZXROZXh0U3RlcHNGb3JMZXZlbChsZXZlbDogVXNlckxldmVsKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGF0cyA9IHRoaXMucHJvZ3Jlc3Muc3RhdHM7XG4gICAgY29uc3QgbGFuZyA9IHRoaXMubGFuZ3VhZ2U7XG4gICAgXG4gICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gdCgndW5sb2NrLm5leHRTdGVwcy5sZXZlbDEnLCBsYW5nLCB7IFxuICAgICAgICAgIHRleHQ6IHN0YXRzLm5vdGVzRXh0cmFjdGVkQXNUZXh0LFxuICAgICAgICAgIHFhOiBzdGF0cy5ub3Rlc0V4dHJhY3RlZEFzUUEsXG4gICAgICAgICAgY2xvemU6IHN0YXRzLm5vdGVzRXh0cmFjdGVkQXNDbG96ZVxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIHQoJ3VubG9jay5uZXh0U3RlcHMubGV2ZWwyJywgbGFuZywgeyBcbiAgICAgICAgICBhbm5vdGF0aW9uczogc3RhdHMuYW5ub3RhdGlvbnNDb21wbGV0ZWQsXG4gICAgICAgICAgc2Nhbm5lZDogc3RhdHMubm90ZXNTY2FubmVkXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gdCgndW5sb2NrLm5leHRTdGVwcy5sZXZlbDMnLCBsYW5nLCB7IFxuICAgICAgICAgIHJldmlld2VkOiBzdGF0cy5jYXJkc1Jldmlld2VkLFxuICAgICAgICAgIHRhYmxlczogc3RhdHMudGFibGVzU2Nhbm5lZFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgcmV0dXJuIHQoJ3VubG9jay5uZXh0U3RlcHMubGV2ZWw0JywgbGFuZywge1xuICAgICAgICAgIHJldmlld2VkOiBzdGF0cy5jYXJkc1Jldmlld2VkLFxuICAgICAgICAgIHRvdGFsOiBzdGF0cy50b3RhbERheXMsXG4gICAgICAgICAgdmlzaXRlZDogc3RhdHMuc3RhdHNQYWdlVmlzaXRlZCA/ICdcdTI3MTMnIDogJ1x1MjcxNydcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIDU6XG4gICAgICAgIHJldHVybiB0KCd1bmxvY2submV4dFN0ZXBzLmxldmVsNScsIGxhbmcpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIGdldEZlYXR1cmVSZXF1aXJlZExldmVsKGZlYXR1cmU6IHN0cmluZyk6IFVzZXJMZXZlbCB7XG4gICAgaWYgKFsnZXh0cmFjdC1zaW5nbGUnLCAnc2lkZWJhci1iYXNpYyddLmluY2x1ZGVzKGZlYXR1cmUpKSByZXR1cm4gMTtcbiAgICBpZiAoWydleHRyYWN0LWJhdGNoJywgJ2Fubm90YXRpb24nLCAnZmlsdGVyLWJ5LXR5cGUnXS5pbmNsdWRlcyhmZWF0dXJlKSkgcmV0dXJuIDI7XG4gICAgaWYgKFsnc2Nhbi12YXVsdCcsICdzY2FuLWZpbGUnLCAncmV2aWV3LXBhZ2UnLCAncmV2aWV3LXJlbWluZGVyJywgJ2V4dHJhY3QtdGFibGUnXS5pbmNsdWRlcyhmZWF0dXJlKSkgcmV0dXJuIDM7XG4gICAgaWYgKGZlYXR1cmUgPT09ICdzdGF0cy1wYWdlJykgcmV0dXJuIDQ7XG4gICAgcmV0dXJuIDU7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY1NzBcdTYzNkVcdTYzMDFcdTRFNDVcdTUzMTYgPT09PT09PT09PT09PT09PT09PT1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRQcm9ncmVzcygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgICBcbiAgICAgIGlmIChhd2FpdCBhZGFwdGVyLmV4aXN0cyh0aGlzLmRhdGFQYXRoKSkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgYWRhcHRlci5yZWFkKHRoaXMuZGF0YVBhdGgpO1xuICAgICAgICBjb25zdCBzYXZlZCA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTYwNjJcdTU5MEQgU2V0XG4gICAgICAgIHNhdmVkLnVubG9ja2VkRmVhdHVyZXMgPSBuZXcgU2V0KHNhdmVkLnVubG9ja2VkRmVhdHVyZXMgfHwgW10pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IHNhdmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IHRoaXMuY3JlYXRlRGVmYXVsdFByb2dyZXNzKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgdW5sb2NrIHByb2dyZXNzOicsIGVycm9yKTtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSB0aGlzLmNyZWF0ZURlZmF1bHRQcm9ncmVzcygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2F2ZVByb2dyZXNzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcbiAgICAgIFxuICAgICAgLy8gXHU4RjZDXHU2MzYyIFNldCBcdTRFM0FcdTY1NzBcdTdFQzRcbiAgICAgIGNvbnN0IHRvU2F2ZSA9IHtcbiAgICAgICAgLi4udGhpcy5wcm9ncmVzcyxcbiAgICAgICAgdW5sb2NrZWRGZWF0dXJlczogQXJyYXkuZnJvbSh0aGlzLnByb2dyZXNzLnVubG9ja2VkRmVhdHVyZXMpXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkodG9TYXZlLCBudWxsLCAyKTtcbiAgICAgIGF3YWl0IGFkYXB0ZXIud3JpdGUodGhpcy5kYXRhUGF0aCwgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB1bmxvY2sgcHJvZ3Jlc3M6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRGVmYXVsdFByb2dyZXNzKCk6IFVubG9ja1Byb2dyZXNzIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudExldmVsOiAxLFxuICAgICAgc3RhdHM6IHtcbiAgICAgICAgY2FyZHNFeHRyYWN0ZWQ6IDAsXG4gICAgICAgIG5vdGVzRXh0cmFjdGVkQXNUZXh0OiAwLFxuICAgICAgICBub3Rlc0V4dHJhY3RlZEFzUUE6IDAsXG4gICAgICAgIG5vdGVzRXh0cmFjdGVkQXNDbG96ZTogMCxcbiAgICAgICAgYW5ub3RhdGlvbnNDb21wbGV0ZWQ6IDAsXG4gICAgICAgIG5vdGVzU2Nhbm5lZDogMCxcbiAgICAgICAgY2FyZHNSZXZpZXdlZDogMCxcbiAgICAgICAgdGFibGVzU2Nhbm5lZDogMCxcbiAgICAgICAgY29uc2VjdXRpdmVEYXlzOiAwLFxuICAgICAgICB0b3RhbERheXM6IDAsXG4gICAgICAgIHN0YXRzUGFnZVZpc2l0ZWQ6IGZhbHNlLFxuICAgICAgICBsYXN0QWN0aXZlRGF0ZTogJydcbiAgICAgIH0sXG4gICAgICB1bmxvY2tlZEZlYXR1cmVzOiBuZXcgU2V0KFsnZXh0cmFjdC1zaW5nbGUnLCAnc2lkZWJhci1iYXNpYyddKSxcbiAgICAgIGxldmVsVW5sb2NrZWRBdDogeyAxOiBEYXRlLm5vdygpIH0sXG4gICAgICBtaWxlc3RvbmVzOiBbe1xuICAgICAgICBsZXZlbDogMSxcbiAgICAgICAgdW5sb2NrZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgIH1dXG4gICAgfTtcbiAgfVxufVxuXG5jbGFzcyBVbmxvY2tOb3RpY2VNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBmZWF0dXJlTmFtZTogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVxdWlyZWRMZXZlbDogbnVtYmVyLFxuICAgIHByaXZhdGUgbmV4dFN0ZXBzOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSBsYW5ndWFnZTogTGFuZ3VhZ2UgPSAnZW4nXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gIH1cbiAgXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiB0KCd1bmxvY2subW9kYWwudGl0bGUnLCB0aGlzLmxhbmd1YWdlKSB9KTtcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgdGV4dDogdCgndW5sb2NrLm1vZGFsLnJlcXVpcmVMZXZlbCcsIHRoaXMubGFuZ3VhZ2UsIHtcbiAgICAgICAgZmVhdHVyZTogdGhpcy5mZWF0dXJlTmFtZSxcbiAgICAgICAgbGV2ZWw6IHRoaXMucmVxdWlyZWRMZXZlbFxuICAgICAgfSlcbiAgICB9KTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiB0KCd1bmxvY2subW9kYWwuY3VycmVudFByb2dyZXNzJywgdGhpcy5sYW5ndWFnZSkgfSk7XG4gICAgXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU1QkI5XHU1NjY4XHU1RTc2XHU4QkJFXHU3RjZFXHU2ODM3XHU1RjBGXG4gICAgY29uc3QgY29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzEwcHgnO1xuICAgIGNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJztcbiAgICBjb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCc7XG4gICAgY29udGFpbmVyLnN0eWxlLmxpbmVIZWlnaHQgPSAnMS44JztcbiAgICBcbiAgICAvLyBcdTRGN0ZcdTc1MjggaW5uZXJIVE1MIFx1NzZGNFx1NjNBNVx1NjNEMlx1NTE2NVx1NUUyNiA8YnI+IFx1NzY4NCBIVE1MXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMubmV4dFN0ZXBzLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1MjA2XHU5Njk0XHU3RUJGXG4gICAgY29uc3QgZGl2aWRlciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2Jyk7XG4gICAgZGl2aWRlci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBkaXZpZGVyLnN0eWxlLmhlaWdodCA9ICcycHgnO1xuICAgIGRpdmlkZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM2NjYnO1xuICAgIGRpdmlkZXIuc3R5bGUubWFyZ2luID0gJzIwcHggMCc7XG4gIH1cbiAgXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBMZXZlbEluZm9Nb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBwcm9ncmVzczogVW5sb2NrUHJvZ3Jlc3MsXG4gICAgcHJpdmF0ZSB1bmxvY2tTeXN0ZW06IFVubG9ja1N5c3RlbSxcbiAgICBwcml2YXRlIGxhbmd1YWdlOiBMYW5ndWFnZSA9ICdlbicgXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gIH1cbiAgXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2xldmVsLWluZm8tbW9kYWwnKTtcbiAgICBcbiAgICBjb25zdCBsZXZlbCA9IHRoaXMucHJvZ3Jlc3MuY3VycmVudExldmVsO1xuICAgIGNvbnN0IGxldmVsTmFtZSA9IHQoYHVubG9jay5sZXZlbC4ke2xldmVsfWAsIHRoaXMubGFuZ3VhZ2UpO1xuICAgIFxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IFxuICAgICAgdGV4dDogdCgndW5sb2NrLmxldmVsSW5mby50aXRsZScsIHRoaXMubGFuZ3VhZ2UsIHtcbiAgICAgICAgbGV2ZWw6IGxldmVsLFxuICAgICAgICBuYW1lOiBsZXZlbE5hbWVcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgXG4gICAgLy8gXHU4RkRCXHU1RUE2XHU0RkUxXHU2MDZGXG4gICAgY29uc3QgcHJvZ3Jlc3NTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLXNlY3Rpb24nIH0pO1xuICAgIFxuICAgIGNvbnN0IHByb2dyZXNzQm94ID0gcHJvZ3Jlc3NTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWJveCcgfSk7XG4gICAgY29uc3QgcHJvZ3Jlc3NUZXh0ID0gdGhpcy51bmxvY2tTeXN0ZW0uZ2V0TmV4dFN0ZXBzRm9yTGV2ZWwodGhpcy5wcm9ncmVzcy5jdXJyZW50TGV2ZWwpO1xuICAgIHByb2dyZXNzQm94LmlubmVySFRNTCA9IHByb2dyZXNzVGV4dC5yZXBsYWNlKC9cXG4vZywgJzxicj4nKTtcbiAgICBcbiAgICAvLyBcdTdFREZcdThCQTFcdTRGRTFcdTYwNkZcbiAgICBjb25zdCBzdGF0c1NlY3Rpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtc2VjdGlvbicgfSk7XG4gICAgc3RhdHNTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogdCgndW5sb2NrLmxldmVsSW5mby5jdW11bGF0aXZlU3RhdHMnLCB0aGlzLmxhbmd1YWdlKSB9KTtcbiAgICBcbiAgICBjb25zdCBzdGF0c0dyaWQgPSBzdGF0c1NlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtZ3JpZCcgfSk7XG4gICAgXG4gICAgY29uc3Qgc3RhdHMgPSBbXG4gICAgICB7IFxuICAgICAgICBpY29uOiAnXHVEODNEXHVEQ0U2JywgXG4gICAgICAgIGxhYmVsOiB0KCd1bmxvY2suc3RhdC5jYXJkc0V4dHJhY3RlZCcsIHRoaXMubGFuZ3VhZ2UpLCBcbiAgICAgICAgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMuY2FyZHNFeHRyYWN0ZWQgXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgaWNvbjogJ1x1RDgzRFx1RENERCcsIFxuICAgICAgICBsYWJlbDogdCgndW5sb2NrLnN0YXQuYW5ub3RhdGlvbnNDb21wbGV0ZWQnLCB0aGlzLmxhbmd1YWdlKSwgXG4gICAgICAgIHZhbHVlOiB0aGlzLnByb2dyZXNzLnN0YXRzLmFubm90YXRpb25zQ29tcGxldGVkIFxuICAgICAgfSxcbiAgICAgIHsgXG4gICAgICAgIGljb246ICdcdUQ4M0RcdUREMDQnLCBcbiAgICAgICAgbGFiZWw6IHQoJ3VubG9jay5zdGF0LmNhcmRzUmV2aWV3ZWQnLCB0aGlzLmxhbmd1YWdlKSwgXG4gICAgICAgIHZhbHVlOiB0aGlzLnByb2dyZXNzLnN0YXRzLmNhcmRzUmV2aWV3ZWQgXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgaWNvbjogJ1x1RDgzRFx1RENDQicsIFxuICAgICAgICBsYWJlbDogdCgndW5sb2NrLnN0YXQudGFibGVzU2Nhbm5lZCcsIHRoaXMubGFuZ3VhZ2UpLCBcbiAgICAgICAgdmFsdWU6IHRoaXMucHJvZ3Jlc3Muc3RhdHMudGFibGVzU2Nhbm5lZCBcbiAgICAgIH0sXG4gICAgICB7IFxuICAgICAgICBpY29uOiAnXHVEODNEXHVERDI1JywgXG4gICAgICAgIGxhYmVsOiB0KCd1bmxvY2suc3RhdC5jb25zZWN1dGl2ZURheXMnLCB0aGlzLmxhbmd1YWdlKSwgXG4gICAgICAgIHZhbHVlOiB0aGlzLnByb2dyZXNzLnN0YXRzLmNvbnNlY3V0aXZlRGF5cyBcbiAgICAgIH0sXG4gICAgICB7IFxuICAgICAgICBpY29uOiAnXHVEODNEXHVEQ0M1JywgXG4gICAgICAgIGxhYmVsOiB0KCd1bmxvY2suc3RhdC50b3RhbERheXMnLCB0aGlzLmxhbmd1YWdlKSwgXG4gICAgICAgIHZhbHVlOiB0aGlzLnByb2dyZXNzLnN0YXRzLnRvdGFsRGF5cyBcbiAgICAgIH1cbiAgICBdO1xuICAgIFxuICAgIHN0YXRzLmZvckVhY2goc3RhdCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gc3RhdHNHcmlkLmNyZWF0ZURpdih7IGNsczogJ3N0YXQtaXRlbScgfSk7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWljb25cIj4ke3N0YXQuaWNvbn08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC1sYWJlbFwiPiR7c3RhdC5sYWJlbH08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC12YWx1ZVwiPiR7c3RhdC52YWx1ZX08L3NwYW4+XG4gICAgICBgO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1OTFDQ1x1N0EwQlx1Nzg5MVxuICAgIGlmICh0aGlzLnByb2dyZXNzLm1pbGVzdG9uZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbWlsZXN0b25lc1NlY3Rpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbWlsZXN0b25lcy1zZWN0aW9uJyB9KTtcbiAgICAgIG1pbGVzdG9uZXNTZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgXG4gICAgICAgIHRleHQ6IHQoJ3VubG9jay5sZXZlbEluZm8ubWlsZXN0b25lcycsIHRoaXMubGFuZ3VhZ2UpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgbWlsZXN0b25lc0xpc3QgPSBtaWxlc3RvbmVzU2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdtaWxlc3RvbmVzLWxpc3QnIH0pO1xuICAgICAgXG4gICAgICB0aGlzLnByb2dyZXNzLm1pbGVzdG9uZXNcbiAgICAgICAgLnNsaWNlKClcbiAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICAuZm9yRWFjaCgobWlsZXN0b25lKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IG1pbGVzdG9uZXNMaXN0LmNyZWF0ZURpdih7IGNsczogJ21pbGVzdG9uZS1pdGVtJyB9KTtcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUobWlsZXN0b25lLnVubG9ja2VkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZyhcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPT09ICd6aC1DTicgPyAnemgtQ04nIDogJ2VuLVVTJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHQoYHVubG9jay5sZXZlbFVwLiR7bWlsZXN0b25lLmxldmVsfWAsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgXG4gICAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWlsZXN0b25lLW1lc3NhZ2VcIj4ke2RhdGV9ICR7bWVzc2FnZX08L2Rpdj5cbiAgICAgICAgICBgO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbiAgXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn0iLCAiLy8gcmV2aWV3Vmlldy50cyAtIFx1OTFDRFx1Njc4NFx1NzI0OFx1NjcyQ1xuaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcbmltcG9ydCB7IEZsYXNoY2FyZCB9IGZyb20gJy4uLy4uL2NvcmUvRmxhc2hjYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBDYXJkU2NoZWR1bGVyLCBSZXZpZXdFYXNlIH0gZnJvbSAnLi4vLi4vY29yZS9DYXJkU2NoZWR1bGVyJztcbmltcG9ydCB7IEZsYXNoY2FyZEVkaXRNb2RhbCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWxzL0ZsYXNoY2FyZEVkaXRNb2RhbCc7XG5pbXBvcnQgeyBSZXZpZXdTdGF0ZU1hbmFnZXIsUmV2aWV3U3RhdGUgfSBmcm9tICcuLi9zdGF0cy9yZXZpZXdTdGF0ZU1hbmFnZXInO1xuLy8gaW1wb3J0IHsgUmV2aWV3S2V5Ym9hcmRIYW5kbGVyIH0gZnJvbSAnLi9SZXZpZXdLZXlib2FyZEhhbmRsZXInO1xuaW1wb3J0IHsgVGFibGVSZW5kZXJlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvVGFibGVSZW5kZXJlcic7XG5pbXBvcnQgeyBDYXJkUmVuZGVyZXJGYWN0b3J5IH0gZnJvbSAnLi4vY29tcG9uZW50cy9yZXZpZXdDYXJkUmVuZGVyJztcblxuaW1wb3J0IHsgcmV2aWV3U3R5bGUgfSBmcm9tICcuLi9zdHlsZS9yZXZpZXdTdHlsZSc7XG5cbmltcG9ydCB7IHQsTGFuZ3VhZ2UgfSBmcm9tICcuLi8uLi9pMThuL3RyYW5zbGF0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfUkVWSUVXID0gJ2xlYXJuaW5nLXN5c3RlbS1yZXZpZXcnO1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFx1NEUzQlx1ODlDNlx1NTZGRVx1N0M3QlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNsYXNzIFJldmlld1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG4gIHByaXZhdGUgbGFuZ3VhZ2U6IExhbmd1YWdlO1xuICBwcml2YXRlIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlcjtcbiAgcHJpdmF0ZSBkdWVDYXJkczogRmxhc2hjYXJkW10gPSBbXTtcbiAgcHJpdmF0ZSBjdXJyZW50Q2FyZEluZGV4OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGN1cnJlbnRDYXJkOiBGbGFzaGNhcmQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzdGF0ZU1hbmFnZXI6IFJldmlld1N0YXRlTWFuYWdlciA9IG5ldyBSZXZpZXdTdGF0ZU1hbmFnZXIoKTtcbiAgcHJpdmF0ZSByZXZpZXdlZENhcmRJZHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpOyAvLyBcdThEREZcdThFMkFcdTVERjJcdTU5MERcdTRFNjBcdTc2ODRcdTUzNjFcdTcyNDdcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luKSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5sYW5ndWFnZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlIHx8ICdlbic7XG4gICAgdGhpcy5zY2hlZHVsZXIgPSBuZXcgQ2FyZFNjaGVkdWxlcigpO1xuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gVklFV19UWVBFX1JFVklFVztcbiAgfVxuXG4gIGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdGbGFzaGNhcmQgUmV2aWV3JztcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2xheWVycyc7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkRHVlQ2FyZHMoKTtcbiAgICByZXZpZXdTdHlsZS5pbmplY3QoKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMucmVnaXN0ZXJLZXlib2FyZEhhbmRsZXJzKCk7XG4gIH1cblxuICBhc3luYyBvbkNsb3NlKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFx1NzJCNlx1NjAwMVx1N0JBMVx1NzQwNlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICBwcml2YXRlIHJlc2V0UmV2aWV3U3RhdGUoKSB7XG4gICAgdGhpcy5zdGF0ZU1hbmFnZXIucmVzZXQoKTtcblxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50Q2FyZChkaXJlY3Rpb246ICduZXh0JyB8ICdwcmV2JyA9ICduZXh0Jykge1xuICAgIGNvbnN0IG5ld0NhcmQgPSB0aGlzLmR1ZUNhcmRzW3RoaXMuY3VycmVudENhcmRJbmRleF07XG4gICAgY29uc3QgaXNTYW1lQ2FyZCA9IHRoaXMuY3VycmVudENhcmQ/LmlkID09PSBuZXdDYXJkPy5pZDtcbiAgICBcbiAgICB0aGlzLnN0YXRlTWFuYWdlci51cGRhdGVGb3JOZXdDYXJkKG5ld0NhcmQsIGlzU2FtZUNhcmQsIGRpcmVjdGlvbik7XG4gICAgdGhpcy5jdXJyZW50Q2FyZCA9IG5ld0NhcmQ7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFx1NjU3MFx1NjM2RVx1NTJBMFx1OEY3RFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHByaXZhdGUgYXN5bmMgbG9hZER1ZUNhcmRzKCkge1xuICAgIHRoaXMuZHVlQ2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldER1ZUNhcmRzKCk7XG4gICAgdGhpcy5jdXJyZW50Q2FyZEluZGV4ID0gMDtcbiAgICB0aGlzLnJlc2V0UmV2aWV3U3RhdGUoKTtcbiAgICB0aGlzLnN0YXRlTWFuYWdlci5yZXNldCgpO1xuICAgIHRoaXMucmV2aWV3ZWRDYXJkSWRzLmNsZWFyKCk7IFxuICAgIHRoaXMudXBkYXRlQ3VycmVudENhcmQoJ25leHQnKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU2RTMyXHU2N0QzXHU5MDNCXHU4RjkxXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgcHJpdmF0ZSByZW5kZXIoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoJ3Jldmlldy1jb250YWluZXInKTtcblxuICAgIGlmICh0aGlzLmR1ZUNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5yZW5kZXJOb0R1ZUNhcmRzKGNvbnRhaW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gdGhpcy51cGRhdGVDdXJyZW50Q2FyZCgpO1xuICAgIHRoaXMucmVuZGVyUHJvZ3Jlc3MoY29udGFpbmVyKTtcbiAgICBcbiAgICBjb25zdCBjYXJkQXJlYSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLWFyZWEnIH0pO1xuICAgIHRoaXMucmVuZGVyVG9wQWN0aW9ucyhjYXJkQXJlYSk7XG4gICAgXG4gICAgaWYgKHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuc2hvd0Fuc3dlcikge1xuICAgICAgdGhpcy5yZW5kZXJBbnN3ZXJWaWV3KGNhcmRBcmVhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJRdWVzdGlvblZpZXcoY2FyZEFyZWEpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyTm9EdWVDYXJkcyhjb250YWluZXI6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBlbXB0eVN0YXRlID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2VtcHR5LXN0YXRlJyB9KTtcbiAgICBlbXB0eVN0YXRlLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1x1RDgzQ1x1REY4OSBBbGwgRG9uZSEnIH0pO1xuICAgIGVtcHR5U3RhdGUuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdObyBjYXJkcyBkdWUgZm9yIHJldmlldyByaWdodCBub3cuJyB9KTtcblxuICAgIGNvbnN0IHN0YXRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRTdGF0cygpO1xuICAgIGNvbnN0IHN0YXRzRGl2ID0gZW1wdHlTdGF0ZS5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy1zdW1tYXJ5JyB9KTtcbiAgICBzdGF0c0Rpdi5jcmVhdGVFbCgncCcsIHsgdGV4dDogYFRvdGFsIGNhcmRzOiAke3N0YXRzLnRvdGFsfWAgfSk7XG4gICAgc3RhdHNEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IGBOZXcgY2FyZHM6ICR7c3RhdHMubmV3fWAgfSk7XG4gICAgc3RhdHNEaXYuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IGBSZXZpZXdlZCB0b2RheTogJHtzdGF0cy5yZXZpZXdlZFRvZGF5fWAgfSk7XG5cbiAgICBjb25zdCBjbG9zZUJ0biA9IGVtcHR5U3RhdGUuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICdDbG9zZSBSZXZpZXcnLFxuICAgICAgY2xzOiAnbW9kLWN0YSdcbiAgICB9KTtcbiAgICBcbiAgICBjbG9zZUJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5jbGVhbnVwUmV2aWV3ZWRDYXJkcygpO1xuICAgICAgdGhpcy5sZWFmPy5kZXRhY2goKTtcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJQcm9ncmVzcyhjb250YWluZXI6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBwcm9ncmVzc0JhciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdwcm9ncmVzcy1iYXInIH0pO1xuICAgIFxuICAgIGNvbnN0IHN0YXRzID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3Mtc3RhdHMnIH0pO1xuICAgIGNvbnN0IHJldmlld2VkID0gdGhpcy5yZXZpZXdlZENhcmRJZHMuc2l6ZTtcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMuZHVlQ2FyZHMubGVuZ3RoO1xuICAgIFxuICAgIHN0YXRzLmNyZWF0ZVNwYW4oeyBcbiAgICAgIHRleHQ6IGAke3Jldmlld2VkfSAvICR7dG90YWx9IHJldmlld2VkYCxcbiAgICAgIGNsczogJ3Byb2dyZXNzLXRleHQnXG4gICAgfSk7XG4gIFxuICAgIGNvbnN0IGJhckNvbnRhaW5lciA9IHByb2dyZXNzQmFyLmNyZWF0ZURpdih7IGNsczogJ2Jhci1jb250YWluZXInIH0pO1xuICAgIGNvbnN0IGJhciA9IGJhckNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdiYXInIH0pO1xuICAgIGNvbnN0IHByb2dyZXNzID0gKHJldmlld2VkIC8gdG90YWwpICogMTAwO1xuICAgIGJhci5zdHlsZS53aWR0aCA9IGAke3Byb2dyZXNzfSVgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJUb3BBY3Rpb25zKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBhY3Rpb25zQmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3RvcC1hY3Rpb25zLWJhcicgfSk7XG5cbiAgICAvLyBKdW1wIHRvIFNvdXJjZSBcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBqdW1wQnRuID0gYWN0aW9uc0Jhci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgY2xzOiAndG9wLWFjdGlvbi1idG4ganVtcC1pY29uLWJ0bicsXG4gICAgICBhdHRyOiB7ICdhcmlhLWxhYmVsJzogJ0p1bXAgdG8gU291cmNlJyB9XG4gICAgfSk7XG4gICAganVtcEJ0bi5pbm5lckhUTUwgPSAnXHUyMTk3JztcbiAgICBqdW1wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5qdW1wVG9Tb3VyY2UoKSk7XG5cbiAgICAvLyBNb3JlIFx1ODNEQ1x1NTM1NVxuICAgIHRoaXMucmVuZGVyTW9yZU1lbnUoYWN0aW9uc0Jhcik7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck1vcmVNZW51KGFjdGlvbnNCYXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgbW9yZUJ0biA9IGFjdGlvbnNCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIGNsczogJ3RvcC1hY3Rpb24tYnRuIG1vcmUtYnRuJyxcbiAgICAgIGF0dHI6IHsgJ2FyaWEtbGFiZWwnOiAnTW9yZSBhY3Rpb25zJyB9XG4gICAgfSk7XG4gICAgbW9yZUJ0bi5pbm5lckhUTUwgPSAnXHUyMkVGJztcbiAgICBcbiAgICBjb25zdCBkcm9wZG93biA9IGFjdGlvbnNCYXIuY3JlYXRlRGl2KHsgY2xzOiAnbW9yZS1kcm9wZG93bicgfSk7XG4gICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIC8vIFx1ODNEQ1x1NTM1NVx1OTg3OVx1OTE0RFx1N0Y2RVxuICAgIGNvbnN0IG1lbnVJdGVtcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdcdTI3MEZcdUZFMEYgRWRpdCBDYXJkJyxcbiAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5lZGl0Q3VycmVudEZsYXNoY2FyZCgpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYWJlbDogJ1x1RDgzRFx1REQwNCBSZXNldCBDYXJkIFN0YXRzJyxcbiAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDYXJkICYmIGNvbmZpcm0odCgnY29uZmlybS5yZXNldENhcmRTdGF0cycsIHRoaXMubGFuZ3VhZ2UpKSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZXNldENhcmRTdGF0cyh0aGlzLmN1cnJlbnRDYXJkLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiAnXHVEODNEXHVEQ0RBIFJlc2V0IERlY2sgU3RhdHMnLFxuICAgICAgICBvbkNsaWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlY2tOYW1lID0gdGhpcy5jdXJyZW50Q2FyZC5kZWNrO1xuICAgICAgICAgICAgaWYgKGNvbmZpcm0odCgnY29uZmlybS5yZXNldERlY2tTdGF0cycsIHRoaXMubGFuZ3VhZ2UsIHsgZGVjazogZGVja05hbWUgfSkpKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFuYWx5dGljc0VuZ2luZS5jbGVhckRlY2tTdGF0cyhkZWNrTmFtZSk7XG4gICAgICAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZGVja1N0YXRzUmVzZXQnLCB0aGlzLmxhbmd1YWdlLCB7IGRlY2s6IGRlY2tOYW1lIH0pKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZER1ZUNhcmRzKCk7XG4gICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYWJlbDogJ1x1RDgzRFx1REREMVx1RkUwRiBEZWxldGUgQ2FyZCcsXG4gICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZCAmJiBjb25maXJtKHQoJ2NvbmZpcm0uZGVsZXRlRmxhc2hjYXJkJywgdGhpcy5sYW5ndWFnZSkpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUZsYXNoY2FyZCh0aGlzLmN1cnJlbnRDYXJkLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogJ2RlbGV0ZS1pdGVtJ1xuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTgzRENcdTUzNTVcdTk4NzlcbiAgICBtZW51SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IG1lbnVJdGVtID0gZHJvcGRvd24uY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgY2xzOiBgZHJvcGRvd24taXRlbSAke2l0ZW0uY2xhc3NOYW1lIHx8ICcnfWBcbiAgICAgIH0pO1xuICAgICAgbWVudUl0ZW0uaW5uZXJIVE1MID0gaXRlbS5sYWJlbDtcbiAgICAgIG1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpdGVtLm9uQ2xpY2soKTtcbiAgICAgICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gXHU1MjA3XHU2MzYyXHU0RTBCXHU2MkM5XHU4M0RDXHU1MzU1XG4gICAgbW9yZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZHJvcGRvd24uc3R5bGUuZGlzcGxheSA9IGRyb3Bkb3duLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGRyb3Bkb3duLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSk7XG5cbiAgICBkcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJRdWVzdGlvblZpZXcoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuXG4gICAgLy8gXHU1MzYxXHU3MjQ3XHU0RkUxXHU2MDZGXG4gICAgdGhpcy5yZW5kZXJDYXJkSW5mbyhjb250YWluZXIpO1xuXG4gICAgLy8gXHU5NUVFXHU5ODk4XHU1MzNBXHU1N0RGXG4gICAgY29uc3QgcXVlc3Rpb25BcmVhID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3F1ZXN0aW9uLWFyZWEnIH0pO1xuICAgIHF1ZXN0aW9uQXJlYS5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdRdWVzdGlvbicgfSk7XG5cbiAgICAvLyBcdTRGN0ZcdTc1MjhcdTdCNTZcdTc1NjVcdTZBMjFcdTVGMEZcdTZFMzJcdTY3RDNcbiAgICBjb25zdCByZW5kZXJlciA9IENhcmRSZW5kZXJlckZhY3RvcnkuZ2V0UmVuZGVyZXIodGhpcy5jdXJyZW50Q2FyZC50eXBlKTtcbiAgICByZW5kZXJlci5yZW5kZXJRdWVzdGlvbihcbiAgICAgIHF1ZXN0aW9uQXJlYSwgXG4gICAgICB0aGlzLmN1cnJlbnRDYXJkLCBcbiAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCksXG4gICAgICB7XG4gICAgICAgIHNldFVzZXJBbnN3ZXI6IChhbnN3ZXI6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNldFVzZXJBbnN3ZXIoYW5zd2VyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VXNlckFuc3dlcnM6IChhbnN3ZXJzOiBzdHJpbmdbXSkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNldFVzZXJBbnN3ZXJzKGFuc3dlcnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICAvLyBcdTY2M0VcdTc5M0FcdTdCNTRcdTY4NDhcdTYzMDlcdTk0QUUgKyBcdTdGRkJcdTk4NzVcdTYzMDlcdTk0QUVcdTU3MjhcdTU0MENcdTRFMDBcdTg4NENcbiAgICBjb25zdCBhY3Rpb25Sb3cgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnYWN0aW9uLXJvdycgfSk7XG4gICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uQnV0dG9uKGFjdGlvblJvdywgJ3ByZXYnKTtcbiAgICB0aGlzLnJlbmRlclNob3dBbnN3ZXJCdXR0b24oYWN0aW9uUm93KTsgIC8vIFx1NTkwRFx1NzUyOFx1NTM5Rlx1NjVCOVx1NkNENVxuICAgIHRoaXMucmVuZGVyTmF2aWdhdGlvbkJ1dHRvbihhY3Rpb25Sb3csICduZXh0Jyk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckFuc3dlclZpZXcoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuICBcbiAgICAvLyBcdTUzNjFcdTcyNDdcdTRGRTFcdTYwNkZcbiAgICB0aGlzLnJlbmRlckNhcmRJbmZvKGNvbnRhaW5lcik7XG4gIFxuICAgIC8vIFx1NTNFQVx1NjcwOVx1NTcyOFx1OTc1RVx1ODg2OFx1NjgzQ1x1OTVFRVx1OTg5OFx1NjVGNlx1NjI0RFx1NjYzRVx1NzkzQVx1OTVFRVx1OTg5OFx1NTZERVx1OTg3RVxuICAgIGNvbnN0IGlzUXVlc3Rpb25UYWJsZSA9IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdCh0aGlzLmN1cnJlbnRDYXJkLmZyb250KTtcbiAgICBjb25zdCBpc0Fuc3dlclRhYmxlID0gdGhpcy5jdXJyZW50Q2FyZC50eXBlID09PSAnY2xvemUnIFxuICAgICAgPyBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQodGhpcy5jdXJyZW50Q2FyZC5jbG96ZT8ub3JpZ2luYWwgfHwgJycpXG4gICAgICA6IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdChcbiAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuY3VycmVudENhcmQuYmFjaykgXG4gICAgICAgICAgICA/ICh0aGlzLmN1cnJlbnRDYXJkLmJhY2tbMF0gfHwgJycpIFxuICAgICAgICAgICAgOiB0aGlzLmN1cnJlbnRDYXJkLmJhY2sgYXMgc3RyaW5nXG4gICAgICAgICk7XG4gICAgXG4gICAgaWYgKCFpc1F1ZXN0aW9uVGFibGUgJiYgIWlzQW5zd2VyVGFibGUpIHtcbiAgICAgIHRoaXMucmVuZGVyUXVlc3Rpb25SZXZpZXcoY29udGFpbmVyKTtcbiAgICB9XG4gIFxuICAgIC8vIFx1NEY3Rlx1NzUyOFx1N0I1Nlx1NzU2NVx1NkEyMVx1NUYwRlx1NkUzMlx1NjdEM1x1N0I1NFx1Njg0OFxuICAgIGNvbnN0IHJlbmRlcmVyID0gQ2FyZFJlbmRlcmVyRmFjdG9yeS5nZXRSZW5kZXJlcih0aGlzLmN1cnJlbnRDYXJkLnR5cGUpO1xuICAgIHJlbmRlcmVyLnJlbmRlckFuc3dlcihjb250YWluZXIsIHRoaXMuY3VycmVudENhcmQsIHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCksIHRoaXMuc2NoZWR1bGVyKTtcbiAgXG4gICAgICAvLyBcdThCQzRcdTdFQTdcdTYzMDlcdTk0QUUgKyBcdTdGRkJcdTk4NzVcdTYzMDlcdTk0QUVcdTU3MjhcdTU0MENcdTRFMDBcdTg4NENcbiAgICAgIGNvbnN0IGFjdGlvblJvdyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdhY3Rpb24tcm93JyB9KTtcbiAgICAgIHRoaXMucmVuZGVyTmF2aWdhdGlvbkJ1dHRvbihhY3Rpb25Sb3csICdwcmV2Jyk7XG4gICAgICB0aGlzLnJlbmRlclJhdGluZ0J1dHRvbnMoYWN0aW9uUm93KTsgIC8vIFx1NTkwRFx1NzUyOFx1NTM5Rlx1NjVCOVx1NkNENSxcdTRGMjBcdTUxNjVcdTVCQjlcdTU2NjhcbiAgICAgIHRoaXMucmVuZGVyTmF2aWdhdGlvbkJ1dHRvbihhY3Rpb25Sb3csICduZXh0Jyk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckNhcmRJbmZvKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudENhcmQpIHJldHVybjtcblxuICAgIGNvbnN0IGNhcmRJbmZvID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NhcmQtaW5mbycgfSk7XG4gICAgY2FyZEluZm8uY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogdGhpcy5jdXJyZW50Q2FyZC50eXBlID09PSAncWEnID8gJ1x1RDgzRFx1RENERCBRJkEnIDogJ1x1MjcwRlx1RkUwRiBDbG96ZScsXG4gICAgICBjbHM6ICdjYXJkLXR5cGUnXG4gICAgfSk7XG4gICAgY2FyZEluZm8uY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogYERlY2s6ICR7dGhpcy5jdXJyZW50Q2FyZC5kZWNrfWAsXG4gICAgICBjbHM6ICdjYXJkLWRlY2snXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclF1ZXN0aW9uUmV2aWV3KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudENhcmQpIHJldHVybjtcblxuICAgIGNvbnN0IHF1ZXN0aW9uUmV2aWV3ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3F1ZXN0aW9uLXJldmlldycgfSk7XG4gICAgcXVlc3Rpb25SZXZpZXcuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnUXVlc3Rpb246JyB9KTtcblxuICAgIGNvbnN0IHJldmlld1RleHREaXYgPSBxdWVzdGlvblJldmlldy5jcmVhdGVEaXYoeyBjbHM6ICdyZXZpZXctdGV4dCcgfSk7XG4gICAgY29uc3QgaXNRdWVzdGlvblRhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KHRoaXMuY3VycmVudENhcmQuZnJvbnQpO1xuICAgIFxuICAgIGlmIChpc1F1ZXN0aW9uVGFibGUpIHtcbiAgICAgIGNvbnN0IHRhYmxlRWwgPSBUYWJsZVJlbmRlcmVyLnJlbmRlclRhYmxlKHRoaXMuY3VycmVudENhcmQuZnJvbnQsIGZhbHNlKTtcbiAgICAgIHJldmlld1RleHREaXYuYXBwZW5kQ2hpbGQodGFibGVFbCk7XG4gICAgICByZXZpZXdUZXh0RGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLXF1ZXN0aW9uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldmlld1RleHREaXYudGV4dENvbnRlbnQgPSB0aGlzLmN1cnJlbnRDYXJkLmZyb250O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyU2hvd0Fuc3dlckJ1dHRvbihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3Qgc2hvd0Fuc3dlckJ0biA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ1Nob3cgQW5zd2VyJyxcbiAgICAgIGNsczogJ21vZC1jdGEgc2hvdy1hbnN3ZXItYnRuJyxcbiAgICAgIGF0dHI6IHsgdGl0bGU6ICdQcmVzcyBFbnRlciBvciBUYWInIH1cbiAgICB9KTtcbiAgICBzaG93QW5zd2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U2hvd0Fuc3dlcih0cnVlKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclJhdGluZ0J1dHRvbnMoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGJ1dHRvbkdyb3VwID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3JhdGluZy1idXR0b25zJyB9KTtcblxuICAgIGNvbnN0IHJhdGluZ3M6IEFycmF5PHtcbiAgICAgIGVhc2U6IFJldmlld0Vhc2U7XG4gICAgICBsYWJlbDogc3RyaW5nO1xuICAgICAgY29sb3I6IHN0cmluZztcbiAgICAgIGtleTogc3RyaW5nO1xuICAgIH0+ID0gW1xuICAgICAgeyBlYXNlOiAnYWdhaW4nLCBsYWJlbDogJ0FnYWluXFxuIDwgMSBtaW4nLCBjb2xvcjogJ3JlZCcsIGtleTogJzEnIH0sXG4gICAgICB7IGVhc2U6ICdoYXJkJywgbGFiZWw6ICdIYXJkXFxuIDwgMTAgbWluJywgY29sb3I6ICdvcmFuZ2UnLCBrZXk6ICcyJyB9LFxuICAgICAgeyBlYXNlOiAnZ29vZCcsIGxhYmVsOiAnR29vZFxcbiAxIGRheScsIGNvbG9yOiAnYmx1ZScsIGtleTogJzMnIH0sXG4gICAgICB7IGVhc2U6ICdlYXN5JywgbGFiZWw6ICdFYXN5XFxuIDQgZGF5cycsIGNvbG9yOiAnZ3JlZW4nLCBrZXk6ICc0JyB9XG4gICAgXTtcblxuICAgIHJhdGluZ3MuZm9yRWFjaCgoeyBlYXNlLCBsYWJlbCwgY29sb3IsIGtleSB9KSA9PiB7XG4gICAgICBjb25zdCBidG4gPSBidXR0b25Hcm91cC5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgICBjbHM6IGByYXRpbmctYnRuIHJhdGluZy0ke2NvbG9yfWAsXG4gICAgICAgIGF0dHI6IHsgdGl0bGU6IGBQcmVzcyAke2tleX1gIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBsaW5lcyA9IGxhYmVsLnNwbGl0KCdcXG4nKTtcbiAgICAgIGJ0bi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBsaW5lc1swXSwgY2xzOiAncmF0aW5nLWxhYmVsJyB9KTtcbiAgICAgIGJ0bi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBsaW5lc1sxXSwgY2xzOiAncmF0aW5nLWludGVydmFsJyB9KTtcbiAgICAgIGJ0bi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBgKCR7a2V5fSlgLCBjbHM6ICdyYXRpbmctaG90a2V5JyB9KTtcblxuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zdWJtaXRSZXZpZXcoZWFzZSkpO1xuICAgIH0pO1xuICB9XG5cblxuICBwcml2YXRlIHJlbmRlck5hdmlnYXRpb25CdXR0b24oY29udGFpbmVyOiBIVE1MRWxlbWVudCwgdHlwZTogJ3ByZXYnIHwgJ25leHQnKSB7XG4gICAgY29uc3QgYnRuID0gY29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICBjbHM6IGBuYXYtYnRuICR7dHlwZX0tYnRuYCxcbiAgICAgIHRleHQ6IHR5cGUgPT09ICdwcmV2JyA/ICdcdTIxOTAnIDogJ1x1MjE5MidcbiAgICB9KTtcbiAgXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5nbyh0eXBlKTtcbiAgICB9KTtcbiAgfVxuICBcbiAgXG4gIHByaXZhdGUgZ28oZGlyZWN0aW9uOiAncHJldicgfCAnbmV4dCcpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XG4gIFxuICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgaWYgKCFzdGF0ZS5zaG93QW5zd2VyKSB7XG4gICAgICAgIC8vIFx1NkI2M1x1OTc2MiBcdTIxOTIgXHU4MENDXHU5NzYyXG5cbiAgICAgICAgY29uc3QgaGFzQ3VycmVudElucHV0ID0gdGhpcy5jdXJyZW50Q2FyZD8udHlwZSA9PT0gJ2Nsb3plJ1xuICAgICAgICAgID8gc3RhdGUudXNlckFuc3dlcnMuc29tZShhbnMgPT4gYW5zICYmIGFucy50cmltKCkgIT09ICcnKVxuICAgICAgICAgIDogc3RhdGUudXNlckFuc3dlci50cmltKCkgIT09ICcnO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGlmICghaGFzQ3VycmVudElucHV0KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U2hvd0Fuc3dlcih0cnVlKTtcbiAgICAgIFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU4MENDXHU5NzYyIFx1MjE5MiBcdTRFMEJcdTRFMDBcdTVGMjBcdTUzNjFcdTZCNjNcdTk3NjJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmRJbmRleCA8IHRoaXMuZHVlQ2FyZHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIC8vIFx1MjcwNSBcdTU3MjhcdTZFMDVcdTk2NjRcdTdGMTNcdTVCNThcdTUyNEQsXHU1MTQ4XHU0RkREXHU1QjU4XHU1RjUzXHU1MjREXHU3QjU0XHU2ODQ4XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNhdmVBbnN3ZXJUb0NhY2hlKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXJkSW5kZXgrKztcbiAgICAgICAgICAvLyBcdTI3MDUgXHU1MTQ4XHU2NkY0XHU2NUIwXHU1MzYxXHU3MjQ3XHU1RjE1XHU3NTI4XG4gICAgICAgICAgdGhpcy5jdXJyZW50Q2FyZCA9IHRoaXMuZHVlQ2FyZHNbdGhpcy5jdXJyZW50Q2FyZEluZGV4XTtcbiAgICAgICAgICAvLyBcdTI3MDUgXHU3MTM2XHU1NDBFXHU2RTA1XHU3QTdBXHU3MkI2XHU2MDAxKFx1NEUwRFx1NjYyRlx1NkUwNVx1OTY2NFx1N0YxM1x1NUI1OCEpXG4gICAgICAgICAgdGhpcy5yZXNldFJldmlld1N0YXRlKCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q2FyZCgnbmV4dCcpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFx1Mjc0QyBcdTc5RkJcdTk2NjRcdThGRDlcdTg4NEMsXHU0RTBEXHU4OTgxXHU2RTA1XHU5NjY0XHU3RjEzXHU1QjU4XG4gICAgICAgICAgLy8gdGhpcy5zdGF0ZU1hbmFnZXIuY2xlYXJDYWNoZSh0aGlzLmN1cnJlbnRDYXJkLmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXcgTm90aWNlKCdBbHJlYWR5IGF0IGxhc3QgY2FyZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBcbiAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgIGlmIChzdGF0ZS5zaG93QW5zd2VyKSB7XG4gICAgICAgIC8vIFx1ODBDQ1x1OTc2MiBcdTIxOTIgXHU2QjYzXHU5NzYyXG4gICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNldFNob3dBbnN3ZXIoZmFsc2UpO1xuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5yZXNldCgpO1xuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTaG93QW5zd2VyKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1NkI2M1x1OTc2MiBcdTIxOTIgXHU0RTBBXHU0RTAwXHU1RjIwXHU1MzYxXHU4MENDXHU5NzYyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDYXJkSW5kZXggPiAwKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudENhcmQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnNhdmVBbnN3ZXJUb0NhY2hlKHRoaXMuY3VycmVudENhcmQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXJkSW5kZXgtLTtcbiAgICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5yZXNldCgpO1xuICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudENhcmQoJ3ByZXYnKTtcbiAgICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTaG93QW5zd2VyKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ0FscmVhZHkgYXQgZmlyc3QgY2FyZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFx1NEVBNFx1NEU5Mlx1NTkwNFx1NzQwNlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHByaXZhdGUgYXN5bmMgc3VibWl0UmV2aWV3KGVhc2U6IFJldmlld0Vhc2UpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudENhcmQpIHJldHVybjtcbiAgXG4gICAgY29uc3QgdGltZVNwZW50ID0gKERhdGUubm93KCkgLSB0aGlzLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnN0YXJ0VGltZSkgLyAxMDAwO1xuICBcbiAgICBjb25zdCB1c2VyQW5zd2VyID0gdGhpcy5jdXJyZW50Q2FyZC50eXBlID09PSAnY2xvemUnIFxuICAgICAgPyB0aGlzLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnVzZXJBbnN3ZXJzIFxuICAgICAgOiB0aGlzLmN1cnJlbnRDYXJkLnR5cGUgPT09ICdxYSdcbiAgICAgID8gdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKS51c2VyQW5zd2VyXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgXG4gICAgY29uc3QgeyB1cGRhdGVkQ2FyZCwgcmV2aWV3TG9nIH0gPSB0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShcbiAgICAgIHRoaXMuY3VycmVudENhcmQsXG4gICAgICBlYXNlLFxuICAgICAgdGltZVNwZW50LFxuICAgICAgdXNlckFuc3dlclxuICAgICk7XG4gIFxuICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIudXBkYXRlQ2FyZCh1cGRhdGVkQ2FyZCk7XG4gICAgXG4gICAgLy8gXHVEODNEXHVEQzQ3IFx1NEZFRVx1NjUzOVx1OEZEOVx1OTFDQyxcdTc4NkVcdTRGRERcdTUzMDVcdTU0MkJcdTU0NjhcdTY3MUZcdTRGRTFcdTYwNkZcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmxvZ1Jldmlldyh7XG4gICAgICBpZDogYGxvZy0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsIC8vIFx1NjZGNFx1NTUyRlx1NEUwMFx1NzY4NElEXG4gICAgICBjeWNsZTogdGhpcy5wbHVnaW4uYW5hbHl0aWNzRW5naW5lLmdldEN1cnJlbnRDeWNsZU51bWJlcigpLCAvLyBcdUQ4M0RcdURDNDggXHU2REZCXHU1MkEwXHU1NDY4XHU2NzFGXHU1M0Y3XG4gICAgICAuLi5yZXZpZXdMb2dcbiAgICB9KTtcbiAgICBcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25DYXJkUmV2aWV3ZWQoKTtcbiAgXG4gICAgLy8gXHUyNzA1IFx1NjgwN1x1OEJCMFx1NEUzQVx1NURGMlx1NTkwRFx1NEU2MCxcdTRGNDZcdTRFMERcdTRFQ0VcdTUyMTdcdTg4NjhcdTRFMkRcdTUyMjBcdTk2NjRcbiAgICB0aGlzLnJldmlld2VkQ2FyZElkcy5hZGQodGhpcy5jdXJyZW50Q2FyZC5pZCk7XG4gICAgXG4gICAgLy8gXHUyNzA1IFx1NkUwNVx1OTY2NFx1OEJFNVx1NTM2MVx1NzI0N1x1NzY4NFx1N0I1NFx1Njg0OFx1N0YxM1x1NUI1OFxuICAgIHRoaXMuc3RhdGVNYW5hZ2VyLmNsZWFyQ2FjaGUodGhpcy5jdXJyZW50Q2FyZC5pZCk7XG4gICAgXG4gICAgLy8gXHUyNzA1IFx1OTFDRFx1N0Y2RVx1NzJCNlx1NjAwMVxuICAgIHRoaXMucmVzZXRSZXZpZXdTdGF0ZSgpO1xuICBcbiAgICAvLyBcdTI3MDUgXHU3OUZCXHU1MkE4XHU1MjMwXHU0RTBCXHU0RTAwXHU1RjIwXHU2NzJBXHU1OTBEXHU0RTYwXHU3Njg0XHU1MzYxXHU3MjQ3XG4gICAgY29uc3QgbmV4dFVucmV2aWV3ZWRJbmRleCA9IHRoaXMuZmluZE5leHRVbnJldmlld2VkQ2FyZCh0aGlzLmN1cnJlbnRDYXJkSW5kZXggKyAxKTtcbiAgICBcbiAgICBpZiAobmV4dFVucmV2aWV3ZWRJbmRleCA9PT0gLTEpIHtcbiAgICAgIC8vIFx1MkI1MCBcdTYyNDBcdTY3MDlcdTUzNjFcdTcyNDdcdTkwRkRcdTVERjJcdTU5MERcdTRFNjAgLSBcdTRFMERcdThCQkVcdTdGNkUgY3VycmVudENhcmQgXHU0RTNBIG51bGxcbiAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBSZXZpZXcgc2Vzc2lvbiBjb21wbGV0ZSFgKTtcbiAgICAgIC8vIFx1MkI1MCBcdThCQkVcdTdGNkVcdTRFMDBcdTRFMkFcdTY4MDdcdTVGRDdcdThCQTkgcmVuZGVyIFx1NzdFNVx1OTA1M1x1NTkwRFx1NEU2MFx1NURGMlx1NUI4Q1x1NjIxMFxuICAgICAgdGhpcy5jdXJyZW50Q2FyZCA9IG51bGw7XG4gICAgICB0aGlzLmR1ZUNhcmRzID0gW107IC8vIFx1MkI1MCBcdTZFMDVcdTdBN0FcdTUyMTdcdTg4NjgsXHU4OUU2XHU1M0QxIHJlbmRlck5vRHVlQ2FyZHNcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudENhcmRJbmRleCA9IG5leHRVbnJldmlld2VkSW5kZXg7XG4gICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRDYXJkKCduZXh0Jyk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIGZpbmROZXh0VW5yZXZpZXdlZENhcmQoc3RhcnRJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IHRoaXMuZHVlQ2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5yZXZpZXdlZENhcmRJZHMuaGFzKHRoaXMuZHVlQ2FyZHNbaV0uaWQpKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7IC8vIFx1NkNBMVx1NjcwOVx1NjI3RVx1NTIzMFx1NjcyQVx1NTkwRFx1NEU2MFx1NzY4NFx1NTM2MVx1NzI0N1xuICB9XG4gIHByaXZhdGUgYXN5bmMganVtcFRvU291cmNlKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLmN1cnJlbnRDYXJkLnNvdXJjZUZpbGUpO1xuICAgIGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgIG5ldyBOb3RpY2UoJ1NvdXJjZSBmaWxlIG5vdCBmb3VuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoXG4gICAgICB0aGlzLmN1cnJlbnRDYXJkLnNvdXJjZUNvbnRlbnRJZFxuICAgICk7XG5cbiAgICBpZiAoIWNvbnRlbnRVbml0KSB7XG4gICAgICBuZXcgTm90aWNlKCdTb3VyY2UgY29udGVudCBub3QgZm91bmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShJdGVtVmlldyk7XG4gICAgICBpZiAodmlldykge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSAodmlldyBhcyBhbnkpLmVkaXRvcjtcbiAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfSk7XG4gICAgICAgICAgZWRpdG9yLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICAgIGZyb206IHsgbGluZTogY29udGVudFVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmUsIGNoOiAwIH0sXG4gICAgICAgICAgICB0bzogeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfVxuICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlRmxhc2hjYXJkKGNhcmRJZDogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZGVsZXRlQ2FyZChjYXJkSWQpO1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZmxhc2hjYXJkRGVsZXRlZCcsIHRoaXMubGFuZ3VhZ2UpKTtcbiAgIFxuICAgICAgXG4gICAgICB0aGlzLmR1ZUNhcmRzID0gdGhpcy5kdWVDYXJkcy5maWx0ZXIoY2FyZCA9PiBjYXJkLmlkICE9PSBjYXJkSWQpO1xuICAgICAgXG4gICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZD8uaWQgPT09IGNhcmRJZCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FyZEluZGV4ID49IHRoaXMuZHVlQ2FyZHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Q2FyZEluZGV4ID0gTWF0aC5tYXgoMCwgdGhpcy5kdWVDYXJkcy5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDYXJkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5sb2FkRHVlQ2FyZHMoKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICBcbiAgIG5ldyBOb3RpY2UodCgnbm90aWNlLmRlbGV0ZUZsYXNoY2FyZEZhaWxlZCcsIHRoaXMubGFuZ3VhZ2UpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGVkaXRDdXJyZW50Rmxhc2hjYXJkKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50Q2FyZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbW9kYWwgPSBuZXcgRmxhc2hjYXJkRWRpdE1vZGFsKFxuICAgICAgdGhpcy5hcHAsXG4gICAgICB0aGlzLnBsdWdpbiwgIFxuICAgICAgdGhpcy5jdXJyZW50Q2FyZCxcbiAgICAgIGFzeW5jIChxdWVzdGlvbjogc3RyaW5nLCBhbnN3ZXI6IHN0cmluZykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDYXJkOiBGbGFzaGNhcmQgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmN1cnJlbnRDYXJkISxcbiAgICAgICAgICAgIGZyb250OiBxdWVzdGlvbixcbiAgICAgICAgICAgIGJhY2s6IHRoaXMuY3VycmVudENhcmQhLnR5cGUgPT09ICdjbG96ZScgPyBbYW5zd2VyXSA6IGFuc3dlcixcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLnRoaXMuY3VycmVudENhcmQhLm1ldGFkYXRhLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIudXBkYXRlQ2FyZCh1cGRhdGVkQ2FyZCk7XG4gICAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZmxhc2hjYXJkVXBkYXRlZCcsIHRoaXMubGFuZ3VhZ2UpKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYXJkID0gdXBkYXRlZENhcmQ7XG4gICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgICAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLnVwZGF0ZUZsYXNoY2FyZEZhaWxlZCcsIHRoaXMubGFuZ3VhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICAgIG1vZGFsLm9wZW4oKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzZXRDYXJkU3RhdHMoY2FyZElkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGNhcmRJZCk7XG4gICAgICBpZiAoIWNhcmQpIHJldHVybjtcblxuICAgICAgY2FyZC5zdGF0cyA9IHtcbiAgICAgICAgdG90YWxSZXZpZXdzOiAwLFxuICAgICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgICBsYXN0UmV2aWV3OiAwLFxuICAgICAgICBkaWZmaWN1bHR5OiAwLjNcbiAgICAgIH07XG4gICAgICBjYXJkLnNjaGVkdWxpbmcgPSB7XG4gICAgICAgIGludGVydmFsOiAwLFxuICAgICAgICBlYXNlOiAyLjUsXG4gICAgICAgIGR1ZTogRGF0ZS5ub3coKSxcbiAgICAgICAgbGFwc2VzOiAwLFxuICAgICAgICByZXBzOiAwLFxuICAgICAgICBzdGF0ZTogJ25ldydcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIudXBkYXRlQ2FyZChjYXJkKTtcbiAgICAgIFxuICAgICAgY29uc3QgbG9ncyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXTtcbiAgICAgIHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSA9IGxvZ3MuZmlsdGVyKFxuICAgICAgICBsb2cgPT4gbG9nLmZsYXNoY2FyZElkICE9PSBjYXJkSWRcbiAgICAgICk7XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5zYXZlKCk7XG4gICAgICBcbiAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLmNhcmRTdGF0c1Jlc2V0JywgdGhpcy5sYW5ndWFnZSkpO1xuIFxuICAgICAgdGhpcy5jdXJyZW50Q2FyZCA9IGNhcmQ7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNldHRpbmcgY2FyZCBzdGF0czonLCBlcnJvcik7XG4gICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLnJlc2V0U3RhdHNGYWlsZWQnLCB0aGlzLmxhbmd1YWdlKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBcdTk1MkVcdTc2RDhcdTU5MDRcdTc0MDZcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBwcml2YXRlIGtleWJvYXJkSGFuZGxlciA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgaXNJbklucHV0ID0gdGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgdGFyZ2V0LnRhZ05hbWUgPT09ICdURVhUQVJFQSc7XG5cbiAgICAvLyBUYWIgXHU5NTJFXHU1OTA0XHU3NDA2XG4gICAgaWYgKGUua2V5ID09PSAnVGFiJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgXG4gICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAvLyBTaGlmdCtUYWI6IFx1NTQwRVx1OTAwMFxuICAgICAgICB0aGlzLmdvKCdwcmV2Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUYWI6IFx1NTI0RFx1OEZEQlxuICAgICAgICB0aGlzLmdvKCduZXh0Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gXHU2NTcwXHU1QjU3XHU5NTJFXHU4QkM0XHU1MjA2XG4gICAgaWYgKHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuc2hvd0Fuc3dlciAmJiAhaXNJbklucHV0KSB7XG4gICAgICBjb25zdCByYXRpbmdNYXA6IHsgW2tleTogc3RyaW5nXTogUmV2aWV3RWFzZSB9ID0ge1xuICAgICAgICAnMSc6ICdhZ2FpbicsXG4gICAgICAgICcyJzogJ2hhcmQnLFxuICAgICAgICAnMyc6ICdnb29kJyxcbiAgICAgICAgJzQnOiAnZWFzeSdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGlmIChyYXRpbmdNYXBbZS5rZXldKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zdWJtaXRSZXZpZXcocmF0aW5nTWFwW2Uua2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgcmVnaXN0ZXJLZXlib2FyZEhhbmRsZXJzKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBjbGVhbnVwUmV2aWV3ZWRDYXJkcygpIHtcbiAgICB0aGlzLnJldmlld2VkQ2FyZElkcy5jbGVhcigpO1xuICB9XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gXHU2ODM3XHU1RjBGXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG59IiwgIi8vIGNhcmQgU2NoZWR1bGVyLnRzXG5pbXBvcnQgeyBGbGFzaGNhcmQsIFJldmlld0xvZyB9IGZyb20gJy4vRmxhc2hjYXJkTWFuYWdlcic7XG5cbmV4cG9ydCB0eXBlIFJldmlld0Vhc2UgPSAnYWdhaW4nIHwgJ2hhcmQnIHwgJ2dvb2QnIHwgJ2Vhc3knO1xuXG5leHBvcnQgY2xhc3MgQ2FyZFNjaGVkdWxlciB7XG4gIC8qKlxuICAgKiBcdThCQTFcdTdCOTdcdTRFMEJcdTZCMjFcdTU5MERcdTRFNjBcdTY1RjZcdTk1RjRcdUZGMDhcdTU3RkFcdTRFOEUgU00tMiBcdTdCOTdcdTZDRDVcdUZGMDlcbiAgICovXG4gIHNjaGVkdWxlKFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBlYXNlOiBSZXZpZXdFYXNlLFxuICAgIHRpbWVTcGVudDogbnVtYmVyLFxuICAgIHVzZXJBbnN3ZXI/OiBzdHJpbmcgfCBzdHJpbmdbXVxuICApOiB7XG4gICAgdXBkYXRlZENhcmQ6IEZsYXNoY2FyZDtcbiAgICByZXZpZXdMb2c6IE9taXQ8UmV2aWV3TG9nLCAnaWQnPjtcbiAgfSB7XG4gICAgY29uc3Qgb2xkU2NoZWR1bGluZyA9IHsgLi4uY2FyZC5zY2hlZHVsaW5nIH07XG4gICAgY29uc3QgbmV3U2NoZWR1bGluZyA9IHsgLi4uY2FyZC5zY2hlZHVsaW5nIH07XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIC8vIFx1NjZGNFx1NjVCMFx1N0VERlx1OEJBMVxuICAgIGNhcmQuc3RhdHMudG90YWxSZXZpZXdzKys7XG4gICAgY2FyZC5zdGF0cy5sYXN0UmV2aWV3ID0gbm93O1xuXG4gICAgLy8gXHU4QkExXHU3Qjk3XHU1RTczXHU1NzQ3XHU2NUY2XHU5NUY0XG4gICAgY29uc3QgdG90YWxUaW1lID0gY2FyZC5zdGF0cy5hdmVyYWdlVGltZSAqIChjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cyAtIDEpICsgdGltZVNwZW50O1xuICAgIGNhcmQuc3RhdHMuYXZlcmFnZVRpbWUgPSB0b3RhbFRpbWUgLyBjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cztcblxuICAgIC8vIFx1NjgzOVx1NjM2RVx1OTZCRVx1NUVBNlx1OEJDNFx1N0VBN1x1NjZGNFx1NjVCMFx1OEMwM1x1NUVBNlxuICAgIHN3aXRjaCAoZWFzZSkge1xuICAgICAgY2FzZSAnYWdhaW4nOlxuICAgICAgICB0aGlzLnNjaGVkdWxlQWdhaW4obmV3U2NoZWR1bGluZywgY2FyZC5zdGF0cyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGFyZCc6XG4gICAgICAgIHRoaXMuc2NoZWR1bGVIYXJkKG5ld1NjaGVkdWxpbmcsIGNhcmQuc3RhdHMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2dvb2QnOlxuICAgICAgICB0aGlzLnNjaGVkdWxlR29vZChuZXdTY2hlZHVsaW5nLCBjYXJkLnN0YXRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlYXN5JzpcbiAgICAgICAgdGhpcy5zY2hlZHVsZUVhc3kobmV3U2NoZWR1bGluZywgY2FyZC5zdGF0cyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNhcmQuc2NoZWR1bGluZyA9IG5ld1NjaGVkdWxpbmc7XG4gICAgY2FyZC5tZXRhZGF0YS51cGRhdGVkQXQgPSBub3c7XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgICBjb25zdCByZXZpZXdMb2c6IE9taXQ8UmV2aWV3TG9nLCAnaWQnPiA9IHtcbiAgICAgIGZsYXNoY2FyZElkOiBjYXJkLmlkLFxuICAgICAgdGltZXN0YW1wOiBub3csXG4gICAgICByZXNwb25zZToge1xuICAgICAgICB1c2VyQW5zd2VyLFxuICAgICAgICB0aW1lU3BlbnQsXG4gICAgICAgIGVhc2VcbiAgICAgIH0sXG4gICAgICBzY2hlZHVsaW5nQ2hhbmdlOiB7XG4gICAgICAgIG9sZEludGVydmFsOiBvbGRTY2hlZHVsaW5nLmludGVydmFsLFxuICAgICAgICBuZXdJbnRlcnZhbDogbmV3U2NoZWR1bGluZy5pbnRlcnZhbCxcbiAgICAgICAgb2xkRWFzZTogb2xkU2NoZWR1bGluZy5lYXNlLFxuICAgICAgICBuZXdFYXNlOiBuZXdTY2hlZHVsaW5nLmVhc2VcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHsgdXBkYXRlZENhcmQ6IGNhcmQsIHJldmlld0xvZyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFnYWluIC0gXHU1QjhDXHU1MTY4XHU1RkQ4XHU4QkIwXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlQWdhaW4oXG4gICAgc2NoZWR1bGluZzogRmxhc2hjYXJkWydzY2hlZHVsaW5nJ10sXG4gICAgc3RhdHM6IEZsYXNoY2FyZFsnc3RhdHMnXVxuICApIHtcbiAgICAvLyBcdTkxQ0RcdTdGNkVcdTk1RjRcdTk2OTRcbiAgICBzY2hlZHVsaW5nLmludGVydmFsID0gMTsgLy8gMSBcdTUyMDZcdTk0OUZcbiAgICBzY2hlZHVsaW5nLmVhc2UgPSBNYXRoLm1heCgxLjMsIHNjaGVkdWxpbmcuZWFzZSAtIDAuMik7XG4gICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgc2NoZWR1bGluZy5pbnRlcnZhbCAqIDYwICogMTAwMDtcbiAgICBzY2hlZHVsaW5nLmxhcHNlcysrO1xuICAgIHNjaGVkdWxpbmcucmVwcysrO1xuICAgIFxuICAgIC8vIFx1NzJCNlx1NjAwMVx1OEY2Q1x1NjM2MlxuICAgIGlmIChzY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3Jykge1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdsZWFybmluZyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAncmVsZWFybmluZyc7XG4gICAgfVxuXG4gICAgLy8gXHU1ODlFXHU1MkEwXHU5NkJFXHU1RUE2XG4gICAgc3RhdHMuZGlmZmljdWx0eSA9IE1hdGgubWluKDEuMCwgc3RhdHMuZGlmZmljdWx0eSArIDAuMSk7XG4gIH1cblxuICAvKipcbiAgICogSGFyZCAtIFx1NTZGMFx1OTZCRVxuICAgKi9cbiAgcHJpdmF0ZSBzY2hlZHVsZUhhcmQoXG4gICAgc2NoZWR1bGluZzogRmxhc2hjYXJkWydzY2hlZHVsaW5nJ10sXG4gICAgc3RhdHM6IEZsYXNoY2FyZFsnc3RhdHMnXVxuICApIHtcbiAgICBzY2hlZHVsaW5nLnJlcHMrKztcblxuICAgIGlmIChzY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3JyB8fCBzY2hlZHVsaW5nLnN0YXRlID09PSAnbGVhcm5pbmcnKSB7XG4gICAgICAvLyBcdTVCNjZcdTRFNjBcdTk2MzZcdTZCQjVcdUZGMUExMCBcdTUyMDZcdTk0OUZcbiAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSAxMDtcbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIDEwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdsZWFybmluZyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFx1NTkwRFx1NEU2MFx1OTYzNlx1NkJCNVx1RkYxQVx1NUY1M1x1NTI0RFx1OTVGNFx1OTY5NCAqIDEuMlxuICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IE1hdGgubWF4KDEsIHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiAxLjIpO1xuICAgICAgc2NoZWR1bGluZy5lYXNlID0gTWF0aC5tYXgoMS4zLCBzY2hlZHVsaW5nLmVhc2UgLSAwLjE1KTtcbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdyZXZpZXcnO1xuICAgIH1cblxuICAgIHN0YXRzLmRpZmZpY3VsdHkgPSBNYXRoLm1pbigxLjAsIHN0YXRzLmRpZmZpY3VsdHkgKyAwLjA1KTtcbiAgICBzdGF0cy5jb3JyZWN0Q291bnQgKz0gMC41OyAvLyBcdTkwRThcdTUyMDZcdTZCNjNcdTc4NkVcbiAgfVxuXG4gIC8qKlxuICAgKiBHb29kIC0gXHU2QjYzXHU3ODZFXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlR29vZChcbiAgICBzY2hlZHVsaW5nOiBGbGFzaGNhcmRbJ3NjaGVkdWxpbmcnXSxcbiAgICBzdGF0czogRmxhc2hjYXJkWydzdGF0cyddXG4gICkge1xuICAgIHNjaGVkdWxpbmcucmVwcysrO1xuICAgIHN0YXRzLmNvcnJlY3RDb3VudCsrO1xuXG4gICAgaWYgKHNjaGVkdWxpbmcuc3RhdGUgPT09ICduZXcnKSB7XG4gICAgICAvLyBcdTY1QjBcdTUzNjFcdTcyNDdcdUZGMUExIFx1NTkyOVxuICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IDE7XG4gICAgICBzY2hlZHVsaW5nLmR1ZSA9IERhdGUubm93KCkgKyAxICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAnbGVhcm5pbmcnO1xuICAgIH0gZWxzZSBpZiAoc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ2xlYXJuaW5nJykge1xuICAgICAgLy8gXHU1QjY2XHU0RTYwXHU0RTJEXHVGRjFBXHU4RkRCXHU1MTY1XHU1OTBEXHU0RTYwXHVGRjBDXHU5NUY0XHU5Njk0XHU2ODM5XHU2MzZFXHU4QkIwXHU1RkM2XHU1RjNBXHU1RUE2XG4gICAgICBpZiAoc2NoZWR1bGluZy5pbnRlcnZhbCA8IDEpIHtcbiAgICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gMztcbiAgICAgIH1cbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdyZXZpZXcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcdTU5MERcdTRFNjBcdTk2MzZcdTZCQjVcdUZGMUFcdTk1RjRcdTk2OTQgKiBlYXNlXG4gICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gc2NoZWR1bGluZy5pbnRlcnZhbCAqIHNjaGVkdWxpbmcuZWFzZTtcbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5lYXNlID0gc2NoZWR1bGluZy5lYXNlICsgMC4xO1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdyZXZpZXcnO1xuICAgIH1cblxuICAgIC8vIFx1OTY0RFx1NEY0RVx1OTZCRVx1NUVBNlxuICAgIHN0YXRzLmRpZmZpY3VsdHkgPSBNYXRoLm1heCgwLCBzdGF0cy5kaWZmaWN1bHR5IC0gMC4wNSk7XG4gIH1cblxuICAvKipcbiAgICogRWFzeSAtIFx1OTc1RVx1NUUzOFx1N0I4MFx1NTM1NVxuICAgKi9cbiAgcHJpdmF0ZSBzY2hlZHVsZUVhc3koXG4gICAgc2NoZWR1bGluZzogRmxhc2hjYXJkWydzY2hlZHVsaW5nJ10sXG4gICAgc3RhdHM6IEZsYXNoY2FyZFsnc3RhdHMnXVxuICApIHtcbiAgICBzY2hlZHVsaW5nLnJlcHMrKztcbiAgICBzdGF0cy5jb3JyZWN0Q291bnQrKztcblxuICAgIGlmIChzY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3Jykge1xuICAgICAgLy8gXHU2NUIwXHU1MzYxXHU3MjQ3XHVGRjFBXHU3NkY0XHU2M0E1IDQgXHU1OTI5XG4gICAgICBzY2hlZHVsaW5nLmludGVydmFsID0gNDtcbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIDQgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5zdGF0ZSA9ICdyZXZpZXcnO1xuICAgIH0gZWxzZSBpZiAoc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ2xlYXJuaW5nJykge1xuICAgICAgLy8gXHU1QjY2XHU0RTYwXHU0RTJEXHVGRjFBXHU3NkY0XHU2M0E1XHU4RkRCXHU1MTY1XHU1OTBEXHU0RTYwXHVGRjBDNyBcdTU5MjlcbiAgICAgIHNjaGVkdWxpbmcuaW50ZXJ2YWwgPSA3O1xuICAgICAgc2NoZWR1bGluZy5kdWUgPSBEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICBzY2hlZHVsaW5nLnN0YXRlID0gJ3Jldmlldyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFx1NTkwRFx1NEU2MFx1OTYzNlx1NkJCNVx1RkYxQVx1OTVGNFx1OTY5NCAqIChlYXNlICsgMC4zKVxuICAgICAgc2NoZWR1bGluZy5pbnRlcnZhbCA9IHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiAoc2NoZWR1bGluZy5lYXNlICsgMC4zKTtcbiAgICAgIHNjaGVkdWxpbmcuZHVlID0gRGF0ZS5ub3coKSArIHNjaGVkdWxpbmcuaW50ZXJ2YWwgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgc2NoZWR1bGluZy5lYXNlID0gc2NoZWR1bGluZy5lYXNlICsgMC4xNTtcbiAgICAgIHNjaGVkdWxpbmcuc3RhdGUgPSAncmV2aWV3JztcbiAgICB9XG5cbiAgICAvLyBcdTY2M0VcdTg0NTdcdTk2NERcdTRGNEVcdTk2QkVcdTVFQTZcbiAgICBzdGF0cy5kaWZmaWN1bHR5ID0gTWF0aC5tYXgoMCwgc3RhdHMuZGlmZmljdWx0eSAtIDAuMSk7XG4gIH1cblxuICAvKipcbiAgICogXHU4QkM0XHU0RjMwXHU3NTI4XHU2MjM3XHU3QjU0XHU2ODQ4XHVGRjA4XHU3NTI4XHU0RThFXHU4RjkzXHU1MTY1XHU3QjU0XHU2ODQ4XHU2QTIxXHU1RjBGXHVGRjA5XG4gICAqL1xuLyoqXG4gKiBcdThCQzRcdTRGMzBcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDgoXHU3NTI4XHU0RThFXHU4RjkzXHU1MTY1XHU3QjU0XHU2ODQ4XHU2QTIxXHU1RjBGKVxuICovXG5ldmFsdWF0ZUFuc3dlcihcbiAgY29ycmVjdEFuc3dlcjogc3RyaW5nIHwgc3RyaW5nW10sXG4gIHVzZXJBbnN3ZXI6IHN0cmluZyB8IHN0cmluZ1tdXG4pOiB7XG4gIGNvcnJlY3RuZXNzOiAnY29ycmVjdCcgfCAncGFydGlhbCcgfCAnd3JvbmcnO1xuICBzaW1pbGFyaXR5OiBudW1iZXI7XG59IHtcbiAgLy8gXHU1OTA0XHU3NDA2XHU2NTcwXHU3RUM0KFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QSlcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29ycmVjdEFuc3dlcikgJiYgQXJyYXkuaXNBcnJheSh1c2VyQW5zd2VyKSkge1xuICAgIGxldCBjb3JyZWN0Q291bnQgPSAwO1xuICAgIGNvbnN0IHRvdGFsID0gY29ycmVjdEFuc3dlci5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgIC8vIFx1RDgzQ1x1REQ5NSBcdTVCRjlcdTZCQ0ZcdTRFMkFcdTdBN0FcdTY4M0NcdTRFNUZcdTVFOTRcdTc1MjggXCIvXCIgXHU4OUM0XHU1MjE5XG4gICAgICBjb25zdCBldmFsdWF0aW9uID0gdGhpcy5ldmFsdWF0ZVNpbmdsZUFuc3dlcihcbiAgICAgICAgY29ycmVjdEFuc3dlcltpXSxcbiAgICAgICAgdXNlckFuc3dlcltpXSB8fCAnJ1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGV2YWx1YXRpb24uc2ltaWxhcml0eSA+PSAwLjkpIGNvcnJlY3RDb3VudCsrO1xuICAgICAgZWxzZSBpZiAoZXZhbHVhdGlvbi5zaW1pbGFyaXR5ID49IDAuNikgY29ycmVjdENvdW50ICs9IDAuNTtcbiAgICB9XG5cbiAgICBjb25zdCBvdmVyYWxsU2ltaWxhcml0eSA9IGNvcnJlY3RDb3VudCAvIHRvdGFsO1xuXG4gICAgaWYgKG92ZXJhbGxTaW1pbGFyaXR5ID49IDAuOSkge1xuICAgICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdjb3JyZWN0Jywgc2ltaWxhcml0eTogb3ZlcmFsbFNpbWlsYXJpdHkgfTtcbiAgICB9IGVsc2UgaWYgKG92ZXJhbGxTaW1pbGFyaXR5ID49IDAuNikge1xuICAgICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdwYXJ0aWFsJywgc2ltaWxhcml0eTogb3ZlcmFsbFNpbWlsYXJpdHkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICd3cm9uZycsIHNpbWlsYXJpdHk6IG92ZXJhbGxTaW1pbGFyaXR5IH07XG4gICAgfVxuICB9XG5cbiAgLy8gXHVEODNDXHVERDk1IFx1NTkwNFx1NzQwNlx1NUI1N1x1N0IyNlx1NEUzMiAtIFx1NjNEMFx1NTNENlx1NTIzMFx1NzJFQ1x1N0FDQlx1NjVCOVx1NkNENVxuICByZXR1cm4gdGhpcy5ldmFsdWF0ZVNpbmdsZUFuc3dlcihcbiAgICBjb3JyZWN0QW5zd2VyIGFzIHN0cmluZyxcbiAgICB1c2VyQW5zd2VyIGFzIHN0cmluZ1xuICApO1xufVxuXG4vKipcbiAqIFx1RDgzQ1x1REQ5NSBcdThCQzRcdTRGMzBcdTUzNTVcdTRFMkFcdTdCNTRcdTY4NDgoXHU2NTJGXHU2MzAxIFwiL1wiIFx1NTIwNlx1OTY5NFx1NzY4NFx1NTkxQVx1NEUyQVx1NkI2M1x1Nzg2RVx1N0I1NFx1Njg0OClcbiAqL1xucHJpdmF0ZSBldmFsdWF0ZVNpbmdsZUFuc3dlcihcbiAgY29ycmVjdEFuc3dlcjogc3RyaW5nLFxuICB1c2VyQW5zd2VyOiBzdHJpbmdcbik6IHtcbiAgY29ycmVjdG5lc3M6ICdjb3JyZWN0JyB8ICdwYXJ0aWFsJyB8ICd3cm9uZyc7XG4gIHNpbWlsYXJpdHk6IG51bWJlcjtcbn0ge1xuICBjb25zdCBjb3JyZWN0ID0gdGhpcy5ub3JtYWxpemUoY29ycmVjdEFuc3dlcik7XG4gIGNvbnN0IHVzZXIgPSB0aGlzLm5vcm1hbGl6ZSh1c2VyQW5zd2VyKTtcblxuICAvLyBcdTdBN0FcdTdCNTRcdTY4NDhcbiAgaWYgKHVzZXIubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICd3cm9uZycsIHNpbWlsYXJpdHk6IDAgfTtcbiAgfVxuXG4gIC8vIFx1RDgzQ1x1REQ5NSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTUzMDVcdTU0MkIgXCIvXCIgLSBcdTg4NjhcdTc5M0FcdTU5MUFcdTRFMkFcdTUzRUZcdTYzQTVcdTUzRDdcdTdCNTRcdTY4NDhcbiAgaWYgKGNvcnJlY3RBbnN3ZXIuaW5jbHVkZXMoJy8nKSB8fCBjb3JyZWN0QW5zd2VyLmluY2x1ZGVzKCd8JykpIHtcbiAgICBjb25zdCBhbHRlcm5hdGl2ZXMgPSBjb3JyZWN0QW5zd2VyXG4gICAgICAuc3BsaXQoL1tcXC98XS8pICAvLyBcdTY1MkZcdTYzMDEgLyBcdTYyMTYgfFxuICAgICAgLm1hcChhbHQgPT4gdGhpcy5ub3JtYWxpemUoYWx0LnRyaW0oKSkpXG4gICAgICAuZmlsdGVyKGFsdCA9PiBhbHQubGVuZ3RoID4gMCk7XG5cbiAgICAvLyBcdTVCRjlcdTZCQ0ZcdTRFMkFcdTUzRUZcdTgwRkRcdTc2ODRcdTdCNTRcdTY4NDhcdThCQTFcdTdCOTdcdTc2RjhcdTRGM0NcdTVFQTYsXHU1M0Q2XHU2NzAwXHU5QUQ4XHU1MjA2XG4gICAgbGV0IG1heFNpbWlsYXJpdHkgPSAwO1xuICAgIGZvciAoY29uc3QgYWx0ZXJuYXRpdmUgb2YgYWx0ZXJuYXRpdmVzKSB7XG4gICAgICAvLyBcdTVCOENcdTUxNjhcdTUzMzlcdTkxNERcdTRFRkJcdTYxMEZcdTRFMDBcdTRFMkFcdTVDMzFcdTdCOTdcdTVCRjlcbiAgICAgIGlmICh1c2VyID09PSBhbHRlcm5hdGl2ZSkge1xuICAgICAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ2NvcnJlY3QnLCBzaW1pbGFyaXR5OiAxLjAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgc2ltaWxhcml0eSA9IHRoaXMuY2FsY3VsYXRlU2ltaWxhcml0eShhbHRlcm5hdGl2ZSwgdXNlcik7XG4gICAgICBtYXhTaW1pbGFyaXR5ID0gTWF0aC5tYXgobWF4U2ltaWxhcml0eSwgc2ltaWxhcml0eSk7XG4gICAgfVxuXG4gICAgLy8gXHU0RjdGXHU3NTI4XHU2NzAwXHU5QUQ4XHU3NkY4XHU0RjNDXHU1RUE2XHU1MjI0XHU2NUFEXG4gICAgaWYgKG1heFNpbWlsYXJpdHkgPj0gMC45KSB7XG4gICAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ2NvcnJlY3QnLCBzaW1pbGFyaXR5OiBtYXhTaW1pbGFyaXR5IH07XG4gICAgfSBlbHNlIGlmIChtYXhTaW1pbGFyaXR5ID49IDAuNykge1xuICAgICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdwYXJ0aWFsJywgc2ltaWxhcml0eTogbWF4U2ltaWxhcml0eSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBjb3JyZWN0bmVzczogJ3dyb25nJywgc2ltaWxhcml0eTogbWF4U2ltaWxhcml0eSB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIFx1RDgzRFx1REQzRCBcdTUzOUZcdTY3MDlcdTkwM0JcdThGOTEgLSBcdTU5MDRcdTc0MDZcdTRFMERcdTU0MkIgXCIvXCIgXHU3Njg0XHU2NjZFXHU5MDFBXHU3QjU0XHU2ODQ4XG4gIFxuICAvLyBcdTk1N0ZcdTVFQTZcdTVERUVcdTVGMDJcdThGQzdcdTU5MjdcdTc2RjRcdTYzQTVcdTUyMjRcdTk1MTlcbiAgY29uc3QgbGVuZ3RoUmF0aW8gPSBNYXRoLm1pbih1c2VyLmxlbmd0aCwgY29ycmVjdC5sZW5ndGgpIC8gXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgodXNlci5sZW5ndGgsIGNvcnJlY3QubGVuZ3RoKTtcbmlmIChsZW5ndGhSYXRpbyA8IDAuMyAmJiB1c2VyLmxlbmd0aCA8IDYpIHtcbiAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICd3cm9uZycsIHNpbWlsYXJpdHk6IDAgfTtcbn1cblxuXG5cbiAgY29uc3Qgc2ltaWxhcml0eSA9IHRoaXMuY2FsY3VsYXRlU2ltaWxhcml0eShjb3JyZWN0LCB1c2VyKTtcbiAgY29uc3QgY292ZXJhZ2UgPSB0aGlzLmNhbGN1bGF0ZVRva2VuQ292ZXJhZ2UoY29ycmVjdCwgdXNlcik7XG4gIFxuICAvLyBcdTUzOUZcdTY3MDlcdTg5QzRcdTUyMTlcbiAgaWYgKHNpbWlsYXJpdHkgPj0gMC45KSB7XG4gICAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICdjb3JyZWN0Jywgc2ltaWxhcml0eSB9O1xuICB9XG4gIFxuICAvLyBcdUQ4M0NcdUREOTUgXHU2NUIwXHU1ODlFXHVGRjFBXHU1MTczXHU5NTJFXHU4QkNEXHU1NDdEXHU0RTJEXHU1OTFBXHVGRjBDXHU0RjQ2XHU1M0U1XHU1QjUwXHU3RUQzXHU2Nzg0XHU1REVFXG4gIGlmIChzaW1pbGFyaXR5IDwgMC43ICYmIGNvdmVyYWdlID49IDAuNikge1xuICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAncGFydGlhbCcsIHNpbWlsYXJpdHkgfTtcbiAgfVxuICBcbiAgLy8gXHU1MzlGXHU2NzA5XHU5MEU4XHU1MjA2XHU2QjYzXHU3ODZFXG4gIGlmIChzaW1pbGFyaXR5ID49IDAuNykge1xuICAgIHJldHVybiB7IGNvcnJlY3RuZXNzOiAncGFydGlhbCcsIHNpbWlsYXJpdHkgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHsgY29ycmVjdG5lc3M6ICd3cm9uZycsIHNpbWlsYXJpdHkgfTtcbiAgXG59XG4gIC8qKlxuICAgKiBcdTY4MDdcdTUxQzZcdTUzMTZcdTY1ODdcdTY3MkNcbiAgICovXG4gIHByaXZhdGUgbm9ybWFsaXplKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAudHJpbSgpXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpICAgIC8vIFx1NTQwOFx1NUU3Nlx1NTkxQVx1NEUyQVx1N0E3QVx1NjgzQ1x1NEUzQVx1NEUwMFx1NEUyQVxuICAgICAgLnJlcGxhY2UoL1xcbisvZywgJyAnKSAgICAvLyBcdTYzNjJcdTg4NENcdTY2RkZcdTYzNjJcdTRFM0FcdTdBN0FcdTY4M0NcbiAgICAgIC5yZXBsYWNlKC9bXHVGRjBDXHUzMDAyXHVGRjAxXHVGRjFGXHUzMDAxXHVGRjFCXHVGRjFBXCJcIicnXHVGRjA4XHVGRjA5XHUzMDBBXHUzMDBCXHUzMDEwXHUzMDExXFwuLCE/OzpcIicoKVxcW1xcXXt9XS9nLCAnJyk7ICAvLyBcdTc5RkJcdTk2NjRcdTY4MDdcdTcwQjlcdTdCMjZcdTUzRjdcbiAgfVxuXG4gIC8qKlxuICAgKiBcdThCQTFcdTdCOTdcdTc2RjhcdTRGM0NcdTVFQTZcdUZGMDhMZXZlbnNodGVpbiBcdThERERcdTc5QkJcdUZGMDlcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlU2ltaWxhcml0eShzdHIxOiBzdHJpbmcsIHN0cjI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgaWYgKHN0cjEgPT09IHN0cjIpIHJldHVybiAxO1xuICAgIGlmIChzdHIxLmxlbmd0aCA9PT0gMCB8fCBzdHIyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBtYXRyaXg6IG51bWJlcltdW10gPSBbXTtcblxuICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NzdFOVx1OTYzNVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHN0cjIubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1hdHJpeFtpXSA9IFtpXTtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPD0gc3RyMS5sZW5ndGg7IGorKykge1xuICAgICAgbWF0cml4WzBdW2pdID0gajtcbiAgICB9XG5cbiAgICAvLyBcdTU4NkJcdTUxNDVcdTc3RTlcdTk2MzVcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdHIyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMTsgaiA8PSBzdHIxLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChzdHIyLmNoYXJBdChpIC0gMSkgPT09IHN0cjEuY2hhckF0KGogLSAxKSkge1xuICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMV1baiAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IE1hdGgubWluKFxuICAgICAgICAgICAgbWF0cml4W2kgLSAxXVtqIC0gMV0gKyAxLCAvLyBcdTY2RkZcdTYzNjJcbiAgICAgICAgICAgIG1hdHJpeFtpXVtqIC0gMV0gKyAxLCAgICAgLy8gXHU2M0QyXHU1MTY1XG4gICAgICAgICAgICBtYXRyaXhbaSAtIDFdW2pdICsgMSAgICAgIC8vIFx1NTIyMFx1OTY2NFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IG1hdHJpeFtzdHIyLmxlbmd0aF1bc3RyMS5sZW5ndGhdO1xuICAgIGNvbnN0IG1heExlbmd0aCA9IE1hdGgubWF4KHN0cjEubGVuZ3RoLCBzdHIyLmxlbmd0aCk7XG4gICAgXG4gICAgcmV0dXJuIDEgLSBkaXN0YW5jZSAvIG1heExlbmd0aDtcbiAgfVxuLyoqXG4gKiBcdThCQTFcdTdCOTdcdTUxNzNcdTk1MkVcdThCQ0RcdTg5ODZcdTc2RDZcdTczODdcbiAqIFx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OFx1NEUyRFx1NTQ3RFx1NEUyRFx1NEU4Nlx1NTkxQVx1NUMxMVx1NjgwN1x1NTFDNlx1N0I1NFx1Njg0OFx1NzY4NFx1OEJDRFxuICovXG5wcml2YXRlIGNhbGN1bGF0ZVRva2VuQ292ZXJhZ2UoXG4gIGNvcnJlY3Q6IHN0cmluZyxcbiAgdXNlcjogc3RyaW5nXG4pOiBudW1iZXIge1xuICBjb25zdCBjb3JyZWN0VG9rZW5zID0gY29ycmVjdC5zcGxpdCgnICcpLmZpbHRlcih0ID0+IHQubGVuZ3RoID4gMSk7XG4gIGNvbnN0IHVzZXJUb2tlbnMgPSBuZXcgU2V0KHVzZXIuc3BsaXQoJyAnKSk7XG5cbiAgaWYgKGNvcnJlY3RUb2tlbnMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcblxuICBsZXQgaGl0ID0gMDtcbiAgZm9yIChjb25zdCB0b2tlbiBvZiBjb3JyZWN0VG9rZW5zKSB7XG4gICAgaWYgKHVzZXJUb2tlbnMuaGFzKHRva2VuKSkgaGl0Kys7XG4gIH1cblxuICByZXR1cm4gaGl0IC8gY29ycmVjdFRva2Vucy5sZW5ndGg7IC8vIDAgfiAxXG59XG5cblxuICAvKipcbiAgICogXHU2ODM5XHU2MzZFXHU3NkY4XHU0RjNDXHU1RUE2XHU1RUZBXHU4QkFFXHU5NkJFXHU1RUE2XG4gICAqL1xuICBzdWdnZXN0RWFzZShzaW1pbGFyaXR5OiBudW1iZXIpOiBSZXZpZXdFYXNlIHtcbiAgICBpZiAoc2ltaWxhcml0eSA+PSAwLjgpIHJldHVybiAnZWFzeSc7XG4gICAgaWYgKHNpbWlsYXJpdHkgPj0gMC43KSByZXR1cm4gJ2dvb2QnO1xuICAgIGlmIChzaW1pbGFyaXR5ID49IDAuNSkgcmV0dXJuICdoYXJkJztcbiAgICByZXR1cm4gJ2FnYWluJztcbiAgfVxufSIsICJpbXBvcnQgeyBBcHAsIE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgeyBGbGFzaGNhcmQgfSBmcm9tICcuLi8uLi8uLi9jb3JlL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uLy4uL2kxOG4vdHJhbnNsYXRpb25zJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uLy4uLy4uL21haW4nO1xuXG5leHBvcnQgY2xhc3MgRmxhc2hjYXJkRWRpdE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcHA6IEFwcCxcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW4sXG4gICAgcHJpdmF0ZSBjYXJkOiBGbGFzaGNhcmQsXG4gICAgcHJpdmF0ZSBvblN1Ym1pdDogKHF1ZXN0aW9uOiBzdHJpbmcsIGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29uc3QgbGFuZyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IHQoJ2ZsYXNoY2FyZEVkaXQudGl0bGUnLCBsYW5nKSB9KTtcblxuICAgIC8vIFF1ZXN0aW9uXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogdCgnZmxhc2hjYXJkRWRpdC5xdWVzdGlvbicsIGxhbmcpIH0pO1xuICAgIGNvbnN0IHF1ZXN0aW9uSW5wdXQgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3RleHRhcmVhJyk7XG4gICAgcXVlc3Rpb25JbnB1dC52YWx1ZSA9IHRoaXMuY2FyZC5mcm9udDtcblxuICAgIC8vIEFuc3dlclxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6IHQoJ2ZsYXNoY2FyZEVkaXQuYW5zd2VyJywgbGFuZykgfSk7XG4gICAgY29uc3QgYW5zd2VySW5wdXQgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3RleHRhcmVhJyk7XG4gICAgYW5zd2VySW5wdXQudmFsdWUgPVxuICAgICAgdGhpcy5jYXJkLnR5cGUgPT09ICdjbG96ZSdcbiAgICAgICAgPyB0aGlzLmNhcmQuYmFjaz8uWzBdID8/ICcnXG4gICAgICAgIDogKHRoaXMuY2FyZC5iYWNrIGFzIHN0cmluZyk7XG5cbiAgICAvLyBTYXZlXG4gICAgY29uc3Qgc2F2ZUJ0biA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiB0KCdmbGFzaGNhcmRFZGl0LnNhdmUnLCBsYW5nKSB9KTtcbiAgICBzYXZlQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9uU3VibWl0KFxuICAgICAgICBxdWVzdGlvbklucHV0LnZhbHVlLnRyaW0oKSxcbiAgICAgICAgYW5zd2VySW5wdXQudmFsdWUudHJpbSgpXG4gICAgICApO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgfTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgdGhpcy5jb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwgIi8vIFJldmlld1N0YXRlTWFuYWdlci50c1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXZpZXdTdGF0ZSB7XG4gIHNob3dBbnN3ZXI6IGJvb2xlYW47XG4gIHN0YXJ0VGltZTogbnVtYmVyO1xuICB1c2VyQW5zd2Vyczogc3RyaW5nW107XG4gIHVzZXJBbnN3ZXI6IHN0cmluZztcbn1cblxuLy8gXHUyNzA1IFx1NkRGQlx1NTJBMFx1N0I1NFx1Njg0OFx1N0YxM1x1NUI1OFx1NjNBNVx1NTNFM1xuaW50ZXJmYWNlIENhcmRBbnN3ZXJDYWNoZSB7XG4gIHVzZXJBbnN3ZXI6IHN0cmluZztcbiAgdXNlckFuc3dlcnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgUmV2aWV3U3RhdGVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0ZTogUmV2aWV3U3RhdGU7XG4gIHByaXZhdGUgYW5zd2VyQ2FjaGU6IE1hcDxzdHJpbmcsIENhcmRBbnN3ZXJDYWNoZT4gPSBuZXcgTWFwKCk7IC8vIFx1MjcwNSBcdTY1QjBcdTU4OUVcdTdGMTNcdTVCNThcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5jcmVhdGVJbml0aWFsU3RhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSW5pdGlhbFN0YXRlKCk6IFJldmlld1N0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd0Fuc3dlcjogZmFsc2UsXG4gICAgICBzdGFydFRpbWU6IDAsXG4gICAgICB1c2VyQW5zd2VyczogW10sXG4gICAgICB1c2VyQW5zd2VyOiAnJ1xuICAgIH07XG4gIH1cblxuICBnZXRTdGF0ZSgpOiBSZXZpZXdTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5jcmVhdGVJbml0aWFsU3RhdGUoKTtcbiAgfVxuXG4gIC8vIFx1MjcwNSBcdTRGRERcdTVCNThcdTVGNTNcdTUyNERcdTUzNjFcdTcyNDdcdTc2ODRcdTdCNTRcdTY4NDhcdTUyMzBcdTdGMTNcdTVCNThcbiAgc2F2ZUFuc3dlclRvQ2FjaGUoY2FyZElkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmFuc3dlckNhY2hlLnNldChjYXJkSWQsIHtcbiAgICAgIHVzZXJBbnN3ZXI6IHRoaXMuc3RhdGUudXNlckFuc3dlcixcbiAgICAgIHVzZXJBbnN3ZXJzOiBbLi4udGhpcy5zdGF0ZS51c2VyQW5zd2Vyc11cbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1MjcwNSBcdTRFQ0VcdTdGMTNcdTVCNThcdTYwNjJcdTU5MERcdTdCNTRcdTY4NDhcbiAgcHJpdmF0ZSByZXN0b3JlQW5zd2VyRnJvbUNhY2hlKGNhcmRJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2FjaGVkID0gdGhpcy5hbnN3ZXJDYWNoZS5nZXQoY2FyZElkKTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXIgPSBjYWNoZWQudXNlckFuc3dlcjtcbiAgICAgIHRoaXMuc3RhdGUudXNlckFuc3dlcnMgPSBbLi4uY2FjaGVkLnVzZXJBbnN3ZXJzXTtcblxuICAgIH0gZWxzZSB7XG4gICAgfVxuICB9XG5cbiAgLy8gXHUyNzA1IFx1NkUwNVx1OTY2NFx1NjMwN1x1NUI5QVx1NTM2MVx1NzI0N1x1NzY4NFx1N0YxM1x1NUI1OFxuICBjbGVhckNhY2hlKGNhcmRJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5hbnN3ZXJDYWNoZS5kZWxldGUoY2FyZElkKTtcbiAgfVxuXG4gIHVwZGF0ZUZvck5ld0NhcmQoXG4gICAgbmV3Q2FyZDogRmxhc2hjYXJkLFxuICAgIGlzU2FtZUNhcmQ6IGJvb2xlYW4sXG4gICAgZGlyZWN0aW9uPzogJ25leHQnIHwgJ3ByZXYnXG4gICkge1xuICAgIGlmICghaXNTYW1lQ2FyZCkge1xuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICAgIC8vIFx1MjcwNSBwcmV2OiBcdTUxNDhcdTYwNjJcdTU5MERcdTdGMTNcdTVCNTgsXHU1MThEXHU4QkJFXHU3RjZFXHU1MTc2XHU0RUQ2XHU3MkI2XHU2MDAxXG4gICAgICAgIHRoaXMucmVzdG9yZUFuc3dlckZyb21DYWNoZShuZXdDYXJkLmlkKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbmV4dDogXHU2RTA1XHU3QTdBXHU3MkI2XHU2MDAxLFx1NTFDNlx1NTkwN1x1NjVCMFx1NTM2MVx1NzI0N1xuICAgICAgICB0aGlzLnN0YXRlLnNob3dBbnN3ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VyID0gJyc7XG4gIFxuICAgICAgICBpZiAobmV3Q2FyZC50eXBlID09PSAnY2xvemUnICYmIG5ld0NhcmQuY2xvemUpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXJzID0gbmV3IEFycmF5KFxuICAgICAgICAgICAgbmV3Q2FyZC5jbG96ZS5kZWxldGlvbnMubGVuZ3RoXG4gICAgICAgICAgKS5maWxsKCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5zdGF0ZS5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICB9XG5cbiAgc2V0U2hvd0Fuc3dlcihzaG93OiBib29sZWFuKSB7XG4gICAgdGhpcy5zdGF0ZS5zaG93QW5zd2VyID0gc2hvdztcbiAgfVxuXG4gIHNldFVzZXJBbnN3ZXIoYW5zd2VyOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0YXRlLnVzZXJBbnN3ZXIgPSBhbnN3ZXI7XG4gIH1cblxuICBzZXRVc2VyQW5zd2VycyhhbnN3ZXJzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuc3RhdGUudXNlckFuc3dlcnMgPSBhbnN3ZXJzO1xuICB9XG5cbiAgdXBkYXRlVXNlckFuc3dlckF0SW5kZXgoaW5kZXg6IG51bWJlciwgdmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuc3RhdGUudXNlckFuc3dlcnNbaW5kZXhdID0gdmFsdWU7XG4gIH1cblxuICBlbnN1cmVVc2VyQW5zd2Vyc0xlbmd0aChsZW5ndGg6IG51bWJlcikge1xuICAgIGlmICh0aGlzLnN0YXRlLnVzZXJBbnN3ZXJzLmxlbmd0aCA8IGxlbmd0aCkge1xuICAgICAgdGhpcy5zdGF0ZS51c2VyQW5zd2VycyA9IG5ldyBBcnJheShsZW5ndGgpLmZpbGwoJycpO1xuICAgIH1cbiAgfVxuXG4gIGdldFRpbWVTcGVudCgpOiBudW1iZXIge1xuICAgIHJldHVybiAoRGF0ZS5ub3coKSAtIHRoaXMuc3RhdGUuc3RhcnRUaW1lKSAvIDEwMDA7XG4gIH1cbn0iLCAiLy8gc3JjL3VpL2NvbXBvbmVudHMvVGFibGVSZW5kZXJlci50c1xuaW1wb3J0IHsgQ2FyZFNjaGVkdWxlciB9IGZyb20gJy4uLy4uL2NvcmUvQ2FyZFNjaGVkdWxlcic7XG5cbmV4cG9ydCBjbGFzcyBUYWJsZVJlbmRlcmVyIHtcbiAgLy8gXHU2OEMwXHU2RDRCXHU2NjJGXHU1NDI2XHU0RTNBXHU4ODY4XHU2ODNDXHU2ODNDXHU1RjBGXG4gIHN0YXRpYyBpc1RhYmxlRm9ybWF0KHRleHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGxpbmVzID0gdGV4dC50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIGlmIChsaW5lcy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgaGFzU2VwYXJhdG9yID0gbGluZXMuc29tZShsaW5lID0+IC9eXFx8P1tcXHMtOnxdK1xcfD8kLy50ZXN0KGxpbmUudHJpbSgpKSk7XG4gICAgY29uc3QgcGlwZUxpbmVzID0gbGluZXMuZmlsdGVyKGxpbmUgPT4gbGluZS5pbmNsdWRlcygnfCcpKS5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIGhhc1NlcGFyYXRvciB8fCBwaXBlTGluZXMgPj0gbGluZXMubGVuZ3RoICogMC43O1xuICB9XG5cbiAgLy8gXHU2RTMyXHU2N0QzXHU4ODY4XHU2ODNDXG4gIHN0YXRpYyByZW5kZXJUYWJsZShtYXJrZG93bjogc3RyaW5nLCBzaG93QW5zd2VyOiBib29sZWFuID0gZmFsc2UpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgaWYgKCFtYXJrZG93bj8udHJpbSgpKSB7XG4gICAgICBjb250YWluZXIudGV4dENvbnRlbnQgPSAnKGVtcHR5IHRhYmxlKSc7XG4gICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGNvbnN0IGxpbmVzID0gbWFya2Rvd24udHJpbSgpLnNwbGl0KCdcXG4nKTtcbiAgICBpZiAobGluZXMubGVuZ3RoIDwgMikge1xuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gbWFya2Rvd247XG4gICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGNvbnN0IHRhYmxlID0gY29udGFpbmVyLmNyZWF0ZUVsKCd0YWJsZScsIHsgXG4gICAgICBjbHM6ICdsZWFybmluZy1zeXN0ZW0tdGFibGUgZmxhc2hjYXJkLXJldmlldy10YWJsZScgXG4gICAgfSk7XG5cbiAgICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IHRoaXMuZmluZFNlcGFyYXRvckluZGV4KGxpbmVzKTtcbiAgICBcbiAgICBpZiAoc2VwYXJhdG9ySW5kZXggPiAwKSB7XG4gICAgICB0aGlzLnJlbmRlclRhYmxlV2l0aEhlYWRlcih0YWJsZSwgbGluZXMsIHNlcGFyYXRvckluZGV4LCBzaG93QW5zd2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJUYWJsZVdpdGhvdXRIZWFkZXIodGFibGUsIGxpbmVzLCBzaG93QW5zd2VyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG5cbiAgLy8gXHU2N0U1XHU2MjdFXHU1MjA2XHU5Njk0XHU3QjI2XHU0RjREXHU3RjZFXG4gIHByaXZhdGUgc3RhdGljIGZpbmRTZXBhcmF0b3JJbmRleChsaW5lczogc3RyaW5nW10pOiBudW1iZXIge1xuICAgIHJldHVybiBsaW5lcy5maW5kSW5kZXgobGluZSA9PiB7XG4gICAgICBjb25zdCBjbGVhbmVkID0gbGluZS5yZXBsYWNlKC9bXFxzfF0vZywgJycpO1xuICAgICAgcmV0dXJuIGNsZWFuZWQubGVuZ3RoID49IDMgJiYgL15bLTpdKyQvLnRlc3QoY2xlYW5lZCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBcdTZFMzJcdTY3RDNcdTVFMjZcdTg4NjhcdTU5MzRcdTc2ODRcdTg4NjhcdTY4M0NcbiAgcHJpdmF0ZSBzdGF0aWMgcmVuZGVyVGFibGVXaXRoSGVhZGVyKFxuICAgIHRhYmxlOiBIVE1MRWxlbWVudCxcbiAgICBsaW5lczogc3RyaW5nW10sXG4gICAgc2VwYXJhdG9ySW5kZXg6IG51bWJlcixcbiAgICBzaG93QW5zd2VyOiBib29sZWFuXG4gICkge1xuICAgIC8vIFx1ODg2OFx1NTkzNFxuICAgIGNvbnN0IGhlYWRlckNlbGxzID0gdGhpcy5wYXJzZUNlbGxzKGxpbmVzW3NlcGFyYXRvckluZGV4IC0gMV0pO1xuICAgIGNvbnN0IHRoZWFkID0gdGFibGUuY3JlYXRlRWwoJ3RoZWFkJyk7XG4gICAgY29uc3QgaGVhZGVyUm93ID0gdGhlYWQuY3JlYXRlRWwoJ3RyJyk7XG4gICAgXG4gICAgaGVhZGVyQ2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGNvbnN0IHRoID0gaGVhZGVyUm93LmNyZWF0ZUVsKCd0aCcpO1xuICAgICAgdGguaW5uZXJIVE1MID0gdGhpcy5wcm9jZXNzQ2VsbENvbnRlbnQoY2VsbCwgc2hvd0Fuc3dlcik7XG4gICAgfSk7XG5cbiAgICAvLyBcdTY1NzBcdTYzNkVcdTg4NENcbiAgICBjb25zdCB0Ym9keSA9IHRhYmxlLmNyZWF0ZUVsKCd0Ym9keScpO1xuICAgIGZvciAobGV0IGkgPSBzZXBhcmF0b3JJbmRleCArIDE7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yZW5kZXJUYWJsZVJvdyh0Ym9keSwgbGluZXNbaV0sIHNob3dBbnN3ZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFx1NkUzMlx1NjdEM1x1NjVFMFx1ODg2OFx1NTkzNFx1NzY4NFx1ODg2OFx1NjgzQ1xuICBwcml2YXRlIHN0YXRpYyByZW5kZXJUYWJsZVdpdGhvdXRIZWFkZXIoXG4gICAgdGFibGU6IEhUTUxFbGVtZW50LFxuICAgIGxpbmVzOiBzdHJpbmdbXSxcbiAgICBzaG93QW5zd2VyOiBib29sZWFuXG4gICkge1xuICAgIGNvbnN0IHRib2R5ID0gdGFibGUuY3JlYXRlRWwoJ3Rib2R5Jyk7XG4gICAgbGluZXMuZm9yRWFjaChsaW5lID0+IHRoaXMucmVuZGVyVGFibGVSb3codGJvZHksIGxpbmUsIHNob3dBbnN3ZXIpKTtcbiAgfVxuXG4gIC8vIFx1NkUzMlx1NjdEM1x1NTM1NVx1ODg0Q1xuICBwcml2YXRlIHN0YXRpYyByZW5kZXJUYWJsZVJvdyhcbiAgICB0Ym9keTogSFRNTEVsZW1lbnQsXG4gICAgbGluZTogc3RyaW5nLFxuICAgIHNob3dBbnN3ZXI6IGJvb2xlYW5cbiAgKSB7XG4gICAgaWYgKCFsaW5lLnRyaW0oKSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGNlbGxzID0gdGhpcy5wYXJzZUNlbGxzKGxpbmUpO1xuICAgIGlmIChjZWxscy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBcbiAgICBjb25zdCByb3cgPSB0Ym9keS5jcmVhdGVFbCgndHInKTtcbiAgICBjZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgY29uc3QgdGQgPSByb3cuY3JlYXRlRWwoJ3RkJyk7XG4gICAgICB0ZC5pbm5lckhUTUwgPSB0aGlzLnByb2Nlc3NDZWxsQ29udGVudChjZWxsLCBzaG93QW5zd2VyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1ODlFM1x1Njc5MFx1NTM1NVx1NTE0M1x1NjgzQ1xuICBwcml2YXRlIHN0YXRpYyBwYXJzZUNlbGxzKGxpbmU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBcbiAgICBsZXQgdHJpbW1lZCA9IGxpbmUudHJpbSgpO1xuICAgIGlmICh0cmltbWVkLnN0YXJ0c1dpdGgoJ3wnKSkgdHJpbW1lZCA9IHRyaW1tZWQuc2xpY2UoMSk7XG4gICAgaWYgKHRyaW1tZWQuZW5kc1dpdGgoJ3wnKSkgdHJpbW1lZCA9IHRyaW1tZWQuc2xpY2UoMCwgLTEpO1xuICAgIFxuICAgIGNvbnN0IGNlbGxzID0gdHJpbW1lZFxuICAgICAgLnNwbGl0KCd8JylcbiAgICAgIC5tYXAoYyA9PiBjLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoYyA9PiBjLmxlbmd0aCA+IDApO1xuICAgIFxuICAgIHJldHVybiBjZWxscztcbiAgfVxuXG4vLyBcdTU5MDRcdTc0MDZcdTUzNTVcdTUxNDNcdTY4M0NcdTUxODVcdTVCQjlcbnByaXZhdGUgc3RhdGljIHByb2Nlc3NDZWxsQ29udGVudChjZWxsOiBzdHJpbmcsIHNob3dBbnN3ZXI6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBpZiAoIWNlbGwuaW5jbHVkZXMoJz09JykpIHtcbiAgICByZXR1cm4gY2VsbDtcbiAgfVxuICBpZiAoc2hvd0Fuc3dlcikge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNlbGwucmVwbGFjZSgvPT0oW149XSspPT0vZywgJzxzcGFuIGNsYXNzPVwicmV2ZWFsZWRcIj4kMTwvc3Bhbj4nKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNlbGwucmVwbGFjZSgvPT0oW149XSspPT0vZywgJzxzcGFuIGNsYXNzPVwiY2xvemUtYmxhbmtcIj48L3NwYW4+Jyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG4gIC8vIFx1NkUzMlx1NjdEM1x1NUUyNlx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OFx1NzY4NFx1ODg2OFx1NjgzQ1x1RkYwOFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NzUyOFx1RkYwOVxuICBzdGF0aWMgcmVuZGVyVGFibGVXaXRoVXNlckFuc3dlcnMoXG4gICAgb3JpZ2luYWxNYXJrZG93bjogc3RyaW5nLFxuICAgIGRlbGV0aW9uczogQXJyYXk8eyBhbnN3ZXI6IHN0cmluZyB9PixcbiAgICB1c2VyQW5zd2Vyczogc3RyaW5nW10sXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBsaW5lcyA9IG9yaWdpbmFsTWFya2Rvd24udHJpbSgpLnNwbGl0KCdcXG4nKTtcbiAgICBcbiAgICBpZiAobGluZXMubGVuZ3RoIDwgMikge1xuXG4gICAgICBjb250YWluZXIudGV4dENvbnRlbnQgPSBvcmlnaW5hbE1hcmtkb3duO1xuICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjb25zdCB0YWJsZSA9IGNvbnRhaW5lci5jcmVhdGVFbCgndGFibGUnLCB7IFxuICAgICAgY2xzOiAnbGVhcm5pbmctc3lzdGVtLXRhYmxlIGZsYXNoY2FyZC1yZXZpZXctdGFibGUgdXNlci1hbnN3ZXItdGFibGUnIFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSB0aGlzLmZpbmRTZXBhcmF0b3JJbmRleChsaW5lcyk7XG4gICAgbGV0IGRlbGV0aW9uSW5kZXggPSAwO1xuLy8gXHU2RTMyXHU2N0QzXHU4ODY4XHU1OTM0XG5pZiAoc2VwYXJhdG9ySW5kZXggPiAwKSB7XG4gXG4gIGNvbnN0IGhlYWRlckNlbGxzID0gdGhpcy5wYXJzZUNlbGxzKGxpbmVzW3NlcGFyYXRvckluZGV4IC0gMV0pO1xuICBcbiAgY29uc3QgdGhlYWQgPSB0YWJsZS5jcmVhdGVFbCgndGhlYWQnKTtcbiAgY29uc3QgaGVhZGVyUm93ID0gdGhlYWQuY3JlYXRlRWwoJ3RyJyk7XG4gIFxuICBsZXQgaGVhZGVySW5kZXggPSAwOyAgLy8gXHUyMTkwIFx1ODg2OFx1NTkzNFx1NzJFQ1x1N0FDQlx1OEJBMVx1NjU3MFxuaGVhZGVyQ2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgY29uc3QgdGggPSBoZWFkZXJSb3cuY3JlYXRlRWwoJ3RoJyk7XG4gIGNvbnN0IHJlc3VsdCA9IHRoaXMucHJvY2Vzc0NlbGxXaXRoVXNlckFuc3dlckFuZENsYXNzKFxuICAgIGNlbGwsIGRlbGV0aW9ucywgdXNlckFuc3dlcnMsIGRlbGV0aW9uSW5kZXgsIHNjaGVkdWxlclxuICApO1xuICB0aC5pbm5lckhUTUwgPSByZXN1bHQuaHRtbDtcbiAgaWYgKHJlc3VsdC5jb3JyZWN0bmVzc0NsYXNzKSB7XG4gICAgdGguY2xhc3NMaXN0LmFkZChyZXN1bHQuY29ycmVjdG5lc3NDbGFzcyk7XG4gIH1cbiAgaWYgKGNlbGwuaW5jbHVkZXMoJz09JykpIHtcbiAgICBkZWxldGlvbkluZGV4Kys7XG4gIH1cbn0pO1xuXG4gIFxufVxuXG5cbi8vIFx1NkUzMlx1NjdEM1x1NjU3MFx1NjM2RVx1ODg0Q1xuY29uc3QgdGJvZHkgPSB0YWJsZS5jcmVhdGVFbCgndGJvZHknKTtcbmNvbnN0IHN0YXJ0Um93ID0gc2VwYXJhdG9ySW5kZXggPiAwID8gc2VwYXJhdG9ySW5kZXggKyAxIDogMDtcblxuZm9yIChsZXQgaSA9IHN0YXJ0Um93OyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICBpZiAoIWxpbmUudHJpbSgpKSBjb250aW51ZTtcbiAgXG4gIGNvbnN0IGNlbGxzID0gdGhpcy5wYXJzZUNlbGxzKGxpbmUpO1xuICBpZiAoY2VsbHMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgXG4gIGNvbnN0IHJvdyA9IHRib2R5LmNyZWF0ZUVsKCd0cicpO1xuICBjZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgIGNvbnN0IHRkID0gcm93LmNyZWF0ZUVsKCd0ZCcpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucHJvY2Vzc0NlbGxXaXRoVXNlckFuc3dlckFuZENsYXNzKFxuICAgICAgY2VsbCwgZGVsZXRpb25zLCB1c2VyQW5zd2VycywgZGVsZXRpb25JbmRleCwgc2NoZWR1bGVyXG4gICAgKTtcbiAgICB0ZC5pbm5lckhUTUwgPSByZXN1bHQuaHRtbDtcbiAgICBpZiAocmVzdWx0LmNvcnJlY3RuZXNzQ2xhc3MpIHtcbiAgICAgIHRkLmNsYXNzTGlzdC5hZGQocmVzdWx0LmNvcnJlY3RuZXNzQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAoY2VsbC5pbmNsdWRlcygnPT0nKSkgeyAgLy8gXHUyMTkwIFx1NjUzOVx1NjIxMFx1OEZEOVx1NjgzNyxcdTRFMEVcdTg4NjhcdTU5MzRcdTkwM0JcdThGOTFcdTRFMDBcdTgxRjRcbiAgICAgIGRlbGV0aW9uSW5kZXgrKztcbiAgICB9XG4gIH0pO1xufVxuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfVxuXG4gIC8vIFx1NTkwNFx1NzQwNlx1NUUyNlx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OFx1NzY4NFx1NTM1NVx1NTE0M1x1NjgzQ1xuICBwcml2YXRlIHN0YXRpYyBwcm9jZXNzQ2VsbFdpdGhVc2VyQW5zd2VyKFxuICAgIGNlbGw6IHN0cmluZyxcbiAgICBkZWxldGlvbnM6IEFycmF5PHsgYW5zd2VyOiBzdHJpbmcgfT4sXG4gICAgdXNlckFuc3dlcnM6IHN0cmluZ1tdLFxuICAgIGRlbGV0aW9uSW5kZXg6IG51bWJlcixcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAoIWNlbGwuaW5jbHVkZXMoJz09JykpIHJldHVybiBjZWxsO1xuICAgIFxuICAgIGNvbnN0IG1hdGNoID0gY2VsbC5tYXRjaCgvPT0oW149XSspPT0vKTtcbiAgICBpZiAoIW1hdGNoIHx8IGRlbGV0aW9uSW5kZXggPj0gZGVsZXRpb25zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGNlbGwucmVwbGFjZSgvPT0oW149XSspPT0vZywgJzxzcGFuIGNsYXNzPVwiY2xvemUtYmxhbmtcIj48L3NwYW4+Jyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBkZWxldGlvbnNbZGVsZXRpb25JbmRleF0uYW5zd2VyO1xuICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSB1c2VyQW5zd2Vyc1tkZWxldGlvbkluZGV4XSB8fCAnJztcbiAgICBjb25zdCBldmFsdWF0aW9uID0gc2NoZWR1bGVyLmV2YWx1YXRlQW5zd2VyKGNvcnJlY3RBbnN3ZXIsIHVzZXJBbnN3ZXIpO1xuICAgIFxuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gdXNlckFuc3dlciB8fCAnKGVtcHR5KSc7XG4gICAgY29uc3QgY29ycmVjdG5lc3NDbGFzcyA9IGV2YWx1YXRpb24uY29ycmVjdG5lc3M7XG4gICAgXG4gICAgcmV0dXJuIGNlbGwucmVwbGFjZShcbiAgICAgIC89PShbXj1dKyk9PS9nLFxuICAgICAgYDxzcGFuIGNsYXNzPVwidXNlci1hbnN3ZXItY2VsbCAke2NvcnJlY3RuZXNzQ2xhc3N9XCI+JHtkaXNwbGF5VGV4dH08L3NwYW4+YFxuICAgICk7XG4gIH1cblxuICAvLyBcdTU5MDRcdTc0MDZcdTVFMjZcdTc1MjhcdTYyMzdcdTdCNTRcdTY4NDhcdTc2ODRcdTUzNTVcdTUxNDNcdTY4M0MoXHU4RkQ0XHU1NkRFIEhUTUwgXHU1NDhDXHU2QjYzXHU3ODZFXHU2MDI3XHU3QzdCKVxuICBwcml2YXRlIHN0YXRpYyBwcm9jZXNzQ2VsbFdpdGhVc2VyQW5zd2VyQW5kQ2xhc3MoXG4gICAgY2VsbDogc3RyaW5nLFxuICAgIGRlbGV0aW9uczogQXJyYXk8eyBhbnN3ZXI6IHN0cmluZyB9PixcbiAgICB1c2VyQW5zd2Vyczogc3RyaW5nW10sXG4gICAgZGVsZXRpb25JbmRleDogbnVtYmVyLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApOiB7IGh0bWw6IHN0cmluZzsgY29ycmVjdG5lc3NDbGFzczogc3RyaW5nIHwgbnVsbCB9IHtcbiAgICBcbiAgICBjb25zdCBtYXRjaCA9IGNlbGwubWF0Y2goLz09KFtePV0rKT09Lyk7XG4gICAgaWYgKCFtYXRjaCkgeyAgLy8gXHUyMTkwIFx1NTk4Mlx1Njc5Q1x1NkNBMVx1NjcwOVx1NTMzOVx1OTE0RFx1NTIzMFx1NUI4Q1x1NjU3NFx1NzY4NFx1NjMxNlx1N0E3QVx1NjgwN1x1OEJCMFxuICAgICAgcmV0dXJuIHsgaHRtbDogY2VsbCwgY29ycmVjdG5lc3NDbGFzczogbnVsbCB9O1xuICAgIH1cbiAgXG4gICAgaWYgKCFtYXRjaCB8fCBkZWxldGlvbkluZGV4ID49IGRlbGV0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB7IFxuICAgICAgICBodG1sOiBjZWxsLnJlcGxhY2UoLz09KFtePV0rKT09L2csICc8c3BhbiBjbGFzcz1cImNsb3plLWJsYW5rXCI+PC9zcGFuPicpLFxuICAgICAgICBjb3JyZWN0bmVzc0NsYXNzOiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gZGVsZXRpb25zW2RlbGV0aW9uSW5kZXhdLmFuc3dlcjtcbiAgICBjb25zdCB1c2VyQW5zd2VyID0gdXNlckFuc3dlcnNbZGVsZXRpb25JbmRleF0gfHwgJyc7XG4gICAgY29uc3QgZXZhbHVhdGlvbiA9IHNjaGVkdWxlci5ldmFsdWF0ZUFuc3dlcihjb3JyZWN0QW5zd2VyLCB1c2VyQW5zd2VyKTtcbiAgICBcbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IHVzZXJBbnN3ZXIgfHwgJyhlbXB0eSknO1xuICAgIGNvbnN0IGNvcnJlY3RuZXNzQ2xhc3MgPSBldmFsdWF0aW9uLmNvcnJlY3RuZXNzO1xuICAgIFxuICAgIGNvbnN0IGh0bWwgPSBjZWxsLnJlcGxhY2UoXG4gICAgICAvPT0oW149XSspPT0vZyxcbiAgICAgIGA8c3BhbiBjbGFzcz1cInVzZXItYW5zd2VyLWNlbGwgJHtjb3JyZWN0bmVzc0NsYXNzfVwiPiR7ZGlzcGxheVRleHR9PC9zcGFuPmBcbiAgICApO1xuICAgIFxuICAgIFxuICAgIHJldHVybiB7IGh0bWwsIGNvcnJlY3RuZXNzQ2xhc3M6IGBjZWxsLSR7Y29ycmVjdG5lc3NDbGFzc31gIH07XG4gIH1cbn0iLCAiLy8gQ2FyZFJlbmRlcmVycy50c1xuaW1wb3J0IHsgRmxhc2hjYXJkIH0gZnJvbSAnLi4vLi4vY29yZS9GbGFzaGNhcmRNYW5hZ2VyJztcbmltcG9ydCB7IENhcmRTY2hlZHVsZXIgfSBmcm9tICcuLi8uLi9jb3JlL0NhcmRTY2hlZHVsZXInO1xuaW1wb3J0IHsgVGFibGVSZW5kZXJlciB9IGZyb20gJy4vVGFibGVSZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IFJldmlld1N0YXRlIH0gZnJvbSAnLi4vc3RhdHMvcmV2aWV3U3RhdGVNYW5hZ2VyJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gXHU1MzYxXHU3MjQ3XHU2RTMyXHU2N0QzXHU3QjU2XHU3NTY1XHU2M0E1XHU1M0UzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgaW50ZXJmYWNlIENhcmRSZW5kZXJTdHJhdGVneSB7XG4gIHJlbmRlclF1ZXN0aW9uKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIFxuICAgIGNhcmQ6IEZsYXNoY2FyZCwgXG4gICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgIHVwZGF0ZVN0YXRlOiB7XG4gICAgICBzZXRVc2VyQW5zd2VyOiAoYW5zd2VyOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgICBzZXRVc2VyQW5zd2VyczogKGFuc3dlcnM6IHN0cmluZ1tdKSA9PiB2b2lkO1xuICAgIH1cbiAgKTogdm9pZDtcbiAgcmVuZGVyQW5zd2VyKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIFxuICAgIGNhcmQ6IEZsYXNoY2FyZCwgXG4gICAgc3RhdGU6IFJldmlld1N0YXRlLCBcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKTogdm9pZDtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU1MzYxXHU3MjQ3XHU2RTMyXHU2N0QzXHU1NjY4XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY2xhc3MgQ2xvemVDYXJkUmVuZGVyZXIgaW1wbGVtZW50cyBDYXJkUmVuZGVyU3RyYXRlZ3kge1xuICAgIHJlbmRlclF1ZXN0aW9uKFxuICAgICAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LCBcbiAgICAgICAgY2FyZDogRmxhc2hjYXJkLCBcbiAgICAgICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgICAgICB1cGRhdGVTdGF0ZToge1xuICAgICAgICAgIHNldFVzZXJBbnN3ZXI6IChhbnN3ZXI6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgICBzZXRVc2VyQW5zd2VyczogKGFuc3dlcnM6IHN0cmluZ1tdKSA9PiB2b2lkO1xuICAgICAgICB9XG4gICAgICApOiB2b2lkIHtcbiAgICAgICAgLy8gXHU5NUVFXHU5ODk4XHU2NTg3XHU2NzJDXG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uVGV4dCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdxdWVzdGlvbi10ZXh0JyB9KTtcbiAgICAgICAgY29uc3QgaXNUYWJsZSA9IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdChjYXJkLmZyb250KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc1RhYmxlKSB7XG4gICAgICAgICAgLy8gXHUyMTkwIFx1NEZFRVx1NjUzOTpcdTZFMzJcdTY3RDNcdTVFMjZcdTVCOUVcdTY1RjZcdTk4ODRcdTg5QzhcdTc2ODRcdTg4NjhcdTY4M0NcbiAgICAgICAgICBjb25zdCB0YWJsZUVsID0gdGhpcy5yZW5kZXJUYWJsZVdpdGhJbnB1dFByZXZpZXcoXG4gICAgICAgICAgICBjYXJkLmZyb250LCBcbiAgICAgICAgICAgIGNhcmQuY2xvemU/LmRlbGV0aW9ucyB8fCBbXSxcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBxdWVzdGlvblRleHQuYXBwZW5kQ2hpbGQodGFibGVFbCk7XG4gICAgICAgICAgcXVlc3Rpb25UZXh0LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLXF1ZXN0aW9uJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGFibGVFbCA9IFRhYmxlUmVuZGVyZXIucmVuZGVyVGFibGUoY2FyZC5mcm9udCwgZmFsc2UpO1xuICAgICAgICAgIHF1ZXN0aW9uVGV4dC5hcHBlbmRDaGlsZCh0YWJsZUVsKTtcbiAgICAgICAgICBxdWVzdGlvblRleHQuY2xhc3NMaXN0LmFkZCgndGFibGUtcXVlc3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIC8vIFx1OEY5M1x1NTE2NVx1Njg0NihcdTc5RkJcdTUyMzBcdTg4NjhcdTY4M0NcdTRFMEJcdTY1QjlcdTYyMTZcdTRGRERcdTYzMDFcdTU3MjhcdTUzOUZcdTRGNEQpXG4gICAgICAgIGlmIChjYXJkLmNsb3plKSB7XG4gICAgICAgICAgY29uc3QgYWN0dWFsQmxhbmtDb3VudCA9IChjYXJkLmNsb3plLm9yaWdpbmFsLm1hdGNoKC89PVtePV0rPT0vZykgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgICBjb25zdCBibGFua0NvdW50ID0gTWF0aC5tYXgoYWN0dWFsQmxhbmtDb3VudCwgY2FyZC5jbG96ZS5kZWxldGlvbnMubGVuZ3RoKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoc3RhdGUudXNlckFuc3dlcnMubGVuZ3RoICE9PSBibGFua0NvdW50KSB7XG4gICAgICAgICAgICBzdGF0ZS51c2VyQW5zd2VycyA9IG5ldyBBcnJheShibGFua0NvdW50KS5maWxsKCcnKTtcbiAgICAgICAgICB9XG4gICAgICBcbiAgICAgICAgICBjb25zdCBpbnB1dEFyZWEgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2xvemUtaW5wdXQtYXJlYScgfSk7XG4gICAgICAgICAgaW5wdXRBcmVhLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogYEZpbGwgaW4gdGhlIGJsYW5rcyAoJHtibGFua0NvdW50fSB0b3RhbCk6YCB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBoaW50ID0gaW5wdXRBcmVhLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2Nsb3plLWlucHV0LWhpbnQnIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHNpbmdsZUlucHV0R3JvdXAgPSBpbnB1dEFyZWEuY3JlYXRlRGl2KHsgY2xzOiAnc2luZ2xlLWlucHV0LWdyb3VwJyB9KTtcbiAgICAgICAgICBjb25zdCBpbml0aWFsVmFsdWUgPSBzdGF0ZS51c2VyQW5zd2Vycy5maWx0ZXIoYSA9PiBhKS5qb2luKCcgfCAnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBpbnB1dCA9IHNpbmdsZUlucHV0R3JvdXAuY3JlYXRlRWwoJ2lucHV0Jywge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGBFbnRlciBhbGwgJHtibGFua0NvdW50fSBhbnN3ZXJzIHNlcGFyYXRlZCBieSB8LCBjb21tYSwgb3Igc3BhY2VzLi4uYCxcbiAgICAgICAgICAgIGNsczogJ2Nsb3plLXNpbmdsZS1pbnB1dCcsXG4gICAgICAgICAgICB2YWx1ZTogaW5pdGlhbFZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4vLyBcdTVCOUVcdTY1RjZcdTY2RjRcdTY1QjBcdTUxRkRcdTY1NzBcbmNvbnN0IHVwZGF0ZVByZXZpZXcgPSAoaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLnBhcnNlTXVsdGlwbGVBbnN3ZXJzKGlucHV0VmFsdWUsIGJsYW5rQ291bnQpO1xuICAgIHVwZGF0ZVN0YXRlLnNldFVzZXJBbnN3ZXJzKHBhcnRzKTsgIC8vIFx1MjcwNSBcdTRGN0ZcdTc1MjhcdTU2REVcdThDMDNcdTY2RjRcdTY1QjBcbiAgICBcbiAgICAvLyBcdTIxOTAgXHU1OTgyXHU2NzlDXHU2NjJGXHU4ODY4XHU2ODNDLFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1ODg2OFx1NjgzQ1xuICAgIGlmIChpc1RhYmxlKSB7XG4gICAgICBxdWVzdGlvblRleHQuZW1wdHkoKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRUYWJsZUVsID0gdGhpcy5yZW5kZXJUYWJsZVdpdGhJbnB1dFByZXZpZXcoXG4gICAgICAgIGNhcmQuZnJvbnQsXG4gICAgICAgIGNhcmQuY2xvemU/LmRlbGV0aW9ucyB8fCBbXSxcbiAgICAgICAgc3RhdGVcbiAgICAgICk7XG4gICAgICBxdWVzdGlvblRleHQuYXBwZW5kQ2hpbGQodXBkYXRlZFRhYmxlRWwpO1xuICAgIH1cbiAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICAgICAgdXBkYXRlUHJldmlldyhpbnB1dFZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICB1cGRhdGVQcmV2aWV3KGluaXRpYWxWYWx1ZSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBpbnB1dC5mb2N1cygpLCA1MCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1NjVCMFx1NjVCOVx1NkNENTpcdTZFMzJcdTY3RDNcdTVFMjZcdThGOTNcdTUxNjVcdTk4ODRcdTg5QzhcdTc2ODRcdTg4NjhcdTY4M0NcbiAgICAgIHByaXZhdGUgcmVuZGVyVGFibGVXaXRoSW5wdXRQcmV2aWV3KFxuICAgICAgICBtYXJrZG93bjogc3RyaW5nLFxuICAgICAgICBkZWxldGlvbnM6IEFycmF5PHsgYW5zd2VyOiBzdHJpbmcgfT4sXG4gICAgICAgIHN0YXRlOiBSZXZpZXdTdGF0ZVxuICAgICAgKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghbWFya2Rvd24/LnRyaW0oKSkge1xuICAgICAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9ICcoZW1wdHkgdGFibGUpJztcbiAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgY29uc3QgbGluZXMgPSBtYXJrZG93bi50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgICAgICBpZiAobGluZXMubGVuZ3RoIDwgMikge1xuICAgICAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9IG1hcmtkb3duO1xuICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICBjb25zdCB0YWJsZSA9IGNvbnRhaW5lci5jcmVhdGVFbCgndGFibGUnLCB7IFxuICAgICAgICAgIGNsczogJ2xlYXJuaW5nLXN5c3RlbS10YWJsZSBmbGFzaGNhcmQtcmV2aWV3LXRhYmxlIHByZXZpZXctdGFibGUnIFxuICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgICAvLyBcdTY3RTVcdTYyN0VcdTUyMDZcdTk2OTRcdTdCMjZcbiAgICAgICAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSBsaW5lcy5maW5kSW5kZXgobGluZSA9PiB7XG4gICAgICAgICAgY29uc3QgY2xlYW5lZCA9IGxpbmUucmVwbGFjZSgvW1xcc3xdL2csICcnKTtcbiAgICAgICAgICByZXR1cm4gY2xlYW5lZC5sZW5ndGggPj0gMyAmJiAvXlstOl0rJC8udGVzdChjbGVhbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgZGVsZXRpb25JbmRleCA9IDA7XG4gICAgICBcbiAgICAgICAgLy8gXHU2RTMyXHU2N0QzXHU4ODY4XHU1OTM0XG4gICAgICAgIGlmIChzZXBhcmF0b3JJbmRleCA+IDApIHtcbiAgICAgICAgICBjb25zdCBoZWFkZXJDZWxscyA9IHRoaXMucGFyc2VDZWxscyhsaW5lc1tzZXBhcmF0b3JJbmRleCAtIDFdKTtcbiAgICAgICAgICBjb25zdCB0aGVhZCA9IHRhYmxlLmNyZWF0ZUVsKCd0aGVhZCcpO1xuICAgICAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHRoZWFkLmNyZWF0ZUVsKCd0cicpO1xuICAgICAgICAgIFxuICAgICAgICAgIGhlYWRlckNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aCA9IGhlYWRlclJvdy5jcmVhdGVFbCgndGgnKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkID0gdGhpcy5yZW5kZXJDZWxsV2l0aFByZXZpZXcoY2VsbCwgc3RhdGUudXNlckFuc3dlcnMsIGRlbGV0aW9uSW5kZXgpO1xuICAgICAgICAgICAgdGguaW5uZXJIVE1MID0gcmVuZGVyZWQuaHRtbDtcbiAgICAgICAgICAgIGlmIChyZW5kZXJlZC5oYXNCbGFuaykgZGVsZXRpb25JbmRleCsrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgLy8gXHU2RTMyXHU2N0QzXHU2NTcwXHU2MzZFXHU4ODRDXG4gICAgICAgIGNvbnN0IHRib2R5ID0gdGFibGUuY3JlYXRlRWwoJ3Rib2R5Jyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0Um93ID0gc2VwYXJhdG9ySW5kZXggPiAwID8gc2VwYXJhdG9ySW5kZXggKyAxIDogMDtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydFJvdzsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICAgIGlmICghbGluZS50cmltKCkpIGNvbnRpbnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGNlbGxzID0gdGhpcy5wYXJzZUNlbGxzKGxpbmUpO1xuICAgICAgICAgIGlmIChjZWxscy5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHJvdyA9IHRib2R5LmNyZWF0ZUVsKCd0cicpO1xuICAgICAgICAgIGNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZCA9IHJvdy5jcmVhdGVFbCgndGQnKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVkID0gdGhpcy5yZW5kZXJDZWxsV2l0aFByZXZpZXcoY2VsbCwgc3RhdGUudXNlckFuc3dlcnMsIGRlbGV0aW9uSW5kZXgpO1xuICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVuZGVyZWQuaHRtbDtcbiAgICAgICAgICAgIGlmIChyZW5kZXJlZC5oYXNCbGFuaykgZGVsZXRpb25JbmRleCsrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHUyMTkwIFx1NkRGQlx1NTJBMFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENTpcdTg5RTNcdTY3OTBcdTUzNTVcdTUxNDNcdTY4M0NcbiAgICAgIHByaXZhdGUgcGFyc2VDZWxscyhsaW5lOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGxldCB0cmltbWVkID0gbGluZS50cmltKCk7XG4gICAgICAgIGlmICh0cmltbWVkLnN0YXJ0c1dpdGgoJ3wnKSkgdHJpbW1lZCA9IHRyaW1tZWQuc2xpY2UoMSk7XG4gICAgICAgIGlmICh0cmltbWVkLmVuZHNXaXRoKCd8JykpIHRyaW1tZWQgPSB0cmltbWVkLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cmltbWVkXG4gICAgICAgICAgLnNwbGl0KCd8JylcbiAgICAgICAgICAubWFwKGMgPT4gYy50cmltKCkpXG4gICAgICAgICAgLmZpbHRlcihjID0+IGMubGVuZ3RoID4gMCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFx1MjE5MCBcdTZERkJcdTUyQTBcdThGODVcdTUyQTlcdTY1QjlcdTZDRDU6XHU2RTMyXHU2N0QzXHU1RTI2XHU5ODg0XHU4OUM4XHU3Njg0XHU1MzU1XHU1MTQzXHU2ODNDXG4gICAgICBwcml2YXRlIHJlbmRlckNlbGxXaXRoUHJldmlldyhcbiAgICAgICAgY2VsbDogc3RyaW5nLFxuICAgICAgICB1c2VyQW5zd2Vyczogc3RyaW5nW10sXG4gICAgICAgIGRlbGV0aW9uSW5kZXg6IG51bWJlclxuICAgICAgKTogeyBodG1sOiBzdHJpbmc7IGhhc0JsYW5rOiBib29sZWFuIH0ge1xuICAgICAgICBjb25zdCBtYXRjaCA9IGNlbGwubWF0Y2goLz09KFtePV0rKT09Lyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgaHRtbDogY2VsbCwgaGFzQmxhbms6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjcwOVx1NjMxNlx1N0E3QVx1NjgwN1x1OEJCMFxuICAgICAgICBjb25zdCB1c2VyQW5zd2VyID0gdXNlckFuc3dlcnNbZGVsZXRpb25JbmRleF0gfHwgJyc7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gdXNlckFuc3dlciBcbiAgICAgICAgICA/IGA8c3BhbiBjbGFzcz1cInByZXZpZXctYW5zd2VyXCI+JHt1c2VyQW5zd2VyfTwvc3Bhbj5gIFxuICAgICAgICAgIDogJzxzcGFuIGNsYXNzPVwiY2xvemUtYmxhbmtcIj48L3NwYW4+JztcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGh0bWwgPSBjZWxsLnJlcGxhY2UoLz09KFtePV0rKT09L2csIGRpc3BsYXlUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IGh0bWwsIGhhc0JsYW5rOiB0cnVlIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFx1MjE5MCBcdTZERkJcdTUyQTBcdTY1QjBcdTc2ODRcdThGODVcdTUyQTlcdTY1QjlcdTZDRDU6XHU4OUUzXHU2NzkwXHU1OTFBXHU3QjU0XHU2ODQ4XHU4RjkzXHU1MTY1XG4gICAgICBwcml2YXRlIHBhcnNlTXVsdGlwbGVBbnN3ZXJzKGlucHV0OiBzdHJpbmcsIGV4cGVjdGVkQ291bnQ6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICAgICAgaWYgKCFpbnB1dC50cmltKCkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFycmF5KGV4cGVjdGVkQ291bnQpLmZpbGwoJycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBcdTdFREZcdTRFMDBcdTU5MDRcdTc0MDZcdTUyMDZcdTk2OTRcdTdCMjZcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWQgPSBpbnB1dFxuICAgICAgICAgIC5yZXBsYWNlKC8sL2csICd8JykgICAgICAgIC8vIFx1ODJGMVx1NjU4N1x1OTAxN1x1NTNGN1xuICAgICAgICAgIC5yZXBsYWNlKC8sL2csICd8JykgICAgICAgIC8vIFx1NEUyRFx1NjU4N1x1OTAxN1x1NTNGNyAgXG4gICAgICAgICAgLnJlcGxhY2UoL1xcc3syLH0vZywgJ3wnKTsgIC8vIFx1NTkxQVx1NEUyQVx1N0E3QVx1NjgzQ1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcGFydHMgPSBub3JtYWxpemVkXG4gICAgICAgICAgLnNwbGl0KCd8JylcbiAgICAgICAgICAubWFwKHMgPT4gcy50cmltKCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU3ODZFXHU0RkREXHU2NTcwXHU3RUM0XHU5NTdGXHU1RUE2XHU1MzM5XHU5MTREXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheShleHBlY3RlZENvdW50KS5maWxsKCcnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihwYXJ0cy5sZW5ndGgsIGV4cGVjdGVkQ291bnQpOyBpKyspIHtcbiAgICAgICAgICByZXN1bHRbaV0gPSBwYXJ0c1tpXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICByZW5kZXJBbnN3ZXIoXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApOiB2b2lkIHtcbiAgICBpZiAoIWNhcmQuY2xvemUpIHJldHVybjtcblxuICAgIGNvbnN0IGFuc3dlckFyZWEgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnYW5zd2VyLWFyZWEnIH0pO1xuICAgIGNvbnN0IGlzT3JpZ2luYWxUYWJsZSA9IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdChjYXJkLmNsb3plLm9yaWdpbmFsKTtcblxuICAgIGlmIChpc09yaWdpbmFsVGFibGUpIHtcbiAgICAgIHRoaXMucmVuZGVyVGFibGVBbnN3ZXIoYW5zd2VyQXJlYSwgY2FyZCwgc3RhdGUsIHNjaGVkdWxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dEFuc3dlcihhbnN3ZXJBcmVhLCBjYXJkLCBzdGF0ZSwgc2NoZWR1bGVyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclRhYmxlQW5zd2VyKFxuICAgIGFuc3dlckFyZWE6IEhUTUxFbGVtZW50LFxuICAgIGNhcmQ6IEZsYXNoY2FyZCxcbiAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgc2NoZWR1bGVyOiBDYXJkU2NoZWR1bGVyXG4gICkge1xuICAgIFxuICAgIGNvbnN0IGNvbHVtbnNDb250YWluZXIgPSBhbnN3ZXJBcmVhLmNyZWF0ZURpdih7IGNsczogJ2Nsb3plLXRhYmxlLWNvbHVtbnMnIH0pO1xuICAgIFxuICAgIC8vIFx1NURFNlx1NTIxNzpcdTZCNjNcdTc4NkVcdTdCNTRcdTY4NDhcbiAgICBjb25zdCBjb3JyZWN0Q29sdW1uID0gY29sdW1uc0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdxYS1jb2x1bW4nIH0pO1xuICAgIGNvcnJlY3RDb2x1bW4uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQ29ycmVjdCBBbnN3ZXI6JywgY2xzOiAnY29sdW1uLWxhYmVsJyB9KTtcbiAgICBjb25zdCBjb3JyZWN0RGl2ID0gY29ycmVjdENvbHVtbi5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWl0ZW0nIH0pO1xuICAgIGNvbnN0IHRhYmxlRWwgPSBUYWJsZVJlbmRlcmVyLnJlbmRlclRhYmxlKGNhcmQuY2xvemUhLm9yaWdpbmFsLCB0cnVlKTtcbiAgICBjb3JyZWN0RGl2LmFwcGVuZENoaWxkKHRhYmxlRWwpO1xuICAgIGNvcnJlY3REaXYuY2xhc3NMaXN0LmFkZCgndGFibGUtYW5zd2VyJyk7XG4gICAgXG4gICAgLy8gXHU1M0YzXHU1MjE3Olx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OFxuICAgIGNvbnN0IHVzZXJDb2x1bW4gPSBjb2x1bW5zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3FhLWNvbHVtbicgfSk7XG4gICAgdXNlckNvbHVtbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdZb3VyIEFuc3dlcjonLCBjbHM6ICdjb2x1bW4tbGFiZWwnIH0pO1xuICAgIGNvbnN0IHVzZXJEaXYgPSB1c2VyQ29sdW1uLmNyZWF0ZURpdih7IGNsczogJ2NvbXBhcmlzb24taXRlbScgfSk7XG4gIFxuICAgIC8vIFx1MjE5MCBcdTRGRUVcdTY1Mzk6XHU2M0QwXHU1M0Q2XHU1QjlFXHU5NjQ1XHU3Njg0XHU3QjU0XHU2ODQ4XHU2NzY1XHU2Nzg0XHU1RUZBIGRlbGV0aW9uc1xuICAgIGNvbnN0IGFjdHVhbEFuc3dlcnMgPSB0aGlzLmV4dHJhY3RDbG96ZUFuc3dlcnMoY2FyZC5jbG96ZSEub3JpZ2luYWwpO1xuICAgIGNvbnN0IGNvbnN0cnVjdGVkRGVsZXRpb25zID0gYWN0dWFsQW5zd2Vycy5tYXAoYW5zd2VyID0+ICh7IGFuc3dlciB9KSk7XG4gICAgXG4gIFxuICAgIC8vIFx1Nzg2RVx1NEZERCB1c2VyQW5zd2VycyBcdTY1NzBcdTdFQzRcdTk1N0ZcdTVFQTZcdTUzMzlcdTkxNERcbiAgICBjb25zdCBub3JtYWxpemVkQW5zd2VycyA9IG5ldyBBcnJheShhY3R1YWxBbnN3ZXJzLmxlbmd0aCkuZmlsbCgnJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihzdGF0ZS51c2VyQW5zd2Vycy5sZW5ndGgsIG5vcm1hbGl6ZWRBbnN3ZXJzLmxlbmd0aCk7IGkrKykge1xuICAgICAgbm9ybWFsaXplZEFuc3dlcnNbaV0gPSBzdGF0ZS51c2VyQW5zd2Vyc1tpXSB8fCAnJztcbiAgICB9XG4gIFxuICAgIGNvbnN0IHVzZXJUYWJsZUVsID0gVGFibGVSZW5kZXJlci5yZW5kZXJUYWJsZVdpdGhVc2VyQW5zd2VycyhcbiAgICAgIGNhcmQuY2xvemUhLm9yaWdpbmFsLFxuICAgICAgY29uc3RydWN0ZWREZWxldGlvbnMsICAvLyBcdTIxOTAgXHU0RjdGXHU3NTI4XHU2Nzg0XHU1RUZBXHU3Njg0IGRlbGV0aW9uc1xuICAgICAgbm9ybWFsaXplZEFuc3dlcnMsXG4gICAgICBzY2hlZHVsZXJcbiAgICApO1xuICAgIHVzZXJEaXYuYXBwZW5kQ2hpbGQodXNlclRhYmxlRWwpO1xuICAgIHVzZXJEaXYuY2xhc3NMaXN0LmFkZCgndGFibGUtYW5zd2VyJyk7XG4gIFxuICAgIC8vIFx1OEJFNlx1N0VDNlx1NUJGOVx1NkJENFxuICAgIHRoaXMucmVuZGVyRGV0YWlsZWRDb21wYXJpc29uKGFuc3dlckFyZWEsIGNhcmQsIHN0YXRlLCBzY2hlZHVsZXIpO1xuICB9XG4gIHByaXZhdGUgcmVuZGVyVGV4dEFuc3dlcihcbiAgICBhbnN3ZXJBcmVhOiBIVE1MRWxlbWVudCxcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgc3RhdGU6IFJldmlld1N0YXRlLFxuICAgIHNjaGVkdWxlcjogQ2FyZFNjaGVkdWxlclxuICApIHtcbiAgICBjb25zdCBmdWxsVGV4dCA9IGFuc3dlckFyZWEuY3JlYXRlRGl2KHsgY2xzOiAnZnVsbC10ZXh0JyB9KTtcbiAgICBmdWxsVGV4dC50ZXh0Q29udGVudCA9IGNhcmQuY2xvemUhLm9yaWdpbmFsO1xuICAgIFxuICAgIC8vIFx1MjE5MCBcdThGRDlcdTkxQ0NcdTVERjJcdTdFQ0ZcdTRGMUFcdThDMDNcdTc1MjggcmVuZGVyRGV0YWlsZWRDb21wYXJpc29uLFx1NUI4M1x1NEYxQVx1NEY3Rlx1NzUyOFx1NjVCMFx1NzY4NFx1OTAzQlx1OEY5MVxuICAgIHRoaXMucmVuZGVyRGV0YWlsZWRDb21wYXJpc29uKGFuc3dlckFyZWEsIGNhcmQsIHN0YXRlLCBzY2hlZHVsZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJEZXRhaWxlZENvbXBhcmlzb24oXG4gICAgYW5zd2VyQXJlYTogSFRNTEVsZW1lbnQsXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKSB7XG4gICAgaWYgKHN0YXRlLnVzZXJBbnN3ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBcbiAgICBjb25zdCBjb21wYXJpc29uID0gYW5zd2VyQXJlYS5jcmVhdGVEaXYoeyBjbHM6ICdhbnN3ZXItY29tcGFyaXNvbicgfSk7XG4gICAgY29tcGFyaXNvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdBbnN3ZXIgRGV0YWlsczonIH0pO1xuICBcbiAgICAvLyBcdTIxOTAgXHU1MTczXHU5NTJFXHU0RkVFXHU2NTM5Olx1NEY3Rlx1NzUyOFx1NUI5RVx1OTY0NVx1NzY4NFx1NjMxNlx1N0E3QVx1NjU3MFx1OTFDRixcdTgwMENcdTRFMERcdTY2MkYgZGVsZXRpb25zLmxlbmd0aFxuICAgIC8vIFx1NjVCOVx1NkNENTE6IFx1NEVDRVx1NTM5Rlx1NTlDQlx1NjU4N1x1NjcyQ1x1NjNEMFx1NTNENlx1NjI0MFx1NjcwOVx1NjMxNlx1N0E3QVx1N0I1NFx1Njg0OFxuICAgIGNvbnN0IGFjdHVhbEFuc3dlcnMgPSB0aGlzLmV4dHJhY3RDbG96ZUFuc3dlcnMoY2FyZC5jbG96ZSEub3JpZ2luYWwpO1xuICAgIFxuICBcbiAgICAvLyBcdTRGN0ZcdTc1MjhcdTVCOUVcdTk2NDVcdTdCNTRcdTY4NDhcdTY1NzBcdTkxQ0ZcdThGREJcdTg4NENcdTVCRjlcdTZCRDRcbiAgICBjb25zdCBtYXhDb3VudCA9IE1hdGgubWF4KGFjdHVhbEFuc3dlcnMubGVuZ3RoLCBzdGF0ZS51c2VyQW5zd2Vycy5sZW5ndGgpO1xuICAgIFxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtYXhDb3VudDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbXBhcmlzb24uY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1pdGVtJyB9KTtcbiAgICAgIGl0ZW0uY3JlYXRlU3Bhbih7IHRleHQ6IGAke2luZGV4ICsgMX0uIGAgfSk7XG4gIFxuICAgICAgY29uc3QgdXNlckFuc3dlciA9IHN0YXRlLnVzZXJBbnN3ZXJzW2luZGV4XSB8fCAnJztcbiAgICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBhY3R1YWxBbnN3ZXJzW2luZGV4XSB8fCAnJztcbiAgICAgIFxuICAgICAgaWYgKCFjb3JyZWN0QW5zd2VyKSB7XG4gICAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NkNBMVx1NjcwOVx1NUJGOVx1NUU5NFx1NzY4NFx1NkI2M1x1Nzg2RVx1N0I1NFx1Njg0OChcdTc1MjhcdTYyMzdcdTU5MUFcdThGOTNcdTUxNjVcdTRFODYpXG4gICAgICAgIGl0ZW0uY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICAgICAgdGV4dDogdXNlckFuc3dlciB8fCAnKGVtcHR5KScsXG4gICAgICAgICAgY2xzOiAndXNlci1hbnN3ZXIgICR7ZXZhbHVhdGlvbi5jb3JyZWN0bmVzc30nXG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnIFx1MjE5MiAnIH0pO1xuICAgICAgICBpdGVtLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICAgIHRleHQ6ICcobm8gYmxhbmsgaGVyZSknLFxuICAgICAgICAgIGNsczogJ2NvcnJlY3QtYW5zd2VyJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gIFxuICAgICAgY29uc3QgZXZhbHVhdGlvbiA9IHNjaGVkdWxlci5ldmFsdWF0ZUFuc3dlcihjb3JyZWN0QW5zd2VyLCB1c2VyQW5zd2VyKTtcbiAgXG4gICAgICBpdGVtLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICB0ZXh0OiB1c2VyQW5zd2VyIHx8ICcoZW1wdHkpJyxcbiAgICAgICAgY2xzOiBgdXNlci1hbnN3ZXIgJHtldmFsdWF0aW9uLmNvcnJlY3RuZXNzfWBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpdGVtLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnIFx1MjE5MiAnIH0pO1xuICAgICAgXG4gICAgICBpdGVtLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICB0ZXh0OiBjb3JyZWN0QW5zd2VyLFxuICAgICAgICBjbHM6ICdjb3JyZWN0LWFuc3dlcidcbiAgICAgIH0pO1xuICBcbiAgICAgIGlmIChldmFsdWF0aW9uLmNvcnJlY3RuZXNzID09PSAncGFydGlhbCcpIHtcbiAgICAgICAgaXRlbS5jcmVhdGVFbCgnc21hbGwnLCB7XG4gICAgICAgICAgdGV4dDogYCAoJHtNYXRoLnJvdW5kKGV2YWx1YXRpb24uc2ltaWxhcml0eSAqIDEwMCl9JSBtYXRjaClgLFxuICAgICAgICAgIGNsczogJ3NpbWlsYXJpdHktaW5mbydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLyBcdTIxOTAgXHU2REZCXHU1MkEwXHU2NUIwXHU2NUI5XHU2Q0Q1Olx1NEVDRVx1NTM5Rlx1NTlDQlx1NjU4N1x1NjcyQ1x1NjNEMFx1NTNENlx1NjI0MFx1NjcwOVx1NjMxNlx1N0E3QVx1N0I1NFx1Njg0OFxuICBwcml2YXRlIGV4dHJhY3RDbG96ZUFuc3dlcnMob3JpZ2luYWxUZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IG9yaWdpbmFsVGV4dC5tYXRjaCgvPT0oW149XSspPT0vZyk7XG4gICAgaWYgKCFtYXRjaGVzKSByZXR1cm4gW107XG4gICAgXG4gICAgcmV0dXJuIG1hdGNoZXMubWFwKG1hdGNoID0+IHtcbiAgICAgIC8vIFx1NzlGQlx1OTY2NCA9PSBcdTY4MDdcdThCQjAsXHU4M0I3XHU1M0Q2XHU3QjU0XHU2ODQ4XG4gICAgICByZXR1cm4gbWF0Y2gucmVwbGFjZSgvPT0vZywgJycpLnRyaW0oKTtcbiAgICB9KTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBcdTk1RUVcdTdCNTRcdTUzNjFcdTcyNDdcdTZFMzJcdTY3RDNcdTU2Njhcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBjbGFzcyBRQUNhcmRSZW5kZXJlciBpbXBsZW1lbnRzIENhcmRSZW5kZXJTdHJhdGVneSB7XG4gICAgcmVuZGVyUXVlc3Rpb24oXG4gICAgICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIFxuICAgICAgICBjYXJkOiBGbGFzaGNhcmQsIFxuICAgICAgICBzdGF0ZTogUmV2aWV3U3RhdGUsXG4gICAgICAgIHVwZGF0ZVN0YXRlOiB7ICAvLyBcdTI3MDUgXHU2REZCXHU1MkEwXHU1M0MyXHU2NTcwXG4gICAgICAgICAgc2V0VXNlckFuc3dlcjogKGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkO1xuICAgICAgICAgIHNldFVzZXJBbnN3ZXJzOiAoYW5zd2Vyczogc3RyaW5nW10pID0+IHZvaWQ7XG4gICAgICAgIH1cbiAgICAgICk6IHZvaWQge1xuICAgIC8vIFx1OTVFRVx1OTg5OFx1NjU4N1x1NjcyQ1xuICAgICAgICBjb25zdCBxdWVzdGlvblRleHQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncXVlc3Rpb24tdGV4dCcgfSk7XG4gICAgICAgIGNvbnN0IGlzVGFibGUgPSBUYWJsZVJlbmRlcmVyLmlzVGFibGVGb3JtYXQoY2FyZC5mcm9udCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNUYWJsZSkge1xuICAgICAgICAgIGNvbnN0IHRhYmxlRWwgPSBUYWJsZVJlbmRlcmVyLnJlbmRlclRhYmxlKGNhcmQuZnJvbnQsIGZhbHNlKTtcbiAgICAgICAgICBxdWVzdGlvblRleHQuYXBwZW5kQ2hpbGQodGFibGVFbCk7XG4gICAgICAgICAgcXVlc3Rpb25UZXh0LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLXF1ZXN0aW9uJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcXVlc3Rpb25UZXh0LnRleHRDb250ZW50ID0gY2FyZC5mcm9udDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBcdThGOTNcdTUxNjVcdTY4NDZcbiAgICAgICAgY29uc3QgaW5wdXRBcmVhID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3FhLWlucHV0LWFyZWEnIH0pO1xuICAgICAgICBpbnB1dEFyZWEuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnWW91ciBBbnN3ZXI6JyB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRleHRhcmVhID0gaW5wdXRBcmVhLmNyZWF0ZUVsKCd0ZXh0YXJlYScsIHtcbiAgICAgICAgICBwbGFjZWhvbGRlcjogJ1R5cGUgeW91ciBhbnN3ZXIgaGVyZS4uLicsXG4gICAgICAgICAgY2xzOiAncWEtaW5wdXQnLFxuICAgICAgICAgIHZhbHVlOiBzdGF0ZS51c2VyQW5zd2VyXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdXBkYXRlU3RhdGUuc2V0VXNlckFuc3dlcigoZS50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWUpOyAgLy8gXHUyNzA1IFx1NEY3Rlx1NzUyOFx1NTZERVx1OEMwM1xuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0ZXh0YXJlYS5mb2N1cygpLCA1MCk7XG4gICAgICB9XG5cbiAgcmVuZGVyQW5zd2VyKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY2FyZDogRmxhc2hjYXJkLFxuICAgIHN0YXRlOiBSZXZpZXdTdGF0ZSxcbiAgICBzY2hlZHVsZXI6IENhcmRTY2hlZHVsZXJcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgYW5zd2VyQXJlYSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdhbnN3ZXItYXJlYScgfSk7XG4gICAgXG4gICAgLy8gXHU4M0I3XHU1M0Q2XHU2QjYzXHU3ODZFXHU3QjU0XHU2ODQ4XG4gICAgY29uc3QgY29ycmVjdEFuc3dlciA9IEFycmF5LmlzQXJyYXkoY2FyZC5iYWNrKSBcbiAgICAgID8gKGNhcmQuYmFja1swXSB8fCBjYXJkLmJhY2suam9pbignXFxuJykpXG4gICAgICA6IGNhcmQuYmFjayBhcyBzdHJpbmc7XG4gICAgXG4gICAgY29uc3QgaXNUYWJsZSA9IFRhYmxlUmVuZGVyZXIuaXNUYWJsZUZvcm1hdChjb3JyZWN0QW5zd2VyKTtcbiAgICBjb25zdCBldmFsdWF0aW9uID0gc3RhdGUudXNlckFuc3dlci50cmltKCkgXG4gICAgICA/IHNjaGVkdWxlci5ldmFsdWF0ZUFuc3dlcihjb3JyZWN0QW5zd2VyLCBzdGF0ZS51c2VyQW5zd2VyKVxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3QgY29tcGFyaXNvbiA9IGFuc3dlckFyZWEuY3JlYXRlRGl2KHsgXG4gICAgICBjbHM6ICdhbnN3ZXItY29tcGFyaXNvbiBxYS1jb21wYXJpc29uJyBcbiAgICB9KTtcbiAgICBjb25zdCBjb2x1bW5zQ29udGFpbmVyID0gY29tcGFyaXNvbi5jcmVhdGVEaXYoeyBjbHM6ICdxYS1jb2x1bW5zLWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgLy8gXHU1REU2XHU1MjE3XHVGRjFBXHU2QjYzXHU3ODZFXHU3QjU0XHU2ODQ4XG4gICAgdGhpcy5yZW5kZXJDb3JyZWN0QW5zd2VyQ29sdW1uKGNvbHVtbnNDb250YWluZXIsIGNvcnJlY3RBbnN3ZXIsIGlzVGFibGUpO1xuICAgIFxuICAgIC8vIFx1NTNGM1x1NTIxN1x1RkYxQVx1NzUyOFx1NjIzN1x1N0I1NFx1Njg0OFxuICAgIHRoaXMucmVuZGVyVXNlckFuc3dlckNvbHVtbihcbiAgICAgIGNvbHVtbnNDb250YWluZXIsIFxuICAgICAgc3RhdGUudXNlckFuc3dlciwgXG4gICAgICBpc1RhYmxlLCBcbiAgICAgIGV2YWx1YXRpb25cbiAgICApO1xuXG4gICAgLy8gXHU3NkY4XHU0RjNDXHU1RUE2XHU0RkUxXHU2MDZGXG4gICAgaWYgKGV2YWx1YXRpb24/LmNvcnJlY3RuZXNzID09PSAncGFydGlhbCcpIHtcbiAgICAgIGNvbnN0IHNpbWlsYXJpdHlJbmZvID0gY29tcGFyaXNvbi5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICBjbHM6ICdzaW1pbGFyaXR5LWluZm8gcWEtc2ltaWxhcml0eSdcbiAgICAgIH0pO1xuICAgICAgc2ltaWxhcml0eUluZm8udGV4dENvbnRlbnQgPSBgU2ltaWxhcml0eTogJHtNYXRoLnJvdW5kKGV2YWx1YXRpb24uc2ltaWxhcml0eSAqIDEwMCl9JWA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJDb3JyZWN0QW5zd2VyQ29sdW1uKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY29ycmVjdEFuc3dlcjogc3RyaW5nLFxuICAgIGlzVGFibGU6IGJvb2xlYW5cbiAgKSB7XG4gICAgY29uc3QgY29ycmVjdENvbHVtbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdxYS1jb2x1bW4nIH0pO1xuICAgIGNvcnJlY3RDb2x1bW4uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQ29ycmVjdCBBbnN3ZXI6JywgY2xzOiAnY29sdW1uLWxhYmVsJyB9KTtcbiAgICBjb25zdCBjb3JyZWN0QW5zd2VyRGl2ID0gY29ycmVjdENvbHVtbi5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLWl0ZW0nIH0pO1xuICAgIFxuICAgIGlmIChpc1RhYmxlKSB7XG4gICAgICBjb25zdCB0YWJsZUVsID0gVGFibGVSZW5kZXJlci5yZW5kZXJUYWJsZShjb3JyZWN0QW5zd2VyLCB0cnVlKTtcbiAgICAgIGNvcnJlY3RBbnN3ZXJEaXYuYXBwZW5kQ2hpbGQodGFibGVFbCk7XG4gICAgICBjb3JyZWN0QW5zd2VyRGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWFuc3dlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3JyZWN0QW5zd2VyRGl2LmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgIHRleHQ6IGNvcnJlY3RBbnN3ZXIsXG4gICAgICAgIGNsczogJ2NvcnJlY3QtYW5zd2VyIHFhLWNvcnJlY3QtYW5zd2VyJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJVc2VyQW5zd2VyQ29sdW1uKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgdXNlckFuc3dlcjogc3RyaW5nLFxuICAgIGlzVGFibGU6IGJvb2xlYW4sXG4gICAgZXZhbHVhdGlvbjogYW55XG4gICkge1xuICAgIGNvbnN0IHVzZXJDb2x1bW4gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAncWEtY29sdW1uJyB9KTtcbiAgICB1c2VyQ29sdW1uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1lvdXIgQW5zd2VyOicsIGNsczogJ2NvbHVtbi1sYWJlbCcgfSk7XG4gICAgY29uc3QgdXNlckFuc3dlckRpdiA9IHVzZXJDb2x1bW4uY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1pdGVtJyB9KTtcblxuICAgIGNvbnN0IGlzVXNlckFuc3dlclRhYmxlID0gVGFibGVSZW5kZXJlci5pc1RhYmxlRm9ybWF0KHVzZXJBbnN3ZXIudHJpbSgpKTtcbiAgICBjb25zdCBzaG91bGRSZW5kZXJBc1RhYmxlID0gaXNVc2VyQW5zd2VyVGFibGUgfHwgKGlzVGFibGUgJiYgdXNlckFuc3dlci50cmltKCkpO1xuXG4gICAgaWYgKHNob3VsZFJlbmRlckFzVGFibGUgJiYgdXNlckFuc3dlci50cmltKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXJUYWJsZUVsID0gVGFibGVSZW5kZXJlci5yZW5kZXJUYWJsZSh1c2VyQW5zd2VyLCB0cnVlKTtcbiAgICAgICAgdXNlckFuc3dlckRpdi5hcHBlbmRDaGlsZCh1c2VyVGFibGVFbCk7XG4gICAgICAgIHVzZXJBbnN3ZXJEaXYuY2xhc3NMaXN0LmFkZCgndGFibGUtYW5zd2VyJyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXZhbHVhdGlvbikge1xuICAgICAgICAgIHVzZXJBbnN3ZXJEaXYuY2xhc3NMaXN0LmFkZCgndXNlci1hbnN3ZXInLCBldmFsdWF0aW9uLmNvcnJlY3RuZXNzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0VXNlckFuc3dlcih1c2VyQW5zd2VyRGl2LCB1c2VyQW5zd2VyLCBldmFsdWF0aW9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJUZXh0VXNlckFuc3dlcih1c2VyQW5zd2VyRGl2LCB1c2VyQW5zd2VyLCBldmFsdWF0aW9uKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclRleHRVc2VyQW5zd2VyKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgdXNlckFuc3dlcjogc3RyaW5nLFxuICAgIGV2YWx1YXRpb246IGFueVxuICApIHtcbiAgICBjb25zdCB1c2VyQW5zd2VyRWxlbWVudCA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgdGV4dDogdXNlckFuc3dlci50cmltKCkgfHwgJyhubyBhbnN3ZXIgcHJvdmlkZWQpJyxcbiAgICAgIGNsczogJ3FhLXVzZXItYW5zd2VyJ1xuICAgIH0pO1xuICAgIFxuICAgIGlmIChldmFsdWF0aW9uKSB7XG4gICAgICB1c2VyQW5zd2VyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1c2VyLWFuc3dlcicsIGV2YWx1YXRpb24uY29ycmVjdG5lc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1c2VyQW5zd2VyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCduby1hbnN3ZXInKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gXHU1MzYxXHU3MjQ3XHU2RTMyXHU2N0QzXHU1NjY4XHU1REU1XHU1MzgyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY2xhc3MgQ2FyZFJlbmRlcmVyRmFjdG9yeSB7XG4gIHByaXZhdGUgc3RhdGljIHJlbmRlcmVycyA9IG5ldyBNYXA8c3RyaW5nLCBDYXJkUmVuZGVyU3RyYXRlZ3k+KFtcbiAgICBbJ2Nsb3plJywgbmV3IENsb3plQ2FyZFJlbmRlcmVyKCldLFxuICAgIFsncWEnLCBuZXcgUUFDYXJkUmVuZGVyZXIoKV1cbiAgXSk7XG5cbiAgc3RhdGljIGdldFJlbmRlcmVyKGNhcmRUeXBlOiBzdHJpbmcpOiBDYXJkUmVuZGVyU3RyYXRlZ3kge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcnMuZ2V0KGNhcmRUeXBlKTtcbiAgICBpZiAoIXJlbmRlcmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY2FyZCB0eXBlOiAke2NhcmRUeXBlfWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyZXI7XG4gIH1cbn0iLCAiLy8gc3Rhc1ZpZXcudHNcbmltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBURmlsZSwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBBbmFseXRpY3NFbmdpbmUgfSBmcm9tICcuLi8uLi9jb3JlL0FuYWx5dGljc0VuZ2luZSc7XG5pbXBvcnQgeyB0ICxMYW5ndWFnZX0gZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX1NUQVRTID0gJ2xlYXJuaW5nLXN5c3RlbS1zdGF0cyc7XG5cbmV4cG9ydCBjbGFzcyBTdGF0c1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG4gIHByaXZhdGUgbGFuZ3VhZ2U6IExhbmd1YWdlO1xuICBwcml2YXRlIGFuYWx5dGljczogQW5hbHl0aWNzRW5naW5lO1xuICBwcml2YXRlIGN1cnJlbnRUYWI6ICdvdmVydmlldycgfCAndHJlbmRzJyB8ICdkZWNrcycgfCAnZGlmZmljdWx0J3wgJ2hpc3RvcnknID0gJ292ZXJ2aWV3JztcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luKSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5sYW5ndWFnZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlIHx8ICdlbic7XG4gICAgdGhpcy5hbmFseXRpY3MgPSBuZXcgQW5hbHl0aWNzRW5naW5lKHBsdWdpbik7XG4gICAgXG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBWSUVXX1RZUEVfU1RBVFM7XG4gIH1cblxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnTGVhcm5pbmcgU3RhdGlzdGljcyc7XG4gIH1cblxuICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdiYXItY2hhcnQnO1xuICB9XG5cbiAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgLy8gXHVEODNDXHVERkFGIFx1ODlFM1x1OTUwMVx1N0NGQlx1N0VERlx1NjhDMFx1NjdFNVx1NzBCOVxuICBhd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25TdGF0c1BhZ2VWaXNpdGVkKCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgICB0aGlzLmFkZFN0eWxlcygpO1xuICB9XG5cbiAgYXN5bmMgb25DbG9zZSgpIHt9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoJ3N0YXRzLWNvbnRhaW5lcicpO1xuXG4gICAgLy8gXHU2ODA3XHU5ODk4XHU2ODBGXG4gICAgY29uc3QgaGVhZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXRzLWhlYWRlcicgfSk7XG4gICAgaGVhZGVyLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0xlYXJuaW5nIFN0YXRpc3RpY3MnIH0pO1xuXG4gICAgLy8gXHU1MjM3XHU2NUIwXHU2MzA5XHU5NEFFXG4gICAgY29uc3QgcmVmcmVzaEJ0biA9IGhlYWRlci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ1x1MjdGMycsXG4gICAgICBjbHM6ICdyZWZyZXNoLWJ0bidcbiAgICB9KTtcbiAgICByZWZyZXNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5yZW5kZXIoKSk7XG5cbiAgICAvLyBcdTY4MDdcdTdCN0VcdTk4NzVcbiAgICB0aGlzLnJlbmRlclRhYnMoY29udGFpbmVyKTtcblxuICAgIC8vIFx1NTE4NVx1NUJCOVx1NTMzQVx1NTdERlxuICAgIGNvbnN0IGNvbnRlbnQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMtY29udGVudCcgfSk7XG5cbiAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFRhYikge1xuICAgICAgY2FzZSAnb3ZlcnZpZXcnOlxuICAgICAgICB0aGlzLnJlbmRlck92ZXJ2aWV3KGNvbnRlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RyZW5kcyc6XG4gICAgICAgIHRoaXMucmVuZGVyVHJlbmRzKGNvbnRlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlY2tzJzpcbiAgICAgICAgdGhpcy5yZW5kZXJEZWNrcyhjb250ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaWZmaWN1bHQnOlxuICAgICAgICB0aGlzLnJlbmRlckRpZmZpY3VsdChjb250ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2hpc3RvcnknOlxuICAgICAgICAgIHRoaXMucmVuZGVyQ3ljbGVIaXN0b3J5KGNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrOyAgICBcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclRhYnMoY29udGFpbmVyOiBFbGVtZW50KSB7XG4gICAgY29uc3QgdGFicyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cy10YWJzJyB9KTtcblxuICAgIGNvbnN0IHRhYkNvbmZpZ3MgPSBbXG4gICAgICB7IGlkOiAnb3ZlcnZpZXcnLCBsYWJlbDogJ1x1RDgzRFx1RENDQSBPdmVydmlldycgfSxcbiAgICAgIHsgaWQ6ICd0cmVuZHMnLCBsYWJlbDogJ1x1RDgzRFx1RENDOCBUcmVuZHMnIH0sXG4gICAgICB7IGlkOiAnZGVja3MnLCBsYWJlbDogJ1x1RDgzRFx1RENEQSBEZWNrcycgfSxcbiAgICAgIHsgaWQ6ICdkaWZmaWN1bHQnLCBsYWJlbDogJ1x1MjZBMFx1RkUwRiBEaWZmaWN1bHQnIH0sXG4gICAgICB7IGlkOiAnaGlzdG9yeScsIGxhYmVsOiAnXHVEODNEXHVEQ0RDIEN5Y2xlIEhpc3RvcnknIH1cbiAgICBdO1xuXG4gICAgdGFiQ29uZmlncy5mb3JFYWNoKGNvbmZpZyA9PiB7XG4gICAgICBjb25zdCB0YWIgPSB0YWJzLmNyZWF0ZURpdih7XG4gICAgICAgIGNsczogYHRhYiAke3RoaXMuY3VycmVudFRhYiA9PT0gY29uZmlnLmlkID8gJ2FjdGl2ZScgOiAnJ31gXG4gICAgICB9KTtcbiAgICAgIHRhYi50ZXh0Q29udGVudCA9IGNvbmZpZy5sYWJlbDtcbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFiID0gY29uZmlnLmlkIGFzIGFueTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJPdmVydmlldyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3Qgc3RhdHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldFN0YXRzKCk7XG4gICAgY29uc3QgeyB0aGlzV2VlaywgbGFzdFdlZWsgfSA9IHRoaXMuYW5hbHl0aWNzLmdldFdlZWtseVN0YXRzKCk7XG4gICAgY29uc3QgZGFpbHlTdGF0cyA9IHRoaXMuYW5hbHl0aWNzLmdldERhaWx5U3RhdHMoNyk7XG5cbiAgICB0aGlzLnJlbmRlckN5Y2xlQmFubmVyKGNvbnRhaW5lcik7XG5cbiAgICAvLyBcdTUxNzNcdTk1MkVcdTYzMDdcdTY4MDdcdTUzNjFcdTcyNDdcbiAgICBjb25zdCBtZXRyaWNzR3JpZCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdtZXRyaWNzLWdyaWQnIH0pO1xuXG4gICAgdGhpcy5jcmVhdGVNZXRyaWNDYXJkKG1ldHJpY3NHcmlkLCB7XG4gICAgICB0aXRsZTogJ1RvdGFsIENhcmRzJyxcbiAgICAgIHZhbHVlOiBzdGF0cy50b3RhbC50b1N0cmluZygpLFxuICAgICAgaWNvbjogJ1x1RDgzQ1x1RENDRidcbiAgICB9KTtcblxuICAgIHRoaXMuY3JlYXRlTWV0cmljQ2FyZChtZXRyaWNzR3JpZCwge1xuICAgICAgdGl0bGU6ICdEdWUgVG9kYXknLFxuICAgICAgdmFsdWU6IHN0YXRzLmR1ZS50b1N0cmluZygpLFxuICAgICAgaWNvbjogJ1x1RDgzRFx1RENDNSdcbiAgICB9KTtcblxuICAgIHRoaXMuY3JlYXRlTWV0cmljQ2FyZChtZXRyaWNzR3JpZCwge1xuICAgICAgdGl0bGU6ICdSZXZpZXdlZCBUb2RheScsXG4gICAgICB2YWx1ZTogc3RhdHMucmV2aWV3ZWRUb2RheS50b1N0cmluZygpLFxuICAgICAgaWNvbjogJ1x1MjcwNSdcbiAgICB9KTtcblxuICAgIGNvbnN0IHN0cmVhayA9IHRoaXMuYW5hbHl0aWNzLmNhbGN1bGF0ZVN0cmVhaygpO1xuICAgIHRoaXMuY3JlYXRlTWV0cmljQ2FyZChtZXRyaWNzR3JpZCwge1xuICAgICAgdGl0bGU6ICdDdXJyZW50IFN0cmVhaycsXG4gICAgICB2YWx1ZTogYCR7c3RyZWFrfSBkYXlzYCxcbiAgICAgIGljb246ICdcdUQ4M0RcdUREMjUnXG4gICAgfSk7XG5cbiAgICAvLyBcdTY3MkNcdTU0NjggdnMgXHU0RTBBXHU1NDY4XG4gICAgY29uc3Qgd2Vla0NvbXBhcmlzb24gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnd2Vlay1jb21wYXJpc29uJyB9KTtcbiAgICB3ZWVrQ29tcGFyaXNvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdUaGlzIFdlZWsgdnMgTGFzdCBXZWVrJyB9KTtcblxuICAgIGNvbnN0IGNvbXBhcmlzb25HcmlkID0gd2Vla0NvbXBhcmlzb24uY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1ncmlkJyB9KTtcblxuICAgIGNvbnN0IHJldmlld0NoYW5nZSA9IHRoaXNXZWVrLnRvdGFsUmV2aWV3cyAtIGxhc3RXZWVrLnRvdGFsUmV2aWV3cztcbiAgICBjb25zdCByZXZpZXdDaGFuZ2VQZXJjZW50ID0gbGFzdFdlZWsudG90YWxSZXZpZXdzID4gMFxuICAgICAgPyAoKHJldmlld0NoYW5nZSAvIGxhc3RXZWVrLnRvdGFsUmV2aWV3cykgKiAxMDApLnRvRml4ZWQoMSlcbiAgICAgIDogJzAnO1xuXG4gICAgdGhpcy5jcmVhdGVDb21wYXJpc29uSXRlbShjb21wYXJpc29uR3JpZCwge1xuICAgICAgbGFiZWw6ICdSZXZpZXdzJyxcbiAgICAgIHRoaXNXZWVrOiB0aGlzV2Vlay50b3RhbFJldmlld3MsXG4gICAgICBsYXN0V2VlazogbGFzdFdlZWsudG90YWxSZXZpZXdzLFxuICAgICAgY2hhbmdlOiByZXZpZXdDaGFuZ2UsXG4gICAgICBjaGFuZ2VQZXJjZW50OiByZXZpZXdDaGFuZ2VQZXJjZW50XG4gICAgfSk7XG5cbiAgICBjb25zdCByYXRlQ2hhbmdlID0gKHRoaXNXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAtIGxhc3RXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSkgKiAxMDA7XG4gICAgdGhpcy5jcmVhdGVDb21wYXJpc29uSXRlbShjb21wYXJpc29uR3JpZCwge1xuICAgICAgbGFiZWw6ICdDb3JyZWN0IFJhdGUnLFxuICAgICAgdGhpc1dlZWs6IGAkeyh0aGlzV2Vlay5hdmVyYWdlQ29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JWAsXG4gICAgICBsYXN0V2VlazogYCR7KGxhc3RXZWVrLmF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lYCxcbiAgICAgIGNoYW5nZTogcmF0ZUNoYW5nZSxcbiAgICAgIGNoYW5nZVBlcmNlbnQ6IHJhdGVDaGFuZ2UudG9GaXhlZCgxKVxuICAgIH0pO1xuXG4gICAgLy8gXHU2NzAwXHU4RkQxN1x1NTkyOVx1NkQzQlx1NTJBOFxuICAgIGNvbnN0IHJlY2VudEFjdGl2aXR5ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3JlY2VudC1hY3Rpdml0eScgfSk7XG4gICAgcmVjZW50QWN0aXZpdHkuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnTGFzdCA3IERheXMgQWN0aXZpdHknIH0pO1xuXG4gICAgY29uc3QgYWN0aXZpdHlDaGFydCA9IHJlY2VudEFjdGl2aXR5LmNyZWF0ZURpdih7IGNsczogJ2FjdGl2aXR5LWNoYXJ0JyB9KTtcbiAgICB0aGlzLnJlbmRlclNpbXBsZUJhckNoYXJ0KGFjdGl2aXR5Q2hhcnQsIGRhaWx5U3RhdHMpO1xuXG4gICAgLy8gXHU3NTFGXHU2MjEwXHU2MkE1XHU1NDRBXHU2MzA5XHU5NEFFXG4gICAgY29uc3QgcmVwb3J0U2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdyZXBvcnQtc2VjdGlvbicgfSk7XG4gICAgY29uc3QgcmVwb3J0QnRuID0gcmVwb3J0U2VjdGlvbi5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ1x1RDgzRFx1RENDNCBHZW5lcmF0ZSBGdWxsIFJlcG9ydCcsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIHJlcG9ydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZ2VuZXJhdGVBbmRTaG93UmVwb3J0KCkpO1xuICBcbiAgLy8gXHU2RTA1XHU5NjY0XHU3RURGXHU4QkExXHU2MzA5XHU5NEFFXG5jb25zdCBjbGVhckJ0biA9IHJlcG9ydFNlY3Rpb24uY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgdGV4dDogJ1x1RDgzRFx1REREMVx1RkUwRiBDbGVhciBTdGF0aXN0aWNzJyxcbiAgY2xzOiAnbW9kLXdhcm5pbmcnXG59KTtcbmNsZWFyQnRuLnN0eWxlLm1hcmdpbkxlZnQgPSAnMTBweCc7XG5jbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc2hvd0NsZWFyU3RhdHNNb2RhbCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVHJlbmRzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb250YWluZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGVyZm9ybWFuY2UgVHJlbmRzJyB9KTtcblxuICAgIGNvbnN0IGRhaWx5U3RhdHMgPSB0aGlzLmFuYWx5dGljcy5nZXREYWlseVN0YXRzKDMwKTtcblxuICAgIC8vIFx1NkI2M1x1Nzg2RVx1NzM4N1x1OEQ4Qlx1NTJCRlxuICAgIGNvbnN0IGNvcnJlY3RSYXRlU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjaGFydC1zZWN0aW9uJyB9KTtcbiAgICBjb3JyZWN0UmF0ZVNlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQ29ycmVjdCBSYXRlIChMYXN0IDMwIERheXMpJyB9KTtcbiAgICBjb25zdCBjb3JyZWN0UmF0ZUNoYXJ0ID0gY29ycmVjdFJhdGVTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2xpbmUtY2hhcnQnIH0pO1xuICAgIHRoaXMucmVuZGVyTGluZUNoYXJ0KGNvcnJlY3RSYXRlQ2hhcnQsIGRhaWx5U3RhdHMsICdjb3JyZWN0UmF0ZScpO1xuXG4gICAgLy8gXHU2QkNGXHU2NUU1XHU1OTBEXHU0RTYwXHU5MUNGXG4gICAgY29uc3QgcmV2aWV3c1NlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2hhcnQtc2VjdGlvbicgfSk7XG4gICAgcmV2aWV3c1NlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnRGFpbHkgUmV2aWV3cycgfSk7XG4gICAgY29uc3QgcmV2aWV3c0NoYXJ0ID0gcmV2aWV3c1NlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWNoYXJ0JyB9KTtcbiAgICB0aGlzLnJlbmRlckJhckNoYXJ0KHJldmlld3NDaGFydCwgZGFpbHlTdGF0cyk7XG5cbiAgICAvLyBcdTcwRURcdTUyOUJcdTU2RkVcbiAgICBjb25zdCBoZWF0bWFwU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjaGFydC1zZWN0aW9uJyB9KTtcbiAgICBoZWF0bWFwU2VjdGlvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdTdHVkeSBBY3Rpdml0eSBDYWxlbmRhcicgfSk7XG4gICAgY29uc3QgaGVhdG1hcCA9IGhlYXRtYXBTZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2hlYXRtYXAnIH0pO1xuICAgIHRoaXMucmVuZGVySGVhdG1hcChoZWF0bWFwKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRGVja3MoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdEZWNrIFN0YXRpc3RpY3MnIH0pO1xuXG4gICAgY29uc3QgZGVja1N0YXRzID0gdGhpcy5hbmFseXRpY3MuZ2V0RGVja1N0YXRzKCk7XG5cbiAgICBpZiAoZGVja1N0YXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdih7IFxuICAgICAgICB0ZXh0OiAnTm8gZGVja3MgeWV0LiBDcmVhdGUgc29tZSBmbGFzaGNhcmRzIHRvIHNlZSBkZWNrIHN0YXRpc3RpY3MhJyxcbiAgICAgICAgY2xzOiAnZW1wdHktbWVzc2FnZSdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRlY2tzR3JpZCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrcy1ncmlkJyB9KTtcblxuICAgIGRlY2tTdGF0cy5mb3JFYWNoKGRlY2sgPT4ge1xuICAgICAgY29uc3QgZGVja0NhcmQgPSBkZWNrc0dyaWQuY3JlYXRlRGl2KHsgY2xzOiAnZGVjay1jYXJkJyB9KTtcblxuICAgICAgY29uc3QgaGVhZGVyID0gZGVja0NhcmQuY3JlYXRlRGl2KHsgY2xzOiAnZGVjay1jYXJkLWhlYWRlcicgfSk7XG4gICAgICBoZWFkZXIuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiBkZWNrLmRlY2tOYW1lIH0pO1xuICAgICAgXG4gICAgICBoZWFkZXIuY3JlYXRlU3Bhbih7XG4gICAgICAgIHRleHQ6IGAke2RlY2sudG90YWxDYXJkc30gY2FyZHNgLFxuICAgICAgICBjbHM6ICdkZWNrLWJhZGdlJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YXRzID0gZGVja0NhcmQuY3JlYXRlRGl2KHsgY2xzOiAnZGVjay1jYXJkLXN0YXRzJyB9KTtcblxuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KHN0YXRzLCAnRHVlJywgZGVjay5kdWVDYXJkcy50b1N0cmluZygpLCAnXHVEODNEXHVEQ0M1Jyk7XG4gICAgICB0aGlzLmNyZWF0ZVN0YXRSb3coc3RhdHMsICdOZXcnLCBkZWNrLm5ld0NhcmRzLnRvU3RyaW5nKCksICdcdUQ4M0NcdUREOTUnKTtcbiAgICAgIHRoaXMuY3JlYXRlU3RhdFJvdyhcbiAgICAgICAgc3RhdHMsIFxuICAgICAgICAnQ29ycmVjdCBSYXRlJywgXG4gICAgICAgIGAkeyhkZWNrLmNvcnJlY3RSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVgLFxuICAgICAgICAnXHUyNzA1J1xuICAgICAgKTtcbiAgICAgIHRoaXMuY3JlYXRlU3RhdFJvdyhcbiAgICAgICAgc3RhdHMsXG4gICAgICAgICdBdmcgSW50ZXJ2YWwnLFxuICAgICAgICBgJHtkZWNrLmF2ZXJhZ2VJbnRlcnZhbC50b0ZpeGVkKDEpfSBkYXlzYCxcbiAgICAgICAgJ1x1RDgzRFx1RENDQSdcbiAgICAgICk7XG5cbiAgICAgIC8vIFx1OEZEQlx1NUVBNlx1Njc2MVxuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBkZWNrQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdkZWNrLXByb2dyZXNzJyB9KTtcbiAgICAgIGNvbnN0IG1hc3RlcmVkQ291bnQgPSBkZWNrLnRvdGFsQ2FyZHMgLSBkZWNrLmR1ZUNhcmRzIC0gZGVjay5uZXdDYXJkcztcbiAgICAgIGNvbnN0IG1hc3RlcmVkUGVyY2VudCA9IChtYXN0ZXJlZENvdW50IC8gZGVjay50b3RhbENhcmRzKSAqIDEwMDtcbiAgICAgIFxuICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBwcm9ncmVzcy5jcmVhdGVEaXYoeyBjbHM6ICdwcm9ncmVzcy1iYXItY29udGFpbmVyJyB9KTtcbiAgICAgIGNvbnN0IGJhciA9IHByb2dyZXNzQmFyLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWJhci1maWxsJyB9KTtcbiAgICAgIGJhci5zdHlsZS53aWR0aCA9IGAke21hc3RlcmVkUGVyY2VudH0lYDtcbiAgICAgIFxuICAgICAgcHJvZ3Jlc3MuY3JlYXRlRGl2KHtcbiAgICAgICAgdGV4dDogYCR7bWFzdGVyZWRQZXJjZW50LnRvRml4ZWQoMCl9JSBtYXN0ZXJlZGAsXG4gICAgICAgIGNsczogJ3Byb2dyZXNzLWxhYmVsJ1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckRpZmZpY3VsdChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NhcmRzIE5lZWRpbmcgQXR0ZW50aW9uJyB9KTtcblxuICAgIGNvbnN0IGRpZmZpY3VsdENhcmRzID0gdGhpcy5hbmFseXRpY3MuZ2V0RGlmZmljdWx0Q2FyZHMoMTApO1xuXG4gICAgaWYgKGRpZmZpY3VsdENhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdih7XG4gICAgICAgIHRleHQ6ICdcdUQ4M0NcdURGODkgTm8gZGlmZmljdWx0IGNhcmRzISBHcmVhdCBqb2IhJyxcbiAgICAgICAgY2xzOiAnZW1wdHktbWVzc2FnZSdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNhcmRzTGlzdCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdkaWZmaWN1bHQtY2FyZHMtbGlzdCcgfSk7XG5cbiAgICBkaWZmaWN1bHRDYXJkcy5mb3JFYWNoKChkYywgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRJdGVtID0gY2FyZHNMaXN0LmNyZWF0ZURpdih7IGNsczogJ2RpZmZpY3VsdC1jYXJkLWl0ZW0nIH0pO1xuXG4gICAgICBjb25zdCByYW5rID0gY2FyZEl0ZW0uY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1yYW5rJyB9KTtcbiAgICAgIHJhbmsudGV4dENvbnRlbnQgPSBgJHtpbmRleCArIDF9YDtcblxuICAgICAgY29uc3QgY29udGVudCA9IGNhcmRJdGVtLmNyZWF0ZURpdih7IGNsczogJ2NhcmQtY29udGVudCcgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHF1ZXN0aW9uID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdjYXJkLXF1ZXN0aW9uJyB9KTtcbiAgICAgIHF1ZXN0aW9uLnRleHRDb250ZW50ID0gZGMuY2FyZC5mcm9udC5zdWJzdHJpbmcoMCwgODApICsgXG4gICAgICAgIChkYy5jYXJkLmZyb250Lmxlbmd0aCA+IDgwID8gJy4uLicgOiAnJyk7XG5cbiAgICAgIGNvbnN0IG1ldGEgPSBjb250ZW50LmNyZWF0ZURpdih7IGNsczogJ2NhcmQtbWV0YScgfSk7XG5cbiAgICAgIGNvbnN0IHBhdHRlcm5FbW9qaTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgJ2NvbmNlcHQnOiAnXHVEODNFXHVEREUwJyxcbiAgICAgICAgJ21lbW9yeSc6ICdcdUQ4M0RcdURDQUQnLFxuICAgICAgICAnY2FsY3VsYXRpb24nOiAnXHVEODNEXHVERDIyJyxcbiAgICAgICAgJ3Vua25vd24nOiAnXHUyNzUzJ1xuICAgICAgfTtcblxuICAgICAgbWV0YS5jcmVhdGVTcGFuKHtcbiAgICAgICAgdGV4dDogYCR7cGF0dGVybkVtb2ppW2RjLnBhdHRlcm5dfSAke2RjLnBhdHRlcm59YCxcbiAgICAgICAgY2xzOiAncGF0dGVybi1iYWRnZSdcbiAgICAgIH0pO1xuXG4gICAgICBtZXRhLmNyZWF0ZVNwYW4oe1xuICAgICAgICB0ZXh0OiBgJHtkYy5lcnJvckNvdW50fSBlcnJvcnNgLFxuICAgICAgICBjbHM6ICdlcnJvci1jb3VudCdcbiAgICAgIH0pO1xuXG4gICAgICBtZXRhLmNyZWF0ZVNwYW4oe1xuICAgICAgICB0ZXh0OiBgJHtkYy5hdmVyYWdlVGltZS50b0ZpeGVkKDEpfXMgYXZnYCxcbiAgICAgICAgY2xzOiAnYXZnLXRpbWUnXG4gICAgICB9KTtcblxuICAgICAgLy8gXHU5NkJFXHU1RUE2XHU2NzYxXG4gICAgICBjb25zdCBkaWZmaWN1bHR5QmFyID0gY29udGVudC5jcmVhdGVEaXYoeyBjbHM6ICdkaWZmaWN1bHR5LWJhci1jb250YWluZXInIH0pO1xuICAgICAgY29uc3QgZGlmZkJhciA9IGRpZmZpY3VsdHlCYXIuY3JlYXRlRGl2KHsgY2xzOiAnZGlmZmljdWx0eS1iYXInIH0pO1xuICAgICAgZGlmZkJhci5zdHlsZS53aWR0aCA9IGAke2RjLmNhcmQuc3RhdHMuZGlmZmljdWx0eSAqIDEwMH0lYDtcblxuICAgICAgLy8gXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXG4gICAgICBjb25zdCBhY3Rpb25zID0gY2FyZEl0ZW0uY3JlYXRlRGl2KHsgY2xzOiAnY2FyZC1hY3Rpb25zJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3QganVtcEJ0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgICAgdGV4dDogJ1x1MjE5NycsXG4gICAgICAgIGNsczogJ2FjdGlvbi1idG4tc21hbGwnXG4gICAgICB9KTtcbiAgICAgIGp1bXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmp1bXBUb0NhcmQoZGMuY2FyZCkpO1xuXG4gICAgICBjb25zdCByZXZpZXdCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgIHRleHQ6ICdcdUQ4M0RcdUREMDQnLFxuICAgICAgICBjbHM6ICdhY3Rpb24tYnRuLXNtYWxsJ1xuICAgICAgfSk7XG4gICAgICByZXZpZXdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucGx1Z2luLmFjdGl2YXRlUmV2aWV3KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGVsZXRlQnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgICB0ZXh0OiAnXHVEODNEXHVEREQxXHVGRTBGJyxcbiAgICAgICAgY2xzOiAnYWN0aW9uLWJ0bi1zbWFsbCBkZWxldGUtYnRuJ1xuICAgICAgfSk7XG4gICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChjb25maXJtKHQoJ25vdGljZS5mbGFzaGNhcmREZWxldGVkJywgdGhpcy5sYW5ndWFnZSkpKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVGbGFzaGNhcmQoZGMuY2FyZC5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVNZXRyaWNDYXJkKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY29uZmlnOiB7IHRpdGxlOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IGljb246IHN0cmluZyB9XG4gICkge1xuICAgIGNvbnN0IGNhcmQgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnbWV0cmljLWNhcmQnIH0pO1xuICAgIFxuICAgIGNhcmQuY3JlYXRlRGl2KHsgdGV4dDogY29uZmlnLmljb24sIGNsczogJ21ldHJpYy1pY29uJyB9KTtcbiAgICBcbiAgICBjb25zdCBjb250ZW50ID0gY2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdtZXRyaWMtY29udGVudCcgfSk7XG4gICAgY29udGVudC5jcmVhdGVEaXYoeyB0ZXh0OiBjb25maWcudGl0bGUsIGNsczogJ21ldHJpYy10aXRsZScgfSk7XG4gICAgY29udGVudC5jcmVhdGVEaXYoeyB0ZXh0OiBjb25maWcudmFsdWUsIGNsczogJ21ldHJpYy12YWx1ZScgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNvbXBhcmlzb25JdGVtKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY29uZmlnOiB7XG4gICAgICBsYWJlbDogc3RyaW5nO1xuICAgICAgdGhpc1dlZWs6IG51bWJlciB8IHN0cmluZztcbiAgICAgIGxhc3RXZWVrOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgICBjaGFuZ2U6IG51bWJlcjtcbiAgICAgIGNoYW5nZVBlcmNlbnQ6IHN0cmluZztcbiAgICB9XG4gICkge1xuICAgIGNvbnN0IGl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY29tcGFyaXNvbi1pdGVtJyB9KTtcbiAgICBcbiAgICBpdGVtLmNyZWF0ZURpdih7IHRleHQ6IGNvbmZpZy5sYWJlbCwgY2xzOiAnY29tcGFyaXNvbi1sYWJlbCcgfSk7XG4gICAgXG4gICAgY29uc3QgdmFsdWVzID0gaXRlbS5jcmVhdGVEaXYoeyBjbHM6ICdjb21wYXJpc29uLXZhbHVlcycgfSk7XG4gICAgdmFsdWVzLmNyZWF0ZVNwYW4oeyBcbiAgICAgIHRleHQ6IGAke2NvbmZpZy50aGlzV2Vla31gLFxuICAgICAgY2xzOiAndGhpcy13ZWVrJ1xuICAgIH0pO1xuICAgIHZhbHVlcy5jcmVhdGVTcGFuKHsgdGV4dDogJyB2cyAnLCBjbHM6ICd2cycgfSk7XG4gICAgdmFsdWVzLmNyZWF0ZVNwYW4oe1xuICAgICAgdGV4dDogYCR7Y29uZmlnLmxhc3RXZWVrfWAsXG4gICAgICBjbHM6ICdsYXN0LXdlZWsnXG4gICAgfSk7XG5cbiAgICBjb25zdCBjaGFuZ2VDbGFzcyA9IGNvbmZpZy5jaGFuZ2UgPiAwID8gJ3Bvc2l0aXZlJyA6IGNvbmZpZy5jaGFuZ2UgPCAwID8gJ25lZ2F0aXZlJyA6ICduZXV0cmFsJztcbiAgICBjb25zdCBjaGFuZ2VJY29uID0gY29uZmlnLmNoYW5nZSA+IDAgPyAnXHUyMTk3JyA6IGNvbmZpZy5jaGFuZ2UgPCAwID8gJ1x1MjE5OCcgOiAnXHUyMTkyJztcbiAgICBcbiAgICBpdGVtLmNyZWF0ZURpdih7XG4gICAgICB0ZXh0OiBgJHtjaGFuZ2VJY29ufSAke2NvbmZpZy5jaGFuZ2VQZXJjZW50fSVgLFxuICAgICAgY2xzOiBgY2hhbmdlICR7Y2hhbmdlQ2xhc3N9YFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTdGF0Um93KFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgbGFiZWw6IHN0cmluZyxcbiAgICB2YWx1ZTogc3RyaW5nLFxuICAgIGljb246IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCByb3cgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdC1yb3cnIH0pO1xuICAgIHJvdy5jcmVhdGVTcGFuKHsgdGV4dDogaWNvbiwgY2xzOiAnc3RhdC1pY29uJyB9KTtcbiAgICByb3cuY3JlYXRlU3Bhbih7IHRleHQ6IGxhYmVsLCBjbHM6ICdzdGF0LWxhYmVsJyB9KTtcbiAgICByb3cuY3JlYXRlU3Bhbih7IHRleHQ6IHZhbHVlLCBjbHM6ICdzdGF0LXZhbHVlJyB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyU2ltcGxlQmFyQ2hhcnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZGF0YTogYW55W10pIHtcbiAgICBjb25zdCBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLmRhdGEubWFwKGQgPT4gZC5yZXZpZXdlZCkpO1xuXG4gICAgZGF0YS5mb3JFYWNoKHN0YXQgPT4ge1xuICAgICAgY29uc3QgYmFyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3NpbXBsZS1iYXInIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RhdC5kYXRlKTtcbiAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IHdlZWtkYXk6ICdzaG9ydCcgfSk7XG4gICAgICBcbiAgICAgIGJhci5jcmVhdGVEaXYoeyB0ZXh0OiBkYXlOYW1lLCBjbHM6ICdiYXItbGFiZWwnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBiYXJDb250YWluZXIgPSBiYXIuY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWNvbnRhaW5lcicgfSk7XG4gICAgICBjb25zdCBiYXJGaWxsID0gYmFyQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2Jhci1maWxsJyB9KTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IG1heFZhbHVlID4gMCA/IChzdGF0LnJldmlld2VkIC8gbWF4VmFsdWUpICogMTAwIDogMDtcbiAgICAgIGJhckZpbGwuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fSVgO1xuICAgICAgXG4gICAgICBiYXIuY3JlYXRlRGl2KHsgdGV4dDogc3RhdC5yZXZpZXdlZC50b1N0cmluZygpLCBjbHM6ICdiYXItdmFsdWUnIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJCYXJDaGFydChjb250YWluZXI6IEhUTUxFbGVtZW50LCBkYXRhOiBhbnlbXSkge1xuICAgIGNvbnN0IGNoYXJ0ID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LWNhbnZhcycgfSk7XG4gICAgY29uc3QgbWF4VmFsdWUgPSBNYXRoLm1heCguLi5kYXRhLm1hcChkID0+IGQucmV2aWV3ZWQpKTtcblxuICAgIGRhdGEuZm9yRWFjaChzdGF0ID0+IHtcbiAgICAgIGNvbnN0IGJhckdyb3VwID0gY2hhcnQuY3JlYXRlRGl2KHsgY2xzOiAnYmFyLWdyb3VwJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgYmFyQ29udGFpbmVyID0gYmFyR3JvdXAuY3JlYXRlRGl2KHsgY2xzOiAnYmFyJyB9KTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IG1heFZhbHVlID4gMCA/IChzdGF0LnJldmlld2VkIC8gbWF4VmFsdWUpICogMTAwIDogMDtcbiAgICAgIGJhckNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9JWA7XG4gICAgICBiYXJDb250YWluZXIudGl0bGUgPSBgJHtzdGF0LnJldmlld2VkfSByZXZpZXdzYDtcbiAgICAgIFxuICAgICAgY29uc3QgYmFyTGFiZWwgPSBiYXJHcm91cC5jcmVhdGVEaXYoeyBjbHM6ICdiYXItbGFiZWwnIH0pO1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHN0YXQuZGF0ZSk7XG4gICAgICBiYXJMYWJlbC50ZXh0Q29udGVudCA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckxpbmVDaGFydChjb250YWluZXI6IEhUTUxFbGVtZW50LCBkYXRhOiBhbnlbXSwga2V5OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjaGFydCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdsaW5lLWNoYXJ0LWNhbnZhcycgfSk7XG4gICAgXG4gICAgY29uc3QgcG9pbnRzID0gZGF0YS5tYXAoKHN0YXQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHggPSAoaSAvIChkYXRhLmxlbmd0aCAtIDEpKSAqIDEwMDtcbiAgICAgIGNvbnN0IHkgPSAxMDAgLSAoc3RhdFtrZXldICogMTAwKTtcbiAgICAgIHJldHVybiB7IHgsIHksIHZhbHVlOiBzdGF0W2tleV0gfTtcbiAgICB9KTtcblxuICAgIC8vIFx1NTIxQlx1NUVGQVNWR1xuICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgMTAwIDEwMCcpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAnbm9uZScpO1xuICAgIHN2Zy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBzdmcuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NjI5OFx1N0VCRlx1OERFRlx1NUY4NFxuICAgIGNvbnN0IHBhdGhEYXRhID0gcG9pbnRzLm1hcCgocCwgaSkgPT4gXG4gICAgICBgJHtpID09PSAwID8gJ00nIDogJ0wnfSAke3AueH0gJHtwLnl9YFxuICAgICkuam9pbignICcpO1xuXG4gICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCdkJywgcGF0aERhdGEpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknKTtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzInKTtcblxuICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICBjaGFydC5hcHBlbmRDaGlsZChzdmcpO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1MDNDXHU2ODA3XHU3QjdFXG4gICAgY29uc3QgbGFiZWxzQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2NoYXJ0LWxhYmVscycgfSk7XG4gICAgZGF0YS5mb3JFYWNoKChzdGF0LCBpKSA9PiB7XG4gICAgICBpZiAoaSAlIE1hdGguY2VpbChkYXRhLmxlbmd0aCAvIDcpID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0TGFiZWwgPSBsYWJlbHNDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY2hhcnQtbGFiZWwnIH0pO1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RhdC5kYXRlKTtcbiAgICAgICAgY2hhcnRMYWJlbC50ZXh0Q29udGVudCA9IGAke2RhdGUuZ2V0TW9udGgoKSArIDF9LyR7ZGF0ZS5nZXREYXRlKCl9YDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVySGVhdG1hcChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgaGVhdG1hcERhdGEgPSB0aGlzLmFuYWx5dGljcy5nZXRIZWF0bWFwRGF0YSg5MCk7XG4gICAgXG4gICAgLy8gXHU2MzA5XHU1NDY4XHU1MjA2XHU3RUM0XG4gICAgY29uc3Qgd2Vla3M6IGFueVtdW10gPSBbXTtcbiAgICBsZXQgY3VycmVudFdlZWs6IGFueVtdID0gW107XG4gICAgXG4gICAgaGVhdG1hcERhdGEuZm9yRWFjaCgoZGF5LCBpKSA9PiB7XG4gICAgICBjdXJyZW50V2Vlay5wdXNoKGRheSk7XG4gICAgICBpZiAoY3VycmVudFdlZWsubGVuZ3RoID09PSA3IHx8IGkgPT09IGhlYXRtYXBEYXRhLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgd2Vla3MucHVzaChjdXJyZW50V2Vlayk7XG4gICAgICAgIGN1cnJlbnRXZWVrID0gW107XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3ZWVrcy5mb3JFYWNoKHdlZWsgPT4ge1xuICAgICAgY29uc3Qgd2Vla1JvdyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdoZWF0bWFwLXdlZWsnIH0pO1xuICAgICAgXG4gICAgICB3ZWVrLmZvckVhY2goZGF5ID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IHdlZWtSb3cuY3JlYXRlRGl2KHsgY2xzOiAnaGVhdG1hcC1jZWxsJyB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NUYzQVx1NUVBNlx1N0I0OVx1N0VBNyAwLTRcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBNYXRoLmNlaWwoZGF5LmludGVuc2l0eSAqIDQpO1xuICAgICAgICBjZWxsLmFkZENsYXNzKGBsZXZlbC0ke2xldmVsfWApO1xuICAgICAgICBcbiAgICAgICAgY2VsbC50aXRsZSA9IGAke2RheS5kYXRlfTogJHtkYXkuY291bnR9IHJldmlld3NgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuXG5cbiAgcHJpdmF0ZSBhc3luYyBqdW1wVG9DYXJkKGNhcmQ6IGFueSkge1xuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoY2FyZC5zb3VyY2VGaWxlKTtcbiAgICBpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNhcmQuc291cmNlQ29udGVudElkKTtcbiAgICBpZiAoIWNvbnRlbnRVbml0KSByZXR1cm47XG5cbiAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShJdGVtVmlldyk7XG4gICAgICBpZiAodmlldykge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSAodmlldyBhcyBhbnkpLmVkaXRvcjtcbiAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfSk7XG4gICAgICAgICAgZWRpdG9yLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICAgIGZyb206IHsgbGluZTogY29udGVudFVuaXQuc291cmNlLnBvc2l0aW9uLmxpbmUsIGNoOiAwIH0sXG4gICAgICAgICAgICB0bzogeyBsaW5lOiBjb250ZW50VW5pdC5zb3VyY2UucG9zaXRpb24ubGluZSwgY2g6IDAgfVxuICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlRmxhc2hjYXJkKGNhcmRJZDogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZGVsZXRlQ2FyZChjYXJkSWQpO1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZmxhc2hjYXJkRGVsZXRlZCcsIHRoaXMubGFuZ3VhZ2UpKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7IC8vIFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1ODlDNlx1NTZGRVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBmbGFzaGNhcmQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZGVsZXRlRmxhc2hjYXJkRmFpbGVkJywgdGhpcy5sYW5ndWFnZSkpO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIHNob3dDbGVhclN0YXRzTW9kYWwoKSB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwtY29udGFpbmVyJztcbiAgICBtb2RhbC5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYmdcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtdGl0bGVcIj5DbGVhciBTdGF0aXN0aWNzPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPHA+Q2hvb3NlIHdoYXQgc3RhdGlzdGljcyB0byBjbGVhcjo8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyLW9wdGlvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbGVhci1vcHRpb24tYnRuXCIgZGF0YS1hY3Rpb249XCJhbGxcIj5cbiAgICAgICAgICAgICAgXHVEODNEXHVEREQxXHVGRTBGIENsZWFyIEFsbCBTdGF0aXN0aWNzXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLWRlc2NcIj5SZXNldCBhbGwgY2FyZHMgYW5kIHJldmlldyBsb2dzPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2xlYXItb3B0aW9uLWJ0blwiIGRhdGEtYWN0aW9uPVwib2xkXCI+XG4gICAgICAgICAgICAgIFx1RDgzRFx1RENDNSBDbGVhciBPbGQgRGF0YSAoMzArIGRheXMpXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLWRlc2NcIj5LZWVwIHJlY2VudCAzMCBkYXlzIG9ubHk8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbGVhci1vcHRpb24tYnRuXCIgZGF0YS1hY3Rpb249XCJkZWNrXCI+XG4gICAgICAgICAgICAgIFx1RDgzRFx1RENEQSBDbGVhciBTcGVjaWZpYyBEZWNrXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLWRlc2NcIj5DaG9vc2UgYSBkZWNrIHRvIHJlc2V0PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2QtY3RhIGNhbmNlbC1idG5cIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICBcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcbiAgXG4gICAgLy8gXHU1M0Q2XHU2RDg4XHU2MzA5XHU5NEFFXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLmNhbmNlbC1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgXG4gICAgLy8gXHU2RTA1XHU5NjY0XHU2MjQwXHU2NzA5XHU3RURGXHU4QkExXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aW9uPVwiYWxsXCJdJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKGNvbmZpcm0oJ1x1MjZBMFx1RkUwRiBUaGlzIHdpbGwgcmVzZXQgQUxMIHN0YXRpc3RpY3MgYW5kIGNhcmQgcHJvZ3Jlc3MuIEFyZSB5b3Ugc3VyZT8nKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmFuYWx5dGljcy5jbGVhckFsbFN0YXRzKCk7XG4gICAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBBbGwgc3RhdGlzdGljcyBjbGVhcmVkJyk7XG4gICAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICAvLyBcdTZFMDVcdTk2NjRcdTY1RTdcdTY1NzBcdTYzNkVcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJvbGRcIl0nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoY29uZmlybSgnQ2xlYXIgc3RhdGlzdGljcyBvbGRlciB0aGFuIDMwIGRheXM/JykpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hbmFseXRpY3MuY2xlYXJTdGF0c0JlZm9yZURhdGUoMzApO1xuICAgICAgICBuZXcgTm90aWNlKCdcdTI3MDUgT2xkIHN0YXRpc3RpY3MgY2xlYXJlZCcpO1xuICAgICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgXG4gICAgLy8gXHU2RTA1XHU5NjY0XHU3Mjc5XHU1QjlBXHU1MzYxXHU3RUM0XG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aW9uPVwiZGVja1wiXScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgICAgdGhpcy5zaG93RGVja1NlbGVjdGlvbk1vZGFsKCk7XG4gICAgfSk7XG4gIFxuICAgIC8vIFx1NzBCOVx1NTFGQlx1ODBDQ1x1NjY2Rlx1NTE3M1x1OTVFRFxuICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1iZycpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgIH0pO1xuICB9XG4gIFxuICBwcml2YXRlIHNob3dEZWNrU2VsZWN0aW9uTW9kYWwoKSB7XG4gICAgY29uc3QgZGVja1N0YXRzID0gdGhpcy5hbmFseXRpY3MuZ2V0RGVja1N0YXRzKCk7XG4gICAgXG4gICAgaWYgKGRlY2tTdGF0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIG5ldyBOb3RpY2UoJ05vIGRlY2tzIGF2YWlsYWJsZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwtY29udGFpbmVyJztcbiAgICBcbiAgICBsZXQgb3B0aW9uc0h0bWwgPSAnJztcbiAgICBkZWNrU3RhdHMuZm9yRWFjaChkZWNrID0+IHtcbiAgICAgIG9wdGlvbnNIdG1sICs9IGBcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsZWFyLW9wdGlvbi1idG4gZGVjay1vcHRpb25cIiBkYXRhLWRlY2s9XCIke2RlY2suZGVja05hbWV9XCI+XG4gICAgICAgICAgXHVEODNEXHVEQ0RBICR7ZGVjay5kZWNrTmFtZX1cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1kZXNjXCI+JHtkZWNrLnRvdGFsQ2FyZHN9IGNhcmRzPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIGA7XG4gICAgfSk7XG4gIFxuICAgIG1vZGFsLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1iZ1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlNlbGVjdCBEZWNrIHRvIENsZWFyPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyLW9wdGlvbnNcIj5cbiAgICAgICAgICAgICR7b3B0aW9uc0h0bWx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2QtY3RhIGNhbmNlbC1idG5cIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICBcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcbiAgXG4gICAgLy8gXHU1M0Q2XHU2RDg4XHU2MzA5XHU5NEFFXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLmNhbmNlbC1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgXG4gICAgLy8gXHU1MzYxXHU3RUM0XHU5MDA5XHU5ODc5XG4gICAgbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLmRlY2stb3B0aW9uJykuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBkZWNrTmFtZSA9IChidG4gYXMgSFRNTEVsZW1lbnQpLmRhdGFzZXQuZGVjaztcbiAgICAgICAgaWYgKGRlY2tOYW1lICYmIGNvbmZpcm0oYENsZWFyIHN0YXRpc3RpY3MgZm9yIGRlY2sgXCIke2RlY2tOYW1lfVwiP2ApKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5hbmFseXRpY3MuY2xlYXJEZWNrU3RhdHMoZGVja05hbWUpO1xuICAgICAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBTdGF0aXN0aWNzIGNsZWFyZWQgZm9yICR7ZGVja05hbWV9YCk7XG4gICAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIFxuICAgIC8vIFx1NzBCOVx1NTFGQlx1ODBDQ1x1NjY2Rlx1NTE3M1x1OTVFRFxuICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1iZycpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIFxuICB9XG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVBbmRTaG93UmVwb3J0KCkge1xuICAgIGNvbnN0IHJlcG9ydCA9IHRoaXMuYW5hbHl0aWNzLmdlbmVyYXRlUmVwb3J0KDMwKTtcbiAgICBcbiAgICAvLyBcdTUyMUJcdTVFRkFcdTRFMDBcdTRFMkFcdTY1QjBcdTc2ODRcdTY1ODdcdTRFRjZcdTY3NjVcdTRGRERcdTVCNThcdTYyQTVcdTU0NEFcbiAgICBjb25zdCBmaWxlTmFtZSA9IGBMZWFybmluZyBSZXBvcnQgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0ubWRgO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBcdTY4QzBcdTY3RTVcdTY1ODdcdTRFRjZcdTY2MkZcdTU0MjZcdTVERjJcdTVCNThcdTU3MjhcbiAgICAgIGxldCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVOYW1lKTtcbiAgICAgIFxuICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICAvLyBcdTY1ODdcdTRFRjZcdTVCNThcdTU3MjhcdUZGMENcdThCRTJcdTk1RUVcdTY2MkZcdTU0MjZcdTg5ODZcdTc2RDZcbiAgICAgICAgaWYgKCFjb25maXJtKGBSZXBvcnQgXCIke2ZpbGVOYW1lfVwiIGFscmVhZHkgZXhpc3RzLiBPdmVyd3JpdGU/YCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIHJlcG9ydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBcdTUyMUJcdTVFRkFcdTY1QjBcdTY1ODdcdTRFRjZcbiAgICAgICAgZmlsZSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShmaWxlTmFtZSwgcmVwb3J0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gXHU2MjUzXHU1RjAwXHU2MkE1XHU1NDRBXHU2NTg3XHU0RUY2XG4gICAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xuICAgICAgYXdhaXQgbGVhZi5vcGVuRmlsZShmaWxlIGFzIFRGaWxlKTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZSgnXHVEODNEXHVEQ0NBIFJlcG9ydCBnZW5lcmF0ZWQhJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgcmVwb3J0OicsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1Mjc0QyBGYWlsZWQgdG8gZ2VuZXJhdGUgcmVwb3J0Jyk7XG4gICAgfVxuXG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJDeWNsZUJhbm5lcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgY3ljbGVJbmZvID0gdGhpcy5hbmFseXRpY3MuZ2V0Q3VycmVudEN5Y2xlSW5mbygpO1xuICAgIFxuICAgIGNvbnN0IGJhbm5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdjeWNsZS1pbmZvLWJhbm5lcicgfSk7XG4gICAgXG4gICAgY29uc3QgYmFkZ2UgPSBiYW5uZXIuY3JlYXRlRGl2KHsgY2xzOiAnY3ljbGUtYmFkZ2UnIH0pO1xuICAgIGJhZGdlLnRleHRDb250ZW50ID0gYEN5Y2xlICR7Y3ljbGVJbmZvLmN1cnJlbnRDeWNsZX1gO1xuICAgIFxuICAgIGNvbnN0IHN0YXRzID0gYmFubmVyLmNyZWF0ZURpdih7IGNsczogJ2N5Y2xlLXN0YXRzJyB9KTtcbiAgICBjb25zdCBkYXlzU2luY2UgPSBNYXRoLmZsb29yKFxuICAgICAgKERhdGUubm93KCkgLSBuZXcgRGF0ZShjeWNsZUluZm8uc3RhcnREYXRlKS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpXG4gICAgKTtcbiAgICBzdGF0cy50ZXh0Q29udGVudCA9IGBEYXkgJHtkYXlzU2luY2V9IFx1MDBCNyAke2N5Y2xlSW5mby5yZXZpZXdzVGhpc0N5Y2xlfSByZXZpZXdzYDtcbiAgICBcbiAgICBjb25zdCBidG4gPSBiYW5uZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICdTdGFydCBOZXcgQ3ljbGUnLFxuICAgICAgY2xzOiAnc3RhcnQtbmV3LWN5Y2xlLWJ0bidcbiAgICB9KTtcbiAgICBcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNvbmZpcm1TdGFydE5ld0N5Y2xlKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25maXJtU3RhcnROZXdDeWNsZSgpIHtcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250YWluZXInO1xuICAgIG1vZGFsLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1iZ1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlx1RDgzRFx1REQwNCBTdGFydCBOZXcgTGVhcm5pbmcgQ3ljbGU8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8cD5UaGlzIHdpbGw6PC9wPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgIDxsaT5cdTI3MDUgQXJjaGl2ZSBjdXJyZW50IGN5Y2xlIGRhdGEgKHJlYWQtb25seSk8L2xpPlxuICAgICAgICAgICAgPGxpPlx1MjcwNSBSZXNldCBjdXJyZW50IHN0YXRzIHRvIHplcm88L2xpPlxuICAgICAgICAgICAgPGxpPlx1MjcwNSBLZWVwIGFsbCBmbGFzaGNhcmQgcHJvZ3Jlc3M8L2xpPlxuICAgICAgICAgICAgPGxpPlx1MjZBMFx1RkUwRiBDYW5ub3QgYmUgdW5kb25lPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDxwPlN0YXJ0IGZyZXNoIHdpdGggQ3ljbGUgJHt0aGlzLmFuYWx5dGljcy5nZXRDdXJyZW50Q3ljbGVOdW1iZXIoKSArIDF9PzwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZC13YXJuaW5nIGNhbmNlbC1idG5cIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kLWN0YSBjb25maXJtLWJ0blwiPlN0YXJ0IE5ldyBDeWNsZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gICAgXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XG4gICAgXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLmNhbmNlbC1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbC5yZW1vdmUoKSk7XG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLmNvbmZpcm0tYnRuJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5hbmFseXRpY3Muc3RhcnROZXdDeWNsZSgpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzI4IE5ldyBsZWFybmluZyBjeWNsZSBzdGFydGVkIScpO1xuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0pO1xuICAgIFxuICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1iZycpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLnJlbW92ZSgpKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ3ljbGVIaXN0b3J5KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb250YWluZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0RDIExlYXJuaW5nIEN5Y2xlIEhpc3RvcnknIH0pO1xuICBcbiAgICBjb25zdCBjeWNsZXMgPSB0aGlzLmFuYWx5dGljcy5nZXRBcmNoaXZlZEN5Y2xlcygpO1xuICAgIFxuICAgIGlmIChjeWNsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250YWluZXIuY3JlYXRlRGl2KHtcbiAgICAgICAgdGV4dDogJ1x1RDgzRFx1RENERCBObyBhcmNoaXZlZCBjeWNsZXMgeWV0LiBDb21wbGV0ZSB5b3VyIGZpcnN0IGN5Y2xlIHRvIHNlZSBoaXN0b3J5IScsXG4gICAgICAgIGNsczogJ2VtcHR5LW1lc3NhZ2UnXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIFxuICAgIGNvbnN0IGN5Y2xlc0xpc3QgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnY3ljbGVzLWxpc3QnIH0pO1xuICBcbiAgICBjeWNsZXMuZm9yRWFjaChjeWNsZSA9PiB7XG4gICAgICBjb25zdCBjeWNsZUNhcmQgPSBjeWNsZXNMaXN0LmNyZWF0ZURpdih7IGNsczogJ2N5Y2xlLWNhcmQnIH0pO1xuICBcbiAgICAgIC8vIFx1NTM2MVx1NzI0N1x1NTkzNFx1OTBFOFxuICAgICAgY29uc3QgaGVhZGVyID0gY3ljbGVDYXJkLmNyZWF0ZURpdih7IGNsczogJ2N5Y2xlLWNhcmQtaGVhZGVyJyB9KTtcbiAgICAgIGhlYWRlci5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6IGBDeWNsZSAke2N5Y2xlLmN5Y2xlTnVtYmVyfWAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5mb3JtYXREYXRlUmFuZ2UoY3ljbGUuc3RhcnREYXRlLCBjeWNsZS5lbmREYXRlKTtcbiAgICAgIGNvbnN0IGJhZGdlID0gaGVhZGVyLmNyZWF0ZVNwYW4oeyBjbHM6ICdjeWNsZS1kdXJhdGlvbicgfSk7XG4gICAgICBiYWRnZS50ZXh0Q29udGVudCA9IGR1cmF0aW9uO1xuICBcbiAgICAgIC8vIFx1NTE3M1x1OTUyRVx1NjMwN1x1NjgwN1xuICAgICAgY29uc3Qgc3RhdHMgPSBjeWNsZUNhcmQuY3JlYXRlRGl2KHsgY2xzOiAnY3ljbGUtY2FyZC1zdGF0cycgfSk7XG4gICAgICBcbiAgICAgIHRoaXMuY3JlYXRlU3RhdFJvdyhzdGF0cywgJ1Jldmlld3MnLCBjeWNsZS50b3RhbFJldmlld3MudG9TdHJpbmcoKSwgJ1x1RDgzRFx1RENERCcpO1xuICAgICAgdGhpcy5jcmVhdGVTdGF0Um93KHN0YXRzLCAnQ2FyZHMnLCBjeWNsZS50b3RhbENhcmRzLnRvU3RyaW5nKCksICdcdUQ4M0NcdURDQ0YnKTtcbiAgICAgIHRoaXMuY3JlYXRlU3RhdFJvdyhcbiAgICAgICAgc3RhdHMsIFxuICAgICAgICAnQ29ycmVjdCBSYXRlJyxcbiAgICAgICAgYCR7KGN5Y2xlLmNvcnJlY3RSYXRlICogMTAwKS50b0ZpeGVkKDEpfSVgLFxuICAgICAgICAnXHUyNzA1J1xuICAgICAgKTtcbiAgXG4gICAgICAvLyBcdTY3RTVcdTc3MEJcdThCRTZcdTYwQzVcdTYzMDlcdTk0QUVcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBjeWNsZUNhcmQuY3JlYXRlRGl2KHsgY2xzOiAnY3ljbGUtY2FyZC1hY3Rpb25zJyB9KTtcbiAgICAgIGNvbnN0IGRldGFpbEJ0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgICAgdGV4dDogJ1x1RDgzRFx1RENDQSBWaWV3IERldGFpbHMnLFxuICAgICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgICAgfSk7XG4gICAgICBkZXRhaWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNob3dDeWNsZURldGFpbHMoY3ljbGUuY3ljbGVOdW1iZXIpKTtcbiAgICB9KTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBmb3JtYXREYXRlUmFuZ2Uoc3RhcnQ6IHN0cmluZywgZW5kOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHN0YXJ0KTtcbiAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoZW5kKTtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcigoZW5kRGF0ZS5nZXRUaW1lKCkgLSBzdGFydERhdGUuZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gICAgXG4gICAgY29uc3QgZm9ybWF0T3B0czogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMgPSB7IG1vbnRoOiAnc2hvcnQnLCBkYXk6ICdudW1lcmljJyB9O1xuICAgIHJldHVybiBgJHtzdGFydERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIGZvcm1hdE9wdHMpfSAtICR7ZW5kRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgZm9ybWF0T3B0cyl9ICgke2RheXN9ZClgO1xuICB9XG4gIFxuICBwcml2YXRlIHNob3dDeWNsZURldGFpbHMoY3ljbGVOdW1iZXI6IG51bWJlcikge1xuICAgIGNvbnN0IGRldGFpbHMgPSB0aGlzLmFuYWx5dGljcy5nZXRDeWNsZURldGFpbHMoY3ljbGVOdW1iZXIpO1xuICAgIGlmICghZGV0YWlscykge1xuICAgICAgbmV3IE5vdGljZSgnQ3ljbGUgZGF0YSBub3QgZm91bmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIFxuICAgIGNvbnN0IHsgY3ljbGUsIGRhaWx5U3RhdHMsIGRlY2tTdGF0cyB9ID0gZGV0YWlscztcbiAgXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwtY29udGFpbmVyIGN5Y2xlLWRldGFpbHMtbW9kYWwnO1xuICAgIFxuICAgIGNvbnN0IGF2Z0NvcnJlY3RSYXRlID0gZGFpbHlTdGF0cy5sZW5ndGggPiAwXG4gICAgICA/IGRhaWx5U3RhdHMucmVkdWNlKChzdW0sIGQpID0+IHN1bSArIGQuY29ycmVjdFJhdGUsIDApIC8gZGFpbHlTdGF0cy5sZW5ndGhcbiAgICAgIDogMDtcbiAgXG4gICAgbW9kYWwuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJnXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwgbW9kYWwtbGFyZ2VcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+XHVEODNEXHVEQ0NBIEN5Y2xlICR7Y3ljbGVOdW1iZXJ9IERldGFpbHM8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3ljbGUtZGV0YWlsLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoND5cdUQ4M0RcdURDQzUgRHVyYXRpb248L2g0PlxuICAgICAgICAgICAgPHA+JHt0aGlzLmZvcm1hdERhdGVSYW5nZShjeWNsZS5zdGFydERhdGUsIGN5Y2xlLmVuZERhdGUpfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN5Y2xlLWRldGFpbC1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8aDQ+XHVEODNEXHVEQ0M4IEtleSBNZXRyaWNzPC9oND5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWNzLWdyaWQtc21hbGxcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1zbWFsbFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWV0cmljLWxhYmVsXCI+VG90YWwgUmV2aWV3czwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPiR7Y3ljbGUudG90YWxSZXZpZXdzfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtc21hbGxcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPkF2ZyBDb3JyZWN0IFJhdGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj4keyhhdmdDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1zbWFsbFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWV0cmljLWxhYmVsXCI+VG90YWwgQ2FyZHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj4ke2N5Y2xlLnRvdGFsQ2FyZHN9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeWNsZS1kZXRhaWwtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGg0Plx1RDgzRFx1RENDQSBEYWlseSBBY3Rpdml0eTwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiY3ljbGUtZGFpbHktY2hhcnRcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3ljbGUtZGV0YWlsLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxoND5cdUQ4M0RcdURDREEgRGVjayBCcmVha2Rvd248L2g0PlxuICAgICAgICAgICAgPGRpdiBpZD1cImN5Y2xlLWRlY2stc3RhdHNcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2QtY3RhIGNsb3NlLWJ0blwiPkNsb3NlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcbiAgICBcbiAgICAvLyBcdTZFMzJcdTY3RDNcdTU2RkVcdTg4NjhcbiAgICBjb25zdCBkYWlseUNoYXJ0ID0gbW9kYWwucXVlcnlTZWxlY3RvcignI2N5Y2xlLWRhaWx5LWNoYXJ0Jyk7XG4gICAgaWYgKGRhaWx5Q2hhcnQpIHtcbiAgICAgIHRoaXMucmVuZGVyU2ltcGxlQmFyQ2hhcnQoZGFpbHlDaGFydCBhcyBIVE1MRWxlbWVudCwgZGFpbHlTdGF0cy5zbGljZSgtMTQpKTsgLy8gXHU2NzAwXHU1NDBFMTRcdTU5MjlcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2RTMyXHU2N0QzXHU1MzYxXHU3RUM0XHU3RURGXHU4QkExXG4gICAgY29uc3QgZGVja1N0YXRzRWwgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjY3ljbGUtZGVjay1zdGF0cycpO1xuICAgIGlmIChkZWNrU3RhdHNFbCkge1xuICAgICAgaWYgKGRlY2tTdGF0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgKGRlY2tTdGF0c0VsIGFzIEhUTUxFbGVtZW50KS50ZXh0Q29udGVudCA9ICdObyBkZWNrIGRhdGEgYXZhaWxhYmxlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlY2tTdGF0cy5mb3JFYWNoKGRlY2sgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvdyA9IChkZWNrU3RhdHNFbCBhcyBIVE1MRWxlbWVudCkuY3JlYXRlRGl2KHsgY2xzOiAnZGVjay1zdGF0LXJvdycgfSk7XG4gICAgICAgICAgcm93LmNyZWF0ZVNwYW4oeyB0ZXh0OiBkZWNrLmRlY2tOYW1lLCBjbHM6ICdkZWNrLW5hbWUnIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGluZm8gPSByb3cuY3JlYXRlRGl2KHsgY2xzOiAnZGVjay1pbmZvJyB9KTtcbiAgICAgICAgICBpbmZvLmNyZWF0ZVNwYW4oeyB0ZXh0OiBgJHtkZWNrLnRvdGFsQ2FyZHN9IGNhcmRzYCwgY2xzOiAnZGVjay1kZXRhaWwnIH0pO1xuICAgICAgICAgIGluZm8uY3JlYXRlU3Bhbih7IFxuICAgICAgICAgICAgdGV4dDogYCR7KGRlY2suY29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JSBjb3JyZWN0YCxcbiAgICAgICAgICAgIGNsczogJ2RlY2stZGV0YWlsJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLnJlbW92ZSgpKTtcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtYmcnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbC5yZW1vdmUoKSk7XG4gIH1cbiAgcHJpdmF0ZSBhZGRTdHlsZXMoKSB7XG4gICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGBcbiAgICAgIC5zdGF0cy1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtaGVhZGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtaGVhZGVyIGgyIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuXG4gICAgICAuc3RhdHMtdGFicyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgfVxuXG4gICAgICAudGFiIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgfVxuXG4gICAgICAudGFiOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICB9XG5cbiAgICAgIC50YWIuYWN0aXZlIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWNzLWdyaWQge1xuICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgfVxuXG4gICAgICAubWV0cmljLWNhcmQge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAubWV0cmljLWljb24ge1xuICAgICAgICBmb250LXNpemU6IDMycHg7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWMtY29udGVudCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC5tZXRyaWMtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICAgIH1cblxuICAgICAgLm1ldHJpYy12YWx1ZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS44ZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB9XG5cbiAgICAgIC53ZWVrLWNvbXBhcmlzb24ge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi1ncmlkIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAxNXB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi1pdGVtIHtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLmNvbXBhcmlzb24tbGFiZWwge1xuICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuXG4gICAgICAuY29tcGFyaXNvbi12YWx1ZXMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnRoaXMtd2VlayB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4xZW07XG4gICAgICB9XG5cbiAgICAgIC5sYXN0LXdlZWsge1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICB9XG5cbiAgICAgIC5jaGFuZ2Uge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cblxuICAgICAgLmNoYW5nZS5wb3NpdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2Vzcyk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICB9XG5cbiAgICAgIC5jaGFuZ2UubmVnYXRpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKTtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgfVxuXG4gICAgICAuY2hhcnQtc2VjdGlvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICB9XG5cbiAgICAgIC5yZWNlbnQtYWN0aXZpdHkgLmFjdGl2aXR5LWNoYXJ0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAgaGVpZ2h0OiAxNTBweDtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICB9XG5cbiAgICAgIC5zaW1wbGUtYmFyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC5zaW1wbGUtYmFyIC5iYXItY29udGFpbmVyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5zaW1wbGUtYmFyIC5iYXItZmlsbCB7XG4gICAgICAgIHdpZHRoOiA2MCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBoZWlnaHQgMC4zcztcbiAgICAgIH1cblxuICAgICAgLmJhci1sYWJlbCwgLmJhci12YWx1ZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICB9XG5cbiAgICAgIC5oZWF0bWFwIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgfVxuXG4gICAgICAuaGVhdG1hcC13ZWVrIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZ2FwOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC5oZWF0bWFwLWNlbGwge1xuICAgICAgICB3aWR0aDogMTJweDtcbiAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgLmhlYXRtYXAtY2VsbC5sZXZlbC0xIHsgYmFja2dyb3VuZDogcmdiYSg5NCwgMTU2LCAyMzUsIDAuMyk7IH1cbiAgICAgIC5oZWF0bWFwLWNlbGwubGV2ZWwtMiB7IGJhY2tncm91bmQ6IHJnYmEoOTQsIDE1NiwgMjM1LCAwLjUpOyB9XG4gICAgICAuaGVhdG1hcC1jZWxsLmxldmVsLTMgeyBiYWNrZ3JvdW5kOiByZ2JhKDk0LCAxNTYsIDIzNSwgMC43KTsgfVxuICAgICAgLmhlYXRtYXAtY2VsbC5sZXZlbC00IHsgYmFja2dyb3VuZDogcmdiYSg5NCwgMTU2LCAyMzUsIDEpOyB9XG5cbiAgICAgIC5kZWNrcy1ncmlkIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpO1xuICAgICAgICBnYXA6IDE1cHg7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLWNhcmQge1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgfVxuXG4gICAgICAuZGVjay1jYXJkLWhlYWRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLWNhcmQtaGVhZGVyIGg0IHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuXG4gICAgICAuZGVjay1iYWRnZSB7XG4gICAgICAgIHBhZGRpbmc6IDRweCAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgfVxuXG4gICAgICAuZGVjay1jYXJkLXN0YXRzIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0LXJvdyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogOHB4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAuc3RhdC1pY29uIHtcbiAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zdGF0LWxhYmVsIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgfVxuXG4gICAgICAuc3RhdC12YWx1ZSB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIC5kZWNrLXByb2dyZXNzIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgIH1cblxuICAgICAgLnByb2dyZXNzLWJhci1jb250YWluZXIge1xuICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICB9XG5cblxuICAgICAgLnByb2dyZXNzLWxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgIH1cblxuICAgICAgLmRpZmZpY3VsdC1jYXJkcy1saXN0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgfVxuXG4gICAgICAuZGlmZmljdWx0LWNhcmQtaXRlbSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMTVweDtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtcmFuayB7XG4gICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICB9XG5cbiAgICAgIC5jYXJkLWNvbnRlbnQge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgfVxuXG4gICAgICAuY2FyZC1xdWVzdGlvbiB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtbWV0YSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGdhcDogMTBweDtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICBtYXJnaW4tYm90dG9tOjhweDtcbiAgICAgIH0gXG5cbi5wYXR0ZXJuLWJhZGdlLCAuZXJyb3ItY291bnQsIC5hdmctdGltZSB7XG4gICAgcGFkZGluZzogM3B4IDEwcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICB9XG5cbiAgLmRpZmZpY3VsdHktYmFyLWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiA2cHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC5kaWZmaWN1bHR5LWJhciB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgdmFyKC0tY29sb3ItZ3JlZW4pLCB2YXIoLS1jb2xvci15ZWxsb3cpLCB2YXIoLS1jb2xvci1yZWQpKTtcbiAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xuICB9XG5cbiAgLmNhcmQtYWN0aW9ucyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDhweDtcbiAgfVxuXG4gIC5hY3Rpb24tYnRuLXNtYWxsIHtcbiAgICBwYWRkaW5nOiA2cHggMTJweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICB9XG5cbiAgLmFjdGlvbi1idG4tc21hbGw6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgfVxuXG4gIC5hY3Rpb24tYnRuLXNtYWxsLmRlbGV0ZS1idG46aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci1yZWQpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC5lbXB0eS1tZXNzYWdlIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogNDBweDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgZm9udC1zaXplOiAxLjFlbTtcbiAgfVxuXG4gIC5yZXBvcnQtc2VjdGlvbiB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgfVxuXG4gIC5jaGFydC1jYW52YXMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cblxuICAuYmFyLWdyb3VwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4OiAxO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC5iYXItZ3JvdXAgLmJhciB7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwO1xuICAgIHRyYW5zaXRpb246IGhlaWdodCAwLjNzO1xuICAgIG1hcmdpbi10b3A6IGF1dG87XG4gIH1cblxuICAubGluZS1jaGFydC1jYW52YXMge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLmNoYXJ0LWxhYmVscyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgfVxuXG4gIC5jaGFydC1sYWJlbCB7XG4gICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG4gICAgLm1vZGFsLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICB6LWluZGV4OiAxMDAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLm1vZGFsLWJnIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcbn1cblxuLm1vZGFsIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIG1heC13aWR0aDogNTAwcHg7XG4gIHdpZHRoOiA5MCU7XG4gIG1heC1oZWlnaHQ6IDgwdmg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xufVxuXG4ubW9kYWwtdGl0bGUge1xuICBmb250LXNpemU6IDEuNWVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4ubW9kYWwtY29udGVudCB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5jbGVhci1vcHRpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxMHB4O1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG4uY2xlYXItb3B0aW9uLWJ0biB7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogNXB4O1xufVxuXG4uY2xlYXItb3B0aW9uLWJ0bjpob3ZlciB7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG59XG5cbi5vcHRpb24tZGVzYyB7XG4gIGZvbnQtc2l6ZTogMC44NWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG59XG5cbi5tb2RhbC1idXR0b24tY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgZ2FwOiAxMHB4O1xufVxuXG5cbi8qIFx1OTFDRFx1N0Y2RVx1NTkwRFx1NEU2MFx1NTQ2OFx1NjcxRiAqLyAgICAgICAgICAgXG4uY3ljbGUtaW5mby1iYW5uZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93OyAgLyogXHVEODNEXHVEQzQ4IFx1NjYwRVx1Nzg2RVx1NjMwN1x1NUI5QVx1NkEyQVx1NTQxMVx1NjM5Mlx1NTIxNyAqL1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IC8qIFx1RDgzRFx1REM0OCBcdTRFMjRcdTdBRUZcdTVCRjlcdTlGNTAgKi9cbiAgZ2FwOiAxNXB4O1xuICBwYWRkaW5nOiAxNXB4IDIwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgY29sb3I6IHdoaXRlO1xuICBmbGV4LXdyYXA6IG5vd3JhcDsgLyogXHVEODNEXHVEQzQ4IFx1Nzk4MVx1NkI2Mlx1NjM2Mlx1ODg0QyAqL1xufVxuXG4uY3ljbGUtYmFkZ2Uge1xuICBmb250LXNpemU6IDEuMmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBwYWRkaW5nOiA1cHggMTVweDtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xufVxuXG4uY3ljbGUtc3RhdHMge1xuICBmbGV4OiAxO1xuICBmb250LXNpemU6IDAuOTVlbTtcbiAgb3BhY2l0eTogMC45O1xufVxuXG4uc3RhcnQtbmV3LWN5Y2xlLWJ0biB7XG4gIHBhZGRpbmc6IDhweCAxNnB4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xufVxuXG4uc3RhcnQtbmV3LWN5Y2xlLWJ0bjpob3ZlciB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7XG59XG4gIC8qIFx1NTQ2OFx1NjcxRlx1NTM4Nlx1NTNGMlx1NTM2MVx1NzI0NyAqL1xuLmN5Y2xlcy1saXN0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxNXB4O1xufVxuXG4uY3ljbGUtY2FyZCB7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG59XG5cbi5jeWNsZS1jYXJkLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG59XG5cbi5jeWNsZS1jYXJkLWhlYWRlciBoNCB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxLjJlbTtcbn1cblxuLmN5Y2xlLWR1cmF0aW9uIHtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgcGFkZGluZzogNHB4IDEwcHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG59XG5cbi5jeWNsZS1jYXJkLWFjdGlvbnMge1xuICBtYXJnaW4tdG9wOiAxNXB4O1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cblxuLyogXHU1NDY4XHU2NzFGXHU4QkU2XHU2MEM1XHU1RjM5XHU3QTk3ICovXG4uY3ljbGUtZGV0YWlscy1tb2RhbCAubW9kYWwtbGFyZ2Uge1xuICBtYXgtd2lkdGg6IDgwMHB4O1xufVxuXG4uY3ljbGUtZGV0YWlsLXNlY3Rpb24ge1xuICBtYXJnaW4tYm90dG9tOiAyNXB4O1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLmN5Y2xlLWRldGFpbC1zZWN0aW9uOmxhc3QtY2hpbGQge1xuICBib3JkZXItYm90dG9tOiBub25lO1xufVxuXG4uY3ljbGUtZGV0YWlsLXNlY3Rpb24gaDQge1xuICBtYXJnaW46IDAgMCAxNXB4IDA7XG4gIGZvbnQtc2l6ZTogMS4xZW07XG59XG5cbi5tZXRyaWNzLWdyaWQtc21hbGwge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE1MHB4LCAxZnIpKTtcbiAgZ2FwOiAxNXB4O1xufVxuXG4ubWV0cmljLXNtYWxsIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiA1cHg7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbn1cblxuLm1ldHJpYy1zbWFsbCAubWV0cmljLWxhYmVsIHtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbn1cblxuLm1ldHJpYy1zbWFsbCAubWV0cmljLXZhbHVlIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmRlY2stc3RhdC1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDEwcHggMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLmRlY2stc3RhdC1yb3c6bGFzdC1jaGlsZCB7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG5cbi5kZWNrLW5hbWUge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uZGVjay1pbmZvIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiAxNXB4O1xufVxuXG4uZGVjay1kZXRhaWwge1xuICBmb250LXNpemU6IDAuOWVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG59XG5gO1xuXG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICB9fSIsICIvLyBhbmFseXRpY3NFbmdpbmUudHNcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uL21haW4nO1xuaW1wb3J0IHsgRmxhc2hjYXJkLCBSZXZpZXdMb2cgfSBmcm9tICcuL0ZsYXNoY2FyZE1hbmFnZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5U3RhdHMge1xuICBkYXRlOiBzdHJpbmc7XG4gIHJldmlld2VkOiBudW1iZXI7XG4gIGNvcnJlY3RDb3VudDogbnVtYmVyO1xuICBjb3JyZWN0UmF0ZTogbnVtYmVyO1xuICB0aW1lU3BlbnQ6IG51bWJlcjtcbiAgbmV3Q2FyZHM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWVrbHlTdGF0cyB7XG4gIHN0YXJ0RGF0ZTogc3RyaW5nO1xuICBlbmREYXRlOiBzdHJpbmc7XG4gIHRvdGFsUmV2aWV3czogbnVtYmVyO1xuICBhdmVyYWdlQ29ycmVjdFJhdGU6IG51bWJlcjtcbiAgdG90YWxUaW1lU3BlbnQ6IG51bWJlcjtcbiAgc3RyZWFrOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVja1N0YXRzIHtcbiAgZGVja05hbWU6IHN0cmluZztcbiAgdG90YWxDYXJkczogbnVtYmVyO1xuICBkdWVDYXJkczogbnVtYmVyO1xuICBuZXdDYXJkczogbnVtYmVyO1xuICBjb3JyZWN0UmF0ZTogbnVtYmVyO1xuICBhdmVyYWdlSW50ZXJ2YWw6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWZmaWN1bHRDYXJkIHtcbiAgY2FyZDogRmxhc2hjYXJkO1xuICBlcnJvckNvdW50OiBudW1iZXI7XG4gIGxhc3RFcnJvcjogbnVtYmVyO1xuICBhdmVyYWdlVGltZTogbnVtYmVyO1xuICBwYXR0ZXJuOiAnY29uY2VwdCcgfCAnbWVtb3J5JyB8ICdjYWxjdWxhdGlvbicgfCAndW5rbm93bic7XG59XG5leHBvcnQgaW50ZXJmYWNlIEN5Y2xlSW5mbyB7XG4gIGN1cnJlbnRDeWNsZTogbnVtYmVyO1xuICBjeWNsZVN0YXJ0RGF0ZTogc3RyaW5nOyAvLyBJU08gXHU2ODNDXHU1RjBGXG4gIGN5Y2xlczogQXJyYXk8e1xuICAgIGN5Y2xlTnVtYmVyOiBudW1iZXI7XG4gICAgc3RhcnREYXRlOiBzdHJpbmc7XG4gICAgZW5kRGF0ZT86IHN0cmluZztcbiAgICB0b3RhbFJldmlld3M6IG51bWJlcjtcbiAgICB0b3RhbENhcmRzOiBudW1iZXI7XG4gICAgY29ycmVjdFJhdGU6IG51bWJlcjtcbiAgfT47XG59XG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzRW5naW5lIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IExlYXJuaW5nU3lzdGVtUGx1Z2luKSB7fVxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU2MjE2XHU1MjFEXHU1OUNCXHU1MzE2XHU1NDY4XHU2NzFGXHU0RkUxXHU2MDZGXG4gICAqL1xuICBwcml2YXRlIGdldEN5Y2xlRGF0YSgpOiBDeWNsZUluZm8ge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jeWNsZURhdGE7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAvLyBcdTk5OTZcdTZCMjFcdTUyMURcdTU5Q0JcdTUzMTZcbiAgICAgIGNvbnN0IGluaXREYXRhOiBDeWNsZUluZm8gPSB7XG4gICAgICAgIGN1cnJlbnRDeWNsZTogMSxcbiAgICAgICAgY3ljbGVTdGFydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY3ljbGVzOiBbe1xuICAgICAgICAgIGN5Y2xlTnVtYmVyOiAxLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHRvdGFsUmV2aWV3czogMCxcbiAgICAgICAgICB0b3RhbENhcmRzOiAwLFxuICAgICAgICAgIGNvcnJlY3RSYXRlOiAwXG4gICAgICAgIH1dXG4gICAgICB9O1xuICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3ljbGVEYXRhID0gaW5pdERhdGE7XG4gICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgIHJldHVybiBpbml0RGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU1NDY4XHU2NzFGXHU0RkUxXHU2MDZGXHVGRjA4XHU0RjlCIFVJIFx1NEY3Rlx1NzUyOFx1RkYwOVxuICAgKi9cbiAgZ2V0Q3VycmVudEN5Y2xlSW5mbygpOiB7XG4gICAgY3VycmVudEN5Y2xlOiBudW1iZXI7XG4gICAgc3RhcnREYXRlOiBzdHJpbmc7XG4gICAgcmV2aWV3c1RoaXNDeWNsZTogbnVtYmVyO1xuICB9IHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRDeWNsZURhdGEoKTtcbiAgICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICAgIFxuICAgIC8vIFx1N0VERlx1OEJBMVx1NUY1M1x1NTI0RFx1NTQ2OFx1NjcxRlx1NzY4NFx1NTkwRFx1NEU2MFx1NjU3MFxuICAgIGNvbnN0IGN5Y2xlUmV2aWV3cyA9IGxvZ3MuZmlsdGVyKFxuICAgICAgbG9nID0+IChsb2cuY3ljbGUgfHwgMSkgPT09IGRhdGEuY3VycmVudEN5Y2xlXG4gICAgKS5sZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudEN5Y2xlOiBkYXRhLmN1cnJlbnRDeWNsZSxcbiAgICAgIHN0YXJ0RGF0ZTogZGF0YS5jeWNsZVN0YXJ0RGF0ZSxcbiAgICAgIHJldmlld3NUaGlzQ3ljbGU6IGN5Y2xlUmV2aWV3c1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU1NDY4XHU2NzFGXHU1M0Y3XG4gICAqL1xuICBnZXRDdXJyZW50Q3ljbGVOdW1iZXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDeWNsZURhdGEoKS5jdXJyZW50Q3ljbGU7XG4gIH1cblxuICAvKipcbiAgICogXHU1RjAwXHU1NDJGXHU2NUIwXHU1NDY4XHU2NzFGXG4gICAqL1xuICBhc3luYyBzdGFydE5ld0N5Y2xlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldEN5Y2xlRGF0YSgpO1xuICAgIGNvbnN0IGxvZ3MgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gfHwgW107XG4gICAgY29uc3QgY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcblxuICAgIC8vIDEuIFx1OEJBMVx1N0I5N1x1NUY1M1x1NTI0RFx1NTQ2OFx1NjcxRlx1NzY4NFx1NjcwMFx1N0VDOFx1N0VERlx1OEJBMVxuICAgIGNvbnN0IGN5Y2xlUmV2aWV3cyA9IGxvZ3MuZmlsdGVyKFxuICAgICAgbG9nID0+IChsb2cuY3ljbGUgfHwgMSkgPT09IGRhdGEuY3VycmVudEN5Y2xlXG4gICAgKTtcbiAgICBcbiAgICBjb25zdCB0b3RhbENvcnJlY3QgPSBjeWNsZVJldmlld3MuZmlsdGVyKFxuICAgICAgbG9nID0+IGxvZy5yZXNwb25zZS5lYXNlID09PSAnZ29vZCcgfHwgbG9nLnJlc3BvbnNlLmVhc2UgPT09ICdlYXN5J1xuICAgICkubGVuZ3RoO1xuICAgIFxuICAgIGNvbnN0IGNvcnJlY3RSYXRlID0gY3ljbGVSZXZpZXdzLmxlbmd0aCA+IDAgXG4gICAgICA/IHRvdGFsQ29ycmVjdCAvIGN5Y2xlUmV2aWV3cy5sZW5ndGggXG4gICAgICA6IDA7XG5cbiAgICAvLyAyLiBcdTdFRDNcdTY3NUZcdTVGNTNcdTUyNERcdTU0NjhcdTY3MUZcdUZGMDhcdThCQjBcdTVGNTVcdTUyMzBcdTUzODZcdTUzRjJcdUZGMDlcbiAgICBjb25zdCBjdXJyZW50Q3ljbGVJbmRleCA9IGRhdGEuY3ljbGVzLmZpbmRJbmRleChcbiAgICAgIGMgPT4gYy5jeWNsZU51bWJlciA9PT0gZGF0YS5jdXJyZW50Q3ljbGVcbiAgICApO1xuICAgIFxuICAgIGlmIChjdXJyZW50Q3ljbGVJbmRleCAhPT0gLTEpIHtcbiAgICAgIGRhdGEuY3ljbGVzW2N1cnJlbnRDeWNsZUluZGV4XS5lbmREYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgZGF0YS5jeWNsZXNbY3VycmVudEN5Y2xlSW5kZXhdLnRvdGFsUmV2aWV3cyA9IGN5Y2xlUmV2aWV3cy5sZW5ndGg7XG4gICAgICBkYXRhLmN5Y2xlc1tjdXJyZW50Q3ljbGVJbmRleF0udG90YWxDYXJkcyA9IGNhcmRzLmxlbmd0aDtcbiAgICAgIGRhdGEuY3ljbGVzW2N1cnJlbnRDeWNsZUluZGV4XS5jb3JyZWN0UmF0ZSA9IGNvcnJlY3RSYXRlO1xuICAgIH1cblxuICAgIC8vIDMuIFx1NTIxQlx1NUVGQVx1NjVCMFx1NTQ2OFx1NjcxRlxuICAgIGNvbnN0IG5ld0N5Y2xlTnVtYmVyID0gZGF0YS5jdXJyZW50Q3ljbGUgKyAxO1xuICAgIGNvbnN0IG5ld1N0YXJ0RGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIGRhdGEuY3ljbGVzLnB1c2goe1xuICAgICAgY3ljbGVOdW1iZXI6IG5ld0N5Y2xlTnVtYmVyLFxuICAgICAgc3RhcnREYXRlOiBuZXdTdGFydERhdGUsXG4gICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICB0b3RhbENhcmRzOiBjYXJkcy5sZW5ndGgsXG4gICAgICBjb3JyZWN0UmF0ZTogMFxuICAgIH0pO1xuXG4gICAgZGF0YS5jdXJyZW50Q3ljbGUgPSBuZXdDeWNsZU51bWJlcjtcbiAgICBkYXRhLmN5Y2xlU3RhcnREYXRlID0gbmV3U3RhcnREYXRlO1xuXG4gICAgLy8gNC4gXHU2NkY0XHU2NUIwXHU2MjQwXHU2NzA5XHU2NUIwXHU2NUU1XHU1RkQ3XHU3Njg0XHU1NDY4XHU2NzFGXHU2ODA3XHU4QkIwXHVGRjA4XHU5MDFBXHU4RkM3XHU2MkU2XHU2MjJBXHU1NjY4XHU1QjlFXHU3M0IwXHVGRjA5XG4gICAgLy8gXHU4RkQ5XHU5MUNDXHU0RTBEXHU5NzAwXHU4OTgxXHU0RkVFXHU2NTM5XHU2NUU3XHU2NUU1XHU1RkQ3XHVGRjBDXHU2NUIwXHU2NUU1XHU1RkQ3XHU0RjFBXHU4MUVBXHU1MkE4XHU2ODA3XHU4QkIwXHU0RTNBXHU2NUIwXHU1NDY4XHU2NzFGXG5cbiAgICAvLyA1LiBcdTRGRERcdTVCNThcdThCQkVcdTdGNkVcbiAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgfVxuXG5cbi8qKlxuICogXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU1Mzg2XHU1M0YyXHU1NDY4XHU2NzFGKFx1NzUyOFx1NEU4RVVJXHU2NjNFXHU3OTNBKVxuICovXG5nZXRBcmNoaXZlZEN5Y2xlcygpOiBBcnJheTx7XG4gIGN5Y2xlTnVtYmVyOiBudW1iZXI7XG4gIHN0YXJ0RGF0ZTogc3RyaW5nO1xuICBlbmREYXRlOiBzdHJpbmc7XG4gIHRvdGFsUmV2aWV3czogbnVtYmVyO1xuICB0b3RhbENhcmRzOiBudW1iZXI7XG4gIGNvcnJlY3RSYXRlOiBudW1iZXI7XG4gIGRhaWx5U3RhdHM/OiBEYWlseVN0YXRzW107XG4gIGRlY2tTdGF0cz86IERlY2tTdGF0c1tdO1xufT4ge1xuICBjb25zdCBkYXRhID0gdGhpcy5nZXRDeWNsZURhdGEoKTtcbiAgcmV0dXJuIGRhdGEuY3ljbGVzXG4gICAgLmZpbHRlcigoYyk6IGMgaXMgdHlwZW9mIGMgJiB7IGVuZERhdGU6IHN0cmluZyB9ID0+ICEhYy5lbmREYXRlKSBcbiAgICAuc29ydCgoYSwgYikgPT4gYi5jeWNsZU51bWJlciAtIGEuY3ljbGVOdW1iZXIpO1xufVxuXG4vKipcbiAqIFx1ODNCN1x1NTNENlx1NjMwN1x1NUI5QVx1NTQ2OFx1NjcxRlx1NzY4NFx1OEJFNlx1N0VDNlx1N0VERlx1OEJBMVxuICovXG5nZXRDeWNsZURldGFpbHMoY3ljbGVOdW1iZXI6IG51bWJlcik6IHtcbiAgY3ljbGU6IGFueTtcbiAgZGFpbHlTdGF0czogRGFpbHlTdGF0c1tdO1xuICBkZWNrU3RhdHM6IERlY2tTdGF0c1tdO1xuICB3ZWVrbHlTdGF0czogeyB0aGlzV2VlazogV2Vla2x5U3RhdHM7IGxhc3RXZWVrOiBXZWVrbHlTdGF0cyB9O1xufSB8IG51bGwge1xuICBjb25zdCBkYXRhID0gdGhpcy5nZXRDeWNsZURhdGEoKTtcbiAgY29uc3QgY3ljbGUgPSBkYXRhLmN5Y2xlcy5maW5kKGMgPT4gYy5jeWNsZU51bWJlciA9PT0gY3ljbGVOdW1iZXIpO1xuICBcbiAgaWYgKCFjeWNsZSkgcmV0dXJuIG51bGw7XG5cbiAgLy8gXHU4QkExXHU3Qjk3XHU4QkU1XHU1NDY4XHU2NzFGXHU3Njg0XHU3RURGXHU4QkExXHU2NTcwXHU2MzZFXG4gIGNvbnN0IGxvZ3MgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gfHwgW107XG4gIGNvbnN0IGN5Y2xlTG9ncyA9IGxvZ3MuZmlsdGVyKGxvZyA9PiAobG9nLmN5Y2xlIHx8IDEpID09PSBjeWNsZU51bWJlcik7XG4gIFxuICAvLyBcdTY3ODRcdTVFRkFcdThCRTVcdTU0NjhcdTY3MUZcdTc2ODRcdTZCQ0ZcdTY1RTVcdTdFREZcdThCQTFcbiAgY29uc3QgZGFpbHlTdGF0cyA9IHRoaXMuYnVpbGRDeWNsZURhaWx5U3RhdHMoY3ljbGVOdW1iZXIsIGN5Y2xlLnN0YXJ0RGF0ZSwgY3ljbGUuZW5kRGF0ZSk7XG4gIGNvbnN0IGRlY2tTdGF0cyA9IHRoaXMuYnVpbGRDeWNsZURlY2tTdGF0cyhjeWNsZU51bWJlcik7XG4gIFxuICByZXR1cm4ge1xuICAgIGN5Y2xlLFxuICAgIGRhaWx5U3RhdHMsXG4gICAgZGVja1N0YXRzLFxuICAgIHdlZWtseVN0YXRzOiB0aGlzLmdldFdlZWtseVN0YXRzKHRydWUpIC8vIFx1OEZEOVx1OTFDQ1x1NTNFRlx1NEVFNVx1NjUzOVx1OEZEQixcdTgzQjdcdTUzRDZcdTYzMDdcdTVCOUFcdTU0NjhcdTY3MUZcdTc2ODRcdTU0NjhcdTdFREZcdThCQTFcbiAgfTtcbn1cblxuLyoqXG4gKiBcdTY3ODRcdTVFRkFcdTYzMDdcdTVCOUFcdTU0NjhcdTY3MUZcdTc2ODRcdTZCQ0ZcdTY1RTVcdTdFREZcdThCQTFcbiAqL1xucHJpdmF0ZSBidWlsZEN5Y2xlRGFpbHlTdGF0cyhcbiAgY3ljbGVOdW1iZXI6IG51bWJlciwgXG4gIHN0YXJ0RGF0ZTogc3RyaW5nLCBcbiAgZW5kRGF0ZT86IHN0cmluZ1xuKTogRGFpbHlTdGF0c1tdIHtcbiAgY29uc3QgbG9ncyA9ICh0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyWydyZXZpZXdMb2dzJ10gfHwgW10pXG4gICAgLmZpbHRlcihsb2cgPT4gKGxvZy5jeWNsZSB8fCAxKSA9PT0gY3ljbGVOdW1iZXIpO1xuXG4gIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlKTtcbiAgY29uc3QgZW5kID0gZW5kRGF0ZSA/IG5ldyBEYXRlKGVuZERhdGUpIDogbmV3IERhdGUoKTtcbiAgY29uc3QgZGF5cyA9IE1hdGguY2VpbCgoZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXG4gIGNvbnN0IHN0YXRzOiBNYXA8c3RyaW5nLCBEYWlseVN0YXRzPiA9IG5ldyBNYXAoKTtcblxuICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTYyNDBcdTY3MDlcdTY1RTVcdTY3MUZcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzOyBpKyspIHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RhcnQpO1xuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGkpO1xuICAgIGNvbnN0IGRhdGVLZXkgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICBcbiAgICBzdGF0cy5zZXQoZGF0ZUtleSwge1xuICAgICAgZGF0ZTogZGF0ZUtleSxcbiAgICAgIHJldmlld2VkOiAwLFxuICAgICAgY29ycmVjdENvdW50OiAwLFxuICAgICAgY29ycmVjdFJhdGU6IDAsXG4gICAgICB0aW1lU3BlbnQ6IDAsXG4gICAgICBuZXdDYXJkczogMFxuICAgIH0pO1xuICB9XG5cbiAgLy8gXHU1ODZCXHU1MTQ1XHU2NTcwXHU2MzZFXG4gIGxvZ3MuZm9yRWFjaChsb2cgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShsb2cudGltZXN0YW1wKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgY29uc3Qgc3RhdCA9IHN0YXRzLmdldChkYXRlKTtcbiAgICBpZiAoIXN0YXQpIHJldHVybjtcblxuICAgIHN0YXQucmV2aWV3ZWQrKztcbiAgICBzdGF0LnRpbWVTcGVudCArPSBsb2cucmVzcG9uc2UudGltZVNwZW50O1xuXG4gICAgaWYgKGxvZy5yZXNwb25zZS5lYXNlID09PSAnZ29vZCcgfHwgbG9nLnJlc3BvbnNlLmVhc2UgPT09ICdlYXN5Jykge1xuICAgICAgc3RhdC5jb3JyZWN0Q291bnQrKztcbiAgICB9IGVsc2UgaWYgKGxvZy5yZXNwb25zZS5lYXNlID09PSAnaGFyZCcpIHtcbiAgICAgIHN0YXQuY29ycmVjdENvdW50ICs9IDAuNTtcbiAgICB9XG5cbiAgICBjb25zdCBjYXJkID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRGbGFzaGNhcmQobG9nLmZsYXNoY2FyZElkKTtcbiAgICBpZiAoY2FyZCAmJiBjYXJkLnN0YXRzLnRvdGFsUmV2aWV3cyA9PT0gMSkge1xuICAgICAgc3RhdC5uZXdDYXJkcysrO1xuICAgIH1cbiAgfSk7XG5cbiAgc3RhdHMuZm9yRWFjaChzdGF0ID0+IHtcbiAgICBpZiAoc3RhdC5yZXZpZXdlZCA+IDApIHtcbiAgICAgIHN0YXQuY29ycmVjdFJhdGUgPSBzdGF0LmNvcnJlY3RDb3VudCAvIHN0YXQucmV2aWV3ZWQ7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gQXJyYXkuZnJvbShzdGF0cy52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4gYS5kYXRlLmxvY2FsZUNvbXBhcmUoYi5kYXRlKSk7XG59XG5cbi8qKlxuICogXHU2Nzg0XHU1RUZBXHU2MzA3XHU1QjlBXHU1NDY4XHU2NzFGXHU3Njg0XHU1MzYxXHU3RUM0XHU3RURGXHU4QkExXG4gKi9cbnByaXZhdGUgYnVpbGRDeWNsZURlY2tTdGF0cyhjeWNsZU51bWJlcjogbnVtYmVyKTogRGVja1N0YXRzW10ge1xuICBjb25zdCBsb2dzID0gKHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXSlcbiAgICAuZmlsdGVyKGxvZyA9PiAobG9nLmN5Y2xlIHx8IDEpID09PSBjeWNsZU51bWJlcik7XG4gIFxuICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICBjb25zdCBkZWNrTWFwID0gbmV3IE1hcDxzdHJpbmcsIHtcbiAgICBjYXJkczogRmxhc2hjYXJkW107XG4gICAgbG9nczogUmV2aWV3TG9nW107XG4gIH0+KCk7XG5cbiAgLy8gXHU2MzA5XHU1MzYxXHU3RUM0XHU1MjA2XHU3RUM0XG4gIGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgaWYgKCFkZWNrTWFwLmhhcyhjYXJkLmRlY2spKSB7XG4gICAgICBkZWNrTWFwLnNldChjYXJkLmRlY2ssIHsgY2FyZHM6IFtdLCBsb2dzOiBbXSB9KTtcbiAgICB9XG4gICAgZGVja01hcC5nZXQoY2FyZC5kZWNrKSEuY2FyZHMucHVzaChjYXJkKTtcbiAgfSk7XG5cbiAgbG9ncy5mb3JFYWNoKGxvZyA9PiB7XG4gICAgY29uc3QgY2FyZCA9IGNhcmRzLmZpbmQoYyA9PiBjLmlkID09PSBsb2cuZmxhc2hjYXJkSWQpO1xuICAgIGlmIChjYXJkICYmIGRlY2tNYXAuaGFzKGNhcmQuZGVjaykpIHtcbiAgICAgIGRlY2tNYXAuZ2V0KGNhcmQuZGVjaykhLmxvZ3MucHVzaChsb2cpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gXHU4QkExXHU3Qjk3XHU3RURGXHU4QkExXG4gIGNvbnN0IHN0YXRzOiBEZWNrU3RhdHNbXSA9IFtdO1xuICBkZWNrTWFwLmZvckVhY2goKGRhdGEsIGRlY2tOYW1lKSA9PiB7XG4gICAgY29uc3QgZGVja0xvZ3MgPSBkYXRhLmxvZ3M7XG4gICAgY29uc3QgY29ycmVjdExvZ3MgPSBkZWNrTG9ncy5maWx0ZXIoXG4gICAgICBsb2cgPT4gbG9nLnJlc3BvbnNlLmVhc2UgPT09ICdnb29kJyB8fCBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2Vhc3knXG4gICAgKTtcblxuICAgIHN0YXRzLnB1c2goe1xuICAgICAgZGVja05hbWUsXG4gICAgICB0b3RhbENhcmRzOiBkYXRhLmNhcmRzLmxlbmd0aCxcbiAgICAgIGR1ZUNhcmRzOiBkYXRhLmNhcmRzLmZpbHRlcihjID0+IGMuc2NoZWR1bGluZy5kdWUgPD0gRGF0ZS5ub3coKSkubGVuZ3RoLFxuICAgICAgbmV3Q2FyZHM6IGRhdGEuY2FyZHMuZmlsdGVyKGMgPT4gYy5zY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3JykubGVuZ3RoLFxuICAgICAgY29ycmVjdFJhdGU6IGRlY2tMb2dzLmxlbmd0aCA+IDAgPyBjb3JyZWN0TG9ncy5sZW5ndGggLyBkZWNrTG9ncy5sZW5ndGggOiAwLFxuICAgICAgYXZlcmFnZUludGVydmFsOiBkYXRhLmNhcmRzLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLnNjaGVkdWxpbmcuaW50ZXJ2YWwsIDApIC8gXG4gICAgICAgIChkYXRhLmNhcmRzLmxlbmd0aCB8fCAxKVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gc3RhdHMuc29ydCgoYSwgYikgPT4gYi50b3RhbENhcmRzIC0gYS50b3RhbENhcmRzKTtcbn1cblxuLyoqXG4gKiBcdTZFMDVcdTk2NjRcdTdFREZcdThCQTFcdTRGNDZcdTRGRERcdTc1NTlcdTUzNjFcdTcyNDdcdThGREJcdTVFQTZcbiAqL1xucHJpdmF0ZSBhc3luYyBjbGVhclN0YXRzT25seSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gXHU1M0VBXHU2RTA1XHU3QTdBIHJldmlld0xvZ3MsXHU0RTBEXHU0RkVFXHU2NTM5XHU1MzYxXHU3MjQ3XHU3Njg0IEZTUlMgXHU2NTcwXHU2MzZFXG4gIHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSA9IFtdO1xuICBcbiAgLy8gXHU5MUNEXHU3RjZFXHU1MzYxXHU3MjQ3XHU3Njg0XHU3RURGXHU4QkExXHU1QjU3XHU2QkI1KFx1NEY0Nlx1NEZERFx1NzU1OSBzY2hlZHVsaW5nIFx1NEUyRFx1NzY4NFx1NUI2Nlx1NEU2MFx1OEZEQlx1NUVBNilcbiAgY29uc3QgY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgZm9yIChjb25zdCBjYXJkIG9mIGNhcmRzKSB7XG4gICAgY2FyZC5zdGF0cyA9IHtcbiAgICAgIHRvdGFsUmV2aWV3czogMCxcbiAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgbGFzdFJldmlldzogMCxcbiAgICAgIGRpZmZpY3VsdHk6IGNhcmQuc3RhdHMuZGlmZmljdWx0eSAvLyBcdTRGRERcdTc1NTlcdTk2QkVcdTVFQTZcbiAgICB9O1xuICAgIC8vIFx1NkNFOFx1NjEwRjpcdTRFMERcdTRGRUVcdTY1MzkgY2FyZC5zY2hlZHVsaW5nXG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKGNhcmQpO1xuICB9XG4gIFxuICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5zYXZlKCk7XG59XG4vKipcbiAqIFx1ODNCN1x1NTNENlx1NkJDRlx1NjVFNVx1N0VERlx1OEJBMVxuICovXG5nZXREYWlseVN0YXRzKGRheXM6IG51bWJlciA9IDMwLCBjdXJyZW50Q3ljbGVPbmx5OiBib29sZWFuID0gZmFsc2UpOiBEYWlseVN0YXRzW10ge1xuICBjb25zdCBsb2dzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddIHx8IFtdO1xuICBjb25zdCBzdGF0czogTWFwPHN0cmluZywgRGFpbHlTdGF0cz4gPSBuZXcgTWFwKCk7XG5cbiAgLy8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU1NDY4XHU2NzFGXHVGRjA4XHU1OTgyXHU2NzlDXHU5NzAwXHU4OTgxXHU4RkM3XHU2RUU0XHVGRjA5XG4gIGNvbnN0IGN1cnJlbnRDeWNsZSA9IGN1cnJlbnRDeWNsZU9ubHkgPyB0aGlzLmdldEN1cnJlbnRDeWNsZU51bWJlcigpIDogbnVsbDtcblxuICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTY3MDBcdThGRDFOXHU1OTI5XHU3Njg0XHU2NTcwXHU2MzZFXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGF5czsgaSsrKSB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSk7XG4gICAgY29uc3QgZGF0ZUtleSA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIFxuICAgIHN0YXRzLnNldChkYXRlS2V5LCB7XG4gICAgICBkYXRlOiBkYXRlS2V5LFxuICAgICAgcmV2aWV3ZWQ6IDAsXG4gICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICBjb3JyZWN0UmF0ZTogMCxcbiAgICAgIHRpbWVTcGVudDogMCxcbiAgICAgIG5ld0NhcmRzOiAwXG4gICAgfSk7XG4gIH1cblxuICAvLyBcdTdFREZcdThCQTFcdTU5MERcdTRFNjBcdThCQjBcdTVGNTVcdUZGMDhcdTY1MkZcdTYzMDFcdTU0NjhcdTY3MUZcdThGQzdcdTZFRTRcdUZGMDlcbiAgbG9ncy5mb3JFYWNoKGxvZyA9PiB7XG4gICAgY29uc3QgbG9nQ3ljbGUgPSBsb2cuY3ljbGUgfHwgMTtcbiAgICAvLyBcdTU5ODJcdTY3OUNcdTk3MDBcdTg5ODFcdTUzRUFcdTdFREZcdThCQTFcdTVGNTNcdTUyNERcdTU0NjhcdTY3MUZcbiAgICBpZiAoY3VycmVudEN5Y2xlICE9PSBudWxsICYmIGxvZ0N5Y2xlICE9PSBjdXJyZW50Q3ljbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUobG9nLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgIGNvbnN0IHN0YXQgPSBzdGF0cy5nZXQoZGF0ZSk7XG4gICAgaWYgKCFzdGF0KSByZXR1cm47XG5cbiAgICBzdGF0LnJldmlld2VkKys7XG4gICAgc3RhdC50aW1lU3BlbnQgKz0gbG9nLnJlc3BvbnNlLnRpbWVTcGVudDtcblxuICAgIGlmIChsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2dvb2QnIHx8IGxvZy5yZXNwb25zZS5lYXNlID09PSAnZWFzeScpIHtcbiAgICAgIHN0YXQuY29ycmVjdENvdW50Kys7XG4gICAgfSBlbHNlIGlmIChsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2hhcmQnKSB7XG4gICAgICBzdGF0LmNvcnJlY3RDb3VudCArPSAwLjU7XG4gICAgfVxuXG4gICAgY29uc3QgY2FyZCA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0Rmxhc2hjYXJkKGxvZy5mbGFzaGNhcmRJZCk7XG4gICAgaWYgKGNhcmQgJiYgY2FyZC5zdGF0cy50b3RhbFJldmlld3MgPT09IDEpIHtcbiAgICAgIHN0YXQubmV3Q2FyZHMrKztcbiAgICB9XG4gIH0pO1xuXG4gIHN0YXRzLmZvckVhY2goc3RhdCA9PiB7XG4gICAgaWYgKHN0YXQucmV2aWV3ZWQgPiAwKSB7XG4gICAgICBzdGF0LmNvcnJlY3RSYXRlID0gc3RhdC5jb3JyZWN0Q291bnQgLyBzdGF0LnJldmlld2VkO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIEFycmF5LmZyb20oc3RhdHMudmFsdWVzKCkpLnNvcnQoKGEsIGIpID0+IFxuICAgIGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSlcbiAgKTtcbn1cblxuLyoqXG4gKiBcdTgzQjdcdTUzRDZcdTU0NjhcdTdFREZcdThCQTFcbiAqL1xuZ2V0V2Vla2x5U3RhdHMoY3VycmVudEN5Y2xlT25seTogYm9vbGVhbiA9IGZhbHNlKTogeyB0aGlzV2VlazogV2Vla2x5U3RhdHM7IGxhc3RXZWVrOiBXZWVrbHlTdGF0cyB9IHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgY29uc3QgY3VycmVudEN5Y2xlID0gY3VycmVudEN5Y2xlT25seSA/IHRoaXMuZ2V0Q3VycmVudEN5Y2xlTnVtYmVyKCkgOiBudWxsO1xuICBcbiAgY29uc3QgdGhpc1dlZWtTdGFydCA9IG5ldyBEYXRlKG5vdyk7XG4gIHRoaXNXZWVrU3RhcnQuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gbm93LmdldERheSgpKTtcbiAgdGhpc1dlZWtTdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcblxuICBjb25zdCBsYXN0V2Vla1N0YXJ0ID0gbmV3IERhdGUodGhpc1dlZWtTdGFydCk7XG4gIGxhc3RXZWVrU3RhcnQuc2V0RGF0ZShsYXN0V2Vla1N0YXJ0LmdldERhdGUoKSAtIDcpO1xuXG4gIGNvbnN0IHRoaXNXZWVrID0gdGhpcy5jYWxjdWxhdGVXZWVrU3RhdHModGhpc1dlZWtTdGFydCwgY3VycmVudEN5Y2xlKTtcbiAgY29uc3QgbGFzdFdlZWsgPSB0aGlzLmNhbGN1bGF0ZVdlZWtTdGF0cyhsYXN0V2Vla1N0YXJ0LCBjdXJyZW50Q3ljbGUpO1xuXG4gIHJldHVybiB7IHRoaXNXZWVrLCBsYXN0V2VlayB9O1xufVxuXG5wcml2YXRlIGNhbGN1bGF0ZVdlZWtTdGF0cyhzdGFydERhdGU6IERhdGUsIGN5Y2xlRmlsdGVyOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IFdlZWtseVN0YXRzIHtcbiAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7XG4gIGVuZERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSArIDcpO1xuXG4gIGxldCBsb2dzID0gKHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXSkuZmlsdGVyKFxuICAgIGxvZyA9PiBsb2cudGltZXN0YW1wID49IHN0YXJ0RGF0ZS5nZXRUaW1lKCkgJiYgbG9nLnRpbWVzdGFtcCA8IGVuZERhdGUuZ2V0VGltZSgpXG4gICk7XG5cbiAgLy8gXHU1RTk0XHU3NTI4XHU1NDY4XHU2NzFGXHU4RkM3XHU2RUU0XG4gIGlmIChjeWNsZUZpbHRlciAhPT0gbnVsbCkge1xuICAgIGxvZ3MgPSBsb2dzLmZpbHRlcihsb2cgPT4gKGxvZy5jeWNsZSB8fCAxKSA9PT0gY3ljbGVGaWx0ZXIpO1xuICB9XG5cbiAgbGV0IHRvdGFsQ29ycmVjdCA9IDA7XG4gIGxldCB0b3RhbFRpbWVTcGVudCA9IDA7XG5cbiAgbG9ncy5mb3JFYWNoKGxvZyA9PiB7XG4gICAgdG90YWxUaW1lU3BlbnQgKz0gbG9nLnJlc3BvbnNlLnRpbWVTcGVudDtcbiAgICBpZiAobG9nLnJlc3BvbnNlLmVhc2UgPT09ICdnb29kJyB8fCBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2Vhc3knKSB7XG4gICAgICB0b3RhbENvcnJlY3QrKztcbiAgICB9IGVsc2UgaWYgKGxvZy5yZXNwb25zZS5lYXNlID09PSAnaGFyZCcpIHtcbiAgICAgIHRvdGFsQ29ycmVjdCArPSAwLjU7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBhdmVyYWdlQ29ycmVjdFJhdGUgPSBsb2dzLmxlbmd0aCA+IDAgPyB0b3RhbENvcnJlY3QgLyBsb2dzLmxlbmd0aCA6IDA7XG4gIGNvbnN0IHN0cmVhayA9IHRoaXMuY2FsY3VsYXRlU3RyZWFrKCk7XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgZW5kRGF0ZTogZW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgdG90YWxSZXZpZXdzOiBsb2dzLmxlbmd0aCxcbiAgICBhdmVyYWdlQ29ycmVjdFJhdGUsXG4gICAgdG90YWxUaW1lU3BlbnQsXG4gICAgc3RyZWFrXG4gIH07XG59XG5cbiAgLyoqXG4gICAqIFx1OEJBMVx1N0I5N1x1OEZERVx1N0VFRFx1NUI2Nlx1NEU2MFx1NTkyOVx1NjU3MFxuICAgKi9cbiAgY2FsY3VsYXRlU3RyZWFrKCk6IG51bWJlciB7XG4gICAgY29uc3QgbG9ncyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXTtcbiAgICBpZiAobG9ncy5sZW5ndGggPT09IDApIHJldHVybiAwO1xuXG4gICAgY29uc3QgZGF0ZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShsb2cudGltZXN0YW1wKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICBkYXRlcy5hZGQoZGF0ZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzb3J0ZWREYXRlcyA9IEFycmF5LmZyb20oZGF0ZXMpLnNvcnQoKS5yZXZlcnNlKCk7XG4gICAgbGV0IHN0cmVhayA9IDA7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkRGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBleHBlY3RlZERhdGUuc2V0RGF0ZShleHBlY3RlZERhdGUuZ2V0RGF0ZSgpIC0gaSk7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGV4cGVjdGVkRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG5cbiAgICAgIGlmIChzb3J0ZWREYXRlc1tpXSA9PT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgc3RyZWFrKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RyZWFrO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NTM2MVx1N0VDNFx1N0VERlx1OEJBMVxuICAgKi9cbiAgZ2V0RGVja1N0YXRzKCk6IERlY2tTdGF0c1tdIHtcbiAgICBjb25zdCBjYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICAgIGNvbnN0IGRlY2tNYXAgPSBuZXcgTWFwPHN0cmluZywgRmxhc2hjYXJkW10+KCk7XG5cbiAgICAvLyBcdTYzMDlcdTUzNjFcdTdFQzRcdTUyMDZcdTdFQzRcbiAgICBjYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgaWYgKCFkZWNrTWFwLmhhcyhjYXJkLmRlY2spKSB7XG4gICAgICAgIGRlY2tNYXAuc2V0KGNhcmQuZGVjaywgW10pO1xuICAgICAgfVxuICAgICAgZGVja01hcC5nZXQoY2FyZC5kZWNrKSEucHVzaChjYXJkKTtcbiAgICB9KTtcblxuICAgIC8vIFx1OEJBMVx1N0I5N1x1NkJDRlx1NEUyQVx1NTM2MVx1N0VDNFx1NzY4NFx1N0VERlx1OEJBMVxuICAgIGNvbnN0IHN0YXRzOiBEZWNrU3RhdHNbXSA9IFtdO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBkZWNrTWFwLmZvckVhY2goKGRlY2tDYXJkcywgZGVja05hbWUpID0+IHtcbiAgICAgIGNvbnN0IGR1ZUNhcmRzID0gZGVja0NhcmRzLmZpbHRlcihjID0+IGMuc2NoZWR1bGluZy5kdWUgPD0gbm93KS5sZW5ndGg7XG4gICAgICBjb25zdCBuZXdDYXJkcyA9IGRlY2tDYXJkcy5maWx0ZXIoYyA9PiBjLnNjaGVkdWxpbmcuc3RhdGUgPT09ICduZXcnKS5sZW5ndGg7XG4gICAgICBcbiAgICAgIGNvbnN0IHRvdGFsQ29ycmVjdCA9IGRlY2tDYXJkcy5yZWR1Y2UoXG4gICAgICAgIChzdW0sIGMpID0+IHN1bSArIGMuc3RhdHMuY29ycmVjdENvdW50LCAwXG4gICAgICApO1xuICAgICAgY29uc3QgdG90YWxSZXZpZXdzID0gZGVja0NhcmRzLnJlZHVjZShcbiAgICAgICAgKHN1bSwgYykgPT4gc3VtICsgYy5zdGF0cy50b3RhbFJldmlld3MsIDBcbiAgICAgICk7XG4gICAgICBjb25zdCBjb3JyZWN0UmF0ZSA9IHRvdGFsUmV2aWV3cyA+IDAgPyB0b3RhbENvcnJlY3QgLyB0b3RhbFJldmlld3MgOiAwO1xuXG4gICAgICBjb25zdCB0b3RhbEludGVydmFsID0gZGVja0NhcmRzLnJlZHVjZShcbiAgICAgICAgKHN1bSwgYykgPT4gc3VtICsgYy5zY2hlZHVsaW5nLmludGVydmFsLCAwXG4gICAgICApO1xuICAgICAgY29uc3QgYXZlcmFnZUludGVydmFsID0gZGVja0NhcmRzLmxlbmd0aCA+IDAgXG4gICAgICAgID8gdG90YWxJbnRlcnZhbCAvIGRlY2tDYXJkcy5sZW5ndGggXG4gICAgICAgIDogMDtcblxuICAgICAgc3RhdHMucHVzaCh7XG4gICAgICAgIGRlY2tOYW1lLFxuICAgICAgICB0b3RhbENhcmRzOiBkZWNrQ2FyZHMubGVuZ3RoLFxuICAgICAgICBkdWVDYXJkcyxcbiAgICAgICAgbmV3Q2FyZHMsXG4gICAgICAgIGNvcnJlY3RSYXRlLFxuICAgICAgICBhdmVyYWdlSW50ZXJ2YWxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN0YXRzLnNvcnQoKGEsIGIpID0+IGIudG90YWxDYXJkcyAtIGEudG90YWxDYXJkcyk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU5NkJFXHU3MEI5XHU1MzYxXHU3MjQ3XG4gICAqL1xuICBnZXREaWZmaWN1bHRDYXJkcyhsaW1pdDogbnVtYmVyID0gMTApOiBEaWZmaWN1bHRDYXJkW10ge1xuICAgIGNvbnN0IGNhcmRzID0gdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgY29uc3QgbG9ncyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXTtcblxuICAgIGNvbnN0IGRpZmZpY3VsdENhcmRzOiBEaWZmaWN1bHRDYXJkW10gPSBbXTtcblxuICAgIGNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICBjb25zdCBjYXJkTG9ncyA9IGxvZ3MuZmlsdGVyKGxvZyA9PiBsb2cuZmxhc2hjYXJkSWQgPT09IGNhcmQuaWQpO1xuICAgICAgXG4gICAgICAvLyBcdThCQTFcdTdCOTdcdTk1MTlcdThCRUZcdTZCMjFcdTY1NzBcbiAgICAgIGNvbnN0IGVycm9yQ291bnQgPSBjYXJkTG9ncy5maWx0ZXIoXG4gICAgICAgIGxvZyA9PiBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2FnYWluJ1xuICAgICAgKS5sZW5ndGg7XG5cbiAgICAgIGlmIChlcnJvckNvdW50ID09PSAwICYmIGNhcmQuc3RhdHMuZGlmZmljdWx0eSA8IDAuNykgcmV0dXJuO1xuXG4gICAgICAvLyBcdTY3MDBcdTU0MEVcdTRFMDBcdTZCMjFcdTk1MTlcdThCRUZcbiAgICAgIGNvbnN0IGVycm9yTG9ncyA9IGNhcmRMb2dzLmZpbHRlcihsb2cgPT4gbG9nLnJlc3BvbnNlLmVhc2UgPT09ICdhZ2FpbicpO1xuICAgICAgY29uc3QgbGFzdEVycm9yID0gZXJyb3JMb2dzLmxlbmd0aCA+IDAgXG4gICAgICAgID8gZXJyb3JMb2dzW2Vycm9yTG9ncy5sZW5ndGggLSAxXS50aW1lc3RhbXAgXG4gICAgICAgIDogMDtcblxuICAgICAgLy8gXHU1MjI0XHU2NUFEXHU5NTE5XHU4QkVGXHU2QTIxXHU1RjBGXG4gICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5kZXRlY3RFcnJvclBhdHRlcm4oY2FyZCwgY2FyZExvZ3MpO1xuXG4gICAgICBkaWZmaWN1bHRDYXJkcy5wdXNoKHtcbiAgICAgICAgY2FyZCxcbiAgICAgICAgZXJyb3JDb3VudCxcbiAgICAgICAgbGFzdEVycm9yLFxuICAgICAgICBhdmVyYWdlVGltZTogY2FyZC5zdGF0cy5hdmVyYWdlVGltZSxcbiAgICAgICAgcGF0dGVyblxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTYzOTJcdTVFOEZcdUZGMUFcdTk1MTlcdThCRUZcdTZCMjFcdTY1NzAgPiBcdTk2QkVcdTVFQTYgPiBcdTY3MDBcdThGRDFcdTk1MTlcdThCRUZcbiAgICByZXR1cm4gZGlmZmljdWx0Q2FyZHNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGlmIChhLmVycm9yQ291bnQgIT09IGIuZXJyb3JDb3VudCkge1xuICAgICAgICAgIHJldHVybiBiLmVycm9yQ291bnQgLSBhLmVycm9yQ291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEuY2FyZC5zdGF0cy5kaWZmaWN1bHR5ICE9PSBiLmNhcmQuc3RhdHMuZGlmZmljdWx0eSkge1xuICAgICAgICAgIHJldHVybiBiLmNhcmQuc3RhdHMuZGlmZmljdWx0eSAtIGEuY2FyZC5zdGF0cy5kaWZmaWN1bHR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiLmxhc3RFcnJvciAtIGEubGFzdEVycm9yO1xuICAgICAgfSlcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XG4gIH1cblxuICBwcml2YXRlIGRldGVjdEVycm9yUGF0dGVybihcbiAgICBjYXJkOiBGbGFzaGNhcmQsXG4gICAgbG9nczogUmV2aWV3TG9nW11cbiAgKTogRGlmZmljdWx0Q2FyZFsncGF0dGVybiddIHtcbiAgICBpZiAobG9ncy5sZW5ndGggPCAzKSByZXR1cm4gJ3Vua25vd24nO1xuXG4gICAgLy8gXHU2NUY2XHU5NUY0XHU4RkM3XHU5NTdGIC0+IFx1OEJBMVx1N0I5N1x1OTVFRVx1OTg5OFxuICAgIGlmIChjYXJkLnN0YXRzLmF2ZXJhZ2VUaW1lID4gNjApIHtcbiAgICAgIHJldHVybiAnY2FsY3VsYXRpb24nO1xuICAgIH1cblxuICAgIC8vIFx1OTVGNFx1OTY5NFx1NUY4OFx1NzdFRFx1NEVDRFx1NzEzNlx1OTUxOVx1OEJFRiAtPiBcdThCQjBcdTVGQzZcdTk1RUVcdTk4OThcbiAgICBpZiAoY2FyZC5zY2hlZHVsaW5nLmludGVydmFsIDwgMyAmJiBjYXJkLnNjaGVkdWxpbmcubGFwc2VzID4gMikge1xuICAgICAgcmV0dXJuICdtZW1vcnknO1xuICAgIH1cblxuICAgIC8vIFx1NjMwMVx1N0VFRFx1NTkzMVx1OEQyNSAtPiBcdTY5ODJcdTVGRjVcdTc0MDZcdTg5RTNcdTk1RUVcdTk4OThcbiAgICBjb25zdCByZWNlbnRMb2dzID0gbG9ncy5zbGljZSgtNSk7XG4gICAgY29uc3QgcmVjZW50RmFpbHVyZXMgPSByZWNlbnRMb2dzLmZpbHRlcihcbiAgICAgIGxvZyA9PiBsb2cucmVzcG9uc2UuZWFzZSA9PT0gJ2FnYWluJ1xuICAgICkubGVuZ3RoO1xuICAgIFxuICAgIGlmIChyZWNlbnRGYWlsdXJlcyA+PSAzKSB7XG4gICAgICByZXR1cm4gJ2NvbmNlcHQnO1xuICAgIH1cblxuICAgIHJldHVybiAndW5rbm93bic7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU2ODA3XHU3QjdFXHU3RURGXHU4QkExXG4gICAqL1xuICBnZXRUYWdTdGF0cygpOiB7IHRhZzogc3RyaW5nOyBjb3VudDogbnVtYmVyOyBjb3JyZWN0UmF0ZTogbnVtYmVyIH1bXSB7XG4gICAgY29uc3QgY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgICBjb25zdCB0YWdNYXAgPSBuZXcgTWFwPHN0cmluZywgeyB0b3RhbDogbnVtYmVyOyBjb3JyZWN0OiBudW1iZXI7IHJldmlld3M6IG51bWJlciB9PigpO1xuXG4gICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgIGNhcmQudGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgIGlmICghdGFnTWFwLmhhcyh0YWcpKSB7XG4gICAgICAgICAgdGFnTWFwLnNldCh0YWcsIHsgdG90YWw6IDAsIGNvcnJlY3Q6IDAsIHJldmlld3M6IDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdCA9IHRhZ01hcC5nZXQodGFnKSE7XG4gICAgICAgIHN0YXQudG90YWwrKztcbiAgICAgICAgc3RhdC5jb3JyZWN0ICs9IGNhcmQuc3RhdHMuY29ycmVjdENvdW50O1xuICAgICAgICBzdGF0LnJldmlld3MgKz0gY2FyZC5zdGF0cy50b3RhbFJldmlld3M7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHN0YXRzID0gQXJyYXkuZnJvbSh0YWdNYXAuZW50cmllcygpKS5tYXAoKFt0YWcsIGRhdGFdKSA9PiAoe1xuICAgICAgdGFnLFxuICAgICAgY291bnQ6IGRhdGEudG90YWwsXG4gICAgICBjb3JyZWN0UmF0ZTogZGF0YS5yZXZpZXdzID4gMCA/IGRhdGEuY29ycmVjdCAvIGRhdGEucmV2aWV3cyA6IDBcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gc3RhdHMuc29ydCgoYSwgYikgPT4gYi5jb3VudCAtIGEuY291bnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1NUI2Nlx1NEU2MFx1NjJBNVx1NTQ0QVxuICAgKi9cbiAgZ2VuZXJhdGVSZXBvcnQoZGF5czogbnVtYmVyID0gNyk6IHN0cmluZyB7XG4gICAgY29uc3QgZGFpbHlTdGF0cyA9IHRoaXMuZ2V0RGFpbHlTdGF0cyhkYXlzKTtcbiAgICBjb25zdCB7IHRoaXNXZWVrLCBsYXN0V2VlayB9ID0gdGhpcy5nZXRXZWVrbHlTdGF0cygpO1xuICAgIGNvbnN0IGRpZmZpY3VsdENhcmRzID0gdGhpcy5nZXREaWZmaWN1bHRDYXJkcyg1KTtcbiAgICBjb25zdCBkZWNrU3RhdHMgPSB0aGlzLmdldERlY2tTdGF0cygpO1xuXG4gICAgLy8gXHU4QkExXHU3Qjk3XHU2MDNCXHU4OUM4XHU2NTcwXHU2MzZFXG4gICAgY29uc3QgdG90YWxSZXZpZXdlZCA9IGRhaWx5U3RhdHMucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHMucmV2aWV3ZWQsIDApO1xuICAgIGNvbnN0IHRvdGFsQ29ycmVjdCA9IGRhaWx5U3RhdHMucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHMuY29ycmVjdENvdW50LCAwKTtcbiAgICBjb25zdCBhdmVyYWdlQ29ycmVjdFJhdGUgPSB0b3RhbFJldmlld2VkID4gMCA/IHRvdGFsQ29ycmVjdCAvIHRvdGFsUmV2aWV3ZWQgOiAwO1xuICAgIGNvbnN0IHRvdGFsVGltZSA9IGRhaWx5U3RhdHMucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHMudGltZVNwZW50LCAwKTtcblxuICAgIC8vIFx1OEQ4Qlx1NTJCRlx1NTIwNlx1Njc5MFxuICAgIGNvbnN0IHJlY2VudERheXMgPSBkYWlseVN0YXRzLnNsaWNlKC03KTtcbiAgICBjb25zdCBvbGRlckRheXMgPSBkYWlseVN0YXRzLnNsaWNlKC0xNCwgLTcpO1xuICAgIGNvbnN0IHJlY2VudFJhdGUgPSB0aGlzLmNhbGN1bGF0ZUF2ZXJhZ2VSYXRlKHJlY2VudERheXMpO1xuICAgIGNvbnN0IG9sZGVyUmF0ZSA9IHRoaXMuY2FsY3VsYXRlQXZlcmFnZVJhdGUob2xkZXJEYXlzKTtcbiAgICBjb25zdCB0cmVuZCA9IHJlY2VudFJhdGUgPiBvbGRlclJhdGUgPyAnXHVEODNEXHVEQ0M4IGltcHJvdmluZycgOiBcbiAgICAgICAgICAgICAgICAgIHJlY2VudFJhdGUgPCBvbGRlclJhdGUgPyAnXHVEODNEXHVEQ0M5IGRlY2xpbmluZycgOiAnXHUyN0ExXHVGRTBGIHN0YWJsZSc7XG5cbiAgICBsZXQgcmVwb3J0ID0gYCMgXHVEODNEXHVEQ0NBIExlYXJuaW5nIFJlcG9ydFxcblxcbmA7XG4gICAgcmVwb3J0ICs9IGAqKlBlcmlvZDoqKiBMYXN0ICR7ZGF5c30gZGF5c1xcbmA7XG4gICAgcmVwb3J0ICs9IGAqKkdlbmVyYXRlZDoqKiAke25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1cXG5cXG5gO1xuXG4gICAgcmVwb3J0ICs9IGAjIyBcdUQ4M0NcdURGQUYgT3ZlcmFsbCBQZXJmb3JtYW5jZVxcblxcbmA7XG4gICAgcmVwb3J0ICs9IGAtICoqQ2FyZHMgUmV2aWV3ZWQ6KiogJHt0b3RhbFJldmlld2VkfVxcbmA7XG4gICAgcmVwb3J0ICs9IGAtICoqQ29ycmVjdCBSYXRlOioqICR7KGF2ZXJhZ2VDb3JyZWN0UmF0ZSAqIDEwMCkudG9GaXhlZCgxKX0lXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gKipTdHVkeSBUaW1lOioqICR7dGhpcy5mb3JtYXRUaW1lKHRvdGFsVGltZSl9XFxuYDtcbiAgICByZXBvcnQgKz0gYC0gKipDdXJyZW50IFN0cmVhazoqKiAke3RoaXNXZWVrLnN0cmVha30gZGF5cyBcdUQ4M0RcdUREMjVcXG5gO1xuICAgIHJlcG9ydCArPSBgLSAqKlRyZW5kOioqICR7dHJlbmR9XFxuXFxuYDtcblxuICAgIHJlcG9ydCArPSBgIyMgXHVEODNEXHVEQ0M4IFdlZWsgQ29tcGFyaXNvblxcblxcbmA7XG4gICAgcmVwb3J0ICs9IGAjIyMgVGhpcyBXZWVrXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gUmV2aWV3czogJHt0aGlzV2Vlay50b3RhbFJldmlld3N9XFxuYDtcbiAgICByZXBvcnQgKz0gYC0gQ29ycmVjdCBSYXRlOiAkeyh0aGlzV2Vlay5hdmVyYWdlQ29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JVxcbmA7XG4gICAgcmVwb3J0ICs9IGAtIFRpbWU6ICR7dGhpcy5mb3JtYXRUaW1lKHRoaXNXZWVrLnRvdGFsVGltZVNwZW50KX1cXG5cXG5gO1xuXG4gICAgcmVwb3J0ICs9IGAjIyMgTGFzdCBXZWVrXFxuYDtcbiAgICByZXBvcnQgKz0gYC0gUmV2aWV3czogJHtsYXN0V2Vlay50b3RhbFJldmlld3N9XFxuYDtcbiAgICByZXBvcnQgKz0gYC0gQ29ycmVjdCBSYXRlOiAkeyhsYXN0V2Vlay5hdmVyYWdlQ29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JVxcbmA7XG4gICAgcmVwb3J0ICs9IGAtIFRpbWU6ICR7dGhpcy5mb3JtYXRUaW1lKGxhc3RXZWVrLnRvdGFsVGltZVNwZW50KX1cXG5cXG5gO1xuXG4gICAgY29uc3QgcmV2aWV3Q2hhbmdlID0gdGhpc1dlZWsudG90YWxSZXZpZXdzIC0gbGFzdFdlZWsudG90YWxSZXZpZXdzO1xuICAgIGNvbnN0IHJhdGVDaGFuZ2UgPSAodGhpc1dlZWsuYXZlcmFnZUNvcnJlY3RSYXRlIC0gbGFzdFdlZWsuYXZlcmFnZUNvcnJlY3RSYXRlKSAqIDEwMDtcbiAgICBcbiAgICBpZiAocmV2aWV3Q2hhbmdlID4gMCkge1xuICAgICAgcmVwb3J0ICs9IGBcdUQ4M0RcdURDQUEgWW91IHJldmlld2VkICoqJHtyZXZpZXdDaGFuZ2V9IG1vcmUgY2FyZHMqKiB0aGlzIHdlZWshXFxuYDtcbiAgICB9XG4gICAgaWYgKHJhdGVDaGFuZ2UgPiA1KSB7XG4gICAgICByZXBvcnQgKz0gYFx1RDgzQ1x1REY4OSBZb3VyIGFjY3VyYWN5IGltcHJvdmVkIGJ5ICoqJHtyYXRlQ2hhbmdlLnRvRml4ZWQoMSl9JSoqIVxcbmA7XG4gICAgfVxuICAgIHJlcG9ydCArPSBgXFxuYDtcblxuICAgIGlmIChkaWZmaWN1bHRDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXBvcnQgKz0gYCMjIFx1MjZBMFx1RkUwRiBDYXJkcyBOZWVkaW5nIEF0dGVudGlvblxcblxcbmA7XG4gICAgICBkaWZmaWN1bHRDYXJkcy5mb3JFYWNoKChkYywgaSkgPT4ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuRW1vamkgPSB7XG4gICAgICAgICAgJ2NvbmNlcHQnOiAnXHVEODNFXHVEREUwJyxcbiAgICAgICAgICAnbWVtb3J5JzogJ1x1RDgzRFx1RENBRCcsXG4gICAgICAgICAgJ2NhbGN1bGF0aW9uJzogJ1x1RDgzRFx1REQyMicsXG4gICAgICAgICAgJ3Vua25vd24nOiAnXHUyNzUzJ1xuICAgICAgICB9O1xuICAgICAgICByZXBvcnQgKz0gYCR7aSArIDF9LiAqKiR7ZGMuY2FyZC5mcm9udC5zdWJzdHJpbmcoMCwgNTApfSR7ZGMuY2FyZC5mcm9udC5sZW5ndGggPiA1MCA/ICcuLi4nIDogJyd9KipcXG5gO1xuICAgICAgICByZXBvcnQgKz0gYCAgIC0gRXJyb3JzOiAke2RjLmVycm9yQ291bnR9IHwgUGF0dGVybjogJHtwYXR0ZXJuRW1vamlbZGMucGF0dGVybl19ICR7ZGMucGF0dGVybn1cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYCAgIC0gQXZnIFRpbWU6ICR7ZGMuYXZlcmFnZVRpbWUudG9GaXhlZCgxKX1zIHwgRGlmZmljdWx0eTogJHsoZGMuY2FyZC5zdGF0cy5kaWZmaWN1bHR5ICogMTAwKS50b0ZpeGVkKDApfSVcXG5cXG5gO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVwb3J0ICs9IGAjIyBcdUQ4M0RcdURDREEgRGVjayBPdmVydmlld1xcblxcbmA7XG4gICAgZGVja1N0YXRzLmZvckVhY2goZGVjayA9PiB7XG4gICAgICByZXBvcnQgKz0gYCMjIyAke2RlY2suZGVja05hbWV9XFxuYDtcbiAgICAgIHJlcG9ydCArPSBgLSBUb3RhbDogJHtkZWNrLnRvdGFsQ2FyZHN9IHwgRHVlOiAke2RlY2suZHVlQ2FyZHN9IHwgTmV3OiAke2RlY2submV3Q2FyZHN9XFxuYDtcbiAgICAgIHJlcG9ydCArPSBgLSBDb3JyZWN0IFJhdGU6ICR7KGRlY2suY29ycmVjdFJhdGUgKiAxMDApLnRvRml4ZWQoMSl9JVxcbmA7XG4gICAgICByZXBvcnQgKz0gYC0gQXZnIEludGVydmFsOiAke2RlY2suYXZlcmFnZUludGVydmFsLnRvRml4ZWQoMSl9IGRheXNcXG5cXG5gO1xuICAgIH0pO1xuXG4gICAgcmVwb3J0ICs9IGAjIyBcdUQ4M0RcdURDQTEgUmVjb21tZW5kYXRpb25zXFxuXFxuYDtcblxuICAgIC8vIFx1NzUxRlx1NjIxMFx1NUVGQVx1OEJBRVxuICAgIGlmIChhdmVyYWdlQ29ycmVjdFJhdGUgPCAwLjcpIHtcbiAgICAgIHJlcG9ydCArPSBgLSBcdTI2QTEgWW91ciBjb3JyZWN0IHJhdGUgaXMgYmVsb3cgNzAlLiBDb25zaWRlciByZXZpZXdpbmcgZGlmZmljdWx0IGNhcmRzIG1vcmUgZnJlcXVlbnRseS5cXG5gO1xuICAgIH1cbiAgICBpZiAoZGlmZmljdWx0Q2FyZHMubGVuZ3RoID4gNSkge1xuICAgICAgcmVwb3J0ICs9IGAtIFx1RDgzRFx1RENENiBZb3UgaGF2ZSBtYW55IGRpZmZpY3VsdCBjYXJkcy4gVHJ5IGJyZWFraW5nIGNvbXBsZXggY29uY2VwdHMgaW50byBzbWFsbGVyIGZsYXNoY2FyZHMuXFxuYDtcbiAgICB9XG4gICAgaWYgKHRoaXNXZWVrLnN0cmVhayA+IDcpIHtcbiAgICAgIHJlcG9ydCArPSBgLSBcdUQ4M0NcdURGODkgQW1hemluZyBzdHJlYWshIEtlZXAgdXAgdGhlIGNvbnNpc3RlbmN5IVxcbmA7XG4gICAgfVxuICAgIGlmICh0b3RhbFRpbWUgLyB0b3RhbFJldmlld2VkID4gMzApIHtcbiAgICAgIHJlcG9ydCArPSBgLSBcdTIzRjFcdUZFMEYgQXZlcmFnZSByZXZpZXcgdGltZSBpcyBoaWdoLiBDb25zaWRlciBzaW1wbGlmeWluZyBjYXJkIGNvbnRlbnQuXFxuYDtcbiAgICB9XG4gICAgaWYgKGRlY2tTdGF0cy5zb21lKGQgPT4gZC5kdWVDYXJkcyA+IGQudG90YWxDYXJkcyAqIDAuNSkpIHtcbiAgICAgIHJlcG9ydCArPSBgLSBcdUQ4M0RcdURDQzUgU29tZSBkZWNrcyBoYXZlIG1hbnkgb3ZlcmR1ZSBjYXJkcy4gRm9jdXMgb24gY2F0Y2hpbmcgdXAgd2l0aCB0aGVzZS5cXG5gO1xuICAgIH1cblxuICAgIHJldHVybiByZXBvcnQ7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUF2ZXJhZ2VSYXRlKHN0YXRzOiBEYWlseVN0YXRzW10pOiBudW1iZXIge1xuICAgIGNvbnN0IHRvdGFsID0gc3RhdHMucmVkdWNlKChzdW0sIHMpID0+IHN1bSArIHMucmV2aWV3ZWQsIDApO1xuICAgIGNvbnN0IGNvcnJlY3QgPSBzdGF0cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5jb3JyZWN0Q291bnQsIDApO1xuICAgIHJldHVybiB0b3RhbCA+IDAgPyBjb3JyZWN0IC8gdG90YWwgOiAwO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXRUaW1lKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoc2Vjb25kcyAlIDM2MDApIC8gNjApO1xuICAgIFxuICAgIGlmIChob3VycyA+IDApIHtcbiAgICAgIHJldHVybiBgJHtob3Vyc31oICR7bWludXRlc31tYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke21pbnV0ZXN9bWA7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU3MEVEXHU1MjlCXHU1NkZFXHU2NTcwXHU2MzZFXHVGRjA4XHU3NTI4XHU0RThFXHU2NUU1XHU1Mzg2XHU4OUM2XHU1NkZFXHVGRjA5XG4gICAqL1xuICBnZXRIZWF0bWFwRGF0YShkYXlzOiBudW1iZXIgPSA5MCk6IHsgZGF0ZTogc3RyaW5nOyBjb3VudDogbnVtYmVyOyBpbnRlbnNpdHk6IG51bWJlciB9W10ge1xuICAgIGNvbnN0IGRhaWx5U3RhdHMgPSB0aGlzLmdldERhaWx5U3RhdHMoZGF5cyk7XG4gICAgY29uc3QgbWF4UmV2aWV3cyA9IE1hdGgubWF4KC4uLmRhaWx5U3RhdHMubWFwKHMgPT4gcy5yZXZpZXdlZCkpO1xuXG4gICAgcmV0dXJuIGRhaWx5U3RhdHMubWFwKHN0YXQgPT4gKHtcbiAgICAgIGRhdGU6IHN0YXQuZGF0ZSxcbiAgICAgIGNvdW50OiBzdGF0LnJldmlld2VkLFxuICAgICAgaW50ZW5zaXR5OiBtYXhSZXZpZXdzID4gMCA/IHN0YXQucmV2aWV3ZWQgLyBtYXhSZXZpZXdzIDogMFxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAqIFx1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuICovXG5hc3luYyBjbGVhckFsbFN0YXRzKCk6IFByb21pc2U8dm9pZD4ge1xuICAvLyBcdTZFMDVcdTk2NjRcdTYyNDBcdTY3MDlcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddID0gW107XG4gIFxuICAvLyBcdTkxQ0RcdTdGNkVcdTYyNDBcdTY3MDlcdTUzNjFcdTcyNDdcdTc2ODRcdTdFREZcdThCQTFcdTRGRTFcdTYwNkZcbiAgY29uc3QgY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKTtcbiAgZm9yIChjb25zdCBjYXJkIG9mIGNhcmRzKSB7XG4gICAgY2FyZC5zdGF0cyA9IHtcbiAgICAgIHRvdGFsUmV2aWV3czogMCxcbiAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgIGF2ZXJhZ2VUaW1lOiAwLFxuICAgICAgbGFzdFJldmlldzogMCxcbiAgICAgIGRpZmZpY3VsdHk6IDAuM1xuICAgIH07XG4gICAgY2FyZC5zY2hlZHVsaW5nID0ge1xuICAgICAgaW50ZXJ2YWw6IDAsXG4gICAgICBlYXNlOiAyLjUsICAvLyBcdTRGN0ZcdTc1MjggZWFzZSBcdTgwMENcdTRFMERcdTY2MkYgZWFzZUZhY3RvclxuICAgICAgZHVlOiBEYXRlLm5vdygpLFxuICAgICAgbGFwc2VzOiAwLFxuICAgICAgcmVwczogMCxcbiAgICAgIHN0YXRlOiAnbmV3J1xuICAgIH07XG4gICAgYXdhaXQgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlci51cGRhdGVDYXJkKGNhcmQpO1xuICB9XG4gIFxuICAvLyBcdTRGN0ZcdTc1MjggZGF0YU1hbmFnZXIgXHU0RkREXHU1QjU4XG4gIGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnNhdmUoKTtcbn1cblxuLyoqXG4gKiBcdTZFMDVcdTk2NjRcdTYzMDdcdTVCOUFcdTU5MjlcdTY1NzBcdTRFNEJcdTUyNERcdTc2ODRcdTdFREZcdThCQTFcdTY1NzBcdTYzNkVcbiAqL1xuYXN5bmMgY2xlYXJTdGF0c0JlZm9yZURhdGUoZGF5c0FnbzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGN1dG9mZkRhdGUgPSBuZXcgRGF0ZSgpO1xuICBjdXRvZmZEYXRlLnNldERhdGUoY3V0b2ZmRGF0ZS5nZXREYXRlKCkgLSBkYXlzQWdvKTtcbiAgY29uc3QgY3V0b2ZmVGltZXN0YW1wID0gY3V0b2ZmRGF0ZS5nZXRUaW1lKCk7XG4gIFxuICAvLyBcdTUzRUFcdTRGRERcdTc1NTlcdTYzMDdcdTVCOUFcdTY1RTVcdTY3MUZcdTRFNEJcdTU0MEVcdTc2ODRcdTU5MERcdTRFNjBcdTY1RTVcdTVGRDdcbiAgY29uc3QgbG9ncyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXTtcbiAgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddID0gbG9ncy5maWx0ZXIoXG4gICAgbG9nID0+IGxvZy50aW1lc3RhbXAgPj0gY3V0b2ZmVGltZXN0YW1wXG4gICk7XG4gIFxuICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5zYXZlKCk7XG59XG5cbi8qKlxuICogXHU2RTA1XHU5NjY0XHU3Mjc5XHU1QjlBXHU1MzYxXHU3RUM0XHU3Njg0XHU3RURGXHU4QkExXHU2NTcwXHU2MzZFXG4gKi9cbmFzeW5jIGNsZWFyRGVja1N0YXRzKGRlY2tOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldEFsbEZsYXNoY2FyZHMoKVxuICAgIC5maWx0ZXIoY2FyZCA9PiBjYXJkLmRlY2sgPT09IGRlY2tOYW1lKTtcbiAgXG4gIGZvciAoY29uc3QgY2FyZCBvZiBjYXJkcykge1xuICAgIGNhcmQuc3RhdHMgPSB7XG4gICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICBjb3JyZWN0Q291bnQ6IDAsXG4gICAgICBhdmVyYWdlVGltZTogMCxcbiAgICAgIGxhc3RSZXZpZXc6IDAsXG4gICAgICBkaWZmaWN1bHR5OiAwLjNcbiAgICB9O1xuICAgIGNhcmQuc2NoZWR1bGluZyA9IHtcbiAgICAgIGludGVydmFsOiAwLFxuICAgICAgZWFzZTogMi41LCAgLy8gXHU0RjdGXHU3NTI4IGVhc2VcbiAgICAgIGR1ZTogRGF0ZS5ub3coKSxcbiAgICAgIGxhcHNlczogMCxcbiAgICAgIHJlcHM6IDAsXG4gICAgICBzdGF0ZTogJ25ldydcbiAgICB9O1xuICAgIGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIudXBkYXRlQ2FyZChjYXJkKTtcbiAgfVxuICBcbiAgLy8gXHU2RTA1XHU5NjY0XHU4QkU1XHU1MzYxXHU3RUM0XHU3Njg0XHU1OTBEXHU0RTYwXHU2NUU1XHU1RkQ3XG4gIGNvbnN0IGNhcmRJZHMgPSBuZXcgU2V0KGNhcmRzLm1hcChjID0+IGMuaWQpKTtcbiAgY29uc3QgbG9ncyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXJbJ3Jldmlld0xvZ3MnXSB8fCBbXTtcbiAgdGhpcy5wbHVnaW4uZmxhc2hjYXJkTWFuYWdlclsncmV2aWV3TG9ncyddID0gbG9ncy5maWx0ZXIoXG4gICAgbG9nID0+ICFjYXJkSWRzLmhhcyhsb2cuZmxhc2hjYXJkSWQpXG4gICk7XG4gIFxuICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5zYXZlKCk7XG59XG59XG5cblxuIiwgIi8vIGRhdGEgbWFuYWdlci50c1xuaW1wb3J0IHsgQXBwLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIExlYXJuaW5nU3lzdGVtUGx1Z2luIGZyb20gJy4uL21haW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRlbnRVbml0IHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ2hpZ2hsaWdodCcgfCAnYm9sZCcgfCAndGFnJyB8ICdjdXN0b20nIHwgJ1FBJyB8ICdjbG96ZSd8J3RleHQnOyAvLyBcdTZERkJcdTUyQTAgcWEgXHU1NDhDIGNsb3plIFx1N0M3Qlx1NTc4QlxuICBjb250ZW50OiBzdHJpbmc7XG4gIGFuc3dlcj86IHN0cmluZzsgLy8gXHU3NTI4XHU0RThFIFFBIFx1NTM2MVx1NzI0N1x1NzY4NFx1N0I1NFx1Njg0OFxuICBmdWxsQ29udGV4dD86IHN0cmluZztcbiAgc291cmNlOiB7XG4gICAgZmlsZTogc3RyaW5nO1xuICAgIHBvc2l0aW9uOiB7XG4gICAgICBzdGFydDogbnVtYmVyO1xuICAgICAgZW5kOiBudW1iZXI7XG4gICAgICBsaW5lOiBudW1iZXI7XG4gICAgfTtcbiAgICBibG9ja0lkPzogc3RyaW5nO1xuICAgIGhlYWRpbmc/OiBzdHJpbmc7XG4gICAgYW5jaG9yTGluazogc3RyaW5nO1xuICB9O1xuICBleHRyYWN0UnVsZToge1xuICAgIHJ1bGVJZDogc3RyaW5nO1xuICAgIHJ1bGVOYW1lOiBzdHJpbmc7XG4gICAgZXh0cmFjdGVkQnk6ICdhdXRvJyB8ICdtYW51YWwnO1xuICB9O1xuICBtZXRhZGF0YToge1xuICAgIGNyZWF0ZWRBdDogbnVtYmVyO1xuICAgIHVwZGF0ZWRBdDogbnVtYmVyO1xuICAgIHRhZ3M6IHN0cmluZ1tdO1xuICAgIGNvbG9yPzogc3RyaW5nO1xuICAgIGN1c3RvbURhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICB9O1xuICBhbm5vdGF0aW9uSWQ/OiBzdHJpbmc7XG4gIGZsYXNoY2FyZElkczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhTWFuYWdlciB7XG4gIHByaXZhdGUgZGF0YUZvbGRlcjogc3RyaW5nO1xuICBwcml2YXRlIGNvbnRlbnRVbml0czogTWFwPHN0cmluZywgQ29udGVudFVuaXQ+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGZpbGVJbmRleDogTWFwPHN0cmluZywgc3RyaW5nW10+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGNhY2hlOiBNYXA8c3RyaW5nLCB7IGRhdGE6IENvbnRlbnRVbml0OyB0aW1lc3RhbXA6IG51bWJlciB9PjtcbiAgcHJpdmF0ZSBDQUNIRV9UVEwgPSA1ICogNjAgKiAxMDAwOyAvLyA1XHU1MjA2XHU5NDlGXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHA6IEFwcCxcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW5cbiAgKSB7XG4gICAgdGhpcy5kYXRhRm9sZGVyID0gYCR7dGhpcy5hcHAudmF1bHQuY29uZmlnRGlyfS9wbHVnaW5zL2xlYXJuaW5nLXN5c3RlbS9kYXRhYDtcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgLy8gXHU3ODZFXHU0RkREXHU2NTcwXHU2MzZFXHU2NTg3XHU0RUY2XHU1OTM5XHU1QjU4XHU1NzI4XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVEYXRhRm9sZGVyKCk7XG4gICAgXG4gICAgLy8gXHU1MkEwXHU4RjdEXHU3M0IwXHU2NzA5XHU2NTcwXHU2MzZFXG4gICAgYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgIGF3YWl0IHRoaXMubG9hZERlbGV0ZUhpc3RvcnkoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZW5zdXJlRGF0YUZvbGRlcigpIHtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcbiAgICBcbiAgICAvLyBcdTUyMUJcdTVFRkFcdTRFM0JcdTY1NzBcdTYzNkVcdTY1ODdcdTRFRjZcdTU5MzlcbiAgICBpZiAoIShhd2FpdCBhZGFwdGVyLmV4aXN0cyh0aGlzLmRhdGFGb2xkZXIpKSkge1xuICAgICAgYXdhaXQgYWRhcHRlci5ta2Rpcih0aGlzLmRhdGFGb2xkZXIpO1xuICAgIH1cblxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NUI1MFx1NjU4N1x1NEVGNlx1NTkzOVxuICAgIGNvbnN0IHN1YmZvbGRlcnMgPSBbJ2luZGV4ZXMnLCAnY29uZmlnJywgJ2NhY2hlJ107XG4gICAgZm9yIChjb25zdCBmb2xkZXIgb2Ygc3ViZm9sZGVycykge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vJHtmb2xkZXJ9YDtcbiAgICAgIGlmICghKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpKSkge1xuICAgICAgICBhd2FpdCBhZGFwdGVyLm1rZGlyKHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZERhdGEoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnRlbnRQYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9jb250ZW50LXVuaXRzLmpzb25gO1xuICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG5cbiAgICAgIGlmIChhd2FpdCBhZGFwdGVyLmV4aXN0cyhjb250ZW50UGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFkYXB0ZXIucmVhZChjb250ZW50UGF0aCk7XG4gICAgICAgIGNvbnN0IHVuaXRzOiBDb250ZW50VW5pdFtdID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgdW5pdCBvZiB1bml0cykge1xuICAgICAgICAgIHRoaXMuY29udGVudFVuaXRzLnNldCh1bml0LmlkLCB1bml0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBcdTY3ODRcdTVFRkFcdTY1ODdcdTRFRjZcdTdEMjJcdTVGMTVcbiAgICAgICAgICBpZiAoIXRoaXMuZmlsZUluZGV4Lmhhcyh1bml0LnNvdXJjZS5maWxlKSkge1xuICAgICAgICAgICAgdGhpcy5maWxlSW5kZXguc2V0KHVuaXQuc291cmNlLmZpbGUsIFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5maWxlSW5kZXguZ2V0KHVuaXQuc291cmNlLmZpbGUpIS5wdXNoKHVuaXQuaWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZGF0YTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZUNvbnRlbnRVbml0KHVuaXQ6IENvbnRlbnRVbml0KSB7XG4gICAgdGhpcy5jb250ZW50VW5pdHMuc2V0KHVuaXQuaWQsIHVuaXQpO1xuICAgIFxuICAgIC8vIFx1NjZGNFx1NjVCMFx1NjU4N1x1NEVGNlx1N0QyMlx1NUYxNVxuICAgIGlmICghdGhpcy5maWxlSW5kZXguaGFzKHVuaXQuc291cmNlLmZpbGUpKSB7XG4gICAgICB0aGlzLmZpbGVJbmRleC5zZXQodW5pdC5zb3VyY2UuZmlsZSwgW10pO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZmlsZUluZGV4LmdldCh1bml0LnNvdXJjZS5maWxlKSEuaW5jbHVkZXModW5pdC5pZCkpIHtcbiAgICAgIHRoaXMuZmlsZUluZGV4LmdldCh1bml0LnNvdXJjZS5maWxlKSEucHVzaCh1bml0LmlkKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnBlcnNpc3QoKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVDb250ZW50VW5pdHModW5pdHM6IENvbnRlbnRVbml0W10pIHtcbiAgICBmb3IgKGNvbnN0IHVuaXQgb2YgdW5pdHMpIHtcbiAgICAgIHRoaXMuY29udGVudFVuaXRzLnNldCh1bml0LmlkLCB1bml0KTtcbiAgICAgIFxuICAgICAgaWYgKCF0aGlzLmZpbGVJbmRleC5oYXModW5pdC5zb3VyY2UuZmlsZSkpIHtcbiAgICAgICAgdGhpcy5maWxlSW5kZXguc2V0KHVuaXQuc291cmNlLmZpbGUsIFtdKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5maWxlSW5kZXguZ2V0KHVuaXQuc291cmNlLmZpbGUpIS5pbmNsdWRlcyh1bml0LmlkKSkge1xuICAgICAgICB0aGlzLmZpbGVJbmRleC5nZXQodW5pdC5zb3VyY2UuZmlsZSkhLnB1c2godW5pdC5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cblxuICBnZXRDb250ZW50VW5pdChpZDogc3RyaW5nKTogQ29udGVudFVuaXQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRVbml0cy5nZXQoaWQpO1xuICB9XG5cbiAgZ2V0Q29udGVudFVuaXRzQnlGaWxlKGZpbGVQYXRoOiBzdHJpbmcpOiBDb250ZW50VW5pdFtdIHtcbiAgICBjb25zdCBpZHMgPSB0aGlzLmZpbGVJbmRleC5nZXQoZmlsZVBhdGgpIHx8IFtdO1xuICAgIHJldHVybiBpZHMubWFwKGlkID0+IHRoaXMuY29udGVudFVuaXRzLmdldChpZCkpLmZpbHRlcihCb29sZWFuKSBhcyBDb250ZW50VW5pdFtdO1xuICB9XG5cbiAgZ2V0Q29udGVudFVuaXRzQnlUeXBlKHR5cGU6IENvbnRlbnRVbml0Wyd0eXBlJ10pOiBDb250ZW50VW5pdFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNvbnRlbnRVbml0cy52YWx1ZXMoKSkuZmlsdGVyKHVuaXQgPT4gdW5pdC50eXBlID09PSB0eXBlKTtcbiAgfVxuXG4gIGdldEFsbENvbnRlbnRVbml0cyhwYWdlPzogbnVtYmVyLCBzaXplPzogbnVtYmVyKTogQ29udGVudFVuaXRbXSB7XG4gICAgY29uc3QgYWxsID0gQXJyYXkuZnJvbSh0aGlzLmNvbnRlbnRVbml0cy52YWx1ZXMoKSk7XG4gICAgaWYgKCFwYWdlIHx8ICFzaXplKSByZXR1cm4gYWxsO1xuICAgIHJldHVybiBhbGwuc2xpY2UocGFnZSAqIHNpemUsIChwYWdlICsgMSkgKiBzaXplKTtcbiAgfVxuXG5cbiAgXG4gIC8vIFx1NjcwMFx1OEZEMVx1NTIyMFx1OTY2NFxucHJpdmF0ZSBkZWxldGVkVW5pdHM6IEFycmF5PHtcbiAgdHlwZTogJ25vdGUnO1xuICBpZDogc3RyaW5nO1xuICB1bml0OiBDb250ZW50VW5pdDtcbiAgZGVsZXRlZEF0OiBudW1iZXI7XG4gIGRlbGV0ZWRCeTogc3RyaW5nO1xuICBhc3NvY2lhdGVkQ2FyZElkczogc3RyaW5nW107XG59PiA9IFtdO1xuXG5hc3luYyBkZWxldGVDb250ZW50VW5pdChpZDogc3RyaW5nLCByZWFzb246ICd1c2VyLWRlbGV0ZWQnIHwgJ2ZpbGUtZGVsZXRlZCcgPSAndXNlci1kZWxldGVkJykge1xuICBjb25zdCB1bml0ID0gdGhpcy5jb250ZW50VW5pdHMuZ2V0KGlkKTtcbiAgaWYgKHVuaXQpIHtcbiAgICBcbiAgICAvLyBcdTI3MDUgXHU2NUUwXHU4QkJBIGZsYXNoY2FyZElkcyBcdTY2MkZcdTU0MjZcdTRFM0FcdTdBN0FcdUZGMENcdTkwRkRcdTUyQThcdTYwMDFcdTY3RTVcdTYyN0VcdTRFMDBcdTZCMjFcdUZGMDhcdTk2MzJcdTZCNjJcdTY1NzBcdTYzNkVcdTRFMERcdTU0MENcdTZCNjVcdUZGMDlcbiAgICBjb25zdCBhbGxDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0QWxsRmxhc2hjYXJkcygpO1xuICAgIGNvbnN0IGFzc29jaWF0ZWRDYXJkSWRzID0gYWxsQ2FyZHNcbiAgICAgIC5maWx0ZXIoY2FyZCA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gY2FyZC5zb3VyY2VDb250ZW50SWQgPT09IGlkO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KVxuICAgICAgLm1hcChjYXJkID0+IGNhcmQuaWQpO1xuICAgIFxuICAgIC8vIFx1RDgzRFx1RENERCBcdTRGRERcdTVCNThcdTUyMzBcdTUyMjBcdTk2NjRcdTUzODZcdTUzRjJcbiAgICB0aGlzLmRlbGV0ZWRVbml0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICdub3RlJyxcbiAgICAgIGlkOiB1bml0LmlkLFxuICAgICAgdW5pdDogeyAuLi51bml0IH0sXG4gICAgICBkZWxldGVkQXQ6IERhdGUubm93KCksXG4gICAgICBkZWxldGVkQnk6IHJlYXNvbixcbiAgICAgIGFzc29jaWF0ZWRDYXJkSWRzOiBhc3NvY2lhdGVkQ2FyZElkc1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFx1NTNFQVx1NEZERFx1NzU1OTdcdTU5MjlcdTUxODVcdTc2ODRcdThCQjBcdTVGNTVcbiAgICBjb25zdCBzZXZlbkRheXNBZ28gPSBEYXRlLm5vdygpIC0gKDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICB0aGlzLmRlbGV0ZWRVbml0cyA9IHRoaXMuZGVsZXRlZFVuaXRzLmZpbHRlcihkID0+IGQuZGVsZXRlZEF0ID4gc2V2ZW5EYXlzQWdvKTtcbiAgICBcbiAgICB0aGlzLmNvbnRlbnRVbml0cy5kZWxldGUoaWQpO1xuICAgIFxuICAgIC8vIFx1NjZGNFx1NjVCMFx1NjU4N1x1NEVGNlx1N0QyMlx1NUYxNVxuICAgIGNvbnN0IGZpbGVVbml0cyA9IHRoaXMuZmlsZUluZGV4LmdldCh1bml0LnNvdXJjZS5maWxlKTtcbiAgICBpZiAoZmlsZVVuaXRzKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGZpbGVVbml0cy5pbmRleE9mKGlkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGZpbGVVbml0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFxuXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0RGVsZXRlSGlzdG9yeSgpO1xuICB9XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1ODNCN1x1NTNENlx1NjcwMFx1OEZEMVx1NTIyMFx1OTY2NFx1NzY4NFx1N0IxNFx1OEJCMFxuZ2V0UmVjZW50bHlEZWxldGVkVW5pdHMoZGF5czogbnVtYmVyID0gNyk6IEFycmF5PHtcbiAgdHlwZTogJ25vdGUnO1xuICBpZDogc3RyaW5nO1xuICB1bml0OiBDb250ZW50VW5pdDtcbiAgZGVsZXRlZEF0OiBudW1iZXI7XG4gIGRlbGV0ZWRCeTogc3RyaW5nO1xuICBhc3NvY2lhdGVkQ2FyZElkczogc3RyaW5nW107XG59PiB7XG4gIGNvbnN0IGN1dG9mZiA9IERhdGUubm93KCkgLSAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICByZXR1cm4gdGhpcy5kZWxldGVkVW5pdHMuZmlsdGVyKGQgPT4gZC5kZWxldGVkQXQgPiBjdXRvZmYpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuZGVsZXRlZEF0IC0gYS5kZWxldGVkQXQpOyAvLyBcdTYzMDlcdTY1RjZcdTk1RjRcdTUwMTJcdTVFOEZcbn1cblxuLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU2MDYyXHU1OTBEXHU3QjE0XHU4QkIwXG5hc3luYyByZXN0b3JlQ29udGVudFVuaXQoZGVsZXRlZEl0ZW06IHR5cGVvZiB0aGlzLmRlbGV0ZWRVbml0c1swXSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NURGMlx1NUI1OFx1NTcyOFxuICAgIGlmICh0aGlzLmNvbnRlbnRVbml0cy5oYXMoZGVsZXRlZEl0ZW0udW5pdC5pZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2MDYyXHU1OTBEXHU3QjE0XHU4QkIwXG4gICAgdGhpcy5jb250ZW50VW5pdHMuc2V0KGRlbGV0ZWRJdGVtLnVuaXQuaWQsIGRlbGV0ZWRJdGVtLnVuaXQpO1xuICAgIFxuICAgIC8vIFx1NjA2Mlx1NTkwRFx1NjU4N1x1NEVGNlx1N0QyMlx1NUYxNVxuICAgIGlmICghdGhpcy5maWxlSW5kZXguaGFzKGRlbGV0ZWRJdGVtLnVuaXQuc291cmNlLmZpbGUpKSB7XG4gICAgICB0aGlzLmZpbGVJbmRleC5zZXQoZGVsZXRlZEl0ZW0udW5pdC5zb3VyY2UuZmlsZSwgW10pO1xuICAgIH1cbiAgICB0aGlzLmZpbGVJbmRleC5nZXQoZGVsZXRlZEl0ZW0udW5pdC5zb3VyY2UuZmlsZSkhLnB1c2goZGVsZXRlZEl0ZW0udW5pdC5pZCk7XG4gICAgXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gICAgXG4gICAgLy8gXHU0RUNFXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXHU0RTJEXHU3OUZCXHU5NjY0XG4gICAgdGhpcy5kZWxldGVkVW5pdHMgPSB0aGlzLmRlbGV0ZWRVbml0cy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBkZWxldGVkSXRlbS5pZCk7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0RGVsZXRlSGlzdG9yeSgpO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc3RvcmluZyBjb250ZW50IHVuaXQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBcdTY1QjBcdTU4OUVcdUZGMUFcdTZDMzhcdTRFNDVcdTUyMjBcdTk2NjRcdTdCMTRcdThCQjBcdUZGMDhcdTRFQ0VcdTUzODZcdTUzRjJcdTRFMkRcdTc5RkJcdTk2NjRcdUZGMDlcbmFzeW5jIHBlcm1hbmVudGx5RGVsZXRlQ29udGVudFVuaXQoZGVsZXRlZEl0ZW1JZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgdGhpcy5kZWxldGVkVW5pdHMgPSB0aGlzLmRlbGV0ZWRVbml0cy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBkZWxldGVkSXRlbUlkKTtcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3REZWxldGVIaXN0b3J5KCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGVybWFuZW50bHkgZGVsZXRpbmcgY29udGVudCB1bml0OicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU0RTAwXHU5NTJFXHU2RTA1XHU3QTdBXHU3QjE0XHU4QkIwXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXG5hc3luYyBjbGVhckRlbGV0ZUhpc3RvcnkoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgY29uc3QgY291bnQgPSB0aGlzLmRlbGV0ZWRVbml0cy5sZW5ndGg7XG4gIHRoaXMuZGVsZXRlZFVuaXRzID0gW107XG4gIGF3YWl0IHRoaXMucGVyc2lzdERlbGV0ZUhpc3RvcnkoKTtcbiAgcmV0dXJuIGNvdW50O1xufVxuXG5wcml2YXRlIGFzeW5jIHBlcnNpc3REZWxldGVIaXN0b3J5KCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2RlbGV0ZWQtdW5pdHMuanNvbmA7XG4gICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZGVsZXRlZFVuaXRzLCBudWxsLCAyKTtcbiAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGgsIGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBlcnNpc3RpbmcgZGVsZXRlIGhpc3Rvcnk6JywgZXJyb3IpO1xuICB9XG59XG5cbnByaXZhdGUgYXN5bmMgbG9hZERlbGV0ZUhpc3RvcnkoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vZGVsZXRlZC11bml0cy5qc29uYDtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgIGlmIChhd2FpdCBhZGFwdGVyLmV4aXN0cyhwYXRoKSkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFkYXB0ZXIucmVhZChwYXRoKTtcbiAgICAgIHRoaXMuZGVsZXRlZFVuaXRzID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIFxuICAgICAgLy8gXHU2RTA1XHU3NDA2XHU4RDg1XHU4RkM3N1x1NTkyOVx1NzY4NFx1OEJCMFx1NUY1NVxuICAgICAgY29uc3Qgc2V2ZW5EYXlzQWdvID0gRGF0ZS5ub3coKSAtICg3ICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgICB0aGlzLmRlbGV0ZWRVbml0cyA9IHRoaXMuZGVsZXRlZFVuaXRzLmZpbHRlcihkID0+IGQuZGVsZXRlZEF0ID4gc2V2ZW5EYXlzQWdvKTtcbiAgICAgIGF3YWl0IHRoaXMucGVyc2lzdERlbGV0ZUhpc3RvcnkoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBkZWxldGUgaGlzdG9yeTonLCBlcnJvcik7XG4gIH1cbn1cblxuXG4gIFxuXG5cblxuICAvKiogXHU1QkY5XHU1OTE2XHU3RURGXHU0RTAwXHU0RkREXHU1QjU4XHU1MTY1XHU1M0UzICovXG4gIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gIH1cbiAgXG4gIHByaXZhdGUgYXN5bmMgcGVyc2lzdCgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudFBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2NvbnRlbnQtdW5pdHMuanNvbmA7XG4gICAgICBjb25zdCB1bml0cyA9IEFycmF5LmZyb20odGhpcy5jb250ZW50VW5pdHMudmFsdWVzKCkpO1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHVuaXRzLCBudWxsLCAyKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShjb250ZW50UGF0aCwgZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFx1NEZERFx1NUI1OFx1N0QyMlx1NUYxNVxuICAgICAgY29uc3QgaW5kZXhQYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9pbmRleGVzL2ZpbGUtaW5kZXguanNvbmA7XG4gICAgICBjb25zdCBpbmRleERhdGEgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuZmlsZUluZGV4KSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoaW5kZXhQYXRoLCBpbmRleERhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwZXJzaXN0aW5nIGRhdGE6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuICAgIC8vIFx1RDgzRFx1REQyNyBcdTRGMThcdTUzMTYgOiBcdTYyNzlcdTkxQ0ZcdTY0Q0RcdTRGNUNcdTRGN0ZcdTc1MjhcdTRFOEJcdTUyQTFcbiAgICBhc3luYyB0cmFuc2FjdGlvbihvcGVyYXRpb25zOiAoKSA9PiBQcm9taXNlPHZvaWQ+KSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBvcGVyYXRpb25zKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gXHU1NkRFXHU2RURBXHU5MDNCXHU4RjkxXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuXG4gXG59IiwgIi8vIGV4dHJhY3Rpb24gZW5naW5lIHdpdGggZGVkdXBsaWNhdGlvblxuaW1wb3J0IHsgQXBwLCBURmlsZSwgTm90aWNlLCBFZGl0b3IsIE1lbnUgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBEYXRhTWFuYWdlciwgQ29udGVudFVuaXQgfSBmcm9tICcuL0RhdGFNYW5hZ2VyJztcbmltcG9ydCB7IEZsYXNoY2FyZE1hbmFnZXIgfSBmcm9tICcuL0ZsYXNoY2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgU2lkZWJhck92ZXJ2aWV3VmlldyB9IGZyb20gJy4uL3VpL3ZpZXcvU2lkZWJhck92ZXJ2aWV3Vmlldyc7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICdzcmMvbWFpbic7XG5cbmV4cG9ydCBjbGFzcyBFeHRyYWN0aW9uRW5naW5lIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHA6IEFwcCxcbiAgICBwcml2YXRlIGRhdGFNYW5hZ2VyOiBEYXRhTWFuYWdlcixcbiAgICBwcml2YXRlIGZsYXNoY2FyZE1hbmFnZXI6IEZsYXNoY2FyZE1hbmFnZXIgLFxuICAgIHByaXZhdGUgcGx1Z2luPzogTGVhcm5pbmdTeXN0ZW1QbHVnaW4gXG4gICkge31cblxuICBcbiAgLyoqXG4gICAqIFx1NkNFOFx1NTE4Q1x1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVxuICAgKi9cbiAgcmVnaXN0ZXJDb250ZXh0TWVudShtZW51OiBNZW51LCBlZGl0b3I6IEVkaXRvciwgZmlsZTogVEZpbGUpIHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWxlY3Rpb24pIHJldHVybjtcblxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUoJ1x1RDgzRFx1RENERCBFeHRyYWN0IGFzIHRleHQgb25seScpXG4gICAgICAgIC5zZXRJY29uKCdmaWxlLXRleHQnKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5leHRyYWN0U2VsZWN0ZWRUZXh0KGVkaXRvciwgZmlsZSwgJ3RleHQnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW1cbiAgICAgICAgLnNldFRpdGxlKCdcdTI3NTMgRXh0cmFjdCBhcyBRQSBjYXJkJylcbiAgICAgICAgLnNldEljb24oJ2hlbHAtY2lyY2xlJylcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZXh0cmFjdFNlbGVjdGVkVGV4dChlZGl0b3IsIGZpbGUsICdRQScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgaXRlbVxuICAgICAgICAuc2V0VGl0bGUoJ1x1MjcwRlx1RkUwRiBFeHRyYWN0IGFzIENsb3plIGNhcmQnKVxuICAgICAgICAuc2V0SWNvbignaGlnaGxpZ2h0ZXInKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5leHRyYWN0U2VsZWN0ZWRUZXh0KGVkaXRvciwgZmlsZSwgJ2Nsb3plJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgXG4gIC8qKlxuICAgKiBcdTYzRDBcdTUzRDZcdTkwMDlcdTRFMkRcdTc2ODRcdTY1ODdcdTY3MkNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdFNlbGVjdGVkVGV4dChcbiAgICBlZGl0b3I6IEVkaXRvciwgXG4gICAgZmlsZTogVEZpbGUsIFxuICAgIGV4dHJhY3RUeXBlOiAndGV4dCcgfCAnUUEnIHwgJ2Nsb3plJ1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIG5ldyBOb3RpY2UoJ05vIHRleHQgc2VsZWN0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCdmcm9tJyk7XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXRGcm9tQ3Vyc29yKGNvbnRlbnQsIGN1cnNvci5saW5lLCBjdXJzb3IuY2gpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCB1bml0OiBDb250ZW50VW5pdDtcblxuICAgICAgc3dpdGNoIChleHRyYWN0VHlwZSkge1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICB1bml0ID0gdGhpcy5jcmVhdGVUZXh0VW5pdChmaWxlLCBzZWxlY3Rpb24sIG9mZnNldCwgY29udGVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1FBJzpcbiAgICAgICAgICB1bml0ID0gdGhpcy5jcmVhdGVRQVVuaXQoZmlsZSwgc2VsZWN0aW9uLCBvZmZzZXQsIGNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbG96ZSc6XG4gICAgICAgICAgdW5pdCA9IHRoaXMuY3JlYXRlQ2xvemVVbml0KGZpbGUsIHNlbGVjdGlvbiwgb2Zmc2V0LCBjb250ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU5MUNEXHU1OTBEXG4gICAgICBjb25zdCBleGlzdGluZ1VuaXQgPSBhd2FpdCB0aGlzLmZpbmREdXBsaWNhdGVVbml0KHVuaXQpO1xuICAgICAgaWYgKGV4aXN0aW5nVW5pdCkge1xuICAgICAgICBuZXcgTm90aWNlKGBcdTI2QTBcdUZFMEYgVGhpcyBjb250ZW50IHdhcyBhbHJlYWR5IGV4dHJhY3RlZGApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIDEuIFx1NTE0OFx1NEZERFx1NUI1OCBDb250ZW50VW5pdFxuICAgICAgYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5zYXZlQ29udGVudFVuaXRzKFt1bml0XSk7XG4gICAgICBcbiAgICAgIC8vIDIuIFx1NTk4Mlx1Njc5Q1x1NjYyRiBRQSBcdTYyMTYgY2xvemVcdUZGMENcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcbiAgICAgIGlmIChleHRyYWN0VHlwZSA9PT0gJ1FBJyB8fCBleHRyYWN0VHlwZSA9PT0gJ2Nsb3plJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNhcmRUeXBlID0gZXh0cmFjdFR5cGUgPT09ICdRQScgPyAncWEnIDogJ2Nsb3plJztcbiAgICAgICAgICBjb25zdCBmbGFzaGNhcmQgPSBhd2FpdCB0aGlzLmZsYXNoY2FyZE1hbmFnZXIuY3JlYXRlRmxhc2hjYXJkRnJvbVVuaXQodW5pdCwge1xuICAgICAgICAgICAgY2FyZFR5cGU6IGNhcmRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIC8vIFx1RDgzQ1x1REZBRiBcdTZERkJcdTUyQTBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdThDMDNcdTc1MjhcbiAgICBpZiAodGhpcy5wbHVnaW4/LnVubG9ja1N5c3RlbSkge1xuICAgICAgaWYgKGV4dHJhY3RUeXBlID09PSAnUUEnKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbk5vdGVFeHRyYWN0ZWRBc1FBKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi51bmxvY2tTeXN0ZW0ub25Ob3RlRXh0cmFjdGVkQXNDbG96ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgICAgICAgIC8vIDMuIFx1NTE4RFx1NkIyMVx1NEZERFx1NUI1OCB1bml0XHVGRjA4XHU2NkY0XHU2NUIwIGZsYXNoY2FyZElkc1x1RkYwOVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyhbdW5pdF0pO1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tleHRyYWN0U2VsZWN0ZWRUZXh0XSBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXh0cmFjdFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAvLyBcdUQ4M0NcdURGQUYgXHU3RUFGXHU2NTg3XHU2NzJDXHU2M0QwXHU1M0Q2XHU0RTVGXHU3Qjk3XHU0RjVDXHU2M0QwXHU1M0Q2XHU0RUZCXHU1MkExXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbj8udW5sb2NrU3lzdGVtKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLm9uTm90ZUV4dHJhY3RlZEFzVGV4dCgpOyBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0eXBlTmFtZXMgPSB7XG4gICAgICAgIHRleHQ6ICd0ZXh0JyxcbiAgICAgICAgUUE6ICdRQSBjYXJkJyxcbiAgICAgICAgY2xvemU6ICdjbG96ZSBjYXJkJ1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZShgXHUyNzA1IEV4dHJhY3RlZCBhcyAke3R5cGVOYW1lc1tleHRyYWN0VHlwZV19YCk7XG4gICAgICBcbiAgICAgIC8vIDQuIFx1NTIzN1x1NjVCMFx1NjI0MFx1NjcwOVx1ODlDNlx1NTZGRVxuICAgICAgdGhpcy5yZWZyZXNoQWxsVmlld3MoKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBleHRyYWN0aW5nIHNlbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKGBcdTI3NEMgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERDk1IFx1NjdFNVx1NjI3RVx1OTFDRFx1NTkwRFx1NzY4NCBDb250ZW50VW5pdFxuICAgKiBcdTY4MzlcdTYzNkVcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTU0OENcdTRGNERcdTdGNkVcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTVERjJcdTVCNThcdTU3MjhcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmluZER1cGxpY2F0ZVVuaXQodW5pdDogQ29udGVudFVuaXQpOiBQcm9taXNlPENvbnRlbnRVbml0IHwgbnVsbD4ge1xuICAgIGNvbnN0IGFsbFVuaXRzID0gYXdhaXQgdGhpcy5kYXRhTWFuYWdlci5nZXRBbGxDb250ZW50VW5pdHMoKTtcbiAgICBcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTVCNThcdTU3MjhcdTc2RjhcdTU0MENcdTRGNERcdTdGNkVcdTc2ODQgdW5pdFxuICAgIGNvbnN0IGR1cGxpY2F0ZSA9IGFsbFVuaXRzLmZpbmQoZXhpc3RpbmcgPT4gXG4gICAgICBleGlzdGluZy5zb3VyY2UuZmlsZSA9PT0gdW5pdC5zb3VyY2UuZmlsZSAmJlxuICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLnN0YXJ0ID09PSB1bml0LnNvdXJjZS5wb3NpdGlvbi5zdGFydCAmJlxuICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLmVuZCA9PT0gdW5pdC5zb3VyY2UucG9zaXRpb24uZW5kICYmXG4gICAgICBleGlzdGluZy50eXBlID09PSB1bml0LnR5cGVcbiAgICApO1xuICAgIFxuICAgIHJldHVybiBkdXBsaWNhdGUgfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0NcdUREOTUgXHU2OEMwXHU2N0U1XHU1MTg1XHU1QkI5XHU2NjJGXHU1NDI2XHU5MUNEXHU1OTBEXHVGRjA4XHU1N0ZBXHU0RThFXHU1MTg1XHU1QkI5XHU3NkY4XHU0RjNDXHU1RUE2XHVGRjA5XG4gICAqL1xuICBwcml2YXRlIGlzQ29udGVudER1cGxpY2F0ZShjb250ZW50MTogc3RyaW5nLCBjb250ZW50Mjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZDEgPSBjb250ZW50MS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBub3JtYWxpemVkMiA9IGNvbnRlbnQyLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBub3JtYWxpemVkMSA9PT0gbm9ybWFsaXplZDI7XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU3RUFGXHU2NTg3XHU2NzJDXHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVRleHRVbml0KFxuICAgIGZpbGU6IFRGaWxlLFxuICAgIHNlbGVjdGlvbjogc3RyaW5nLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGZpbGVDb250ZW50OiBzdHJpbmdcbiAgKTogQ29udGVudFVuaXQge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihmaWxlQ29udGVudCwgb2Zmc2V0KTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBjb250ZW50OiBzZWxlY3Rpb24udHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IHNlbGVjdGlvbi50cmltKCksXG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgZmlsZTogZmlsZS5wYXRoLFxuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIHN0YXJ0OiBvZmZzZXQsXG4gICAgICAgICAgZW5kOiBvZmZzZXQgKyBzZWxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhmaWxlQ29udGVudCwgb2Zmc2V0KSxcbiAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAgICAgfSxcbiAgICAgIGV4dHJhY3RSdWxlOiB7XG4gICAgICAgIHJ1bGVJZDogJ3RleHQtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgVGV4dCBFeHRyYWN0JyxcbiAgICAgICAgZXh0cmFjdGVkQnk6ICdtYW51YWwnXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHRhZ3M6IHRoaXMuZXh0cmFjdFRhZ3MoZmlsZUNvbnRlbnQsIG9mZnNldClcbiAgICAgIH0sXG4gICAgICBmbGFzaGNhcmRJZHM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMUJcdTVFRkEgUUEgXHU1MzYxXHU3MjQ3XHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVFBVW5pdChcbiAgICBmaWxlOiBURmlsZSxcbiAgICBzZWxlY3Rpb246IHN0cmluZyxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBmaWxlQ29udGVudDogc3RyaW5nXG4gICk6IENvbnRlbnRVbml0IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oZmlsZUNvbnRlbnQsIG9mZnNldCk7XG4gICAgXG4gICAgLy8gXHU1QzFEXHU4QkQ1XHU1MjA2XHU1MjcyXHU2MjEwXHU5NUVFXHU5ODk4XHU1NDhDXHU3QjU0XHU2ODQ4XG4gICAgbGV0IHF1ZXN0aW9uOiBzdHJpbmcsIGFuc3dlcjogc3RyaW5nO1xuICAgIFxuICAgIGlmIChzZWxlY3Rpb24uaW5jbHVkZXMoJzo6JykpIHtcbiAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NTMwNVx1NTQyQiA6OiBcdTUyMDZcdTk2OTRcdTdCMjZcbiAgICAgIGNvbnN0IHBhcnRzID0gc2VsZWN0aW9uLnNwbGl0KCc6OicpO1xuICAgICAgcXVlc3Rpb24gPSBwYXJ0c1swXS50cmltKCk7XG4gICAgICBhbnN3ZXIgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc6OicpLnRyaW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU1NDI2XHU1MjE5XHU2NTc0XHU0RTJBXHU5MDA5XHU0RTJEXHU2NTg3XHU2NzJDXHU0RjVDXHU0RTNBXHU5NUVFXHU5ODk4XHVGRjBDXHU3QjU0XHU2ODQ4XHU0RTNBXHU3QTdBXHVGRjA4XHU5NzAwXHU4OTgxXHU3NTI4XHU2MjM3XHU4ODY1XHU1MTQ1XHVGRjA5XG4gICAgICBxdWVzdGlvbiA9IHNlbGVjdGlvbi50cmltKCk7XG4gICAgICBhbnN3ZXIgPSAnW0Fuc3dlciBuZWVkZWRdJztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdHlwZTogJ1FBJyxcbiAgICAgIGNvbnRlbnQ6IHF1ZXN0aW9uLFxuICAgICAgYW5zd2VyOiBhbnN3ZXIsXG4gICAgICBmdWxsQ29udGV4dDogc2VsZWN0aW9uLnRyaW0oKSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG9mZnNldCxcbiAgICAgICAgICBlbmQ6IG9mZnNldCArIHNlbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICB9LFxuICAgICAgICBoZWFkaW5nOiB0aGlzLmZpbmRIZWFkaW5nKGZpbGVDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICBhbmNob3JMaW5rOiBgW1ske2ZpbGUuYmFzZW5hbWV9I14ke3RoaXMuZ2VuZXJhdGVCbG9ja0lkKCl9XV1gXG4gICAgICB9LFxuICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgcnVsZUlkOiAnUUEtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgUUEgQ2FyZCcsXG4gICAgICAgIGV4dHJhY3RlZEJ5OiAnbWFudWFsJ1xuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGZpbGVDb250ZW50LCBvZmZzZXQpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU1MzYxXHU3MjQ3XHU1MzU1XHU1MTQzXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUNsb3plVW5pdChcbiAgICBmaWxlOiBURmlsZSxcbiAgICBzZWxlY3Rpb246IHN0cmluZyxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBmaWxlQ29udGVudDogc3RyaW5nXG4gICk6IENvbnRlbnRVbml0IHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oZmlsZUNvbnRlbnQsIG9mZnNldCk7XG4gICAgY29uc3QgZnVsbFNlbnRlbmNlID0gdGhpcy5leHRyYWN0RnVsbFNlbnRlbmNlKGZpbGVDb250ZW50LCBvZmZzZXQsIHNlbGVjdGlvbi5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHR5cGU6ICdjbG96ZScsXG4gICAgICBjb250ZW50OiBzZWxlY3Rpb24udHJpbSgpLFxuICAgICAgZnVsbENvbnRleHQ6IGZ1bGxTZW50ZW5jZSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBmaWxlOiBmaWxlLnBhdGgsXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IG9mZnNldCxcbiAgICAgICAgICBlbmQ6IG9mZnNldCArIHNlbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICB9LFxuICAgICAgICBoZWFkaW5nOiB0aGlzLmZpbmRIZWFkaW5nKGZpbGVDb250ZW50LCBvZmZzZXQpLFxuICAgICAgICBhbmNob3JMaW5rOiBgW1ske2ZpbGUuYmFzZW5hbWV9I14ke3RoaXMuZ2VuZXJhdGVCbG9ja0lkKCl9XV1gXG4gICAgICB9LFxuICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgcnVsZUlkOiAnY2xvemUtbWFudWFsJyxcbiAgICAgICAgcnVsZU5hbWU6ICdNYW51YWwgQ2xvemUgQ2FyZCcsXG4gICAgICAgIGV4dHJhY3RlZEJ5OiAnbWFudWFsJ1xuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGZpbGVDb250ZW50LCBvZmZzZXQpXG4gICAgICB9LFxuICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogXHU0RUNFXHU1MTQ5XHU2ODA3XHU0RjREXHU3RjZFXHU4QkExXHU3Qjk3XHU2NTg3XHU0RUY2XHU1MDRGXHU3OUZCXHU5MUNGXG4gICAqL1xuICBwcml2YXRlIGdldE9mZnNldEZyb21DdXJzb3IoY29udGVudDogc3RyaW5nLCBsaW5lOiBudW1iZXIsIGNoOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lOyBpKyspIHtcbiAgICAgIG9mZnNldCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xuICAgIH1cbiAgICBcbiAgICBvZmZzZXQgKz0gY2g7XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYyNkJcdTYzQ0ZcdTUzNTVcdTRFMkFcdTY1ODdcdTRFRjZcbiAgICovXG4gIGFzeW5jIHNjYW5GaWxlKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICBjb25zdCB1bml0cyA9IGF3YWl0IHRoaXMuZXh0cmFjdENvbnRlbnQoZmlsZSwgY29udGVudCk7XG4gICAgICBcbiAgICAgIGlmICh1bml0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyh1bml0cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBxYUNvdW50ID0gdW5pdHMuZmlsdGVyKHUgPT4gdS50eXBlID09PSAnUUEnKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNsb3plQ291bnQgPSB1bml0cy5maWx0ZXIodSA9PiB1LnR5cGUgPT09ICdjbG96ZScpLmxlbmd0aDtcbiAgICAgICAgbmV3IE5vdGljZShgRXh0cmFjdGVkICR7cWFDb3VudH0gUUEgY2FyZHMgYW5kICR7Y2xvemVDb3VudH0gY2xvemUgY2FyZHMgZnJvbSAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVmcmVzaEFsbFZpZXdzKCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1bml0cy5sZW5ndGg7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzY2FuRmlsZV0gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZShgRXJyb3Igc2Nhbm5pbmcgZmlsZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XG4gIFxuICAvKipcbiAgICogXHU1MjM3XHU2NUIwXHU2MjQwXHU2NzA5XHU3NkY4XHU1MTczXHU4OUM2XHU1NkZFXG4gICAqL1xuICBwcml2YXRlIHJlZnJlc2hBbGxWaWV3cygpIHtcbiAgICB0aGlzLmFwcC53b3Jrc3BhY2UuaXRlcmF0ZUFsbExlYXZlcyhsZWFmID0+IHtcbiAgICAgIGNvbnN0IHZpZXdUeXBlID0gbGVhZi52aWV3LmdldFZpZXdUeXBlKCk7XG4gICAgICBpZiAodmlld1R5cGUgPT09ICdsZWFybmluZy1zeXN0ZW0tc2lkZWJhci1vdmVydmlldycgfHwgXG4gICAgICAgICAgdmlld1R5cGUgPT09ICdsZWFybmluZy1zeXN0ZW0tbWFpbi1vdmVydmlldycpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBsZWFmLnZpZXcgYXMgU2lkZWJhck92ZXJ2aWV3VmlldztcbiAgICAgICAgICAgIGlmICh2aWV3ICYmIHR5cGVvZiB2aWV3LnJlZnJlc2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgdmlldy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogXHU2MjZCXHU2M0NGXHU2NTc0XHU0RTJBIFZhdWx0XG4gICAqL1xuICBhc3luYyBzY2FuVmF1bHQoKTogUHJvbWlzZTx7IHNjYW5uZWQ6IG51bWJlcjsgZXh0cmFjdGVkOiBudW1iZXIgfT4ge1xuICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgIGxldCBzY2FubmVkID0gMDtcbiAgICBsZXQgZXh0cmFjdGVkID0gMDtcblxuICAgIG5ldyBOb3RpY2UoYFNjYW5uaW5nICR7ZmlsZXMubGVuZ3RofSBmaWxlcy4uLmApO1xuXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBjb25zdCBjb3VudCA9IGF3YWl0IHRoaXMuc2NhbkZpbGUoZmlsZSk7XG4gICAgICBzY2FubmVkKys7XG4gICAgICBleHRyYWN0ZWQgKz0gY291bnQ7XG4gICAgfVxuXG4gICAgbmV3IE5vdGljZShgU2NhbiBjb21wbGV0ZSEgRXh0cmFjdGVkICR7ZXh0cmFjdGVkfSBpdGVtcyBmcm9tICR7c2Nhbm5lZH0gZmlsZXMuYCk7XG5cbiAgICByZXR1cm4geyBzY2FubmVkLCBleHRyYWN0ZWQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdUQ4M0RcdUREMjcgXHU0RkVFXHU2NTM5OiBcdTUxNDhcdTRGRERcdTVCNTggdW5pdHNcdUZGMENcdTUxOERcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdUZGMENcdTU0MENcdTY1RjZcdThGQzdcdTZFRTRcdTkxQ0RcdTU5MERcdTk4NzlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXh0cmFjdENvbnRlbnQoZmlsZTogVEZpbGUsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8Q29udGVudFVuaXRbXT4ge1xuICAgIGNvbnN0IHVuaXRzOiBDb250ZW50VW5pdFtdID0gW107XG4gICAgXG4gICAgLy8gMVx1RkUwRlx1MjBFMyBcdTUxNDhcdTYzRDBcdTUzRDZcdTYyNDBcdTY3MDkgdW5pdHNcdUZGMDhcdTRFMERcdTUyMUJcdTVFRkFcdTk1RUFcdTUzNjFcdUZGMDlcbiAgICBjb25zdCBxYVVuaXRzID0gdGhpcy5leHRyYWN0UUFDYXJkcyhmaWxlLCBjb250ZW50KTtcbiAgICBjb25zdCBjbG96ZVVuaXRzID0gYXdhaXQgdGhpcy5leHRyYWN0Q2xvemVDYXJkcyhmaWxlLCBjb250ZW50KTtcblxuICAgIGNvbnN0IGFsbEV4dHJhY3RlZFVuaXRzID0gWy4uLnFhVW5pdHMsIC4uLmNsb3plVW5pdHNdO1xuICAgIFxuICAgIC8vIDJcdUZFMEZcdTIwRTMgXHVEODNDXHVERDk1IFx1OEZDN1x1NkVFNFx1OTFDRFx1NTkwRFx1NzY4NCB1bml0c1xuICAgIGNvbnN0IGV4aXN0aW5nVW5pdHMgPSBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLmdldEFsbENvbnRlbnRVbml0cygpO1xuICAgIGNvbnN0IG5ld1VuaXRzID0gYXdhaXQgdGhpcy5maWx0ZXJEdXBsaWNhdGVVbml0cyhhbGxFeHRyYWN0ZWRVbml0cywgZXhpc3RpbmdVbml0cyk7XG4gICAgXG4gICAgaWYgKG5ld1VuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbmV3IE5vdGljZShgICR7ZmlsZS5uYW1lfTogTm8gbmV3IGNvbnRlbnQgdG8gZXh0cmFjdGApO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICBpZiAobmV3VW5pdHMubGVuZ3RoIDwgYWxsRXh0cmFjdGVkVW5pdHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gYWxsRXh0cmFjdGVkVW5pdHMubGVuZ3RoIC0gbmV3VW5pdHMubGVuZ3RoO1xuICAgICAgbmV3IE5vdGljZShgICR7ZmlsZS5uYW1lfTpTa2lwcGVkICR7c2tpcHBlZH0gZHVwbGljYXRlIGl0ZW1zYCk7XG4gICAgfVxuICAgIFxuICAgIHVuaXRzLnB1c2goLi4ubmV3VW5pdHMpO1xuICAgIFxuICAgIC8vIDNcdUZFMEZcdTIwRTMgXHU1MTQ4XHU0RkREXHU1QjU4XHU2MjQwXHU2NzA5XHU2NUIwIHVuaXRzIFx1NTIzMCBEYXRhTWFuYWdlclxuICAgIGlmICh1bml0cy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdHModW5pdHMpO1xuICAgIH1cbiAgICBcbiAgICAvLyA0XHVGRTBGXHUyMEUzIFx1NTE4RFx1NEUzQVx1NkJDRlx1NEUyQSB1bml0IFx1NTIxQlx1NUVGQVx1OTVFQVx1NTM2MVxuICAgIGZvciAoY29uc3QgdW5pdCBvZiB1bml0cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2FyZFR5cGUgPSB1bml0LnR5cGUgPT09ICdRQScgPyAncWEnIDogJ2Nsb3plJztcbiAgICAgICAgY29uc3QgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5mbGFzaGNhcmRNYW5hZ2VyLmNyZWF0ZUZsYXNoY2FyZEZyb21Vbml0KHVuaXQsIHtcbiAgICAgICAgICBjYXJkVHlwZTogY2FyZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbZXh0cmFjdENvbnRlbnRdICBGYWlsZWQgdG8gY3JlYXRlIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFx1RDgzQ1x1REZBRiBcdTZERkJcdTUyQTAgLSBcdTdFREZcdThCQTFcdTYyNkJcdTYzQ0ZcdTYzRDBcdTUzRDZcdTc2ODRcdTdCMTRcdThCQjBcdTY1NzBcbmlmICh0aGlzLnBsdWdpbj8udW5sb2NrU3lzdGVtICYmIHVuaXRzLmxlbmd0aCA+IDApIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bml0cy5sZW5ndGg7IGkrKykge1xuICAgIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbk5vdGVTY2FubmVkKCk7XG4gIH1cbn1cbiAgICByZXR1cm4gdW5pdHM7XG4gIH1cblxuICAvKipcbiAgICogXHVEODNDXHVERDk1IFx1OEZDN1x1NkVFNFx1OTFDRFx1NTkwRFx1NzY4NCB1bml0c1xuICAgKiBcdTY4MzlcdTYzNkVcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTMwMDFcdTRGNERcdTdGNkVcdTU0OENcdTUxODVcdTVCQjlcdTUyMjRcdTY1QURcdTY2MkZcdTU0MjZcdTkxQ0RcdTU5MERcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmlsdGVyRHVwbGljYXRlVW5pdHMoXG4gICAgbmV3VW5pdHM6IENvbnRlbnRVbml0W10sIFxuICAgIGV4aXN0aW5nVW5pdHM6IENvbnRlbnRVbml0W11cbiAgKTogUHJvbWlzZTxDb250ZW50VW5pdFtdPiB7XG4gICAgY29uc3QgZmlsdGVyZWQ6IENvbnRlbnRVbml0W10gPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IG5ld1VuaXQgb2YgbmV3VW5pdHMpIHtcbiAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gZXhpc3RpbmdVbml0cy5zb21lKGV4aXN0aW5nID0+IHtcbiAgICAgICAgLy8gXHU2NUI5XHU1RjBGMTogXHU3NkY4XHU1NDBDXHU2NTg3XHU0RUY2ICsgXHU3NkY4XHU1NDBDXHU0RjREXHU3RjZFICsgXHU3NkY4XHU1NDBDXHU3QzdCXHU1NzhCXG4gICAgICAgIGNvbnN0IHNhbWVMb2NhdGlvbiA9IFxuICAgICAgICAgIGV4aXN0aW5nLnNvdXJjZS5maWxlID09PSBuZXdVbml0LnNvdXJjZS5maWxlICYmXG4gICAgICAgICAgZXhpc3Rpbmcuc291cmNlLnBvc2l0aW9uLnN0YXJ0ID09PSBuZXdVbml0LnNvdXJjZS5wb3NpdGlvbi5zdGFydCAmJlxuICAgICAgICAgIGV4aXN0aW5nLnNvdXJjZS5wb3NpdGlvbi5lbmQgPT09IG5ld1VuaXQuc291cmNlLnBvc2l0aW9uLmVuZCAmJlxuICAgICAgICAgIGV4aXN0aW5nLnR5cGUgPT09IG5ld1VuaXQudHlwZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjVCOVx1NUYwRjI6IFx1NzZGOFx1NTQwQ1x1NjU4N1x1NEVGNiArIFx1NzZGOFx1NTQwQ1x1NTE4NVx1NUJCOSArIFx1NzZGOFx1NTQwQ1x1N0M3Qlx1NTc4Qlx1RkYwOFx1OTYzMlx1NkI2Mlx1NEY0RFx1N0Y2RVx1NTA0Rlx1NzlGQlx1RkYwOVxuICAgICAgICBjb25zdCBzYW1lQ29udGVudCA9IFxuICAgICAgICAgIGV4aXN0aW5nLnNvdXJjZS5maWxlID09PSBuZXdVbml0LnNvdXJjZS5maWxlICYmXG4gICAgICAgICAgZXhpc3RpbmcudHlwZSA9PT0gbmV3VW5pdC50eXBlICYmXG4gICAgICAgICAgdGhpcy5pc0NvbnRlbnREdXBsaWNhdGUoZXhpc3RpbmcuY29udGVudCwgbmV3VW5pdC5jb250ZW50KSAmJlxuICAgICAgICAgIHRoaXMuaXNDb250ZW50RHVwbGljYXRlKGV4aXN0aW5nLmZ1bGxDb250ZXh0IHx8ICcnLCBuZXdVbml0LmZ1bGxDb250ZXh0IHx8ICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjVCOVx1NUYwRjM6IFx1NUJGOVx1NEU4RSBRQSBcdTdDN0JcdTU3OEJcdUZGMENcdTk4OURcdTU5MTZcdTY4QzBcdTY3RTVcdTdCNTRcdTY4NDhcdTY2MkZcdTU0MjZcdTc2RjhcdTU0MENcbiAgICAgICAgY29uc3Qgc2FtZVFBID0gZXhpc3RpbmcudHlwZSA9PT0gJ1FBJyAmJiBuZXdVbml0LnR5cGUgPT09ICdRQScgJiZcbiAgICAgICAgICBleGlzdGluZy5zb3VyY2UuZmlsZSA9PT0gbmV3VW5pdC5zb3VyY2UuZmlsZSAmJlxuICAgICAgICAgIHRoaXMuaXNDb250ZW50RHVwbGljYXRlKGV4aXN0aW5nLmNvbnRlbnQsIG5ld1VuaXQuY29udGVudCkgJiZcbiAgICAgICAgICB0aGlzLmlzQ29udGVudER1cGxpY2F0ZShleGlzdGluZy5hbnN3ZXIgfHwgJycsIG5ld1VuaXQuYW5zd2VyIHx8ICcnKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzYW1lTG9jYXRpb24gfHwgc2FtZUNvbnRlbnQgfHwgc2FtZVFBO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgZmlsdGVyZWQucHVzaChuZXdVbml0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZpbHRlcmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MjcwNSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0FcdTRFRkJcdTUyQTFcdTVCOENcdTYyMTBcdTY4MDdcdThCQjBcbiAgICogXHU2MzkyXHU5NjY0OiBbY29tcGxldGlvbjo6IGRhdGVdLCBbZHVlOjogZGF0ZV0gXHU3QjQ5XHU0RUZCXHU1MkExXHU3NkY4XHU1MTczXHU3Njg0IDo6IFx1NjgzQ1x1NUYwRlxuICAgKi9cbiAgcHJpdmF0ZSBpc1Rhc2tDb21wbGV0aW9uKGxpbmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIFx1NTMzOVx1OTE0RFx1NEVGQlx1NTJBMVx1NjgwN1x1OEJCMDogLSBbIF0gXHU2MjE2IC0gW3hdIFx1NUYwMFx1NTkzNFx1NzY4NFx1ODg0QyxcdTRFMTRcdTUzMDVcdTU0MkIgOjogXG4gICAgY29uc3QgdGFza1BhdHRlcm4gPSAvXltcXHNdKi1cXHMqXFxbW3hcXHNdXFxdLio6Oi9pO1xuICAgIHJldHVybiB0YXNrUGF0dGVybi50ZXN0KGxpbmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1MjcwNSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0FcdTY1RTVcdTY3MUYvXHU2NUY2XHU5NUY0XHU1QjU3XHU2QkI1XG4gICAqIFx1NjM5Mlx1OTY2NDogZGF0ZTE6OiAyMDIxLTAyLTI2VDE1OjE1LCBkYXRlMjo6IDIwMjEtMDQtMTcgMTg6MDAgXHU3QjQ5XHU2ODNDXHU1RjBGXG4gICAqL1xuICBwcml2YXRlIGlzRGF0ZVRpbWVGaWVsZChxdWVzdGlvbjogc3RyaW5nLCBhbnN3ZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIFx1NjhDMFx1NjdFNVx1OTVFRVx1OTg5OFx1OTBFOFx1NTIwNlx1NjYyRlx1NTQyNlx1NTMwNVx1NTQyQlx1NUUzOFx1ODlDMVx1NzY4NFx1NjVFNVx1NjcxRi9cdTY1RjZcdTk1RjRcdTVCNTdcdTZCQjVcdTU0MERcbiAgICBjb25zdCBkYXRlRmllbGRQYXR0ZXJuID0gL1xcYihkYXRlXFxkKnx0aW1lXFxkKnxjcmVhdGVkfHVwZGF0ZWR8bW9kaWZpZWR8c2NoZWR1bGVkfGR1ZXxjb21wbGV0aW9uKVxcYi9pO1xuICAgIFxuICAgIC8vIFx1NjhDMFx1NjdFNVx1N0I1NFx1Njg0OFx1OTBFOFx1NTIwNlx1NjYyRlx1NTQyNlx1NEUzQVx1NjVFNVx1NjcxRi9cdTY1RjZcdTk1RjRcdTY4M0NcdTVGMEZcbiAgICBjb25zdCBkYXRlVGltZVBhdHRlcm4gPSAvXlxccypcXGR7NH0tXFxkezJ9LVxcZHsyfShUfFxccylcXGR7Mn06XFxkezJ9fFxcZHs0fS1cXGR7Mn0tXFxkezJ9XFxzK1xcZHsyfTpcXGR7Mn0vO1xuICAgIGNvbnN0IGRhdGVPbmx5UGF0dGVybiA9IC9eXFxzKlxcZHs0fS1cXGR7Mn0tXFxkezJ9XFxzKiQvO1xuICAgIFxuICAgIHJldHVybiBkYXRlRmllbGRQYXR0ZXJuLnRlc3QocXVlc3Rpb24pICYmIFxuICAgICAgICAgICAoZGF0ZVRpbWVQYXR0ZXJuLnRlc3QoYW5zd2VyKSB8fCBkYXRlT25seVBhdHRlcm4udGVzdChhbnN3ZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTI3MDUgXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU0RTNBIEV4Y2FsaWRyYXcgXHU5QUQ4XHU0RUFFXG4gICAqIFx1NjM5Mlx1OTY2NDogPT1zd2l0Y2ggdG8gZXhjYWxpZHJhdyB2aWV3Li4uPT0gXHU4RkQ5XHU3QzdCXHU3Mjc5XHU1QjlBXHU5QUQ4XHU0RUFFXG4gICAqL1xuICBwcml2YXRlIGlzRXhjYWxpZHJhd0hpZ2hsaWdodChtYXRjaFRleHQ6IHN0cmluZywgbGluZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgLy8gXHU1OTgyXHU2NzlDXHU5QUQ4XHU0RUFFXHU1MTg1XHU1QkI5XHU1MzA1XHU1NDJCIGV4Y2FsaWRyYXcgXHU3NkY4XHU1MTczXHU1MTczXHU5NTJFXHU4QkNEXG4gICAgY29uc3QgZXhjYWxpZHJhd0tleXdvcmRzID0gL2V4Y2FsaWRyYXd8ZHJhd2luZ3xza2V0Y2gvaTtcbiAgICByZXR1cm4gZXhjYWxpZHJhd0tleXdvcmRzLnRlc3QobWF0Y2hUZXh0KSB8fCBleGNhbGlkcmF3S2V5d29yZHMudGVzdChsaW5lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTI3MDUgXHU2M0QwXHU1M0Q2IFFBIFx1NTM2MVx1NzI0NyAoXHU2ODNDXHU1RjBGOiBRdWVzdGlvbiA6OiBBbnN3ZXIpXG4gICAqIFx1NjVCMFx1NTg5RTogXHU4RkM3XHU2RUU0XHU0RUZCXHU1MkExXHU1QjhDXHU2MjEwXHU2ODA3XHU4QkIwXHU1NDhDXHU2NUU1XHU2NzFGXHU2NUY2XHU5NUY0XHU1QjU3XHU2QkI1XG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RRQUNhcmRzKGZpbGU6IFRGaWxlLCBjb250ZW50OiBzdHJpbmcpOiBDb250ZW50VW5pdFtdIHtcbiAgICBjb25zdCB1bml0czogQ29udGVudFVuaXRbXSA9IFtdO1xuICAgIGNvbnN0IHFhUmVnZXggPSAvXiguKz8pXFxzKjo6XFxzKiguKz8pJC9nbTtcbiAgICBsZXQgbWF0Y2g7XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gcWFSZWdleC5leGVjKGNvbnRlbnQpKSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgZnVsbE1hdGNoID0gbWF0Y2hbMF07XG4gICAgICBjb25zdCBxdWVzdGlvbiA9IG1hdGNoWzFdLnRyaW0oKTtcbiAgICAgIGNvbnN0IGFuc3dlciA9IG1hdGNoWzJdLnRyaW0oKTtcbiAgICAgIFxuICAgICAgLy8gXHUyNzA1IFx1OERGM1x1OEZDN1x1NEVGQlx1NTJBMVx1NUI4Q1x1NjIxMFx1NjgwN1x1OEJCMFxuICAgICAgaWYgKHRoaXMuaXNUYXNrQ29tcGxldGlvbihmdWxsTWF0Y2gpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBcdTI3MDUgXHU4REYzXHU4RkM3XHU2NUU1XHU2NzFGXHU2NUY2XHU5NUY0XHU1QjU3XHU2QkI1XG4gICAgICBpZiAodGhpcy5pc0RhdGVUaW1lRmllbGQocXVlc3Rpb24sIGFuc3dlcikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBtYXRjaC5pbmRleCk7XG5cbiAgICAgIGNvbnN0IHVuaXQ6IENvbnRlbnRVbml0ID0ge1xuICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICAgIHR5cGU6ICdRQScsXG4gICAgICAgIGNvbnRlbnQ6IHF1ZXN0aW9uLFxuICAgICAgICBhbnN3ZXI6IGFuc3dlcixcbiAgICAgICAgZnVsbENvbnRleHQ6IGZ1bGxNYXRjaCxcbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgZmlsZTogZmlsZS5wYXRoLFxuICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICBzdGFydDogbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICBlbmQ6IG1hdGNoLmluZGV4ICsgZnVsbE1hdGNoLmxlbmd0aCxcbiAgICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhlYWRpbmc6IHRoaXMuZmluZEhlYWRpbmcoY29udGVudCwgbWF0Y2guaW5kZXgpLFxuICAgICAgICAgIGFuY2hvckxpbms6IGBbWyR7ZmlsZS5iYXNlbmFtZX0jXiR7dGhpcy5nZW5lcmF0ZUJsb2NrSWQoKX1dXWBcbiAgICAgICAgfSxcbiAgICAgICAgZXh0cmFjdFJ1bGU6IHtcbiAgICAgICAgICBydWxlSWQ6ICdRQScsXG4gICAgICAgICAgcnVsZU5hbWU6ICdRQSBDYXJkJyxcbiAgICAgICAgICBleHRyYWN0ZWRCeTogJ2F1dG8nXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgICB0YWdzOiB0aGlzLmV4dHJhY3RUYWdzKGNvbnRlbnQsIG1hdGNoLmluZGV4KVxuICAgICAgICB9LFxuICAgICAgICBmbGFzaGNhcmRJZHM6IFtdXG4gICAgICB9O1xuXG4gICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgIH1cblxuICAgIHJldHVybiB1bml0cztcbiAgfVxuXG5cblxuICAvKipcbiAgICogXHU2M0QwXHU1M0Q2XHU1MzA1XHU1NDJCXHU5QUQ4XHU0RUFFXHU3Njg0XHU1QjhDXHU2NTc0XHU1M0U1XHU1QjUwXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3RGdWxsU2VudGVuY2UoY29udGVudDogc3RyaW5nLCBoaWdobGlnaHRTdGFydDogbnVtYmVyLCBoaWdobGlnaHRMZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgc2VudGVuY2VFbmRzID0gL1suIT9cdTMwMDJcdUZGMDE/XFxuXS87XG4gICAgXG4gICAgbGV0IHN0YXJ0ID0gaGlnaGxpZ2h0U3RhcnQ7XG4gICAgd2hpbGUgKHN0YXJ0ID4gMCkge1xuICAgICAgY29uc3QgY2hhciA9IGNvbnRlbnRbc3RhcnQgLSAxXTtcbiAgICAgIGlmIChzZW50ZW5jZUVuZHMudGVzdChjaGFyKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXJ0LS07XG4gICAgfVxuICAgIFxuICAgIGxldCBlbmQgPSBoaWdobGlnaHRTdGFydCArIGhpZ2hsaWdodExlbmd0aDtcbiAgICB3aGlsZSAoZW5kIDwgY29udGVudC5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBjb250ZW50W2VuZF07XG4gICAgICBpZiAoc2VudGVuY2VFbmRzLnRlc3QoY2hhcikpIHtcbiAgICAgICAgZW5kKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZW5kKys7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKS50cmltKCk7XG4gIH1cblxuICAvKipcbiAgICogXHU4QkExXHU3Qjk3XHU2NTg3XHU2NzJDXHU0RjREXHU3RjZFXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQ6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIpOiB7IGxpbmU6IG51bWJlcjsgY29sdW1uOiBudW1iZXIgfSB7XG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnN1YnN0cmluZygwLCBvZmZzZXQpLnNwbGl0KCdcXG4nKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbGluZXMubGVuZ3RoIC0gMSxcbiAgICAgIGNvbHVtbjogbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTY3RTVcdTYyN0VcdTYyNDBcdTU3MjhcdTY4MDdcdTk4OThcbiAgICovXG4gIHByaXZhdGUgZmluZEhlYWRpbmcoY29udGVudDogc3RyaW5nLCBwb3NpdGlvbjogbnVtYmVyKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBiZWZvcmVDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgcG9zaXRpb24pO1xuICAgIGNvbnN0IGhlYWRpbmdzID0gYmVmb3JlQ29udGVudC5tYXRjaCgvXiN7MSw2fSAuKyQvZ20pO1xuICAgIHJldHVybiBoZWFkaW5ncyA/IGhlYWRpbmdzW2hlYWRpbmdzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjNEMFx1NTNENlx1OTY0NFx1OEZEMVx1NzY4NFx1NjgwN1x1N0I3RVxuICAgKi9cbiAgcHJpdmF0ZSBleHRyYWN0VGFncyhjb250ZW50OiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgdGFncyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIFxuICAgIC8vIDEuIFx1NjNEMFx1NTNENiBZQU1MIGZyb250bWF0dGVyIFx1NEUyRFx1NzY4NCB0YWdzXG4gICAgY29uc3QgeWFtbE1hdGNoID0gY29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS8pO1xuICAgIGlmICh5YW1sTWF0Y2gpIHtcbiAgICAgIGNvbnN0IHlhbWxDb250ZW50ID0geWFtbE1hdGNoWzFdO1xuICAgICAgY29uc3QgdGFnc01hdGNoID0geWFtbENvbnRlbnQubWF0Y2goL150YWdzOlxccyooLispJC9tKTtcbiAgICAgIGlmICh0YWdzTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgdGFnQ29udGVudCA9IHRhZ3NNYXRjaFsxXS50cmltKCk7XG4gICAgICAgIGlmICh0YWdDb250ZW50LnN0YXJ0c1dpdGgoJ1snKSkge1xuICAgICAgICAgIGNvbnN0IGFycmF5VGFncyA9IHRhZ0NvbnRlbnQubWF0Y2goL1tcXHcvLV0rL2cpO1xuICAgICAgICAgIGFycmF5VGFncz8uZm9yRWFjaCh0YWcgPT4gdGFncy5hZGQoYCMke3RhZ31gKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFnQ29udGVudC5zcGxpdCgnLCcpLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSB0YWcudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNsZWFuZWQpIHRhZ3MuYWRkKGAjJHtjbGVhbmVkfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIDIuIFx1NjNEMFx1NTNENlx1NTNFNVx1NUI1MFx1NjcyQlx1NUMzRVx1NzY4NCBpbmxpbmUgdGFnc1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zdWJzdHJpbmcoMCwgcG9zaXRpb24pLnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBjdXJyZW50TGluZSA9IGxpbmVzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgbGluZUNvbnRlbnQgPSBjb250ZW50LnNwbGl0KCdcXG4nKVtjdXJyZW50TGluZV0gfHwgJyc7XG4gICAgXG4gICAgY29uc3QgaW5saW5lVGFnUmVnZXggPSAvI1tcXHcvLV0rL2c7XG4gICAgY29uc3QgaW5saW5lVGFncyA9IGxpbmVDb250ZW50Lm1hdGNoKGlubGluZVRhZ1JlZ2V4KTtcbiAgICBpbmxpbmVUYWdzPy5mb3JFYWNoKHRhZyA9PiB0YWdzLmFkZCh0YWcpKTtcbiAgICBcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0YWdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTc1MUZcdTYyMTBcdTU1MkZcdTRFMDAgSURcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMCBCbG9jayBJRFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUJsb2NrSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGV4dHJhY3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA2KX1gO1xuICB9XG5cblxuLy8gXHU4ODY4XHU2ODNDXHU2M0QwXHU1M0Q2XHU2NUI5XHU2Q0Q1XG4vKipcbiAqIFx1RDgzQ1x1REQ5NSBcdTY4QzBcdTZENEJcdTlBRDhcdTRFQUVcdTY2MkZcdTU0MjZcdTU3MjhcdTg4NjhcdTY4M0NcdTRFMkRcbiAqL1xucHJpdmF0ZSBpc0luVGFibGUoY29udGVudDogc3RyaW5nLCBwb3NpdGlvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gIGNvbnN0IHsgbGluZSB9ID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBwb3NpdGlvbik7XG4gIFxuICAvLyBcdTY4QzBcdTY3RTVcdTVGNTNcdTUyNERcdTg4NENcdTY2MkZcdTU0MjZcdTRFM0FcdTg4NjhcdTY4M0NcdTg4NENcdUZGMDhcdTUzMDVcdTU0MkIgfCBcdTUyMDZcdTk2OTRcdTdCMjZcdUZGMDlcbiAgaWYgKCFsaW5lc1tsaW5lXT8uaW5jbHVkZXMoJ3wnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gXHU2OEMwXHU2N0U1XHU1MjREXHU1NDBFXHU4ODRDXHU2NjJGXHU1NDI2XHU0RTVGXHU2NjJGXHU4ODY4XHU2ODNDXG4gIGNvbnN0IGhhc1ByZXZUYWJsZUxpbmUgPSBsaW5lID4gMCAmJiBsaW5lc1tsaW5lIC0gMV0/LmluY2x1ZGVzKCd8Jyk7XG4gIGNvbnN0IGhhc05leHRUYWJsZUxpbmUgPSBsaW5lIDwgbGluZXMubGVuZ3RoIC0gMSAmJiBsaW5lc1tsaW5lICsgMV0/LmluY2x1ZGVzKCd8Jyk7XG4gIFxuICByZXR1cm4gaGFzUHJldlRhYmxlTGluZSB8fCBoYXNOZXh0VGFibGVMaW5lO1xufVxuXG4vKipcbiAqIFx1RDgzQ1x1REQ5NSBcdTYzRDBcdTUzRDZcdTg4NjhcdTY4M0NcdTUzQ0FcdTUxNzZcdTlBRDhcdTRFQUVcdTRGRTFcdTYwNkZcbiAqL1xucHJpdmF0ZSBleHRyYWN0VGFibGVXaXRoSGlnaGxpZ2h0cyhcbiAgY29udGVudDogc3RyaW5nLCBcbiAgaGlnaGxpZ2h0UG9zaXRpb246IG51bWJlclxuKTogeyB0YWJsZUNvbnRlbnQ6IHN0cmluZzsgaGlnaGxpZ2h0Q291bnQ6IG51bWJlcjsgaGlnaGxpZ2h0Um93czogU2V0PG51bWJlcj47IGhpZ2hsaWdodENvbHVtbnM6IFNldDxudW1iZXI+IH0gfCBudWxsIHtcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgY29uc3QgeyBsaW5lOiBjdXJyZW50TGluZSB9ID0gdGhpcy5jYWxjdWxhdGVQb3NpdGlvbihjb250ZW50LCBoaWdobGlnaHRQb3NpdGlvbik7XG4gIFxuICAvLyBcdTYyN0VcdTUyMzBcdTg4NjhcdTY4M0NcdTc2ODRcdThENzdcdTU5Q0JcdTU0OENcdTdFRDNcdTY3NUZcdTRGNERcdTdGNkVcbiAgbGV0IHRhYmxlU3RhcnQgPSBjdXJyZW50TGluZTtcbiAgbGV0IHRhYmxlRW5kID0gY3VycmVudExpbmU7XG4gIFxuICAvLyBcdTU0MTFcdTRFMEFcdTY3RTVcdTYyN0VcdTg4NjhcdTY4M0NcdTVGMDBcdTU5Q0JcbiAgd2hpbGUgKHRhYmxlU3RhcnQgPiAwICYmIGxpbmVzW3RhYmxlU3RhcnQgLSAxXT8uaW5jbHVkZXMoJ3wnKSkge1xuICAgIHRhYmxlU3RhcnQtLTtcbiAgfVxuICBcbiAgLy8gXHU1NDExXHU0RTBCXHU2N0U1XHU2MjdFXHU4ODY4XHU2ODNDXHU3RUQzXHU2NzVGXG4gIHdoaWxlICh0YWJsZUVuZCA8IGxpbmVzLmxlbmd0aCAtIDEgJiYgbGluZXNbdGFibGVFbmQgKyAxXT8uaW5jbHVkZXMoJ3wnKSkge1xuICAgIHRhYmxlRW5kKys7XG4gIH1cbiAgXG4gIC8vIFx1NjNEMFx1NTNENlx1ODg2OFx1NjgzQ1x1NTE4NVx1NUJCOVxuICBjb25zdCB0YWJsZUxpbmVzID0gbGluZXMuc2xpY2UodGFibGVTdGFydCwgdGFibGVFbmQgKyAxKTtcbiAgY29uc3QgdGFibGVDb250ZW50ID0gdGFibGVMaW5lcy5qb2luKCdcXG4nKTtcbiAgXG4gIC8vIFx1N0VERlx1OEJBMVx1ODg2OFx1NjgzQ1x1NEUyRFx1NjI0MFx1NjcwOVx1OUFEOFx1NEVBRVxuICBjb25zdCBoaWdobGlnaHRSZWdleCA9IC89PSguKz8pPT0vZztcbiAgY29uc3QgaGlnaGxpZ2h0Um93cyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICBjb25zdCBoaWdobGlnaHRDb2x1bW5zID0gbmV3IFNldDxudW1iZXI+KCk7XG4gIGxldCBoaWdobGlnaHRDb3VudCA9IDA7XG4gIFxuICB0YWJsZUxpbmVzLmZvckVhY2goKGxpbmUsIHJvd0luZGV4KSA9PiB7XG4gICAgY29uc3QgY2VsbHMgPSBsaW5lLnNwbGl0KCd8JykubWFwKGMgPT4gYy50cmltKCkpLmZpbHRlcihjID0+IGMpO1xuICAgIFxuICAgIC8vIFx1RDgzRFx1REQyNyBcdTY1MzlcdThGREJcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcdTY4QzBcdTZENEJcbiAgICBpZiAoY2VsbHMubGVuZ3RoID4gMCAmJiBjZWxscy5ldmVyeShjZWxsID0+IC9eWy06XFxzXSskLy50ZXN0KGNlbGwpKSkge1xuICAgICAgcmV0dXJuOyAvLyBcdThERjNcdThGQzdcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcbiAgICB9XG4gICAgXG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbCwgY29sSW5kZXgpID0+IHtcbiAgICAgIGlmIChoaWdobGlnaHRSZWdleC50ZXN0KGNlbGwpKSB7XG4gICAgICAgIGhpZ2hsaWdodFJvd3MuYWRkKHJvd0luZGV4KTtcbiAgICAgICAgaGlnaGxpZ2h0Q29sdW1ucy5hZGQoY29sSW5kZXgpO1xuICAgICAgICBoaWdobGlnaHRDb3VudCsrO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgXG4gIHJldHVybiB7XG4gICAgdGFibGVDb250ZW50LFxuICAgIGhpZ2hsaWdodENvdW50LFxuICAgIGhpZ2hsaWdodFJvd3MsXG4gICAgaGlnaGxpZ2h0Q29sdW1uc1xuICB9O1xufVxuXG4vKipcbiAqIFx1RDgzQ1x1REQ5NSBcdTY4MzlcdTYzNkVcdTlBRDhcdTRFQUVcdTRGNERcdTdGNkVcdTYzRDBcdTUzRDZcdTg4NjhcdTY4M0NcdTc2ODRcdTcyNzlcdTVCOUFcdTkwRThcdTUyMDZcbiAqL1xucHJpdmF0ZSBleHRyYWN0VGFibGVQb3J0aW9uKFxuICB0YWJsZUxpbmVzOiBzdHJpbmdbXSwgXG4gIGhpZ2hsaWdodFJvd3M6IFNldDxudW1iZXI+LCBcbiAgaGlnaGxpZ2h0Q29sdW1uczogU2V0PG51bWJlcj4sXG4gIGhpZ2hsaWdodENvdW50OiBudW1iZXJcbik6IHN0cmluZyB7XG4gIGNvbnN0IHRvdGFsUm93cyA9IHRhYmxlTGluZXMubGVuZ3RoO1xuIC8vIFx1RDgzRFx1REQyNyBcdTY1MzlcdThGREJcdTUyMDZcdTk2OTRcdTdCMjZcdTg4NENcdTY4QzBcdTZENEJcbiBjb25zdCBzZXBhcmF0b3JJbmRleCA9IHRhYmxlTGluZXMuZmluZEluZGV4KChsaW5lLCBpZHgpID0+IHtcbiAgaWYgKGlkeCA9PT0gMCkgcmV0dXJuIGZhbHNlOyAvLyBcdTdCMkNcdTRFMDBcdTg4NENcdTRFMERcdTUzRUZcdTgwRkRcdTY2MkZcdTUyMDZcdTk2OTRcdTdCMjZcbiAgY29uc3QgY2VsbHMgPSBsaW5lLnNwbGl0KCd8JykubWFwKGMgPT4gYy50cmltKCkpLmZpbHRlcihjID0+IGMpO1xuICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTYyNDBcdTY3MDlcdTUzNTVcdTUxNDNcdTY4M0NcdTkwRkRcdTUzRUFcdTUzMDVcdTU0MkIgLVx1MzAwMTogXHU1NDhDXHU3QTdBXHU2ODNDXG4gIHJldHVybiBjZWxscy5sZW5ndGggPiAwICYmIGNlbGxzLmV2ZXJ5KGNlbGwgPT4gL15bLTpcXHNdKyQvLnRlc3QoY2VsbCkpO1xufSk7XG5cbi8vIFx1NTk4Mlx1Njc5Q1x1NkNBMVx1NjI3RVx1NTIzMFx1NTIwNlx1OTY5NFx1N0IyNlx1RkYwQ1x1NTA0N1x1OEJCRVx1N0IyQ1x1NEU4Q1x1ODg0Q1x1NjYyRlx1NTIwNlx1OTY5NFx1N0IyNlxuY29uc3QgYWN0dWFsU2VwYXJhdG9ySW5kZXggPSBzZXBhcmF0b3JJbmRleCAhPT0gLTEgPyBzZXBhcmF0b3JJbmRleCA6IDE7XG4gIFxuICAvLyBcdTYwQzVcdTUxQjUxOiBcdTY1NzRcdTUyMTdcdTlBRDhcdTRFQUUgLSBcdTYzRDBcdTUzRDZcdTY1NzRcdTRFMkFcdTg4NjhcdTY4M0NcbiAgY29uc3QgZmlyc3REYXRhUm93ID0gdGFibGVMaW5lc1tzZXBhcmF0b3JJbmRleCArIDFdIHx8IHRhYmxlTGluZXNbMV07XG4gIGNvbnN0IGNvbHVtbkNvdW50ID0gZmlyc3REYXRhUm93LnNwbGl0KCd8JykuZmlsdGVyKGMgPT4gYy50cmltKCkpLmxlbmd0aDtcbiAgXG4gIGlmIChoaWdobGlnaHRDb2x1bW5zLnNpemUgPT09IGNvbHVtbkNvdW50IHx8IGhpZ2hsaWdodENvdW50ID49IHRvdGFsUm93cyAtIDEpIHtcbiAgICByZXR1cm4gdGFibGVMaW5lcy5qb2luKCdcXG4nKTtcbiAgfVxuICBcbiAgLy8gXHU2MEM1XHU1MUI1MjogXHU1MzU1XHU4ODRDXHU5QUQ4XHU0RUFFIC0gXHU2M0QwXHU1M0Q2XHU4QkU1XHU4ODRDXHVGRjA4XHU1MzA1XHU1NDJCXHU4ODY4XHU1OTM0XHU1NDhDXHU1MjA2XHU5Njk0XHU3QjI2XHVGRjA5XG4gIGlmIChoaWdobGlnaHRSb3dzLnNpemUgPT09IDEpIHtcbiAgICBjb25zdCBoaWdobGlnaHRSb3cgPSBBcnJheS5mcm9tKGhpZ2hsaWdodFJvd3MpWzBdO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtcbiAgICAgIHRhYmxlTGluZXNbMF0sIC8vIFx1ODg2OFx1NTkzNFxuICAgICAgdGFibGVMaW5lc1tzZXBhcmF0b3JJbmRleF0sIC8vIFx1NTIwNlx1OTY5NFx1N0IyNlxuICAgICAgdGFibGVMaW5lc1toaWdobGlnaHRSb3ddIC8vIFx1OUFEOFx1NEVBRVx1ODg0Q1xuICAgIF07XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKCdcXG4nKTtcbiAgfVxuICBcbiAgLy8gXHU2MEM1XHU1MUI1MzogXHU1OTFBXHU4ODRDXHU5QUQ4XHU0RUFFIC0gXHU2M0QwXHU1M0Q2XHU4RkQ5XHU0RTlCXHU4ODRDXG4gIGNvbnN0IHJlc3VsdCA9IFt0YWJsZUxpbmVzWzBdLCB0YWJsZUxpbmVzW3NlcGFyYXRvckluZGV4XV07XG4gIGhpZ2hsaWdodFJvd3MuZm9yRWFjaChyb3dJbmRleCA9PiB7XG4gICAgaWYgKHJvd0luZGV4ICE9PSAwICYmIHJvd0luZGV4ICE9PSBzZXBhcmF0b3JJbmRleCkge1xuICAgICAgcmVzdWx0LnB1c2godGFibGVMaW5lc1tyb3dJbmRleF0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQuam9pbignXFxuJyk7XG59XG5wcml2YXRlIGFzeW5jIGV4dHJhY3RDbG96ZUNhcmRzKGZpbGU6IFRGaWxlLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPENvbnRlbnRVbml0W10+IHtcbiAgY29uc3QgdW5pdHM6IENvbnRlbnRVbml0W10gPSBbXTtcbiAgY29uc3QgaGlnaGxpZ2h0UmVnZXggPSAvPT0oLis/KT09L2c7XG4gIGNvbnN0IHByb2Nlc3NlZFRhYmxlcyA9IG5ldyBTZXQ8c3RyaW5nPigpOyAvLyBcdThCQjBcdTVGNTVcdTVERjJcdTU5MDRcdTc0MDZcdTc2ODRcdTg4NjhcdTY4M0NcbiAgY29uc3QgcHJvY2Vzc2VkSGlnaGxpZ2h0cyA9IG5ldyBTZXQ8bnVtYmVyPigpOyAvLyBcdUQ4M0NcdUREOTUgXHU4QkIwXHU1RjU1XHU1REYyXHU1OTA0XHU3NDA2XHU3Njg0XHU5QUQ4XHU0RUFFXHU0RjREXHU3RjZFXG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gaGlnaGxpZ2h0UmVnZXguZXhlYyhjb250ZW50KSkgIT09IG51bGwpIHtcbiAgICBjb25zdCBleHRyYWN0ZWRUZXh0ID0gbWF0Y2hbMV07XG4gICAgY29uc3QgZnVsbE1hdGNoID0gbWF0Y2hbMF07XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICBcbiAgICAvLyBcdUQ4M0NcdUREOTUgXHU4REYzXHU4RkM3XHU1REYyXHU1OTA0XHU3NDA2XHU3Njg0XHU5QUQ4XHU0RUFFXG4gICAgaWYgKHByb2Nlc3NlZEhpZ2hsaWdodHMuaGFzKG1hdGNoLmluZGV4KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1ODNCN1x1NTNENlx1NUY1M1x1NTI0RFx1ODg0Q1x1NTE4NVx1NUJCOVxuICAgIGNvbnN0IGxpbmVTdGFydCA9IGNvbnRlbnQubGFzdEluZGV4T2YoJ1xcbicsIG1hdGNoLmluZGV4KSArIDE7XG4gICAgY29uc3QgbGluZUVuZCA9IGNvbnRlbnQuaW5kZXhPZignXFxuJywgbWF0Y2guaW5kZXgpO1xuICAgIGNvbnN0IGN1cnJlbnRMaW5lID0gY29udGVudC5zdWJzdHJpbmcobGluZVN0YXJ0LCBsaW5lRW5kID09PSAtMSA/IGNvbnRlbnQubGVuZ3RoIDogbGluZUVuZCk7XG4gICAgXG4gICAgLy8gXHUyNzA1IFx1OERGM1x1OEZDNyBFeGNhbGlkcmF3IFx1OUFEOFx1NEVBRVxuICAgIGlmICh0aGlzLmlzRXhjYWxpZHJhd0hpZ2hsaWdodChleHRyYWN0ZWRUZXh0LCBjdXJyZW50TGluZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBcbiAgICAvLyBcdUQ4M0NcdUREOTUgXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1NzI4XHU4ODY4XHU2ODNDXHU0RTJEXG4gICAgaWYgKHRoaXMuaXNJblRhYmxlKGNvbnRlbnQsIG1hdGNoLmluZGV4KSkge1xuICAgICAgY29uc3QgdGFibGVJbmZvID0gdGhpcy5leHRyYWN0VGFibGVXaXRoSGlnaGxpZ2h0cyhjb250ZW50LCBtYXRjaC5pbmRleCk7XG4gICAgICBcbiAgICAgIGlmICh0YWJsZUluZm8pIHtcbiAgICAgICAgY29uc3QgdGFibGVLZXkgPSBgJHtmaWxlLnBhdGh9LSR7dGFibGVJbmZvLnRhYmxlQ29udGVudC5zdWJzdHJpbmcoMCwgNTApfWA7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTkwN0ZcdTUxNERcdTkxQ0RcdTU5MERcdTU5MDRcdTc0MDZcdTU0MENcdTRFMDBcdTRFMkFcdTg4NjhcdTY4M0NcbiAgICAgICAgaWYgKHByb2Nlc3NlZFRhYmxlcy5oYXModGFibGVLZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc2VkVGFibGVzLmFkZCh0YWJsZUtleSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdUQ4M0NcdUREOTUgXHU2ODA3XHU4QkIwXHU4RkQ5XHU0RTJBXHU4ODY4XHU2ODNDXHU1MTg1XHU3Njg0XHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXHU0RTNBXHU1REYyXHU1OTA0XHU3NDA2XG4gICAgICAgIGNvbnN0IHRhYmxlSGlnaGxpZ2h0cyA9IHRoaXMuZmluZEFsbEhpZ2hsaWdodHNJblRhYmxlKGNvbnRlbnQsIHRhYmxlSW5mby50YWJsZUNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgdGFibGVIaWdobGlnaHRzLmZvckVhY2gocG9zID0+IHByb2Nlc3NlZEhpZ2hsaWdodHMuYWRkKHBvcykpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgY29uc3QgeyBsaW5lOiBjdXJyZW50TGluZUluZGV4IH0gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjI3RVx1NTIzMFx1ODg2OFx1NjgzQ1x1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVxuICAgICAgICBsZXQgdGFibGVTdGFydCA9IGN1cnJlbnRMaW5lSW5kZXg7XG4gICAgICAgIHdoaWxlICh0YWJsZVN0YXJ0ID4gMCAmJiBsaW5lc1t0YWJsZVN0YXJ0IC0gMV0/LmluY2x1ZGVzKCd8JykpIHtcbiAgICAgICAgICB0YWJsZVN0YXJ0LS07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhYmxlTGluZXMgPSB0YWJsZUluZm8udGFibGVDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkVGFibGUgPSB0aGlzLmV4dHJhY3RUYWJsZVBvcnRpb24oXG4gICAgICAgICAgdGFibGVMaW5lcyxcbiAgICAgICAgICB0YWJsZUluZm8uaGlnaGxpZ2h0Um93cyxcbiAgICAgICAgICB0YWJsZUluZm8uaGlnaGxpZ2h0Q29sdW1ucyxcbiAgICAgICAgICB0YWJsZUluZm8uaGlnaGxpZ2h0Q291bnRcbiAgICAgICAgKTtcbiAgICAgICAgLy8gXHVEODNEXHVERDI3IFx1OUE4Q1x1OEJDMVx1NjNEMFx1NTNENlx1NzY4NFx1ODg2OFx1NjgzQ1x1NjYyRlx1NTQyNlx1NTMwNVx1NTQyQlx1NTIwNlx1OTY5NFx1N0IyNlx1ODg0Q1xuY29uc3QgZXh0cmFjdGVkTGluZXMgPSBleHRyYWN0ZWRUYWJsZS5zcGxpdCgnXFxuJyk7XG5jb25zdCBoYXNTZXBhcmF0b3IgPSBleHRyYWN0ZWRMaW5lcy5zb21lKGxpbmUgPT4ge1xuICBjb25zdCBjZWxscyA9IGxpbmUuc3BsaXQoJ3wnKS5tYXAoYyA9PiBjLnRyaW0oKSkuZmlsdGVyKGMgPT4gYyk7XG4gIHJldHVybiBjZWxscy5sZW5ndGggPiAwICYmIGNlbGxzLmV2ZXJ5KGNlbGwgPT4gL15bLTpcXHNdKyQvLnRlc3QoY2VsbCkpO1xufSk7XG5cbi8vIFx1NTk4Mlx1Njc5Q1x1N0YzQVx1NUMxMVx1NTIwNlx1OTY5NFx1N0IyNlx1ODg0Q1x1RkYwQ1x1ODFFQVx1NTJBOFx1NkRGQlx1NTJBMFxuaWYgKCFoYXNTZXBhcmF0b3IgJiYgZXh0cmFjdGVkTGluZXMubGVuZ3RoID49IDIpIHtcbiAgY29uc3QgaGVhZGVyQ2VsbHMgPSBleHRyYWN0ZWRMaW5lc1swXS5zcGxpdCgnfCcpLm1hcChjID0+IGMudHJpbSgpKS5maWx0ZXIoYyA9PiBjKTtcbiAgY29uc3Qgc2VwYXJhdG9yID0gJ3wgJyArIGhlYWRlckNlbGxzLm1hcCgoKSA9PiAnLS0tJykuam9pbignIHwgJykgKyAnIHwnO1xuICBleHRyYWN0ZWRMaW5lcy5zcGxpY2UoMSwgMCwgc2VwYXJhdG9yKTtcbiAgY29uc3QgZXh0cmFjdGVkVGFibGUgPSBleHRyYWN0ZWRMaW5lcy5qb2luKCdcXG4nKTtcbn1cbiAgICAgICAgLy8gXHU4QkExXHU3Qjk3XHU4ODY4XHU2ODNDXHU1NzI4XHU2NTg3XHU2ODYzXHU0RTJEXHU3Njg0XHU4RDc3XHU1OUNCXHU0RjREXHU3RjZFXG4gICAgICAgIGxldCB0YWJsZVN0YXJ0T2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZVN0YXJ0OyBpKyspIHtcbiAgICAgICAgICB0YWJsZVN0YXJ0T2Zmc2V0ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFx1RDgzQ1x1REQ5NSBcdTY1MzZcdTk2QzZcdTYyNDBcdTY3MDlcdTlBRDhcdTRFQUVcdTUxODVcdTVCQjlcbiAgICAgICAgY29uc3QgYWxsSGlnaGxpZ2h0cyA9IHRoaXMuZXh0cmFjdEFsbEhpZ2hsaWdodHNGcm9tVGFibGUodGFibGVJbmZvLnRhYmxlQ29udGVudCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1bml0OiBDb250ZW50VW5pdCA9IHtcbiAgICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICAgICAgdHlwZTogJ2Nsb3plJyxcbiAgICAgICAgICBjb250ZW50OiBhbGxIaWdobGlnaHRzLmpvaW4oJywgJyksIC8vIFx1RDgzQ1x1REQ5NSBcdTUzMDVcdTU0MkJcdTYyNDBcdTY3MDlcdTlBRDhcdTRFQUVcbiAgICAgICAgICBmdWxsQ29udGV4dDogZXh0cmFjdGVkVGFibGUsIC8vIFx1NjYzRVx1NzkzQVx1NjNEMFx1NTNENlx1NzY4NFx1ODg2OFx1NjgzQ1x1OTBFOFx1NTIwNlxuICAgICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgZmlsZTogZmlsZS5wYXRoLFxuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgc3RhcnQ6IHRhYmxlU3RhcnRPZmZzZXQsXG4gICAgICAgICAgICAgIGVuZDogdGFibGVTdGFydE9mZnNldCArIHRhYmxlSW5mby50YWJsZUNvbnRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgICBsaW5lOiB0YWJsZVN0YXJ0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZGluZzogdGhpcy5maW5kSGVhZGluZyhjb250ZW50LCBtYXRjaC5pbmRleCksXG4gICAgICAgICAgICBhbmNob3JMaW5rOiBgW1ske2ZpbGUuYmFzZW5hbWV9I14ke3RoaXMuZ2VuZXJhdGVCbG9ja0lkKCl9XV1gXG4gICAgICAgICAgfSxcbiAgICAgICAgICBleHRyYWN0UnVsZToge1xuICAgICAgICAgICAgcnVsZUlkOiAnY2xvemUtdGFibGUnLFxuICAgICAgICAgICAgcnVsZU5hbWU6ICdUYWJsZSBDbG96ZSBEZWxldGlvbicsXG4gICAgICAgICAgICBleHRyYWN0ZWRCeTogJ2F1dG8nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdGFnczogWy4uLnRoaXMuZXh0cmFjdFRhZ3MoY29udGVudCwgbWF0Y2guaW5kZXgpLCAnI3RhYmxlJ10sXG4gICAgICAgICAgICBjdXN0b21EYXRhOiB7XG4gICAgICAgICAgICAgIHRhYmxlVHlwZTogJ3BhcnRpYWwnLFxuICAgICAgICAgICAgICBoaWdobGlnaHRDb3VudDogdGFibGVJbmZvLmhpZ2hsaWdodENvdW50LFxuICAgICAgICAgICAgICByb3dDb3VudDogdGFibGVJbmZvLmhpZ2hsaWdodFJvd3Muc2l6ZSxcbiAgICAgICAgICAgICAgY29sdW1uQ291bnQ6IHRhYmxlSW5mby5oaWdobGlnaHRDb2x1bW5zLnNpemUsXG4gICAgICAgICAgICAgIGFsbEhpZ2hsaWdodHM6IGFsbEhpZ2hsaWdodHMgLy8gXHVEODNDXHVERDk1IFx1NEZERFx1NUI1OFx1NjI0MFx1NjcwOVx1OUFEOFx1NEVBRVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmxhc2hjYXJkSWRzOiBbXVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcblxuLy8gXHVEODNDXHVERkFGIFx1ODlFM1x1OTUwMVx1N0NGQlx1N0VERlx1NjhDMFx1NjdFNVx1NzBCOSAtIFx1NjI2Qlx1NjNDRlx1NTIzMFx1ODg2OFx1NjgzQ1xuaWYgKHRoaXMucGx1Z2luPy51bmxvY2tTeXN0ZW0pIHtcbiAgYXdhaXQgdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLm9uVGFibGVTY2FubmVkKCk7XG59XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBcdTUzOUZcdTY3MDlcdTc2ODRcdTY2NkVcdTkwMUFcdTlBRDhcdTRFQUVcdTU5MDRcdTc0MDZcdTkwM0JcdThGOTEuLi5cbiAgICBjb25zdCBmdWxsU2VudGVuY2UgPSB0aGlzLmV4dHJhY3RGdWxsU2VudGVuY2UoY29udGVudCwgbWF0Y2guaW5kZXgsIGZ1bGxNYXRjaC5sZW5ndGgpO1xuXG4gICAgY29uc3QgdW5pdDogQ29udGVudFVuaXQgPSB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICB0eXBlOiAnY2xvemUnLFxuICAgICAgY29udGVudDogZXh0cmFjdGVkVGV4dC50cmltKCksXG4gICAgICBmdWxsQ29udGV4dDogZnVsbFNlbnRlbmNlLFxuICAgICAgc291cmNlOiB7XG4gICAgICAgIGZpbGU6IGZpbGUucGF0aCxcbiAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICBzdGFydDogbWF0Y2guaW5kZXgsXG4gICAgICAgICAgZW5kOiBtYXRjaC5pbmRleCArIGZ1bGxNYXRjaC5sZW5ndGgsXG4gICAgICAgICAgbGluZTogcG9zaXRpb24ubGluZVxuICAgICAgICB9LFxuICAgICAgICBoZWFkaW5nOiB0aGlzLmZpbmRIZWFkaW5nKGNvbnRlbnQsIG1hdGNoLmluZGV4KSxcbiAgICAgICAgYW5jaG9yTGluazogYFtbJHtmaWxlLmJhc2VuYW1lfSNeJHt0aGlzLmdlbmVyYXRlQmxvY2tJZCgpfV1dYFxuICAgICAgfSxcbiAgICAgIGV4dHJhY3RSdWxlOiB7XG4gICAgICAgIHJ1bGVJZDogJ2Nsb3plJyxcbiAgICAgICAgcnVsZU5hbWU6ICdDbG96ZSBEZWxldGlvbicsXG4gICAgICAgIGV4dHJhY3RlZEJ5OiAnYXV0bydcbiAgICAgIH0sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdGFnczogdGhpcy5leHRyYWN0VGFncyhjb250ZW50LCBtYXRjaC5pbmRleClcbiAgICAgIH0sXG4gICAgICBmbGFzaGNhcmRJZHM6IFtdXG4gICAgfTtcblxuICAgIHVuaXRzLnB1c2godW5pdCk7XG4gIH1cblxuICByZXR1cm4gdW5pdHM7XG59XG5cbi8vIFx1RDgzQ1x1REQ5NSBcdTZERkJcdTUyQTBcdThGODVcdTUyQTlcdTY1QjlcdTZDRDU6XHU2MjdFXHU1MjMwXHU4ODY4XHU2ODNDXHU1MTg1XHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXHU3Njg0XHU0RjREXHU3RjZFXG5wcml2YXRlIGZpbmRBbGxIaWdobGlnaHRzSW5UYWJsZShcbiAgY29udGVudDogc3RyaW5nLCBcbiAgdGFibGVDb250ZW50OiBzdHJpbmcsIFxuICBjdXJyZW50SGlnaGxpZ2h0UG9zOiBudW1iZXJcbik6IG51bWJlcltdIHtcbiAgY29uc3QgcG9zaXRpb25zOiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICBjb25zdCB7IGxpbmU6IGN1cnJlbnRMaW5lIH0gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKGNvbnRlbnQsIGN1cnJlbnRIaWdobGlnaHRQb3MpO1xuICBcbiAgLy8gXHU2MjdFXHU1MjMwXHU4ODY4XHU2ODNDXHU4MzAzXHU1NkY0XG4gIGxldCB0YWJsZVN0YXJ0ID0gY3VycmVudExpbmU7XG4gIGxldCB0YWJsZUVuZCA9IGN1cnJlbnRMaW5lO1xuICBcbiAgd2hpbGUgKHRhYmxlU3RhcnQgPiAwICYmIGxpbmVzW3RhYmxlU3RhcnQgLSAxXT8uaW5jbHVkZXMoJ3wnKSkge1xuICAgIHRhYmxlU3RhcnQtLTtcbiAgfVxuICB3aGlsZSAodGFibGVFbmQgPCBsaW5lcy5sZW5ndGggLSAxICYmIGxpbmVzW3RhYmxlRW5kICsgMV0/LmluY2x1ZGVzKCd8JykpIHtcbiAgICB0YWJsZUVuZCsrO1xuICB9XG4gIFxuICAvLyBcdThCQTFcdTdCOTdcdTg4NjhcdTY4M0NcdThENzdcdTU5Q0JcdTUwNEZcdTc5RkJcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGFibGVTdGFydDsgaSsrKSB7XG4gICAgb2Zmc2V0ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7XG4gIH1cbiAgXG4gIC8vIFx1NTcyOFx1ODg2OFx1NjgzQ1x1ODMwM1x1NTZGNFx1NTE4NVx1NjdFNVx1NjI3RVx1NjI0MFx1NjcwOVx1OUFEOFx1NEVBRVxuICBjb25zdCBoaWdobGlnaHRSZWdleCA9IC89PSguKz8pPT0vZztcbiAgbGV0IG1hdGNoO1xuICBjb25zdCB0YWJsZUVuZE9mZnNldCA9IG9mZnNldCArIHRhYmxlQ29udGVudC5sZW5ndGg7XG4gIFxuICB3aGlsZSAoKG1hdGNoID0gaGlnaGxpZ2h0UmVnZXguZXhlYyhjb250ZW50KSkgIT09IG51bGwpIHtcbiAgICBpZiAobWF0Y2guaW5kZXggPj0gb2Zmc2V0ICYmIG1hdGNoLmluZGV4IDwgdGFibGVFbmRPZmZzZXQpIHtcbiAgICAgIHBvc2l0aW9ucy5wdXNoKG1hdGNoLmluZGV4KTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBwb3NpdGlvbnM7XG59XG5cbi8vIFx1RDgzQ1x1REQ5NSBcdTZERkJcdTUyQTBcdThGODVcdTUyQTlcdTY1QjlcdTZDRDU6XHU2M0QwXHU1M0Q2XHU4ODY4XHU2ODNDXHU0RTJEXHU2MjQwXHU2NzA5XHU5QUQ4XHU0RUFFXHU1MTg1XHU1QkI5XG5wcml2YXRlIGV4dHJhY3RBbGxIaWdobGlnaHRzRnJvbVRhYmxlKHRhYmxlQ29udGVudDogc3RyaW5nKTogc3RyaW5nW10ge1xuICBjb25zdCBoaWdobGlnaHRzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBoaWdobGlnaHRSZWdleCA9IC89PSguKz8pPT0vZztcbiAgbGV0IG1hdGNoO1xuICBcbiAgd2hpbGUgKChtYXRjaCA9IGhpZ2hsaWdodFJlZ2V4LmV4ZWModGFibGVDb250ZW50KSkgIT09IG51bGwpIHtcbiAgICBoaWdobGlnaHRzLnB1c2gobWF0Y2hbMV0udHJpbSgpKTtcbiAgfVxuICBcbiAgcmV0dXJuIGhpZ2hsaWdodHM7XG59XG5cbn0iLCAiLy8gYW5ub3RhdGlvbiBNYW5hZ2VyLnRzXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi9tYWluJztcblxuZXhwb3J0IGludGVyZmFjZSBBbm5vdGF0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgdGFyZ2V0VHlwZTogJ2NvbnRlbnQnIHwgJ2ZpbGUnO1xuICB0YXJnZXRJZDogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGJhZGdlPzoge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBjb2xvcjogc3RyaW5nO1xuICAgIGljb24/OiBzdHJpbmc7XG4gIH07XG4gIG1ldGFkYXRhOiB7XG4gICAgY3JlYXRlZEF0OiBudW1iZXI7XG4gICAgdXBkYXRlZEF0OiBudW1iZXI7XG4gICAgaXNQaW5uZWQ/OiBib29sZWFuO1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk1hbmFnZXIge1xuICBwcml2YXRlIGFubm90YXRpb25zOiBNYXA8c3RyaW5nLCBBbm5vdGF0aW9uPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBkYXRhRm9sZGVyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHA6IEFwcCxcbiAgICBwcml2YXRlIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW5cbiAgKSB7XG4gICAgdGhpcy5kYXRhRm9sZGVyID0gYCR7dGhpcy5hcHAudmF1bHQuY29uZmlnRGlyfS9wbHVnaW5zL2xlYXJuaW5nLXN5c3RlbS9kYXRhYDtcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkQW5ub3RhdGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyQTBcdThGN0RcdTYyNDBcdTY3MDlcdTYyNzlcdTZDRThcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbG9hZEFubm90YXRpb25zKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXRoID0gYCR7dGhpcy5kYXRhRm9sZGVyfS9hbm5vdGF0aW9ucy5qc29uYDtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuXG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHMocGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFkYXB0ZXIucmVhZChwYXRoKTtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbnM6IEFubm90YXRpb25bXSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGFubm90YXRpb24gb2YgYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25zLnNldChhbm5vdGF0aW9uLmlkLCBhbm5vdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGFubm90YXRpb25zOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXHU2REZCXHU1MkEwXHU1MTg1XHU1QkI5XHU2Mjc5XHU2Q0U4XG4gICAqL1xuICBhc3luYyBhZGRDb250ZW50QW5ub3RhdGlvbihcbiAgICBjb250ZW50VW5pdElkOiBzdHJpbmcsXG4gICAgY29udGVudDogc3RyaW5nLFxuICAgIGJhZGdlPzogQW5ub3RhdGlvblsnYmFkZ2UnXVxuICApOiBQcm9taXNlPEFubm90YXRpb24+IHtcbiAgICBjb25zdCBhbm5vdGF0aW9uOiBBbm5vdGF0aW9uID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdGFyZ2V0VHlwZTogJ2NvbnRlbnQnLFxuICAgICAgdGFyZ2V0SWQ6IGNvbnRlbnRVbml0SWQsXG4gICAgICBjb250ZW50LFxuICAgICAgYmFkZ2UsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmFubm90YXRpb25zLnNldChhbm5vdGF0aW9uLmlkLCBhbm5vdGF0aW9uKTtcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3QoKTtcbi8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjlcbmF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkFubm90YXRpb25Db21wbGV0ZWQoKTtcbiAgICAvLyBcdTY2RjRcdTY1QjAgQ29udGVudFVuaXQgXHU1MTczXHU4MDU0XG4gICAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRDb250ZW50VW5pdChjb250ZW50VW5pdElkKTtcbiAgICBpZiAoY29udGVudFVuaXQpIHtcbiAgICAgIGNvbnRlbnRVbml0LmFubm90YXRpb25JZCA9IGFubm90YXRpb24uaWQ7XG4gICAgICBjb250ZW50VW5pdC5tZXRhZGF0YS51cGRhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0KGNvbnRlbnRVbml0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYW5ub3RhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTZERkJcdTUyQTBcdTY1ODdcdTRFRjZcdTYyNzlcdTZDRThcbiAgICovXG4gIGFzeW5jIGFkZEZpbGVBbm5vdGF0aW9uKFxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgY29udGVudDogc3RyaW5nXG4gICk6IFByb21pc2U8QW5ub3RhdGlvbj4ge1xuICAgIGNvbnN0IGFubm90YXRpb246IEFubm90YXRpb24gPSB7XG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICB0YXJnZXRUeXBlOiAnZmlsZScsXG4gICAgICB0YXJnZXRJZDogZmlsZVBhdGgsXG4gICAgICBjb250ZW50LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KClcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hbm5vdGF0aW9ucy5zZXQoYW5ub3RhdGlvbi5pZCwgYW5ub3RhdGlvbik7XG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG5cblxuLy8gXHVEODNDXHVERkFGIFx1ODlFM1x1OTUwMVx1N0NGQlx1N0VERlx1NjhDMFx1NjdFNVx1NzBCOVxuYXdhaXQgdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLm9uQW5ub3RhdGlvbkNvbXBsZXRlZCgpO1xuICAgIHJldHVybiBhbm5vdGF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NjI3OVx1NkNFOFxuICAgKi9cbiAgZ2V0QW5ub3RhdGlvbihpZDogc3RyaW5nKTogQW5ub3RhdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuYW5ub3RhdGlvbnMuZ2V0KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTUxODVcdTVCQjlcdTc2ODRcdTYyNzlcdTZDRThcbiAgICovXG4gIGdldENvbnRlbnRBbm5vdGF0aW9uKGNvbnRlbnRVbml0SWQ6IHN0cmluZyk6IEFubm90YXRpb24gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY29udGVudFVuaXRJZCk7XG4gICAgaWYgKCFjb250ZW50VW5pdD8uYW5ub3RhdGlvbklkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIFxuICAgIHJldHVybiB0aGlzLmFubm90YXRpb25zLmdldChjb250ZW50VW5pdC5hbm5vdGF0aW9uSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NjU4N1x1NEVGNlx1NzY4NFx1NjI0MFx1NjcwOVx1NjI3OVx1NkNFOFxuICAgKi9cbiAgZ2V0RmlsZUFubm90YXRpb25zKGZpbGVQYXRoOiBzdHJpbmcpOiBBbm5vdGF0aW9uW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYW5ub3RhdGlvbnMudmFsdWVzKCkpLmZpbHRlcihcbiAgICAgIGFubiA9PiBhbm4udGFyZ2V0VHlwZSA9PT0gJ2ZpbGUnICYmIGFubi50YXJnZXRJZCA9PT0gZmlsZVBhdGhcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjZGNFx1NjVCMFx1NjI3OVx1NkNFOFxuICAgKi9cbiAgYXN5bmMgdXBkYXRlQW5ub3RhdGlvbihcbiAgICBpZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8QW5ub3RhdGlvbj5cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYW5ub3RhdGlvbiA9IHRoaXMuYW5ub3RhdGlvbnMuZ2V0KGlkKTtcbiAgICBpZiAoIWFubm90YXRpb24pIHJldHVybjtcblxuICAgIE9iamVjdC5hc3NpZ24oYW5ub3RhdGlvbiwgdXBkYXRlcywge1xuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgLi4uYW5ub3RhdGlvbi5tZXRhZGF0YSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLnBlcnNpc3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMjBcdTk2NjRcdTYyNzlcdTZDRThcbiAgICovXG4gIGFzeW5jIGRlbGV0ZUFubm90YXRpb24oaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLmFubm90YXRpb25zLmdldChpZCk7XG4gICAgaWYgKCFhbm5vdGF0aW9uKSByZXR1cm47XG5cbiAgICAvLyBcdTU5ODJcdTY3OUNcdTY2MkZcdTUxODVcdTVCQjlcdTYyNzlcdTZDRThcdUZGMENcdTg5RTNcdTk2NjRcdTUxNzNcdTgwNTRcbiAgICBpZiAoYW5ub3RhdGlvbi50YXJnZXRUeXBlID09PSAnY29udGVudCcpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRVbml0ID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoYW5ub3RhdGlvbi50YXJnZXRJZCk7XG4gICAgICBpZiAoY29udGVudFVuaXQpIHtcbiAgICAgICAgY29udGVudFVuaXQuYW5ub3RhdGlvbklkID0gdW5kZWZpbmVkO1xuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5zYXZlQ29udGVudFVuaXQoY29udGVudFVuaXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYW5ub3RhdGlvbnMuZGVsZXRlKGlkKTtcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTYyNzlcdTZDRThcbiAgICovXG4gIGdldEFsbEFubm90YXRpb25zKCk6IEFubm90YXRpb25bXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hbm5vdGF0aW9ucy52YWx1ZXMoKSk7XG4gIH1cblxuICAvKipcbiAgICogXHU2MzAxXHU0RTQ1XHU1MzE2XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHBlcnNpc3QoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2Fubm90YXRpb25zLmpzb25gO1xuICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBBcnJheS5mcm9tKHRoaXMuYW5ub3RhdGlvbnMudmFsdWVzKCkpO1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGFubm90YXRpb25zLCBudWxsLCAyKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGVyc2lzdGluZyBhbm5vdGF0aW9uczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1NTUyRlx1NEUwMCBJRFxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBhbm4tJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG59IiwgIi8vIGZsYXNoY2FyZCBtYW5hZ2VyLnRzXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBEYXRhTWFuYWdlciwgQ29udGVudFVuaXQgfSBmcm9tICcuL0RhdGFNYW5hZ2VyJzsgXG5pbXBvcnQgdHlwZSBMZWFybmluZ1N5c3RlbVBsdWdpbiBmcm9tICcuLi9tYWluJztcblxuZXhwb3J0IGludGVyZmFjZSBGbGFzaGNhcmQge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiAncWEnIHwgJ2Nsb3plJztcbiAgc291cmNlQ29udGVudElkOiBzdHJpbmc7XG4gIHNvdXJjZUZpbGU6IHN0cmluZztcbiAgYW5jaG9yTGluazogc3RyaW5nO1xuICBcbiAgLy8gXHU1MzYxXHU3MjQ3XHU1MTg1XHU1QkI5XG4gIGZyb250OiBzdHJpbmc7XG4gIGJhY2s6IHN0cmluZyB8IHN0cmluZ1tdO1xuICBcbiAgLy8gXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU0RTEzXHU3NTI4XG4gIGNsb3plPzoge1xuICAgIG9yaWdpbmFsOiBzdHJpbmc7XG4gICAgZGVsZXRpb25zOiB7XG4gICAgICBpbmRleDogbnVtYmVyO1xuICAgICAgYW5zd2VyOiBzdHJpbmc7XG4gICAgICBhbHRlcm5hdGl2ZXM/OiBzdHJpbmdbXTtcbiAgICB9W107XG4gIH07XG4gIFxuICAvLyBcdTUyMDZcdTdFQzRcbiAgZGVjazogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgXG4gIC8vIFx1NTkwRFx1NEU2MFx1NjU3MFx1NjM2RVxuICBzY2hlZHVsaW5nOiB7XG4gICAgaW50ZXJ2YWw6IG51bWJlcjtcbiAgICBlYXNlOiBudW1iZXI7XG4gICAgZHVlOiBudW1iZXI7XG4gICAgbGFwc2VzOiBudW1iZXI7XG4gICAgcmVwczogbnVtYmVyO1xuICAgIHN0YXRlOiAnbmV3JyB8ICdsZWFybmluZycgfCAncmV2aWV3JyB8ICdyZWxlYXJuaW5nJztcbiAgfTtcbiAgXG4gIC8vIFx1N0VERlx1OEJBMVxuICBzdGF0czoge1xuICAgIHRvdGFsUmV2aWV3czogbnVtYmVyO1xuICAgIGNvcnJlY3RDb3VudDogbnVtYmVyO1xuICAgIGF2ZXJhZ2VUaW1lOiBudW1iZXI7XG4gICAgbGFzdFJldmlldz86IG51bWJlcjtcbiAgICBkaWZmaWN1bHR5OiBudW1iZXI7XG4gIH07XG4gIFxuICBtZXRhZGF0YToge1xuICAgIGNyZWF0ZWRBdDogbnVtYmVyO1xuICAgIHVwZGF0ZWRBdDogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldmlld0xvZyB7XG4gIGlkOiBzdHJpbmc7XG4gIGZsYXNoY2FyZElkOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICBjeWNsZT86IG51bWJlcjtcbiAgcmVzcG9uc2U6IHtcbiAgICB1c2VyQW5zd2VyPzogc3RyaW5nIHwgc3RyaW5nW107XG4gICAgdGltZVNwZW50OiBudW1iZXI7XG4gICAgZWFzZTogJ2FnYWluJyB8ICdoYXJkJyB8ICdnb29kJyB8ICdlYXN5JztcbiAgfTtcbiAgZ3JhZGluZz86IHtcbiAgICBjb3JyZWN0bmVzczogJ2NvcnJlY3QnIHwgJ3BhcnRpYWwnIHwgJ3dyb25nJztcbiAgICBzaW1pbGFyaXR5PzogbnVtYmVyO1xuICB9O1xuICBzY2hlZHVsaW5nQ2hhbmdlOiB7XG4gICAgb2xkSW50ZXJ2YWw6IG51bWJlcjtcbiAgICBuZXdJbnRlcnZhbDogbnVtYmVyO1xuICAgIG9sZEVhc2U6IG51bWJlcjtcbiAgICBuZXdFYXNlOiBudW1iZXI7XG4gIH07XG59XG5pbnRlcmZhY2UgRGVsZXRlZEl0ZW0ge1xuICB0eXBlOiAnZmxhc2hjYXJkJyB8ICdub3RlJztcbiAgaWQ6IHN0cmluZztcbiAgY29udGVudDogYW55O1xuICBkZWxldGVkQXQ6IG51bWJlcjtcbiAgZGVsZXRlZEJ5OiBzdHJpbmc7XG4gIG1ldGFkYXRhPzogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgRmxhc2hjYXJkTWFuYWdlciB7XG4gIHByaXZhdGUgZmxhc2hjYXJkczogTWFwPHN0cmluZywgRmxhc2hjYXJkPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSByZXZpZXdMb2dzOiBSZXZpZXdMb2dbXSA9IFtdO1xuICBwcml2YXRlIGRhdGFGb2xkZXI6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGFwcDogQXBwLFxuICAgIHByaXZhdGUgZGF0YU1hbmFnZXI6IERhdGFNYW5hZ2VyLFxuICAgIHByaXZhdGUgcGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpblxuICApIHtcbiAgICB0aGlzLmRhdGFGb2xkZXIgPSBgJHt0aGlzLmFwcC52YXVsdC5jb25maWdEaXJ9L3BsdWdpbnMvbGVhcm5pbmctc3lzdGVtL2RhdGFgO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRGbGFzaGNhcmRzKCk7XG4gICAgYXdhaXQgdGhpcy5sb2FkUmV2aWV3TG9ncygpO1xuICAgIGF3YWl0IHRoaXMubG9hZERlbGV0ZUhpc3RvcnkoKTtcbiAgICBhd2FpdCB0aGlzLmxvYWREZWxldGVIaXN0b3J5KCk7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTdFREZcdTRFMDBcdTUyMUJcdTVFRkFcdTUxNjVcdTUzRTMgPT09PT09PT09PT09PT09PT09PT1cbiAgXG4gIC8qKlxuICAgKiBcdUQ4M0NcdUREOTUgXHU3RURGXHU0RTAwXHU1MTY1XHU1M0UzOiBcdTRFQ0UgQ29udGVudFVuaXQgXHU1MjFCXHU1RUZBXHU5NUVBXHU1MzYxXG4gICAqIFx1OTAwMlx1OTE0RFx1NjI0MFx1NjcwOVx1NTczQVx1NjY2RjogXHU1M0YzXHU5NTJFXHU2M0QwXHU1M0Q2XHUzMDAxU2Nhblx1MzAwMVx1NjI3OVx1OTFDRlx1NTIxQlx1NUVGQVx1MzAwMVx1NUZFQlx1OTAxRlx1NzUxRlx1NjIxMFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlRmxhc2hjYXJkRnJvbVVuaXQoXG4gICAgdW5pdDogQ29udGVudFVuaXQsXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIGN1c3RvbVF1ZXN0aW9uPzogc3RyaW5nO1xuICAgICAgY3VzdG9tQW5zd2VyPzogc3RyaW5nO1xuICAgICAgY2FyZFR5cGU/OiAncWEnIHwgJ2Nsb3plJztcbiAgICB9XG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgXG4gICAgXG4gICAgY29uc3QgY2FyZFR5cGUgPSBvcHRpb25zPy5jYXJkVHlwZSB8fCAodW5pdC50eXBlID09PSAnUUEnID8gJ3FhJyA6ICdjbG96ZScpO1xuICBcbiAgICBsZXQgZmxhc2hjYXJkOiBGbGFzaGNhcmQ7XG4gIFxuICAgIGlmIChjYXJkVHlwZSA9PT0gJ3FhJyB8fCB1bml0LnR5cGUgPT09ICdRQScpIHtcbiAgICAgIGNvbnN0IHF1ZXN0aW9uID0gb3B0aW9ucz8uY3VzdG9tUXVlc3Rpb24gfHwgdW5pdC5jb250ZW50O1xuICAgICAgY29uc3QgYW5zd2VyID0gb3B0aW9ucz8uY3VzdG9tQW5zd2VyIHx8IHVuaXQuYW5zd2VyIHx8IHVuaXQuY29udGVudDtcbiAgICAgIFxuICAgICAgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5jcmVhdGVRQUNhcmQodW5pdC5pZCwgcXVlc3Rpb24sIGFuc3dlcik7XG4gICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGV4dCA9IHVuaXQuZnVsbENvbnRleHQgfHwgdW5pdC5jb250ZW50O1xuICAgICAgY29uc3QgYW5zd2VyID0gb3B0aW9ucz8uY3VzdG9tQW5zd2VyIHx8IHVuaXQuY29udGVudDtcbiAgICAgIFxuICAgICAgY29uc3QgZGVsZXRpb25zID0gW3tcbiAgICAgICAgaW5kZXg6IHRleHQuaW5kZXhPZihhbnN3ZXIpLFxuICAgICAgICBhbnN3ZXI6IGFuc3dlclxuICAgICAgfV07XG4gICAgICBcblxuICAgICAgZmxhc2hjYXJkID0gYXdhaXQgdGhpcy5jcmVhdGVDbG96ZUNhcmQodW5pdC5pZCwgdGV4dCwgZGVsZXRpb25zKTtcbiAgICB9XG4gIFxuICAgIC8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjlcbmF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkNhcmRFeHRyYWN0ZWQoKTtcbiAgXG4gICAgcmV0dXJuIGZsYXNoY2FyZDtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IFx1NjgzOFx1NUZDM1x1NTIxQlx1NUVGQVx1NjVCOVx1NkNENSA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBcdTUyMUJcdTVFRkFcdTk1RUVcdTdCNTRcdTUzNjFcdUZGMDhcdTU1MkZcdTRFMDBcdTcyNDhcdTY3MkNcdUZGMENcdTU0MDhcdTVFNzZcdTRFODZcdTYyNDBcdTY3MDlcdTUyOUZcdTgwRkRcdUZGMDlcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVFBQ2FyZChcbiAgICBjb250ZW50VW5pdElkOiBzdHJpbmcsXG4gICAgcXVlc3Rpb246IHN0cmluZyxcbiAgICBhbnN3ZXI6IHN0cmluZyxcbiAgICBkZWNrPzogc3RyaW5nXG4gICk6IFByb21pc2U8Rmxhc2hjYXJkPiB7XG4gICAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNvbnRlbnRVbml0SWQpO1xuICAgIGlmICghY29udGVudFVuaXQpIHRocm93IG5ldyBFcnJvcignQ29udGVudCB1bml0IG5vdCBmb3VuZCcpO1xuXG4gICAgY29uc3QgY2FyZDogRmxhc2hjYXJkID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxuICAgICAgdHlwZTogJ3FhJyxcbiAgICAgIHNvdXJjZUNvbnRlbnRJZDogY29udGVudFVuaXRJZCxcbiAgICAgIHNvdXJjZUZpbGU6IGNvbnRlbnRVbml0LnNvdXJjZS5maWxlLFxuICAgICAgYW5jaG9yTGluazogY29udGVudFVuaXQuc291cmNlLmFuY2hvckxpbmssXG4gICAgICBmcm9udDogcXVlc3Rpb24sXG4gICAgICBiYWNrOiBhbnN3ZXIsXG4gICAgICBkZWNrOiBkZWNrIHx8IHRoaXMuaW5mZXJEZWNrKGNvbnRlbnRVbml0LnNvdXJjZS5maWxlKSxcbiAgICAgIHRhZ3M6IGNvbnRlbnRVbml0Lm1ldGFkYXRhLnRhZ3MsXG4gICAgICBzY2hlZHVsaW5nOiB0aGlzLmluaXRpYWxpemVTY2hlZHVsaW5nKCksXG4gICAgICBzdGF0czoge1xuICAgICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICAgIGRpZmZpY3VsdHk6IDAuNVxuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZmxhc2hjYXJkcy5zZXQoY2FyZC5pZCwgY2FyZCk7XG4gICAgXG4gICAgLy8gXHU2NkY0XHU2NUIwIENvbnRlbnRVbml0IFx1NTE3M1x1ODA1NFxuICAgIGNvbnRlbnRVbml0LmZsYXNoY2FyZElkcy5wdXNoKGNhcmQuaWQpO1xuICAgIGF3YWl0IHRoaXMuZGF0YU1hbmFnZXIuc2F2ZUNvbnRlbnRVbml0cyhbY29udGVudFVuaXRdKTtcbiAgICBcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3RGbGFzaGNhcmRzKCk7XG4gICAgLy8gXHVEODNDXHVERkFGIFx1ODlFM1x1OTUwMVx1N0NGQlx1N0VERlx1NjhDMFx1NjdFNVx1NzBCOVxuLy8gYXdhaXQgdGhpcy5wbHVnaW4udW5sb2NrU3lzdGVtLm9uQ2FyZEV4dHJhY3RlZCgpO1xucmV0dXJuIGNhcmQ7XG4gIH1cblxuICAvKipcbiAgICogXHU1MjFCXHU1RUZBXHU1QjhDXHU1RjYyXHU1ODZCXHU3QTdBXHU1MzYxXHVGRjA4XHU1NTJGXHU0RTAwXHU3MjQ4XHU2NzJDXHVGRjBDXHU1NDA4XHU1RTc2XHU0RTg2XHU2MjQwXHU2NzA5XHU1MjlGXHU4MEZEXHVGRjA5XG4gICAqL1xuICBhc3luYyBjcmVhdGVDbG96ZUNhcmQoXG4gICAgY29udGVudFVuaXRJZDogc3RyaW5nLFxuICAgIG9yaWdpbmFsOiBzdHJpbmcsXG4gICAgZGVsZXRpb25zOiB7IGluZGV4OiBudW1iZXI7IGFuc3dlcjogc3RyaW5nOyBhbHRlcm5hdGl2ZXM/OiBzdHJpbmdbXSB9W11cbiAgKTogUHJvbWlzZTxGbGFzaGNhcmQ+IHtcbiAgICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMuZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY29udGVudFVuaXRJZCk7XG4gICAgaWYgKCFjb250ZW50VW5pdCkgdGhyb3cgbmV3IEVycm9yKCdDb250ZW50IHVuaXQgbm90IGZvdW5kJyk7XG4gIFxuICAgIC8vIFx1MjE5MCBcdTRGRUVcdTY1MzlcdThGRDlcdTkxQ0M6XHU2OEMwXHU2RDRCXHU2NjJGXHU1NDI2XHU0RTNBXHU4ODY4XHU2ODNDXG4gICAgY29uc3QgaXNUYWJsZSA9IHRoaXMuaXNUYWJsZUZvcm1hdChvcmlnaW5hbCk7XG4gICAgXG4gICAgY29uc3QgZnJvbnQgPSBpc1RhYmxlIFxuICAgICAgPyBvcmlnaW5hbCAgLy8gXHUyMTkwIFx1ODg2OFx1NjgzQ1x1NzZGNFx1NjNBNVx1NEY3Rlx1NzUyOFx1NTM5Rlx1NjU4NyxcdTRGRERcdTc1NTkgPT0gXHU2ODA3XHU4QkIwXG4gICAgICA6IHRoaXMuZ2VuZXJhdGVDbG96ZVRleHQob3JpZ2luYWwsIGRlbGV0aW9ucyk7ICAvLyBcdTIxOTAgXHU5NzVFXHU4ODY4XHU2ODNDXHU2MjREXHU2NkZGXHU2MzYyXHU0RTNBIFsuLi5dXG4gICAgICBcbiAgICBjb25zdCBiYWNrID0gZGVsZXRpb25zLm1hcChkID0+IGQuYW5zd2VyKTtcbiAgXG4gICAgLy8gXHUyMTkwIFx1NjI4QVx1NEUwQlx1OTc2Mlx1OEZEOVx1NEU5Qlx1NEVFM1x1NzgwMVx1ODg2NVx1NTE0NVx1NUI4Q1x1NjU3NFxuICAgIGNvbnN0IGNhcmQ6IEZsYXNoY2FyZCA9IHtcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHR5cGU6ICdjbG96ZScsXG4gICAgICBzb3VyY2VDb250ZW50SWQ6IGNvbnRlbnRVbml0SWQsXG4gICAgICBzb3VyY2VGaWxlOiBjb250ZW50VW5pdC5zb3VyY2UuZmlsZSxcbiAgICAgIGFuY2hvckxpbms6IGNvbnRlbnRVbml0LnNvdXJjZS5hbmNob3JMaW5rLFxuICAgICAgZnJvbnQsXG4gICAgICBiYWNrLFxuICAgICAgY2xvemU6IHtcbiAgICAgICAgb3JpZ2luYWwsXG4gICAgICAgIGRlbGV0aW9uc1xuICAgICAgfSxcbiAgICAgIGRlY2s6IHRoaXMuaW5mZXJEZWNrKGNvbnRlbnRVbml0LnNvdXJjZS5maWxlKSxcbiAgICAgIHRhZ3M6IGNvbnRlbnRVbml0Lm1ldGFkYXRhLnRhZ3MsXG4gICAgICBzY2hlZHVsaW5nOiB0aGlzLmluaXRpYWxpemVTY2hlZHVsaW5nKCksXG4gICAgICBzdGF0czoge1xuICAgICAgICB0b3RhbFJldmlld3M6IDAsXG4gICAgICAgIGNvcnJlY3RDb3VudDogMCxcbiAgICAgICAgYXZlcmFnZVRpbWU6IDAsXG4gICAgICAgIGRpZmZpY3VsdHk6IDAuNVxuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfTtcbiAgXG4gICAgdGhpcy5mbGFzaGNhcmRzLnNldChjYXJkLmlkLCBjYXJkKTtcbiAgICBcbiAgICBjb250ZW50VW5pdC5mbGFzaGNhcmRJZHMucHVzaChjYXJkLmlkKTtcbiAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdHMoW2NvbnRlbnRVbml0XSk7XG4gICAgXG4gICAgYXdhaXQgdGhpcy5wZXJzaXN0Rmxhc2hjYXJkcygpO1xuICAgIC8vIFx1RDgzQ1x1REZBRiBcdTg5RTNcdTk1MDFcdTdDRkJcdTdFREZcdTY4QzBcdTY3RTVcdTcwQjlcbi8vIGF3YWl0IHRoaXMucGx1Z2luLnVubG9ja1N5c3RlbS5vbkNhcmRFeHRyYWN0ZWQoKTtcbiAgICByZXR1cm4gY2FyZDsgIC8vIFx1MjE5MCBcdTVGQzVcdTk4N0JcdTY3MDlcdThGRDlcdTRFMDBcdTg4NEMhXG4gIH0gXG4gIFxuICAvLyBcdTIxOTAgXHU2REZCXHU1MkEwXHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1XG4gIHByaXZhdGUgaXNUYWJsZUZvcm1hdCh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAoIXRleHQgfHwgIXRleHQudHJpbSgpKSByZXR1cm4gZmFsc2U7ICAvLyBcdTIxOTAgXHU2REZCXHU1MkEwXHU3QTdBXHU1MDNDXHU2OEMwXHU2N0U1XG4gICAgXG4gICAgY29uc3QgbGluZXMgPSB0ZXh0LnRyaW0oKS5zcGxpdCgnXFxuJyk7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBoYXNTZXBhcmF0b3IgPSBsaW5lcy5zb21lKGxpbmUgPT4gL15cXHw/W1xccy06fF0rXFx8PyQvLnRlc3QobGluZS50cmltKCkpKTtcbiAgICBjb25zdCBwaXBlTGluZXMgPSBsaW5lcy5maWx0ZXIobGluZSA9PiBsaW5lLmluY2x1ZGVzKCd8JykpLmxlbmd0aDtcbiAgICBcbiAgICByZXR1cm4gaGFzU2VwYXJhdG9yIHx8IHBpcGVMaW5lcyA+PSBsaW5lcy5sZW5ndGggKiAwLjc7XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PSBcdTY3RTVcdThCRTJcdTY1QjlcdTZDRDUgPT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU5NUVBXHU1MzYxXG4gICAqL1xuICBnZXRGbGFzaGNhcmQoaWQ6IHN0cmluZyk6IEZsYXNoY2FyZCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuZmxhc2hjYXJkcy5nZXQoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NjI0MFx1NjcwOVx1OTVFQVx1NTM2MVxuICAgKi9cbiAgZ2V0QWxsRmxhc2hjYXJkcygpOiBGbGFzaGNhcmRbXSB7XG4gICAgY29uc3QgY2FyZHMgPSBBcnJheS5mcm9tKHRoaXMuZmxhc2hjYXJkcy52YWx1ZXMoKSk7XG4gICAgcmV0dXJuIGNhcmRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1NEVDQVx1NjVFNVx1NUY4NVx1NTkwRFx1NEU2MFx1NzY4NFx1NTM2MVx1NzI0N1xuICAgKi9cbiAgZ2V0RHVlQ2FyZHMoKTogRmxhc2hjYXJkW10ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5mbGFzaGNhcmRzLnZhbHVlcygpKVxuICAgICAgLmZpbHRlcihjYXJkID0+IGNhcmQuc2NoZWR1bGluZy5kdWUgPD0gbm93KVxuICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgYVByaW9yaXR5ID0gdGhpcy5nZXRDYXJkUHJpb3JpdHkoYSk7XG4gICAgICAgIGNvbnN0IGJQcmlvcml0eSA9IHRoaXMuZ2V0Q2FyZFByaW9yaXR5KGIpO1xuICAgICAgICByZXR1cm4gYlByaW9yaXR5IC0gYVByaW9yaXR5O1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU2NUIwXHU1MzYxXHU3MjQ3XG4gICAqL1xuICBnZXROZXdDYXJkcygpOiBGbGFzaGNhcmRbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5mbGFzaGNhcmRzLnZhbHVlcygpKVxuICAgICAgLmZpbHRlcihjYXJkID0+IGNhcmQuc2NoZWR1bGluZy5zdGF0ZSA9PT0gJ25ldycpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU2NkY0XHU2NUIwXHU1NDhDXHU1MjIwXHU5NjY0ID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1NjZGNFx1NjVCMFx1NTM2MVx1NzI0N1x1RkYwOFx1NTkwRFx1NEU2MFx1NTQwRVx1RkYwOVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlQ2FyZChjYXJkOiBGbGFzaGNhcmQpIHtcbiAgICB0aGlzLmZsYXNoY2FyZHMuc2V0KGNhcmQuaWQsIGNhcmQpO1xuICAgIGF3YWl0IHRoaXMucGVyc2lzdEZsYXNoY2FyZHMoKTtcbiAgfVxuXG4vKipcbiAqIFx1NTIyMFx1OTY2NFx1NTM2MVx1NzI0N1xuICovXG5hc3luYyBkZWxldGVDYXJkKGlkOiBzdHJpbmcsIHJlYXNvbjogJ3VzZXItZGVsZXRlZCcgfCAnbm90ZS1kZWxldGVkJyB8ICdmaWxlLWRlbGV0ZWQnID0gJ3VzZXItZGVsZXRlZCcpIHtcbiAgY29uc3QgY2FyZCA9IHRoaXMuZmxhc2hjYXJkcy5nZXQoaWQpO1xuICBpZiAoIWNhcmQpIHJldHVybjtcblxuICAvLyBcdUQ4M0RcdUREMjcgXHU4OUUzXHU5NjY0IENvbnRlbnRVbml0IFx1NTE3M1x1ODA1NFxuICBjb25zdCBjb250ZW50VW5pdCA9IHRoaXMuZGF0YU1hbmFnZXIuZ2V0Q29udGVudFVuaXQoY2FyZC5zb3VyY2VDb250ZW50SWQpO1xuICBpZiAoY29udGVudFVuaXQpIHtcbiAgICBjb25zdCBpbmRleCA9IGNvbnRlbnRVbml0LmZsYXNoY2FyZElkcy5pbmRleE9mKGlkKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgY29udGVudFVuaXQuZmxhc2hjYXJkSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdHMoW2NvbnRlbnRVbml0XSk7XG4gICAgfVxuICB9XG4gIC8vIFx1MkI1MCBcdTZERkJcdTUyQTBcdTUyMzBcdTUyMjBcdTk2NjRcdTUzODZcdTUzRjJcbiAgYXdhaXQgdGhpcy5hZGRUb0RlbGV0ZUhpc3Rvcnkoe1xuICAgIHR5cGU6ICdmbGFzaGNhcmQnLFxuICAgIGlkOiBjYXJkLmlkLFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIGZyb250OiBjYXJkLmZyb250LFxuICAgICAgYmFjazogdHlwZW9mIGNhcmQuYmFjayA9PT0gJ3N0cmluZycgPyBjYXJkLmJhY2sgOiBjYXJkLmJhY2suam9pbignLCAnKSxcbiAgICAgIHNvdXJjZUZpbGU6IGNhcmQuc291cmNlRmlsZSxcbiAgICAgIHNvdXJjZUNvbnRlbnRJZDogY2FyZC5zb3VyY2VDb250ZW50SWQsXG4gICAgICBjYXJkVHlwZTogY2FyZC50eXBlLFxuICAgICAgZnVsbENhcmQ6IHsgLi4uY2FyZCB9IC8vIFx1NEZERFx1NUI1OFx1NUI4Q1x1NjU3NFx1NTM2MVx1NzI0N1x1NjU3MFx1NjM2RVx1NEVFNVx1NEZCRlx1NjA2Mlx1NTkwRFxuICAgIH0sXG4gICAgZGVsZXRlZEF0OiBEYXRlLm5vdygpLFxuICAgIGRlbGV0ZWRCeTogcmVhc29uLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICBkZWNrOiBjYXJkLmRlY2ssXG4gICAgICBzdGF0czogY2FyZC5zdGF0c1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gXHUyQjUwIFx1NTIyMFx1OTY2NFx1OEJFNVx1NTM2MVx1NzI0N1x1NzY4NFx1NjI0MFx1NjcwOVx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICB0aGlzLnJldmlld0xvZ3MgPSB0aGlzLnJldmlld0xvZ3MuZmlsdGVyKGxvZyA9PiBsb2cuZmxhc2hjYXJkSWQgIT09IGlkKTtcbiAgYXdhaXQgdGhpcy5wZXJzaXN0UmV2aWV3TG9ncygpOyAvLyBcdTRGRERcdTVCNThcdTY2RjRcdTY1QjBcdTU0MEVcdTc2ODRcdTY1RTVcdTVGRDdcblxuICAvLyBcdTUyMjBcdTk2NjRcdTk1RUFcdTUzNjFcbiAgdGhpcy5mbGFzaGNhcmRzLmRlbGV0ZShpZCk7XG4gIGF3YWl0IHRoaXMucGVyc2lzdEZsYXNoY2FyZHMoKTtcbn1cblxucHJpdmF0ZSBkZWxldGVkSXRlbXM6IERlbGV0ZWRJdGVtW10gPSBbXTtcblxuLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU2REZCXHU1MkEwXHU1MjMwXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXG5wcml2YXRlIGFzeW5jIGFkZFRvRGVsZXRlSGlzdG9yeShpdGVtOiBEZWxldGVkSXRlbSkge1xuICB0aGlzLmRlbGV0ZWRJdGVtcy5wdXNoKGl0ZW0pO1xuICBcbiAgLy8gXHU1M0VBXHU0RkREXHU3NTU5XHU2NzAwXHU4RkQxN1x1NTkyOVx1NzY4NFx1NTIyMFx1OTY2NFx1OEJCMFx1NUY1NVxuICBjb25zdCBzZXZlbkRheXNBZ28gPSBEYXRlLm5vdygpIC0gKDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgdGhpcy5kZWxldGVkSXRlbXMgPSB0aGlzLmRlbGV0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmRlbGV0ZWRBdCA+IHNldmVuRGF5c0Fnbyk7XG4gIFxuICBhd2FpdCB0aGlzLnBlcnNpc3REZWxldGVIaXN0b3J5KCk7XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1ODNCN1x1NTNENlx1NjcwMFx1OEZEMVx1NTIyMFx1OTY2NFxuZ2V0UmVjZW50bHlEZWxldGVkKGRheXM6IG51bWJlciA9IDcpOiBEZWxldGVkSXRlbVtdIHtcbiAgY29uc3QgY3V0b2ZmID0gRGF0ZS5ub3coKSAtIChkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gIHJldHVybiB0aGlzLmRlbGV0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmRlbGV0ZWRBdCA+IGN1dG9mZilcbiAgICAuc29ydCgoYSwgYikgPT4gYi5kZWxldGVkQXQgLSBhLmRlbGV0ZWRBdCk7IFxufVxuXG5cbi8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1NjA2Mlx1NTkwRFx1OTVFQVx1NTM2MVxuYXN5bmMgcmVzdG9yZUZsYXNoY2FyZChkZWxldGVkSXRlbTogRGVsZXRlZEl0ZW0pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICBpZiAoZGVsZXRlZEl0ZW0udHlwZSAhPT0gJ2ZsYXNoY2FyZCcpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBjYXJkID0gZGVsZXRlZEl0ZW0uY29udGVudC5mdWxsQ2FyZCBhcyBGbGFzaGNhcmQ7XG4gICAgXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1REYyXHU1QjU4XHU1NzI4XG4gICAgaWYgKHRoaXMuZmxhc2hjYXJkcy5oYXMoY2FyZC5pZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gXHU2MDYyXHU1OTBEXHU5NUVBXHU1MzYxXG4gICAgdGhpcy5mbGFzaGNhcmRzLnNldChjYXJkLmlkLCBjYXJkKTtcbiAgICBcbiAgICAvLyBcdTYwNjJcdTU5MEQgQ29udGVudFVuaXQgXHU1MTczXHU4MDU0XG4gICAgY29uc3QgY29udGVudFVuaXQgPSB0aGlzLmRhdGFNYW5hZ2VyLmdldENvbnRlbnRVbml0KGNhcmQuc291cmNlQ29udGVudElkKTtcbiAgICBpZiAoY29udGVudFVuaXQgJiYgIWNvbnRlbnRVbml0LmZsYXNoY2FyZElkcy5pbmNsdWRlcyhjYXJkLmlkKSkge1xuICAgICAgY29udGVudFVuaXQuZmxhc2hjYXJkSWRzLnB1c2goY2FyZC5pZCk7XG4gICAgICBhd2FpdCB0aGlzLmRhdGFNYW5hZ2VyLnNhdmVDb250ZW50VW5pdHMoW2NvbnRlbnRVbml0XSk7XG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHRoaXMucGVyc2lzdEZsYXNoY2FyZHMoKTtcbiAgICBcbiAgICAvLyBcdTRFQ0VcdTUyMjBcdTk2NjRcdTUzODZcdTUzRjJcdTRFMkRcdTc5RkJcdTk2NjRcbiAgICB0aGlzLmRlbGV0ZWRJdGVtcyA9IHRoaXMuZGVsZXRlZEl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGRlbGV0ZWRJdGVtLmlkKTtcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3REZWxldGVIaXN0b3J5KCk7XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVzdG9yaW5nIGZsYXNoY2FyZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1NkMzOFx1NEU0NVx1NTIyMFx1OTY2NFx1OTVFQVx1NTM2MVx1RkYwOFx1NEVDRVx1NTM4Nlx1NTNGMlx1NEUyRFx1NzlGQlx1OTY2NFx1RkYwOVxuYXN5bmMgcGVybWFuZW50bHlEZWxldGVGbGFzaGNhcmQoZGVsZXRlZEl0ZW1JZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgdGhpcy5kZWxldGVkSXRlbXMgPSB0aGlzLmRlbGV0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBkZWxldGVkSXRlbUlkKTtcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3REZWxldGVIaXN0b3J5KCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGVybWFuZW50bHkgZGVsZXRpbmcgZmxhc2hjYXJkOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU0RTAwXHU5NTJFXHU2RTA1XHU3QTdBXHU1MjIwXHU5NjY0XHU1Mzg2XHU1M0YyXG5hc3luYyBjbGVhckRlbGV0ZUhpc3RvcnkoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgY29uc3QgY291bnQgPSB0aGlzLmRlbGV0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdmbGFzaGNhcmQnKS5sZW5ndGg7XG4gIHRoaXMuZGVsZXRlZEl0ZW1zID0gdGhpcy5kZWxldGVkSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS50eXBlICE9PSAnZmxhc2hjYXJkJyk7XG4gIGF3YWl0IHRoaXMucGVyc2lzdERlbGV0ZUhpc3RvcnkoKTtcbiAgcmV0dXJuIGNvdW50O1xufVxuXG4vLyBcdTY1QjBcdTU4OUVcdUZGMUFcdTYzMDFcdTRFNDVcdTUzMTZcdTUyMjBcdTk2NjRcdTUzODZcdTUzRjJcbnByaXZhdGUgYXN5bmMgcGVyc2lzdERlbGV0ZUhpc3RvcnkoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vZGVsZXRlLWhpc3RvcnkuanNvbmA7XG4gICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZGVsZXRlZEl0ZW1zLCBudWxsLCAyKTtcbiAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGgsIGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBlcnNpc3RpbmcgZGVsZXRlIGhpc3Rvcnk6JywgZXJyb3IpO1xuICB9XG59XG5cbnByaXZhdGUgYXN5bmMgbG9hZERlbGV0ZUhpc3RvcnkoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vZGVsZXRlLWhpc3RvcnkuanNvbmA7XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXI7XG5cbiAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHMocGF0aCkpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQocGF0aCk7XG4gICAgICB0aGlzLmRlbGV0ZWRJdGVtcyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFx1NkUwNVx1NzQwNlx1OEQ4NVx1OEZDNzdcdTU5MjlcdTc2ODRcdThCQjBcdTVGNTVcbiAgICAgIGNvbnN0IHNldmVuRGF5c0FnbyA9IERhdGUubm93KCkgLSAoNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgICAgdGhpcy5kZWxldGVkSXRlbXMgPSB0aGlzLmRlbGV0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmRlbGV0ZWRBdCA+IHNldmVuRGF5c0Fnbyk7XG4gICAgICBhd2FpdCB0aGlzLnBlcnNpc3REZWxldGVIaXN0b3J5KCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZGVsZXRlIGhpc3Rvcnk6JywgZXJyb3IpO1xuICB9XG59XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU1OTBEXHU0RTYwXHU2NUU1XHU1RkQ3ID09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogXHU4QkIwXHU1RjU1XHU1OTBEXHU0RTYwXHU2NUU1XHU1RkQ3XG4gKi9cbmFzeW5jIGxvZ1Jldmlldyhsb2c6IFJldmlld0xvZykge1xuICAvLyBcdUQ4M0RcdURDNDcgXHU3ODZFXHU0RkREXHU1NDY4XHU2NzFGXHU1QjU3XHU2QkI1XHU1QjU4XHU1NzI4XHU0RTE0XHU2QjYzXHU3ODZFXG4gIGlmICghbG9nLmN5Y2xlKSB7XG4gICAgbG9nLmN5Y2xlID0gdGhpcy5wbHVnaW4uYW5hbHl0aWNzRW5naW5lPy5nZXRDdXJyZW50Q3ljbGVOdW1iZXIoKSB8fCAxO1xuICB9XG4gIFxuICB0aGlzLnJldmlld0xvZ3MucHVzaChsb2cpO1xuICBcbiAgLy8gXHU0RkREXHU2MzAxXHU2NUU1XHU1RkQ3XHU2NTcwXHU5MUNGXHU1NzI4XHU1NDA4XHU3NDA2XHU4MzAzXHU1NkY0XG4gIGlmICh0aGlzLnJldmlld0xvZ3MubGVuZ3RoID4gMTAwMCkge1xuICAgIHRoaXMucmV2aWV3TG9ncyA9IHRoaXMucmV2aWV3TG9ncy5zbGljZSgtMTAwMCk7XG4gIH1cbiAgXG4gIGF3YWl0IHRoaXMucGVyc2lzdFJldmlld0xvZ3MoKTtcbn1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MzYxXHU3MjQ3XHU3Njg0XHU1OTBEXHU0RTYwXHU1Mzg2XHU1M0YyXG4gICAqL1xuICBnZXRDYXJkUmV2aWV3SGlzdG9yeShjYXJkSWQ6IHN0cmluZyk6IFJldmlld0xvZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5yZXZpZXdMb2dzLmZpbHRlcihsb2cgPT4gbG9nLmZsYXNoY2FyZElkID09PSBjYXJkSWQpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3RURGXHU4QkExID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1ODNCN1x1NTNENlx1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuICAgKi9cbiAgZ2V0U3RhdHMoKSB7XG4gICAgY29uc3QgYWxsID0gdGhpcy5nZXRBbGxGbGFzaGNhcmRzKCk7XG4gICAgY29uc3QgZHVlID0gdGhpcy5nZXREdWVDYXJkcygpO1xuICAgIGNvbnN0IG5ld0NhcmRzID0gdGhpcy5nZXROZXdDYXJkcygpO1xuICAgIFxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICBjb25zdCByZXZpZXdlZFRvZGF5ID0gdGhpcy5yZXZpZXdMb2dzLmZpbHRlcihcbiAgICAgIGxvZyA9PiBsb2cudGltZXN0YW1wID49IHRvZGF5XG4gICAgKS5sZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWw6IGFsbC5sZW5ndGgsXG4gICAgICBuZXc6IG5ld0NhcmRzLmxlbmd0aCxcbiAgICAgIGR1ZTogZHVlLmxlbmd0aCxcbiAgICAgIHJldmlld2VkVG9kYXksXG4gICAgICB0b3RhbFJldmlld3M6IHRoaXMucmV2aWV3TG9ncy5sZW5ndGhcbiAgICB9O1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU1REU1XHU1MTc3XHU2NUI5XHU2Q0Q1ID09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFx1NTJBMFx1OEY3RFx1OTVFQVx1NTM2MVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkRmxhc2hjYXJkcygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vZmxhc2hjYXJkcy5qc29uYDtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyO1xuXG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5leGlzdHMocGF0aCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFkYXB0ZXIucmVhZChwYXRoKTtcbiAgICAgICAgY29uc3QgZmxhc2hjYXJkczogRmxhc2hjYXJkW10gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBjYXJkIG9mIGZsYXNoY2FyZHMpIHtcbiAgICAgICAgICB0aGlzLmZsYXNoY2FyZHMuc2V0KGNhcmQuaWQsIGNhcmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZmxhc2hjYXJkczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NTJBMFx1OEY3RFx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkUmV2aWV3TG9ncygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vcmV2aWV3LWxvZ3MuanNvbmA7XG4gICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlcjtcblxuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuZXhpc3RzKHBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhZGFwdGVyLnJlYWQocGF0aCk7XG4gICAgICAgIHRoaXMucmV2aWV3TG9ncyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcmV2aWV3IGxvZ3M6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTUyMURcdTU5Q0JcdTUzMTZcdThDMDNcdTVFQTZcdTUzQzJcdTY1NzBcbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVNjaGVkdWxpbmcoKTogRmxhc2hjYXJkWydzY2hlZHVsaW5nJ10ge1xuICAgIHJldHVybiB7XG4gICAgICBpbnRlcnZhbDogMCxcbiAgICAgIGVhc2U6IDIuNSxcbiAgICAgIGR1ZTogRGF0ZS5ub3coKSxcbiAgICAgIGxhcHNlczogMCxcbiAgICAgIHJlcHM6IDAsXG4gICAgICBzdGF0ZTogJ25ldydcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NzUxRlx1NjIxMFx1NUI4Q1x1NUY2Mlx1NTg2Qlx1N0E3QVx1NjU4N1x1NjcyQ1xuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUNsb3plVGV4dChcbiAgICBvcmlnaW5hbDogc3RyaW5nLFxuICAgIGRlbGV0aW9uczogeyBpbmRleDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZyB9W11cbiAgKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0ID0gb3JpZ2luYWw7XG4gICAgY29uc3Qgc29ydGVkID0gWy4uLmRlbGV0aW9uc10uc29ydCgoYSwgYikgPT4gYi5pbmRleCAtIGEuaW5kZXgpO1xuICAgIFxuICAgIGZvciAoY29uc3QgZGVsZXRpb24gb2Ygc29ydGVkKSB7XG4gICAgICBjb25zdCBiZWZvcmUgPSByZXN1bHQuc3Vic3RyaW5nKDAsIGRlbGV0aW9uLmluZGV4KTtcbiAgICAgIGNvbnN0IGFmdGVyID0gcmVzdWx0LnN1YnN0cmluZyhkZWxldGlvbi5pbmRleCArIGRlbGV0aW9uLmFuc3dlci5sZW5ndGgpO1xuICAgICAgcmVzdWx0ID0gYCR7YmVmb3JlfVsuLi5dJHthZnRlcn1gO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFx1NjNBOFx1NjVBRFx1NTM2MVx1N0VDNFx1NTQwRFx1NzlGMFxuICAgKi9cbiAgcHJpdmF0ZSBpbmZlckRlY2soZmlsZVBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFydHMgPSBmaWxlUGF0aC5zcGxpdCgnLycpO1xuICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbcGFydHMubGVuZ3RoIC0gMl0gOiAnRGVmYXVsdCc7XG4gIH1cblxuICAvKipcbiAgICogXHU4M0I3XHU1M0Q2XHU1MzYxXHU3MjQ3XHU0RjE4XHU1MTQ4XHU3RUE3XG4gICAqL1xuICBwcml2YXRlIGdldENhcmRQcmlvcml0eShjYXJkOiBGbGFzaGNhcmQpOiBudW1iZXIge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3Qgb3ZlcmR1ZSA9IE1hdGgubWF4KDAsIG5vdyAtIGNhcmQuc2NoZWR1bGluZy5kdWUpO1xuICAgIGNvbnN0IGRheXNPdmVyZHVlID0gb3ZlcmR1ZSAvICgyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICBcbiAgICBpZiAoY2FyZC5zY2hlZHVsaW5nLnN0YXRlID09PSAnbmV3JykgcmV0dXJuIDEwMCArIGRheXNPdmVyZHVlO1xuICAgIGlmIChjYXJkLnNjaGVkdWxpbmcuc3RhdGUgPT09ICdyZWxlYXJuaW5nJykgcmV0dXJuIDIwMCArIGRheXNPdmVyZHVlO1xuICAgIHJldHVybiBkYXlzT3ZlcmR1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcdTYzMDFcdTRFNDVcdTUzMTZcdTk1RUFcdTUzNjFcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcGVyc2lzdEZsYXNoY2FyZHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLmRhdGFGb2xkZXJ9L2ZsYXNoY2FyZHMuanNvbmA7XG4gICAgICBjb25zdCBmbGFzaGNhcmRzID0gQXJyYXkuZnJvbSh0aGlzLmZsYXNoY2FyZHMudmFsdWVzKCkpO1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGZsYXNoY2FyZHMsIG51bGwsIDIpO1xuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignXHUyNzRDIEVycm9yIHBlcnNpc3RpbmcgZmxhc2hjYXJkczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NjMwMVx1NEU0NVx1NTMxNlx1NTkwRFx1NEU2MFx1NjVFNVx1NUZEN1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwZXJzaXN0UmV2aWV3TG9ncygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuZGF0YUZvbGRlcn0vcmV2aWV3LWxvZ3MuanNvbmA7XG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkodGhpcy5yZXZpZXdMb2dzLCBudWxsLCAyKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBlcnNpc3RpbmcgcmV2aWV3IGxvZ3M6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcdTc1MUZcdTYyMTBcdTU1MkZcdTRFMDAgSURcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgY2FyZC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cbn0iLCAiaW1wb3J0IHsgTW9kYWwsIE5vdGljZSwgQnV0dG9uQ29tcG9uZW50LCBNZW51IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHR5cGUgTGVhcm5pbmdTeXN0ZW1QbHVnaW4gZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi4vLi4vaTE4bi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgUmVjZW50bHlEZWxldGVkU3R5bGUgfSBmcm9tICcuLi9zdHlsZS9yZWNlbnRseURlbGV0ZWRTdHlsZSc7XG5cblxuXG5leHBvcnQgY2xhc3MgUmVjZW50bHlEZWxldGVkTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHBsdWdpbjogTGVhcm5pbmdTeXN0ZW1QbHVnaW47XG5cbiAgY29uc3RydWN0b3IocGx1Z2luOiBMZWFybmluZ1N5c3RlbVBsdWdpbikge1xuICAgIHN1cGVyKHBsdWdpbi5hcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIFJlY2VudGx5RGVsZXRlZFN0eWxlLmluamVjdCgpO1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIGNvbnRlbnRFbC5hZGRDbGFzcygncmVjZW50bHktZGVsZXRlZC1tb2RhbCcpO1xuICAgIFxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAvLyBcdTY4MDdcdTk4OThcbiAgICBjb25zdCBoZWFkZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbW9kYWwtdGl0bGUnIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHQoJ3JlY2VudERlbGV0ZS50aXRsZScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSB9KTtcblxuICAgIC8vIFx1NURFNVx1NTE3N1x1NjgwRlxuICAgIGNvbnN0IHRvb2xiYXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAncmVjZW50bHktZGVsZXRlZC10b29sYmFyJyB9KTtcbiAgICBcbiAgICBjb25zdCBzdGF0cyA9IHRoaXMuZ2V0U3RhdHMoKTtcbiAgICBjb25zdCBzdGF0c1RleHQgPSB0b29sYmFyLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtc3RhdHMnIH0pO1xuICAgIHN0YXRzVGV4dC5pbm5lckhUTUwgPSBgXG4gICAgICBcdUQ4M0RcdURDREQgJHtzdGF0cy5ub3Rlc30gJHt0KCdjb25maXJtLm5vdGVzJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfSBcdTIwMjIgXG4gICAgICBcdUQ4M0NcdURDQ0YgJHtzdGF0cy5jYXJkc30gJHt0KCdjb25maXJtLmZsYXNoY2FyZHMnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSl9XG4gICAgYDtcblxuICAgIGNvbnN0IGFjdGlvbnMgPSB0b29sYmFyLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtYWN0aW9ucycgfSk7XG4gICAgXG4gICAgbmV3IEJ1dHRvbkNvbXBvbmVudChhY3Rpb25zKVxuICAgICAgLnNldEJ1dHRvblRleHQodCgncmVjZW50RGVsZXRlLmNsZWFyQWxsJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKVxuICAgICAgLnNldFdhcm5pbmcoKVxuICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoY29uZmlybSh0KCdjb25maXJtLmNsZWFyQWxsRGVsZXRlZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmNsZWFyQWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gXHU1MTg1XHU1QkI5XHU1MzNBXHU1N0RGXG4gICAgY29uc3QgY29udGVudCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdyZWNlbnRseS1kZWxldGVkLWNvbnRlbnQnIH0pO1xuXG4gICAgY29uc3QgZGVsZXRlZE5vdGVzID0gdGhpcy5wbHVnaW4uZGF0YU1hbmFnZXIuZ2V0UmVjZW50bHlEZWxldGVkVW5pdHMoKTtcbiAgICBjb25zdCBkZWxldGVkQ2FyZHMgPSB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmdldFJlY2VudGx5RGVsZXRlZCgpO1xuXG4gICAgaWYgKGRlbGV0ZWROb3Rlcy5sZW5ndGggPT09IDAgJiYgZGVsZXRlZENhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5yZW5kZXJFbXB0eShjb250ZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGVsZXRlZE5vdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMucmVuZGVyRGVsZXRlZE5vdGVzKGNvbnRlbnQsIGRlbGV0ZWROb3Rlcyk7XG4gICAgfVxuXG4gICAgaWYgKGRlbGV0ZWRDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnJlbmRlckRlbGV0ZWRDYXJkcyhjb250ZW50LCBkZWxldGVkQ2FyZHMpO1xuICAgIH1cbiAgfVxuXG5cblxuICBwcml2YXRlIHJlbmRlckVtcHR5KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBlbXB0eSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdlbXB0eS1kZWxldGVkJyB9KTtcbiAgICBlbXB0eS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwiZW1wdHktaWNvblwiPlx1RDgzQ1x1REY4OTwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImVtcHR5LXRleHRcIj4ke3QoJ3JlY2VudERlbGV0ZS5lbXB0eScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKX08L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS1oaW50XCI+JHt0KCdyZWNlbnREZWxldGUuZW1wdHlIaW50JywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfTwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckRlbGV0ZWROb3Rlcyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBpdGVtczogYW55W10pIHtcbiAgICBjb25zdCBzZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtc2VjdGlvbicgfSk7XG4gICAgXG4gICAgY29uc3QgaGVhZGVyID0gc2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdzZWN0aW9uLWhlYWRlcicgfSk7XG4gICAgaGVhZGVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxoMz5cdUQ4M0RcdURDREQgJHt0KCdjb25maXJtLm5vdGVzJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfSAoJHtpdGVtcy5sZW5ndGh9KTwvaDM+XG4gICAgYDtcblxuICAgIGNvbnN0IGxpc3QgPSBzZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtbGlzdCcgfSk7XG5cbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBpdGVtRWwgPSBsaXN0LmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtaXRlbScgfSk7XG4gICAgICBcbiAgICAgIC8vIFx1NURFNlx1NEZBN1x1NEZFMVx1NjA2RlxuICAgICAgY29uc3QgaW5mbyA9IGl0ZW1FbC5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0taW5mbycgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBpbmZvLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtaXRlbS1jb250ZW50JyB9KTtcbiAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSBpdGVtLnVuaXQuY29udGVudC5zdWJzdHJpbmcoMCwgMTUwKSArIFxuICAgICAgICAoaXRlbS51bml0LmNvbnRlbnQubGVuZ3RoID4gMTUwID8gJy4uLicgOiAnJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBpbmZvLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtaXRlbS1tZXRhJyB9KTtcbiAgICAgIG1ldGEuaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3BhbiBjbGFzcz1cImRlbGV0ZWQtdGltZVwiPiR7dGhpcy5mb3JtYXRUaW1lKGl0ZW0uZGVsZXRlZEF0KX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZGVsZXRlZC1zb3VyY2VcIj5cdUQ4M0RcdURDQzQgJHtpdGVtLnVuaXQuc291cmNlLmZpbGV9PC9zcGFuPlxuICAgICAgICAke2l0ZW0uYXNzb2NpYXRlZENhcmRJZHMubGVuZ3RoID4gMCA/IFxuICAgICAgICAgIGA8c3BhbiBjbGFzcz1cImRlbGV0ZWQtY2FyZHNcIj5cdUQ4M0NcdURDQ0YgJHtpdGVtLmFzc29jaWF0ZWRDYXJkSWRzLmxlbmd0aH0gJHt0KCdjb25maXJtLmZsYXNoY2FyZHMnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSl9PC9zcGFuPmAgXG4gICAgICAgICAgOiAnJ31cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJkZWxldGVkLXJlYXNvblwiPiR7dGhpcy5nZXREZWxldGVSZWFzb24oaXRlbS5kZWxldGVkQnkpfTwvc3Bhbj5cbiAgICAgIGA7XG5cbiAgICAgIC8vIFx1NTNGM1x1NEZBN1x1NjRDRFx1NEY1Q1xuICAgICAgY29uc3QgYWN0aW9ucyA9IGl0ZW1FbC5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0tYWN0aW9ucycgfSk7XG4gICAgICBcbiAgICAgIC8vIFx1NjA2Mlx1NTkwRFx1NjMwOVx1OTRBRVxuICAgICAgbmV3IEJ1dHRvbkNvbXBvbmVudChhY3Rpb25zKVxuICAgICAgICAuc2V0QnV0dG9uVGV4dCh0KCdyZWNlbnREZWxldGUucmVzdG9yZScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSlcbiAgICAgICAgLnNldEljb24oJ3JvdGF0ZS1jY3cnKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZXN0b3JlTm90ZShpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFx1NjZGNFx1NTkxQVx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVxuICAgICAgbmV3IEJ1dHRvbkNvbXBvbmVudChhY3Rpb25zKVxuICAgICAgICAuc2V0SWNvbignbW9yZS12ZXJ0aWNhbCcpXG4gICAgICAgIC5vbkNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zaG93Tm90ZU1lbnUoZSwgaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJEZWxldGVkQ2FyZHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgaXRlbXM6IGFueVtdKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLXNlY3Rpb24nIH0pO1xuICAgIFxuICAgIGNvbnN0IGhlYWRlciA9IHNlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAnc2VjdGlvbi1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5pbm5lckhUTUwgPSBgXG4gICAgICA8aDM+XHVEODNDXHVEQ0NGICR7dCgnY29uZmlybS5mbGFzaGNhcmRzJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfSAoJHtpdGVtcy5sZW5ndGh9KTwvaDM+XG4gICAgYDtcblxuICAgIGNvbnN0IGxpc3QgPSBzZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtbGlzdCcgfSk7XG5cbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBpdGVtRWwgPSBsaXN0LmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtaXRlbScgfSk7XG4gICAgICBcbiAgICAgIC8vIFx1NURFNlx1NEZBN1x1NEZFMVx1NjA2RlxuICAgICAgY29uc3QgaW5mbyA9IGl0ZW1FbC5jcmVhdGVEaXYoeyBjbHM6ICdkZWxldGVkLWl0ZW0taW5mbycgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBpbmZvLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtaXRlbS1jb250ZW50JyB9KTtcbiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1mcm9udFwiPjxzdHJvbmc+UTo8L3N0cm9uZz4gJHtpdGVtLmNvbnRlbnQuZnJvbnQuc3Vic3RyaW5nKDAsIDEwMCl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJhY2tcIj48c3Ryb25nPkE6PC9zdHJvbmc+ICR7XG4gICAgICAgICAgdHlwZW9mIGl0ZW0uY29udGVudC5iYWNrID09PSAnc3RyaW5nJyBcbiAgICAgICAgICAgID8gaXRlbS5jb250ZW50LmJhY2suc3Vic3RyaW5nKDAsIDEwMCkgXG4gICAgICAgICAgICA6IGl0ZW0uY29udGVudC5iYWNrXG4gICAgICAgIH08L2Rpdj5cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldGEgPSBpbmZvLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtaXRlbS1tZXRhJyB9KTtcbiAgICAgIG1ldGEuaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3BhbiBjbGFzcz1cImRlbGV0ZWQtdGltZVwiPiR7dGhpcy5mb3JtYXRUaW1lKGl0ZW0uZGVsZXRlZEF0KX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZGVsZXRlZC1zb3VyY2VcIj5cdUQ4M0RcdURDQzQgJHtpdGVtLmNvbnRlbnQuc291cmNlRmlsZX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZGVsZXRlZC10eXBlXCI+JHtpdGVtLmNvbnRlbnQuY2FyZFR5cGUgPT09ICdxYScgPyAnUSZBJyA6IHQoJ3N0YXRzLnR5cGUuY2xvemUnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImRlbGV0ZWQtcmVhc29uXCI+JHt0aGlzLmdldERlbGV0ZVJlYXNvbihpdGVtLmRlbGV0ZWRCeSl9PC9zcGFuPlxuICAgICAgYDtcblxuICAgICAgLy8gXHU1M0YzXHU0RkE3XHU2NENEXHU0RjVDXG4gICAgICBjb25zdCBhY3Rpb25zID0gaXRlbUVsLmNyZWF0ZURpdih7IGNsczogJ2RlbGV0ZWQtaXRlbS1hY3Rpb25zJyB9KTtcbiAgICAgIFxuICAgICAgLy8gXHU2MDYyXHU1OTBEXHU2MzA5XHU5NEFFXG4gICAgICBuZXcgQnV0dG9uQ29tcG9uZW50KGFjdGlvbnMpXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KHQoJ3JlY2VudERlbGV0ZS5yZXN0b3JlJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKVxuICAgICAgICAuc2V0SWNvbigncm90YXRlLWNjdycpXG4gICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlc3RvcmVDYXJkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gXHU2NkY0XHU1OTFBXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXG4gICAgICBuZXcgQnV0dG9uQ29tcG9uZW50KGFjdGlvbnMpXG4gICAgICAgIC5zZXRJY29uKCdtb3JlLXZlcnRpY2FsJylcbiAgICAgICAgLm9uQ2xpY2soKGUpID0+IHtcbiAgICAgICAgICB0aGlzLnNob3dDYXJkTWVudShlLCBpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNob3dOb3RlTWVudShldmVudDogTW91c2VFdmVudCwgaXRlbTogYW55KSB7XG4gICAgY29uc3QgbWVudSA9IG5ldyBNZW51KCk7XG5cbiAgICBtZW51LmFkZEl0ZW0oKG1lbnVJdGVtKSA9PlxuICAgICAgbWVudUl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ3JlY2VudERlbGV0ZS5yZXN0b3JlJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKVxuICAgICAgICAuc2V0SWNvbigncm90YXRlLWNjdycpXG4gICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlc3RvcmVOb3RlKGl0ZW0pO1xuICAgICAgICB9KVxuICAgICk7XG5cbiAgICBtZW51LmFkZEl0ZW0oKG1lbnVJdGVtKSA9PlxuICAgICAgbWVudUl0ZW1cbiAgICAgICAgLnNldFRpdGxlKHQoJ3JlY2VudERlbGV0ZS5kZWxldGVQZXJtYW5lbnRseScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSlcbiAgICAgICAgLnNldEljb24oJ3RyYXNoJylcbiAgICAgICAgLnNldFdhcm5pbmcodHJ1ZSlcbiAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMucGVybWFuZW50bHlEZWxldGVOb3RlKGl0ZW0pO1xuICAgICAgICB9KVxuICAgICk7XG5cbiAgICBtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93Q2FyZE1lbnUoZXZlbnQ6IE1vdXNlRXZlbnQsIGl0ZW06IGFueSkge1xuICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuXG4gICAgbWVudS5hZGRJdGVtKChtZW51SXRlbSkgPT5cbiAgICAgIG1lbnVJdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdyZWNlbnREZWxldGUucmVzdG9yZScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSlcbiAgICAgICAgLnNldEljb24oJ3JvdGF0ZS1jY3cnKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZXN0b3JlQ2FyZChpdGVtKTtcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgbWVudS5hZGRJdGVtKChtZW51SXRlbSkgPT5cbiAgICAgIG1lbnVJdGVtXG4gICAgICAgIC5zZXRUaXRsZSh0KCdyZWNlbnREZWxldGUuZGVsZXRlUGVybWFuZW50bHknLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpXG4gICAgICAgIC5zZXRJY29uKCd0cmFzaCcpXG4gICAgICAgIC5zZXRXYXJuaW5nKHRydWUpXG4gICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBlcm1hbmVudGx5RGVsZXRlQ2FyZChpdGVtKTtcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgbWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzdG9yZU5vdGUoaXRlbTogYW55KSB7XG4gICAgXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnJlc3RvcmVDb250ZW50VW5pdChpdGVtKTtcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgLy8gXHUyNzA1IFx1ODFFQVx1NTJBOFx1NjA2Mlx1NTkwRFx1NTE3M1x1ODA1NFx1NzY4NFx1OTVFQVx1NTM2MVxuICAgICAgaWYgKGl0ZW0uYXNzb2NpYXRlZENhcmRJZHMgJiYgaXRlbS5hc3NvY2lhdGVkQ2FyZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHJlc3RvcmVkID0gYXdhaXQgdGhpcy5yZXN0b3JlQXNzb2NpYXRlZENhcmRzKGl0ZW0uYXNzb2NpYXRlZENhcmRJZHMpO1xuICAgICAgICBpZiAocmVzdG9yZWQgPiAwKSB7XG4gICAgICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2Uubm90ZVJlc3RvcmVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpICsgXG4gICAgICAgICAgICBgICgke3Jlc3RvcmVkfSAke3QoJ2NvbmZpcm0uZmxhc2hjYXJkcycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKX0gJHt0KCdub3RpY2UuY2FyZFJlc3RvcmVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpfSlgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5ub3RlUmVzdG9yZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5ub3RlUmVzdG9yZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgdGhpcy5wbHVnaW4ucmVmcmVzaE92ZXJ2aWV3KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLnJlc3RvcmVGYWlsZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzdG9yZUNhcmQoaXRlbTogYW55KSB7XG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIucmVzdG9yZUZsYXNoY2FyZChpdGVtKTtcbiAgICBcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuY2FyZFJlc3RvcmVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB0aGlzLnBsdWdpbi5yZWZyZXNoT3ZlcnZpZXcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UucmVzdG9yZUZhaWxlZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBwZXJtYW5lbnRseURlbGV0ZU5vdGUoaXRlbTogYW55KSB7XG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLnBlcm1hbmVudGx5RGVsZXRlQ29udGVudFVuaXQoaXRlbS5pZCk7XG4gICAgXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLnBlcm1hbmVudGx5RGVsZXRlZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlKSk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5kZWxldGVGYWlsZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcGVybWFuZW50bHlEZWxldGVDYXJkKGl0ZW06IGFueSkge1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnBlcm1hbmVudGx5RGVsZXRlRmxhc2hjYXJkKGl0ZW0uaWQpO1xuICAgIFxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBuZXcgTm90aWNlKHQoJ25vdGljZS5wZXJtYW5lbnRseURlbGV0ZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSkpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IE5vdGljZSh0KCdub3RpY2UuZGVsZXRlRmFpbGVkJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc3RvcmVBc3NvY2lhdGVkQ2FyZHMoY2FyZElkczogc3RyaW5nW10pOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIFxuICAgIGNvbnN0IGRlbGV0ZWRDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0UmVjZW50bHlEZWxldGVkKCk7XG4gICAgXG4gICAgbGV0IHJlc3RvcmVkID0gMDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGNhcmRJZCBvZiBjYXJkSWRzKSB7XG4gICAgICBjb25zdCBkZWxldGVkQ2FyZCA9IGRlbGV0ZWRDYXJkcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gY2FyZElkKTtcbiAgICAgIFxuICAgICAgaWYgKGRlbGV0ZWRDYXJkKSB7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLnJlc3RvcmVGbGFzaGNhcmQoZGVsZXRlZENhcmQpO1xuICAgICAgICBpZiAoc3VjY2VzcykgcmVzdG9yZWQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN0b3JlZDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY2xlYXJBbGwoKSB7XG4gICAgY29uc3Qgbm90ZXNDb3VudCA9IGF3YWl0IHRoaXMucGx1Z2luLmRhdGFNYW5hZ2VyLmNsZWFyRGVsZXRlSGlzdG9yeSgpO1xuICAgIGNvbnN0IGNhcmRzQ291bnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5mbGFzaGNhcmRNYW5hZ2VyLmNsZWFyRGVsZXRlSGlzdG9yeSgpO1xuICAgIFxuICAgIG5ldyBOb3RpY2UodCgnbm90aWNlLmFsbERlbGV0ZWQnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSwge1xuICAgICAgbm90ZXM6IG5vdGVzQ291bnQsXG4gICAgICBjYXJkczogY2FyZHNDb3VudFxuICAgIH0pKTtcbiAgICBcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTdGF0cygpIHtcbiAgICBjb25zdCBkZWxldGVkTm90ZXMgPSB0aGlzLnBsdWdpbi5kYXRhTWFuYWdlci5nZXRSZWNlbnRseURlbGV0ZWRVbml0cygpO1xuICAgIGNvbnN0IGRlbGV0ZWRDYXJkcyA9IHRoaXMucGx1Z2luLmZsYXNoY2FyZE1hbmFnZXIuZ2V0UmVjZW50bHlEZWxldGVkKCk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIG5vdGVzOiBkZWxldGVkTm90ZXMubGVuZ3RoLFxuICAgICAgY2FyZHM6IGRlbGV0ZWRDYXJkcy5sZW5ndGhcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXRUaW1lKHRpbWVzdGFtcDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGRpZmYgPSBub3cgLSB0aW1lc3RhbXA7XG4gICAgXG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoZGlmZiAvIDYwMDAwKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IoZGlmZiAvIDM2MDAwMDApO1xuICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKGRpZmYgLyA4NjQwMDAwMCk7XG4gICAgXG4gICAgaWYgKG1pbnV0ZXMgPCAxKSByZXR1cm4gdCgndGltZS5qdXN0Tm93JywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UpO1xuICAgIGlmIChtaW51dGVzIDwgNjApIHJldHVybiB0KCd0aW1lLm1pbnV0ZXNBZ28nLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSwgeyBtaW51dGVzIH0pO1xuICAgIGlmIChob3VycyA8IDI0KSByZXR1cm4gdCgndGltZS5ob3Vyc0FnbycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhbmd1YWdlLCB7IGhvdXJzIH0pO1xuICAgIHJldHVybiB0KCd0aW1lLmRheXNBZ28nLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSwgeyBkYXlzIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREZWxldGVSZWFzb24ocmVhc29uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHJlYXNvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAndXNlci1kZWxldGVkJzogdCgnZGVsZXRlUmVhc29uLnVzZXInLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSksXG4gICAgICAnbm90ZS1kZWxldGVkJzogdCgnZGVsZXRlUmVhc29uLm5vdGUnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSksXG4gICAgICAnZmlsZS1kZWxldGVkJzogdCgnZGVsZXRlUmVhc29uLmZpbGUnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSlcbiAgICB9O1xuICAgIHJldHVybiByZWFzb25zW3JlYXNvbl0gfHwgcmVhc29uO1xuICB9XG59IiwgImV4cG9ydCBjbGFzcyBSZWNlbnRseURlbGV0ZWRTdHlsZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgc3R5bGVJZCA9ICdyZWNlbnRseS1kZWxldGVkLXN0eWxlcyc7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5qZWN0ZWQgPSBmYWxzZTtcbiAgXG4gICAgc3RhdGljIGluamVjdCgpIHtcbiAgICAgIGlmICh0aGlzLmluamVjdGVkKSByZXR1cm47XG4gIFxuICAgICAgY29uc3QgZXhpc3RpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0eWxlSWQpO1xuICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIGV4aXN0aW5nLnJlbW92ZSgpO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbC5pZCA9IHRoaXMuc3R5bGVJZDtcbiAgICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSB0aGlzLmdldFN0eWxlcygpO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgXG4gICAgICB0aGlzLmluamVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIFxuICAgIHN0YXRpYyByZW1vdmUoKSB7XG4gICAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHlsZUlkKTtcbiAgICAgIGlmIChzdHlsZUVsKSB7XG4gICAgICAgIHN0eWxlRWwucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmluamVjdGVkID0gZmFsc2U7XG4gICAgfVxuICBcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRTdHlsZXMoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBgXG4gICAgICAgICAgLyogXHU1RjM5XHU3QTk3XHU1N0ZBXHU3ODQwXHU2ODM3XHU1RjBGICovXG4gICAgLnJlY2VudGx5LWRlbGV0ZWQtbW9kYWwge1xuICAgICAgcGFkZGluZzogMDtcbiAgICB9XG5cbiAgICAucmVjZW50bHktZGVsZXRlZC1tb2RhbCAubW9kYWwtY29udGVudCB7XG4gICAgICBtYXgtaGVpZ2h0OiA4MHZoO1xuICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgfVxuXG4gICAgLnJlY2VudGx5LWRlbGV0ZWQtbW9kYWwgLm1vZGFsLXRpdGxlIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMTJweDtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgfVxuXG4gICAgLnJlY2VudGx5LWRlbGV0ZWQtbW9kYWwgLm1vZGFsLXRpdGxlIGgyIHtcbiAgICAgIG1hcmdpbjogMDtcbiAgICAgIGZvbnQtc2l6ZTogMS4zZW07XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIFxuICAgICAgICAucmVjZW50bHktZGVsZXRlZC1jb250YWluZXIge1xuICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5yZWNlbnRseS1kZWxldGVkLXRvb2xiYXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLXN0YXRzIHtcbiAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtYWN0aW9ucyB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtc2VjdGlvbiB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzJweDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLnNlY3Rpb24taGVhZGVyIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICB9XG4gIFxuICAgICAgICAuc2VjdGlvbi1oZWFkZXIgaDMge1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLWxpc3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLWl0ZW0ge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5kZWxldGVkLWl0ZW06aG92ZXIge1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZGVsZXRlZC1pdGVtLWluZm8ge1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTZweDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtaXRlbS1jb250ZW50IHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC5jYXJkLWZyb250LCBcbiAgICAgICAgLmNhcmQtYmFjayB7XG4gICAgICAgICAgbWFyZ2luOiA0cHggMDtcbiAgICAgICAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmNhcmQtZnJvbnQgc3Ryb25nLFxuICAgICAgICAuY2FyZC1iYWNrIHN0cm9uZyB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtaXRlbS1tZXRhIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgICBnYXA6IDEycHg7XG4gICAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZGVsZXRlZC1pdGVtLW1ldGEgc3BhbiB7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBnYXA6IDRweDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtdGltZSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYWNjZW50KTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtcmVhc29uIHtcbiAgICAgICAgICBwYWRkaW5nOiAycHggOHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmRlbGV0ZWQtaXRlbS1hY3Rpb25zIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZW1wdHktZGVsZXRlZCB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIHBhZGRpbmc6IDYwcHggMjBweDtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLmVtcHR5LWljb24ge1xuICAgICAgICAgIGZvbnQtc2l6ZTogNGVtO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZW1wdHktdGV4dCB7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjJlbTtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICB9XG4gIFxuICAgICAgICAuZW1wdHktaGludCB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8qIFx1NTRDRFx1NUU5NFx1NUYwRlx1OEJCRVx1OEJBMSAqL1xuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgICAgICAucmVjZW50bHktZGVsZXRlZC1jb250YWluZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIC5kZWxldGVkLWl0ZW0ge1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGdhcDogMTJweDtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIC5kZWxldGVkLWl0ZW0taW5mbyB7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDA7XG4gICAgICAgICAgfVxuICBcbiAgICAgICAgICAuZGVsZXRlZC1pdGVtLWFjdGlvbnMge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYDtcbiAgICB9XG4gIH0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUNBQSxtQkFLYSxpQkE4UkE7QUFwU2I7QUFBQTtBQUNBLElBQUFBLG9CQUE0QztBQUtyQyxJQUFNLGtCQUFOLGNBQThCLHdCQUFNO0FBQUEsTUFRekMsWUFDRSxLQUNRLFFBQ1IsYUFDQSxRQUNBO0FBQ0EsY0FBTSxHQUFHO0FBSkQ7QUFQVixhQUFRLGlCQUF5QjtBQUNqQyxhQUFRLFlBQW9CO0FBQzVCLGFBQVEsYUFBcUI7QUFVM0IsYUFBSyxjQUFjO0FBQ25CLGFBQUssU0FBUztBQUdkLGFBQUsscUJBQXFCLEtBQUssT0FBTyxrQkFBa0I7QUFBQSxVQUN0RCxZQUFZO0FBQUEsUUFDZDtBQUVBLFlBQUksS0FBSyxvQkFBb0I7QUFDM0IsZUFBSyxpQkFBaUIsS0FBSyxtQkFBbUI7QUFDOUMsY0FBSSxLQUFLLG1CQUFtQixPQUFPO0FBQ2pDLGlCQUFLLFlBQVksS0FBSyxtQkFBbUIsTUFBTTtBQUMvQyxpQkFBSyxhQUFhLEtBQUssbUJBQW1CLE1BQU07QUFBQSxVQUNsRDtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsTUFFQSxTQUFTO0FBQ1AsY0FBTSxFQUFFLFVBQVUsSUFBSTtBQUV0QixrQkFBVSxTQUFTLGtCQUFrQjtBQUNyQyxrQkFBVSxTQUFTLE1BQU07QUFBQSxVQUN2QixNQUFNLEtBQUsscUJBQXFCLG9CQUFvQjtBQUFBLFFBQ3RELENBQUM7QUFHRCxjQUFNLGlCQUFpQixVQUFVLFVBQVUsRUFBRSxLQUFLLDZCQUE2QixDQUFDO0FBQ2hGLHVCQUFlLFNBQVMsTUFBTSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2xELHVCQUFlLFNBQVMsY0FBYyxFQUFFLE1BQU0sS0FBSyxZQUFZLFFBQVEsQ0FBQztBQUd4RSxZQUFJLDBCQUFRLFNBQVMsRUFDbEIsUUFBUSxZQUFZLEVBQ3BCLFFBQVEsK0NBQStDLEVBQ3ZELFlBQVksVUFBUTtBQUNuQixlQUNHLGVBQWUsK0JBQStCLEVBQzlDLFNBQVMsS0FBSyxjQUFjLEVBQzVCLFNBQVMsV0FBUztBQUNqQixpQkFBSyxpQkFBaUI7QUFBQSxVQUN4QixDQUFDO0FBRUgsZUFBSyxRQUFRLE9BQU87QUFDcEIsZUFBSyxRQUFRLE1BQU0sUUFBUTtBQUFBLFFBQzdCLENBQUM7QUFHSCxrQkFBVSxTQUFTLE1BQU0sRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXJELFlBQUksMEJBQVEsU0FBUyxFQUNsQixRQUFRLFlBQVksRUFDcEIsUUFBUSx3RkFBb0UsRUFDNUU7QUFBQSxVQUFRLFVBQ1AsS0FDRyxlQUFlLFlBQVksRUFDM0IsU0FBUyxLQUFLLFNBQVMsRUFDdkIsU0FBUyxXQUFTO0FBQ2pCLGlCQUFLLFlBQVk7QUFDakIsaUJBQUssbUJBQW1CO0FBQUEsVUFDMUIsQ0FBQztBQUFBLFFBQ0w7QUFFRixZQUFJLDBCQUFRLFNBQVMsRUFDbEIsUUFBUSxhQUFhLEVBQ3JCLFFBQVEsOEJBQThCLEVBQ3RDLFlBQVksY0FBWTtBQUN2QixtQkFDRyxVQUFVLFdBQVcsZ0JBQVMsRUFDOUIsVUFBVSxXQUFXLGlCQUFVLEVBQy9CLFVBQVUsV0FBVyxrQkFBVyxFQUNoQyxVQUFVLFdBQVcsZUFBUSxFQUM3QixVQUFVLFdBQVcsa0JBQVcsRUFDaEMsVUFBVSxXQUFXLGtCQUFXLEVBQ2hDLFNBQVMsS0FBSyxVQUFVLEVBQ3hCLFNBQVMsV0FBUztBQUNqQixpQkFBSyxhQUFhO0FBQ2xCLGlCQUFLLG1CQUFtQjtBQUFBLFVBQzFCLENBQUM7QUFBQSxRQUNMLENBQUM7QUFHSCxjQUFNLGVBQWUsVUFBVSxVQUFVLEVBQUUsS0FBSywwQkFBMEIsQ0FBQztBQUMzRSxxQkFBYSxTQUFTLFFBQVEsRUFBRSxNQUFNLGFBQWEsS0FBSyxnQkFBZ0IsQ0FBQztBQUN6RSxjQUFNLFVBQVUsYUFBYSxTQUFTLFFBQVEsRUFBRSxLQUFLLGdCQUFnQixDQUFDO0FBQ3RFLGFBQUssaUJBQWlCO0FBQ3RCLGFBQUssbUJBQW1CO0FBR3hCLGNBQU0sa0JBQWtCLFVBQVUsVUFBVSxFQUFFLEtBQUsseUJBQXlCLENBQUM7QUFHN0UsWUFBSSxLQUFLLG9CQUFvQjtBQUMzQixnQkFBTSxZQUFZLGdCQUFnQixTQUFTLFVBQVU7QUFBQSxZQUNuRCxNQUFNO0FBQUEsWUFDTixLQUFLO0FBQUEsVUFDUCxDQUFDO0FBQ0Qsb0JBQVUsaUJBQWlCLFNBQVMsWUFBWTtBQUM5QyxrQkFBTSxLQUFLLGlCQUFpQjtBQUFBLFVBQzlCLENBQUM7QUFBQSxRQUNIO0FBRUEsY0FBTSxZQUFZLGdCQUFnQixTQUFTLFVBQVUsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUN2RSxrQkFBVSxpQkFBaUIsU0FBUyxNQUFNO0FBQ3hDLGVBQUssTUFBTTtBQUFBLFFBQ2IsQ0FBQztBQUVELGNBQU0sVUFBVSxnQkFBZ0IsU0FBUyxVQUFVO0FBQUEsVUFDakQsTUFBTTtBQUFBLFVBQ04sS0FBSztBQUFBLFFBQ1AsQ0FBQztBQUNELGdCQUFRLGlCQUFpQixTQUFTLFlBQVk7QUFDNUMsZ0JBQU0sS0FBSyxlQUFlO0FBQUEsUUFDNUIsQ0FBQztBQUdELGFBQUssVUFBVTtBQUFBLE1BQ2pCO0FBQUEsTUFJUSxxQkFBcUI7QUFDM0IsWUFBSSxDQUFDLEtBQUs7QUFBZ0I7QUFFMUIsWUFBSSxLQUFLLFdBQVc7QUFDbEIsZUFBSyxlQUFlLGNBQWMsS0FBSztBQUN2QyxlQUFLLGVBQWUsTUFBTSxrQkFBa0IsS0FBSztBQUNqRCxlQUFLLGVBQWUsTUFBTSxVQUFVO0FBQUEsUUFDdEMsT0FBTztBQUNMLGVBQUssZUFBZSxjQUFjO0FBQ2xDLGVBQUssZUFBZSxNQUFNLGtCQUFrQjtBQUM1QyxlQUFLLGVBQWUsTUFBTSxRQUFRO0FBQUEsUUFDcEM7QUFBQSxNQUNGO0FBQUEsTUFFQSxNQUFjLGlCQUFpQjtBQUM3QixZQUFJLENBQUMsS0FBSyxlQUFlLEtBQUssR0FBRztBQUMvQixjQUFJLHlCQUFPLDhCQUE4QjtBQUN6QztBQUFBLFFBQ0Y7QUFFQSxZQUFJO0FBQ0YsY0FBSTtBQUVKLGNBQUksS0FBSyxvQkFBb0I7QUFFM0Isa0JBQU0sS0FBSyxPQUFPLGtCQUFrQjtBQUFBLGNBQ2xDLEtBQUssbUJBQW1CO0FBQUEsY0FDeEI7QUFBQSxnQkFDRSxTQUFTLEtBQUs7QUFBQSxnQkFDZCxPQUFPLEtBQUssWUFBWTtBQUFBLGtCQUN0QixNQUFNLEtBQUs7QUFBQSxrQkFDWCxPQUFPLEtBQUs7QUFBQSxnQkFDZCxJQUFJO0FBQUEsY0FDTjtBQUFBLFlBQ0Y7QUFDQSx5QkFBYSxLQUFLLE9BQU8sa0JBQWtCO0FBQUEsY0FDekMsS0FBSyxtQkFBbUI7QUFBQSxZQUMxQjtBQUNBLGdCQUFJLHlCQUFPLG9CQUFvQjtBQUFBLFVBQ2pDLE9BQU87QUFFTCx5QkFBYSxNQUFNLEtBQUssT0FBTyxrQkFBa0I7QUFBQSxjQUMvQyxLQUFLLFlBQVk7QUFBQSxjQUNqQixLQUFLO0FBQUEsY0FDTCxLQUFLLFlBQVk7QUFBQSxnQkFDZixNQUFNLEtBQUs7QUFBQSxnQkFDWCxPQUFPLEtBQUs7QUFBQSxjQUNkLElBQUk7QUFBQSxZQUNOO0FBQ0EsZ0JBQUkseUJBQU8sa0JBQWtCO0FBQUEsVUFDL0I7QUFFQSxlQUFLLE9BQU8sVUFBVTtBQUN0QixlQUFLLE1BQU07QUFBQSxRQUNiLFNBQVMsT0FBUDtBQUNBLGtCQUFRLE1BQU0sNEJBQTRCLEtBQUs7QUFDL0MsY0FBSSx5QkFBTyx5QkFBeUI7QUFBQSxRQUN0QztBQUFBLE1BQ0Y7QUFBQSxNQUVBLE1BQWMsbUJBQW1CO0FBQy9CLFlBQUksQ0FBQyxLQUFLO0FBQW9CO0FBRTlCLFlBQUk7QUFDRixnQkFBTSxLQUFLLE9BQU8sa0JBQWtCO0FBQUEsWUFDbEMsS0FBSyxtQkFBbUI7QUFBQSxVQUMxQjtBQUNBLGNBQUkseUJBQU8sb0JBQW9CO0FBQy9CLGVBQUssTUFBTTtBQUNYLGVBQUssT0FBTyxJQUFXO0FBQUEsUUFDekIsU0FBUyxPQUFQO0FBQ0Esa0JBQVEsTUFBTSw4QkFBOEIsS0FBSztBQUNqRCxjQUFJLHlCQUFPLDJCQUEyQjtBQUFBLFFBQ3hDO0FBQUEsTUFDRjtBQUFBLE1BRVEsWUFBWTtBQUNsQixjQUFNLFVBQVUsU0FBUyxjQUFjLE9BQU87QUFDOUMsZ0JBQVEsY0FBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE2RHRCLGlCQUFTLEtBQUssWUFBWSxPQUFPO0FBQUEsTUFDbkM7QUFBQSxNQUVBLFVBQVU7QUFDUixjQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGtCQUFVLE1BQU07QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFLTyxJQUFNLHNCQUFOLGNBQWtDLHdCQUFNO0FBQUEsTUFNN0MsWUFDRSxLQUNRLFFBQ1IsVUFDQSxRQUNBO0FBQ0EsY0FBTSxHQUFHO0FBSkQ7QUFOVixhQUFRLHNCQUFvQyxDQUFDO0FBQzdDLGFBQVEsaUJBQXlCO0FBVS9CLGFBQUssV0FBVztBQUNoQixhQUFLLFNBQVM7QUFHZCxhQUFLLHNCQUFzQixLQUFLLE9BQU8sa0JBQWtCLG1CQUFtQixRQUFRO0FBQUEsTUFDdEY7QUFBQSxNQUVBLFNBQVM7QUF4VFg7QUF5VEksY0FBTSxFQUFFLFVBQVUsSUFBSTtBQUV0QixrQkFBVSxTQUFTLE1BQU0sRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXJELGNBQU0sYUFBVyxVQUFLLFNBQVMsTUFBTSxHQUFHLEVBQUUsSUFBSSxNQUE3QixtQkFBZ0MsUUFBUSxPQUFPLFFBQU8sS0FBSztBQUM1RSxrQkFBVSxTQUFTLEtBQUs7QUFBQSxVQUN0QixNQUFNLFNBQVM7QUFBQSxVQUNmLEtBQUs7QUFBQSxRQUNQLENBQUM7QUFHRCxZQUFJLEtBQUssb0JBQW9CLFNBQVMsR0FBRztBQUN2QyxnQkFBTSxrQkFBa0IsVUFBVSxVQUFVLEVBQUUsS0FBSyx1QkFBdUIsQ0FBQztBQUMzRSwwQkFBZ0IsU0FBUyxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUUvRCxlQUFLLG9CQUFvQixRQUFRLGdCQUFjO0FBQzdDLGtCQUFNLGlCQUFpQixnQkFBZ0IsVUFBVSxFQUFFLEtBQUssa0JBQWtCLENBQUM7QUFDM0UsMkJBQWUsU0FBUyxLQUFLLEVBQUUsTUFBTSxXQUFXLFFBQVEsQ0FBQztBQUV6RCxrQkFBTSxPQUFPLElBQUksS0FBSyxXQUFXLFNBQVMsU0FBUyxFQUFFLG1CQUFtQjtBQUN4RSwyQkFBZSxTQUFTLFNBQVM7QUFBQSxjQUMvQixNQUFNLFlBQVk7QUFBQSxjQUNsQixLQUFLO0FBQUEsWUFDUCxDQUFDO0FBRUQsa0JBQU0sWUFBWSxlQUFlLFNBQVMsVUFBVTtBQUFBLGNBQ2xELE1BQU07QUFBQSxjQUNOLEtBQUs7QUFBQSxZQUNQLENBQUM7QUFDRCxzQkFBVSxpQkFBaUIsU0FBUyxZQUFZO0FBQzlDLG9CQUFNLEtBQUssaUJBQWlCLFdBQVcsRUFBRTtBQUN6QyxtQkFBSyxNQUFNO0FBQ1gsbUJBQUssT0FBTztBQUFBLFlBQ2QsQ0FBQztBQUFBLFVBQ0gsQ0FBQztBQUFBLFFBQ0g7QUFHQSxrQkFBVSxTQUFTLE1BQU0sRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXZELFlBQUksMEJBQVEsU0FBUyxFQUNsQixRQUFRLFlBQVksRUFDcEIsUUFBUSwyQkFBMkIsRUFDbkMsWUFBWSxVQUFRO0FBQ25CLGVBQ0csZUFBZSwwQkFBMEIsRUFDekMsU0FBUyxLQUFLLGNBQWMsRUFDNUIsU0FBUyxXQUFTO0FBQ2pCLGlCQUFLLGlCQUFpQjtBQUFBLFVBQ3hCLENBQUM7QUFFSCxlQUFLLFFBQVEsT0FBTztBQUNwQixlQUFLLFFBQVEsTUFBTSxRQUFRO0FBQUEsUUFDN0IsQ0FBQztBQUdILGNBQU0sa0JBQWtCLFVBQVUsVUFBVSxFQUFFLEtBQUsseUJBQXlCLENBQUM7QUFFN0UsY0FBTSxZQUFZLGdCQUFnQixTQUFTLFVBQVUsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUN2RSxrQkFBVSxpQkFBaUIsU0FBUyxNQUFNO0FBQ3hDLGVBQUssTUFBTTtBQUFBLFFBQ2IsQ0FBQztBQUVELGNBQU0sVUFBVSxnQkFBZ0IsU0FBUyxVQUFVO0FBQUEsVUFDakQsTUFBTTtBQUFBLFVBQ04sS0FBSztBQUFBLFFBQ1AsQ0FBQztBQUNELGdCQUFRLGlCQUFpQixTQUFTLFlBQVk7QUFDNUMsZ0JBQU0sS0FBSyxlQUFlO0FBQUEsUUFDNUIsQ0FBQztBQUFBLE1BQ0g7QUFBQSxNQUVBLE1BQWMsaUJBQWlCO0FBQzdCLFlBQUksQ0FBQyxLQUFLLGVBQWUsS0FBSyxHQUFHO0FBQy9CLGNBQUkseUJBQU8sOEJBQThCO0FBQ3pDO0FBQUEsUUFDRjtBQUVBLFlBQUk7QUFDRixnQkFBTSxLQUFLLE9BQU8sa0JBQWtCO0FBQUEsWUFDbEMsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUFBLFVBQ1A7QUFDQSxjQUFJLHlCQUFPLHVCQUF1QjtBQUNsQyxlQUFLLE1BQU07QUFDWCxlQUFLLE9BQU87QUFBQSxRQUNkLFNBQVMsT0FBUDtBQUNBLGtCQUFRLE1BQU0saUNBQWlDLEtBQUs7QUFDcEQsY0FBSSx5QkFBTyw4QkFBOEI7QUFBQSxRQUMzQztBQUFBLE1BQ0Y7QUFBQSxNQUVBLE1BQWMsaUJBQWlCLElBQVk7QUFDekMsWUFBSTtBQUNGLGdCQUFNLEtBQUssT0FBTyxrQkFBa0IsaUJBQWlCLEVBQUU7QUFDdkQsY0FBSSx5QkFBTyxvQkFBb0I7QUFBQSxRQUNqQyxTQUFTLE9BQVA7QUFDQSxrQkFBUSxNQUFNLDhCQUE4QixLQUFLO0FBQ2pELGNBQUkseUJBQU8sMkJBQTJCO0FBQUEsUUFDeEM7QUFBQSxNQUNGO0FBQUEsTUFFQSxVQUFVO0FBQ1IsY0FBTSxFQUFFLFVBQVUsSUFBSTtBQUN0QixrQkFBVSxNQUFNO0FBQUEsTUFDbEI7QUFBQSxJQUNGO0FBQUE7QUFBQTs7O0FDbmFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxJQUFBQyxvQkFBbUU7OztBQ0FuRSxzQkFBc0Q7QUFJL0MsSUFBTSxjQUFOLGNBQTBCLGlDQUFpQjtBQUFBLEVBR2hELFlBQVksS0FBVSxRQUE4QjtBQUNsRCxVQUFNLEtBQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNoQjtBQUFBLEVBRUEsVUFBZ0I7QUFDZCxVQUFNLEVBQUUsWUFBWSxJQUFJO0FBQ3hCLGdCQUFZLE1BQU07QUFFbEIsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUUvRCxRQUFJLHdCQUFRLFdBQVcsRUFDcEIsUUFBUSxtQkFBbUIsRUFDM0IsUUFBUSxxQ0FBcUMsRUFDN0M7QUFBQSxNQUFVLFlBQ1QsT0FDRyxTQUFTLEtBQUssT0FBTyxTQUFTLGlCQUFpQixFQUMvQyxTQUFTLE9BQU0sVUFBUztBQUN2QixhQUFLLE9BQU8sU0FBUyxvQkFBb0I7QUFDekMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNMO0FBRUYsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsV0FBVyxFQUNuQixRQUFRLCtDQUErQyxFQUN2RDtBQUFBLE1BQVUsWUFDVCxPQUNHLFNBQVMsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUN0QyxTQUFTLE9BQU0sVUFBUztBQUN2QixhQUFLLE9BQU8sU0FBUyxXQUFXO0FBQ2hDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUVGLFFBQUksd0JBQVEsV0FBVyxFQUNwQixRQUFRLGNBQWMsRUFDdEIsUUFBUSxzQ0FBc0MsRUFDOUM7QUFBQSxNQUFRLFVBQ1AsS0FDRyxlQUFlLFNBQVMsRUFDeEIsU0FBUyxLQUFLLE9BQU8sU0FBUyxXQUFXLEVBQ3pDLFNBQVMsT0FBTSxVQUFTO0FBQ3ZCLGFBQUssT0FBTyxTQUFTLGNBQWM7QUFDbkMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNMO0FBRU4sUUFBSSx3QkFBUSxXQUFXLEVBQ3RCLFFBQVEseUJBQWUsRUFDdkIsUUFBUSxrRUFBb0MsRUFDNUM7QUFBQSxNQUFZLGNBQVksU0FDdEIsVUFBVSxNQUFNLFNBQVMsRUFDekIsVUFBVSxTQUFTLDBCQUFNLEVBQ3pCLFNBQVMsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUN0QyxTQUFTLE9BQU8sVUFBVTtBQUN6QixhQUFLLE9BQU8sU0FBUyxXQUFXO0FBQ2hDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFHL0IsYUFBSyxPQUFPLGdCQUFnQjtBQUM1QixZQUFJLHVCQUFPLGlEQUFpRDtBQUFBLE1BQzlELENBQUM7QUFBQSxJQUNIO0FBQUEsRUFDRTtBQUNGOzs7QUNwRU8sSUFBTSxjQUFOLE1BQWtCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPckIsT0FBTyxTQUFlO0FBQ3BCLFFBQUksS0FBSyxjQUFjLFNBQVMsZUFBZSxLQUFLLE9BQU8sR0FBRztBQUM1RDtBQUFBLElBQ0Y7QUFFQSxVQUFNLFVBQVUsU0FBUyxjQUFjLE9BQU87QUFDOUMsWUFBUSxLQUFLLEtBQUs7QUFDbEIsWUFBUSxjQUFjLEtBQUssVUFBVTtBQUNyQyxhQUFTLEtBQUssWUFBWSxPQUFPO0FBRWpDLFNBQUssYUFBYTtBQUFBLEVBQ3BCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxPQUFPLFNBQWU7QUFDcEIsVUFBTSxVQUFVLFNBQVMsZUFBZSxLQUFLLE9BQU87QUFDcEQsUUFBSSxTQUFTO0FBQ1gsY0FBUSxPQUFPO0FBQ2YsV0FBSyxhQUFhO0FBQUEsSUFDcEI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxPQUFlLFlBQW9CO0FBQ2pDLFdBQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQSt5Q1Q7QUFDRjtBQW4xQ1csWUFDTSxVQUFVO0FBRGhCLFlBRU0sYUFBYTs7O0FDSnpCLElBQU0sY0FBTixNQUFrQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3JCLE9BQU8sU0FBZTtBQUNwQixRQUFJLEtBQUssY0FBYyxTQUFTLGVBQWUsS0FBSyxPQUFPLEdBQUc7QUFDNUQ7QUFBQSxJQUNGO0FBRUEsVUFBTSxVQUFVLFNBQVMsY0FBYyxPQUFPO0FBQzlDLFlBQVEsS0FBSyxLQUFLO0FBQ2xCLFlBQVEsY0FBYyxLQUFLLFVBQVU7QUFDckMsYUFBUyxLQUFLLFlBQVksT0FBTztBQUVqQyxTQUFLLGFBQWE7QUFBQSxFQUNwQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsT0FBTyxTQUFlO0FBQ3BCLFVBQU0sVUFBVSxTQUFTLGVBQWUsS0FBSyxPQUFPO0FBQ3BELFFBQUksU0FBUztBQUNYLGNBQVEsT0FBTztBQUNmLFdBQUssYUFBYTtBQUFBLElBQ3BCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsT0FBZSxZQUFvQjtBQUNqQyxXQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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O0FBQ3BCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlGLE1BQU0sd0JBQXdCO0FBQzVCLFNBQUssU0FBUyxNQUFNO0FBQ3BCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0sc0JBQXNCO0FBQzFCLFNBQUssU0FBUyxNQUFNO0FBQ3BCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0seUJBQXlCO0FBQzdCLFNBQUssU0FBUyxNQUFNO0FBQ3BCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0sZ0JBQWdCO0FBQ3BCLFNBQUssU0FBUyxNQUFNO0FBQ3BCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlFLE1BQU0sd0JBQXdCO0FBQzVCLFNBQUssU0FBUyxNQUFNO0FBQ3BCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0saUJBQWlCO0FBQ3JCLFNBQUssU0FBUyxNQUFNO0FBQ3BCLFNBQUssa0JBQWtCO0FBQ3ZCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0saUJBQWlCO0FBQ3JCLFNBQUssU0FBUyxNQUFNO0FBQ3BCLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFVBQU0sS0FBSyxhQUFhO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0scUJBQXFCO0FBQ3pCLFFBQUksQ0FB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QVMsTUFBTSxNQUFNLE9BQU87QUFBQSxFQUNqRjtBQUFBLEVBQ1EsWUFBWTtBQUNsQixVQUFNLFVBQVUsU0FBUyxjQUFjLE9BQU87QUFDOUMsWUFBUSxjQUFjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXdwQjFCLGFBQVMsS0FBSyxZQUFZLE9BQU87QUFBQSxFQUMvQjtBQUFDOzs7QUVqaURJLElBQU0sY0FBTixNQUFrQjtBQUFBO0FBQUEsRUFPdkIsWUFDVSxLQUNBLFFBQ1I7QUFGUTtBQUNBO0FBUFYsU0FBUSxlQUF5QyxvQkFBSSxJQUFJO0FBQ3pELFNBQVEsWUFBbUMsb0JBQUksSUFBSTtBQUVuRCxTQUFRLFlBQVksSUFBSSxLQUFLO0FBK0cvQjtBQUFBLFNBQVEsZUFPSCxDQUFDO0FBaEhGLFNBQUssYUFBYSxHQUFHLEtBQUssSUFBSSxNQUFNO0FBQUEsRUFDdEM7QUFBQSxFQUVBLE1BQU0sYUFBYTtBQUVqQixVQUFNLEtBQUssaUJBQWlCO0FBRzVCLFVBQU0sS0FBSyxTQUFTO0FBQ3BCLFVBQU0sS0FBSyxrQkFBa0I7QUFBQSxFQUMvQjtBQUFBLEVBRUEsTUFBYyxtQkFBbUI7QUFDL0IsVUFBTSxVQUFVLEtBQUssSUFBSSxNQUFNO0FBRy9CLFFBQUksQ0FBRSxNQUFNLFFBQVEsT0FBTyxLQUFLLFVBQVUsR0FBSTtBQUM1QyxZQUFNLFFBQVEsTUFBTSxLQUFLLFVBQVU7QUFBQSxJQUNyQztBQUdBLFVBQU0sYUFBYSxDQUFDLFdBQVcsVUFBVSxPQUFPO0FBQ2hELGVBQVcsVUFBVSxZQUFZO0FBQy9CLFlBQU0sT0FBTyxHQUFHLEtBQUssY0FBYztBQUNuQyxVQUFJLENBQUUsTUFBTSxRQUFRLE9BQU8sSUFBSSxHQUFJO0FBQ2pDLGNBQU0sUUFBUSxNQUFNLElBQUk7QUFBQSxNQUMxQjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFjLFdBQVc7QUFDdkIsUUFBSTtBQUNGLFlBQU0sY0FBYyxHQUFHLEtBQUs7QUFDNUIsWUFBTSxVQUFVLEtBQUssSUFBSSxNQUFNO0FBRS9CLFVBQUksTUFBTSxRQUFRLE9BQU8sV0FBVyxHQUFHO0FBQ3JDLGNBQU0sT0FBTyxNQUFNLFFBQVEsS0FBSyxXQUFXO0FBQzNDLGNBQU0sUUFBdUIsS0FBSyxNQUFNLElBQUk7QUFFNUMsbUJBQVcsUUFBUSxPQUFPO0FBQ3hCLGVBQUssYUFBYSxJQUFJLEtBQUssSUFBSSxJQUFJO0FBR25DLGNBQUksQ0FBQyxLQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sSUFBSSxHQUFHO0FBQ3pDLGlCQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sTUFBTSxDQUFDLENBQUM7QUFBQSxVQUN6QztBQUNBLGVBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxJQUFJLEVBQUcsS0FBSyxLQUFLLEVBQUU7QUFBQSxRQUNwRDtBQUFBLE1BQ0Y7QUFBQSxJQUNGLFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSx1QkFBdUIsS0FBSztBQUFBLElBQzVDO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBTSxnQkFBZ0IsTUFBbUI7QUFDdkMsU0FBSyxhQUFhLElBQUksS0FBSyxJQUFJLElBQUk7QUFHbkMsUUFBSSxDQUFDLEtBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxJQUFJLEdBQUc7QUFDekMsV0FBSyxVQUFVLElBQUksS0FBSyxPQUFPLE1BQU0sQ0FBQyxDQUFDO0FBQUEsSUFDekM7QUFDQSxRQUFJLENBQUMsS0FBSyxVQUFVLElBQUksS0FBSyxPQUFPLElBQUksRUFBRyxTQUFTLEtBQUssRUFBRSxHQUFHO0FBQzVELFdBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxJQUFJLEVBQUcsS0FBSyxLQUFLLEVBQUU7QUFBQSxJQUNwRDtBQUVBLFVBQU0sS0FBSyxRQUFRO0FBQUEsRUFDckI7QUFBQSxFQUVBLE1BQU0saUJBQWlCLE9BQXNCO0FBQzNDLGVBQVcsUUFBUSxPQUFPO0FBQ3hCLFdBQUssYUFBYSxJQUFJLEtBQUssSUFBSSxJQUFJO0FBRW5DLFVBQUksQ0FBQyxLQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sSUFBSSxHQUFHO0FBQ3pDLGFBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxNQUFNLENBQUMsQ0FBQztBQUFBLE1BQ3pDO0FBQ0EsVUFBSSxDQUFDLEtBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxJQUFJLEVBQUcsU0FBUyxLQUFLLEVBQUUsR0FBRztBQUM1RCxhQUFLLFVBQVUsSUFBSSxLQUFLLE9BQU8sSUFBSSxFQUFHLEtBQUssS0FBSyxFQUFFO0FBQUEsTUFDcEQ7QUFBQSxJQUNGO0FBRUEsVUFBTSxLQUFLLFFBQVE7QUFBQSxFQUNyQjtBQUFBLEVBRUEsZUFBZSxJQUFxQztBQUNsRCxXQUFPLEtBQUssYUFBYSxJQUFJLEVBQUU7QUFBQSxFQUNqQztBQUFBLEVBRUEsc0JBQXNCLFVBQWlDO0FBQ3JELFVBQU0sTUFBTSxLQUFLLFVBQVUsSUFBSSxRQUFRLEtBQUssQ0FBQztBQUM3QyxXQUFPLElBQUksSUFBSSxRQUFNLEtBQUssYUFBYSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sT0FBTztBQUFBLEVBQ2hFO0FBQUEsRUFFQSxzQkFBc0IsTUFBMEM7QUFDOUQsV0FBTyxNQUFNLEtBQUssS0FBSyxhQUFhLE9BQU8sQ0FBQyxFQUFFLE9BQU8sVUFBUSxLQUFLLFNBQVMsSUFBSTtBQUFBLEVBQ2pGO0FBQUEsRUFFQSxtQkFBbUIsTUFBZSxNQUE4QjtBQUM5RCxVQUFNLE1BQU0sTUFBTSxLQUFLLEtBQUssYUFBYSxPQUFPLENBQUM7QUFDakQsUUFBSSxDQUFDLFFBQVEsQ0FBQztBQUFNLGFBQU87QUFDM0IsV0FBTyxJQUFJLE1BQU0sT0FBTyxPQUFPLE9BQU8sS0FBSyxJQUFJO0FBQUEsRUFDakQ7QUFBQSxFQWNGLE1BQU0sa0JBQWtCLElBQVksU0FBMEMsZ0JBQWdCO0FBQzVGLFVBQU0sT0FBTyxLQUFLLGFBQWEsSUFBSSxFQUFFO0FBQ3JDLFFBQUksTUFBTTtBQUdSLFlBQU0sV0FBVyxLQUFLLE9BQU8saUJBQWlCLGlCQUFpQjtBQUMvRCxZQUFNLG9CQUFvQixTQUN2QixPQUFPLFVBQVE7QUFDZCxjQUFNLFFBQVEsS0FBSyxvQkFBb0I7QUFDdkMsWUFBSSxPQUFPO0FBQUEsUUFDWDtBQUNBLGVBQU87QUFBQSxNQUNULENBQUMsRUFDQSxJQUFJLFVBQVEsS0FBSyxFQUFFO0FBR3RCLFdBQUssYUFBYSxLQUFLO0FBQUEsUUFDckIsTUFBTTtBQUFBLFFBQ04sSUFBSSxLQUFLO0FBQUEsUUFDVCxNQUFNLEVBQUUsR0FBRyxLQUFLO0FBQUEsUUFDaEIsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixXQUFXO0FBQUEsUUFDWDtBQUFBLE1BQ0YsQ0FBQztBQUdELFlBQU0sZUFBZSxLQUFLLElBQUksSUFBSyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3RELFdBQUssZUFBZSxLQUFLLGFBQWEsT0FBTyxPQUFLLEVBQUUsWUFBWSxZQUFZO0FBRTVFLFdBQUssYUFBYSxPQUFPLEVBQUU7QUFHM0IsWUFBTSxZQUFZLEtBQUssVUFBVSxJQUFJLEtBQUssT0FBTyxJQUFJO0FBQ3JELFVBQUksV0FBVztBQUNiLGNBQU0sUUFBUSxVQUFVLFFBQVEsRUFBRTtBQUNsQyxZQUFJLFFBQVEsSUFBSTtBQUNkLG9CQUFVLE9BQU8sT0FBTyxDQUFDO0FBQUEsUUFDM0I7QUFBQSxNQUNGO0FBSUEsWUFBTSxLQUFLLFFBQVE7QUFDbkIsWUFBTSxLQUFLLHFCQUFxQjtBQUFBLElBQ2xDO0FBQUEsRUFDRjtBQUFBO0FBQUEsRUFHQSx3QkFBd0IsT0FBZSxHQU9wQztBQUNELFVBQU0sU0FBUyxLQUFLLElBQUksSUFBSyxPQUFPLEtBQUssS0FBSyxLQUFLO0FBQ25ELFdBQU8sS0FBSyxhQUFhLE9BQU8sT0FBSyxFQUFFLFlBQVksTUFBTSxFQUN0RCxLQUFLLENBQUMsR0FBRyxNQUFNLEVBQUUsWUFBWSxFQUFFLFNBQVM7QUFBQSxFQUM3QztBQUFBO0FBQUEsRUFHQSxNQUFNLG1CQUFtQixhQUE0RDtBQUNuRixRQUFJO0FBRUYsVUFBSSxLQUFLLGFBQWEsSUFBSSxZQUFZLEtBQUssRUFBRSxHQUFHO0FBQzlDLGVBQU87QUFBQSxNQUNUO0FBR0EsV0FBSyxhQUFhLElBQUksWUFBWSxLQUFLLElBQUksWUFBWSxJQUFJO0FBRzNELFVBQUksQ0FBQyxLQUFLLFVBQVUsSUFBSSxZQUFZLEtBQUssT0FBTyxJQUFJLEdBQUc7QUFDckQsYUFBSyxVQUFVLElBQUksWUFBWSxLQUFLLE9BQU8sTUFBTSxDQUFDLENBQUM7QUFBQSxNQUNyRDtBQUNBLFdBQUssVUFBVSxJQUFJLFlBQVksS0FBSyxPQUFPLElBQUksRUFBRyxLQUFLLFlBQVksS0FBSyxFQUFFO0FBRTFFLFlBQU0sS0FBSyxRQUFRO0FBR25CLFdBQUssZUFBZSxLQUFLLGFBQWEsT0FBTyxVQUFRLEtBQUssT0FBTyxZQUFZLEVBQUU7QUFDL0UsWUFBTSxLQUFLLHFCQUFxQjtBQUVoQyxhQUFPO0FBQUEsSUFDVCxTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0saUNBQWlDLEtBQUs7QUFDcEQsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUE7QUFBQSxFQUdBLE1BQU0sNkJBQTZCLGVBQXlDO0FBQzFFLFFBQUk7QUFDRixXQUFLLGVBQWUsS0FBSyxhQUFhLE9BQU8sVUFBUSxLQUFLLE9BQU8sYUFBYTtBQUM5RSxZQUFNLEtBQUsscUJBQXFCO0FBQ2hDLGFBQU87QUFBQSxJQUNULFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSw0Q0FBNEMsS0FBSztBQUMvRCxhQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFBQTtBQUFBLEVBR0EsTUFBTSxxQkFBc0M7QUFDMUMsVUFBTSxRQUFRLEtBQUssYUFBYTtBQUNoQyxTQUFLLGVBQWUsQ0FBQztBQUNyQixVQUFNLEtBQUsscUJBQXFCO0FBQ2hDLFdBQU87QUFBQSxFQUNUO0FBQUEsRUFFQSxNQUFjLHVCQUF1QjtBQUNuQyxRQUFJO0FBQ0YsWUFBTSxPQUFPLEdBQUcsS0FBSztBQUNyQixZQUFNLE9BQU8sS0FBSyxVQUFVLEtBQUssY0FBYyxNQUFNLENBQUM7QUFDdEQsWUFBTSxLQUFLLElBQUksTUFBTSxRQUFRLE1BQU0sTUFBTSxJQUFJO0FBQUEsSUFDL0MsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLG9DQUFvQyxLQUFLO0FBQUEsSUFDekQ7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFjLG9CQUFvQjtBQUNoQyxRQUFJO0FBQ0YsWUFBTSxPQUFPLEdBQUcsS0FBSztBQUNyQixZQUFNLFVBQVUsS0FBSyxJQUFJLE1BQU07QUFFL0IsVUFBSSxNQUFNLFFBQVEsT0FBTyxJQUFJLEdBQUc7QUFDOUIsY0FBTSxPQUFPLE1BQU0sUUFBUSxLQUFLLElBQUk7QUFDcEMsYUFBSyxlQUFlLEtBQUssTUFBTSxJQUFJO0FBR25DLGNBQU0sZUFBZSxLQUFLLElBQUksSUFBSyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBQ3RELGFBQUssZUFBZSxLQUFLLGFBQWEsT0FBTyxPQUFLLEVBQUUsWUFBWSxZQUFZO0FBQzVFLGNBQU0sS0FBSyxxQkFBcUI7QUFBQSxNQUNsQztBQUFBLElBQ0YsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLGlDQUFpQyxLQUFLO0FBQUEsSUFDdEQ7QUFBQSxFQUNGO0FBQUE7QUFBQSxFQVFFLE1BQU0sT0FBc0I7QUFDMUIsVUFBTSxLQUFLLFFBQVE7QUFBQSxFQUNyQjtBQUFBLEVBRUEsTUFBYyxVQUFVO0FBQ3RCLFFBQUk7QUFDRixZQUFNLGNBQWMsR0FBRyxLQUFLO0FBQzVCLFlBQU0sUUFBUSxNQUFNLEtBQUssS0FBSyxhQUFhLE9BQU8sQ0FBQztBQUNuRCxZQUFNLE9BQU8sS0FBSyxVQUFVLE9BQU8sTUFBTSxDQUFDO0FBRTFDLFlBQU0sS0FBSyxJQUFJLE1BQU0sUUFBUSxNQUFNLGFBQWEsSUFBSTtBQUdwRCxZQUFNLFlBQVksR0FBRyxLQUFLO0FBQzFCLFlBQU0sWUFBWSxLQUFLO0FBQUEsUUFDckIsT0FBTyxZQUFZLEtBQUssU0FBUztBQUFBLFFBQ2pDO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFDQSxZQUFNLEtBQUssSUFBSSxNQUFNLFFBQVEsTUFBTSxXQUFXLFNBQVM7QUFBQSxJQUN6RCxTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0sMEJBQTBCLEtBQUs7QUFBQSxJQUMvQztBQUFBLEVBQ0Y7QUFBQTtBQUFBLEVBRUUsTUFBTSxZQUFZLFlBQWlDO0FBQ2pELFFBQUk7QUFDRixZQUFNLFdBQVc7QUFDakIsWUFBTSxLQUFLLFFBQVE7QUFBQSxJQUNyQixTQUFTLE9BQVA7QUFFQSxZQUFNLEtBQUssU0FBUztBQUNwQixZQUFNO0FBQUEsSUFDUjtBQUFBLEVBQ0Y7QUFHSjs7O0FDeFZBLElBQUFDLG9CQUFpRDtBQU0xQyxJQUFNLG1CQUFOLE1BQXVCO0FBQUEsRUFDNUIsWUFDVSxLQUNBLGFBQ0Esa0JBQ0EsUUFDUjtBQUpRO0FBQ0E7QUFDQTtBQUNBO0FBQUEsRUFDUDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUgsb0JBQW9CLE1BQVksUUFBZ0IsTUFBYTtBQUMzRCxVQUFNLFlBQVksT0FBTyxhQUFhO0FBQ3RDLFFBQUksQ0FBQztBQUFXO0FBRWhCLFNBQUssUUFBUSxDQUFDLFNBQVM7QUFDckIsV0FDRyxTQUFTLGdDQUF5QixFQUNsQyxRQUFRLFdBQVcsRUFDbkIsUUFBUSxZQUFZO0FBQ25CLGNBQU0sS0FBSyxvQkFBb0IsUUFBUSxNQUFNLE1BQU07QUFBQSxNQUNyRCxDQUFDO0FBQUEsSUFDTCxDQUFDO0FBRUQsU0FBSyxRQUFRLENBQUMsU0FBUztBQUNyQixXQUNHLFNBQVMsMkJBQXNCLEVBQy9CLFFBQVEsYUFBYSxFQUNyQixRQUFRLFlBQVk7QUFDbkIsY0FBTSxLQUFLLG9CQUFvQixRQUFRLE1BQU0sSUFBSTtBQUFBLE1BQ25ELENBQUM7QUFBQSxJQUNMLENBQUM7QUFFRCxTQUFLLFFBQVEsQ0FBQyxTQUFTO0FBQ3JCLFdBQ0csU0FBUyxvQ0FBMEIsRUFDbkMsUUFBUSxhQUFhLEVBQ3JCLFFBQVEsWUFBWTtBQUNuQixjQUFNLEtBQUssb0JBQW9CLFFBQVEsTUFBTSxPQUFPO0FBQUEsTUFDdEQsQ0FBQztBQUFBLElBQ0wsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQWMsb0JBQ1osUUFDQSxNQUNBLGFBQ2U7QUEzRG5CO0FBNERJLFVBQU0sWUFBWSxPQUFPLGFBQWE7QUFDdEMsUUFBSSxDQUFDLFdBQVc7QUFDZCxVQUFJLHlCQUFPLGtCQUFrQjtBQUM3QjtBQUFBLElBQ0Y7QUFFQSxVQUFNLFNBQVMsT0FBTyxVQUFVLE1BQU07QUFDdEMsVUFBTSxVQUFVLE1BQU0sS0FBSyxJQUFJLE1BQU0sS0FBSyxJQUFJO0FBQzlDLFVBQU0sU0FBUyxLQUFLLG9CQUFvQixTQUFTLE9BQU8sTUFBTSxPQUFPLEVBQUU7QUFFdkUsUUFBSTtBQUNGLFVBQUk7QUFFSixjQUFRLGFBQWE7QUFBQSxRQUNuQixLQUFLO0FBQ0gsaUJBQU8sS0FBSyxlQUFlLE1BQU0sV0FBVyxRQUFRLE9BQU87QUFDM0Q7QUFBQSxRQUNGLEtBQUs7QUFDSCxpQkFBTyxLQUFLLGFBQWEsTUFBTSxXQUFXLFFBQVEsT0FBTztBQUN6RDtBQUFBLFFBQ0YsS0FBSztBQUNILGlCQUFPLEtBQUssZ0JBQWdCLE1BQU0sV0FBVyxRQUFRLE9BQU87QUFDNUQ7QUFBQSxNQUNKO0FBR0EsWUFBTSxlQUFlLE1BQU0sS0FBSyxrQkFBa0IsSUFBSTtBQUN0RCxVQUFJLGNBQWM7QUFDaEIsWUFBSSx5QkFBTyxpREFBdUM7QUFDbEQ7QUFBQSxNQUNGO0FBR0EsWUFBTSxLQUFLLFlBQVksaUJBQWlCLENBQUMsSUFBSSxDQUFDO0FBRzlDLFVBQUksZ0JBQWdCLFFBQVEsZ0JBQWdCLFNBQVM7QUFDbkQsWUFBSTtBQUNGLGdCQUFNLFdBQVcsZ0JBQWdCLE9BQU8sT0FBTztBQUMvQyxnQkFBTSxZQUFZLE1BQU0sS0FBSyxpQkFBaUIsd0JBQXdCLE1BQU07QUFBQSxZQUMxRTtBQUFBLFVBQ0YsQ0FBQztBQUVQLGVBQUksVUFBSyxXQUFMLG1CQUFhLGNBQWM7QUFDN0IsZ0JBQUksZ0JBQWdCLE1BQU07QUFDeEIsb0JBQU0sS0FBSyxPQUFPLGFBQWEsb0JBQW9CO0FBQUEsWUFDckQsT0FBTztBQUNMLG9CQUFNLEtBQUssT0FBTyxhQUFhLHVCQUF1QjtBQUFBLFlBQ3hEO0FBQUEsVUFDRjtBQUdNLGdCQUFNLEtBQUssWUFBWSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7QUFBQSxRQUVoRCxTQUFTLE9BQVA7QUFDQSxrQkFBUSxNQUFNLHFEQUFxRCxLQUFLO0FBQUEsUUFDMUU7QUFBQSxNQUNGLFdBQVcsZ0JBQWdCLFFBQVE7QUFFakMsYUFBSSxVQUFLLFdBQUwsbUJBQWEsY0FBYztBQUM3QixnQkFBTSxLQUFLLE9BQU8sYUFBYSxzQkFBc0I7QUFBQSxRQUN2RDtBQUFBLE1BQ0Y7QUFFQSxZQUFNLFlBQVk7QUFBQSxRQUNoQixNQUFNO0FBQUEsUUFDTixJQUFJO0FBQUEsUUFDSixPQUFPO0FBQUEsTUFDVDtBQUVBLFVBQUkseUJBQU8sdUJBQWtCLFVBQVUsV0FBVyxHQUFHO0FBR3JELFdBQUssZ0JBQWdCO0FBQUEsSUFFdkIsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLCtCQUErQixLQUFLO0FBQ2xELFVBQUkseUJBQU8saUJBQVksTUFBTSxTQUFTO0FBQUEsSUFDeEM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQWMsa0JBQWtCLE1BQWdEO0FBQzlFLFVBQU0sV0FBVyxNQUFNLEtBQUssWUFBWSxtQkFBbUI7QUFHM0QsVUFBTSxZQUFZLFNBQVM7QUFBQSxNQUFLLGNBQzlCLFNBQVMsT0FBTyxTQUFTLEtBQUssT0FBTyxRQUNyQyxTQUFTLE9BQU8sU0FBUyxVQUFVLEtBQUssT0FBTyxTQUFTLFNBQ3hELFNBQVMsT0FBTyxTQUFTLFFBQVEsS0FBSyxPQUFPLFNBQVMsT0FDdEQsU0FBUyxTQUFTLEtBQUs7QUFBQSxJQUN6QjtBQUVBLFdBQU8sYUFBYTtBQUFBLEVBQ3RCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxtQkFBbUIsVUFBa0IsVUFBMkI7QUFDdEUsVUFBTSxjQUFjLFNBQVMsS0FBSyxFQUFFLFlBQVk7QUFDaEQsVUFBTSxjQUFjLFNBQVMsS0FBSyxFQUFFLFlBQVk7QUFDaEQsV0FBTyxnQkFBZ0I7QUFBQSxFQUN6QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsZUFDTixNQUNBLFdBQ0EsUUFDQSxhQUNhO0FBQ2IsVUFBTSxXQUFXLEtBQUssa0JBQWtCLGFBQWEsTUFBTTtBQUUzRCxXQUFPO0FBQUEsTUFDTCxJQUFJLEtBQUssV0FBVztBQUFBLE1BQ3BCLE1BQU07QUFBQSxNQUNOLFNBQVMsVUFBVSxLQUFLO0FBQUEsTUFDeEIsYUFBYSxVQUFVLEtBQUs7QUFBQSxNQUM1QixRQUFRO0FBQUEsUUFDTixNQUFNLEtBQUs7QUFBQSxRQUNYLFVBQVU7QUFBQSxVQUNSLE9BQU87QUFBQSxVQUNQLEtBQUssU0FBUyxVQUFVO0FBQUEsVUFDeEIsTUFBTSxTQUFTO0FBQUEsUUFDakI7QUFBQSxRQUNBLFNBQVMsS0FBSyxZQUFZLGFBQWEsTUFBTTtBQUFBLFFBQzdDLFlBQVksS0FBSyxLQUFLLGFBQWEsS0FBSyxnQkFBZ0I7QUFBQSxNQUMxRDtBQUFBLE1BQ0EsYUFBYTtBQUFBLFFBQ1gsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsYUFBYTtBQUFBLE1BQ2Y7QUFBQSxNQUNBLFVBQVU7QUFBQSxRQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixNQUFNLEtBQUssWUFBWSxhQUFhLE1BQU07QUFBQSxNQUM1QztBQUFBLE1BQ0EsY0FBYyxDQUFDO0FBQUEsSUFDakI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxhQUNOLE1BQ0EsV0FDQSxRQUNBLGFBQ2E7QUFDYixVQUFNLFdBQVcsS0FBSyxrQkFBa0IsYUFBYSxNQUFNO0FBRzNELFFBQUksVUFBa0I7QUFFdEIsUUFBSSxVQUFVLFNBQVMsSUFBSSxHQUFHO0FBRTVCLFlBQU0sUUFBUSxVQUFVLE1BQU0sSUFBSTtBQUNsQyxpQkFBVyxNQUFNLENBQUMsRUFBRSxLQUFLO0FBQ3pCLGVBQVMsTUFBTSxNQUFNLENBQUMsRUFBRSxLQUFLLElBQUksRUFBRSxLQUFLO0FBQUEsSUFDMUMsT0FBTztBQUVMLGlCQUFXLFVBQVUsS0FBSztBQUMxQixlQUFTO0FBQUEsSUFDWDtBQUVBLFdBQU87QUFBQSxNQUNMLElBQUksS0FBSyxXQUFXO0FBQUEsTUFDcEIsTUFBTTtBQUFBLE1BQ04sU0FBUztBQUFBLE1BQ1Q7QUFBQSxNQUNBLGFBQWEsVUFBVSxLQUFLO0FBQUEsTUFDNUIsUUFBUTtBQUFBLFFBQ04sTUFBTSxLQUFLO0FBQUEsUUFDWCxVQUFVO0FBQUEsVUFDUixPQUFPO0FBQUEsVUFDUCxLQUFLLFNBQVMsVUFBVTtBQUFBLFVBQ3hCLE1BQU0sU0FBUztBQUFBLFFBQ2pCO0FBQUEsUUFDQSxTQUFTLEtBQUssWUFBWSxhQUFhLE1BQU07QUFBQSxRQUM3QyxZQUFZLEtBQUssS0FBSyxhQUFhLEtBQUssZ0JBQWdCO0FBQUEsTUFDMUQ7QUFBQSxNQUNBLGFBQWE7QUFBQSxRQUNYLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLGFBQWE7QUFBQSxNQUNmO0FBQUEsTUFDQSxVQUFVO0FBQUEsUUFDUixXQUFXLEtBQUssSUFBSTtBQUFBLFFBQ3BCLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsTUFBTSxLQUFLLFlBQVksYUFBYSxNQUFNO0FBQUEsTUFDNUM7QUFBQSxNQUNBLGNBQWMsQ0FBQztBQUFBLElBQ2pCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsZ0JBQ04sTUFDQSxXQUNBLFFBQ0EsYUFDYTtBQUNiLFVBQU0sV0FBVyxLQUFLLGtCQUFrQixhQUFhLE1BQU07QUFDM0QsVUFBTSxlQUFlLEtBQUssb0JBQW9CLGFBQWEsUUFBUSxVQUFVLE1BQU07QUFFbkYsV0FBTztBQUFBLE1BQ0wsSUFBSSxLQUFLLFdBQVc7QUFBQSxNQUNwQixNQUFNO0FBQUEsTUFDTixTQUFTLFVBQVUsS0FBSztBQUFBLE1BQ3hCLGFBQWE7QUFBQSxNQUNiLFFBQVE7QUFBQSxRQUNOLE1BQU0sS0FBSztBQUFBLFFBQ1gsVUFBVTtBQUFBLFVBQ1IsT0FBTztBQUFBLFVBQ1AsS0FBSyxTQUFTLFVBQVU7QUFBQSxVQUN4QixNQUFNLFNBQVM7QUFBQSxRQUNqQjtBQUFBLFFBQ0EsU0FBUyxLQUFLLFlBQVksYUFBYSxNQUFNO0FBQUEsUUFDN0MsWUFBWSxLQUFLLEtBQUssYUFBYSxLQUFLLGdCQUFnQjtBQUFBLE1BQzFEO0FBQUEsTUFDQSxhQUFhO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixhQUFhO0FBQUEsTUFDZjtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1IsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixXQUFXLEtBQUssSUFBSTtBQUFBLFFBQ3BCLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTTtBQUFBLE1BQzVDO0FBQUEsTUFDQSxjQUFjLENBQUM7QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLG9CQUFvQixTQUFpQixNQUFjLElBQW9CO0FBQzdFLFVBQU0sUUFBUSxRQUFRLE1BQU0sSUFBSTtBQUNoQyxRQUFJLFNBQVM7QUFFYixhQUFTLElBQUksR0FBRyxJQUFJLE1BQU0sS0FBSztBQUM3QixnQkFBVSxNQUFNLENBQUMsRUFBRSxTQUFTO0FBQUEsSUFDOUI7QUFFQSxjQUFVO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0sU0FBUyxNQUE4QjtBQUMzQyxRQUFJO0FBQ0YsWUFBTSxVQUFVLE1BQU0sS0FBSyxJQUFJLE1BQU0sS0FBSyxJQUFJO0FBQzlDLFlBQU0sUUFBUSxNQUFNLEtBQUssZUFBZSxNQUFNLE9BQU87QUFFckQsVUFBSSxNQUFNLFNBQVMsR0FBRztBQUNwQixjQUFNLEtBQUssWUFBWSxpQkFBaUIsS0FBSztBQUU3QyxjQUFNLFVBQVUsTUFBTSxPQUFPLE9BQUssRUFBRSxTQUFTLElBQUksRUFBRTtBQUNuRCxjQUFNLGFBQWEsTUFBTSxPQUFPLE9BQUssRUFBRSxTQUFTLE9BQU8sRUFBRTtBQUN6RCxZQUFJLHlCQUFPLGFBQWEsd0JBQXdCLCtCQUErQixLQUFLLE1BQU07QUFFMUYsbUJBQVcsTUFBTTtBQUNmLGVBQUssZ0JBQWdCO0FBQUEsUUFDdkIsR0FBRyxHQUFHO0FBQUEsTUFDUjtBQUVBLGFBQU8sTUFBTTtBQUFBLElBQ2YsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLHFCQUFxQixLQUFLO0FBQ3hDLFVBQUkseUJBQU8sd0JBQXdCLE1BQU0sU0FBUztBQUNsRCxhQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGtCQUFrQjtBQUN4QixTQUFLLElBQUksVUFBVSxpQkFBaUIsVUFBUTtBQUMxQyxZQUFNLFdBQVcsS0FBSyxLQUFLLFlBQVk7QUFDdkMsVUFBSSxhQUFhLHNDQUNiLGFBQWEsaUNBQWlDO0FBQzVDLGNBQU0sT0FBTyxLQUFLO0FBQ2xCLFlBQUksUUFBUSxPQUFPLEtBQUssWUFBWSxZQUFZO0FBQzlDLGVBQUssUUFBUTtBQUFBLFFBQ2Y7QUFBQSxNQUNOO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBTSxZQUE2RDtBQUNqRSxVQUFNLFFBQVEsS0FBSyxJQUFJLE1BQU0saUJBQWlCO0FBQzlDLFFBQUksVUFBVTtBQUNkLFFBQUksWUFBWTtBQUVoQixRQUFJLHlCQUFPLFlBQVksTUFBTSxpQkFBaUI7QUFFOUMsZUFBVyxRQUFRLE9BQU87QUFDeEIsWUFBTSxRQUFRLE1BQU0sS0FBSyxTQUFTLElBQUk7QUFDdEM7QUFDQSxtQkFBYTtBQUFBLElBQ2Y7QUFFQSxRQUFJLHlCQUFPLDRCQUE0Qix3QkFBd0IsZ0JBQWdCO0FBRS9FLFdBQU8sRUFBRSxTQUFTLFVBQVU7QUFBQSxFQUM5QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBYyxlQUFlLE1BQWEsU0FBeUM7QUFuWXJGO0FBb1lJLFVBQU0sUUFBdUIsQ0FBQztBQUc5QixVQUFNLFVBQVUsS0FBSyxlQUFlLE1BQU0sT0FBTztBQUNqRCxVQUFNLGFBQWEsTUFBTSxLQUFLLGtCQUFrQixNQUFNLE9BQU87QUFFN0QsVUFBTSxvQkFBb0IsQ0FBQyxHQUFHLFNBQVMsR0FBRyxVQUFVO0FBR3BELFVBQU0sZ0JBQWdCLE1BQU0sS0FBSyxZQUFZLG1CQUFtQjtBQUNoRSxVQUFNLFdBQVcsTUFBTSxLQUFLLHFCQUFxQixtQkFBbUIsYUFBYTtBQUVqRixRQUFJLFNBQVMsV0FBVyxHQUFHO0FBQ3pCLFVBQUkseUJBQU8sSUFBSSxLQUFLLGlDQUFpQztBQUNyRCxhQUFPLENBQUM7QUFBQSxJQUNWO0FBRUEsUUFBSSxTQUFTLFNBQVMsa0JBQWtCLFFBQVE7QUFDOUMsWUFBTSxVQUFVLGtCQUFrQixTQUFTLFNBQVM7QUFDcEQsVUFBSSx5QkFBTyxJQUFJLEtBQUssZ0JBQWdCLHlCQUF5QjtBQUFBLElBQy9EO0FBRUEsVUFBTSxLQUFLLEdBQUcsUUFBUTtBQUd0QixRQUFJLE1BQU0sU0FBUyxHQUFHO0FBQ3BCLFlBQU0sS0FBSyxZQUFZLGlCQUFpQixLQUFLO0FBQUEsSUFDL0M7QUFHQSxlQUFXLFFBQVEsT0FBTztBQUN4QixVQUFJO0FBQ0YsY0FBTSxXQUFXLEtBQUssU0FBUyxPQUFPLE9BQU87QUFDN0MsY0FBTSxZQUFZLE1BQU0sS0FBSyxpQkFBaUIsd0JBQXdCLE1BQU07QUFBQSxVQUMxRTtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0gsU0FBUyxPQUFQO0FBQ0EsZ0JBQVEsTUFBTSxpREFBaUQsS0FBSztBQUFBLE1BQ3RFO0FBQUEsSUFDRjtBQUVKLFVBQUksVUFBSyxXQUFMLG1CQUFhLGlCQUFnQixNQUFNLFNBQVMsR0FBRztBQUNqRCxlQUFTLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLO0FBQ3JDLGNBQU0sS0FBSyxPQUFPLGFBQWEsY0FBYztBQUFBLE1BQy9DO0FBQUEsSUFDRjtBQUNJLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQWMscUJBQ1osVUFDQSxlQUN3QjtBQUN4QixVQUFNLFdBQTBCLENBQUM7QUFFakMsZUFBVyxXQUFXLFVBQVU7QUFDOUIsWUFBTSxjQUFjLGNBQWMsS0FBSyxjQUFZO0FBRWpELGNBQU0sZUFDSixTQUFTLE9BQU8sU0FBUyxRQUFRLE9BQU8sUUFDeEMsU0FBUyxPQUFPLFNBQVMsVUFBVSxRQUFRLE9BQU8sU0FBUyxTQUMzRCxTQUFTLE9BQU8sU0FBUyxRQUFRLFFBQVEsT0FBTyxTQUFTLE9BQ3pELFNBQVMsU0FBUyxRQUFRO0FBRzVCLGNBQU0sY0FDSixTQUFTLE9BQU8sU0FBUyxRQUFRLE9BQU8sUUFDeEMsU0FBUyxTQUFTLFFBQVEsUUFDMUIsS0FBSyxtQkFBbUIsU0FBUyxTQUFTLFFBQVEsT0FBTyxLQUN6RCxLQUFLLG1CQUFtQixTQUFTLGVBQWUsSUFBSSxRQUFRLGVBQWUsRUFBRTtBQUcvRSxjQUFNLFNBQVMsU0FBUyxTQUFTLFFBQVEsUUFBUSxTQUFTLFFBQ3hELFNBQVMsT0FBTyxTQUFTLFFBQVEsT0FBTyxRQUN4QyxLQUFLLG1CQUFtQixTQUFTLFNBQVMsUUFBUSxPQUFPLEtBQ3pELEtBQUssbUJBQW1CLFNBQVMsVUFBVSxJQUFJLFFBQVEsVUFBVSxFQUFFO0FBRXJFLGVBQU8sZ0JBQWdCLGVBQWU7QUFBQSxNQUN4QyxDQUFDO0FBRUQsVUFBSSxDQUFDLGFBQWE7QUFDaEIsaUJBQVMsS0FBSyxPQUFPO0FBQUEsTUFDdkI7QUFBQSxJQUNGO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVEsaUJBQWlCLE1BQXVCO0FBRTlDLFVBQU0sY0FBYztBQUNwQixXQUFPLFlBQVksS0FBSyxJQUFJO0FBQUEsRUFDOUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVEsZ0JBQWdCLFVBQWtCLFFBQXlCO0FBRWpFLFVBQU0sbUJBQW1CO0FBR3pCLFVBQU0sa0JBQWtCO0FBQ3hCLFVBQU0sa0JBQWtCO0FBRXhCLFdBQU8saUJBQWlCLEtBQUssUUFBUSxNQUM3QixnQkFBZ0IsS0FBSyxNQUFNLEtBQUssZ0JBQWdCLEtBQUssTUFBTTtBQUFBLEVBQ3JFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1RLHNCQUFzQixXQUFtQixNQUF1QjtBQUV0RSxVQUFNLHFCQUFxQjtBQUMzQixXQUFPLG1CQUFtQixLQUFLLFNBQVMsS0FBSyxtQkFBbUIsS0FBSyxJQUFJO0FBQUEsRUFDM0U7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVEsZUFBZSxNQUFhLFNBQWdDO0FBQ2xFLFVBQU0sUUFBdUIsQ0FBQztBQUM5QixVQUFNLFVBQVU7QUFDaEIsUUFBSTtBQUVKLFlBQVEsUUFBUSxRQUFRLEtBQUssT0FBTyxPQUFPLE1BQU07QUFDL0MsWUFBTSxZQUFZLE1BQU0sQ0FBQztBQUN6QixZQUFNLFdBQVcsTUFBTSxDQUFDLEVBQUUsS0FBSztBQUMvQixZQUFNLFNBQVMsTUFBTSxDQUFDLEVBQUUsS0FBSztBQUc3QixVQUFJLEtBQUssaUJBQWlCLFNBQVMsR0FBRztBQUNwQztBQUFBLE1BQ0Y7QUFHQSxVQUFJLEtBQUssZ0JBQWdCLFVBQVUsTUFBTSxHQUFHO0FBQzFDO0FBQUEsTUFDRjtBQUVBLFlBQU0sV0FBVyxLQUFLLGtCQUFrQixTQUFTLE1BQU0sS0FBSztBQUU1RCxZQUFNLE9BQW9CO0FBQUEsUUFDeEIsSUFBSSxLQUFLLFdBQVc7QUFBQSxRQUNwQixNQUFNO0FBQUEsUUFDTixTQUFTO0FBQUEsUUFDVDtBQUFBLFFBQ0EsYUFBYTtBQUFBLFFBQ2IsUUFBUTtBQUFBLFVBQ04sTUFBTSxLQUFLO0FBQUEsVUFDWCxVQUFVO0FBQUEsWUFDUixPQUFPLE1BQU07QUFBQSxZQUNiLEtBQUssTUFBTSxRQUFRLFVBQVU7QUFBQSxZQUM3QixNQUFNLFNBQVM7QUFBQSxVQUNqQjtBQUFBLFVBQ0EsU0FBUyxLQUFLLFlBQVksU0FBUyxNQUFNLEtBQUs7QUFBQSxVQUM5QyxZQUFZLEtBQUssS0FBSyxhQUFhLEtBQUssZ0JBQWdCO0FBQUEsUUFDMUQ7QUFBQSxRQUNBLGFBQWE7QUFBQSxVQUNYLFFBQVE7QUFBQSxVQUNSLFVBQVU7QUFBQSxVQUNWLGFBQWE7QUFBQSxRQUNmO0FBQUEsUUFDQSxVQUFVO0FBQUEsVUFDUixXQUFXLEtBQUssSUFBSTtBQUFBLFVBQ3BCLFdBQVcsS0FBSyxJQUFJO0FBQUEsVUFDcEIsTUFBTSxLQUFLLFlBQVksU0FBUyxNQUFNLEtBQUs7QUFBQSxRQUM3QztBQUFBLFFBQ0EsY0FBYyxDQUFDO0FBQUEsTUFDakI7QUFFQSxZQUFNLEtBQUssSUFBSTtBQUFBLElBQ2pCO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9RLG9CQUFvQixTQUFpQixnQkFBd0IsaUJBQWlDO0FBQ3BHLFVBQU0sZUFBZTtBQUVyQixRQUFJLFFBQVE7QUFDWixXQUFPLFFBQVEsR0FBRztBQUNoQixZQUFNLE9BQU8sUUFBUSxRQUFRLENBQUM7QUFDOUIsVUFBSSxhQUFhLEtBQUssSUFBSSxHQUFHO0FBQzNCO0FBQUEsTUFDRjtBQUNBO0FBQUEsSUFDRjtBQUVBLFFBQUksTUFBTSxpQkFBaUI7QUFDM0IsV0FBTyxNQUFNLFFBQVEsUUFBUTtBQUMzQixZQUFNLE9BQU8sUUFBUSxHQUFHO0FBQ3hCLFVBQUksYUFBYSxLQUFLLElBQUksR0FBRztBQUMzQjtBQUNBO0FBQUEsTUFDRjtBQUNBO0FBQUEsSUFDRjtBQUVBLFdBQU8sUUFBUSxVQUFVLE9BQU8sR0FBRyxFQUFFLEtBQUs7QUFBQSxFQUM1QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1Esa0JBQWtCLFNBQWlCLFFBQWtEO0FBQzNGLFVBQU0sUUFBUSxRQUFRLFVBQVUsR0FBRyxNQUFNLEVBQUUsTUFBTSxJQUFJO0FBQ3JELFdBQU87QUFBQSxNQUNMLE1BQU0sTUFBTSxTQUFTO0FBQUEsTUFDckIsUUFBUSxNQUFNLE1BQU0sU0FBUyxDQUFDLEVBQUU7QUFBQSxJQUNsQztBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLFlBQVksU0FBaUIsVUFBc0M7QUFDekUsVUFBTSxnQkFBZ0IsUUFBUSxVQUFVLEdBQUcsUUFBUTtBQUNuRCxVQUFNLFdBQVcsY0FBYyxNQUFNLGVBQWU7QUFDcEQsV0FBTyxXQUFXLFNBQVMsU0FBUyxTQUFTLENBQUMsSUFBSTtBQUFBLEVBQ3BEO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxZQUFZLFNBQWlCLFVBQTRCO0FBQy9ELFVBQU0sT0FBTyxvQkFBSSxJQUFZO0FBRzdCLFVBQU0sWUFBWSxRQUFRLE1BQU0sdUJBQXVCO0FBQ3ZELFFBQUksV0FBVztBQUNiLFlBQU0sY0FBYyxVQUFVLENBQUM7QUFDL0IsWUFBTSxZQUFZLFlBQVksTUFBTSxpQkFBaUI7QUFDckQsVUFBSSxXQUFXO0FBQ2IsY0FBTSxhQUFhLFVBQVUsQ0FBQyxFQUFFLEtBQUs7QUFDckMsWUFBSSxXQUFXLFdBQVcsR0FBRyxHQUFHO0FBQzlCLGdCQUFNLFlBQVksV0FBVyxNQUFNLFVBQVU7QUFDN0MsaURBQVcsUUFBUSxTQUFPLEtBQUssSUFBSSxJQUFJLEtBQUs7QUFBQSxRQUM5QyxPQUFPO0FBQ0wscUJBQVcsTUFBTSxHQUFHLEVBQUUsUUFBUSxTQUFPO0FBQ25DLGtCQUFNLFVBQVUsSUFBSSxLQUFLO0FBQ3pCLGdCQUFJO0FBQVMsbUJBQUssSUFBSSxJQUFJLFNBQVM7QUFBQSxVQUNyQyxDQUFDO0FBQUEsUUFDSDtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBR0EsVUFBTSxRQUFRLFFBQVEsVUFBVSxHQUFHLFFBQVEsRUFBRSxNQUFNLElBQUk7QUFDdkQsVUFBTSxjQUFjLE1BQU0sU0FBUztBQUNuQyxVQUFNLGNBQWMsUUFBUSxNQUFNLElBQUksRUFBRSxXQUFXLEtBQUs7QUFFeEQsVUFBTSxpQkFBaUI7QUFDdkIsVUFBTSxhQUFhLFlBQVksTUFBTSxjQUFjO0FBQ25ELDZDQUFZLFFBQVEsU0FBTyxLQUFLLElBQUksR0FBRztBQUV2QyxXQUFPLE1BQU0sS0FBSyxJQUFJO0FBQUEsRUFDeEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGFBQXFCO0FBQzNCLFdBQU8sR0FBRyxLQUFLLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRSxTQUFTLEVBQUUsRUFBRSxPQUFPLEdBQUcsQ0FBQztBQUFBLEVBQ2hFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxrQkFBMEI7QUFDaEMsV0FBTyxXQUFXLEtBQUssSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFLFNBQVMsRUFBRSxFQUFFLE9BQU8sR0FBRyxDQUFDO0FBQUEsRUFDeEU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT00sVUFBVSxTQUFpQixVQUEyQjtBQTNxQjlEO0FBNHFCRSxVQUFNLFFBQVEsUUFBUSxNQUFNLElBQUk7QUFDaEMsVUFBTSxFQUFFLEtBQUssSUFBSSxLQUFLLGtCQUFrQixTQUFTLFFBQVE7QUFHekQsUUFBSSxHQUFDLFdBQU0sSUFBSSxNQUFWLG1CQUFhLFNBQVMsT0FBTTtBQUMvQixhQUFPO0FBQUEsSUFDVDtBQUdBLFVBQU0sbUJBQW1CLE9BQU8sT0FBSyxXQUFNLE9BQU8sQ0FBQyxNQUFkLG1CQUFpQixTQUFTO0FBQy9ELFVBQU0sbUJBQW1CLE9BQU8sTUFBTSxTQUFTLE9BQUssV0FBTSxPQUFPLENBQUMsTUFBZCxtQkFBaUIsU0FBUztBQUU5RSxXQUFPLG9CQUFvQjtBQUFBLEVBQzdCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSwyQkFDTixTQUNBLG1CQUNvSDtBQWpzQnRIO0FBa3NCRSxVQUFNLFFBQVEsUUFBUSxNQUFNLElBQUk7QUFDaEMsVUFBTSxFQUFFLE1BQU0sWUFBWSxJQUFJLEtBQUssa0JBQWtCLFNBQVMsaUJBQWlCO0FBRy9FLFFBQUksYUFBYTtBQUNqQixRQUFJLFdBQVc7QUFHZixXQUFPLGFBQWEsT0FBSyxXQUFNLGFBQWEsQ0FBQyxNQUFwQixtQkFBdUIsU0FBUyxPQUFNO0FBQzdEO0FBQUEsSUFDRjtBQUdBLFdBQU8sV0FBVyxNQUFNLFNBQVMsT0FBSyxXQUFNLFdBQVcsQ0FBQyxNQUFsQixtQkFBcUIsU0FBUyxPQUFNO0FBQ3hFO0FBQUEsSUFDRjtBQUdBLFVBQU0sYUFBYSxNQUFNLE1BQU0sWUFBWSxXQUFXLENBQUM7QUFDdkQsVUFBTSxlQUFlLFdBQVcsS0FBSyxJQUFJO0FBR3pDLFVBQU0saUJBQWlCO0FBQ3ZCLFVBQU0sZ0JBQWdCLG9CQUFJLElBQVk7QUFDdEMsVUFBTSxtQkFBbUIsb0JBQUksSUFBWTtBQUN6QyxRQUFJLGlCQUFpQjtBQUVyQixlQUFXLFFBQVEsQ0FBQyxNQUFNLGFBQWE7QUFDckMsWUFBTSxRQUFRLEtBQUssTUFBTSxHQUFHLEVBQUUsSUFBSSxPQUFLLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxPQUFLLENBQUM7QUFHOUQsVUFBSSxNQUFNLFNBQVMsS0FBSyxNQUFNLE1BQU0sVUFBUSxZQUFZLEtBQUssSUFBSSxDQUFDLEdBQUc7QUFDbkU7QUFBQSxNQUNGO0FBRUEsWUFBTSxRQUFRLENBQUMsTUFBTSxhQUFhO0FBQ2hDLFlBQUksZUFBZSxLQUFLLElBQUksR0FBRztBQUM3Qix3QkFBYyxJQUFJLFFBQVE7QUFDMUIsMkJBQWlCLElBQUksUUFBUTtBQUM3QjtBQUFBLFFBQ0Y7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNILENBQUM7QUFFRCxXQUFPO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLUSxvQkFDTixZQUNBLGVBQ0Esa0JBQ0EsZ0JBQ1E7QUFDUixVQUFNLFlBQVksV0FBVztBQUU5QixVQUFNLGlCQUFpQixXQUFXLFVBQVUsQ0FBQyxNQUFNLFFBQVE7QUFDMUQsVUFBSSxRQUFRO0FBQUcsZUFBTztBQUN0QixZQUFNLFFBQVEsS0FBSyxNQUFNLEdBQUcsRUFBRSxJQUFJLE9BQUssRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLE9BQUssQ0FBQztBQUU5RCxhQUFPLE1BQU0sU0FBUyxLQUFLLE1BQU0sTUFBTSxVQUFRLFlBQVksS0FBSyxJQUFJLENBQUM7QUFBQSxJQUN2RSxDQUFDO0FBR0QsVUFBTSx1QkFBdUIsbUJBQW1CLEtBQUssaUJBQWlCO0FBR3BFLFVBQU0sZUFBZSxXQUFXLGlCQUFpQixDQUFDLEtBQUssV0FBVyxDQUFDO0FBQ25FLFVBQU0sY0FBYyxhQUFhLE1BQU0sR0FBRyxFQUFFLE9BQU8sT0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBRWxFLFFBQUksaUJBQWlCLFNBQVMsZUFBZSxrQkFBa0IsWUFBWSxHQUFHO0FBQzVFLGFBQU8sV0FBVyxLQUFLLElBQUk7QUFBQSxJQUM3QjtBQUdBLFFBQUksY0FBYyxTQUFTLEdBQUc7QUFDNUIsWUFBTSxlQUFlLE1BQU0sS0FBSyxhQUFhLEVBQUUsQ0FBQztBQUNoRCxZQUFNQyxVQUFTO0FBQUEsUUFDYixXQUFXLENBQUM7QUFBQTtBQUFBLFFBQ1osV0FBVyxjQUFjO0FBQUE7QUFBQSxRQUN6QixXQUFXLFlBQVk7QUFBQTtBQUFBLE1BQ3pCO0FBQ0EsYUFBT0EsUUFBTyxLQUFLLElBQUk7QUFBQSxJQUN6QjtBQUdBLFVBQU0sU0FBUyxDQUFDLFdBQVcsQ0FBQyxHQUFHLFdBQVcsY0FBYyxDQUFDO0FBQ3pELGtCQUFjLFFBQVEsY0FBWTtBQUNoQyxVQUFJLGFBQWEsS0FBSyxhQUFhLGdCQUFnQjtBQUNqRCxlQUFPLEtBQUssV0FBVyxRQUFRLENBQUM7QUFBQSxNQUNsQztBQUFBLElBQ0YsQ0FBQztBQUNELFdBQU8sT0FBTyxLQUFLLElBQUk7QUFBQSxFQUN6QjtBQUFBLEVBQ0EsTUFBYyxrQkFBa0IsTUFBYSxTQUF5QztBQXZ5QnRGO0FBd3lCRSxVQUFNLFFBQXVCLENBQUM7QUFDOUIsVUFBTSxpQkFBaUI7QUFDdkIsVUFBTSxrQkFBa0Isb0JBQUksSUFBWTtBQUN4QyxVQUFNLHNCQUFzQixvQkFBSSxJQUFZO0FBQzVDLFFBQUk7QUFFSixZQUFRLFFBQVEsZUFBZSxLQUFLLE9BQU8sT0FBTyxNQUFNO0FBQ3RELFlBQU0sZ0JBQWdCLE1BQU0sQ0FBQztBQUM3QixZQUFNLFlBQVksTUFBTSxDQUFDO0FBQ3pCLFlBQU0sV0FBVyxLQUFLLGtCQUFrQixTQUFTLE1BQU0sS0FBSztBQUc1RCxVQUFJLG9CQUFvQixJQUFJLE1BQU0sS0FBSyxHQUFHO0FBQ3hDO0FBQUEsTUFDRjtBQUdBLFlBQU0sWUFBWSxRQUFRLFlBQVksTUFBTSxNQUFNLEtBQUssSUFBSTtBQUMzRCxZQUFNLFVBQVUsUUFBUSxRQUFRLE1BQU0sTUFBTSxLQUFLO0FBQ2pELFlBQU0sY0FBYyxRQUFRLFVBQVUsV0FBVyxZQUFZLEtBQUssUUFBUSxTQUFTLE9BQU87QUFHMUYsVUFBSSxLQUFLLHNCQUFzQixlQUFlLFdBQVcsR0FBRztBQUMxRDtBQUFBLE1BQ0Y7QUFHQSxVQUFJLEtBQUssVUFBVSxTQUFTLE1BQU0sS0FBSyxHQUFHO0FBQ3hDLGNBQU0sWUFBWSxLQUFLLDJCQUEyQixTQUFTLE1BQU0sS0FBSztBQUV0RSxZQUFJLFdBQVc7QUFDYixnQkFBTSxXQUFXLEdBQUcsS0FBSyxRQUFRLFVBQVUsYUFBYSxVQUFVLEdBQUcsRUFBRTtBQUd2RSxjQUFJLGdCQUFnQixJQUFJLFFBQVEsR0FBRztBQUNqQztBQUFBLFVBQ0Y7QUFDQSwwQkFBZ0IsSUFBSSxRQUFRO0FBRzVCLGdCQUFNLGtCQUFrQixLQUFLLHlCQUF5QixTQUFTLFVBQVUsY0FBYyxNQUFNLEtBQUs7QUFDbEcsMEJBQWdCLFFBQVEsU0FBTyxvQkFBb0IsSUFBSSxHQUFHLENBQUM7QUFFM0QsZ0JBQU0sUUFBUSxRQUFRLE1BQU0sSUFBSTtBQUNoQyxnQkFBTSxFQUFFLE1BQU0saUJBQWlCLElBQUksS0FBSyxrQkFBa0IsU0FBUyxNQUFNLEtBQUs7QUFHOUUsY0FBSSxhQUFhO0FBQ2pCLGlCQUFPLGFBQWEsT0FBSyxXQUFNLGFBQWEsQ0FBQyxNQUFwQixtQkFBdUIsU0FBUyxPQUFNO0FBQzdEO0FBQUEsVUFDRjtBQUVBLGdCQUFNLGFBQWEsVUFBVSxhQUFhLE1BQU0sSUFBSTtBQUNwRCxnQkFBTSxpQkFBaUIsS0FBSztBQUFBLFlBQzFCO0FBQUEsWUFDQSxVQUFVO0FBQUEsWUFDVixVQUFVO0FBQUEsWUFDVixVQUFVO0FBQUEsVUFDWjtBQUVSLGdCQUFNLGlCQUFpQixlQUFlLE1BQU0sSUFBSTtBQUNoRCxnQkFBTSxlQUFlLGVBQWUsS0FBSyxVQUFRO0FBQy9DLGtCQUFNLFFBQVEsS0FBSyxNQUFNLEdBQUcsRUFBRSxJQUFJLE9BQUssRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLE9BQUssQ0FBQztBQUM5RCxtQkFBTyxNQUFNLFNBQVMsS0FBSyxNQUFNLE1BQU0sVUFBUSxZQUFZLEtBQUssSUFBSSxDQUFDO0FBQUEsVUFDdkUsQ0FBQztBQUdELGNBQUksQ0FBQyxnQkFBZ0IsZUFBZSxVQUFVLEdBQUc7QUFDL0Msa0JBQU0sY0FBYyxlQUFlLENBQUMsRUFBRSxNQUFNLEdBQUcsRUFBRSxJQUFJLE9BQUssRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLE9BQUssQ0FBQztBQUNqRixrQkFBTSxZQUFZLE9BQU8sWUFBWSxJQUFJLE1BQU0sS0FBSyxFQUFFLEtBQUssS0FBSyxJQUFJO0FBQ3BFLDJCQUFlLE9BQU8sR0FBRyxHQUFHLFNBQVM7QUFDckMsa0JBQU1DLGtCQUFpQixlQUFlLEtBQUssSUFBSTtBQUFBLFVBQ2pEO0FBRVEsY0FBSSxtQkFBbUI7QUFDdkIsbUJBQVMsSUFBSSxHQUFHLElBQUksWUFBWSxLQUFLO0FBQ25DLGdDQUFvQixNQUFNLENBQUMsRUFBRSxTQUFTO0FBQUEsVUFDeEM7QUFHQSxnQkFBTSxnQkFBZ0IsS0FBSyw4QkFBOEIsVUFBVSxZQUFZO0FBRS9FLGdCQUFNQyxRQUFvQjtBQUFBLFlBQ3hCLElBQUksS0FBSyxXQUFXO0FBQUEsWUFDcEIsTUFBTTtBQUFBLFlBQ04sU0FBUyxjQUFjLEtBQUssSUFBSTtBQUFBO0FBQUEsWUFDaEMsYUFBYTtBQUFBO0FBQUEsWUFDYixRQUFRO0FBQUEsY0FDTixNQUFNLEtBQUs7QUFBQSxjQUNYLFVBQVU7QUFBQSxnQkFDUixPQUFPO0FBQUEsZ0JBQ1AsS0FBSyxtQkFBbUIsVUFBVSxhQUFhO0FBQUEsZ0JBQy9DLE1BQU07QUFBQSxjQUNSO0FBQUEsY0FDQSxTQUFTLEtBQUssWUFBWSxTQUFTLE1BQU0sS0FBSztBQUFBLGNBQzlDLFlBQVksS0FBSyxLQUFLLGFBQWEsS0FBSyxnQkFBZ0I7QUFBQSxZQUMxRDtBQUFBLFlBQ0EsYUFBYTtBQUFBLGNBQ1gsUUFBUTtBQUFBLGNBQ1IsVUFBVTtBQUFBLGNBQ1YsYUFBYTtBQUFBLFlBQ2Y7QUFBQSxZQUNBLFVBQVU7QUFBQSxjQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsY0FDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxjQUNwQixNQUFNLENBQUMsR0FBRyxLQUFLLFlBQVksU0FBUyxNQUFNLEtBQUssR0FBRyxRQUFRO0FBQUEsY0FDMUQsWUFBWTtBQUFBLGdCQUNWLFdBQVc7QUFBQSxnQkFDWCxnQkFBZ0IsVUFBVTtBQUFBLGdCQUMxQixVQUFVLFVBQVUsY0FBYztBQUFBLGdCQUNsQyxhQUFhLFVBQVUsaUJBQWlCO0FBQUEsZ0JBQ3hDO0FBQUE7QUFBQSxjQUNGO0FBQUEsWUFDRjtBQUFBLFlBQ0EsY0FBYyxDQUFDO0FBQUEsVUFDakI7QUFFQSxnQkFBTSxLQUFLQSxLQUFJO0FBR3ZCLGVBQUksVUFBSyxXQUFMLG1CQUFhLGNBQWM7QUFDN0Isa0JBQU0sS0FBSyxPQUFPLGFBQWEsZUFBZTtBQUFBLFVBQ2hEO0FBQ1E7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUdBLFlBQU0sZUFBZSxLQUFLLG9CQUFvQixTQUFTLE1BQU0sT0FBTyxVQUFVLE1BQU07QUFFcEYsWUFBTSxPQUFvQjtBQUFBLFFBQ3hCLElBQUksS0FBSyxXQUFXO0FBQUEsUUFDcEIsTUFBTTtBQUFBLFFBQ04sU0FBUyxjQUFjLEtBQUs7QUFBQSxRQUM1QixhQUFhO0FBQUEsUUFDYixRQUFRO0FBQUEsVUFDTixNQUFNLEtBQUs7QUFBQSxVQUNYLFVBQVU7QUFBQSxZQUNSLE9BQU8sTUFBTTtBQUFBLFlBQ2IsS0FBSyxNQUFNLFFBQVEsVUFBVTtBQUFBLFlBQzdCLE1BQU0sU0FBUztBQUFBLFVBQ2pCO0FBQUEsVUFDQSxTQUFTLEtBQUssWUFBWSxTQUFTLE1BQU0sS0FBSztBQUFBLFVBQzlDLFlBQVksS0FBSyxLQUFLLGFBQWEsS0FBSyxnQkFBZ0I7QUFBQSxRQUMxRDtBQUFBLFFBQ0EsYUFBYTtBQUFBLFVBQ1gsUUFBUTtBQUFBLFVBQ1IsVUFBVTtBQUFBLFVBQ1YsYUFBYTtBQUFBLFFBQ2Y7QUFBQSxRQUNBLFVBQVU7QUFBQSxVQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsVUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxVQUNwQixNQUFNLEtBQUssWUFBWSxTQUFTLE1BQU0sS0FBSztBQUFBLFFBQzdDO0FBQUEsUUFDQSxjQUFjLENBQUM7QUFBQSxNQUNqQjtBQUVBLFlBQU0sS0FBSyxJQUFJO0FBQUEsSUFDakI7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUEsRUFHUSx5QkFDTixTQUNBLGNBQ0EscUJBQ1U7QUFqOUJaO0FBazlCRSxVQUFNLFlBQXNCLENBQUM7QUFDN0IsVUFBTSxRQUFRLFFBQVEsTUFBTSxJQUFJO0FBQ2hDLFVBQU0sRUFBRSxNQUFNLFlBQVksSUFBSSxLQUFLLGtCQUFrQixTQUFTLG1CQUFtQjtBQUdqRixRQUFJLGFBQWE7QUFDakIsUUFBSSxXQUFXO0FBRWYsV0FBTyxhQUFhLE9BQUssV0FBTSxhQUFhLENBQUMsTUFBcEIsbUJBQXVCLFNBQVMsT0FBTTtBQUM3RDtBQUFBLElBQ0Y7QUFDQSxXQUFPLFdBQVcsTUFBTSxTQUFTLE9BQUssV0FBTSxXQUFXLENBQUMsTUFBbEIsbUJBQXFCLFNBQVMsT0FBTTtBQUN4RTtBQUFBLElBQ0Y7QUFHQSxRQUFJLFNBQVM7QUFDYixhQUFTLElBQUksR0FBRyxJQUFJLFlBQVksS0FBSztBQUNuQyxnQkFBVSxNQUFNLENBQUMsRUFBRSxTQUFTO0FBQUEsSUFDOUI7QUFHQSxVQUFNLGlCQUFpQjtBQUN2QixRQUFJO0FBQ0osVUFBTSxpQkFBaUIsU0FBUyxhQUFhO0FBRTdDLFlBQVEsUUFBUSxlQUFlLEtBQUssT0FBTyxPQUFPLE1BQU07QUFDdEQsVUFBSSxNQUFNLFNBQVMsVUFBVSxNQUFNLFFBQVEsZ0JBQWdCO0FBQ3pELGtCQUFVLEtBQUssTUFBTSxLQUFLO0FBQUEsTUFDNUI7QUFBQSxJQUNGO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBR1EsOEJBQThCLGNBQWdDO0FBQ3BFLFVBQU0sYUFBdUIsQ0FBQztBQUM5QixVQUFNLGlCQUFpQjtBQUN2QixRQUFJO0FBRUosWUFBUSxRQUFRLGVBQWUsS0FBSyxZQUFZLE9BQU8sTUFBTTtBQUMzRCxpQkFBVyxLQUFLLE1BQU0sQ0FBQyxFQUFFLEtBQUssQ0FBQztBQUFBLElBQ2pDO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFFQTs7O0FDNytCTyxJQUFNLG9CQUFOLE1BQXdCO0FBQUEsRUFJN0IsWUFDVSxLQUNBLFFBQ1I7QUFGUTtBQUNBO0FBTFYsU0FBUSxjQUF1QyxvQkFBSSxJQUFJO0FBT3JELFNBQUssYUFBYSxHQUFHLEtBQUssSUFBSSxNQUFNO0FBQUEsRUFDdEM7QUFBQSxFQUVBLE1BQU0sYUFBYTtBQUNqQixVQUFNLEtBQUssZ0JBQWdCO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQWMsa0JBQWtCO0FBQzlCLFFBQUk7QUFDRixZQUFNLE9BQU8sR0FBRyxLQUFLO0FBQ3JCLFlBQU0sVUFBVSxLQUFLLElBQUksTUFBTTtBQUUvQixVQUFJLE1BQU0sUUFBUSxPQUFPLElBQUksR0FBRztBQUM5QixjQUFNLE9BQU8sTUFBTSxRQUFRLEtBQUssSUFBSTtBQUNwQyxjQUFNLGNBQTRCLEtBQUssTUFBTSxJQUFJO0FBRWpELG1CQUFXLGNBQWMsYUFBYTtBQUNwQyxlQUFLLFlBQVksSUFBSSxXQUFXLElBQUksVUFBVTtBQUFBLFFBQ2hEO0FBQUEsTUFDRjtBQUFBLElBQ0YsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLDhCQUE4QixLQUFLO0FBQUEsSUFDbkQ7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFNLHFCQUNKLGVBQ0EsU0FDQSxPQUNxQjtBQUNyQixVQUFNLGFBQXlCO0FBQUEsTUFDN0IsSUFBSSxLQUFLLFdBQVc7QUFBQSxNQUNwQixZQUFZO0FBQUEsTUFDWixVQUFVO0FBQUEsTUFDVjtBQUFBLE1BQ0E7QUFBQSxNQUNBLFVBQVU7QUFBQSxRQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUFBLElBQ0Y7QUFFQSxTQUFLLFlBQVksSUFBSSxXQUFXLElBQUksVUFBVTtBQUM5QyxVQUFNLEtBQUssUUFBUTtBQUV2QixVQUFNLEtBQUssT0FBTyxhQUFhLHNCQUFzQjtBQUVqRCxVQUFNLGNBQWMsS0FBSyxPQUFPLFlBQVksZUFBZSxhQUFhO0FBQ3hFLFFBQUksYUFBYTtBQUNmLGtCQUFZLGVBQWUsV0FBVztBQUN0QyxrQkFBWSxTQUFTLFlBQVksS0FBSyxJQUFJO0FBQzFDLFlBQU0sS0FBSyxPQUFPLFlBQVksZ0JBQWdCLFdBQVc7QUFBQSxJQUMzRDtBQUVBLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFNLGtCQUNKLFVBQ0EsU0FDcUI7QUFDckIsVUFBTSxhQUF5QjtBQUFBLE1BQzdCLElBQUksS0FBSyxXQUFXO0FBQUEsTUFDcEIsWUFBWTtBQUFBLE1BQ1osVUFBVTtBQUFBLE1BQ1Y7QUFBQSxNQUNBLFVBQVU7QUFBQSxRQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUFBLElBQ0Y7QUFFQSxTQUFLLFlBQVksSUFBSSxXQUFXLElBQUksVUFBVTtBQUM5QyxVQUFNLEtBQUssUUFBUTtBQUl2QixVQUFNLEtBQUssT0FBTyxhQUFhLHNCQUFzQjtBQUNqRCxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsY0FBYyxJQUFvQztBQUNoRCxXQUFPLEtBQUssWUFBWSxJQUFJLEVBQUU7QUFBQSxFQUNoQztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EscUJBQXFCLGVBQStDO0FBQ2xFLFVBQU0sY0FBYyxLQUFLLE9BQU8sWUFBWSxlQUFlLGFBQWE7QUFDeEUsUUFBSSxFQUFDLDJDQUFhO0FBQWMsYUFBTztBQUV2QyxXQUFPLEtBQUssWUFBWSxJQUFJLFlBQVksWUFBWTtBQUFBLEVBQ3REO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxtQkFBbUIsVUFBZ0M7QUFDakQsV0FBTyxNQUFNLEtBQUssS0FBSyxZQUFZLE9BQU8sQ0FBQyxFQUFFO0FBQUEsTUFDM0MsU0FBTyxJQUFJLGVBQWUsVUFBVSxJQUFJLGFBQWE7QUFBQSxJQUN2RDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0saUJBQ0osSUFDQSxTQUNlO0FBQ2YsVUFBTSxhQUFhLEtBQUssWUFBWSxJQUFJLEVBQUU7QUFDMUMsUUFBSSxDQUFDO0FBQVk7QUFFakIsV0FBTyxPQUFPLFlBQVksU0FBUztBQUFBLE1BQ2pDLFVBQVU7QUFBQSxRQUNSLEdBQUcsV0FBVztBQUFBLFFBQ2QsV0FBVyxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUFBLElBQ0YsQ0FBQztBQUVELFVBQU0sS0FBSyxRQUFRO0FBQUEsRUFDckI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQU0saUJBQWlCLElBQTJCO0FBQ2hELFVBQU0sYUFBYSxLQUFLLFlBQVksSUFBSSxFQUFFO0FBQzFDLFFBQUksQ0FBQztBQUFZO0FBR2pCLFFBQUksV0FBVyxlQUFlLFdBQVc7QUFDdkMsWUFBTSxjQUFjLEtBQUssT0FBTyxZQUFZLGVBQWUsV0FBVyxRQUFRO0FBQzlFLFVBQUksYUFBYTtBQUNmLG9CQUFZLGVBQWU7QUFDM0IsY0FBTSxLQUFLLE9BQU8sWUFBWSxnQkFBZ0IsV0FBVztBQUFBLE1BQzNEO0FBQUEsSUFDRjtBQUVBLFNBQUssWUFBWSxPQUFPLEVBQUU7QUFDMUIsVUFBTSxLQUFLLFFBQVE7QUFBQSxFQUNyQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0Esb0JBQWtDO0FBQ2hDLFdBQU8sTUFBTSxLQUFLLEtBQUssWUFBWSxPQUFPLENBQUM7QUFBQSxFQUM3QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBYyxVQUFVO0FBQ3RCLFFBQUk7QUFDRixZQUFNLE9BQU8sR0FBRyxLQUFLO0FBQ3JCLFlBQU0sY0FBYyxNQUFNLEtBQUssS0FBSyxZQUFZLE9BQU8sQ0FBQztBQUN4RCxZQUFNLE9BQU8sS0FBSyxVQUFVLGFBQWEsTUFBTSxDQUFDO0FBRWhELFlBQU0sS0FBSyxJQUFJLE1BQU0sUUFBUSxNQUFNLE1BQU0sSUFBSTtBQUFBLElBQy9DLFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSxpQ0FBaUMsS0FBSztBQUFBLElBQ3REO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsYUFBcUI7QUFDM0IsV0FBTyxPQUFPLEtBQUssSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFLFNBQVMsRUFBRSxFQUFFLE9BQU8sR0FBRyxDQUFDO0FBQUEsRUFDcEU7QUFDRjs7O0FDaElPLElBQU0sbUJBQU4sTUFBdUI7QUFBQSxFQUs1QixZQUNVLEtBQ0EsYUFDQSxRQUNSO0FBSFE7QUFDQTtBQUNBO0FBUFYsU0FBUSxhQUFxQyxvQkFBSSxJQUFJO0FBQ3JELFNBQVEsYUFBMEIsQ0FBQztBQXNSckMsU0FBUSxlQUE4QixDQUFDO0FBOVFuQyxTQUFLLGFBQWEsR0FBRyxLQUFLLElBQUksTUFBTTtBQUFBLEVBQ3RDO0FBQUEsRUFFQSxNQUFNLGFBQWE7QUFDakIsVUFBTSxLQUFLLGVBQWU7QUFDMUIsVUFBTSxLQUFLLGVBQWU7QUFDMUIsVUFBTSxLQUFLLGtCQUFrQjtBQUM3QixVQUFNLEtBQUssa0JBQWtCO0FBQUEsRUFDL0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxNQUFNLHdCQUNKLE1BQ0EsU0FLb0I7QUFHcEIsVUFBTSxZQUFXLG1DQUFTLGNBQWEsS0FBSyxTQUFTLE9BQU8sT0FBTztBQUVuRSxRQUFJO0FBRUosUUFBSSxhQUFhLFFBQVEsS0FBSyxTQUFTLE1BQU07QUFDM0MsWUFBTSxZQUFXLG1DQUFTLG1CQUFrQixLQUFLO0FBQ2pELFlBQU0sVUFBUyxtQ0FBUyxpQkFBZ0IsS0FBSyxVQUFVLEtBQUs7QUFFNUQsa0JBQVksTUFBTSxLQUFLLGFBQWEsS0FBSyxJQUFJLFVBQVUsTUFBTTtBQUFBLElBRS9ELE9BQU87QUFDTCxZQUFNLE9BQU8sS0FBSyxlQUFlLEtBQUs7QUFDdEMsWUFBTSxVQUFTLG1DQUFTLGlCQUFnQixLQUFLO0FBRTdDLFlBQU0sWUFBWSxDQUFDO0FBQUEsUUFDakIsT0FBTyxLQUFLLFFBQVEsTUFBTTtBQUFBLFFBQzFCO0FBQUEsTUFDRixDQUFDO0FBR0Qsa0JBQVksTUFBTSxLQUFLLGdCQUFnQixLQUFLLElBQUksTUFBTSxTQUFTO0FBQUEsSUFDakU7QUFHSixVQUFNLEtBQUssT0FBTyxhQUFhLGdCQUFnQjtBQUUzQyxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxNQUFNLGFBQ0osZUFDQSxVQUNBLFFBQ0EsTUFDb0I7QUFDcEIsVUFBTSxjQUFjLEtBQUssWUFBWSxlQUFlLGFBQWE7QUFDakUsUUFBSSxDQUFDO0FBQWEsWUFBTSxJQUFJLE1BQU0sd0JBQXdCO0FBRTFELFVBQU0sT0FBa0I7QUFBQSxNQUN0QixJQUFJLEtBQUssV0FBVztBQUFBLE1BQ3BCLE1BQU07QUFBQSxNQUNOLGlCQUFpQjtBQUFBLE1BQ2pCLFlBQVksWUFBWSxPQUFPO0FBQUEsTUFDL0IsWUFBWSxZQUFZLE9BQU87QUFBQSxNQUMvQixPQUFPO0FBQUEsTUFDUCxNQUFNO0FBQUEsTUFDTixNQUFNLFFBQVEsS0FBSyxVQUFVLFlBQVksT0FBTyxJQUFJO0FBQUEsTUFDcEQsTUFBTSxZQUFZLFNBQVM7QUFBQSxNQUMzQixZQUFZLEtBQUsscUJBQXFCO0FBQUEsTUFDdEMsT0FBTztBQUFBLFFBQ0wsY0FBYztBQUFBLFFBQ2QsY0FBYztBQUFBLFFBQ2QsYUFBYTtBQUFBLFFBQ2IsWUFBWTtBQUFBLE1BQ2Q7QUFBQSxNQUNBLFVBQVU7QUFBQSxRQUNSLFdBQVcsS0FBSyxJQUFJO0FBQUEsUUFDcEIsV0FBVyxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUFBLElBQ0Y7QUFFQSxTQUFLLFdBQVcsSUFBSSxLQUFLLElBQUksSUFBSTtBQUdqQyxnQkFBWSxhQUFhLEtBQUssS0FBSyxFQUFFO0FBQ3JDLFVBQU0sS0FBSyxZQUFZLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztBQUVyRCxVQUFNLEtBQUssa0JBQWtCO0FBR2pDLFdBQU87QUFBQSxFQUNMO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFNLGdCQUNKLGVBQ0EsVUFDQSxXQUNvQjtBQUNwQixVQUFNLGNBQWMsS0FBSyxZQUFZLGVBQWUsYUFBYTtBQUNqRSxRQUFJLENBQUM7QUFBYSxZQUFNLElBQUksTUFBTSx3QkFBd0I7QUFHMUQsVUFBTSxVQUFVLEtBQUssY0FBYyxRQUFRO0FBRTNDLFVBQU0sUUFBUSxVQUNWLFdBQ0EsS0FBSyxrQkFBa0IsVUFBVSxTQUFTO0FBRTlDLFVBQU0sT0FBTyxVQUFVLElBQUksT0FBSyxFQUFFLE1BQU07QUFHeEMsVUFBTSxPQUFrQjtBQUFBLE1BQ3RCLElBQUksS0FBSyxXQUFXO0FBQUEsTUFDcEIsTUFBTTtBQUFBLE1BQ04saUJBQWlCO0FBQUEsTUFDakIsWUFBWSxZQUFZLE9BQU87QUFBQSxNQUMvQixZQUFZLFlBQVksT0FBTztBQUFBLE1BQy9CO0FBQUEsTUFDQTtBQUFBLE1BQ0EsT0FBTztBQUFBLFFBQ0w7QUFBQSxRQUNBO0FBQUEsTUFDRjtBQUFBLE1BQ0EsTUFBTSxLQUFLLFVBQVUsWUFBWSxPQUFPLElBQUk7QUFBQSxNQUM1QyxNQUFNLFlBQVksU0FBUztBQUFBLE1BQzNCLFlBQVksS0FBSyxxQkFBcUI7QUFBQSxNQUN0QyxPQUFPO0FBQUEsUUFDTCxjQUFjO0FBQUEsUUFDZCxjQUFjO0FBQUEsUUFDZCxhQUFhO0FBQUEsUUFDYixZQUFZO0FBQUEsTUFDZDtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1IsV0FBVyxLQUFLLElBQUk7QUFBQSxRQUNwQixXQUFXLEtBQUssSUFBSTtBQUFBLE1BQ3RCO0FBQUEsSUFDRjtBQUVBLFNBQUssV0FBVyxJQUFJLEtBQUssSUFBSSxJQUFJO0FBRWpDLGdCQUFZLGFBQWEsS0FBSyxLQUFLLEVBQUU7QUFDckMsVUFBTSxLQUFLLFlBQVksaUJBQWlCLENBQUMsV0FBVyxDQUFDO0FBRXJELFVBQU0sS0FBSyxrQkFBa0I7QUFHN0IsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBR1EsY0FBYyxNQUF1QjtBQUMzQyxRQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssS0FBSztBQUFHLGFBQU87QUFFbEMsVUFBTSxRQUFRLEtBQUssS0FBSyxFQUFFLE1BQU0sSUFBSTtBQUNwQyxRQUFJLE1BQU0sU0FBUztBQUFHLGFBQU87QUFFN0IsVUFBTSxlQUFlLE1BQU0sS0FBSyxVQUFRLG1CQUFtQixLQUFLLEtBQUssS0FBSyxDQUFDLENBQUM7QUFDNUUsVUFBTSxZQUFZLE1BQU0sT0FBTyxVQUFRLEtBQUssU0FBUyxHQUFHLENBQUMsRUFBRTtBQUUzRCxXQUFPLGdCQUFnQixhQUFhLE1BQU0sU0FBUztBQUFBLEVBQ3JEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGFBQWEsSUFBbUM7QUFDOUMsV0FBTyxLQUFLLFdBQVcsSUFBSSxFQUFFO0FBQUEsRUFDL0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLG1CQUFnQztBQUM5QixVQUFNLFFBQVEsTUFBTSxLQUFLLEtBQUssV0FBVyxPQUFPLENBQUM7QUFDakQsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLGNBQTJCO0FBQ3pCLFVBQU0sTUFBTSxLQUFLLElBQUk7QUFDckIsV0FBTyxNQUFNLEtBQUssS0FBSyxXQUFXLE9BQU8sQ0FBQyxFQUN2QyxPQUFPLFVBQVEsS0FBSyxXQUFXLE9BQU8sR0FBRyxFQUN6QyxLQUFLLENBQUMsR0FBRyxNQUFNO0FBQ2QsWUFBTSxZQUFZLEtBQUssZ0JBQWdCLENBQUM7QUFDeEMsWUFBTSxZQUFZLEtBQUssZ0JBQWdCLENBQUM7QUFDeEMsYUFBTyxZQUFZO0FBQUEsSUFDckIsQ0FBQztBQUFBLEVBQ0w7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLGNBQTJCO0FBQ3pCLFdBQU8sTUFBTSxLQUFLLEtBQUssV0FBVyxPQUFPLENBQUMsRUFDdkMsT0FBTyxVQUFRLEtBQUssV0FBVyxVQUFVLEtBQUs7QUFBQSxFQUNuRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxNQUFNLFdBQVcsTUFBaUI7QUFDaEMsU0FBSyxXQUFXLElBQUksS0FBSyxJQUFJLElBQUk7QUFDakMsVUFBTSxLQUFLLGtCQUFrQjtBQUFBLEVBQy9CO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLRixNQUFNLFdBQVcsSUFBWSxTQUEyRCxnQkFBZ0I7QUFDdEcsVUFBTSxPQUFPLEtBQUssV0FBVyxJQUFJLEVBQUU7QUFDbkMsUUFBSSxDQUFDO0FBQU07QUFHWCxVQUFNLGNBQWMsS0FBSyxZQUFZLGVBQWUsS0FBSyxlQUFlO0FBQ3hFLFFBQUksYUFBYTtBQUNmLFlBQU0sUUFBUSxZQUFZLGFBQWEsUUFBUSxFQUFFO0FBQ2pELFVBQUksUUFBUSxJQUFJO0FBQ2Qsb0JBQVksYUFBYSxPQUFPLE9BQU8sQ0FBQztBQUN4QyxjQUFNLEtBQUssWUFBWSxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7QUFBQSxNQUN2RDtBQUFBLElBQ0Y7QUFFQSxVQUFNLEtBQUssbUJBQW1CO0FBQUEsTUFDNUIsTUFBTTtBQUFBLE1BQ04sSUFBSSxLQUFLO0FBQUEsTUFDVCxTQUFTO0FBQUEsUUFDUCxPQUFPLEtBQUs7QUFBQSxRQUNaLE1BQU0sT0FBTyxLQUFLLFNBQVMsV0FBVyxLQUFLLE9BQU8sS0FBSyxLQUFLLEtBQUssSUFBSTtBQUFBLFFBQ3JFLFlBQVksS0FBSztBQUFBLFFBQ2pCLGlCQUFpQixLQUFLO0FBQUEsUUFDdEIsVUFBVSxLQUFLO0FBQUEsUUFDZixVQUFVLEVBQUUsR0FBRyxLQUFLO0FBQUE7QUFBQSxNQUN0QjtBQUFBLE1BQ0EsV0FBVyxLQUFLLElBQUk7QUFBQSxNQUNwQixXQUFXO0FBQUEsTUFDWCxVQUFVO0FBQUEsUUFDUixNQUFNLEtBQUs7QUFBQSxRQUNYLE9BQU8sS0FBSztBQUFBLE1BQ2Q7QUFBQSxJQUNGLENBQUM7QUFHRCxTQUFLLGFBQWEsS0FBSyxXQUFXLE9BQU8sU0FBTyxJQUFJLGdCQUFnQixFQUFFO0FBQ3RFLFVBQU0sS0FBSyxrQkFBa0I7QUFHN0IsU0FBSyxXQUFXLE9BQU8sRUFBRTtBQUN6QixVQUFNLEtBQUssa0JBQWtCO0FBQUEsRUFDL0I7QUFBQTtBQUFBLEVBS0EsTUFBYyxtQkFBbUIsTUFBbUI7QUFDbEQsU0FBSyxhQUFhLEtBQUssSUFBSTtBQUczQixVQUFNLGVBQWUsS0FBSyxJQUFJLElBQUssSUFBSSxLQUFLLEtBQUssS0FBSztBQUN0RCxTQUFLLGVBQWUsS0FBSyxhQUFhLE9BQU8sQ0FBQUMsVUFBUUEsTUFBSyxZQUFZLFlBQVk7QUFFbEYsVUFBTSxLQUFLLHFCQUFxQjtBQUFBLEVBQ2xDO0FBQUE7QUFBQSxFQUdBLG1CQUFtQixPQUFlLEdBQWtCO0FBQ2xELFVBQU0sU0FBUyxLQUFLLElBQUksSUFBSyxPQUFPLEtBQUssS0FBSyxLQUFLO0FBQ25ELFdBQU8sS0FBSyxhQUFhLE9BQU8sVUFBUSxLQUFLLFlBQVksTUFBTSxFQUM1RCxLQUFLLENBQUMsR0FBRyxNQUFNLEVBQUUsWUFBWSxFQUFFLFNBQVM7QUFBQSxFQUM3QztBQUFBO0FBQUEsRUFJQSxNQUFNLGlCQUFpQixhQUE0QztBQUNqRSxRQUFJO0FBQ0YsVUFBSSxZQUFZLFNBQVM7QUFBYSxlQUFPO0FBRTdDLFlBQU0sT0FBTyxZQUFZLFFBQVE7QUFHakMsVUFBSSxLQUFLLFdBQVcsSUFBSSxLQUFLLEVBQUUsR0FBRztBQUNoQyxlQUFPO0FBQUEsTUFDVDtBQUdBLFdBQUssV0FBVyxJQUFJLEtBQUssSUFBSSxJQUFJO0FBR2pDLFlBQU0sY0FBYyxLQUFLLFlBQVksZUFBZSxLQUFLLGVBQWU7QUFDeEUsVUFBSSxlQUFlLENBQUMsWUFBWSxhQUFhLFNBQVMsS0FBSyxFQUFFLEdBQUc7QUFDOUQsb0JBQVksYUFBYSxLQUFLLEtBQUssRUFBRTtBQUNyQyxjQUFNLEtBQUssWUFBWSxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7QUFBQSxNQUN2RDtBQUVBLFlBQU0sS0FBSyxrQkFBa0I7QUFHN0IsV0FBSyxlQUFlLEtBQUssYUFBYSxPQUFPLFVBQVEsS0FBSyxPQUFPLFlBQVksRUFBRTtBQUMvRSxZQUFNLEtBQUsscUJBQXFCO0FBRWhDLGFBQU87QUFBQSxJQUNULFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSw4QkFBOEIsS0FBSztBQUNqRCxhQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFBQTtBQUFBLEVBR0EsTUFBTSwyQkFBMkIsZUFBeUM7QUFDeEUsUUFBSTtBQUNGLFdBQUssZUFBZSxLQUFLLGFBQWEsT0FBTyxVQUFRLEtBQUssT0FBTyxhQUFhO0FBQzlFLFlBQU0sS0FBSyxxQkFBcUI7QUFDaEMsYUFBTztBQUFBLElBQ1QsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLHlDQUF5QyxLQUFLO0FBQzVELGFBQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBO0FBQUEsRUFHQSxNQUFNLHFCQUFzQztBQUMxQyxVQUFNLFFBQVEsS0FBSyxhQUFhLE9BQU8sVUFBUSxLQUFLLFNBQVMsV0FBVyxFQUFFO0FBQzFFLFNBQUssZUFBZSxLQUFLLGFBQWEsT0FBTyxVQUFRLEtBQUssU0FBUyxXQUFXO0FBQzlFLFVBQU0sS0FBSyxxQkFBcUI7QUFDaEMsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBLEVBR0EsTUFBYyx1QkFBdUI7QUFDbkMsUUFBSTtBQUNGLFlBQU0sT0FBTyxHQUFHLEtBQUs7QUFDckIsWUFBTSxPQUFPLEtBQUssVUFBVSxLQUFLLGNBQWMsTUFBTSxDQUFDO0FBQ3RELFlBQU0sS0FBSyxJQUFJLE1BQU0sUUFBUSxNQUFNLE1BQU0sSUFBSTtBQUFBLElBQy9DLFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSxvQ0FBb0MsS0FBSztBQUFBLElBQ3pEO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYyxvQkFBb0I7QUFDaEMsUUFBSTtBQUNGLFlBQU0sT0FBTyxHQUFHLEtBQUs7QUFDckIsWUFBTSxVQUFVLEtBQUssSUFBSSxNQUFNO0FBRS9CLFVBQUksTUFBTSxRQUFRLE9BQU8sSUFBSSxHQUFHO0FBQzlCLGNBQU0sT0FBTyxNQUFNLFFBQVEsS0FBSyxJQUFJO0FBQ3BDLGFBQUssZUFBZSxLQUFLLE1BQU0sSUFBSTtBQUduQyxjQUFNLGVBQWUsS0FBSyxJQUFJLElBQUssSUFBSSxLQUFLLEtBQUssS0FBSztBQUN0RCxhQUFLLGVBQWUsS0FBSyxhQUFhLE9BQU8sVUFBUSxLQUFLLFlBQVksWUFBWTtBQUNsRixjQUFNLEtBQUsscUJBQXFCO0FBQUEsTUFDbEM7QUFBQSxJQUNGLFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSxpQ0FBaUMsS0FBSztBQUFBLElBQ3REO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxNQUFNLFVBQVUsS0FBZ0I7QUE1ZGhDO0FBOGRFLFFBQUksQ0FBQyxJQUFJLE9BQU87QUFDZCxVQUFJLFVBQVEsVUFBSyxPQUFPLG9CQUFaLG1CQUE2Qiw0QkFBMkI7QUFBQSxJQUN0RTtBQUVBLFNBQUssV0FBVyxLQUFLLEdBQUc7QUFHeEIsUUFBSSxLQUFLLFdBQVcsU0FBUyxLQUFNO0FBQ2pDLFdBQUssYUFBYSxLQUFLLFdBQVcsTUFBTSxJQUFLO0FBQUEsSUFDL0M7QUFFQSxVQUFNLEtBQUssa0JBQWtCO0FBQUEsRUFDL0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtFLHFCQUFxQixRQUE2QjtBQUNoRCxXQUFPLEtBQUssV0FBVyxPQUFPLFNBQU8sSUFBSSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2pFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFdBQVc7QUFDVCxVQUFNLE1BQU0sS0FBSyxpQkFBaUI7QUFDbEMsVUFBTSxNQUFNLEtBQUssWUFBWTtBQUM3QixVQUFNLFdBQVcsS0FBSyxZQUFZO0FBRWxDLFVBQU0sUUFBUSxJQUFJLEtBQUssRUFBRSxTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDNUMsVUFBTSxnQkFBZ0IsS0FBSyxXQUFXO0FBQUEsTUFDcEMsU0FBTyxJQUFJLGFBQWE7QUFBQSxJQUMxQixFQUFFO0FBRUYsV0FBTztBQUFBLE1BQ0wsT0FBTyxJQUFJO0FBQUEsTUFDWCxLQUFLLFNBQVM7QUFBQSxNQUNkLEtBQUssSUFBSTtBQUFBLE1BQ1Q7QUFBQSxNQUNBLGNBQWMsS0FBSyxXQUFXO0FBQUEsSUFDaEM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE1BQWMsaUJBQWlCO0FBQzdCLFFBQUk7QUFDRixZQUFNLE9BQU8sR0FBRyxLQUFLO0FBQ3JCLFlBQU0sVUFBVSxLQUFLLElBQUksTUFBTTtBQUUvQixVQUFJLE1BQU0sUUFBUSxPQUFPLElBQUksR0FBRztBQUM5QixjQUFNLE9BQU8sTUFBTSxRQUFRLEtBQUssSUFBSTtBQUNwQyxjQUFNLGFBQTBCLEtBQUssTUFBTSxJQUFJO0FBRS9DLG1CQUFXLFFBQVEsWUFBWTtBQUM3QixlQUFLLFdBQVcsSUFBSSxLQUFLLElBQUksSUFBSTtBQUFBLFFBQ25DO0FBQUEsTUFDRjtBQUFBLElBQ0YsU0FBUyxPQUFQO0FBQ0EsY0FBUSxNQUFNLDZCQUE2QixLQUFLO0FBQUEsSUFDbEQ7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFjLGlCQUFpQjtBQUM3QixRQUFJO0FBQ0YsWUFBTSxPQUFPLEdBQUcsS0FBSztBQUNyQixZQUFNLFVBQVUsS0FBSyxJQUFJLE1BQU07QUFFL0IsVUFBSSxNQUFNLFFBQVEsT0FBTyxJQUFJLEdBQUc7QUFDOUIsY0FBTSxPQUFPLE1BQU0sUUFBUSxLQUFLLElBQUk7QUFDcEMsYUFBSyxhQUFhLEtBQUssTUFBTSxJQUFJO0FBQUEsTUFDbkM7QUFBQSxJQUNGLFNBQVMsT0FBUDtBQUNBLGNBQVEsTUFBTSw4QkFBOEIsS0FBSztBQUFBLElBQ25EO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsdUJBQWdEO0FBQ3RELFdBQU87QUFBQSxNQUNMLFVBQVU7QUFBQSxNQUNWLE1BQU07QUFBQSxNQUNOLEtBQUssS0FBSyxJQUFJO0FBQUEsTUFDZCxRQUFRO0FBQUEsTUFDUixNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGtCQUNOLFVBQ0EsV0FDUTtBQUNSLFFBQUksU0FBUztBQUNiLFVBQU0sU0FBUyxDQUFDLEdBQUcsU0FBUyxFQUFFLEtBQUssQ0FBQyxHQUFHLE1BQU0sRUFBRSxRQUFRLEVBQUUsS0FBSztBQUU5RCxlQUFXLFlBQVksUUFBUTtBQUM3QixZQUFNLFNBQVMsT0FBTyxVQUFVLEdBQUcsU0FBUyxLQUFLO0FBQ2pELFlBQU0sUUFBUSxPQUFPLFVBQVUsU0FBUyxRQUFRLFNBQVMsT0FBTyxNQUFNO0FBQ3RFLGVBQVMsR0FBRyxjQUFjO0FBQUEsSUFDNUI7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsVUFBVSxVQUEwQjtBQUMxQyxVQUFNLFFBQVEsU0FBUyxNQUFNLEdBQUc7QUFDaEMsV0FBTyxNQUFNLFNBQVMsSUFBSSxNQUFNLE1BQU0sU0FBUyxDQUFDLElBQUk7QUFBQSxFQUN0RDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1EsZ0JBQWdCLE1BQXlCO0FBQy9DLFVBQU0sTUFBTSxLQUFLLElBQUk7QUFDckIsVUFBTSxVQUFVLEtBQUssSUFBSSxHQUFHLE1BQU0sS0FBSyxXQUFXLEdBQUc7QUFDckQsVUFBTSxjQUFjLFdBQVcsS0FBSyxLQUFLLEtBQUs7QUFFOUMsUUFBSSxLQUFLLFdBQVcsVUFBVTtBQUFPLGFBQU8sTUFBTTtBQUNsRCxRQUFJLEtBQUssV0FBVyxVQUFVO0FBQWMsYUFBTyxNQUFNO0FBQ3pELFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFjLG9CQUFvQjtBQUNoQyxRQUFJO0FBQ0YsWUFBTSxPQUFPLEdBQUcsS0FBSztBQUNyQixZQUFNLGFBQWEsTUFBTSxLQUFLLEtBQUssV0FBVyxPQUFPLENBQUM7QUFDdEQsWUFBTSxPQUFPLEtBQUssVUFBVSxZQUFZLE1BQU0sQ0FBQztBQUMvQyxZQUFNLEtBQUssSUFBSSxNQUFNLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFBQSxJQUMvQyxTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0sdUNBQWtDLEtBQUs7QUFBQSxJQUN2RDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE1BQWMsb0JBQW9CO0FBQ2hDLFFBQUk7QUFDRixZQUFNLE9BQU8sR0FBRyxLQUFLO0FBQ3JCLFlBQU0sT0FBTyxLQUFLLFVBQVUsS0FBSyxZQUFZLE1BQU0sQ0FBQztBQUNwRCxZQUFNLEtBQUssSUFBSSxNQUFNLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFBQSxJQUMvQyxTQUFTLE9BQVA7QUFDQSxjQUFRLE1BQU0saUNBQWlDLEtBQUs7QUFBQSxJQUN0RDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGFBQXFCO0FBQzNCLFdBQU8sUUFBUSxLQUFLLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRSxTQUFTLEVBQUUsRUFBRSxPQUFPLEdBQUcsQ0FBQztBQUFBLEVBQ3JFO0FBQ0Y7OztBQzFvQkEsSUFBQUMsb0JBQXFEOzs7QUNBOUMsSUFBTSx1QkFBTixNQUEyQjtBQUFBLEVBSTlCLE9BQU8sU0FBUztBQUNkLFFBQUksS0FBSztBQUFVO0FBRW5CLFVBQU0sV0FBVyxTQUFTLGVBQWUsS0FBSyxPQUFPO0FBQ3JELFFBQUksVUFBVTtBQUNaLGVBQVMsT0FBTztBQUFBLElBQ2xCO0FBRUEsVUFBTSxVQUFVLFNBQVMsY0FBYyxPQUFPO0FBQzlDLFlBQVEsS0FBSyxLQUFLO0FBQ2xCLFlBQVEsY0FBYyxLQUFLLFVBQVU7QUFDckMsYUFBUyxLQUFLLFlBQVksT0FBTztBQUVqQyxTQUFLLFdBQVc7QUFBQSxFQUNsQjtBQUFBLEVBRUEsT0FBTyxTQUFTO0FBQ2QsVUFBTSxVQUFVLFNBQVMsZUFBZSxLQUFLLE9BQU87QUFDcEQsUUFBSSxTQUFTO0FBQ1gsY0FBUSxPQUFPO0FBQUEsSUFDakI7QUFDQSxTQUFLLFdBQVc7QUFBQSxFQUNsQjtBQUFBLEVBRUEsT0FBZSxZQUFvQjtBQUNqQyxXQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUEyTFQ7QUFDRjtBQXpOVyxxQkFDTSxVQUFVO0FBRGhCLHFCQUVNLFdBQVc7OztBREt2QixJQUFNLHVCQUFOLGNBQW1DLHdCQUFNO0FBQUEsRUFHOUMsWUFBWSxRQUE4QjtBQUN4QyxVQUFNLE9BQU8sR0FBRztBQUNoQixTQUFLLFNBQVM7QUFBQSxFQUNoQjtBQUFBLEVBRUEsU0FBUztBQUNQLHlCQUFxQixPQUFPO0FBQzVCLFVBQU0sRUFBRSxVQUFVLElBQUk7QUFDdEIsY0FBVSxNQUFNO0FBQ2hCLGNBQVUsU0FBUyx3QkFBd0I7QUFFM0MsU0FBSyxPQUFPO0FBQUEsRUFDZDtBQUFBLEVBRUEsVUFBVTtBQUNSLFVBQU0sRUFBRSxVQUFVLElBQUk7QUFDdEIsY0FBVSxNQUFNO0FBQUEsRUFDbEI7QUFBQSxFQUVRLFNBQVM7QUFDZixVQUFNLEVBQUUsVUFBVSxJQUFJO0FBQ3RCLGNBQVUsTUFBTTtBQUdoQixVQUFNLFNBQVMsVUFBVSxVQUFVLEVBQUUsS0FBSyxjQUFjLENBQUM7QUFDekQsV0FBTyxTQUFTLE1BQU0sRUFBRSxNQUFNLEVBQUUsc0JBQXNCLEtBQUssT0FBTyxTQUFTLFFBQVEsRUFBRSxDQUFDO0FBR3RGLFVBQU0sVUFBVSxVQUFVLFVBQVUsRUFBRSxLQUFLLDJCQUEyQixDQUFDO0FBRXZFLFVBQU0sUUFBUSxLQUFLLFNBQVM7QUFDNUIsVUFBTSxZQUFZLFFBQVEsVUFBVSxFQUFFLEtBQUssZ0JBQWdCLENBQUM7QUFDNUQsY0FBVSxZQUFZO0FBQUEsa0JBQ2YsTUFBTSxTQUFTLEVBQUUsaUJBQWlCLEtBQUssT0FBTyxTQUFTLFFBQVE7QUFBQSxrQkFDL0QsTUFBTSxTQUFTLEVBQUUsc0JBQXNCLEtBQUssT0FBTyxTQUFTLFFBQVE7QUFBQTtBQUczRSxVQUFNLFVBQVUsUUFBUSxVQUFVLEVBQUUsS0FBSyxrQkFBa0IsQ0FBQztBQUU1RCxRQUFJLGtDQUFnQixPQUFPLEVBQ3hCLGNBQWMsRUFBRSx5QkFBeUIsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDLEVBQ3ZFLFdBQVcsRUFDWCxRQUFRLFlBQVk7QUFDbkIsVUFBSSxRQUFRLEVBQUUsMkJBQTJCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQyxHQUFHO0FBQ3hFLGNBQU0sS0FBSyxTQUFTO0FBQUEsTUFDdEI7QUFBQSxJQUNGLENBQUM7QUFHSCxVQUFNLFVBQVUsVUFBVSxVQUFVLEVBQUUsS0FBSywyQkFBMkIsQ0FBQztBQUV2RSxVQUFNLGVBQWUsS0FBSyxPQUFPLFlBQVksd0JBQXdCO0FBQ3JFLFVBQU0sZUFBZSxLQUFLLE9BQU8saUJBQWlCLG1CQUFtQjtBQUVyRSxRQUFJLGFBQWEsV0FBVyxLQUFLLGFBQWEsV0FBVyxHQUFHO0FBQzFELFdBQUssWUFBWSxPQUFPO0FBQ3hCO0FBQUEsSUFDRjtBQUVBLFFBQUksYUFBYSxTQUFTLEdBQUc7QUFDM0IsV0FBSyxtQkFBbUIsU0FBUyxZQUFZO0FBQUEsSUFDL0M7QUFFQSxRQUFJLGFBQWEsU0FBUyxHQUFHO0FBQzNCLFdBQUssbUJBQW1CLFNBQVMsWUFBWTtBQUFBLElBQy9DO0FBQUEsRUFDRjtBQUFBLEVBSVEsWUFBWSxXQUF3QjtBQUMxQyxVQUFNLFFBQVEsVUFBVSxVQUFVLEVBQUUsS0FBSyxnQkFBZ0IsQ0FBQztBQUMxRCxVQUFNLFlBQVk7QUFBQTtBQUFBLGdDQUVVLEVBQUUsc0JBQXNCLEtBQUssT0FBTyxTQUFTLFFBQVE7QUFBQSxnQ0FDckQsRUFBRSwwQkFBMEIsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUFBO0FBQUEsRUFFdkY7QUFBQSxFQUVRLG1CQUFtQixXQUF3QixPQUFjO0FBQy9ELFVBQU0sVUFBVSxVQUFVLFVBQVUsRUFBRSxLQUFLLGtCQUFrQixDQUFDO0FBRTlELFVBQU0sU0FBUyxRQUFRLFVBQVUsRUFBRSxLQUFLLGlCQUFpQixDQUFDO0FBQzFELFdBQU8sWUFBWTtBQUFBLHNCQUNSLEVBQUUsaUJBQWlCLEtBQUssT0FBTyxTQUFTLFFBQVEsTUFBTSxNQUFNO0FBQUE7QUFHdkUsVUFBTSxPQUFPLFFBQVEsVUFBVSxFQUFFLEtBQUssZUFBZSxDQUFDO0FBRXRELFVBQU0sUUFBUSxDQUFDLFNBQVM7QUFDdEIsWUFBTSxTQUFTLEtBQUssVUFBVSxFQUFFLEtBQUssZUFBZSxDQUFDO0FBR3JELFlBQU0sT0FBTyxPQUFPLFVBQVUsRUFBRSxLQUFLLG9CQUFvQixDQUFDO0FBRTFELFlBQU0sVUFBVSxLQUFLLFVBQVUsRUFBRSxLQUFLLHVCQUF1QixDQUFDO0FBQzlELGNBQVEsY0FBYyxLQUFLLEtBQUssUUFBUSxVQUFVLEdBQUcsR0FBRyxLQUNyRCxLQUFLLEtBQUssUUFBUSxTQUFTLE1BQU0sUUFBUTtBQUU1QyxZQUFNLE9BQU8sS0FBSyxVQUFVLEVBQUUsS0FBSyxvQkFBb0IsQ0FBQztBQUN4RCxXQUFLLFlBQVk7QUFBQSxxQ0FDYyxLQUFLLFdBQVcsS0FBSyxTQUFTO0FBQUEsaURBQ3pCLEtBQUssS0FBSyxPQUFPO0FBQUEsVUFDakQsS0FBSyxrQkFBa0IsU0FBUyxJQUNoQyx5Q0FBa0MsS0FBSyxrQkFBa0IsVUFBVSxFQUFFLHNCQUFzQixLQUFLLE9BQU8sU0FBUyxRQUFRLGFBQ3RIO0FBQUEsdUNBQzJCLEtBQUssZ0JBQWdCLEtBQUssU0FBUztBQUFBO0FBSXBFLFlBQU0sVUFBVSxPQUFPLFVBQVUsRUFBRSxLQUFLLHVCQUF1QixDQUFDO0FBR2hFLFVBQUksa0NBQWdCLE9BQU8sRUFDeEIsY0FBYyxFQUFFLHdCQUF3QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFDdEUsUUFBUSxZQUFZLEVBQ3BCLFFBQVEsWUFBWTtBQUNuQixjQUFNLEtBQUssWUFBWSxJQUFJO0FBQUEsTUFDN0IsQ0FBQztBQUdILFVBQUksa0NBQWdCLE9BQU8sRUFDeEIsUUFBUSxlQUFlLEVBQ3ZCLFFBQVEsQ0FBQyxNQUFNO0FBQ2QsYUFBSyxhQUFhLEdBQUcsSUFBSTtBQUFBLE1BQzNCLENBQUM7QUFBQSxJQUNMLENBQUM7QUFBQSxFQUNIO0FBQUEsRUFFUSxtQkFBbUIsV0FBd0IsT0FBYztBQUMvRCxVQUFNLFVBQVUsVUFBVSxVQUFVLEVBQUUsS0FBSyxrQkFBa0IsQ0FBQztBQUU5RCxVQUFNLFNBQVMsUUFBUSxVQUFVLEVBQUUsS0FBSyxpQkFBaUIsQ0FBQztBQUMxRCxXQUFPLFlBQVk7QUFBQSxzQkFDUixFQUFFLHNCQUFzQixLQUFLLE9BQU8sU0FBUyxRQUFRLE1BQU0sTUFBTTtBQUFBO0FBRzVFLFVBQU0sT0FBTyxRQUFRLFVBQVUsRUFBRSxLQUFLLGVBQWUsQ0FBQztBQUV0RCxVQUFNLFFBQVEsQ0FBQyxTQUFTO0FBQ3RCLFlBQU0sU0FBUyxLQUFLLFVBQVUsRUFBRSxLQUFLLGVBQWUsQ0FBQztBQUdyRCxZQUFNLE9BQU8sT0FBTyxVQUFVLEVBQUUsS0FBSyxvQkFBb0IsQ0FBQztBQUUxRCxZQUFNLFVBQVUsS0FBSyxVQUFVLEVBQUUsS0FBSyx1QkFBdUIsQ0FBQztBQUM5RCxjQUFRLFlBQVk7QUFBQSxzREFDNEIsS0FBSyxRQUFRLE1BQU0sVUFBVSxHQUFHLEdBQUc7QUFBQSxxREFFL0UsT0FBTyxLQUFLLFFBQVEsU0FBUyxXQUN6QixLQUFLLFFBQVEsS0FBSyxVQUFVLEdBQUcsR0FBRyxJQUNsQyxLQUFLLFFBQVE7QUFBQTtBQUlyQixZQUFNLE9BQU8sS0FBSyxVQUFVLEVBQUUsS0FBSyxvQkFBb0IsQ0FBQztBQUN4RCxXQUFLLFlBQVk7QUFBQSxxQ0FDYyxLQUFLLFdBQVcsS0FBSyxTQUFTO0FBQUEsaURBQ3pCLEtBQUssUUFBUTtBQUFBLHFDQUNsQixLQUFLLFFBQVEsYUFBYSxPQUFPLFFBQVEsRUFBRSxvQkFBb0IsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUFBLHVDQUMxRixLQUFLLGdCQUFnQixLQUFLLFNBQVM7QUFBQTtBQUlwRSxZQUFNLFVBQVUsT0FBTyxVQUFVLEVBQUUsS0FBSyx1QkFBdUIsQ0FBQztBQUdoRSxVQUFJLGtDQUFnQixPQUFPLEVBQ3hCLGNBQWMsRUFBRSx3QkFBd0IsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDLEVBQ3RFLFFBQVEsWUFBWSxFQUNwQixRQUFRLFlBQVk7QUFDbkIsY0FBTSxLQUFLLFlBQVksSUFBSTtBQUFBLE1BQzdCLENBQUM7QUFHSCxVQUFJLGtDQUFnQixPQUFPLEVBQ3hCLFFBQVEsZUFBZSxFQUN2QixRQUFRLENBQUMsTUFBTTtBQUNkLGFBQUssYUFBYSxHQUFHLElBQUk7QUFBQSxNQUMzQixDQUFDO0FBQUEsSUFDTCxDQUFDO0FBQUEsRUFDSDtBQUFBLEVBRVEsYUFBYSxPQUFtQixNQUFXO0FBQ2pELFVBQU0sT0FBTyxJQUFJLHVCQUFLO0FBRXRCLFNBQUs7QUFBQSxNQUFRLENBQUMsYUFDWixTQUNHLFNBQVMsRUFBRSx3QkFBd0IsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDLEVBQ2pFLFFBQVEsWUFBWSxFQUNwQixRQUFRLFlBQVk7QUFDbkIsY0FBTSxLQUFLLFlBQVksSUFBSTtBQUFBLE1BQzdCLENBQUM7QUFBQSxJQUNMO0FBRUEsU0FBSztBQUFBLE1BQVEsQ0FBQyxhQUNaLFNBQ0csU0FBUyxFQUFFLGtDQUFrQyxLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFDM0UsUUFBUSxPQUFPLEVBQ2YsV0FBVyxJQUFJLEVBQ2YsUUFBUSxZQUFZO0FBQ25CLGNBQU0sS0FBSyxzQkFBc0IsSUFBSTtBQUFBLE1BQ3ZDLENBQUM7QUFBQSxJQUNMO0FBRUEsU0FBSyxpQkFBaUIsS0FBSztBQUFBLEVBQzdCO0FBQUEsRUFFUSxhQUFhLE9BQW1CLE1BQVc7QUFDakQsVUFBTSxPQUFPLElBQUksdUJBQUs7QUFFdEIsU0FBSztBQUFBLE1BQVEsQ0FBQyxhQUNaLFNBQ0csU0FBUyxFQUFFLHdCQUF3QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFDakUsUUFBUSxZQUFZLEVBQ3BCLFFBQVEsWUFBWTtBQUNuQixjQUFNLEtBQUssWUFBWSxJQUFJO0FBQUEsTUFDN0IsQ0FBQztBQUFBLElBQ0w7QUFFQSxTQUFLO0FBQUEsTUFBUSxDQUFDLGFBQ1osU0FDRyxTQUFTLEVBQUUsa0NBQWtDLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQyxFQUMzRSxRQUFRLE9BQU8sRUFDZixXQUFXLElBQUksRUFDZixRQUFRLFlBQVk7QUFDbkIsY0FBTSxLQUFLLHNCQUFzQixJQUFJO0FBQUEsTUFDdkMsQ0FBQztBQUFBLElBQ0w7QUFFQSxTQUFLLGlCQUFpQixLQUFLO0FBQUEsRUFDN0I7QUFBQSxFQUVBLE1BQWMsWUFBWSxNQUFXO0FBRW5DLFVBQU0sVUFBVSxNQUFNLEtBQUssT0FBTyxZQUFZLG1CQUFtQixJQUFJO0FBQ3JFLFFBQUksU0FBUztBQUVYLFVBQUksS0FBSyxxQkFBcUIsS0FBSyxrQkFBa0IsU0FBUyxHQUFHO0FBQy9ELGNBQU0sV0FBVyxNQUFNLEtBQUssdUJBQXVCLEtBQUssaUJBQWlCO0FBQ3pFLFlBQUksV0FBVyxHQUFHO0FBQ2hCLGNBQUkseUJBQU8sRUFBRSx1QkFBdUIsS0FBSyxPQUFPLFNBQVMsUUFBUSxJQUMvRCxLQUFLLFlBQVksRUFBRSxzQkFBc0IsS0FBSyxPQUFPLFNBQVMsUUFBUSxLQUFLLEVBQUUsdUJBQXVCLEtBQUssT0FBTyxTQUFTLFFBQVEsSUFBSTtBQUFBLFFBQ3pJLE9BQU87QUFDTCxjQUFJLHlCQUFPLEVBQUUsdUJBQXVCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUFBLFFBQ3BFO0FBQUEsTUFDRixPQUFPO0FBQ0wsWUFBSSx5QkFBTyxFQUFFLHVCQUF1QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUM7QUFBQSxNQUNwRTtBQUVBLFdBQUssT0FBTztBQUNaLFdBQUssT0FBTyxnQkFBZ0I7QUFBQSxJQUM5QixPQUFPO0FBQ0wsVUFBSSx5QkFBTyxFQUFFLHdCQUF3QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUM7QUFBQSxJQUNyRTtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQWMsWUFBWSxNQUFXO0FBQ25DLFVBQU0sVUFBVSxNQUFNLEtBQUssT0FBTyxpQkFBaUIsaUJBQWlCLElBQUk7QUFFeEUsUUFBSSxTQUFTO0FBQ1gsVUFBSSx5QkFBTyxFQUFFLHVCQUF1QixLQUFLLE9BQU8sU0FBUyxRQUFRLENBQUM7QUFDbEUsV0FBSyxPQUFPO0FBQ1osV0FBSyxPQUFPLGdCQUFnQjtBQUFBLElBQzlCLE9BQU87QUFDTCxVQUFJLHlCQUFPLEVBQUUsd0JBQXdCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUFBLElBQ3JFO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYyxzQkFBc0IsTUFBVztBQUM3QyxVQUFNLFVBQVUsTUFBTSxLQUFLLE9BQU8sWUFBWSw2QkFBNkIsS0FBSyxFQUFFO0FBRWxGLFFBQUksU0FBUztBQUNYLFVBQUkseUJBQU8sRUFBRSw2QkFBNkIsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDO0FBQ3hFLFdBQUssT0FBTztBQUFBLElBQ2QsT0FBTztBQUNMLFVBQUkseUJBQU8sRUFBRSx1QkFBdUIsS0FBSyxPQUFPLFNBQVMsUUFBUSxDQUFDO0FBQUEsSUFDcEU7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFjLHNCQUFzQixNQUFXO0FBQzdDLFVBQU0sVUFBVSxNQUFNLEtBQUssT0FBTyxpQkFBaUIsMkJBQTJCLEtBQUssRUFBRTtBQUVyRixRQUFJLFNBQVM7QUFDWCxVQUFJLHlCQUFPLEVBQUUsNkJBQTZCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUN4RSxXQUFLLE9BQU87QUFBQSxJQUNkLE9BQU87QUFDTCxVQUFJLHlCQUFPLEVBQUUsdUJBQXVCLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUFBLElBQ3BFO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBYyx1QkFBdUIsU0FBb0M7QUFFdkUsVUFBTSxlQUFlLEtBQUssT0FBTyxpQkFBaUIsbUJBQW1CO0FBRXJFLFFBQUksV0FBVztBQUVmLGVBQVcsVUFBVSxTQUFTO0FBQzVCLFlBQU0sY0FBYyxhQUFhLEtBQUssVUFBUSxLQUFLLE9BQU8sTUFBTTtBQUVoRSxVQUFJLGFBQWE7QUFDZixjQUFNLFVBQVUsTUFBTSxLQUFLLE9BQU8saUJBQWlCLGlCQUFpQixXQUFXO0FBQy9FLFlBQUk7QUFBUztBQUFBLE1BQ2YsT0FBTztBQUFBLE1BQ1A7QUFBQSxJQUNGO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUVBLE1BQWMsV0FBVztBQUN2QixVQUFNLGFBQWEsTUFBTSxLQUFLLE9BQU8sWUFBWSxtQkFBbUI7QUFDcEUsVUFBTSxhQUFhLE1BQU0sS0FBSyxPQUFPLGlCQUFpQixtQkFBbUI7QUFFekUsUUFBSSx5QkFBTyxFQUFFLHFCQUFxQixLQUFLLE9BQU8sU0FBUyxVQUFVO0FBQUEsTUFDL0QsT0FBTztBQUFBLE1BQ1AsT0FBTztBQUFBLElBQ1QsQ0FBQyxDQUFDO0FBRUYsU0FBSyxPQUFPO0FBQUEsRUFDZDtBQUFBLEVBRVEsV0FBVztBQUNqQixVQUFNLGVBQWUsS0FBSyxPQUFPLFlBQVksd0JBQXdCO0FBQ3JFLFVBQU0sZUFBZSxLQUFLLE9BQU8saUJBQWlCLG1CQUFtQjtBQUVyRSxXQUFPO0FBQUEsTUFDTCxPQUFPLGFBQWE7QUFBQSxNQUNwQixPQUFPLGFBQWE7QUFBQSxJQUN0QjtBQUFBLEVBQ0Y7QUFBQSxFQUVRLFdBQVcsV0FBMkI7QUFDNUMsVUFBTSxNQUFNLEtBQUssSUFBSTtBQUNyQixVQUFNLE9BQU8sTUFBTTtBQUVuQixVQUFNLFVBQVUsS0FBSyxNQUFNLE9BQU8sR0FBSztBQUN2QyxVQUFNLFFBQVEsS0FBSyxNQUFNLE9BQU8sSUFBTztBQUN2QyxVQUFNLE9BQU8sS0FBSyxNQUFNLE9BQU8sS0FBUTtBQUV2QyxRQUFJLFVBQVU7QUFBRyxhQUFPLEVBQUUsZ0JBQWdCLEtBQUssT0FBTyxTQUFTLFFBQVE7QUFDdkUsUUFBSSxVQUFVO0FBQUksYUFBTyxFQUFFLG1CQUFtQixLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQUUsUUFBUSxDQUFDO0FBQ3hGLFFBQUksUUFBUTtBQUFJLGFBQU8sRUFBRSxpQkFBaUIsS0FBSyxPQUFPLFNBQVMsVUFBVSxFQUFFLE1BQU0sQ0FBQztBQUNsRixXQUFPLEVBQUUsZ0JBQWdCLEtBQUssT0FBTyxTQUFTLFVBQVUsRUFBRSxLQUFLLENBQUM7QUFBQSxFQUNsRTtBQUFBLEVBRVEsZ0JBQWdCLFFBQXdCO0FBQzlDLFVBQU0sVUFBa0M7QUFBQSxNQUN0QyxnQkFBZ0IsRUFBRSxxQkFBcUIsS0FBSyxPQUFPLFNBQVMsUUFBUTtBQUFBLE1BQ3BFLGdCQUFnQixFQUFFLHFCQUFxQixLQUFLLE9BQU8sU0FBUyxRQUFRO0FBQUEsTUFDcEUsZ0JBQWdCLEVBQUUscUJBQXFCLEtBQUssT0FBTyxTQUFTLFFBQVE7QUFBQSxJQUN0RTtBQUNBLFdBQU8sUUFBUSxNQUFNLEtBQUs7QUFBQSxFQUM1QjtBQUNGOzs7QS9CblZBLElBQU0sbUJBQTJDO0FBQUEsRUFDL0MsbUJBQW1CO0FBQUEsRUFDbkIsVUFBVTtBQUFBLEVBQ1YsYUFBYTtBQUFBLEVBQ2IsV0FBVztBQUFBO0FBRWI7QUFFQSxJQUFxQix1QkFBckIsY0FBa0QseUJBQU87QUFBQSxFQVV2RCxNQUFNLFNBQVM7QUFDYixZQUFRLElBQUksZ0NBQWdDO0FBRTVDLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFNBQUsscUJBQXFCO0FBRzFCLFNBQUssZUFBZSxJQUFJLGFBQWEsS0FBSyxLQUFLLElBQUk7QUFDbkQsVUFBTSxLQUFLLGFBQWEsV0FBVztBQUduQyxTQUFLLGNBQWMsSUFBSSxZQUFZLEtBQUssS0FBSyxJQUFJO0FBQ2pELFVBQU0sS0FBSyxZQUFZLFdBQVc7QUFFbEMsU0FBSyxvQkFBb0IsSUFBSSxrQkFBa0IsS0FBSyxLQUFLLElBQUk7QUFDN0QsVUFBTSxLQUFLLGtCQUFrQixXQUFXO0FBRXhDLFNBQUssbUJBQW1CLElBQUk7QUFBQSxNQUMxQixLQUFLO0FBQUEsTUFDTCxLQUFLO0FBQUEsTUFDTDtBQUFBLElBQ0Y7QUFDQSxVQUFNLEtBQUssaUJBQWlCLFdBQVc7QUFFdkMsU0FBSyxtQkFBbUIsSUFBSTtBQUFBLE1BQzFCLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUdBLFNBQUs7QUFBQSxNQUNIO0FBQUEsTUFDQSxDQUFDLFNBQVMsSUFBSSxvQkFBb0IsTUFBTSxNQUFNLEtBQUs7QUFBQSxJQUNyRDtBQUVBLFNBQUs7QUFBQSxNQUNIO0FBQUEsTUFDQSxDQUFDLFNBQVMsSUFBSSxvQkFBb0IsTUFBTSxNQUFNLElBQUk7QUFBQSxJQUNwRDtBQUVBLFNBQUs7QUFBQSxNQUNIO0FBQUEsTUFDQSxDQUFDLFNBQVMsSUFBSSxXQUFXLE1BQU0sSUFBSTtBQUFBLElBQ3JDO0FBRUEsU0FBSztBQUFBLE1BQ0g7QUFBQSxNQUNBLENBQUMsU0FBUyxJQUFJLFVBQVUsTUFBTSxJQUFJO0FBQUEsSUFDcEM7QUFHSixTQUFLO0FBQUEsTUFDSCxLQUFLLElBQUksTUFBTSxHQUFHLFVBQVUsT0FBTyxTQUFTO0FBQzFDLFlBQUksZ0JBQWdCLDJCQUFTLEtBQUssY0FBYyxNQUFNO0FBQ3BELGdCQUFNLFFBQVEsVUFBVSxtQkFBbUIsS0FBSyxNQUFNLElBQUk7QUFFMUQsY0FBSSxNQUFNLFFBQVEsS0FBSyxNQUFNLFFBQVEsR0FBRztBQUV0QyxrQkFBTSxRQUFRLEtBQUssWUFBWSxtQkFBbUIsRUFDL0MsT0FBTyxPQUFLLEVBQUUsT0FBTyxTQUFTLEtBQUssSUFBSTtBQUUxQyx1QkFBVyxRQUFRLE9BQU87QUFFeEIseUJBQVcsVUFBVSxLQUFLLGNBQWM7QUFDdEMsc0JBQU0sS0FBSyxpQkFBaUIsV0FBVyxRQUFRLGNBQWM7QUFBQSxjQUMvRDtBQUVBLG9CQUFNLEtBQUssWUFBWSxrQkFBa0IsS0FBSyxJQUFJLGNBQWM7QUFBQSxZQUNsRTtBQUdBLGdCQUFJLHlCQUFPLEVBQUUsNEJBQTRCLEtBQUssU0FBUyxVQUFVO0FBQUEsY0FDL0QsT0FBTyxNQUFNO0FBQUEsY0FDYixPQUFPLE1BQU07QUFBQSxZQUNmLENBQUMsR0FBRyxHQUFJO0FBQUEsVUFFVjtBQUFBLFFBQ0Y7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBRUksU0FBSyxjQUFjLElBQUksWUFBWSxLQUFLLEtBQUssSUFBSSxDQUFDO0FBR2xELFNBQUssWUFBWTtBQUVyQixTQUFLO0FBQUEsTUFDSCxLQUFLLElBQUksVUFBVSxHQUFHLGVBQWUsQ0FBQyxNQUFNLFFBQVEsU0FBUztBQUMzRCxZQUFJLGdCQUFnQixrQ0FBZ0IsS0FBSyxNQUFNO0FBQzdDLGVBQUssaUJBQWlCLG9CQUFvQixNQUFNLFFBQVEsS0FBSyxJQUFJO0FBQUEsUUFDbkU7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBRUksU0FBSyxjQUFjLGVBQWUsbUNBQW1DLE1BQU07QUFDekUsV0FBSyx3QkFBd0I7QUFBQSxJQUMvQixDQUFDO0FBRUQsU0FBSyxjQUFjLFVBQVUsZ0JBQWdCLE1BQU07QUFDakQsVUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGVBQWUsY0FBYyxHQUFHO0FBQ25FO0FBQUEsTUFDRjtBQUNBLFdBQUssZUFBZTtBQUFBLElBQ3RCLENBQUM7QUFHRCxTQUFLLGVBQWU7QUFFcEIsU0FBSyxrQkFBa0IsSUFBSSxnQkFBZ0IsSUFBSTtBQUUvQyxZQUFRLElBQUksK0JBQStCO0FBQUEsRUFDN0M7QUFBQSxFQUVBLFdBQVc7QUFDVCxZQUFRLElBQUksa0NBQWtDO0FBTTlDLFVBQU0sVUFBVSxTQUFTLGVBQWUsMEJBQTBCO0FBQ2xFLFFBQUksU0FBUztBQUNYLGNBQVEsT0FBTztBQUFBLElBQ2pCO0FBQUEsRUFDRjtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ25CLFVBQU0sT0FBTyxNQUFNLEtBQUssU0FBUztBQUNqQyxTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsSUFBSTtBQUV4RCxTQUFLLHFCQUFxQjtBQUFBLEVBQzVCO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDbkIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbkM7QUFBQSxFQUVRLGNBQWM7QUFDcEIsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFFeEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGFBQWEsbUJBQW1CLEdBQUc7QUFDdEU7QUFBQSxRQUNGO0FBQ0ksY0FBTSxhQUFhLEtBQUssSUFBSSxVQUFVLGNBQWM7QUFDcEQsWUFBSSxDQUFDO0FBQVk7QUFDakIsY0FBTSxLQUFLLGlCQUFpQixTQUFTLFVBQVU7QUFDL0MsYUFBSyxnQkFBZ0I7QUFBQSxNQUN2QjtBQUFBLElBQ0YsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2QsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxZQUFZO0FBRXhCLFlBQUksQ0FBQyxLQUFLLGFBQWEsY0FBYyxjQUFjLG1CQUFtQixHQUFHO0FBQ3ZFO0FBQUEsUUFDRjtBQUNJLGNBQU0sS0FBSyxpQkFBaUIsVUFBVTtBQUN0QyxhQUFLLGdCQUFnQjtBQUFBLE1BQ3ZCO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDZCxhQUFLLHdCQUF3QjtBQUFBLE1BQy9CO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFFeEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLHVCQUF1QixzQ0FBc0MsR0FBRztBQUNuRztBQUFBLFFBQ0Y7QUFDSSxjQUFNLEtBQUssZUFBZTtBQUFBLE1BQzVCO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFFeEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGNBQWMsaUJBQWlCLEdBQUc7QUFDckU7QUFBQSxRQUNGO0FBQ0ksY0FBTSxhQUFhLEtBQUssSUFBSSxVQUFVLGNBQWM7QUFDcEQsWUFBSSxDQUFDO0FBQVk7QUFFakIsY0FBTSxFQUFFLHFCQUFBQyxxQkFBb0IsSUFBSSxNQUFNO0FBQ3RDLGNBQU0sUUFBUSxJQUFJQTtBQUFBLFVBQ2hCLEtBQUs7QUFBQSxVQUNMO0FBQUEsVUFDQSxXQUFXO0FBQUEsVUFDWCxNQUFNLEtBQUssZ0JBQWdCO0FBQUEsUUFDN0I7QUFDQSxjQUFNLEtBQUs7QUFBQSxNQUNiO0FBQUEsSUFDRixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFFbEIsWUFBSSxDQUFDLEtBQUssYUFBYSxjQUFjLGVBQWUsa0JBQWtCLEdBQUc7QUFDdkU7QUFBQSxRQUNGO0FBQ0ksYUFBSyxlQUFlO0FBQUEsTUFDdEI7QUFBQSxJQUNGLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUVsQixZQUFJLENBQUMsS0FBSyxhQUFhLGNBQWMsY0FBYyxZQUFZLEdBQUc7QUFDaEU7QUFBQSxRQUNGO0FBRUksYUFBSyxjQUFjO0FBQUEsTUFDckI7QUFBQSxJQUNGLENBQUM7QUFDRCxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsWUFBWTtBQUNwQixhQUFLLHlCQUF5QjtBQUFBLE1BQ2hDO0FBQUEsSUFFRixDQUFDO0FBQUEsRUFFSDtBQUFBLEVBQ0EsTUFBTSwyQkFBMkI7QUFDL0IsVUFBTSxRQUFRLElBQUkscUJBQXFCLElBQUk7QUFDM0MsVUFBTSxLQUFLO0FBQUEsRUFDYjtBQUFBLEVBRUEsTUFBTSxtQkFBbUI7QUFDdkIsVUFBTSxFQUFFLFVBQVUsSUFBSSxLQUFLO0FBRzNCLFFBQUksT0FBTyxVQUFVLGdCQUFnQix1QkFBdUIsRUFBRSxDQUFDO0FBRS9ELFFBQUksQ0FBQyxNQUFNO0FBRVQsYUFBTyxVQUFVLFFBQVEsS0FBSztBQUM5QixZQUFNLEtBQUssYUFBYTtBQUFBLFFBQ3RCLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxNQUNWLENBQUM7QUFBQSxJQUNIO0FBRUEsY0FBVSxXQUFXLElBQUk7QUFBQSxFQUMzQjtBQUFBLEVBRUEsTUFBTSxpQkFBaUI7QUFDckIsVUFBTSxFQUFFLFVBQVUsSUFBSSxLQUFLO0FBQzNCLFVBQU0saUJBQWlCLFVBQVUsZ0JBQWdCLHVCQUF1QjtBQUd4RSxVQUFNLGFBQWEsVUFBVTtBQUM3QixVQUFNLHVCQUF1QixjQUMzQixXQUFXLEtBQUssWUFBWSxNQUFNO0FBRXBDLFFBQUksZUFBZSxTQUFTLEtBQUssc0JBQXNCO0FBRXJELHFCQUFlLFFBQVEsVUFBUTtBQUM3QixhQUFLLE9BQU87QUFBQSxNQUNkLENBQUM7QUFBQSxJQUNILFdBQVcsZUFBZSxTQUFTLEtBQUssQ0FBQyxzQkFBc0I7QUFFN0QsZ0JBQVUsV0FBVyxlQUFlLENBQUMsQ0FBQztBQUFBLElBQ3hDLE9BQU87QUFFTCxZQUFNLE9BQU8sVUFBVSxRQUFRLEtBQUs7QUFDcEMsWUFBTSxLQUFLLGFBQWE7QUFBQSxRQUN0QixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsTUFDVixDQUFDO0FBQ0QsZ0JBQVUsV0FBVyxJQUFJO0FBQUEsSUFDM0I7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFNLDBCQUEwQjtBQUM5QixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFFM0IsUUFBSSxPQUE2QjtBQUNqQyxVQUFNLFNBQVMsVUFBVSxnQkFBZ0IsMEJBQTBCO0FBRW5FLFFBQUksT0FBTyxTQUFTLEdBQUc7QUFDckIsYUFBTyxPQUFPLENBQUM7QUFBQSxJQUNqQixPQUFPO0FBRUwsYUFBTyxVQUFVLGFBQWEsS0FBSztBQUNuQyxhQUFNLDZCQUFNLGFBQWE7QUFBQSxRQUN2QixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFFQSxRQUFJLE1BQU07QUFDUixnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMzQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0saUJBQWlCO0FBQ3JCLFVBQU0sUUFBUSxLQUFLLGlCQUFpQixTQUFTO0FBRTdDLFFBQUksTUFBTSxRQUFRLEdBQUc7QUFDbkIsVUFBSSx5QkFBTywwQkFBMEI7QUFDckM7QUFBQSxJQUNGO0FBRUEsVUFBTSxFQUFFLFVBQVUsSUFBSSxLQUFLO0FBQzNCLFFBQUksT0FBNkI7QUFDakMsVUFBTSxTQUFTLFVBQVUsZ0JBQWdCLGdCQUFnQjtBQUV6RCxRQUFJLE9BQU8sU0FBUyxHQUFHO0FBQ3JCLGFBQU8sT0FBTyxDQUFDO0FBQUEsSUFDakIsT0FBTztBQUNMLGFBQU8sVUFBVSxRQUFRLElBQUk7QUFDN0IsYUFBTSw2QkFBTSxhQUFhO0FBQUEsUUFDdkIsTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLE1BQ1Y7QUFBQSxJQUNGO0FBRUEsUUFBSSxNQUFNO0FBQ1IsZ0JBQVUsV0FBVyxJQUFJO0FBQUEsSUFDM0I7QUFBQSxFQUNGO0FBQUEsRUFFQSxNQUFNLGdCQUFnQjtBQUNwQixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFDM0IsUUFBSSxPQUE2QjtBQUNqQyxVQUFNLFNBQVMsVUFBVSxnQkFBZ0IsZUFBZTtBQUV4RCxRQUFJLE9BQU8sU0FBUyxHQUFHO0FBQ3JCLGFBQU8sT0FBTyxDQUFDO0FBQUEsSUFDakIsT0FBTztBQUNMLGFBQU8sVUFBVSxRQUFRLEtBQUs7QUFDOUIsYUFBTSw2QkFBTSxhQUFhO0FBQUEsUUFDdkIsTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLE1BQ1Y7QUFBQSxJQUNGO0FBRUEsUUFBSSxNQUFNO0FBQ1IsZ0JBQVUsV0FBVyxJQUFJO0FBQUEsSUFDM0I7QUFBQSxFQUNGO0FBQUEsRUFFQSxrQkFBa0I7QUFFaEIsVUFBTSxnQkFBZ0IsS0FBSyxJQUFJLFVBQVUsZ0JBQWdCLDBCQUEwQjtBQUNuRixrQkFBYyxRQUFRLFVBQVE7QUFDNUIsWUFBTSxPQUFPLEtBQUs7QUFDbEIsVUFBSSxRQUFRLE9BQU8sS0FBSyxZQUFZLFlBQVk7QUFDOUMsYUFBSyxRQUFRO0FBQUEsTUFDZjtBQUFBLElBQ0YsQ0FBQztBQUdELFVBQU0sYUFBYSxLQUFLLElBQUksVUFBVSxnQkFBZ0IsdUJBQXVCO0FBQzdFLGVBQVcsUUFBUSxVQUFRO0FBQ3pCLFlBQU0sT0FBTyxLQUFLO0FBQ2xCLFVBQUksUUFBUSxPQUFPLEtBQUssWUFBWSxZQUFZO0FBQzlDLGFBQUssUUFBUTtBQUFBLE1BQ2Y7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQUEsRUFFUSxpQkFBaUI7QUFDdkIsVUFBTSxnQkFBZ0IsS0FBSyxpQkFBaUI7QUFDNUMsa0JBQWMsU0FBUyx3QkFBd0I7QUFFL0MsVUFBTSxlQUFlLE1BQU07QUFDekIsWUFBTSxRQUFRLEtBQUssaUJBQWlCLFNBQVM7QUFDN0Msb0JBQWMsUUFBUSxhQUFNLE1BQU0sU0FBUztBQUMzQyxvQkFBYyxRQUFRLEdBQUcsTUFBTTtBQUFBLEVBQTZCLE1BQU07QUFBQSxJQUNwRTtBQUdBLGlCQUFhO0FBR2IsU0FBSztBQUFBLE1BQ0gsT0FBTyxZQUFZLGNBQWMsR0FBSztBQUFBLElBQ3hDO0FBR0Esa0JBQWMsaUJBQWlCLFNBQVMsTUFBTTtBQUM1QyxXQUFLLGVBQWU7QUFBQSxJQUN0QixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUEsRUFHTywwQkFBbUM7QUFDeEMsV0FBTyxLQUFLLElBQUksVUFBVSxnQkFBZ0IsMEJBQTBCLEVBQUUsU0FBUztBQUFBLEVBQ2pGO0FBQUEsRUFFTyx1QkFBZ0M7QUFDckMsV0FBTyxLQUFLLElBQUksVUFBVSxnQkFBZ0IsdUJBQXVCLEVBQUUsU0FBUztBQUFBLEVBQzlFO0FBQUEsRUFDUSx1QkFBdUI7QUFFN0IsVUFBTSxlQUFnQixLQUFLLElBQVksTUFBTSxVQUFVLFVBQVUsS0FDNUMsYUFBYSxRQUFRLFVBQVUsS0FDL0I7QUFHckIsVUFBTSxlQUErQixhQUFhLFdBQVcsSUFBSSxJQUFJLFVBQVU7QUFHL0UsUUFBSSxDQUFDLEtBQUssU0FBUyxZQUFZLEtBQUssU0FBUyxhQUFhLGNBQWM7QUFDdEUsV0FBSyxTQUFTLFdBQVc7QUFDekIsV0FBSyxhQUFhO0FBQUEsSUFDcEI7QUFBQSxFQUNGO0FBQ0Y7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJjb3VudCIsICJjYXJkcyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJ1bml0cyIsICJ1bml0IiwgImNhcmQiLCAiaW1wb3J0X29ic2lkaWFuIiwgInNpbWlsYXJpdHkiLCAidCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiX2EiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJyZXN1bHQiLCAiZXh0cmFjdGVkVGFibGUiLCAidW5pdCIsICJpdGVtIiwgImltcG9ydF9vYnNpZGlhbiIsICJGaWxlQW5ub3RhdGlvbk1vZGFsIl0KfQo=
